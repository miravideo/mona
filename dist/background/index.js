{ /* eslint-disable no-unused-vars */

/**
 * This file is used by entire `src` except `injected`.
 * `global` is used instead of WebPack's polyfill which we disable in webpack.conf.js.
 * `safeCall` is used by our modified babel-plugin-safe-bind.js.
 * Standard globals are extracted for better minification and marginally improved lookup speed.
 * Not exporting NodeJS built-in globals as this file is imported in the test scripts.
 */
const global = function _() {
  return this || globalThis; // eslint-disable-line no-undef
}();

const {
  Boolean,
  Error,
  Object,
  Promise,
  document,
  window
} = global;
const PromiseSafe = Promise; // alias used by browser.js

const ErrorSafe = Error; // alias used by browser.js

const {
  hasOwnProperty,
  toString: objectToString
} = {};
const safeCall = Object.call.bind(Object.call);
const IS_FIREFOX = !global.chrome.app;/******/ (function(modules) { // webpackBootstrap
/******/ 	// install a JSONP callback for chunk loading
/******/ 	function webpackJsonpCallback(data) {
/******/ 		var chunkIds = data[0];
/******/ 		var moreModules = data[1];
/******/ 		var executeModules = data[2];
/******/
/******/ 		// add "moreModules" to the modules object,
/******/ 		// then flag all "chunkIds" as loaded and fire callback
/******/ 		var moduleId, chunkId, i = 0, resolves = [];
/******/ 		for(;i < chunkIds.length; i++) {
/******/ 			chunkId = chunkIds[i];
/******/ 			if(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {
/******/ 				resolves.push(installedChunks[chunkId][0]);
/******/ 			}
/******/ 			installedChunks[chunkId] = 0;
/******/ 		}
/******/ 		for(moduleId in moreModules) {
/******/ 			if(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {
/******/ 				modules[moduleId] = moreModules[moduleId];
/******/ 			}
/******/ 		}
/******/ 		if(parentJsonpFunction) parentJsonpFunction(data);
/******/
/******/ 		while(resolves.length) {
/******/ 			resolves.shift()();
/******/ 		}
/******/
/******/ 		// add entry modules from loaded chunk to deferred list
/******/ 		deferredModules.push.apply(deferredModules, executeModules || []);
/******/
/******/ 		// run deferred modules when all chunks ready
/******/ 		return checkDeferredModules();
/******/ 	};
/******/ 	function checkDeferredModules() {
/******/ 		var result;
/******/ 		for(var i = 0; i < deferredModules.length; i++) {
/******/ 			var deferredModule = deferredModules[i];
/******/ 			var fulfilled = true;
/******/ 			for(var j = 1; j < deferredModule.length; j++) {
/******/ 				var depId = deferredModule[j];
/******/ 				if(installedChunks[depId] !== 0) fulfilled = false;
/******/ 			}
/******/ 			if(fulfilled) {
/******/ 				deferredModules.splice(i--, 1);
/******/ 				result = __webpack_require__(__webpack_require__.s = deferredModule[0]);
/******/ 			}
/******/ 		}
/******/
/******/ 		return result;
/******/ 	}
/******/
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// object to store loaded and loading chunks
/******/ 	// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 	// Promise = chunk loading, 0 = chunk loaded
/******/ 	var installedChunks = {
/******/ 		"background/index": 0
/******/ 	};
/******/
/******/ 	var deferredModules = [];
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	var jsonpArray = window["webpackJsonp"] = window["webpackJsonp"] || [];
/******/ 	var oldJsonpFunction = jsonpArray.push.bind(jsonpArray);
/******/ 	jsonpArray.push = webpackJsonpCallback;
/******/ 	jsonpArray = jsonpArray.slice();
/******/ 	for(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);
/******/ 	var parentJsonpFunction = oldJsonpFunction;
/******/
/******/
/******/ 	// add entry module to deferred list
/******/ 	deferredModules.push(["./src/background/index.js","public/lib/tldjs","common"]);
/******/ 	// run deferred modules when ready
/******/ 	return checkDeferredModules();
/******/ })
/************************************************************************/
/******/ ({

/***/ "./node_modules/base64-js/index.js":
/*!*****************************************!*\
  !*** ./node_modules/base64-js/index.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.byteLength = byteLength
exports.toByteArray = toByteArray
exports.fromByteArray = fromByteArray

var lookup = []
var revLookup = []
var Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array

var code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'
for (var i = 0, len = code.length; i < len; ++i) {
  lookup[i] = code[i]
  revLookup[code.charCodeAt(i)] = i
}

// Support decoding URL-safe base64 strings, as Node.js does.
// See: https://en.wikipedia.org/wiki/Base64#URL_applications
revLookup['-'.charCodeAt(0)] = 62
revLookup['_'.charCodeAt(0)] = 63

function getLens (b64) {
  var len = b64.length

  if (len % 4 > 0) {
    throw new Error('Invalid string. Length must be a multiple of 4')
  }

  // Trim off extra bytes after placeholder bytes are found
  // See: https://github.com/beatgammit/base64-js/issues/42
  var validLen = b64.indexOf('=')
  if (validLen === -1) validLen = len

  var placeHoldersLen = validLen === len
    ? 0
    : 4 - (validLen % 4)

  return [validLen, placeHoldersLen]
}

// base64 is 4/3 + up to two characters of the original data
function byteLength (b64) {
  var lens = getLens(b64)
  var validLen = lens[0]
  var placeHoldersLen = lens[1]
  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen
}

function _byteLength (b64, validLen, placeHoldersLen) {
  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen
}

function toByteArray (b64) {
  var tmp
  var lens = getLens(b64)
  var validLen = lens[0]
  var placeHoldersLen = lens[1]

  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))

  var curByte = 0

  // if there are placeholders, only get up to the last complete 4 chars
  var len = placeHoldersLen > 0
    ? validLen - 4
    : validLen

  var i
  for (i = 0; i < len; i += 4) {
    tmp =
      (revLookup[b64.charCodeAt(i)] << 18) |
      (revLookup[b64.charCodeAt(i + 1)] << 12) |
      (revLookup[b64.charCodeAt(i + 2)] << 6) |
      revLookup[b64.charCodeAt(i + 3)]
    arr[curByte++] = (tmp >> 16) & 0xFF
    arr[curByte++] = (tmp >> 8) & 0xFF
    arr[curByte++] = tmp & 0xFF
  }

  if (placeHoldersLen === 2) {
    tmp =
      (revLookup[b64.charCodeAt(i)] << 2) |
      (revLookup[b64.charCodeAt(i + 1)] >> 4)
    arr[curByte++] = tmp & 0xFF
  }

  if (placeHoldersLen === 1) {
    tmp =
      (revLookup[b64.charCodeAt(i)] << 10) |
      (revLookup[b64.charCodeAt(i + 1)] << 4) |
      (revLookup[b64.charCodeAt(i + 2)] >> 2)
    arr[curByte++] = (tmp >> 8) & 0xFF
    arr[curByte++] = tmp & 0xFF
  }

  return arr
}

function tripletToBase64 (num) {
  return lookup[num >> 18 & 0x3F] +
    lookup[num >> 12 & 0x3F] +
    lookup[num >> 6 & 0x3F] +
    lookup[num & 0x3F]
}

function encodeChunk (uint8, start, end) {
  var tmp
  var output = []
  for (var i = start; i < end; i += 3) {
    tmp =
      ((uint8[i] << 16) & 0xFF0000) +
      ((uint8[i + 1] << 8) & 0xFF00) +
      (uint8[i + 2] & 0xFF)
    output.push(tripletToBase64(tmp))
  }
  return output.join('')
}

function fromByteArray (uint8) {
  var tmp
  var len = uint8.length
  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes
  var parts = []
  var maxChunkLength = 16383 // must be multiple of 3

  // go through the array every three bytes, we'll deal with trailing stuff later
  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {
    parts.push(encodeChunk(
      uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)
    ))
  }

  // pad the end with zeros, but make sure to not forget the extra bytes
  if (extraBytes === 1) {
    tmp = uint8[len - 1]
    parts.push(
      lookup[tmp >> 2] +
      lookup[(tmp << 4) & 0x3F] +
      '=='
    )
  } else if (extraBytes === 2) {
    tmp = (uint8[len - 2] << 8) + uint8[len - 1]
    parts.push(
      lookup[tmp >> 10] +
      lookup[(tmp >> 4) & 0x3F] +
      lookup[(tmp << 2) & 0x3F] +
      '='
    )
  }

  return parts.join('')
}


/***/ }),

/***/ "./node_modules/buffer/index.js":
/*!**************************************!*\
  !*** ./node_modules/buffer/index.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
/* eslint-disable no-proto */



var base64 = __webpack_require__(/*! base64-js */ "./node_modules/base64-js/index.js")
var ieee754 = __webpack_require__(/*! ieee754 */ "./node_modules/ieee754/index.js")
var isArray = __webpack_require__(/*! isarray */ "./node_modules/isarray/index.js")

exports.Buffer = Buffer
exports.SlowBuffer = SlowBuffer
exports.INSPECT_MAX_BYTES = 50

/**
 * If `Buffer.TYPED_ARRAY_SUPPORT`:
 *   === true    Use Uint8Array implementation (fastest)
 *   === false   Use Object implementation (most compatible, even IE6)
 *
 * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,
 * Opera 11.6+, iOS 4.2+.
 *
 * Due to various browser bugs, sometimes the Object implementation will be used even
 * when the browser supports typed arrays.
 *
 * Note:
 *
 *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,
 *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.
 *
 *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.
 *
 *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of
 *     incorrect length in some situations.

 * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they
 * get the Object implementation, which is slower but behaves correctly.
 */
Buffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined
  ? global.TYPED_ARRAY_SUPPORT
  : typedArraySupport()

/*
 * Export kMaxLength after typed array support is determined.
 */
exports.kMaxLength = kMaxLength()

function typedArraySupport () {
  try {
    var arr = new Uint8Array(1)
    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}
    return arr.foo() === 42 && // typed array instances can be augmented
        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`
        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`
  } catch (e) {
    return false
  }
}

function kMaxLength () {
  return Buffer.TYPED_ARRAY_SUPPORT
    ? 0x7fffffff
    : 0x3fffffff
}

function createBuffer (that, length) {
  if (kMaxLength() < length) {
    throw new RangeError('Invalid typed array length')
  }
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    // Return an augmented `Uint8Array` instance, for best performance
    that = new Uint8Array(length)
    that.__proto__ = Buffer.prototype
  } else {
    // Fallback: Return an object instance of the Buffer class
    if (that === null) {
      that = new Buffer(length)
    }
    that.length = length
  }

  return that
}

/**
 * The Buffer constructor returns instances of `Uint8Array` that have their
 * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of
 * `Uint8Array`, so the returned instances will have all the node `Buffer` methods
 * and the `Uint8Array` methods. Square bracket notation works as expected -- it
 * returns a single octet.
 *
 * The `Uint8Array` prototype remains unmodified.
 */

function Buffer (arg, encodingOrOffset, length) {
  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {
    return new Buffer(arg, encodingOrOffset, length)
  }

  // Common case.
  if (typeof arg === 'number') {
    if (typeof encodingOrOffset === 'string') {
      throw new Error(
        'If encoding is specified then the first argument must be a string'
      )
    }
    return allocUnsafe(this, arg)
  }
  return from(this, arg, encodingOrOffset, length)
}

Buffer.poolSize = 8192 // not used by this implementation

// TODO: Legacy, not needed anymore. Remove in next major version.
Buffer._augment = function (arr) {
  arr.__proto__ = Buffer.prototype
  return arr
}

function from (that, value, encodingOrOffset, length) {
  if (typeof value === 'number') {
    throw new TypeError('"value" argument must not be a number')
  }

  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {
    return fromArrayBuffer(that, value, encodingOrOffset, length)
  }

  if (typeof value === 'string') {
    return fromString(that, value, encodingOrOffset)
  }

  return fromObject(that, value)
}

/**
 * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError
 * if value is a number.
 * Buffer.from(str[, encoding])
 * Buffer.from(array)
 * Buffer.from(buffer)
 * Buffer.from(arrayBuffer[, byteOffset[, length]])
 **/
Buffer.from = function (value, encodingOrOffset, length) {
  return from(null, value, encodingOrOffset, length)
}

if (Buffer.TYPED_ARRAY_SUPPORT) {
  Buffer.prototype.__proto__ = Uint8Array.prototype
  Buffer.__proto__ = Uint8Array
  if (typeof Symbol !== 'undefined' && Symbol.species &&
      Buffer[Symbol.species] === Buffer) {
    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97
    Object.defineProperty(Buffer, Symbol.species, {
      value: null,
      configurable: true
    })
  }
}

function assertSize (size) {
  if (typeof size !== 'number') {
    throw new TypeError('"size" argument must be a number')
  } else if (size < 0) {
    throw new RangeError('"size" argument must not be negative')
  }
}

function alloc (that, size, fill, encoding) {
  assertSize(size)
  if (size <= 0) {
    return createBuffer(that, size)
  }
  if (fill !== undefined) {
    // Only pay attention to encoding if it's a string. This
    // prevents accidentally sending in a number that would
    // be interpretted as a start offset.
    return typeof encoding === 'string'
      ? createBuffer(that, size).fill(fill, encoding)
      : createBuffer(that, size).fill(fill)
  }
  return createBuffer(that, size)
}

/**
 * Creates a new filled Buffer instance.
 * alloc(size[, fill[, encoding]])
 **/
Buffer.alloc = function (size, fill, encoding) {
  return alloc(null, size, fill, encoding)
}

function allocUnsafe (that, size) {
  assertSize(size)
  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)
  if (!Buffer.TYPED_ARRAY_SUPPORT) {
    for (var i = 0; i < size; ++i) {
      that[i] = 0
    }
  }
  return that
}

/**
 * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.
 * */
Buffer.allocUnsafe = function (size) {
  return allocUnsafe(null, size)
}
/**
 * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.
 */
Buffer.allocUnsafeSlow = function (size) {
  return allocUnsafe(null, size)
}

function fromString (that, string, encoding) {
  if (typeof encoding !== 'string' || encoding === '') {
    encoding = 'utf8'
  }

  if (!Buffer.isEncoding(encoding)) {
    throw new TypeError('"encoding" must be a valid string encoding')
  }

  var length = byteLength(string, encoding) | 0
  that = createBuffer(that, length)

  var actual = that.write(string, encoding)

  if (actual !== length) {
    // Writing a hex string, for example, that contains invalid characters will
    // cause everything after the first invalid character to be ignored. (e.g.
    // 'abxxcd' will be treated as 'ab')
    that = that.slice(0, actual)
  }

  return that
}

function fromArrayLike (that, array) {
  var length = array.length < 0 ? 0 : checked(array.length) | 0
  that = createBuffer(that, length)
  for (var i = 0; i < length; i += 1) {
    that[i] = array[i] & 255
  }
  return that
}

function fromArrayBuffer (that, array, byteOffset, length) {
  array.byteLength // this throws if `array` is not a valid ArrayBuffer

  if (byteOffset < 0 || array.byteLength < byteOffset) {
    throw new RangeError('\'offset\' is out of bounds')
  }

  if (array.byteLength < byteOffset + (length || 0)) {
    throw new RangeError('\'length\' is out of bounds')
  }

  if (byteOffset === undefined && length === undefined) {
    array = new Uint8Array(array)
  } else if (length === undefined) {
    array = new Uint8Array(array, byteOffset)
  } else {
    array = new Uint8Array(array, byteOffset, length)
  }

  if (Buffer.TYPED_ARRAY_SUPPORT) {
    // Return an augmented `Uint8Array` instance, for best performance
    that = array
    that.__proto__ = Buffer.prototype
  } else {
    // Fallback: Return an object instance of the Buffer class
    that = fromArrayLike(that, array)
  }
  return that
}

function fromObject (that, obj) {
  if (Buffer.isBuffer(obj)) {
    var len = checked(obj.length) | 0
    that = createBuffer(that, len)

    if (that.length === 0) {
      return that
    }

    obj.copy(that, 0, 0, len)
    return that
  }

  if (obj) {
    if ((typeof ArrayBuffer !== 'undefined' &&
        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {
      if (typeof obj.length !== 'number' || isnan(obj.length)) {
        return createBuffer(that, 0)
      }
      return fromArrayLike(that, obj)
    }

    if (obj.type === 'Buffer' && isArray(obj.data)) {
      return fromArrayLike(that, obj.data)
    }
  }

  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')
}

function checked (length) {
  // Note: cannot use `length < kMaxLength()` here because that fails when
  // length is NaN (which is otherwise coerced to zero.)
  if (length >= kMaxLength()) {
    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +
                         'size: 0x' + kMaxLength().toString(16) + ' bytes')
  }
  return length | 0
}

function SlowBuffer (length) {
  if (+length != length) { // eslint-disable-line eqeqeq
    length = 0
  }
  return Buffer.alloc(+length)
}

Buffer.isBuffer = function isBuffer (b) {
  return !!(b != null && b._isBuffer)
}

Buffer.compare = function compare (a, b) {
  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {
    throw new TypeError('Arguments must be Buffers')
  }

  if (a === b) return 0

  var x = a.length
  var y = b.length

  for (var i = 0, len = Math.min(x, y); i < len; ++i) {
    if (a[i] !== b[i]) {
      x = a[i]
      y = b[i]
      break
    }
  }

  if (x < y) return -1
  if (y < x) return 1
  return 0
}

Buffer.isEncoding = function isEncoding (encoding) {
  switch (String(encoding).toLowerCase()) {
    case 'hex':
    case 'utf8':
    case 'utf-8':
    case 'ascii':
    case 'latin1':
    case 'binary':
    case 'base64':
    case 'ucs2':
    case 'ucs-2':
    case 'utf16le':
    case 'utf-16le':
      return true
    default:
      return false
  }
}

Buffer.concat = function concat (list, length) {
  if (!isArray(list)) {
    throw new TypeError('"list" argument must be an Array of Buffers')
  }

  if (list.length === 0) {
    return Buffer.alloc(0)
  }

  var i
  if (length === undefined) {
    length = 0
    for (i = 0; i < list.length; ++i) {
      length += list[i].length
    }
  }

  var buffer = Buffer.allocUnsafe(length)
  var pos = 0
  for (i = 0; i < list.length; ++i) {
    var buf = list[i]
    if (!Buffer.isBuffer(buf)) {
      throw new TypeError('"list" argument must be an Array of Buffers')
    }
    buf.copy(buffer, pos)
    pos += buf.length
  }
  return buffer
}

function byteLength (string, encoding) {
  if (Buffer.isBuffer(string)) {
    return string.length
  }
  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&
      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {
    return string.byteLength
  }
  if (typeof string !== 'string') {
    string = '' + string
  }

  var len = string.length
  if (len === 0) return 0

  // Use a for loop to avoid recursion
  var loweredCase = false
  for (;;) {
    switch (encoding) {
      case 'ascii':
      case 'latin1':
      case 'binary':
        return len
      case 'utf8':
      case 'utf-8':
      case undefined:
        return utf8ToBytes(string).length
      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return len * 2
      case 'hex':
        return len >>> 1
      case 'base64':
        return base64ToBytes(string).length
      default:
        if (loweredCase) return utf8ToBytes(string).length // assume utf8
        encoding = ('' + encoding).toLowerCase()
        loweredCase = true
    }
  }
}
Buffer.byteLength = byteLength

function slowToString (encoding, start, end) {
  var loweredCase = false

  // No need to verify that "this.length <= MAX_UINT32" since it's a read-only
  // property of a typed array.

  // This behaves neither like String nor Uint8Array in that we set start/end
  // to their upper/lower bounds if the value passed is out of range.
  // undefined is handled specially as per ECMA-262 6th Edition,
  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.
  if (start === undefined || start < 0) {
    start = 0
  }
  // Return early if start > this.length. Done here to prevent potential uint32
  // coercion fail below.
  if (start > this.length) {
    return ''
  }

  if (end === undefined || end > this.length) {
    end = this.length
  }

  if (end <= 0) {
    return ''
  }

  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.
  end >>>= 0
  start >>>= 0

  if (end <= start) {
    return ''
  }

  if (!encoding) encoding = 'utf8'

  while (true) {
    switch (encoding) {
      case 'hex':
        return hexSlice(this, start, end)

      case 'utf8':
      case 'utf-8':
        return utf8Slice(this, start, end)

      case 'ascii':
        return asciiSlice(this, start, end)

      case 'latin1':
      case 'binary':
        return latin1Slice(this, start, end)

      case 'base64':
        return base64Slice(this, start, end)

      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return utf16leSlice(this, start, end)

      default:
        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)
        encoding = (encoding + '').toLowerCase()
        loweredCase = true
    }
  }
}

// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect
// Buffer instances.
Buffer.prototype._isBuffer = true

function swap (b, n, m) {
  var i = b[n]
  b[n] = b[m]
  b[m] = i
}

Buffer.prototype.swap16 = function swap16 () {
  var len = this.length
  if (len % 2 !== 0) {
    throw new RangeError('Buffer size must be a multiple of 16-bits')
  }
  for (var i = 0; i < len; i += 2) {
    swap(this, i, i + 1)
  }
  return this
}

Buffer.prototype.swap32 = function swap32 () {
  var len = this.length
  if (len % 4 !== 0) {
    throw new RangeError('Buffer size must be a multiple of 32-bits')
  }
  for (var i = 0; i < len; i += 4) {
    swap(this, i, i + 3)
    swap(this, i + 1, i + 2)
  }
  return this
}

Buffer.prototype.swap64 = function swap64 () {
  var len = this.length
  if (len % 8 !== 0) {
    throw new RangeError('Buffer size must be a multiple of 64-bits')
  }
  for (var i = 0; i < len; i += 8) {
    swap(this, i, i + 7)
    swap(this, i + 1, i + 6)
    swap(this, i + 2, i + 5)
    swap(this, i + 3, i + 4)
  }
  return this
}

Buffer.prototype.toString = function toString () {
  var length = this.length | 0
  if (length === 0) return ''
  if (arguments.length === 0) return utf8Slice(this, 0, length)
  return slowToString.apply(this, arguments)
}

Buffer.prototype.equals = function equals (b) {
  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')
  if (this === b) return true
  return Buffer.compare(this, b) === 0
}

Buffer.prototype.inspect = function inspect () {
  var str = ''
  var max = exports.INSPECT_MAX_BYTES
  if (this.length > 0) {
    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')
    if (this.length > max) str += ' ... '
  }
  return '<Buffer ' + str + '>'
}

Buffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {
  if (!Buffer.isBuffer(target)) {
    throw new TypeError('Argument must be a Buffer')
  }

  if (start === undefined) {
    start = 0
  }
  if (end === undefined) {
    end = target ? target.length : 0
  }
  if (thisStart === undefined) {
    thisStart = 0
  }
  if (thisEnd === undefined) {
    thisEnd = this.length
  }

  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {
    throw new RangeError('out of range index')
  }

  if (thisStart >= thisEnd && start >= end) {
    return 0
  }
  if (thisStart >= thisEnd) {
    return -1
  }
  if (start >= end) {
    return 1
  }

  start >>>= 0
  end >>>= 0
  thisStart >>>= 0
  thisEnd >>>= 0

  if (this === target) return 0

  var x = thisEnd - thisStart
  var y = end - start
  var len = Math.min(x, y)

  var thisCopy = this.slice(thisStart, thisEnd)
  var targetCopy = target.slice(start, end)

  for (var i = 0; i < len; ++i) {
    if (thisCopy[i] !== targetCopy[i]) {
      x = thisCopy[i]
      y = targetCopy[i]
      break
    }
  }

  if (x < y) return -1
  if (y < x) return 1
  return 0
}

// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,
// OR the last index of `val` in `buffer` at offset <= `byteOffset`.
//
// Arguments:
// - buffer - a Buffer to search
// - val - a string, Buffer, or number
// - byteOffset - an index into `buffer`; will be clamped to an int32
// - encoding - an optional encoding, relevant is val is a string
// - dir - true for indexOf, false for lastIndexOf
function bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {
  // Empty buffer means no match
  if (buffer.length === 0) return -1

  // Normalize byteOffset
  if (typeof byteOffset === 'string') {
    encoding = byteOffset
    byteOffset = 0
  } else if (byteOffset > 0x7fffffff) {
    byteOffset = 0x7fffffff
  } else if (byteOffset < -0x80000000) {
    byteOffset = -0x80000000
  }
  byteOffset = +byteOffset  // Coerce to Number.
  if (isNaN(byteOffset)) {
    // byteOffset: it it's undefined, null, NaN, "foo", etc, search whole buffer
    byteOffset = dir ? 0 : (buffer.length - 1)
  }

  // Normalize byteOffset: negative offsets start from the end of the buffer
  if (byteOffset < 0) byteOffset = buffer.length + byteOffset
  if (byteOffset >= buffer.length) {
    if (dir) return -1
    else byteOffset = buffer.length - 1
  } else if (byteOffset < 0) {
    if (dir) byteOffset = 0
    else return -1
  }

  // Normalize val
  if (typeof val === 'string') {
    val = Buffer.from(val, encoding)
  }

  // Finally, search either indexOf (if dir is true) or lastIndexOf
  if (Buffer.isBuffer(val)) {
    // Special case: looking for empty string/buffer always fails
    if (val.length === 0) {
      return -1
    }
    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)
  } else if (typeof val === 'number') {
    val = val & 0xFF // Search for a byte value [0-255]
    if (Buffer.TYPED_ARRAY_SUPPORT &&
        typeof Uint8Array.prototype.indexOf === 'function') {
      if (dir) {
        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)
      } else {
        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)
      }
    }
    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)
  }

  throw new TypeError('val must be string, number or Buffer')
}

function arrayIndexOf (arr, val, byteOffset, encoding, dir) {
  var indexSize = 1
  var arrLength = arr.length
  var valLength = val.length

  if (encoding !== undefined) {
    encoding = String(encoding).toLowerCase()
    if (encoding === 'ucs2' || encoding === 'ucs-2' ||
        encoding === 'utf16le' || encoding === 'utf-16le') {
      if (arr.length < 2 || val.length < 2) {
        return -1
      }
      indexSize = 2
      arrLength /= 2
      valLength /= 2
      byteOffset /= 2
    }
  }

  function read (buf, i) {
    if (indexSize === 1) {
      return buf[i]
    } else {
      return buf.readUInt16BE(i * indexSize)
    }
  }

  var i
  if (dir) {
    var foundIndex = -1
    for (i = byteOffset; i < arrLength; i++) {
      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {
        if (foundIndex === -1) foundIndex = i
        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize
      } else {
        if (foundIndex !== -1) i -= i - foundIndex
        foundIndex = -1
      }
    }
  } else {
    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength
    for (i = byteOffset; i >= 0; i--) {
      var found = true
      for (var j = 0; j < valLength; j++) {
        if (read(arr, i + j) !== read(val, j)) {
          found = false
          break
        }
      }
      if (found) return i
    }
  }

  return -1
}

Buffer.prototype.includes = function includes (val, byteOffset, encoding) {
  return this.indexOf(val, byteOffset, encoding) !== -1
}

Buffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {
  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)
}

Buffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {
  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)
}

function hexWrite (buf, string, offset, length) {
  offset = Number(offset) || 0
  var remaining = buf.length - offset
  if (!length) {
    length = remaining
  } else {
    length = Number(length)
    if (length > remaining) {
      length = remaining
    }
  }

  // must be an even number of digits
  var strLen = string.length
  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')

  if (length > strLen / 2) {
    length = strLen / 2
  }
  for (var i = 0; i < length; ++i) {
    var parsed = parseInt(string.substr(i * 2, 2), 16)
    if (isNaN(parsed)) return i
    buf[offset + i] = parsed
  }
  return i
}

function utf8Write (buf, string, offset, length) {
  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)
}

function asciiWrite (buf, string, offset, length) {
  return blitBuffer(asciiToBytes(string), buf, offset, length)
}

function latin1Write (buf, string, offset, length) {
  return asciiWrite(buf, string, offset, length)
}

function base64Write (buf, string, offset, length) {
  return blitBuffer(base64ToBytes(string), buf, offset, length)
}

function ucs2Write (buf, string, offset, length) {
  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)
}

Buffer.prototype.write = function write (string, offset, length, encoding) {
  // Buffer#write(string)
  if (offset === undefined) {
    encoding = 'utf8'
    length = this.length
    offset = 0
  // Buffer#write(string, encoding)
  } else if (length === undefined && typeof offset === 'string') {
    encoding = offset
    length = this.length
    offset = 0
  // Buffer#write(string, offset[, length][, encoding])
  } else if (isFinite(offset)) {
    offset = offset | 0
    if (isFinite(length)) {
      length = length | 0
      if (encoding === undefined) encoding = 'utf8'
    } else {
      encoding = length
      length = undefined
    }
  // legacy write(string, encoding, offset, length) - remove in v0.13
  } else {
    throw new Error(
      'Buffer.write(string, encoding, offset[, length]) is no longer supported'
    )
  }

  var remaining = this.length - offset
  if (length === undefined || length > remaining) length = remaining

  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {
    throw new RangeError('Attempt to write outside buffer bounds')
  }

  if (!encoding) encoding = 'utf8'

  var loweredCase = false
  for (;;) {
    switch (encoding) {
      case 'hex':
        return hexWrite(this, string, offset, length)

      case 'utf8':
      case 'utf-8':
        return utf8Write(this, string, offset, length)

      case 'ascii':
        return asciiWrite(this, string, offset, length)

      case 'latin1':
      case 'binary':
        return latin1Write(this, string, offset, length)

      case 'base64':
        // Warning: maxLength not taken into account in base64Write
        return base64Write(this, string, offset, length)

      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return ucs2Write(this, string, offset, length)

      default:
        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)
        encoding = ('' + encoding).toLowerCase()
        loweredCase = true
    }
  }
}

Buffer.prototype.toJSON = function toJSON () {
  return {
    type: 'Buffer',
    data: Array.prototype.slice.call(this._arr || this, 0)
  }
}

function base64Slice (buf, start, end) {
  if (start === 0 && end === buf.length) {
    return base64.fromByteArray(buf)
  } else {
    return base64.fromByteArray(buf.slice(start, end))
  }
}

function utf8Slice (buf, start, end) {
  end = Math.min(buf.length, end)
  var res = []

  var i = start
  while (i < end) {
    var firstByte = buf[i]
    var codePoint = null
    var bytesPerSequence = (firstByte > 0xEF) ? 4
      : (firstByte > 0xDF) ? 3
      : (firstByte > 0xBF) ? 2
      : 1

    if (i + bytesPerSequence <= end) {
      var secondByte, thirdByte, fourthByte, tempCodePoint

      switch (bytesPerSequence) {
        case 1:
          if (firstByte < 0x80) {
            codePoint = firstByte
          }
          break
        case 2:
          secondByte = buf[i + 1]
          if ((secondByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)
            if (tempCodePoint > 0x7F) {
              codePoint = tempCodePoint
            }
          }
          break
        case 3:
          secondByte = buf[i + 1]
          thirdByte = buf[i + 2]
          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)
            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {
              codePoint = tempCodePoint
            }
          }
          break
        case 4:
          secondByte = buf[i + 1]
          thirdByte = buf[i + 2]
          fourthByte = buf[i + 3]
          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)
            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {
              codePoint = tempCodePoint
            }
          }
      }
    }

    if (codePoint === null) {
      // we did not generate a valid codePoint so insert a
      // replacement char (U+FFFD) and advance only 1 byte
      codePoint = 0xFFFD
      bytesPerSequence = 1
    } else if (codePoint > 0xFFFF) {
      // encode to utf16 (surrogate pair dance)
      codePoint -= 0x10000
      res.push(codePoint >>> 10 & 0x3FF | 0xD800)
      codePoint = 0xDC00 | codePoint & 0x3FF
    }

    res.push(codePoint)
    i += bytesPerSequence
  }

  return decodeCodePointsArray(res)
}

// Based on http://stackoverflow.com/a/22747272/680742, the browser with
// the lowest limit is Chrome, with 0x10000 args.
// We go 1 magnitude less, for safety
var MAX_ARGUMENTS_LENGTH = 0x1000

function decodeCodePointsArray (codePoints) {
  var len = codePoints.length
  if (len <= MAX_ARGUMENTS_LENGTH) {
    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()
  }

  // Decode in chunks to avoid "call stack size exceeded".
  var res = ''
  var i = 0
  while (i < len) {
    res += String.fromCharCode.apply(
      String,
      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)
    )
  }
  return res
}

function asciiSlice (buf, start, end) {
  var ret = ''
  end = Math.min(buf.length, end)

  for (var i = start; i < end; ++i) {
    ret += String.fromCharCode(buf[i] & 0x7F)
  }
  return ret
}

function latin1Slice (buf, start, end) {
  var ret = ''
  end = Math.min(buf.length, end)

  for (var i = start; i < end; ++i) {
    ret += String.fromCharCode(buf[i])
  }
  return ret
}

function hexSlice (buf, start, end) {
  var len = buf.length

  if (!start || start < 0) start = 0
  if (!end || end < 0 || end > len) end = len

  var out = ''
  for (var i = start; i < end; ++i) {
    out += toHex(buf[i])
  }
  return out
}

function utf16leSlice (buf, start, end) {
  var bytes = buf.slice(start, end)
  var res = ''
  for (var i = 0; i < bytes.length; i += 2) {
    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)
  }
  return res
}

Buffer.prototype.slice = function slice (start, end) {
  var len = this.length
  start = ~~start
  end = end === undefined ? len : ~~end

  if (start < 0) {
    start += len
    if (start < 0) start = 0
  } else if (start > len) {
    start = len
  }

  if (end < 0) {
    end += len
    if (end < 0) end = 0
  } else if (end > len) {
    end = len
  }

  if (end < start) end = start

  var newBuf
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    newBuf = this.subarray(start, end)
    newBuf.__proto__ = Buffer.prototype
  } else {
    var sliceLen = end - start
    newBuf = new Buffer(sliceLen, undefined)
    for (var i = 0; i < sliceLen; ++i) {
      newBuf[i] = this[i + start]
    }
  }

  return newBuf
}

/*
 * Need to make sure that buffer isn't trying to write out of bounds.
 */
function checkOffset (offset, ext, length) {
  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')
  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')
}

Buffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  var val = this[offset]
  var mul = 1
  var i = 0
  while (++i < byteLength && (mul *= 0x100)) {
    val += this[offset + i] * mul
  }

  return val
}

Buffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) {
    checkOffset(offset, byteLength, this.length)
  }

  var val = this[offset + --byteLength]
  var mul = 1
  while (byteLength > 0 && (mul *= 0x100)) {
    val += this[offset + --byteLength] * mul
  }

  return val
}

Buffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 1, this.length)
  return this[offset]
}

Buffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 2, this.length)
  return this[offset] | (this[offset + 1] << 8)
}

Buffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 2, this.length)
  return (this[offset] << 8) | this[offset + 1]
}

Buffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)

  return ((this[offset]) |
      (this[offset + 1] << 8) |
      (this[offset + 2] << 16)) +
      (this[offset + 3] * 0x1000000)
}

Buffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset] * 0x1000000) +
    ((this[offset + 1] << 16) |
    (this[offset + 2] << 8) |
    this[offset + 3])
}

Buffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  var val = this[offset]
  var mul = 1
  var i = 0
  while (++i < byteLength && (mul *= 0x100)) {
    val += this[offset + i] * mul
  }
  mul *= 0x80

  if (val >= mul) val -= Math.pow(2, 8 * byteLength)

  return val
}

Buffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  var i = byteLength
  var mul = 1
  var val = this[offset + --i]
  while (i > 0 && (mul *= 0x100)) {
    val += this[offset + --i] * mul
  }
  mul *= 0x80

  if (val >= mul) val -= Math.pow(2, 8 * byteLength)

  return val
}

Buffer.prototype.readInt8 = function readInt8 (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 1, this.length)
  if (!(this[offset] & 0x80)) return (this[offset])
  return ((0xff - this[offset] + 1) * -1)
}

Buffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 2, this.length)
  var val = this[offset] | (this[offset + 1] << 8)
  return (val & 0x8000) ? val | 0xFFFF0000 : val
}

Buffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 2, this.length)
  var val = this[offset + 1] | (this[offset] << 8)
  return (val & 0x8000) ? val | 0xFFFF0000 : val
}

Buffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset]) |
    (this[offset + 1] << 8) |
    (this[offset + 2] << 16) |
    (this[offset + 3] << 24)
}

Buffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset] << 24) |
    (this[offset + 1] << 16) |
    (this[offset + 2] << 8) |
    (this[offset + 3])
}

Buffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)
  return ieee754.read(this, offset, true, 23, 4)
}

Buffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)
  return ieee754.read(this, offset, false, 23, 4)
}

Buffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 8, this.length)
  return ieee754.read(this, offset, true, 52, 8)
}

Buffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 8, this.length)
  return ieee754.read(this, offset, false, 52, 8)
}

function checkInt (buf, value, offset, ext, max, min) {
  if (!Buffer.isBuffer(buf)) throw new TypeError('"buffer" argument must be a Buffer instance')
  if (value > max || value < min) throw new RangeError('"value" argument is out of bounds')
  if (offset + ext > buf.length) throw new RangeError('Index out of range')
}

Buffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) {
    var maxBytes = Math.pow(2, 8 * byteLength) - 1
    checkInt(this, value, offset, byteLength, maxBytes, 0)
  }

  var mul = 1
  var i = 0
  this[offset] = value & 0xFF
  while (++i < byteLength && (mul *= 0x100)) {
    this[offset + i] = (value / mul) & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) {
    var maxBytes = Math.pow(2, 8 * byteLength) - 1
    checkInt(this, value, offset, byteLength, maxBytes, 0)
  }

  var i = byteLength - 1
  var mul = 1
  this[offset + i] = value & 0xFF
  while (--i >= 0 && (mul *= 0x100)) {
    this[offset + i] = (value / mul) & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)
  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)
  this[offset] = (value & 0xff)
  return offset + 1
}

function objectWriteUInt16 (buf, value, offset, littleEndian) {
  if (value < 0) value = 0xffff + value + 1
  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {
    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>
      (littleEndian ? i : 1 - i) * 8
  }
}

Buffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value & 0xff)
    this[offset + 1] = (value >>> 8)
  } else {
    objectWriteUInt16(this, value, offset, true)
  }
  return offset + 2
}

Buffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value >>> 8)
    this[offset + 1] = (value & 0xff)
  } else {
    objectWriteUInt16(this, value, offset, false)
  }
  return offset + 2
}

function objectWriteUInt32 (buf, value, offset, littleEndian) {
  if (value < 0) value = 0xffffffff + value + 1
  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {
    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff
  }
}

Buffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset + 3] = (value >>> 24)
    this[offset + 2] = (value >>> 16)
    this[offset + 1] = (value >>> 8)
    this[offset] = (value & 0xff)
  } else {
    objectWriteUInt32(this, value, offset, true)
  }
  return offset + 4
}

Buffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value >>> 24)
    this[offset + 1] = (value >>> 16)
    this[offset + 2] = (value >>> 8)
    this[offset + 3] = (value & 0xff)
  } else {
    objectWriteUInt32(this, value, offset, false)
  }
  return offset + 4
}

Buffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) {
    var limit = Math.pow(2, 8 * byteLength - 1)

    checkInt(this, value, offset, byteLength, limit - 1, -limit)
  }

  var i = 0
  var mul = 1
  var sub = 0
  this[offset] = value & 0xFF
  while (++i < byteLength && (mul *= 0x100)) {
    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {
      sub = 1
    }
    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) {
    var limit = Math.pow(2, 8 * byteLength - 1)

    checkInt(this, value, offset, byteLength, limit - 1, -limit)
  }

  var i = byteLength - 1
  var mul = 1
  var sub = 0
  this[offset + i] = value & 0xFF
  while (--i >= 0 && (mul *= 0x100)) {
    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {
      sub = 1
    }
    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)
  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)
  if (value < 0) value = 0xff + value + 1
  this[offset] = (value & 0xff)
  return offset + 1
}

Buffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value & 0xff)
    this[offset + 1] = (value >>> 8)
  } else {
    objectWriteUInt16(this, value, offset, true)
  }
  return offset + 2
}

Buffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value >>> 8)
    this[offset + 1] = (value & 0xff)
  } else {
    objectWriteUInt16(this, value, offset, false)
  }
  return offset + 2
}

Buffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value & 0xff)
    this[offset + 1] = (value >>> 8)
    this[offset + 2] = (value >>> 16)
    this[offset + 3] = (value >>> 24)
  } else {
    objectWriteUInt32(this, value, offset, true)
  }
  return offset + 4
}

Buffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)
  if (value < 0) value = 0xffffffff + value + 1
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value >>> 24)
    this[offset + 1] = (value >>> 16)
    this[offset + 2] = (value >>> 8)
    this[offset + 3] = (value & 0xff)
  } else {
    objectWriteUInt32(this, value, offset, false)
  }
  return offset + 4
}

function checkIEEE754 (buf, value, offset, ext, max, min) {
  if (offset + ext > buf.length) throw new RangeError('Index out of range')
  if (offset < 0) throw new RangeError('Index out of range')
}

function writeFloat (buf, value, offset, littleEndian, noAssert) {
  if (!noAssert) {
    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)
  }
  ieee754.write(buf, value, offset, littleEndian, 23, 4)
  return offset + 4
}

Buffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {
  return writeFloat(this, value, offset, true, noAssert)
}

Buffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {
  return writeFloat(this, value, offset, false, noAssert)
}

function writeDouble (buf, value, offset, littleEndian, noAssert) {
  if (!noAssert) {
    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)
  }
  ieee754.write(buf, value, offset, littleEndian, 52, 8)
  return offset + 8
}

Buffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {
  return writeDouble(this, value, offset, true, noAssert)
}

Buffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {
  return writeDouble(this, value, offset, false, noAssert)
}

// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)
Buffer.prototype.copy = function copy (target, targetStart, start, end) {
  if (!start) start = 0
  if (!end && end !== 0) end = this.length
  if (targetStart >= target.length) targetStart = target.length
  if (!targetStart) targetStart = 0
  if (end > 0 && end < start) end = start

  // Copy 0 bytes; we're done
  if (end === start) return 0
  if (target.length === 0 || this.length === 0) return 0

  // Fatal error conditions
  if (targetStart < 0) {
    throw new RangeError('targetStart out of bounds')
  }
  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')
  if (end < 0) throw new RangeError('sourceEnd out of bounds')

  // Are we oob?
  if (end > this.length) end = this.length
  if (target.length - targetStart < end - start) {
    end = target.length - targetStart + start
  }

  var len = end - start
  var i

  if (this === target && start < targetStart && targetStart < end) {
    // descending copy from end
    for (i = len - 1; i >= 0; --i) {
      target[i + targetStart] = this[i + start]
    }
  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {
    // ascending copy from start
    for (i = 0; i < len; ++i) {
      target[i + targetStart] = this[i + start]
    }
  } else {
    Uint8Array.prototype.set.call(
      target,
      this.subarray(start, start + len),
      targetStart
    )
  }

  return len
}

// Usage:
//    buffer.fill(number[, offset[, end]])
//    buffer.fill(buffer[, offset[, end]])
//    buffer.fill(string[, offset[, end]][, encoding])
Buffer.prototype.fill = function fill (val, start, end, encoding) {
  // Handle string cases:
  if (typeof val === 'string') {
    if (typeof start === 'string') {
      encoding = start
      start = 0
      end = this.length
    } else if (typeof end === 'string') {
      encoding = end
      end = this.length
    }
    if (val.length === 1) {
      var code = val.charCodeAt(0)
      if (code < 256) {
        val = code
      }
    }
    if (encoding !== undefined && typeof encoding !== 'string') {
      throw new TypeError('encoding must be a string')
    }
    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {
      throw new TypeError('Unknown encoding: ' + encoding)
    }
  } else if (typeof val === 'number') {
    val = val & 255
  }

  // Invalid ranges are not set to a default, so can range check early.
  if (start < 0 || this.length < start || this.length < end) {
    throw new RangeError('Out of range index')
  }

  if (end <= start) {
    return this
  }

  start = start >>> 0
  end = end === undefined ? this.length : end >>> 0

  if (!val) val = 0

  var i
  if (typeof val === 'number') {
    for (i = start; i < end; ++i) {
      this[i] = val
    }
  } else {
    var bytes = Buffer.isBuffer(val)
      ? val
      : utf8ToBytes(new Buffer(val, encoding).toString())
    var len = bytes.length
    for (i = 0; i < end - start; ++i) {
      this[i + start] = bytes[i % len]
    }
  }

  return this
}

// HELPER FUNCTIONS
// ================

var INVALID_BASE64_RE = /[^+\/0-9A-Za-z-_]/g

function base64clean (str) {
  // Node strips out invalid characters like \n and \t from the string, base64-js does not
  str = stringtrim(str).replace(INVALID_BASE64_RE, '')
  // Node converts strings with length < 2 to ''
  if (str.length < 2) return ''
  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not
  while (str.length % 4 !== 0) {
    str = str + '='
  }
  return str
}

function stringtrim (str) {
  if (str.trim) return str.trim()
  return str.replace(/^\s+|\s+$/g, '')
}

function toHex (n) {
  if (n < 16) return '0' + n.toString(16)
  return n.toString(16)
}

function utf8ToBytes (string, units) {
  units = units || Infinity
  var codePoint
  var length = string.length
  var leadSurrogate = null
  var bytes = []

  for (var i = 0; i < length; ++i) {
    codePoint = string.charCodeAt(i)

    // is surrogate component
    if (codePoint > 0xD7FF && codePoint < 0xE000) {
      // last char was a lead
      if (!leadSurrogate) {
        // no lead yet
        if (codePoint > 0xDBFF) {
          // unexpected trail
          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
          continue
        } else if (i + 1 === length) {
          // unpaired lead
          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
          continue
        }

        // valid lead
        leadSurrogate = codePoint

        continue
      }

      // 2 leads in a row
      if (codePoint < 0xDC00) {
        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
        leadSurrogate = codePoint
        continue
      }

      // valid surrogate pair
      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000
    } else if (leadSurrogate) {
      // valid bmp char, but last char was a lead
      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
    }

    leadSurrogate = null

    // encode utf8
    if (codePoint < 0x80) {
      if ((units -= 1) < 0) break
      bytes.push(codePoint)
    } else if (codePoint < 0x800) {
      if ((units -= 2) < 0) break
      bytes.push(
        codePoint >> 0x6 | 0xC0,
        codePoint & 0x3F | 0x80
      )
    } else if (codePoint < 0x10000) {
      if ((units -= 3) < 0) break
      bytes.push(
        codePoint >> 0xC | 0xE0,
        codePoint >> 0x6 & 0x3F | 0x80,
        codePoint & 0x3F | 0x80
      )
    } else if (codePoint < 0x110000) {
      if ((units -= 4) < 0) break
      bytes.push(
        codePoint >> 0x12 | 0xF0,
        codePoint >> 0xC & 0x3F | 0x80,
        codePoint >> 0x6 & 0x3F | 0x80,
        codePoint & 0x3F | 0x80
      )
    } else {
      throw new Error('Invalid code point')
    }
  }

  return bytes
}

function asciiToBytes (str) {
  var byteArray = []
  for (var i = 0; i < str.length; ++i) {
    // Node's code seems to be doing this and not & 0x7F..
    byteArray.push(str.charCodeAt(i) & 0xFF)
  }
  return byteArray
}

function utf16leToBytes (str, units) {
  var c, hi, lo
  var byteArray = []
  for (var i = 0; i < str.length; ++i) {
    if ((units -= 2) < 0) break

    c = str.charCodeAt(i)
    hi = c >> 8
    lo = c % 256
    byteArray.push(lo)
    byteArray.push(hi)
  }

  return byteArray
}

function base64ToBytes (str) {
  return base64.toByteArray(base64clean(str))
}

function blitBuffer (src, dst, offset, length) {
  for (var i = 0; i < length; ++i) {
    if ((i + offset >= dst.length) || (i >= src.length)) break
    dst[i + offset] = src[i]
  }
  return i
}

function isnan (val) {
  return val !== val // eslint-disable-line no-self-compare
}


/***/ }),

/***/ "./node_modules/ieee754/index.js":
/*!***************************************!*\
  !*** ./node_modules/ieee754/index.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports) {

exports.read = function (buffer, offset, isLE, mLen, nBytes) {
  var e, m
  var eLen = (nBytes * 8) - mLen - 1
  var eMax = (1 << eLen) - 1
  var eBias = eMax >> 1
  var nBits = -7
  var i = isLE ? (nBytes - 1) : 0
  var d = isLE ? -1 : 1
  var s = buffer[offset + i]

  i += d

  e = s & ((1 << (-nBits)) - 1)
  s >>= (-nBits)
  nBits += eLen
  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}

  m = e & ((1 << (-nBits)) - 1)
  e >>= (-nBits)
  nBits += mLen
  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}

  if (e === 0) {
    e = 1 - eBias
  } else if (e === eMax) {
    return m ? NaN : ((s ? -1 : 1) * Infinity)
  } else {
    m = m + Math.pow(2, mLen)
    e = e - eBias
  }
  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)
}

exports.write = function (buffer, value, offset, isLE, mLen, nBytes) {
  var e, m, c
  var eLen = (nBytes * 8) - mLen - 1
  var eMax = (1 << eLen) - 1
  var eBias = eMax >> 1
  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)
  var i = isLE ? 0 : (nBytes - 1)
  var d = isLE ? 1 : -1
  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0

  value = Math.abs(value)

  if (isNaN(value) || value === Infinity) {
    m = isNaN(value) ? 1 : 0
    e = eMax
  } else {
    e = Math.floor(Math.log(value) / Math.LN2)
    if (value * (c = Math.pow(2, -e)) < 1) {
      e--
      c *= 2
    }
    if (e + eBias >= 1) {
      value += rt / c
    } else {
      value += rt * Math.pow(2, 1 - eBias)
    }
    if (value * c >= 2) {
      e++
      c /= 2
    }

    if (e + eBias >= eMax) {
      m = 0
      e = eMax
    } else if (e + eBias >= 1) {
      m = ((value * c) - 1) * Math.pow(2, mLen)
      e = e + eBias
    } else {
      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)
      e = 0
    }
  }

  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}

  e = (e << mLen) | m
  eLen += mLen
  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}

  buffer[offset + i - d] |= s * 128
}


/***/ }),

/***/ "./node_modules/isarray/index.js":
/*!***************************************!*\
  !*** ./node_modules/isarray/index.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports) {

var toString = {}.toString;

module.exports = Array.isArray || function (arr) {
  return toString.call(arr) == '[object Array]';
};


/***/ }),

/***/ "./node_modules/jbinary/dist/browser/jbinary.js":
/*!******************************************************!*\
  !*** ./node_modules/jbinary/dist/browser/jbinary.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

!function(e){var i=this; true?module.exports=e(i,__webpack_require__(/*! jdataview */ "./node_modules/jdataview/dist/node/jdataview.js")):undefined}(function(h,i){"use strict";var o,u,n=h.document;"atob"in h&&"btoa"in h||(o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1],h.btoa||(h.btoa=function(t){for(var e,i,n,r=t.length,a=0,s="";a<r;){if(e=255&t.charCodeAt(a++),a==r){s+=o.charAt(e>>2),s+=o.charAt((3&e)<<4),s+="==";break}if(i=t.charCodeAt(a++),a==r){s+=o.charAt(e>>2),s+=o.charAt((3&e)<<4|(240&i)>>4),s+=o.charAt((15&i)<<2),s+="=";break}n=t.charCodeAt(a++),s+=o.charAt(e>>2),s+=o.charAt((3&e)<<4|(240&i)>>4),s+=o.charAt((15&i)<<2|(192&n)>>6),s+=o.charAt(63&n)}return s}),h.atob||(h.atob=function(t){for(var e,i,n,r,a=t.length,s=0,o="";s<a;){for(;e=u[255&t.charCodeAt(s++)],s<a&&-1==e;);if(-1==e)break;for(;i=u[255&t.charCodeAt(s++)],s<a&&-1==i;);if(-1==i)break;o+=String.fromCharCode(e<<2|(48&i)>>4);do{if(61==(n=255&t.charCodeAt(s++)))return o}while(n=u[n],s<a&&-1==n);if(-1==n)break;o+=String.fromCharCode((15&i)<<4|(60&n)>>2);do{if(61==(r=255&t.charCodeAt(s++)))return o}while(r=u[r],s<a&&-1==r);if(-1==r)break;o+=String.fromCharCode((3&n)<<6|r)}return o}));var c=h.Promise||function(t){this.then=t};function f(t,e){return e&&t instanceof e}function r(t){for(var e=1,i=arguments.length;e<i;++e){var n,r=arguments[e];for(n in r)void 0!==r[n]&&(t[n]=r[n])}return t}function l(t){return arguments[0]=e(t),r.apply(null,arguments)}function a(t,e,i){return f(i,Function)?i.call(t,e.contexts[0]):i}function t(s){return function(){var t=arguments,e=t.length-1,r=s.length-1,i=t[e];if(t.length=1+r,!f(i,Function)){var a=this;return new c(function(i,n){t[r]=function(t,e){return t?n(t):i(e)},s.apply(a,t)})}t[e]=void 0,t[r]=i,s.apply(this,t)}}function s(t,e){return f(t,s)?t.as(e):(f(t,i)||(t=new i(t,void 0,void 0,e?e["jBinary.littleEndian"]:void 0)),f(this,s)?(this.view=t,this.view.seek(0),this.contexts=[],this.as(e,!0)):new s(t,e))}var e=(e=Object.create)||function(t){function e(){}return e.prototype=t,new e},p=s.prototype,y=p.typeSet={};p.toValue=function(t){return a(this,this,t)},p._named=function(t,e,i){return t.displayName=e+" @ "+(void 0!==i?i:this.view.tell()),t};var d=Object.defineProperty;if(1,d)try{d({},"x",{})}catch(t){d=void 0}else d=function(t,e,i,n){n&&(t[e]=i.value)};var v="jBinary.Cache",b=0;function g(t){return l(g.prototype,t)}function w(i){return l(w.prototype,i,{createProperty:function(t){var e=(i.createProperty||w.prototype.createProperty).apply(this,arguments);return e.getBaseType&&(e.baseType=e.binary.getType(e.getBaseType(e.binary.contexts[0]))),e}})}p._getCached=function(t,e,i){if(t.hasOwnProperty(this.cacheKey))return t[this.cacheKey];e=e.call(this,t);return d(t,this.cacheKey,{value:e},i),e},p.getContext=function(e){switch(typeof e){case"undefined":e=0;case"number":return this.contexts[e];case"string":return this.getContext(function(t){return e in t});case"function":for(var t=0,i=this.contexts.length;t<i;t++){var n=this.contexts[t];if(e.call(this,n))return n}}},p.inContext=function(t,e){this.contexts.unshift(t);e=e.call(this);return this.contexts.shift(),e},g.prototype={inherit:function(n,a){var r,s=this;function t(t,e){var i=s[t];i&&(r=r||l(s),e.call(r,i),r[t]=null)}return t("params",function(t){for(var e=0,i=t.length;e<i;e++)this[t[e]]=n[e]}),t("setParams",function(t){t.apply(this,n)}),t("typeParams",function(t){for(var e=0,i=t.length;e<i;e++){var n=t[e],r=this[n];r&&(this[n]=a(r))}}),t("resolve",function(t){t.call(this,a)}),r||s},createProperty:function(t){return l(this,{binary:t,view:t.view})},toValue:function(t,e){return!1!==e&&"string"==typeof t?this.binary.getContext(t)[t]:a(this,this.binary,t)}},w.prototype=l((s.Type=g).prototype,{setParams:function(){this.baseType&&(this.typeParams=["baseType"].concat(this.typeParams||[]))},baseRead:function(){return this.binary.read(this.baseType)},baseWrite:function(t){return this.binary.write(this.baseType,t)}}),r(w.prototype,{read:w.prototype.baseRead,write:w.prototype.baseWrite}),s.Template=w,p.as=function(t,e){e=e?this:l(this);return e.typeSet=(t=t||y)===y||y.isPrototypeOf(t)?t:l(y,t),e.cacheKey=v,e.cacheKey=e._getCached(t,function(){return v+"."+ ++b},!0),e},p.seek=function(t,e){if(t=this.toValue(t),void 0===e)return this.view.seek(t);var i=this.view.tell();this.view.seek(t);e=e.call(this);return this.view.seek(i),e},p.tell=function(){return this.view.tell()},p.skip=function(t,e){return this.seek(this.tell()+this.toValue(t),e)},p.slice=function(t,e,i){return new s(this.view.slice(t,e,i),this.typeSet)},p._getType=function(t,e){switch(typeof t){case"string":if(!(t in this.typeSet))throw new ReferenceError("Unknown type: "+t);return this._getType(this.typeSet[t],e);case"number":return this._getType(y.bitfield,[t]);case"object":if(f(t,g)){var i=this;return t.inherit(e||[],function(t){return i.getType(t)})}return f(t,Array)?this._getCached(t,function(t){return this.getType(t[0],t.slice(1))},!0):this._getCached(t,function(t){return this.getType(y.object,[t])},!1)}},p.getType=function(t,e){e=this._getType(t,e);return e&&!f(t,g)&&(e.name="object"==typeof t?f(t,Array)?t[0]+"("+t.slice(1).join(", ")+")":"object":String(t)),e},p._action=function(t,e,i){if(void 0!==t){t=this.getType(t);var n=this._named(function(){return i.call(this,t.createProperty(this),this.contexts[0])},"["+t.name+"]",e);return void 0!==e?this.seek(e,n):n.call(this)}},p.read=function(t,e){return this._action(t,e,function(t,e){return t.read(e)})},p.readAll=function(){return this.read("jBinary.all",0)},p.write=function(t,n,e){return this._action(t,e,function(t,e){var i=this.tell();return t.write(n,e),this.tell()-i})},p.writeAll=function(t){return this.write("jBinary.all",t,0)},function(t,e){for(var i=0,n=e.length;i<n;i++){var r=e[i];y[r.toLowerCase()]=l(t,{dataType:r})}}(g({params:["littleEndian"],read:function(){return this.view["get"+this.dataType](void 0,this.littleEndian)},write:function(t){this.view["write"+this.dataType](t,this.littleEndian)}}),["Uint8","Uint16","Uint32","Uint64","Int8","Int16","Int32","Int64","Float32","Float64","Char"]),r(y,{byte:y.uint8,float:y.float32,double:y.float64}),y.array=w({params:["baseType","length"],read:function(){var t=this.toValue(this.length);if(this.baseType===y.uint8)return this.view.getBytes(t,void 0,!0,!0);if(void 0!==t)for(var e=new Array(t),i=0;i<t;i++)e[i]=this.baseRead();else{var n=this.view.byteLength;for(e=[];this.binary.tell()<n;)e.push(this.baseRead())}return e},write:function(t){if(this.baseType===y.uint8)return this.view.writeBytes(t);for(var e=0,i=t.length;e<i;e++)this.baseWrite(t[e])}}),y.binary=w({params:["length","typeSet"],read:function(){var t=this.binary.tell(),e=this.binary.skip(this.toValue(this.length));return new s(this.view.slice(t,e),this.typeSet)},write:function(t){this.binary.write("blob",t.read("blob",0))}}),y.bitfield=g({params:["bitSize"],read:function(){return this.view.getUnsigned(this.bitSize)},write:function(t){this.view.writeUnsigned(t,this.bitSize)}}),y.blob=g({params:["length"],read:function(){return this.view.getBytes(this.toValue(this.length))},write:function(t){this.view.writeBytes(t,!0)}}),y.const=w({params:["baseType","value","strict"],read:function(){var t=this.baseRead();if(this.strict&&t!==this.value){if(f(this.strict,Function))return this.strict(t);throw new TypeError("Unexpected value ("+t+" !== "+this.value+").")}return t},write:function(t){this.baseWrite(this.strict||void 0===t?this.value:t)}}),y.enum=w({params:["baseType","matches"],setParams:function(t,e){for(var i in this.backMatches={},e)this.backMatches[e[i]]=i},read:function(){var t=this.baseRead();return t in this.matches?this.matches[t]:t},write:function(t){this.baseWrite(t in this.backMatches?this.backMatches[t]:t)}}),y.extend=g({setParams:function(){this.parts=arguments},resolve:function(t){for(var e=this.parts,i=e.length,n=new Array(i),r=0;r<i;r++)n[r]=t(e[r]);this.parts=n},read:function(){var i=this.parts,n=this.binary.read(i[0]);return this.binary.inContext(n,function(){for(var t=1,e=i.length;t<e;t++)r(n,this.read(i[t]))}),n},write:function(i){var n=this.parts;this.binary.inContext(i,function(){for(var t=0,e=n.length;t<e;t++)this.write(n[t],i)})}}),y.if=w({params:["condition","trueType","falseType"],typeParams:["trueType","falseType"],getBaseType:function(t){return this.toValue(this.condition)?this.trueType:this.falseType}}),y.if_not=y.ifNot=w({setParams:function(t,e,i){this.baseType=["if",t,i,e]}}),y.lazy=w({marker:"jBinary.Lazy",params:["innerType","length"],getBaseType:function(){return["binary",this.length,this.binary.typeSet]},read:function(){var e=function(t){return 0===arguments.length?"value"in e?e.value:e.value=e.binary.read(e.innerType):r(e,{wasChanged:!0,value:t}).value};return e[this.marker]=!0,r(e,{binary:r(this.baseRead(),{contexts:this.binary.contexts.slice()}),innerType:this.innerType})},write:function(t){t.wasChanged||!t[this.marker]?this.binary.write(this.innerType,t()):this.baseWrite(t.binary)}}),y.object=g({params:["structure","proto"],resolve:function(t){var e,i={};for(e in this.structure)i[e]=f(this.structure[e],Function)?this.structure[e]:t(this.structure[e]);this.structure=i},read:function(){var i=this,n=this.structure,r=this.proto?l(this.proto):{};return this.binary.inContext(r,function(){for(var e in n)this._named(function(){var t=f(n[e],Function)?n[e].call(i,r):this.read(n[e]);void 0!==t&&(r[e]=t)},e).call(this)}),r},write:function(e){var i=this,n=this.structure;this.binary.inContext(e,function(){for(var t in n)this._named(function(){f(n[t],Function)?e[t]=n[t].call(i,e):this.write(n[t],e[t])},t).call(this)})}}),y.skip=g({params:["length"],read:function(){this.view.skip(this.toValue(this.length))},write:function(){this.read()}}),y.string=w({params:["length","encoding"],read:function(){return this.view.getString(this.toValue(this.length),void 0,this.encoding)},write:function(t){this.view.writeString(t,this.encoding)}}),y.string0=g({params:["length","encoding"],read:function(){var t=this.view;if(void 0!==(n=this.length))return t.getString(n,void 0,this.encoding).replace(/\0.*$/,"");for(var e=t.tell(),i=0,n=t.byteLength-e;i<n&&t.getUint8();)i++;e=t.getString(i,e,this.encoding);return i<n&&t.skip(1),e},write:function(t){var e=this.view,i=void 0===this.length?1:this.length-t.length;e.writeString(t,void 0,this.encoding),0<i&&(e.writeUint8(0),e.skip(i-1))}});s.loadData=t(function(t,e){var i;if(f(t,h.Blob))if("FileReader"in h)(a=new FileReader).onload=a.onerror=function(){e(this.error,this.result)},a.readAsArrayBuffer(t);else{var n,r,a=new FileReaderSync;try{r=a.readAsArrayBuffer(t)}catch(t){n=t}finally{e(n,r)}}else if(0,"string"!=typeof t)e(new TypeError("Unsupported source type."));else if(r=t.match(/^data:(.+?)(;base64)?,(.*)$/))try{var s=r[2],o=r[3];e(null,(s?atob:decodeURIComponent)(o))}catch(t){e(t)}else"XMLHttpRequest"in h?((o=new XMLHttpRequest).open("GET",t,!0),"responseType"in o?o.responseType="arraybuffer":"overrideMimeType"in o?o.overrideMimeType("text/plain; charset=x-user-defined"):o.setRequestHeader("Accept-Charset","x-user-defined"),"onload"in o||(o.onreadystatechange=function(){4===this.readyState&&this.onload()}),i=function(t){e(new Error(t))},o.onload=function(){if(0!==this.status&&200!==this.status)return i("HTTP Error #"+this.status+": "+this.statusText);"response"in this||(this.response=new VBArray(this.responseBody).toArray()),e(null,this.response)},o.onerror=function(){i("Network error.")},o.send(null)):e(new TypeError("Unsupported source type."))}),(s.load=t(function(t,e,i){var n=s.loadData(t);s.load.getTypeSet(t,e,function(e){n.then(function(t){i(null,new s(t,e))},i)})})).getTypeSet=function(t,e,i){i(e)},p._toURI="URL"in h&&"createObjectURL"in URL?function(t){var e=this.seek(0,function(){return this.view.getBytes()});return URL.createObjectURL(new Blob([e],{type:t}))}:function(t){var e=this.seek(0,function(){return this.view.getString(void 0,void 0,"binary")});return"data:"+t+";base64,"+btoa(e)},p._mimeType=function(t){return t||this.typeSet["jBinary.mimeType"]||"application/octet-stream"};var m;p.toURI=function(t){return this._toURI(this._mimeType(t))};return n&&((m=s.downloader=n.createElement("a")).style.display="none"),p.saveAs=t(function(t,e,i){"string"==typeof t?("msSaveBlob"in navigator?navigator.msSaveBlob(new Blob([this.read("blob",0)],{type:this._mimeType(e)}),t):n?(m.parentNode||n.body.appendChild(m),m.href=this.toURI(e),m.download=t,m.click(),m.href=m.download=""):i(new TypeError("Saving from Web Worker is not supported.")),i()):i(new TypeError("Unsupported storage type."))}),s});
//# sourceMappingURL=jbinary.js.map

/***/ }),

/***/ "./node_modules/jdataview/dist/node/jdataview.js":
/*!*******************************************************!*\
  !*** ./node_modules/jdataview/dist/node/jdataview.js ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(Buffer) {!function(factory) {
    var global = this;
    module.exports = factory(global);
}(function(global) {
    "use strict";
    function is(obj, Ctor) {
        return "object" != typeof obj || null === obj ? !1 : obj.constructor === Ctor || Object.prototype.toString.call(obj) === "[object " + Ctor.name + "]";
    }
    function arrayFrom(arrayLike, forceCopy) {
        return !forceCopy && is(arrayLike, Array) ? arrayLike : Array.prototype.slice.call(arrayLike);
    }
    function defined(value, defaultValue) {
        return void 0 !== value ? value : defaultValue;
    }
    function jDataView(buffer, byteOffset, byteLength, littleEndian) {
        if (jDataView.is(buffer)) {
            var result = buffer.slice(byteOffset, byteOffset + byteLength);
            return result._littleEndian = defined(littleEndian, result._littleEndian), result;
        }
        if (!jDataView.is(this)) return new jDataView(buffer, byteOffset, byteLength, littleEndian);
        if (this.buffer = buffer = jDataView.wrapBuffer(buffer), this._isArrayBuffer = compatibility.ArrayBuffer && is(buffer, ArrayBuffer), 
        this._isPixelData = !1, this._isDataView = compatibility.DataView && this._isArrayBuffer, 
        this._isNodeBuffer =  true && compatibility.NodeBuffer && is(buffer, Buffer), !this._isNodeBuffer && !this._isArrayBuffer && !is(buffer, Array)) throw new TypeError("jDataView buffer has an incompatible type");
        this._littleEndian = !!littleEndian;
        var bufferLength = "byteLength" in buffer ? buffer.byteLength : buffer.length;
        this.byteOffset = byteOffset = defined(byteOffset, 0), this.byteLength = byteLength = defined(byteLength, bufferLength - byteOffset), 
        this._offset = this._bitOffset = 0, this._isDataView ? this._view = new DataView(buffer, byteOffset, byteLength) : this._checkBounds(byteOffset, byteLength, bufferLength), 
        this._engineAction = this._isDataView ? this._dataViewAction : this._isNodeBuffer ? this._nodeBufferAction : this._isArrayBuffer ? this._arrayBufferAction : this._arrayAction;
    }
    function getCharCodes(string) {
        if (compatibility.NodeBuffer) return new Buffer(string, "binary");
        for (var Type = compatibility.ArrayBuffer ? Uint8Array : Array, codes = new Type(string.length), i = 0, length = string.length; length > i; i++) codes[i] = 255 & string.charCodeAt(i);
        return codes;
    }
    function pow2(n) {
        return n >= 0 && 31 > n ? 1 << n : pow2[n] || (pow2[n] = Math.pow(2, n));
    }
    function Uint64(lo, hi) {
        this.lo = lo, this.hi = hi;
    }
    function Int64() {
        Uint64.apply(this, arguments);
    }
    var compatibility = {
        NodeBuffer:  true && "Buffer" in global,
        DataView: "DataView" in global,
        ArrayBuffer: "ArrayBuffer" in global,
        PixelData: !1
    }, TextEncoder = global.TextEncoder, TextDecoder = global.TextDecoder;
    compatibility.NodeBuffer && !function(buffer) {
        try {
            buffer.writeFloatLE(1/0, 0);
        } catch (e) {
            compatibility.NodeBuffer = !1;
        }
    }(new Buffer(4));
    var dataTypes = {
        Int8: 1,
        Int16: 2,
        Int32: 4,
        Uint8: 1,
        Uint16: 2,
        Uint32: 4,
        Float32: 4,
        Float64: 8
    };
    jDataView.wrapBuffer = function(buffer) {
        switch (typeof buffer) {
          case "number":
            if (compatibility.NodeBuffer) buffer = new Buffer(buffer), buffer.fill(0); else if (compatibility.ArrayBuffer) buffer = new Uint8Array(buffer).buffer; else {
                buffer = new Array(buffer);
                for (var i = 0; i < buffer.length; i++) buffer[i] = 0;
            }
            return buffer;

          case "string":
            buffer = getCharCodes(buffer);

          default:
            return "length" in buffer && !(compatibility.NodeBuffer && is(buffer, Buffer) || compatibility.ArrayBuffer && is(buffer, ArrayBuffer)) && (compatibility.NodeBuffer ? buffer = new Buffer(buffer) : compatibility.ArrayBuffer ? is(buffer, ArrayBuffer) || (buffer = new Uint8Array(buffer).buffer, 
            is(buffer, ArrayBuffer) || (buffer = new Uint8Array(arrayFrom(buffer, !0)).buffer)) : buffer = arrayFrom(buffer)), 
            buffer;
        }
    }, jDataView.is = function(view) {
        return view && view.jDataView;
    }, jDataView.from = function() {
        return new jDataView(arguments);
    }, jDataView.Uint64 = Uint64, Uint64.prototype = {
        valueOf: function() {
            return this.lo + pow2(32) * this.hi;
        },
        toString: function() {
            return Number.prototype.toString.apply(this.valueOf(), arguments);
        }
    }, Uint64.fromNumber = function(number) {
        var hi = Math.floor(number / pow2(32)), lo = number - hi * pow2(32);
        return new Uint64(lo, hi);
    }, jDataView.Int64 = Int64, Int64.prototype = "create" in Object ? Object.create(Uint64.prototype) : new Uint64(), 
    Int64.prototype.valueOf = function() {
        return this.hi < pow2(31) ? Uint64.prototype.valueOf.apply(this, arguments) : -(pow2(32) - this.lo + pow2(32) * (pow2(32) - 1 - this.hi));
    }, Int64.fromNumber = function(number) {
        var lo, hi;
        if (number >= 0) {
            var unsigned = Uint64.fromNumber(number);
            lo = unsigned.lo, hi = unsigned.hi;
        } else hi = Math.floor(number / pow2(32)), lo = number - hi * pow2(32), hi += pow2(32);
        return new Int64(lo, hi);
    };
    var proto = jDataView.prototype = {
        compatibility: compatibility,
        jDataView: !0,
        _checkBounds: function(byteOffset, byteLength, maxLength) {
            if ("number" != typeof byteOffset) throw new TypeError("Offset is not a number.");
            if ("number" != typeof byteLength) throw new TypeError("Size is not a number.");
            if (0 > byteLength) throw new RangeError("Length is negative.");
            if (0 > byteOffset || byteOffset + byteLength > defined(maxLength, this.byteLength)) throw new RangeError("Offsets are out of bounds.");
        },
        _action: function(type, isReadAction, byteOffset, littleEndian, value) {
            return this._engineAction(type, isReadAction, defined(byteOffset, this._offset), defined(littleEndian, this._littleEndian), value);
        },
        _dataViewAction: function(type, isReadAction, byteOffset, littleEndian, value) {
            return this._offset = byteOffset + dataTypes[type], isReadAction ? this._view["get" + type](byteOffset, littleEndian) : this._view["set" + type](byteOffset, value, littleEndian);
        },
        _arrayBufferAction: function(type, isReadAction, byteOffset, littleEndian, value) {
            var typedArray, size = dataTypes[type], TypedArray = global[type + "Array"];
            if (littleEndian = defined(littleEndian, this._littleEndian), 1 === size || (this.byteOffset + byteOffset) % size === 0 && littleEndian) return typedArray = new TypedArray(this.buffer, this.byteOffset + byteOffset, 1), 
            this._offset = byteOffset + size, isReadAction ? typedArray[0] : typedArray[0] = value;
            var bytes = new Uint8Array(isReadAction ? this.getBytes(size, byteOffset, littleEndian, !0) : size);
            return typedArray = new TypedArray(bytes.buffer, 0, 1), isReadAction ? typedArray[0] : (typedArray[0] = value, 
            void this._setBytes(byteOffset, bytes, littleEndian));
        },
        _arrayAction: function(type, isReadAction, byteOffset, littleEndian, value) {
            return isReadAction ? this["_get" + type](byteOffset, littleEndian) : this["_set" + type](byteOffset, value, littleEndian);
        },
        _getBytes: function(length, byteOffset, littleEndian) {
            littleEndian = defined(littleEndian, this._littleEndian), byteOffset = defined(byteOffset, this._offset), 
            length = defined(length, this.byteLength - byteOffset), this._checkBounds(byteOffset, length), 
            byteOffset += this.byteOffset, this._offset = byteOffset - this.byteOffset + length;
            var result = this._isArrayBuffer ? new Uint8Array(this.buffer, byteOffset, length) : (this.buffer.slice || Array.prototype.slice).call(this.buffer, byteOffset, byteOffset + length);
            return littleEndian || 1 >= length ? result : arrayFrom(result).reverse();
        },
        getBytes: function(length, byteOffset, littleEndian, toArray) {
            var result = this._getBytes(length, byteOffset, defined(littleEndian, !0));
            return toArray ? arrayFrom(result) : result;
        },
        _setBytes: function(byteOffset, bytes, littleEndian) {
            var length = bytes.length;
            if (0 !== length) {
                if (littleEndian = defined(littleEndian, this._littleEndian), byteOffset = defined(byteOffset, this._offset), 
                this._checkBounds(byteOffset, length), !littleEndian && length > 1 && (bytes = arrayFrom(bytes, !0).reverse()), 
                byteOffset += this.byteOffset, this._isArrayBuffer) new Uint8Array(this.buffer, byteOffset, length).set(bytes); else if (this._isNodeBuffer) new Buffer(bytes).copy(this.buffer, byteOffset); else for (var i = 0; length > i; i++) this.buffer[byteOffset + i] = bytes[i];
                this._offset = byteOffset - this.byteOffset + length;
            }
        },
        setBytes: function(byteOffset, bytes, littleEndian) {
            this._setBytes(byteOffset, bytes, defined(littleEndian, !0));
        },
        getString: function(byteLength, byteOffset, encoding) {
            if (this._isNodeBuffer) return byteOffset = defined(byteOffset, this._offset), byteLength = defined(byteLength, this.byteLength - byteOffset), 
            this._checkBounds(byteOffset, byteLength), this._offset = byteOffset + byteLength, 
            this.buffer.toString(encoding || "binary", this.byteOffset + byteOffset, this.byteOffset + this._offset);
            var bytes = this._getBytes(byteLength, byteOffset, !0);
            if (encoding = "utf8" === encoding ? "utf-8" : encoding || "binary", TextDecoder && "binary" !== encoding) return new TextDecoder(encoding).decode(this._isArrayBuffer ? bytes : new Uint8Array(bytes));
            var string = "";
            byteLength = bytes.length;
            for (var i = 0; byteLength > i; i++) string += String.fromCharCode(bytes[i]);
            return "utf-8" === encoding && (string = decodeURIComponent(escape(string))), string;
        },
        setString: function(byteOffset, subString, encoding) {
            if (this._isNodeBuffer) return byteOffset = defined(byteOffset, this._offset), this._checkBounds(byteOffset, subString.length), 
            void (this._offset = byteOffset + this.buffer.write(subString, this.byteOffset + byteOffset, encoding || "binary"));
            encoding = "utf8" === encoding ? "utf-8" : encoding || "binary";
            var bytes;
            TextEncoder && "binary" !== encoding ? bytes = new TextEncoder(encoding).encode(subString) : ("utf-8" === encoding && (subString = unescape(encodeURIComponent(subString))), 
            bytes = getCharCodes(subString)), this._setBytes(byteOffset, bytes, !0);
        },
        getChar: function(byteOffset) {
            return this.getString(1, byteOffset);
        },
        setChar: function(byteOffset, character) {
            this.setString(byteOffset, character);
        },
        tell: function() {
            return this._offset;
        },
        seek: function(byteOffset) {
            return this._checkBounds(byteOffset, 0), this._offset = byteOffset;
        },
        skip: function(byteLength) {
            return this.seek(this._offset + byteLength);
        },
        slice: function(start, end, forceCopy) {
            function normalizeOffset(offset, byteLength) {
                return 0 > offset ? offset + byteLength : offset;
            }
            return start = normalizeOffset(start, this.byteLength), end = normalizeOffset(defined(end, this.byteLength), this.byteLength), 
            forceCopy ? new jDataView(this.getBytes(end - start, start, !0, !0), void 0, void 0, this._littleEndian) : new jDataView(this.buffer, this.byteOffset + start, end - start, this._littleEndian);
        },
        alignBy: function(byteCount) {
            return this._bitOffset = 0, 1 !== defined(byteCount, 1) ? this.skip(byteCount - (this._offset % byteCount || byteCount)) : this._offset;
        },
        _getFloat64: function(byteOffset, littleEndian) {
            var b = this._getBytes(8, byteOffset, littleEndian), sign = 1 - 2 * (b[7] >> 7), exponent = ((b[7] << 1 & 255) << 3 | b[6] >> 4) - 1023, mantissa = (15 & b[6]) * pow2(48) + b[5] * pow2(40) + b[4] * pow2(32) + b[3] * pow2(24) + b[2] * pow2(16) + b[1] * pow2(8) + b[0];
            return 1024 === exponent ? 0 !== mantissa ? 0/0 : 1/0 * sign : -1023 === exponent ? sign * mantissa * pow2(-1074) : sign * (1 + mantissa * pow2(-52)) * pow2(exponent);
        },
        _getFloat32: function(byteOffset, littleEndian) {
            var b = this._getBytes(4, byteOffset, littleEndian), sign = 1 - 2 * (b[3] >> 7), exponent = (b[3] << 1 & 255 | b[2] >> 7) - 127, mantissa = (127 & b[2]) << 16 | b[1] << 8 | b[0];
            return 128 === exponent ? 0 !== mantissa ? 0/0 : 1/0 * sign : -127 === exponent ? sign * mantissa * pow2(-149) : sign * (1 + mantissa * pow2(-23)) * pow2(exponent);
        },
        _get64: function(Type, byteOffset, littleEndian) {
            littleEndian = defined(littleEndian, this._littleEndian), byteOffset = defined(byteOffset, this._offset);
            for (var parts = littleEndian ? [ 0, 4 ] : [ 4, 0 ], i = 0; 2 > i; i++) parts[i] = this.getUint32(byteOffset + parts[i], littleEndian);
            return this._offset = byteOffset + 8, new Type(parts[0], parts[1]);
        },
        getInt64: function(byteOffset, littleEndian) {
            return this._get64(Int64, byteOffset, littleEndian);
        },
        getUint64: function(byteOffset, littleEndian) {
            return this._get64(Uint64, byteOffset, littleEndian);
        },
        _getInt32: function(byteOffset, littleEndian) {
            var b = this._getBytes(4, byteOffset, littleEndian);
            return b[3] << 24 | b[2] << 16 | b[1] << 8 | b[0];
        },
        _getUint32: function(byteOffset, littleEndian) {
            return this._getInt32(byteOffset, littleEndian) >>> 0;
        },
        _getInt16: function(byteOffset, littleEndian) {
            return this._getUint16(byteOffset, littleEndian) << 16 >> 16;
        },
        _getUint16: function(byteOffset, littleEndian) {
            var b = this._getBytes(2, byteOffset, littleEndian);
            return b[1] << 8 | b[0];
        },
        _getInt8: function(byteOffset) {
            return this._getUint8(byteOffset) << 24 >> 24;
        },
        _getUint8: function(byteOffset) {
            return this._getBytes(1, byteOffset)[0];
        },
        _getBitRangeData: function(bitLength, byteOffset) {
            var startBit = (defined(byteOffset, this._offset) << 3) + this._bitOffset, endBit = startBit + bitLength, start = startBit >>> 3, end = endBit + 7 >>> 3, b = this._getBytes(end - start, start, !0), wideValue = 0;
            (this._bitOffset = 7 & endBit) && (this._bitOffset -= 8);
            for (var i = 0, length = b.length; length > i; i++) wideValue = wideValue << 8 | b[i];
            return {
                start: start,
                bytes: b,
                wideValue: wideValue
            };
        },
        getSigned: function(bitLength, byteOffset) {
            var shift = 32 - bitLength;
            return this.getUnsigned(bitLength, byteOffset) << shift >> shift;
        },
        getUnsigned: function(bitLength, byteOffset) {
            var value = this._getBitRangeData(bitLength, byteOffset).wideValue >>> -this._bitOffset;
            return 32 > bitLength ? value & ~(-1 << bitLength) : value;
        },
        _setBinaryFloat: function(byteOffset, value, mantSize, expSize, littleEndian) {
            var exponent, mantissa, signBit = 0 > value ? 1 : 0, eMax = ~(-1 << expSize - 1), eMin = 1 - eMax;
            0 > value && (value = -value), 0 === value ? (exponent = 0, mantissa = 0) : isNaN(value) ? (exponent = 2 * eMax + 1, 
            mantissa = 1) : 1/0 === value ? (exponent = 2 * eMax + 1, mantissa = 0) : (exponent = Math.floor(Math.log(value) / Math.LN2), 
            exponent >= eMin && eMax >= exponent ? (mantissa = Math.floor((value * pow2(-exponent) - 1) * pow2(mantSize)), 
            exponent += eMax) : (mantissa = Math.floor(value / pow2(eMin - mantSize)), exponent = 0));
            for (var b = []; mantSize >= 8; ) b.push(mantissa % 256), mantissa = Math.floor(mantissa / 256), 
            mantSize -= 8;
            for (exponent = exponent << mantSize | mantissa, expSize += mantSize; expSize >= 8; ) b.push(255 & exponent), 
            exponent >>>= 8, expSize -= 8;
            b.push(signBit << expSize | exponent), this._setBytes(byteOffset, b, littleEndian);
        },
        _setFloat32: function(byteOffset, value, littleEndian) {
            this._setBinaryFloat(byteOffset, value, 23, 8, littleEndian);
        },
        _setFloat64: function(byteOffset, value, littleEndian) {
            this._setBinaryFloat(byteOffset, value, 52, 11, littleEndian);
        },
        _set64: function(Type, byteOffset, value, littleEndian) {
            "object" != typeof value && (value = Type.fromNumber(value)), littleEndian = defined(littleEndian, this._littleEndian), 
            byteOffset = defined(byteOffset, this._offset);
            var parts = littleEndian ? {
                lo: 0,
                hi: 4
            } : {
                lo: 4,
                hi: 0
            };
            for (var partName in parts) this.setUint32(byteOffset + parts[partName], value[partName], littleEndian);
            this._offset = byteOffset + 8;
        },
        setInt64: function(byteOffset, value, littleEndian) {
            this._set64(Int64, byteOffset, value, littleEndian);
        },
        setUint64: function(byteOffset, value, littleEndian) {
            this._set64(Uint64, byteOffset, value, littleEndian);
        },
        _setUint32: function(byteOffset, value, littleEndian) {
            this._setBytes(byteOffset, [ 255 & value, value >>> 8 & 255, value >>> 16 & 255, value >>> 24 ], littleEndian);
        },
        _setUint16: function(byteOffset, value, littleEndian) {
            this._setBytes(byteOffset, [ 255 & value, value >>> 8 & 255 ], littleEndian);
        },
        _setUint8: function(byteOffset, value) {
            this._setBytes(byteOffset, [ 255 & value ]);
        },
        setUnsigned: function(byteOffset, value, bitLength) {
            var data = this._getBitRangeData(bitLength, byteOffset), wideValue = data.wideValue, b = data.bytes;
            wideValue &= ~(~(-1 << bitLength) << -this._bitOffset), wideValue |= (32 > bitLength ? value & ~(-1 << bitLength) : value) << -this._bitOffset;
            for (var i = b.length - 1; i >= 0; i--) b[i] = 255 & wideValue, wideValue >>>= 8;
            this._setBytes(data.start, b, !0);
        }
    }, nodeNaming = {
        Int8: "Int8",
        Int16: "Int16",
        Int32: "Int32",
        Uint8: "UInt8",
        Uint16: "UInt16",
        Uint32: "UInt32",
        Float32: "Float",
        Float64: "Double"
    };
    proto._nodeBufferAction = function(type, isReadAction, byteOffset, littleEndian, value) {
        this._offset = byteOffset + dataTypes[type];
        var nodeName = nodeNaming[type] + ("Int8" === type || "Uint8" === type ? "" : littleEndian ? "LE" : "BE");
        return byteOffset += this.byteOffset, isReadAction ? this.buffer["read" + nodeName](byteOffset) : this.buffer["write" + nodeName](value, byteOffset);
    };
    for (var type in dataTypes) !function(type) {
        proto["get" + type] = function(byteOffset, littleEndian) {
            return this._action(type, !0, byteOffset, littleEndian);
        }, proto["set" + type] = function(byteOffset, value, littleEndian) {
            this._action(type, !1, byteOffset, littleEndian, value);
        };
    }(type);
    proto._setInt32 = proto._setUint32, proto._setInt16 = proto._setUint16, proto._setInt8 = proto._setUint8, 
    proto.setSigned = proto.setUnsigned;
    for (var method in proto) "set" === method.slice(0, 3) && !function(type) {
        proto["write" + type] = function() {
            Array.prototype.unshift.call(arguments, void 0), this["set" + type].apply(this, arguments);
        };
    }(method.slice(3));
    return jDataView;
});
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../buffer/index.js */ "./node_modules/buffer/index.js").Buffer))

/***/ }),

/***/ "./node_modules/mpegts_to_mp4/mpegts_to_mp4/adts.js":
/*!**********************************************************!*\
  !*** ./node_modules/mpegts_to_mp4/mpegts_to_mp4/adts.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (root, factory) {
    if (true) {
        // AMD. Register as an anonymous module.
        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
    } else {}
}(this, function () {
	'use strict';

	return {
		ADTSPacket: {
			_start: function () { return this.binary.tell() },
			_syncWord: ['const', 12, 0xfff, true],
			version: ['enum', 1, ['mpeg-4', 'mpeg-2']],
			layer: ['const', 2, 0],
			isProtectionAbsent: 1,
			profileMinusOne: 2, // http://wiki.multimedia.cx/index.php?title=MPEG-4_Audio#Audio_Object_Types minus one
			samplingFreq: ['enum', 4, [96000, 88200, 64000, 48000, 44100, 32000, 24000, 22050, 16000, 12000, 11025, 8000, 7350]], // http://wiki.multimedia.cx/index.php?title=MPEG-4_Audio#Sampling_Frequencies
			_privateStream: 1,
			channelConfig: 3, // http://wiki.multimedia.cx/index.php?title=MPEG-4_Audio#Channel_Configurations
			_reserved: 4, // originality, home, copyrighted, copyright start bits
			frameLength: 13,
			bufferFullness: 11,
			aacFramesCountMinusOne: 2,
			data: ['blob', function (context) { return context.frameLength - (this.binary.tell() - context._start) }]
		}
	};
}));

/***/ }),

/***/ "./node_modules/mpegts_to_mp4/mpegts_to_mp4/h264.js":
/*!**********************************************************!*\
  !*** ./node_modules/mpegts_to_mp4/mpegts_to_mp4/h264.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (root, factory) {
    if (true) {
        // AMD. Register as an anonymous module.
        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! jbinary */ "./node_modules/jbinary/dist/browser/jbinary.js")], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
    } else {}
}(this, function (jBinary) {
	'use strict';

	return {
		ExpGolomb: jBinary.Type({
			params: ['isSigned'],
			read: function () {
				var count = 0;
				while (!this.binary.read(1)) count++;
				var value = (1 << count) | this.binary.read(count);
				return this.isSigned ? (value & 1 ? -(value >> 1) : value >> 1) : value - 1;
			},
			write: function (value) {
				if (this.isSigned) {
					value <<= 1;
					if (value <= 0) {
						value = -value | 1;
					}
				} else {
					value++;
				}
				var length = value.toString(2).length;
				this.binary.write(length - 1, 0);
				this.binary.write(length, value);
			}
		}),

		Optional: jBinary.Template({
		    params: ['baseType'],
			read: function () {
				if (this.binary.read(1)) return this.baseRead();
			},
			write: function (value) {
				this.binary.write(value != null ? 1 : 0);
				if (value != null) {
					this.baseWrite(value);
				}
			}
		}),

		ScalingList: jBinary.Template({
			setParams: function (size) {
				this.baseType = ['array', { /* TODO: implement scaling list */ }, size];
			}
		}),

		SPS: [
			'extend',
			{
				profile_idc: 'uint8',
				constraint_set_flags: ['array', 1, 8],
				level_idc: 'uint8',
				seq_parameter_set_id: 'ExpGolomb'
			},
			['if', function (context) { return [100, 110, 122, 244, 44, 83, 86, 118].indexOf(context.profile_idc) >= 0 }, {
				chroma_format: ['enum', 'ExpGolomb', ['MONO', 'YUV420', 'YUV422', 'YUV444']],
				separate_color_plane_flag: ['if', function (context) { return context.chroma_format === 'YUV444' }, 1],
				bit_depth_luma_minus8: 'ExpGolomb',
				bit_depth_chroma_minus8: 'ExpGolomb',
				qpprime_y_zero_transform_bypass_flag: 1,
				scaling_matrix: ['Optional', {
					scalingList4x4: ['array', ['ScalingList', 16], 6],
					scalingList8x8: ['array', ['ScalingList', 64], function () { return this.binary.getContext(1).chroma_format !== 'YUV444' ? 2 : 6 }]
				}]
			}],
			{
				log2_max_frame_num_minus4: 'ExpGolomb',
				pic_order_cnt_type: 'ExpGolomb',
				pic_order: ['if_not', 'pic_order_cnt_type', {log2_max_pic_order_cnt_lsb_minus4: 'ExpGolomb'}, [
					'if',
					function (context) { return context.pic_order_cnt_type === 1 },
					{
						delta_pic_order_always_zero_flag: 1,
						offset_for_non_ref_pic: ['ExpGolomb', true],
						offset_for_top_to_bottom_field: ['ExpGolomb', true],
						_num_ref_frames_in_pic_order_cnt_cycle: jBinary.Template({
							baseType: 'ExpGolomb',
							write: function (value, context) { this.baseWrite(context.offset_for_ref_frame.length) }
						}),
						offset_for_ref_frame: ['array', ['ExpGolomb', true], function (context) { return context._num_ref_frames_in_pic_order_cnt_cycle }]
					}
				]],
				max_num_ref_frames: 'ExpGolomb',
				gaps_in_frame_num_value_allowed_flag: 1,
				pic_width_in_mbs_minus_1: 'ExpGolomb',
				pic_height_in_map_units_minus_1: 'ExpGolomb',
				frame_mbs_only_flag: 1,
				mb_adaptive_frame_field_flag: ['if_not', 'frame_mbs_only_flag', 1],
				direct_8x8_inference_flag: 1,
				frame_cropping: ['Optional', {
					left: 'ExpGolomb',
					right: 'ExpGolomb',
					top: 'ExpGolomb',
					bottom: 'ExpGolomb'
				}]
				// TODO: add VUI parameters
			}
		],

		NALUnit: jBinary.Type({
			read: function () {
				var sync = this.binary.read(['blob', 3]); // [0, 0, 1] or [0, 0, 0, 1]
				if (sync[2] === 0) this.binary.skip(1);
				var end = this.binary.view.byteLength, pos = this.binary.tell();
				var bytes = this.binary.skip(0, function () { return this.view.getBytes() });
				for (var i = 1, length = bytes.length - 3; i < length; i++) {
					if (bytes[i] === 0 && bytes[i + 1] === 0 && (bytes[i + 2] === 1 || (bytes[i + 2] === 0 && bytes[i + 3] === 1))) {
						end = pos + i;
						break;
					}
				}
				var data = this.binary.read(['blob', end - pos]);
				// TODO: ideally there should be Annex.B conversion from [0, 0, 3, X=0..3] to [0, 0, X]
				return data;
			}
		})
	};
}));

/***/ }),

/***/ "./node_modules/mpegts_to_mp4/mpegts_to_mp4/index.js":
/*!***********************************************************!*\
  !*** ./node_modules/mpegts_to_mp4/mpegts_to_mp4/index.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (root, factory) {
    if (true) {
        // AMD. Register as an anonymous module.
        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! jdataview */ "./node_modules/jdataview/dist/node/jdataview.js"), __webpack_require__(/*! jbinary */ "./node_modules/jbinary/dist/browser/jbinary.js"), __webpack_require__(/*! ./mp4 */ "./node_modules/mpegts_to_mp4/mpegts_to_mp4/mp4.js"), __webpack_require__(/*! ./h264 */ "./node_modules/mpegts_to_mp4/mpegts_to_mp4/h264.js"), __webpack_require__(/*! ./pes */ "./node_modules/mpegts_to_mp4/mpegts_to_mp4/pes.js"), __webpack_require__(/*! ./adts */ "./node_modules/mpegts_to_mp4/mpegts_to_mp4/adts.js")], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
    } else {}
}(this, function (jDataView, jBinary, MP4, H264, PES, ADTS) {
	'use strict';


	/**
	 * Copied from mux.js => https://github.com/videojs/mux.js/blob/957441d44307a47d801af3db5c51072ed241f8c2/lib/codecs/h264.js#L266
	 * Expunge any "Emulation Prevention" bytes from a "Raw Byte
	 * Sequence Payload"
	 * @param data {Uint8Array} the bytes of a RBSP from a NAL
	 * unit
	 * @return {Uint8Array} the RBSP without any Emulation
	 * Prevention Bytes
	 */
	var discardEmulationPreventionBytes = function(data) {
		var
		length = data.byteLength,
		emulationPreventionBytesPositions = [],
		i = 0,
		newLength, newData;

		// Find all `Emulation Prevention Bytes`
		while (i < length - 2) {
		if (data[i] === 0 && data[i + 1] === 0 && data[i + 2] === 0x03) {
			emulationPreventionBytesPositions.push(i + 2);
			i += 2;
		} else {
			i++;
		}
		}

		// If no Emulation Prevention Bytes were found just return the original
		// array
		if (emulationPreventionBytesPositions.length === 0) {
		return data;
		}

		// Create a new array to hold the NAL unit data
		newLength = length - emulationPreventionBytesPositions.length;
		newData = new Uint8Array(newLength);
		var sourceIndex = 0;

		for (i = 0; i < newLength; sourceIndex++, i++) {
		if (sourceIndex === emulationPreventionBytesPositions[0]) {
			// Skip this byte
			sourceIndex++;
			// Remove this position index
			emulationPreventionBytesPositions.shift();
		}
		newData[i] = data[sourceIndex];
		}

		return newData;
	};


	return function (mpegts) {
		var packets = mpegts.read('File');
		
		// extracting and concatenating raw stream parts
		var stream = new jDataView(mpegts.view.byteLength);
		for (var i = 0, length = packets.length; i < length; i++) {
			var packet = packets[i], adaptation = packet.adaptationField, payload = packet.payload;
			if (payload && payload._rawStream) {
				stream.writeBytes(payload._rawStream);
			}
		}
		
		var pesStream = new jBinary(stream.slice(0, stream.tell()), PES),
			audioStream = new jBinary(stream.byteLength, ADTS),
			samples = [],
			audioSamples = [];

		stream = new jDataView(stream.byteLength);
		
		while (pesStream.tell() < pesStream.view.byteLength) {
			var packet = pesStream.read('PESPacket');

			if (packet.streamId === 0xC0) {
				// 0xC0 means we have got first audio stream
				audioStream.write('blob', packet.data);
			} else
			if (packet.streamId === 0xE0) {
				var nalStream = new jBinary(packet.data, H264),
					pts = packet.pts,
					dts = packet.dts,
					curSample = {offset: stream.tell(), pts: pts, dts: dts !== undefined ? dts : pts};
				
				samples.push(curSample);
				
				// collecting info from H.264 NAL units
				while (nalStream.tell() < nalStream.view.byteLength) {
					var nalUnit = nalStream.read('NALUnit');
					switch (nalUnit[0] & 0x1F) {
						case 7:
							if (!sps) {
								var sps = nalUnit;
								// remove Emulation Prevention Bytes to get correct width & height
								// See http://blog.51cto.com/danielllf/1758115
								var spsInfo = new jBinary(discardEmulationPreventionBytes(sps.subarray(1)), H264).read('SPS');
								var width = (spsInfo.pic_width_in_mbs_minus_1 + 1) * 16;
								var height = (2 - spsInfo.frame_mbs_only_flag) * (spsInfo.pic_height_in_map_units_minus_1 + 1) * 16;
								var cropping = spsInfo.frame_cropping;
								if (cropping) {
									width -= 2 * (cropping.left + cropping.right);
									height -= 2 * (cropping.top + cropping.bottom);
								}
							}
							break;

						case 8:
							if (!pps) {
								var pps = nalUnit;
							}
							break;

						case 5:
							curSample.isIDR = true;
						/* falls through */
						default:
							stream.writeUint32(nalUnit.length);
							stream.writeBytes(nalUnit);
					}
				}
			}
		}
		
		samples.push({offset: stream.tell()});

		var sizes = [],
			dtsDiffs = [],
			accessIndexes = [],
			pts_dts_Diffs = [],
			current = samples[0],
			frameRate = {sum: 0, count: 0},
			duration = 0;
		
		// calculating PTS/DTS differences and collecting keyframes
		
		for (var i = 0, length = samples.length - 1; i < length; i++) {
			var next = samples[i + 1];
			sizes.push(next.offset - current.offset);
			var dtsDiff = next.dts - current.dts;
			if (dtsDiff) {
				dtsDiffs.push({sample_count: 1, sample_delta: dtsDiff});
				duration += dtsDiff;
				frameRate.sum += dtsDiff;
				frameRate.count++;
			} else {
				dtsDiffs.length++;
			}
			if (current.isIDR) {
				accessIndexes.push(i + 1);
			}
			pts_dts_Diffs.push({
				first_chunk: pts_dts_Diffs.length + 1,
				sample_count: 1,
				sample_offset: current.dtsFix = current.pts - current.dts
			});
			current = next;
		}
		
		frameRate = Math.round(frameRate.sum / frameRate.count);
		
		for (var i = 0, length = dtsDiffs.length; i < length; i++) {
			if (dtsDiffs[i] === undefined) {
				dtsDiffs[i] = {first_chunk: i + 1, sample_count: 1, sample_delta: frameRate};
				duration += frameRate;
				//samples[i + 1].dts = samples[i].dts + frameRate;
			}
		}

		// checking if DTS differences are same everywhere to pack them into one item
		
		var dtsDiffsSame = true;
		
		for (var i = 1, length = dtsDiffs.length; i < length; i++) {
			if (dtsDiffs[i].sample_delta !== dtsDiffs[0].sample_delta) {
				dtsDiffsSame = false;
				break;
			}
		}
		
		if (dtsDiffsSame) {
			dtsDiffs = [{first_chunk: 1, sample_count: sizes.length, sample_delta: dtsDiffs[0].sample_delta}];
		}

		// building audio metadata

		var audioStart = stream.tell(),
			audioSize = audioStream.tell(),
			audioSizes = [],
			audioHeader,
			maxAudioSize = 0;
			
		audioStream.seek(0);
		
		while (audioStream.tell() < audioSize) {
			audioHeader = audioStream.read('ADTSPacket');
			audioSizes.push(audioHeader.data.length);
			if (audioHeader.data.length > maxAudioSize) {
				maxAudioSize = audioHeader.data.length;
			}
			stream.writeBytes(audioHeader.data);
		}

		// generating resulting MP4

		var mp4 = new jBinary(stream.byteLength, MP4);
		
		var trak = [{
			atoms: {
				tkhd: [{
					version: 0,
					flags: 15,
					track_ID: 1,
					duration: duration,
					layer: 0,
					alternate_group: 0,
					volume: 1,
					matrix: {
						a: 1, b: 0, x: 0,
						c: 0, d: 1, y: 0,
						u: 0, v: 0, w: 1
					},
					dimensions: {
						horz: width,
						vert: height
					}
				}],
				mdia: [{
					atoms: {
						mdhd: [{
							version: 0,
							flags: 0,
							timescale: 90000,
							duration: duration,
							lang: 'und'
						}],
						hdlr: [{
							version: 0,
							flags: 0,
							handler_type: 'vide',
							name: 'VideoHandler'
						}],
						minf: [{
							atoms: {
								vmhd: [{
									version: 0,
									flags: 1,
									graphicsmode: 0,
									opcolor: {r: 0, g: 0, b: 0}
								}],
								dinf: [{
									atoms: {
										dref: [{
											version: 0,
											flags: 0,
											entries: [{
												type: 'url ',
												version: 0,
												flags: 1,
												location: ''
											}]
										}]
									}
								}],
								stbl: [{
									atoms: {
										stsd: [{
											version: 0,
											flags: 0,
											entries: [{
												type: 'avc1',
												data_reference_index: 1,
												dimensions: {
													horz: width,
													vert: height
												},
												resolution: {
													horz: 72,
													vert: 72
												},
												frame_count: 1,
												compressorname: '',
												depth: 24,
												atoms: {
													avcC: [{
														version: 1,
														profileIndication: spsInfo.profile_idc,
														profileCompatibility: parseInt(spsInfo.constraint_set_flags.join(''), 2),
														levelIndication: spsInfo.level_idc,
														lengthSizeMinusOne: 3,
														seqParamSets: [sps],
														pictParamSets: [pps]
													}]
												}
											}]
										}],
										stts: [{
											version: 0,
											flags: 0,
											entries: dtsDiffs
										}],
										stss: [{
											version: 0,
											flags: 0,
											entries: accessIndexes
										}],
										ctts: [{
											version: 0,
											flags: 0,
											entries: pts_dts_Diffs
										}],
										stsc: [{
											version: 0,
											flags: 0,
											entries: [{
												first_chunk: 1,
												samples_per_chunk: sizes.length,
												sample_description_index: 1
											}]
										}],
										stsz: [{
											version: 0,
											flags: 0,
											sample_size: 0,
											sample_count: sizes.length,
											sample_sizes: sizes
										}],
										stco: [{
											version: 0,
											flags: 0,
											entries: [0x28]
										}]
									}
								}]
							}
						}]
					}
				}]
			}
		}];

		if (audioSize > 0) {
			trak.push({
				atoms: {
					tkhd: [{
						version: 0,
						flags: 15,
						track_ID: 2,
						duration: duration,
						layer: 0,
						alternate_group: 1,
						volume: 1,
						matrix: {
							a: 1, b: 0, x: 0,
							c: 0, d: 1, y: 0,
							u: 0, v: 0, w: 1
						},
						dimensions: {
							horz: 0,
							vert: 0
						}
					}],
					mdia: [{
						atoms: {
							mdhd: [{
								version: 0,
								flags: 0,
								timescale: 90000,
								duration: duration,
								lang: 'eng'
							}],
							hdlr: [{
								version: 0,
								flags: 0,
								handler_type: 'soun',
								name: 'SoundHandler'
							}],
							minf: [{
								atoms: {
									smhd: [{
										version: 0,
										flags: 0,
										balance: 0
									}],
									dinf: [{
										atoms: {
											dref: [{
												version: 0,
												flags: 0,
												entries: [{
													type: 'url ',
													version: 0,
													flags: 1,
													location: ''
												}]
											}]
										}
									}],
									stbl: [{
										atoms: {
											stsd: [{
												version: 0,
												flags: 0,
												entries: [{
													type: 'mp4a',
													data_reference_index: 1,
													channelcount: 2,
													samplesize: 16,
													samplerate: 22050,
													atoms: {
														esds: [{
															version: 0,
															flags: 0,
															sections: [
																{
																	descriptor_type: 3,
																	ext_type: 128,
																	length: 34,
																	es_id: 2,
																	stream_priority: 0
																},
																{
																	descriptor_type: 4,
																	ext_type: 128,
																	length: 20,
																	type: 'mpeg4_audio',
																	stream_type: 'audio',
																	upstream_flag: 0,
																	buffer_size: 0,
																	maxBitrate: Math.round(maxAudioSize / (duration / 90000 / audioSizes.length)),
																	avgBitrate: Math.round((stream.tell() - audioStart) / (duration / 90000))
																},
																{
																	descriptor_type: 5,
																	ext_type: 128,
																	length: 2,
																	audio_profile: audioHeader.profileMinusOne + 1,
																	sampling_freq: audioHeader.samplingFreq,
																	channelConfig: audioHeader.channelConfig
																},
																{
																	descriptor_type: 6,
																	ext_type: 128,
																	length: 1,
																	sl: 2
																}
															]
														}]
													}
												}]
											}],
											stts: [{
												version: 0,
												flags: 0,
												entries: [{
													sample_count: audioSizes.length,
													sample_delta: Math.round(duration / audioSizes.length)
												}]
											}],
											stsc: [{
												version: 0,
												flags: 0,
												entries: [{
													first_chunk: 1,
													samples_per_chunk: audioSizes.length,
													sample_description_index: 1
												}]
											}],
											stsz: [{
												version: 0,
												flags: 0,
												sample_size: 0,
												sample_count: audioSizes.length,
												sample_sizes: audioSizes
											}],
											stco: [{
												version: 0,
												flags: 0,
												entries: [0x28 + audioStart]
											}]
										}
									}]
								}
							}]
						}
					}]
				}
			});
		};
		
		var creationTime = new Date();

		mp4.write('File', {
			ftyp: [{
				major_brand: 'isom',
				minor_version: 512,
				compatible_brands: ['isom', 'iso2', 'avc1', 'mp41']
			}],
			mdat: [{
				_rawData: stream.getBytes(stream.tell(), 0)
			}],
			moov: [{
				atoms: {
					mvhd: [{
						version: 0,
						flags: 0,
						creation_time: creationTime,
						modification_time: creationTime,
						timescale: 90000,
						duration: duration,
						rate: 1,
						volume: 1,
						matrix: {
							a: 1, b: 0, x: 0,
							c: 0, d: 1, y: 0,
							u: 0, v: 0, w: 1
						},
						next_track_ID: 2
					}],
					trak: trak
				}
			}]
		});
		
		return mp4.slice(0, mp4.tell());
	};
}));

/***/ }),

/***/ "./node_modules/mpegts_to_mp4/mpegts_to_mp4/mp4.js":
/*!*********************************************************!*\
  !*** ./node_modules/mpegts_to_mp4/mpegts_to_mp4/mp4.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (root, factory) {
    if (true) {
        // AMD. Register as an anonymous module.
        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! jbinary */ "./node_modules/jbinary/dist/browser/jbinary.js")], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
    } else {}
}(this, function (jBinary) {
	'use strict';

	var timeBasis = new Date(1970, 0, 1) - new Date(1904, 0, 1);

	function atomFilter(type) {
		return function (atom) {
			return atom.type === type;
		};
	}

	return {
		ShortName: ['string0', 4],
		
		Rate: ['FixedPoint', 'int32', 16],

		Dimensions: jBinary.Template({
			setParams: function (itemType) {
				this.baseType = {
					horz: itemType,
					vert: itemType
				};
			}
		}),

		BoxHeader: {
			_begin: function () {
				return this.binary.tell();
			},
			_size: jBinary.Template({
				baseType: 'uint32',
				write: function (value, context) {
					var size = context.size;
					this.baseWrite(size ? (size < Math.pow(2, 32) ? size : 1) : 0);
				}
			}),
			type: 'ShortName',
			size: jBinary.Type({
				read: function (context) {
					var _size = context._size;
					switch (_size) {
						case 0: return this.binary.view.byteLength - this.binary.tell() + 8;
						case 1: return this.binary.read('uint64');
						default: return _size;
					}
				},
				write: function (value) {
					if (value >= Math.pow(2, 32)) {
						this.binary.write('uint64', value);
					}
				}
			}),
			_end: function (context) {
				return context._begin + context.size;
			}
		},

		FullBox: ['extend', 'BoxHeader', {
			version: 'uint8',
			flags: 24
		}],

		Box: jBinary.Type({
			read: function () {
				var header = this.binary.skip(0, function () {
					return this.read('BoxHeader');
				});
				var box = this.binary.read(header.type) || header;
				if (box === header) console.log(header.type);
				this.binary.seek(header._end);
				return box;
			},
			write: function (box) {
				this.binary.write(box.type, box);
				var size = this.binary.tell() - box._begin;
				this.binary.seek(box._begin, function () {
					this.write('uint32', size);
				});
			}
		}),

		Time: jBinary.Template({
			params: ['baseType'],
			read: function () {
				var intTime = this.baseRead();
				if (intTime) {
					return new Date(intTime + timeBasis);
				}
			},
			write: function (time) {
				this.baseWrite((time - timeBasis) >>> 0);
			}
		}),

		FixedPoint: jBinary.Template({
			params: ['baseType'],
			setParams: function (baseType, shift) {
				this.coef = 1 << shift;
			},
			read: function () {
				return this.baseRead() / this.coef;
			},
			write: function (value) {
				this.baseWrite(value * this.coef);
			}
		}),

		Atoms: jBinary.Type({
			params: ['end'],
			read: function () {
				var atoms = {}, end = this.toValue(this.end) || this.binary.getContext('_end')._end;
				while (this.binary.tell() < end) {
					var item = this.binary.read('Box');
					(atoms[item.type] || (atoms[item.type] = [])).push(item);
				}
				return atoms;
			},
			write: function (parent) {
				for (var type in parent) {
					var atoms = parent[type];
					for (var i = 0, length = atoms.length; i < length; i++) {
						atoms[i].type = type;
						this.binary.write('Box', atoms[i]);
					}
				}
			}
		}),

		ChildAtoms: {
			atoms: 'Atoms'
		},

		MultiBox: ['extend', 'BoxHeader', 'ChildAtoms'],

		TransformationMatrix: {
			a: ['FixedPoint', 'uint32', 16],
			b: ['FixedPoint', 'uint32', 16],
			u: ['FixedPoint', 'uint32', 30],
			c: ['FixedPoint', 'uint32', 16],
			d: ['FixedPoint', 'uint32', 16],
			v: ['FixedPoint', 'uint32', 30],
			x: ['FixedPoint', 'uint32', 16],
			y: ['FixedPoint', 'uint32', 16],
			w: ['FixedPoint', 'uint32', 30]
		},

		Volume: ['FixedPoint', 'uint16', 8],

		FBVersionable: jBinary.Template({
			setParams: function (type0, type1) {
				this.baseType = ['if', 'version', type1, type0];
			}
		}),

		FBUint: ['FBVersionable', 'uint32', 'uint64'],

		FBTime: ['Time', 'FBUint'],

		TimestampBox: ['extend', 'FullBox', {
			creation_time: 'FBTime',
			modification_time: 'FBTime'
		}],

		DurationBox: ['extend', 'TimestampBox', {
			timescale: 'uint32',
			duration: 'FBUint'
		}],

		ftyp: ['extend', 'BoxHeader', {
			major_brand: 'ShortName',
			minor_version: 'uint32',
			compatible_brands: ['array', 'ShortName', function () { return (this.binary.getContext(1)._end - this.binary.tell()) / 4 }]
		}],

		free: 'BoxHeader',

		RawData: {
			_rawData: ['blob', function () { return this.binary.getContext('_end')._end - this.binary.tell() }]
		},

		mdat: ['extend', 'BoxHeader', 'RawData'],

		ParamSets: jBinary.Template({
			setParams: function (numType) {
				this.baseType = ['DynamicArray', numType, jBinary.Template({
					baseType: {
						length: 'uint16',
						paramSet: ['blob', 'length']
					},
					read: function () {
						return this.baseRead().paramSet;
					},
					write: function (paramSet) {
						this.baseWrite({
							length: paramSet.length,
							paramSet: paramSet
						});
					}
				})];
			}
		}),

		avcC: ['extend', 'BoxHeader', {
			version: ['const', 'uint8', 1],
			profileIndication: 'uint8',
			profileCompatibility: 'uint8',
			levelIndication: 'uint8',
			_reserved: ['const', 6, -1],
			lengthSizeMinusOne: 2,
			_reserved2: ['const', 3, -1],
			seqParamSets: ['ParamSets', 5],
			pictParamSets: ['ParamSets', 'uint8']
		}],

		moov: 'MultiBox',

		mvhd: ['extend', 'DurationBox', {
			rate: 'Rate',
			volume: 'Volume',
			_reserved: ['skip', 10],
			matrix: 'TransformationMatrix',
			_reserved2: ['skip', 24],
			next_track_ID: 'uint32'
		}],

		trak: 'MultiBox',

		tkhd: ['extend', 'TimestampBox', {
			track_ID: 'uint32',
			_reserved: ['skip', 4],
			duration: 'FBUint',
			_reserved2: ['skip', 8],
			layer: 'int16',
			alternate_group: 'uint16',
			volume: 'Volume',
			_reserved3: ['skip', 2],
			matrix: 'TransformationMatrix',
			dimensions: ['Dimensions', 'Rate']
		}],

		tref: 'MultiBox',

		TrackReferenceTypeBox: ['extend', 'BoxHeader', {
			track_IDs: ['array', 'uint32', function () { return (this.binary.getContext(1)._end - this.binary.tell()) / 4 }]
		}],

		hint: 'TrackReferenceTypeBox',

		cdsc: 'TrackReferenceTypeBox',

		hind: 'TrackReferenceTypeBox',

		mdia: 'MultiBox',

		mdhd: ['extend', 'DurationBox', {
			_padding: 1,
			lang: jBinary.Type({
				read: function () {
					return String.fromCharCode.apply(
						String,
						this.binary.read(['array', 5, 3]).map(function (code) { return code + 0x60 })
					);
				},
				write: function (value) {
					for (var i = 0; i < 3; i++) {
						this.binary.write(5, value.charCodeAt(i) - 0x60);
					}
				}
			}),
			_reserved: ['skip', 2]
		}],

		hdlr: ['extend', 'FullBox', {
			_reserved: ['skip', 4],
			handler_type: 'ShortName',
			_set_handler_type: function (context) {
				this.binary.getContext(atomFilter('trak'))._handler_type = context.handler_type;
			},
			_reserved2: ['skip', 12],
			name: 'string0'
		}],

		minf: 'MultiBox',

		vmhd: ['extend', 'FullBox', {
			graphicsmode: 'uint16',
			opcolor: {
				r: 'uint16',
				g: 'uint16',
				b: 'uint16'
			}
		}],

		smhd: ['extend', 'FullBox', {
			balance: ['FixedPoint', 'int16', 8],
			_reserved: ['skip', 2]
		}],

		hmhd: ['extend', 'FullBox', {
			maxPDUsize: 'uint16',
			avgPDUsize: 'uint16',
			maxbitrate: 'uint32',
			avgbitrate: 'uint32',
			_reserved: ['skip', 4]
		}],

		stbl: 'MultiBox',

		SampleEntry: ['extend', 'BoxHeader', {
			_reserved: ['skip', 6],
			data_reference_index: 'uint16'
		}],

		btrt: ['extend', 'BoxHeader', {
			bufferSizeDB: 'uint32',
			maxBitrate: 'uint32',
			avgBitrate: 'uint32'
		}],

		metx: ['extend', 'SampleEntry', {
			content_encoding: 'string0',
			namespace: 'string0',
			schema_location: 'string0',
			bitratebox: 'btrt'
		}],

		mett: ['extend', 'SampleEntry', {
			content_encoding: 'string0',
			mime_format: 'string0',
			bitratebox: 'btrt'
		}],

		pasp: ['extend', 'BoxHeader', {
			spacing: ['Dimensions', 'uint32']
		}],

		ClapInnerFormat: ['Dimensions', {
			N: 'uint32',
			D: 'uint32'
		}],

		clap: ['extend', 'BoxHeader', {
			cleanAperture: 'ClapInnerFormat',
			off: 'ClapInnerFormat'
		}],

		VisualSampleEntry: ['extend', 'SampleEntry', {
			_reserved: ['skip', 16],
			dimensions: ['Dimensions', 'uint16'],
			resolution: ['Dimensions', 'Rate'],
			_reserved2: ['skip', 4],
			frame_count: ['const', 'uint16', 1],
			compressorname: jBinary.Template({
				baseType: {
					length: 'uint8',
					string: ['string', 'length'],
					_skip: ['skip', function (context) { return 32 - 1 - context.length }]
				},
				read: function () {
					return this.baseRead().string;
				},
				write: function (value) {
					this.baseWrite({
						length: value.length,
						string: value
					});
				}
			}),
			depth: 'uint16',
			_reserved3: ['const', 'int16', -1]
		}, jBinary.Type({
			setParams: function () {
				this.optional = {
					cleanaperture: 'clap',
					pixelaspectratio: 'pasp'
				};
			},
			read: function () {
				var extension = {};

				for (var propName in this.optional) {
					var type = this.optional[propName];
					var atom = this.binary.skip(0, function () { return this.read('BoxHeader') });
					if (atom.type === type) {
						extension[propName] = this.binary.read(type);
					}
				}

				return extension;
			},
			write: function (box) {
				for (var propName in this.optional) {
					var value = box[propName];
					if (value) {
						this.binary.write(this.optional[propName], value);
					}
				}
			}
		}), 'ChildAtoms'],

		AudioSampleEntry: ['extend', 'SampleEntry', {
			_reserved: ['skip', 8],
			channelcount: 'uint16',
			samplesize: 'uint16',
			_reserved2: ['skip', 4],
			samplerate: 'Rate'
		}, 'ChildAtoms'],

		DynamicArray: jBinary.Template({
			setParams: function (lengthType, itemType) {
				this.baseType = {
					length: lengthType,
					array: ['array', itemType, 'length']
				};
			},
			read: function () {
				return this.baseRead().array;
			},
			write: function (array) {
				this.baseWrite({
					length: array.length,
					array: array
				});
			}
		}),

		ArrayBox: jBinary.Template({
			setParams: function (entryType) {
				this.baseType = ['extend', 'FullBox', {
					entries: ['DynamicArray', 'uint32', entryType]
				}];
			}
		}),

		stsd: ['ArrayBox', jBinary.Template({
			getBaseType: function () {
				return {soun: 'AudioSampleEntry', vide: 'VisualSampleEntry', meta: 'Box'}[this.binary.getContext(atomFilter('trak'))._handler_type] || 'SampleEntry';
			},
			write: function (value) {
				var pos = this.binary.tell();
				this.baseWrite(value);
				var size = this.binary.tell() - pos;
				this.binary.seek(pos, function () { this.write('uint32', size) });
			}
		})],

		stdp: ['extend', 'FullBox', {
			priorities: ['array', 'uint16', function () { return this.binary.getContext(atomFilter('stbl'))._sample_count }]
		}],

		stsl: ['extend', 'FullBox', {
			_reserved: 7,
			constraint_flag: 'bool',
			scale_method: ['enum', 'uint8', [false, 'fill', 'hidden', 'meet', 'slice-x', 'slice-y']],
			display_center: ['Dimensions', 'int16']
		}],

		stts: ['ArrayBox', {
			sample_count: 'uint32',
			sample_delta: 'uint32'
		}],

		ctts: ['ArrayBox', {
			sample_count: 'uint32',
			sample_offset: 'uint32'
		}],

		stss: ['ArrayBox', 'uint32'],

		stsh: ['ArrayBox', {
			shadowed_sample_number: 'uint32',
			sync_sample_number: 'uint32'
		}],

		ExtendedBoolean: ['enum', 2, [undefined, true, false]],

		sdtp: ['extend', 'FullBox', {
			dependencies: ['array', {
				_reserved: 2,
				sample_depends_on: 'ExtendedBoolean',
				sample_is_depended_on: 'ExtendedBoolean',
				sample_has_redundancy: 'ExtendedBoolean'
			}, function () { return this.binary.getContext(atomFilter('stbl'))._sample_count }]
		}],

		edts: 'MultiBox',

		elst: ['ArrayBox', {
			segment_duration: 'FBUint',
			media_time: ['FBVersionable', 'int32', 'int64'],
			media_rate: 'Rate'
		}],

		dinf: 'MultiBox',

		'url ': ['extend', 'FullBox', {
			location: 'string0'
		}],

		'urn ': ['extend', 'FullBox', {
			name: 'string0',
			location: 'string0'
		}],

		dref: ['ArrayBox', 'Box'],

		stsz: ['extend', 'FullBox', {
			sample_size: 'uint32',
			sample_count: 'uint32',
			_sample_count_to_stbl: function (context) {
				this.binary.getContext(atomFilter('stbl'))._sample_count = context.sample_count;
			},
			sample_sizes: ['if_not', 'sample_size',
				['array', 'uint32', 'sample_count']
			]
		}],

		stz2: ['extend', 'FullBox', {
			_reserved: ['skip', 3],
			field_size: 'uint8',
			sample_count: 'uint32',
			_sample_count_to_stbl: function (context) {
				this.binary.getContext(atomFilter('stbl'))._sample_count = context.sample_count;
			},
			sample_sizes: [
				'array',
				jBinary.Template({
					getBaseType: function (context) { return context.field_size }
				}),
				'sample_count'
			]
		}],

		stsc: ['ArrayBox', {
			first_chunk: 'uint32',
			samples_per_chunk: 'uint32',
			sample_description_index: 'uint32'
		}],

		stco: ['ArrayBox', 'uint32'],

		co64: ['ArrayBox', 'uint64'],

		padb: ['extend', 'FullBox', {
			pads: ['DynamicArray', 'uint32', jBinary.Template({
				baseType: {
					_skip: ['const', 1, 0],
					pad: 3
				},
				read: function () {
					return this.baseRead().pad;
				},
				write: function (pad) {
					this.baseWrite({pad: pad});
				}
			})]
		}],

		subs: ['ArrayBox', {
			sample_delta: 'uint32',
			subsamples: ['DynamicArray', 'uint16', {
				subsample_size: ['FBVersionable', 'uint16', 'uint32'],
				subsample_priority: 'uint8',
				discardable: 'uint8',
				_reserved: ['skip', 4]
			}]
		}],

		mvex: 'MultiBox',

		mehd: ['extend', 'FullBox', {
			fragment_duration: 'FBUint'
		}],

		esds_section: ['extend', {
			descriptor_type: 'uint8',
			ext_type: jBinary.Type({
				read: function () {
					var next_byte = this.binary.read('uint8');
					if (next_byte === 0x80 || next_byte === 0x81 || next_byte === 0xFE) {
						this.binary.skip(2);
						return next_byte;
					} else {
						this.binary.skip(-1);
					}
				},
				write: function (filler) {
					if (filler !== undefined) this.binary.write('blob', [filler, filler, filler]);
				}
			}),
			length: 'uint8'
		}, jBinary.Template({
			getBaseType: function (context) {
				switch (context.descriptor_type) {
					case 3: return {
						es_id: 'uint16',
						stream_priority: 'uint8'
					};

					case 4: return {
						type: ['enum', 'uint8', {
							1: 'v1',
							2: 'v2',
							32: 'mpeg4_video',
							33: 'mpeg4_avc_sps',
							34: 'mpeg4_avc_pps',
							64: 'mpeg4_audio',
							96: 'mpeg2_simple_video',
							97: 'mpeg2_main_video',
							98: 'mpeg2_snr_video',
							99: 'mpeg2_spatial_video',
							100: 'mpeg2_high_video',
							101: 'mpeg2_422_video',
							102: 'mpeg4_adts_main',
							103: 'mpeg4_adts_low_complexity',
							104: 'mpeg4_adts_scaleable_sampling',
							105: 'mpeg2_adts_main',
							106: 'mpeg1_video',
							107: 'mpeg1_adts',
							108: 'jpeg_video',
							192: 'private_audio',
							208: 'private_video',
							224: 'pcm_little_endian_audio',
							225: 'vorbis_audio',
							226: 'dolby_v3_audio',
							227: 'alaw_audio',
							228: 'mulaw_audio',
							229: 'adpcm_audio',
							230: 'pcm_big_endian_audio',
							240: 'yv12_video',
							241: 'h264_video',
							242: 'h263_video',
							243: 'h261_video'
						}],
						stream_type: ['enum', 6, [
							null,
							'object',
							'clock',
							'scene',
							'visual',
							'audio',
							'mpeg-7',
							'ipmp',
							'oci',
							'mpeg-java'
						]],
						upstream_flag: 1,
						_reserved: ['const', 1, 1],
						buffer_size: 24,
						maxBitrate: 'uint32',
						avgBitrate: 'uint32'
					};

					case 5: return {
						audio_profile: ['enum', 5, [
							null,
							'aac-main',
							'aac-lc',
							'aac-ssr',
							'aac-ltp',
							'sbr',
							'aac-scalable',
							'twinvq',
							'celp',
							'hxvc',
							null,
							null,
							'ttsi',
							'main-synthesis',
							'wavetable-synthesis',
							'general-midi',
							'algorithmic-synthesis-and-audio-effects',
							'er-aac-lc',
							'reserved',
							'er-aac-ltp',
							'er-aac-scalable',
							'er-twinvq',
							'er-bsac',
							'er-aac-ld',
							'er-celp',
							'er-hvxc',
							'er-hiln',
							'er-parametric',
							'ssc',
							'ps',
							'mpeg-surround'
						]],
						sampling_freq: jBinary.Type({
							setParams: function () {
								this.freqList = [96000, 88200, 64000, 48000, 44100, 32000, 24000, 22050, 16000, 12000, 11025, 8000, 7350];
							},
							read: function () {
								var freqIndex = this.binary.read(4);
								return freqIndex !== 15 ? this.freqList[freqIndex] : this.binary.read(24);
							},
							write: function (value) {
								var freqIndex = this.freqList.indexOf(value);
								if (freqIndex !== -1) {
									this.binary.write(4, freqIndex);
								} else {
									this.binary.write(4, 15);
									this.binary.write(24, value);
								}
							}
						}),
						channelConfig: 4,
						frameLength: ['enum', 1, [1024, 960]],
						dependsOnCoreCoder: 1,
						extensionFlag: 1
					};

					case 6: return {
						sl: ['const', 'uint8', 2]
					};
				}
			}
		})],

		esds: ['extend', 'FullBox', {
			sections: jBinary.Template({
				baseType: 'esds_section',
				read: function () {
					var end = this.binary.getContext('_end')._end, sections = [];
					while (this.binary.tell() < end) {
						sections.push(this.baseRead());
					}
					return sections;
				},
				write: function (sections) {
					for (var i = 0, length = sections.length; i < length; i++) {
						this.baseWrite(sections[i]);
					}
				}
			})
		}],

		File: ['Atoms', function () { return this.binary.view.byteLength }]
	};
}));


/***/ }),

/***/ "./node_modules/mpegts_to_mp4/mpegts_to_mp4/mpegts.js":
/*!************************************************************!*\
  !*** ./node_modules/mpegts_to_mp4/mpegts_to_mp4/mpegts.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (root, factory) {
    if (true) {
        // AMD. Register as an anonymous module.
        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! jbinary */ "./node_modules/jbinary/dist/browser/jbinary.js")], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
    } else {}
}(this, function (jBinary) {
	'use strict';

	return {
		PCR: {
			pts: 33,
			_reserved: 6,
			extension: 9
		},

		DynamicArray: jBinary.Template({
			setParams: function (lengthType, itemType) {
				this.baseType = {
					length: lengthType,
					array: ['array', itemType, 'length']
				};
			},
			read: function () {
				return this.baseRead().array;
			},
			write: function (array) {
				this.baseWrite({
					length: array.length,
					array: array
				});
			}
		}),

		Field: ['DynamicArray', 'uint8', 'uint8'],

		Flag: jBinary.Template({
			baseType: 1,
			params: ['dependentField'],
			write: function (value, context) {
				this.baseWrite(this.dependentField in context ? 1 : 0);
			}
		}),

		FlagDependent: jBinary.Template({
			params: ['flagField', 'baseType'],
			read: function () {
				return this.binary.read(['if', this.flagField, this.baseType]);
			}
		}),

		AdaptationField: {
			length: 'uint8',
			_endOf: function (context) { return this.binary.tell() + context.length },
			discontinuity: 1,
			randomAccess: 1,
			priority: 1,
			_hasPCR: ['Flag', 'pcr'],
			_hasOPCR: ['Flag', 'opcr'],
			_hasSplicingPoint: ['Flag', 'spliceCountdown'],
			_hasTransportPrivateData: ['Flag', 'privateData'],
			_hasExtension: ['Flag', 'extension'],
			pcr: ['FlagDependent', '_hasPCR', 'PCR'],
			opcr: ['FlagDependent', '_hasOPCR', 'PCR'],
			spliceCountdown: ['FlagDependent', '_hasSplicingPoint', 'uint8'],
			privateData: ['FlagDependent', '_hasTransportPrivateData', 'Field'],
			extension: ['FlagDependent', '_hasExtension', 'Field'],
			_toEnd: function (context) { this.binary.seek(context._endOf) }
		},

		ES: {
			_rawStream: ['blob', function () { return this.binary.getContext(1)._endof - this.binary.tell() }]
		},

		PATItem: ['array', {
			programNumber: 'uint16',
			_reserved: 3,
			pid: 13
		}, function (context) { return context._dataLength / 4 }],

		PMTHeader: {
			_reserved: 3,
			pcrPID: 13,
			_reserved2: 4,
			programDescriptors: ['DynamicArray', 12, 'uint8']
		},

		PMTItem: {
			streamType: 'uint8',
			_reserved: 3,
			elementaryPID: 13,
			_reserved2: 4,
			esInfo: ['DynamicArray', 12, 'uint8']
		},

		PrivateSection: ['extend', {
			pointerField: ['if', 'payloadStart', 'uint8'],
			tableId: ['enum', 'uint8', ['PAT', 'CAT', 'PMT']],
			isLongSection: 1,
			isPrivate: 1,
			_reserved: 2,
			_sectionLength: 12
		}, ['if', 'isLongSection', {
				tableIdExt: 'uint16',
				_reserved: 2,
				versionNumber: 5,
				currentNextIndicator: 1,
				sectionNumber: 'uint8',
				lastSectionNumber: 'uint8',

				_dataLength: function () { return this.binary.getContext(1)._sectionLength - 9 },

				data: jBinary.Type({
					read: function (header) {
						var data, file = this.binary.getContext(3), dataLength = header._dataLength;

						switch (this.binary.getContext(1).tableId) {
							case 'PAT':
								data = this.binary.read('PATItem');

								if (header.sectionNumber == 0) {
									file.pat = {};
								}

								for (var i = 0; i < data.length; i++) {
									file.pat[data[i].pid] = data[i];
								}

								break;

							case 'PMT':
								data = this.binary.read('PMTHeader');

								data.mappings = [];

								dataLength -= 4 + data.programDescriptors.length;

								while (dataLength > 0) {
									var mapping = this.binary.read('PMTItem');
									data.mappings.push(mapping);
									dataLength -= 5 + mapping.esInfo.length;
								}

								if (header.sectionNumber == 0) {
									file.pmt = {};
								}

								for (var i = 0; i < data.mappings.length; i++) {
									var mapping = data.mappings[i];
									file.pmt[mapping.elementaryPID] = mapping;
								}

								break;
						}

						return data;
					}
				}),

				crc32: 'uint32'
			},
			['blob', '_sectionLength']
		]],

		Packet: {
			_startof: function () { return this.binary.tell() },
			_endof: function (context) { return context._startof + 188 },

			_syncByte: ['const', 'uint8', 0x47, true],

			transportError: 1,
			payloadStart: 1,
			transportPriority: 1,
			pid: 13,

			scramblingControl: 2,
			_hasAdaptationField: ['Flag', 'adaptationField'],
			_hasPayload: ['Flag', 'payload'],
			contCounter: 4,

			adaptationField: ['FlagDependent', '_hasAdaptationField', 'AdaptationField'],

			payload: ['FlagDependent', '_hasPayload', jBinary.Template({
				getBaseType: function (context) {
					var pid = context.pid, file = this.binary.getContext(1);
					if (pid < 2 || pid in file.pat) {
						return 'PrivateSection';
					}
					if (pid in file.pmt) {
						return 'ES';
					}
				}
			})],

			_toEnd: function (context) { this.binary.seek(context._endof) }
		},

		File: jBinary.Template({
			baseType: ['array', 'Packet'],
			read: function () {
				this.pat = {};
				this.pmt = {};
				var self = this;
				return this.binary.inContext(this, function () {
					return self.baseRead();
				});
			},
			write: function (packets) {
				var self = this;
				this.binary.inContext(this, function () {
					self.baseWrite(packets);
				});
			}
		})
	};
}));

/***/ }),

/***/ "./node_modules/mpegts_to_mp4/mpegts_to_mp4/pes.js":
/*!*********************************************************!*\
  !*** ./node_modules/mpegts_to_mp4/mpegts_to_mp4/pes.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (root, factory) {
    if (true) {
        // AMD. Register as an anonymous module.
        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! jbinary */ "./node_modules/jbinary/dist/browser/jbinary.js")], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
    } else {}
}(this, function (jBinary) {
	'use strict';

	return {
		Flag: jBinary.Template({
			baseType: 1,
			params: ['dependentField'],
			write: function (value, context) {
				this.baseWrite(this.dependentField in context ? 1 : 0);
			}
		}),

		FlagDependent: jBinary.Template({
			params: ['flagField', 'baseType'],
			read: function () {
				return this.binary.read(['if', this.flagField, this.baseType]);
			}
		}),

		PESTimeStamp: jBinary.Template({
			setParams: function (prefix) {
				var skipBit = ['const', 1, 1, true];
				this.baseType = {
					_prefix: ['const', 4, prefix, true],
					hiPart: 3,
					_skip1: skipBit,
					midPart: 15,
					_skip2: skipBit,
					loPart: 15,
					_skip3: skipBit
				};
			},
			read: function () {
				var parts = this.baseRead();
				return parts.loPart | (parts.midPart << 15) | (parts.hiPart << 30);
			},
			write: function (value) {
				this.baseWrite({
					hiPart: value >>> 30,
					midPart: (value >>> 15) & ~(-1 << 15),
					loPart: value & ~(-1 << 15)
				});
			}
		}),

		PESPacket: ['extend', {
			_startCode0: ['const', 'uint8', 0, true],
			_startCode1: ['const', 'uint8', 0, true],
			_startCode2: ['const', 'uint8', 1, true],
			streamId: 'uint8',
			length: 'uint16',
			_end: function (context) {
				var pos = this.binary.tell(), length = context.length;

				if (length) {
					pos += length;
					if (pos > this.view.byteLength - 4) {
						return pos;
					}
					var bytes = this.binary.read(['blob', 4], pos);
					if (bytes[0] === 0 && bytes[1] === 0 && bytes[2] === 1 && (bytes[3] & 0x80)) {
						return pos;
					}
					pos -= length;
				}

				/*
				not sure if it correctly covers cases where `length`==0
				(according to specification, it may be written as zero for video streams of undefined length)
				but should work for H.264 streams since NAL unit types always have clear highest bit (`forbidden_zero_bit`)
				*/
				var fileEnd = this.view.byteLength, bytes = this.binary.read('blob', pos);
				for (var i = 0; i < bytes.length - 4; i++) {
					if (bytes[i] === 0 && bytes[i + 1] === 0 && bytes[i + 2] === 1 && (bytes[i + 3] & 0x80)) {
						return pos + i;
					}
				}
				return fileEnd;
			}
		}, jBinary.Template({
			baseType: {
				_marker: ['const', 2, 2, true],
				scramblingControl: ['enum', 2, ['not_scrambled']],
				priority: 1,
				dataAlignmentIndicator: 1,
				hasCopyright: 1,
				isOriginal: 1,
				_hasPTS: ['Flag', 'pts'],
				_hasDTS: ['Flag', 'dts'],
				_hasESCR: ['Flag', 'escr'],
				_hasESRate: ['Flag', 'esRate'],
				dsmTrickMode: 1,
				_hasAdditionalCopyInfo: ['Flag', 'additionalCopyInfo'],
				_hasPESCRC: ['Flag', 'pesCRC'],
				_hasExtension: ['Flag', 'extension'],
				dataLength: 'uint8',
				_headerEnd: function (context) { return this.binary.tell() + context.dataLength },
				pts: ['FlagDependent', '_hasPTS', ['if', '_hasDTS', ['PESTimeStamp', 3], ['PESTimeStamp', 2]]],
				dts: ['FlagDependent', '_hasDTS', ['PESTimeStamp', 1]],
				_toHeaderEnd: function (context) { this.binary.seek(context._headerEnd) }
			},
			read: function () {
				var pos = this.binary.tell();
				try {
					return this.baseRead();
				} catch (e) {
					this.binary.seek(pos);
					this.binary.view.alignBy();
				}
			}
		}), {
			data: ['blob', function () { return this.binary.getContext('_end')._end - this.binary.tell() }]
		}]
	};
}));

/***/ }),

/***/ "./node_modules/node-libs-browser/node_modules/punycode/punycode.js":
/*!**************************************************************************!*\
  !*** ./node_modules/node-libs-browser/node_modules/punycode/punycode.js ***!
  \**************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {var __WEBPACK_AMD_DEFINE_RESULT__;/*! https://mths.be/punycode v1.4.1 by @mathias */
;(function(root) {

	/** Detect free variables */
	var freeExports =  true && exports &&
		!exports.nodeType && exports;
	var freeModule =  true && module &&
		!module.nodeType && module;
	var freeGlobal = typeof global == 'object' && global;
	if (
		freeGlobal.global === freeGlobal ||
		freeGlobal.window === freeGlobal ||
		freeGlobal.self === freeGlobal
	) {
		root = freeGlobal;
	}

	/**
	 * The `punycode` object.
	 * @name punycode
	 * @type Object
	 */
	var punycode,

	/** Highest positive signed 32-bit float value */
	maxInt = 2147483647, // aka. 0x7FFFFFFF or 2^31-1

	/** Bootstring parameters */
	base = 36,
	tMin = 1,
	tMax = 26,
	skew = 38,
	damp = 700,
	initialBias = 72,
	initialN = 128, // 0x80
	delimiter = '-', // '\x2D'

	/** Regular expressions */
	regexPunycode = /^xn--/,
	regexNonASCII = /[^\x20-\x7E]/, // unprintable ASCII chars + non-ASCII chars
	regexSeparators = /[\x2E\u3002\uFF0E\uFF61]/g, // RFC 3490 separators

	/** Error messages */
	errors = {
		'overflow': 'Overflow: input needs wider integers to process',
		'not-basic': 'Illegal input >= 0x80 (not a basic code point)',
		'invalid-input': 'Invalid input'
	},

	/** Convenience shortcuts */
	baseMinusTMin = base - tMin,
	floor = Math.floor,
	stringFromCharCode = String.fromCharCode,

	/** Temporary variable */
	key;

	/*--------------------------------------------------------------------------*/

	/**
	 * A generic error utility function.
	 * @private
	 * @param {String} type The error type.
	 * @returns {Error} Throws a `RangeError` with the applicable error message.
	 */
	function error(type) {
		throw new RangeError(errors[type]);
	}

	/**
	 * A generic `Array#map` utility function.
	 * @private
	 * @param {Array} array The array to iterate over.
	 * @param {Function} callback The function that gets called for every array
	 * item.
	 * @returns {Array} A new array of values returned by the callback function.
	 */
	function map(array, fn) {
		var length = array.length;
		var result = [];
		while (length--) {
			result[length] = fn(array[length]);
		}
		return result;
	}

	/**
	 * A simple `Array#map`-like wrapper to work with domain name strings or email
	 * addresses.
	 * @private
	 * @param {String} domain The domain name or email address.
	 * @param {Function} callback The function that gets called for every
	 * character.
	 * @returns {Array} A new string of characters returned by the callback
	 * function.
	 */
	function mapDomain(string, fn) {
		var parts = string.split('@');
		var result = '';
		if (parts.length > 1) {
			// In email addresses, only the domain name should be punycoded. Leave
			// the local part (i.e. everything up to `@`) intact.
			result = parts[0] + '@';
			string = parts[1];
		}
		// Avoid `split(regex)` for IE8 compatibility. See #17.
		string = string.replace(regexSeparators, '\x2E');
		var labels = string.split('.');
		var encoded = map(labels, fn).join('.');
		return result + encoded;
	}

	/**
	 * Creates an array containing the numeric code points of each Unicode
	 * character in the string. While JavaScript uses UCS-2 internally,
	 * this function will convert a pair of surrogate halves (each of which
	 * UCS-2 exposes as separate characters) into a single code point,
	 * matching UTF-16.
	 * @see `punycode.ucs2.encode`
	 * @see <https://mathiasbynens.be/notes/javascript-encoding>
	 * @memberOf punycode.ucs2
	 * @name decode
	 * @param {String} string The Unicode input string (UCS-2).
	 * @returns {Array} The new array of code points.
	 */
	function ucs2decode(string) {
		var output = [],
		    counter = 0,
		    length = string.length,
		    value,
		    extra;
		while (counter < length) {
			value = string.charCodeAt(counter++);
			if (value >= 0xD800 && value <= 0xDBFF && counter < length) {
				// high surrogate, and there is a next character
				extra = string.charCodeAt(counter++);
				if ((extra & 0xFC00) == 0xDC00) { // low surrogate
					output.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);
				} else {
					// unmatched surrogate; only append this code unit, in case the next
					// code unit is the high surrogate of a surrogate pair
					output.push(value);
					counter--;
				}
			} else {
				output.push(value);
			}
		}
		return output;
	}

	/**
	 * Creates a string based on an array of numeric code points.
	 * @see `punycode.ucs2.decode`
	 * @memberOf punycode.ucs2
	 * @name encode
	 * @param {Array} codePoints The array of numeric code points.
	 * @returns {String} The new Unicode string (UCS-2).
	 */
	function ucs2encode(array) {
		return map(array, function(value) {
			var output = '';
			if (value > 0xFFFF) {
				value -= 0x10000;
				output += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);
				value = 0xDC00 | value & 0x3FF;
			}
			output += stringFromCharCode(value);
			return output;
		}).join('');
	}

	/**
	 * Converts a basic code point into a digit/integer.
	 * @see `digitToBasic()`
	 * @private
	 * @param {Number} codePoint The basic numeric code point value.
	 * @returns {Number} The numeric value of a basic code point (for use in
	 * representing integers) in the range `0` to `base - 1`, or `base` if
	 * the code point does not represent a value.
	 */
	function basicToDigit(codePoint) {
		if (codePoint - 48 < 10) {
			return codePoint - 22;
		}
		if (codePoint - 65 < 26) {
			return codePoint - 65;
		}
		if (codePoint - 97 < 26) {
			return codePoint - 97;
		}
		return base;
	}

	/**
	 * Converts a digit/integer into a basic code point.
	 * @see `basicToDigit()`
	 * @private
	 * @param {Number} digit The numeric value of a basic code point.
	 * @returns {Number} The basic code point whose value (when used for
	 * representing integers) is `digit`, which needs to be in the range
	 * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is
	 * used; else, the lowercase form is used. The behavior is undefined
	 * if `flag` is non-zero and `digit` has no uppercase form.
	 */
	function digitToBasic(digit, flag) {
		//  0..25 map to ASCII a..z or A..Z
		// 26..35 map to ASCII 0..9
		return digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);
	}

	/**
	 * Bias adaptation function as per section 3.4 of RFC 3492.
	 * https://tools.ietf.org/html/rfc3492#section-3.4
	 * @private
	 */
	function adapt(delta, numPoints, firstTime) {
		var k = 0;
		delta = firstTime ? floor(delta / damp) : delta >> 1;
		delta += floor(delta / numPoints);
		for (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {
			delta = floor(delta / baseMinusTMin);
		}
		return floor(k + (baseMinusTMin + 1) * delta / (delta + skew));
	}

	/**
	 * Converts a Punycode string of ASCII-only symbols to a string of Unicode
	 * symbols.
	 * @memberOf punycode
	 * @param {String} input The Punycode string of ASCII-only symbols.
	 * @returns {String} The resulting string of Unicode symbols.
	 */
	function decode(input) {
		// Don't use UCS-2
		var output = [],
		    inputLength = input.length,
		    out,
		    i = 0,
		    n = initialN,
		    bias = initialBias,
		    basic,
		    j,
		    index,
		    oldi,
		    w,
		    k,
		    digit,
		    t,
		    /** Cached calculation results */
		    baseMinusT;

		// Handle the basic code points: let `basic` be the number of input code
		// points before the last delimiter, or `0` if there is none, then copy
		// the first basic code points to the output.

		basic = input.lastIndexOf(delimiter);
		if (basic < 0) {
			basic = 0;
		}

		for (j = 0; j < basic; ++j) {
			// if it's not a basic code point
			if (input.charCodeAt(j) >= 0x80) {
				error('not-basic');
			}
			output.push(input.charCodeAt(j));
		}

		// Main decoding loop: start just after the last delimiter if any basic code
		// points were copied; start at the beginning otherwise.

		for (index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {

			// `index` is the index of the next character to be consumed.
			// Decode a generalized variable-length integer into `delta`,
			// which gets added to `i`. The overflow checking is easier
			// if we increase `i` as we go, then subtract off its starting
			// value at the end to obtain `delta`.
			for (oldi = i, w = 1, k = base; /* no condition */; k += base) {

				if (index >= inputLength) {
					error('invalid-input');
				}

				digit = basicToDigit(input.charCodeAt(index++));

				if (digit >= base || digit > floor((maxInt - i) / w)) {
					error('overflow');
				}

				i += digit * w;
				t = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);

				if (digit < t) {
					break;
				}

				baseMinusT = base - t;
				if (w > floor(maxInt / baseMinusT)) {
					error('overflow');
				}

				w *= baseMinusT;

			}

			out = output.length + 1;
			bias = adapt(i - oldi, out, oldi == 0);

			// `i` was supposed to wrap around from `out` to `0`,
			// incrementing `n` each time, so we'll fix that now:
			if (floor(i / out) > maxInt - n) {
				error('overflow');
			}

			n += floor(i / out);
			i %= out;

			// Insert `n` at position `i` of the output
			output.splice(i++, 0, n);

		}

		return ucs2encode(output);
	}

	/**
	 * Converts a string of Unicode symbols (e.g. a domain name label) to a
	 * Punycode string of ASCII-only symbols.
	 * @memberOf punycode
	 * @param {String} input The string of Unicode symbols.
	 * @returns {String} The resulting Punycode string of ASCII-only symbols.
	 */
	function encode(input) {
		var n,
		    delta,
		    handledCPCount,
		    basicLength,
		    bias,
		    j,
		    m,
		    q,
		    k,
		    t,
		    currentValue,
		    output = [],
		    /** `inputLength` will hold the number of code points in `input`. */
		    inputLength,
		    /** Cached calculation results */
		    handledCPCountPlusOne,
		    baseMinusT,
		    qMinusT;

		// Convert the input in UCS-2 to Unicode
		input = ucs2decode(input);

		// Cache the length
		inputLength = input.length;

		// Initialize the state
		n = initialN;
		delta = 0;
		bias = initialBias;

		// Handle the basic code points
		for (j = 0; j < inputLength; ++j) {
			currentValue = input[j];
			if (currentValue < 0x80) {
				output.push(stringFromCharCode(currentValue));
			}
		}

		handledCPCount = basicLength = output.length;

		// `handledCPCount` is the number of code points that have been handled;
		// `basicLength` is the number of basic code points.

		// Finish the basic string - if it is not empty - with a delimiter
		if (basicLength) {
			output.push(delimiter);
		}

		// Main encoding loop:
		while (handledCPCount < inputLength) {

			// All non-basic code points < n have been handled already. Find the next
			// larger one:
			for (m = maxInt, j = 0; j < inputLength; ++j) {
				currentValue = input[j];
				if (currentValue >= n && currentValue < m) {
					m = currentValue;
				}
			}

			// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,
			// but guard against overflow
			handledCPCountPlusOne = handledCPCount + 1;
			if (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {
				error('overflow');
			}

			delta += (m - n) * handledCPCountPlusOne;
			n = m;

			for (j = 0; j < inputLength; ++j) {
				currentValue = input[j];

				if (currentValue < n && ++delta > maxInt) {
					error('overflow');
				}

				if (currentValue == n) {
					// Represent delta as a generalized variable-length integer
					for (q = delta, k = base; /* no condition */; k += base) {
						t = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);
						if (q < t) {
							break;
						}
						qMinusT = q - t;
						baseMinusT = base - t;
						output.push(
							stringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))
						);
						q = floor(qMinusT / baseMinusT);
					}

					output.push(stringFromCharCode(digitToBasic(q, 0)));
					bias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);
					delta = 0;
					++handledCPCount;
				}
			}

			++delta;
			++n;

		}
		return output.join('');
	}

	/**
	 * Converts a Punycode string representing a domain name or an email address
	 * to Unicode. Only the Punycoded parts of the input will be converted, i.e.
	 * it doesn't matter if you call it on a string that has already been
	 * converted to Unicode.
	 * @memberOf punycode
	 * @param {String} input The Punycoded domain name or email address to
	 * convert to Unicode.
	 * @returns {String} The Unicode representation of the given Punycode
	 * string.
	 */
	function toUnicode(input) {
		return mapDomain(input, function(string) {
			return regexPunycode.test(string)
				? decode(string.slice(4).toLowerCase())
				: string;
		});
	}

	/**
	 * Converts a Unicode string representing a domain name or an email address to
	 * Punycode. Only the non-ASCII parts of the domain name will be converted,
	 * i.e. it doesn't matter if you call it with a domain that's already in
	 * ASCII.
	 * @memberOf punycode
	 * @param {String} input The domain name or email address to convert, as a
	 * Unicode string.
	 * @returns {String} The Punycode representation of the given domain name or
	 * email address.
	 */
	function toASCII(input) {
		return mapDomain(input, function(string) {
			return regexNonASCII.test(string)
				? 'xn--' + encode(string)
				: string;
		});
	}

	/*--------------------------------------------------------------------------*/

	/** Define the public API */
	punycode = {
		/**
		 * A string representing the current Punycode.js version number.
		 * @memberOf punycode
		 * @type String
		 */
		'version': '1.4.1',
		/**
		 * An object of methods to convert from JavaScript's internal character
		 * representation (UCS-2) to Unicode code points, and back.
		 * @see <https://mathiasbynens.be/notes/javascript-encoding>
		 * @memberOf punycode
		 * @type Object
		 */
		'ucs2': {
			'decode': ucs2decode,
			'encode': ucs2encode
		},
		'decode': decode,
		'encode': encode,
		'toASCII': toASCII,
		'toUnicode': toUnicode
	};

	/** Expose `punycode` */
	// Some AMD build optimizers, like r.js, check for specific condition patterns
	// like the following:
	if (
		true
	) {
		!(__WEBPACK_AMD_DEFINE_RESULT__ = (function() {
			return punycode;
		}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}

}(this));

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../webpack/buildin/module.js */ "./node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./node_modules/querystring-es3/decode.js":
/*!************************************************!*\
  !*** ./node_modules/querystring-es3/decode.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.



// If obj.hasOwnProperty has been overridden, then calling
// obj.hasOwnProperty(prop) will break.
// See: https://github.com/joyent/node/issues/1707
function hasOwnProperty(obj, prop) {
  return Object.prototype.hasOwnProperty.call(obj, prop);
}

module.exports = function(qs, sep, eq, options) {
  sep = sep || '&';
  eq = eq || '=';
  var obj = {};

  if (typeof qs !== 'string' || qs.length === 0) {
    return obj;
  }

  var regexp = /\+/g;
  qs = qs.split(sep);

  var maxKeys = 1000;
  if (options && typeof options.maxKeys === 'number') {
    maxKeys = options.maxKeys;
  }

  var len = qs.length;
  // maxKeys <= 0 means that we should not limit keys count
  if (maxKeys > 0 && len > maxKeys) {
    len = maxKeys;
  }

  for (var i = 0; i < len; ++i) {
    var x = qs[i].replace(regexp, '%20'),
        idx = x.indexOf(eq),
        kstr, vstr, k, v;

    if (idx >= 0) {
      kstr = x.substr(0, idx);
      vstr = x.substr(idx + 1);
    } else {
      kstr = x;
      vstr = '';
    }

    k = decodeURIComponent(kstr);
    v = decodeURIComponent(vstr);

    if (!hasOwnProperty(obj, k)) {
      obj[k] = v;
    } else if (isArray(obj[k])) {
      obj[k].push(v);
    } else {
      obj[k] = [obj[k], v];
    }
  }

  return obj;
};

var isArray = Array.isArray || function (xs) {
  return Object.prototype.toString.call(xs) === '[object Array]';
};


/***/ }),

/***/ "./node_modules/querystring-es3/encode.js":
/*!************************************************!*\
  !*** ./node_modules/querystring-es3/encode.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.



var stringifyPrimitive = function(v) {
  switch (typeof v) {
    case 'string':
      return v;

    case 'boolean':
      return v ? 'true' : 'false';

    case 'number':
      return isFinite(v) ? v : '';

    default:
      return '';
  }
};

module.exports = function(obj, sep, eq, name) {
  sep = sep || '&';
  eq = eq || '=';
  if (obj === null) {
    obj = undefined;
  }

  if (typeof obj === 'object') {
    return map(objectKeys(obj), function(k) {
      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;
      if (isArray(obj[k])) {
        return map(obj[k], function(v) {
          return ks + encodeURIComponent(stringifyPrimitive(v));
        }).join(sep);
      } else {
        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));
      }
    }).join(sep);

  }

  if (!name) return '';
  return encodeURIComponent(stringifyPrimitive(name)) + eq +
         encodeURIComponent(stringifyPrimitive(obj));
};

var isArray = Array.isArray || function (xs) {
  return Object.prototype.toString.call(xs) === '[object Array]';
};

function map (xs, f) {
  if (xs.map) return xs.map(f);
  var res = [];
  for (var i = 0; i < xs.length; i++) {
    res.push(f(xs[i], i));
  }
  return res;
}

var objectKeys = Object.keys || function (obj) {
  var res = [];
  for (var key in obj) {
    if (Object.prototype.hasOwnProperty.call(obj, key)) res.push(key);
  }
  return res;
};


/***/ }),

/***/ "./node_modules/querystring-es3/index.js":
/*!***********************************************!*\
  !*** ./node_modules/querystring-es3/index.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.decode = exports.parse = __webpack_require__(/*! ./decode */ "./node_modules/querystring-es3/decode.js");
exports.encode = exports.stringify = __webpack_require__(/*! ./encode */ "./node_modules/querystring-es3/encode.js");


/***/ }),

/***/ "./node_modules/url/url.js":
/*!*********************************!*\
  !*** ./node_modules/url/url.js ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.



var punycode = __webpack_require__(/*! punycode */ "./node_modules/node-libs-browser/node_modules/punycode/punycode.js");
var util = __webpack_require__(/*! ./util */ "./node_modules/url/util.js");

exports.parse = urlParse;
exports.resolve = urlResolve;
exports.resolveObject = urlResolveObject;
exports.format = urlFormat;

exports.Url = Url;

function Url() {
  this.protocol = null;
  this.slashes = null;
  this.auth = null;
  this.host = null;
  this.port = null;
  this.hostname = null;
  this.hash = null;
  this.search = null;
  this.query = null;
  this.pathname = null;
  this.path = null;
  this.href = null;
}

// Reference: RFC 3986, RFC 1808, RFC 2396

// define these here so at least they only have to be
// compiled once on the first module load.
var protocolPattern = /^([a-z0-9.+-]+:)/i,
    portPattern = /:[0-9]*$/,

    // Special case for a simple path URL
    simplePathPattern = /^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,

    // RFC 2396: characters reserved for delimiting URLs.
    // We actually just auto-escape these.
    delims = ['<', '>', '"', '`', ' ', '\r', '\n', '\t'],

    // RFC 2396: characters not allowed for various reasons.
    unwise = ['{', '}', '|', '\\', '^', '`'].concat(delims),

    // Allowed by RFCs, but cause of XSS attacks.  Always escape these.
    autoEscape = ['\''].concat(unwise),
    // Characters that are never ever allowed in a hostname.
    // Note that any invalid chars are also handled, but these
    // are the ones that are *expected* to be seen, so we fast-path
    // them.
    nonHostChars = ['%', '/', '?', ';', '#'].concat(autoEscape),
    hostEndingChars = ['/', '?', '#'],
    hostnameMaxLen = 255,
    hostnamePartPattern = /^[+a-z0-9A-Z_-]{0,63}$/,
    hostnamePartStart = /^([+a-z0-9A-Z_-]{0,63})(.*)$/,
    // protocols that can allow "unsafe" and "unwise" chars.
    unsafeProtocol = {
      'javascript': true,
      'javascript:': true
    },
    // protocols that never have a hostname.
    hostlessProtocol = {
      'javascript': true,
      'javascript:': true
    },
    // protocols that always contain a // bit.
    slashedProtocol = {
      'http': true,
      'https': true,
      'ftp': true,
      'gopher': true,
      'file': true,
      'http:': true,
      'https:': true,
      'ftp:': true,
      'gopher:': true,
      'file:': true
    },
    querystring = __webpack_require__(/*! querystring */ "./node_modules/querystring-es3/index.js");

function urlParse(url, parseQueryString, slashesDenoteHost) {
  if (url && util.isObject(url) && url instanceof Url) return url;

  var u = new Url;
  u.parse(url, parseQueryString, slashesDenoteHost);
  return u;
}

Url.prototype.parse = function(url, parseQueryString, slashesDenoteHost) {
  if (!util.isString(url)) {
    throw new TypeError("Parameter 'url' must be a string, not " + typeof url);
  }

  // Copy chrome, IE, opera backslash-handling behavior.
  // Back slashes before the query string get converted to forward slashes
  // See: https://code.google.com/p/chromium/issues/detail?id=25916
  var queryIndex = url.indexOf('?'),
      splitter =
          (queryIndex !== -1 && queryIndex < url.indexOf('#')) ? '?' : '#',
      uSplit = url.split(splitter),
      slashRegex = /\\/g;
  uSplit[0] = uSplit[0].replace(slashRegex, '/');
  url = uSplit.join(splitter);

  var rest = url;

  // trim before proceeding.
  // This is to support parse stuff like "  http://foo.com  \n"
  rest = rest.trim();

  if (!slashesDenoteHost && url.split('#').length === 1) {
    // Try fast path regexp
    var simplePath = simplePathPattern.exec(rest);
    if (simplePath) {
      this.path = rest;
      this.href = rest;
      this.pathname = simplePath[1];
      if (simplePath[2]) {
        this.search = simplePath[2];
        if (parseQueryString) {
          this.query = querystring.parse(this.search.substr(1));
        } else {
          this.query = this.search.substr(1);
        }
      } else if (parseQueryString) {
        this.search = '';
        this.query = {};
      }
      return this;
    }
  }

  var proto = protocolPattern.exec(rest);
  if (proto) {
    proto = proto[0];
    var lowerProto = proto.toLowerCase();
    this.protocol = lowerProto;
    rest = rest.substr(proto.length);
  }

  // figure out if it's got a host
  // user@server is *always* interpreted as a hostname, and url
  // resolution will treat //foo/bar as host=foo,path=bar because that's
  // how the browser resolves relative URLs.
  if (slashesDenoteHost || proto || rest.match(/^\/\/[^@\/]+@[^@\/]+/)) {
    var slashes = rest.substr(0, 2) === '//';
    if (slashes && !(proto && hostlessProtocol[proto])) {
      rest = rest.substr(2);
      this.slashes = true;
    }
  }

  if (!hostlessProtocol[proto] &&
      (slashes || (proto && !slashedProtocol[proto]))) {

    // there's a hostname.
    // the first instance of /, ?, ;, or # ends the host.
    //
    // If there is an @ in the hostname, then non-host chars *are* allowed
    // to the left of the last @ sign, unless some host-ending character
    // comes *before* the @-sign.
    // URLs are obnoxious.
    //
    // ex:
    // http://a@b@c/ => user:a@b host:c
    // http://a@b?@c => user:a host:c path:/?@c

    // v0.12 TODO(isaacs): This is not quite how Chrome does things.
    // Review our test case against browsers more comprehensively.

    // find the first instance of any hostEndingChars
    var hostEnd = -1;
    for (var i = 0; i < hostEndingChars.length; i++) {
      var hec = rest.indexOf(hostEndingChars[i]);
      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))
        hostEnd = hec;
    }

    // at this point, either we have an explicit point where the
    // auth portion cannot go past, or the last @ char is the decider.
    var auth, atSign;
    if (hostEnd === -1) {
      // atSign can be anywhere.
      atSign = rest.lastIndexOf('@');
    } else {
      // atSign must be in auth portion.
      // http://a@b/c@d => host:b auth:a path:/c@d
      atSign = rest.lastIndexOf('@', hostEnd);
    }

    // Now we have a portion which is definitely the auth.
    // Pull that off.
    if (atSign !== -1) {
      auth = rest.slice(0, atSign);
      rest = rest.slice(atSign + 1);
      this.auth = decodeURIComponent(auth);
    }

    // the host is the remaining to the left of the first non-host char
    hostEnd = -1;
    for (var i = 0; i < nonHostChars.length; i++) {
      var hec = rest.indexOf(nonHostChars[i]);
      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))
        hostEnd = hec;
    }
    // if we still have not hit it, then the entire thing is a host.
    if (hostEnd === -1)
      hostEnd = rest.length;

    this.host = rest.slice(0, hostEnd);
    rest = rest.slice(hostEnd);

    // pull out port.
    this.parseHost();

    // we've indicated that there is a hostname,
    // so even if it's empty, it has to be present.
    this.hostname = this.hostname || '';

    // if hostname begins with [ and ends with ]
    // assume that it's an IPv6 address.
    var ipv6Hostname = this.hostname[0] === '[' &&
        this.hostname[this.hostname.length - 1] === ']';

    // validate a little.
    if (!ipv6Hostname) {
      var hostparts = this.hostname.split(/\./);
      for (var i = 0, l = hostparts.length; i < l; i++) {
        var part = hostparts[i];
        if (!part) continue;
        if (!part.match(hostnamePartPattern)) {
          var newpart = '';
          for (var j = 0, k = part.length; j < k; j++) {
            if (part.charCodeAt(j) > 127) {
              // we replace non-ASCII char with a temporary placeholder
              // we need this to make sure size of hostname is not
              // broken by replacing non-ASCII by nothing
              newpart += 'x';
            } else {
              newpart += part[j];
            }
          }
          // we test again with ASCII char only
          if (!newpart.match(hostnamePartPattern)) {
            var validParts = hostparts.slice(0, i);
            var notHost = hostparts.slice(i + 1);
            var bit = part.match(hostnamePartStart);
            if (bit) {
              validParts.push(bit[1]);
              notHost.unshift(bit[2]);
            }
            if (notHost.length) {
              rest = '/' + notHost.join('.') + rest;
            }
            this.hostname = validParts.join('.');
            break;
          }
        }
      }
    }

    if (this.hostname.length > hostnameMaxLen) {
      this.hostname = '';
    } else {
      // hostnames are always lower case.
      this.hostname = this.hostname.toLowerCase();
    }

    if (!ipv6Hostname) {
      // IDNA Support: Returns a punycoded representation of "domain".
      // It only converts parts of the domain name that
      // have non-ASCII characters, i.e. it doesn't matter if
      // you call it with a domain that already is ASCII-only.
      this.hostname = punycode.toASCII(this.hostname);
    }

    var p = this.port ? ':' + this.port : '';
    var h = this.hostname || '';
    this.host = h + p;
    this.href += this.host;

    // strip [ and ] from the hostname
    // the host field still retains them, though
    if (ipv6Hostname) {
      this.hostname = this.hostname.substr(1, this.hostname.length - 2);
      if (rest[0] !== '/') {
        rest = '/' + rest;
      }
    }
  }

  // now rest is set to the post-host stuff.
  // chop off any delim chars.
  if (!unsafeProtocol[lowerProto]) {

    // First, make 100% sure that any "autoEscape" chars get
    // escaped, even if encodeURIComponent doesn't think they
    // need to be.
    for (var i = 0, l = autoEscape.length; i < l; i++) {
      var ae = autoEscape[i];
      if (rest.indexOf(ae) === -1)
        continue;
      var esc = encodeURIComponent(ae);
      if (esc === ae) {
        esc = escape(ae);
      }
      rest = rest.split(ae).join(esc);
    }
  }


  // chop off from the tail first.
  var hash = rest.indexOf('#');
  if (hash !== -1) {
    // got a fragment string.
    this.hash = rest.substr(hash);
    rest = rest.slice(0, hash);
  }
  var qm = rest.indexOf('?');
  if (qm !== -1) {
    this.search = rest.substr(qm);
    this.query = rest.substr(qm + 1);
    if (parseQueryString) {
      this.query = querystring.parse(this.query);
    }
    rest = rest.slice(0, qm);
  } else if (parseQueryString) {
    // no query string, but parseQueryString still requested
    this.search = '';
    this.query = {};
  }
  if (rest) this.pathname = rest;
  if (slashedProtocol[lowerProto] &&
      this.hostname && !this.pathname) {
    this.pathname = '/';
  }

  //to support http.request
  if (this.pathname || this.search) {
    var p = this.pathname || '';
    var s = this.search || '';
    this.path = p + s;
  }

  // finally, reconstruct the href based on what has been validated.
  this.href = this.format();
  return this;
};

// format a parsed object into a url string
function urlFormat(obj) {
  // ensure it's an object, and not a string url.
  // If it's an obj, this is a no-op.
  // this way, you can call url_format() on strings
  // to clean up potentially wonky urls.
  if (util.isString(obj)) obj = urlParse(obj);
  if (!(obj instanceof Url)) return Url.prototype.format.call(obj);
  return obj.format();
}

Url.prototype.format = function() {
  var auth = this.auth || '';
  if (auth) {
    auth = encodeURIComponent(auth);
    auth = auth.replace(/%3A/i, ':');
    auth += '@';
  }

  var protocol = this.protocol || '',
      pathname = this.pathname || '',
      hash = this.hash || '',
      host = false,
      query = '';

  if (this.host) {
    host = auth + this.host;
  } else if (this.hostname) {
    host = auth + (this.hostname.indexOf(':') === -1 ?
        this.hostname :
        '[' + this.hostname + ']');
    if (this.port) {
      host += ':' + this.port;
    }
  }

  if (this.query &&
      util.isObject(this.query) &&
      Object.keys(this.query).length) {
    query = querystring.stringify(this.query);
  }

  var search = this.search || (query && ('?' + query)) || '';

  if (protocol && protocol.substr(-1) !== ':') protocol += ':';

  // only the slashedProtocols get the //.  Not mailto:, xmpp:, etc.
  // unless they had them to begin with.
  if (this.slashes ||
      (!protocol || slashedProtocol[protocol]) && host !== false) {
    host = '//' + (host || '');
    if (pathname && pathname.charAt(0) !== '/') pathname = '/' + pathname;
  } else if (!host) {
    host = '';
  }

  if (hash && hash.charAt(0) !== '#') hash = '#' + hash;
  if (search && search.charAt(0) !== '?') search = '?' + search;

  pathname = pathname.replace(/[?#]/g, function(match) {
    return encodeURIComponent(match);
  });
  search = search.replace('#', '%23');

  return protocol + host + pathname + search + hash;
};

function urlResolve(source, relative) {
  return urlParse(source, false, true).resolve(relative);
}

Url.prototype.resolve = function(relative) {
  return this.resolveObject(urlParse(relative, false, true)).format();
};

function urlResolveObject(source, relative) {
  if (!source) return relative;
  return urlParse(source, false, true).resolveObject(relative);
}

Url.prototype.resolveObject = function(relative) {
  if (util.isString(relative)) {
    var rel = new Url();
    rel.parse(relative, false, true);
    relative = rel;
  }

  var result = new Url();
  var tkeys = Object.keys(this);
  for (var tk = 0; tk < tkeys.length; tk++) {
    var tkey = tkeys[tk];
    result[tkey] = this[tkey];
  }

  // hash is always overridden, no matter what.
  // even href="" will remove it.
  result.hash = relative.hash;

  // if the relative url is empty, then there's nothing left to do here.
  if (relative.href === '') {
    result.href = result.format();
    return result;
  }

  // hrefs like //foo/bar always cut to the protocol.
  if (relative.slashes && !relative.protocol) {
    // take everything except the protocol from relative
    var rkeys = Object.keys(relative);
    for (var rk = 0; rk < rkeys.length; rk++) {
      var rkey = rkeys[rk];
      if (rkey !== 'protocol')
        result[rkey] = relative[rkey];
    }

    //urlParse appends trailing / to urls like http://www.example.com
    if (slashedProtocol[result.protocol] &&
        result.hostname && !result.pathname) {
      result.path = result.pathname = '/';
    }

    result.href = result.format();
    return result;
  }

  if (relative.protocol && relative.protocol !== result.protocol) {
    // if it's a known url protocol, then changing
    // the protocol does weird things
    // first, if it's not file:, then we MUST have a host,
    // and if there was a path
    // to begin with, then we MUST have a path.
    // if it is file:, then the host is dropped,
    // because that's known to be hostless.
    // anything else is assumed to be absolute.
    if (!slashedProtocol[relative.protocol]) {
      var keys = Object.keys(relative);
      for (var v = 0; v < keys.length; v++) {
        var k = keys[v];
        result[k] = relative[k];
      }
      result.href = result.format();
      return result;
    }

    result.protocol = relative.protocol;
    if (!relative.host && !hostlessProtocol[relative.protocol]) {
      var relPath = (relative.pathname || '').split('/');
      while (relPath.length && !(relative.host = relPath.shift()));
      if (!relative.host) relative.host = '';
      if (!relative.hostname) relative.hostname = '';
      if (relPath[0] !== '') relPath.unshift('');
      if (relPath.length < 2) relPath.unshift('');
      result.pathname = relPath.join('/');
    } else {
      result.pathname = relative.pathname;
    }
    result.search = relative.search;
    result.query = relative.query;
    result.host = relative.host || '';
    result.auth = relative.auth;
    result.hostname = relative.hostname || relative.host;
    result.port = relative.port;
    // to support http.request
    if (result.pathname || result.search) {
      var p = result.pathname || '';
      var s = result.search || '';
      result.path = p + s;
    }
    result.slashes = result.slashes || relative.slashes;
    result.href = result.format();
    return result;
  }

  var isSourceAbs = (result.pathname && result.pathname.charAt(0) === '/'),
      isRelAbs = (
          relative.host ||
          relative.pathname && relative.pathname.charAt(0) === '/'
      ),
      mustEndAbs = (isRelAbs || isSourceAbs ||
                    (result.host && relative.pathname)),
      removeAllDots = mustEndAbs,
      srcPath = result.pathname && result.pathname.split('/') || [],
      relPath = relative.pathname && relative.pathname.split('/') || [],
      psychotic = result.protocol && !slashedProtocol[result.protocol];

  // if the url is a non-slashed url, then relative
  // links like ../.. should be able
  // to crawl up to the hostname, as well.  This is strange.
  // result.protocol has already been set by now.
  // Later on, put the first path part into the host field.
  if (psychotic) {
    result.hostname = '';
    result.port = null;
    if (result.host) {
      if (srcPath[0] === '') srcPath[0] = result.host;
      else srcPath.unshift(result.host);
    }
    result.host = '';
    if (relative.protocol) {
      relative.hostname = null;
      relative.port = null;
      if (relative.host) {
        if (relPath[0] === '') relPath[0] = relative.host;
        else relPath.unshift(relative.host);
      }
      relative.host = null;
    }
    mustEndAbs = mustEndAbs && (relPath[0] === '' || srcPath[0] === '');
  }

  if (isRelAbs) {
    // it's absolute.
    result.host = (relative.host || relative.host === '') ?
                  relative.host : result.host;
    result.hostname = (relative.hostname || relative.hostname === '') ?
                      relative.hostname : result.hostname;
    result.search = relative.search;
    result.query = relative.query;
    srcPath = relPath;
    // fall through to the dot-handling below.
  } else if (relPath.length) {
    // it's relative
    // throw away the existing file, and take the new path instead.
    if (!srcPath) srcPath = [];
    srcPath.pop();
    srcPath = srcPath.concat(relPath);
    result.search = relative.search;
    result.query = relative.query;
  } else if (!util.isNullOrUndefined(relative.search)) {
    // just pull out the search.
    // like href='?foo'.
    // Put this after the other two cases because it simplifies the booleans
    if (psychotic) {
      result.hostname = result.host = srcPath.shift();
      //occationaly the auth can get stuck only in host
      //this especially happens in cases like
      //url.resolveObject('mailto:local1@domain1', 'local2@domain2')
      var authInHost = result.host && result.host.indexOf('@') > 0 ?
                       result.host.split('@') : false;
      if (authInHost) {
        result.auth = authInHost.shift();
        result.host = result.hostname = authInHost.shift();
      }
    }
    result.search = relative.search;
    result.query = relative.query;
    //to support http.request
    if (!util.isNull(result.pathname) || !util.isNull(result.search)) {
      result.path = (result.pathname ? result.pathname : '') +
                    (result.search ? result.search : '');
    }
    result.href = result.format();
    return result;
  }

  if (!srcPath.length) {
    // no path at all.  easy.
    // we've already handled the other stuff above.
    result.pathname = null;
    //to support http.request
    if (result.search) {
      result.path = '/' + result.search;
    } else {
      result.path = null;
    }
    result.href = result.format();
    return result;
  }

  // if a url ENDs in . or .., then it must get a trailing slash.
  // however, if it ends in anything else non-slashy,
  // then it must NOT get a trailing slash.
  var last = srcPath.slice(-1)[0];
  var hasTrailingSlash = (
      (result.host || relative.host || srcPath.length > 1) &&
      (last === '.' || last === '..') || last === '');

  // strip single dots, resolve double dots to parent dir
  // if the path tries to go above the root, `up` ends up > 0
  var up = 0;
  for (var i = srcPath.length; i >= 0; i--) {
    last = srcPath[i];
    if (last === '.') {
      srcPath.splice(i, 1);
    } else if (last === '..') {
      srcPath.splice(i, 1);
      up++;
    } else if (up) {
      srcPath.splice(i, 1);
      up--;
    }
  }

  // if the path is allowed to go above the root, restore leading ..s
  if (!mustEndAbs && !removeAllDots) {
    for (; up--; up) {
      srcPath.unshift('..');
    }
  }

  if (mustEndAbs && srcPath[0] !== '' &&
      (!srcPath[0] || srcPath[0].charAt(0) !== '/')) {
    srcPath.unshift('');
  }

  if (hasTrailingSlash && (srcPath.join('/').substr(-1) !== '/')) {
    srcPath.push('');
  }

  var isAbsolute = srcPath[0] === '' ||
      (srcPath[0] && srcPath[0].charAt(0) === '/');

  // put the host back
  if (psychotic) {
    result.hostname = result.host = isAbsolute ? '' :
                                    srcPath.length ? srcPath.shift() : '';
    //occationaly the auth can get stuck only in host
    //this especially happens in cases like
    //url.resolveObject('mailto:local1@domain1', 'local2@domain2')
    var authInHost = result.host && result.host.indexOf('@') > 0 ?
                     result.host.split('@') : false;
    if (authInHost) {
      result.auth = authInHost.shift();
      result.host = result.hostname = authInHost.shift();
    }
  }

  mustEndAbs = mustEndAbs || (result.host && srcPath.length);

  if (mustEndAbs && !isAbsolute) {
    srcPath.unshift('');
  }

  if (!srcPath.length) {
    result.pathname = null;
    result.path = null;
  } else {
    result.pathname = srcPath.join('/');
  }

  //to support request.http
  if (!util.isNull(result.pathname) || !util.isNull(result.search)) {
    result.path = (result.pathname ? result.pathname : '') +
                  (result.search ? result.search : '');
  }
  result.auth = relative.auth || result.auth;
  result.slashes = result.slashes || relative.slashes;
  result.href = result.format();
  return result;
};

Url.prototype.parseHost = function() {
  var host = this.host;
  var port = portPattern.exec(host);
  if (port) {
    port = port[0];
    if (port !== ':') {
      this.port = port.substr(1);
    }
    host = host.substr(0, host.length - port.length);
  }
  if (host) this.hostname = host;
};


/***/ }),

/***/ "./node_modules/url/util.js":
/*!**********************************!*\
  !*** ./node_modules/url/util.js ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


module.exports = {
  isString: function(arg) {
    return typeof(arg) === 'string';
  },
  isObject: function(arg) {
    return typeof(arg) === 'object' && arg !== null;
  },
  isNull: function(arg) {
    return arg === null;
  },
  isNullOrUndefined: function(arg) {
    return arg == null;
  }
};


/***/ }),

/***/ "./node_modules/webpack/buildin/module.js":
/*!***********************************!*\
  !*** (webpack)/buildin/module.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = function(module) {
	if (!module.webpackPolyfill) {
		module.deprecate = function() {};
		module.paths = [];
		// module.parent = undefined by default
		if (!module.children) module.children = [];
		Object.defineProperty(module, "loaded", {
			enumerable: true,
			get: function() {
				return module.l;
			}
		});
		Object.defineProperty(module, "id", {
			enumerable: true,
			get: function() {
				return module.i;
			}
		});
		module.webpackPolyfill = 1;
	}
	return module;
};


/***/ }),

/***/ "./src/background/index.js":
/*!*********************************!*\
  !*** ./src/background/index.js ***!
  \*********************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common_browser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./src/common/browser */ "./src/common/browser.js");
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common_browser__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_Users_ZhaoJun_Desktop_violentmonkey_src_common_browser__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./src/common */ "./src/common/index.js");
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common_consts__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./src/common/consts */ "./src/common/consts.js");
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/common/object */ "./src/common/object.js");
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common_tld__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./src/common/tld */ "./src/common/tld.js");
/* harmony import */ var _sync__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./sync */ "./src/background/sync/index.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./utils */ "./src/background/utils/index.js");
/* harmony import */ var _utils_db__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./utils/db */ "./src/background/utils/db.js");
/* harmony import */ var _utils_init__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./utils/init */ "./src/background/utils/init.js");
/* harmony import */ var _utils_options__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./utils/options */ "./src/background/utils/options.js");
/* harmony import */ var _utils_popup_tracker__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./utils/popup-tracker */ "./src/background/utils/popup-tracker.js");
/* harmony import */ var _utils_preinject__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./utils/preinject */ "./src/background/utils/preinject.js");
/* harmony import */ var _utils_template_hook__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./utils/template-hook */ "./src/background/utils/template-hook.js");
/* harmony import */ var _utils_values__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./utils/values */ "./src/background/utils/values.js");
/* harmony import */ var _utils_requests__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./utils/requests */ "./src/background/utils/requests.js");
/* harmony import */ var _utils_clipboard__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./utils/clipboard */ "./src/background/utils/clipboard.js");
/* harmony import */ var _utils_hotkeys__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./utils/hotkeys */ "./src/background/utils/hotkeys.js");
/* harmony import */ var _utils_icon__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./utils/icon */ "./src/background/utils/icon.js");
/* harmony import */ var _utils_notifications__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./utils/notifications */ "./src/background/utils/notifications.js");
/* harmony import */ var _utils_script__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./utils/script */ "./src/background/utils/script.js");
/* harmony import */ var _utils_tabs__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./utils/tabs */ "./src/background/utils/tabs.js");
/* harmony import */ var _utils_tester__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./utils/tester */ "./src/background/utils/tester.js");
/* harmony import */ var _utils_update__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./utils/update */ "./src/background/utils/update.js");























Object(_utils_options__WEBPACK_IMPORTED_MODULE_9__["hookOptions"])(changes => {
  if ('autoUpdate' in changes) {
    autoUpdate();
  }

  if (_utils_template_hook__WEBPACK_IMPORTED_MODULE_12__["SCRIPT_TEMPLATE"] in changes) {
    Object(_utils_template_hook__WEBPACK_IMPORTED_MODULE_12__["resetScriptTemplate"])(changes);
  }

  Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["sendCmd"])('UpdateOptions', changes);
});
Object.assign(_utils__WEBPACK_IMPORTED_MODULE_6__["commands"], {
  /** @return {Promise<{ scripts: VMScript[], cache: Object, sync: Object }>} */
  async GetData(ids) {
    const data = await Object(_utils_db__WEBPACK_IMPORTED_MODULE_7__["getData"])(ids);
    data.sync = _sync__WEBPACK_IMPORTED_MODULE_5__["getStates"]();
    return data;
  },

  /** @return {Promise<Object>} */
  async GetInjected({
    url,
    forceContent
  }, src) {
    const {
      frameId,
      tab
    } = src;
    const tabId = tab.id;
    if (!url) url = src.url || tab.url;

    if (!frameId) {
      Object(_utils_values__WEBPACK_IMPORTED_MODULE_13__["resetValueOpener"])(tabId);
      Object(_utils_requests__WEBPACK_IMPORTED_MODULE_14__["clearRequestsByTabId"])(tabId);
    }

    const res = await Object(_utils_preinject__WEBPACK_IMPORTED_MODULE_11__["getInjectedScripts"])(url, tabId, frameId, forceContent);
    const {
      feedback,
      inject,
      valOpIds
    } = res;
    inject.isPopupShown = _utils_popup_tracker__WEBPACK_IMPORTED_MODULE_10__["popupTabs"][tabId]; // Injecting known content scripts without waiting for InjectionFeedback message.
    // Running in a separate task because it may take a long time to serialize data.

    if (feedback.length) {
      setTimeout(_utils__WEBPACK_IMPORTED_MODULE_6__["commands"].InjectionFeedback, 0, {
        feedback
      }, src);
    }

    Object(_utils_values__WEBPACK_IMPORTED_MODULE_13__["addValueOpener"])(tabId, frameId, valOpIds);
    return inject;
  },

  /** @return {Promise<Object>} */
  async GetTabDomain() {
    const tab = (await Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["getActiveTab"])()) || {};
    const url = tab.pendingUrl || tab.url || '';
    const host = url.match(/^https?:\/\/([^/]+)|$/)[1];
    return {
      tab,
      domain: host && _Users_ZhaoJun_Desktop_violentmonkey_src_common_tld__WEBPACK_IMPORTED_MODULE_4__["getDomain"](host) || host
    };
  },

  /**
   * Timers in content scripts are shared with the web page so it can clear them.
   * await sendCmd('SetTimeout', 100) in injected/content
   * await bridge.send('SetTimeout', 100) in injected/web
   */
  SetTimeout(ms) {
    return ms > 0 && Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["makePause"])(ms);
  }

}); // commands to sync unconditionally regardless of the returned value from the handler

const commandsToSync = ['MarkRemoved', 'Move', 'ParseScript', 'RemoveScript', 'UpdateScriptInfo']; // commands to sync only if the handler returns a truthy value

const commandsToSyncIfTruthy = ['CheckRemove', 'CheckUpdate', 'CheckUpdateAll'];

async function handleCommandMessage(req, src) {
  var _commands$cmd;

  const {
    cmd
  } = req;
  const res = await ((_commands$cmd = _utils__WEBPACK_IMPORTED_MODULE_6__["commands"][cmd]) == null ? void 0 : _commands$cmd.call(_utils__WEBPACK_IMPORTED_MODULE_6__["commands"], req.data, src));

  if (commandsToSync.includes(cmd) || res && commandsToSyncIfTruthy.includes(cmd)) {
    _sync__WEBPACK_IMPORTED_MODULE_5__["sync"]();
  } // `undefined` is not transferable, but `null` is


  return res != null ? res : null;
}

function autoUpdate() {
  const interval = _Users_ZhaoJun_Desktop_violentmonkey_src_common_consts__WEBPACK_IMPORTED_MODULE_2__["IS_DEV"] ? 1000 : (+Object(_utils_options__WEBPACK_IMPORTED_MODULE_9__["getOption"])('autoUpdate') || 0) * _Users_ZhaoJun_Desktop_violentmonkey_src_common_consts__WEBPACK_IMPORTED_MODULE_2__["TIMEOUT_24HOURS"];
  if (!interval) return;
  let elapsed = Date.now() - Object(_utils_options__WEBPACK_IMPORTED_MODULE_9__["getOption"])('lastUpdate');

  if (elapsed >= interval) {
    handleCommandMessage({
      cmd: 'CheckUpdateAll'
    });
    elapsed = 0;
  }

  clearTimeout(autoUpdate.timer);
  autoUpdate.timer = setTimeout(autoUpdate, Math.min(_Users_ZhaoJun_Desktop_violentmonkey_src_common_consts__WEBPACK_IMPORTED_MODULE_2__["TIMEOUT_MAX"], interval - elapsed));
}

async function initBuildin() {
  const {
    data
  } = await Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["request"])(_Users_ZhaoJun_Desktop_violentmonkey_src_common_consts__WEBPACK_IMPORTED_MODULE_2__["BUILD_IN_SCRIPT_SRC"], {
    cache: 'no-cache',
    headers: {
      Accept: 'text/x-userscript-meta,*/*'
    }
  });
  const res = await _utils__WEBPACK_IMPORTED_MODULE_6__["commands"].ParseScript({
    url: _Users_ZhaoJun_Desktop_violentmonkey_src_common_consts__WEBPACK_IMPORTED_MODULE_2__["BUILD_IN_SCRIPT_SRC"],
    code: data,
    custom: {
      buildIn: true
    }
  });
  _sync__WEBPACK_IMPORTED_MODULE_5__["sync"]();

  if (res.where.id !== 1) {
    throw `wrong id: ${res.where.id}`;
  }
}

Object(_utils_init__WEBPACK_IMPORTED_MODULE_8__["initialize"])(() => {
  global.handleCommandMessage = handleCommandMessage;
  global.deepCopy = _Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_3__["deepCopy"];
  browser.runtime.onMessage.addListener(IS_FIREFOX // in FF a rejected Promise value is transferred only if it's an Error object
  ? (...args) => handleCommandMessage(...args).catch(e => Promise.reject(e instanceof Error ? e : new Error(e))) // Didn't use `throw` to avoid interruption in devtools with pause-on-exception enabled.
  : handleCommandMessage); // check and install the build-in script

  initBuildin();
  console.info('initBuildin...');
  setTimeout(autoUpdate, _Users_ZhaoJun_Desktop_violentmonkey_src_common_consts__WEBPACK_IMPORTED_MODULE_2__["IS_DEV"] ? 1 : 2e4);
  _sync__WEBPACK_IMPORTED_MODULE_5__["initialize"]();
  Object(_utils_db__WEBPACK_IMPORTED_MODULE_7__["checkRemove"])();
  setInterval(_utils_db__WEBPACK_IMPORTED_MODULE_7__["checkRemove"], _Users_ZhaoJun_Desktop_violentmonkey_src_common_consts__WEBPACK_IMPORTED_MODULE_2__["TIMEOUT_24HOURS"]);
  const api = global.chrome.declarativeContent;

  if (api) {
    // Using declarativeContent to run content scripts earlier than document_start
    api.onPageChanged.getRules(async ([rule]) => {
      const id = rule == null ? void 0 : rule.id;
      const newId = "Violentmonkey:R+X5rGSzcoI=";

      if (id === newId) {
        return;
      }

      if (id) {
        await browser.declarativeContent.onPageChanged.removeRules([id]);
      }

      api.onPageChanged.addRules([{
        id: newId,
        conditions: [new api.PageStateMatcher({
          pageUrl: {
            urlContains: '://'
          } // essentially like <all_urls>

        })],
        actions: [new api.RequestContentScript({
          js: browser.runtime.getManifest().content_scripts[0].js // Not using `allFrames:true` as there's no improvement in frames

        })]
      }]);
    });
  }
});

/***/ }),

/***/ "./src/background/plugin/events.js":
/*!*****************************************!*\
  !*** ./src/background/plugin/events.js ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common_events__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./src/common/events */ "./src/common/events.js");

/* harmony default export */ __webpack_exports__["default"] = (new _Users_ZhaoJun_Desktop_violentmonkey_src_common_events__WEBPACK_IMPORTED_MODULE_0__["default"](['scriptEdit', 'scriptChanged']));

/***/ }),

/***/ "./src/background/plugin/index.js":
/*!****************************************!*\
  !*** ./src/background/plugin/index.js ***!
  \****************************************/
/*! exports provided: script */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "script", function() { return script; });
/* harmony import */ var _utils_message__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/message */ "./src/background/utils/message.js");
/* harmony import */ var _utils_db__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/db */ "./src/background/utils/db.js");


const script = {
  /**
   * Update an existing script identified by the provided id
   * @param {{ id, code, message, isNew, config, custom, props, update }} data
   * @return {Promise<{ isNew?, update, where }>}
   */
  update: _utils_message__WEBPACK_IMPORTED_MODULE_0__["commands"].ParseScript,

  /**
   * List all available scripts, without script code
   * @return {Promise<VMScript[]>}
   */
  list: async () => Object(_utils_db__WEBPACK_IMPORTED_MODULE_1__["getScripts"])(),

  /**
   * Get script code of an existing script
   * @param {number} id
   * @return {Promise<string>}
   */
  get: _utils_message__WEBPACK_IMPORTED_MODULE_0__["commands"].GetScriptCode,

  /**
   * Remove script
   * @param {number} id
   * @return {Promise<void>}
   */
  remove: id => _utils_message__WEBPACK_IMPORTED_MODULE_0__["commands"].MarkRemoved({
    id,
    removed: true
  })
};

/***/ }),

/***/ "./src/background/sync/base.js":
/*!*************************************!*\
  !*** ./src/background/sync/base.js ***!
  \*************************************/
/*! exports provided: getItemFilename, isScriptFile, getURI, getStates, BaseService, register, initialize, sync, authorize, revoke, setConfig, openAuthPage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getItemFilename", function() { return getItemFilename; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isScriptFile", function() { return isScriptFile; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getURI", function() { return getURI; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getStates", function() { return getStates; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BaseService", function() { return BaseService; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "register", function() { return register; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "initialize", function() { return initialize; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "sync", function() { return sync; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "authorize", function() { return authorize; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "revoke", function() { return revoke; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setConfig", function() { return setConfig; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "openAuthPage", function() { return openAuthPage; });
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./src/common */ "./src/common/index.js");
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common_consts__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./src/common/consts */ "./src/common/consts.js");
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./src/common/object */ "./src/common/object.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils */ "./src/background/utils/index.js");
/* harmony import */ var _utils_db__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/db */ "./src/background/utils/db.js");
/* harmony import */ var _plugin__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../plugin */ "./src/background/plugin/index.js");






const serviceNames = [];
const serviceClasses = [];
const services = {};
const autoSync = Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["debounce"])(sync, _Users_ZhaoJun_Desktop_violentmonkey_src_common_consts__WEBPACK_IMPORTED_MODULE_1__["TIMEOUT_HOUR"]);
let working = Promise.resolve();
let syncConfig;
function getItemFilename({
  name,
  uri
}) {
  // When get or remove, current name should be prefered
  if (name) return name; // otherwise uri derived name should be prefered
  // uri is already encoded by `encodeFilename`

  return `vm@2-${uri}`;
}
function isScriptFile(name) {
  return /^vm(?:@\d+)?-/.test(name);
}
function getURI(name) {
  const i = name.indexOf('-');
  const [, version] = name.slice(0, i).split('@');

  if (version === '2') {
    // uri is encoded by `encodedFilename`, so we should not decode it here
    return name.slice(i + 1);
  }

  try {
    return decodeURIComponent(name.slice(3));
  } catch (err) {
    return name.slice(3);
  }
}

function initConfig() {
  function get(key, def) {
    const keys = Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["normalizeKeys"])(key);
    keys.unshift('sync');
    return Object(_utils__WEBPACK_IMPORTED_MODULE_3__["getOption"])(keys, def);
  }

  function set(key, value) {
    const keys = Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["normalizeKeys"])(key);
    keys.unshift('sync');
    Object(_utils__WEBPACK_IMPORTED_MODULE_3__["setOption"])(keys, value);
  }

  function init() {
    let config = Object(_utils__WEBPACK_IMPORTED_MODULE_3__["getOption"])('sync');

    if (!config || !config.services) {
      config = {
        services: {}
      };
      set([], config);
    }
  }

  init();
  return {
    get,
    set
  };
}

function serviceConfig(name) {
  function getKeys(key) {
    const keys = Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["normalizeKeys"])(key);
    keys.unshift('services', name);
    return keys;
  }

  function get(key, def) {
    return syncConfig.get(getKeys(key), def);
  }

  function set(key, val) {
    if (typeof key === 'object') {
      safeCall(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_2__["forEachEntry"], key, ([k, v]) => {
        syncConfig.set(getKeys(k), v);
      });
    } else {
      syncConfig.set(getKeys(key), val);
    }
  }

  function clear() {
    syncConfig.set(getKeys(), {});
  }

  return {
    get,
    set,
    clear
  };
}

function serviceState(validStates, initialState, onChange) {
  let state = initialState || validStates[0];

  function get() {
    return state;
  }

  function set(newState) {
    if (validStates.includes(newState)) {
      state = newState;
      if (onChange) onChange();
    } else {
      console.warn('Invalid state:', newState);
    }

    return get();
  }

  function is(states) {
    return Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["ensureArray"])(states).includes(state);
  }

  return {
    get,
    set,
    is
  };
}

function getStates() {
  return serviceNames.map(name => {
    const service = services[name];
    return {
      name: service.name,
      displayName: service.displayName,
      authState: service.authState.get(),
      syncState: service.syncState.get(),
      lastSync: service.config.get('meta', {}).lastSync,
      progress: service.progress,
      properties: service.properties,
      userConfig: service.getUserConfig()
    };
  });
}

function getScriptData(script, syncVersion, extra) {
  let data;

  if (syncVersion === 2) {
    data = {
      version: syncVersion,
      custom: script.custom,
      config: script.config,
      props: Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_2__["objectPick"])(script.props, ['lastUpdated'])
    };
  } else if (syncVersion === 1) {
    data = {
      version: syncVersion,
      more: {
        custom: script.custom,
        enabled: script.config.enabled,
        update: script.config.shouldUpdate,
        lastUpdated: script.props.lastUpdated
      }
    };
  }

  return Object.assign(data, extra);
}

function parseScriptData(raw) {
  const data = {};

  try {
    const obj = JSON.parse(raw);
    data.code = obj.code;

    if (obj.version === 2) {
      data.config = obj.config;
      data.custom = obj.custom;
      data.props = obj.props;
    } else if (obj.version === 1) {
      if (obj.more) {
        data.custom = obj.more.custom;
        data.config = objectPurify({
          enabled: obj.more.enabled,
          shouldUpdate: obj.more.update
        });
        data.props = objectPurify({
          lastUpdated: obj.more.lastUpdated
        });
      }
    }
  } catch (e) {
    data.code = raw;
  }

  return data;
}

function objectPurify(obj) {
  // Remove keys with undefined values
  if (Array.isArray(obj)) {
    obj.forEach(objectPurify);
  } else if (obj && typeof obj === 'object') {
    safeCall(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_2__["forEachEntry"], obj, ([key, value]) => {
      if (typeof value === 'undefined') delete obj[key];else objectPurify(value);
    });
  }

  return obj;
}

function serviceFactory(base) {
  const Service = function constructor() {
    this.initialize();
  };

  Service.prototype = base;
  Service.extend = extendService;
  return Service;
}

function extendService(options) {
  return serviceFactory(Object.assign(Object.create(this.prototype), options));
}

const onStateChange = Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["debounce"])(() => {
  Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["sendCmd"])('UpdateSync', getStates());
});
const BaseService = serviceFactory({
  name: 'base',
  displayName: 'BaseService',
  delayTime: 1000,
  urlPrefix: '',
  metaFile: 'Violentmonkey',
  properties: {
    authType: 'oauth'
  },
  getUserConfig: _Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["noop"],
  setUserConfig: _Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["noop"],

  initialize() {
    this.progress = {
      finished: 0,
      total: 0
    };
    this.config = serviceConfig(this.name);
    this.authState = serviceState(['idle', 'no-auth', 'initializing', 'authorizing', // in case some services require asynchronous requests to get access_tokens
    'authorized', 'unauthorized', 'error'], null, onStateChange);
    this.syncState = serviceState(['idle', 'ready', 'syncing', 'error'], null, onStateChange);
    this.lastFetch = Promise.resolve();
    this.startSync = this.syncFactory();
    const events = Object(_utils__WEBPACK_IMPORTED_MODULE_3__["getEventEmitter"])();
    ['on', 'off', 'fire'].forEach(key => {
      this[key] = (...args) => {
        events[key](...args);
      };
    });
  },

  log(...args) {
    console.log(...args); // eslint-disable-line no-console
  },

  syncFactory() {
    let promise;
    let debouncedResolve;

    const shouldSync = () => this.authState.is('authorized') && getCurrent() === this.name;

    const getReady = () => {
      if (!shouldSync()) return Promise.resolve();
      this.log('Ready to sync:', this.displayName);
      this.syncState.set('ready');
      working = working.then(() => new Promise(resolve => {
        debouncedResolve = Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["debounce"])(resolve, 10 * 1000);
        debouncedResolve();
      })).then(() => {
        if (shouldSync()) return this.sync();
        this.syncState.set('idle');
      }).catch(err => {
        console.error(err);
      }).then(() => {
        promise = null;
        debouncedResolve = null;
      });
      promise = working;
    };

    function startSync() {
      if (!promise) getReady();
      if (debouncedResolve) debouncedResolve();
      return promise;
    }

    return startSync;
  },

  prepareHeaders() {
    this.headers = {};
  },

  prepare() {
    this.authState.set('initializing');
    return (this.initToken() ? Promise.resolve(this.user()) : Promise.reject({
      type: 'no-auth'
    })).then(() => {
      this.authState.set('authorized');
    }, err => {
      if (['no-auth', 'unauthorized'].includes(err == null ? void 0 : err.type)) {
        this.authState.set(err.type);
      } else {
        console.error(err);
        this.authState.set('error');
      }

      this.syncState.set('idle');
      throw err;
    });
  },

  checkSync() {
    return this.prepare().then(() => this.startSync());
  },

  user: _Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["noop"],
  acquireLock: _Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["noop"],
  releaseLock: _Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["noop"],

  handleMetaError(err) {
    throw err;
  },

  getMeta() {
    return this.get({
      name: this.metaFile
    }).then(data => JSON.parse(data)).catch(err => this.handleMetaError(err)).then(data => ({
      name: this.metaFile,
      data
    }));
  },

  initToken() {
    this.prepareHeaders();
    const token = this.config.get('token');
    this.headers.Authorization = token ? `Bearer ${token}` : null;
    return !!token;
  },

  loadData(options) {
    const {
      progress
    } = this;
    const {
      delay = this.delayTime
    } = options;
    let lastFetch = Promise.resolve();

    if (delay) {
      lastFetch = this.lastFetch.then(ts => Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["makePause"])(delay - (Date.now() - ts))).then(() => Date.now());
      this.lastFetch = lastFetch;
    }

    progress.total += 1;
    onStateChange();
    return lastFetch.then(() => {
      var _options$prefix;

      options = Object.assign({}, options);
      options.headers = Object.assign({}, this.headers, options.headers);
      let {
        url
      } = options;
      if (url.startsWith('/')) url = ((_options$prefix = options.prefix) != null ? _options$prefix : this.urlPrefix) + url;
      return Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["request"])(url, options);
    }).then(({
      data
    }) => ({
      data
    }), error => ({
      error
    })).then(({
      data,
      error
    }) => {
      progress.finished += 1;
      onStateChange();
      if (error) return Promise.reject(error);
      return data;
    });
  },

  getLocalData() {
    return _plugin__WEBPACK_IMPORTED_MODULE_5__["script"].list();
  },

  getSyncData() {
    return this.getMeta().then(remoteMeta => Promise.all([remoteMeta, this.list(), this.getLocalData()]));
  },

  sync() {
    this.progress = {
      finished: 0,
      total: 0
    };
    this.syncState.set('syncing'); // Avoid simultaneous requests

    return this.prepare().then(() => this.getSyncData()).then(data => Promise.resolve(this.acquireLock()).then(() => data)).then(([remoteMeta, remoteData, localData]) => {
      const remoteMetaData = remoteMeta.data || {};
      const remoteMetaInfo = remoteMetaData.info || {};
      const remoteTimestamp = remoteMetaData.timestamp || 0;
      let remoteChanged = !remoteTimestamp || Object.keys(remoteMetaInfo).length !== remoteData.length;
      const now = Date.now();
      const globalLastModified = Object(_utils__WEBPACK_IMPORTED_MODULE_3__["getOption"])('lastModified');
      const remoteItemMap = {};
      const localMeta = this.config.get('meta', {});
      const firstSync = !localMeta.timestamp;
      const outdated = firstSync || remoteTimestamp > localMeta.timestamp;
      this.log('First sync:', firstSync);
      this.log('Outdated:', outdated, '(', 'local:', localMeta.timestamp, 'remote:', remoteTimestamp, ')');
      const putLocal = [];
      const putRemote = [];
      const delRemote = [];
      const delLocal = [];
      const updateLocal = [];
      remoteMetaData.info = remoteData.reduce((info, item) => {
        remoteItemMap[item.uri] = item;
        let itemInfo = remoteMetaInfo[item.uri];

        if (!itemInfo) {
          itemInfo = {};
          remoteChanged = true;
        }

        info[item.uri] = itemInfo;

        if (!itemInfo.modified) {
          itemInfo.modified = now;
          remoteChanged = true;
        }

        return info;
      }, {});
      localData.forEach(item => {
        const {
          props: {
            uri,
            position,
            lastModified
          }
        } = item;
        const remoteInfo = remoteMetaData.info[uri];
        const remoteItem = remoteItemMap[uri];

        if (remoteInfo && remoteItem) {
          if (firstSync || !lastModified || remoteInfo.modified > lastModified) {
            putLocal.push({
              local: item,
              remote: remoteItem,
              info: remoteInfo
            });
          } else {
            if (remoteInfo.modified < lastModified) {
              putRemote.push({
                local: item,
                remote: remoteItem
              });
              remoteInfo.modified = lastModified;
              remoteChanged = true;
            }

            if (remoteInfo.position !== position) {
              if (remoteInfo.position && globalLastModified <= remoteTimestamp) {
                updateLocal.push({
                  local: item,
                  remote: remoteItem,
                  info: remoteInfo
                });
              } else {
                remoteInfo.position = position;
                remoteChanged = true;
              }
            }
          }

          delete remoteItemMap[uri];
        } else if (firstSync || !outdated || lastModified > remoteTimestamp) {
          putRemote.push({
            local: item
          });
        } else {
          delLocal.push({
            local: item
          });
        }
      });
      safeCall(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_2__["forEachEntry"], remoteItemMap, ([uri, item]) => {
        const info = remoteMetaData.info[uri];

        if (outdated) {
          putLocal.push({
            remote: item,
            info
          });
        } else {
          delRemote.push({
            remote: item
          });
        }
      });
      const promiseQueue = [...putLocal.map(({
        remote,
        info
      }) => {
        this.log('Download script:', remote.uri);
        return this.get(remote).then(raw => {
          const data = parseScriptData(raw); // Invalid data

          if (!data.code) return;
          if (info.modified) Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_2__["objectSet"])(data, 'props.lastModified', info.modified);
          const position = +info.position;
          if (position) data.position = position;

          if (!Object(_utils__WEBPACK_IMPORTED_MODULE_3__["getOption"])('syncScriptStatus') && data.config) {
            delete data.config.enabled;
          }

          return _plugin__WEBPACK_IMPORTED_MODULE_5__["script"].update(data);
        });
      }), ...putRemote.map(({
        local,
        remote
      }) => {
        this.log('Upload script:', local.props.uri);
        return _plugin__WEBPACK_IMPORTED_MODULE_5__["script"].get(local.props.id).then(code => {
          // XXX use version 1 to be compatible with Violentmonkey on other platforms
          const data = getScriptData(local, 1, {
            code
          });
          remoteMetaData.info[local.props.uri] = {
            modified: local.props.lastModified,
            position: local.props.position
          };
          remoteChanged = true;
          return this.put(Object.assign({}, remote, {
            uri: local.props.uri,
            name: null // prefer using uri on PUT

          }), JSON.stringify(data));
        });
      }), ...delRemote.map(({
        remote
      }) => {
        this.log('Remove remote script:', remote.uri);
        delete remoteMetaData.info[remote.uri];
        remoteChanged = true;
        return this.remove(remote);
      }), ...delLocal.map(({
        local
      }) => {
        this.log('Remove local script:', local.props.uri);
        return _plugin__WEBPACK_IMPORTED_MODULE_5__["script"].remove(local.props.id);
      }), ...updateLocal.map(({
        local,
        info
      }) => {
        const updates = {};

        if (info.position) {
          updates.props = {
            position: info.position
          };
        }

        return Object(_utils_db__WEBPACK_IMPORTED_MODULE_4__["updateScriptInfo"])(local.props.id, updates);
      })];
      promiseQueue.push(Promise.all(promiseQueue).then(() => Object(_utils_db__WEBPACK_IMPORTED_MODULE_4__["sortScripts"])()).then(changed => {
        if (!changed) return;
        remoteChanged = true;
        return _plugin__WEBPACK_IMPORTED_MODULE_5__["script"].list().then(scripts => {
          scripts.forEach(script => {
            const remoteInfo = remoteMetaData.info[script.props.uri];
            if (remoteInfo) remoteInfo.position = script.props.position;
          });
        });
      }));
      promiseQueue.push(Promise.all(promiseQueue).then(() => {
        const promises = [];

        if (remoteChanged) {
          remoteMetaData.timestamp = Date.now();
          promises.push(this.put(remoteMeta, JSON.stringify(remoteMetaData)));
        }

        localMeta.timestamp = remoteMetaData.timestamp;
        localMeta.lastSync = Date.now();
        this.config.set('meta', localMeta);
        return Promise.all(promises);
      })); // ignore errors to ensure all promises are fulfilled

      return Promise.all(promiseQueue.map(promise => promise.then(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["noop"], err => err || true))).then(errors => errors.filter(Boolean)).then(errors => {
        if (errors.length) throw errors;
      });
    }).then(() => {
      this.syncState.set('idle');
      this.log('Sync finished:', this.displayName);
    }, err => {
      this.syncState.set('error');
      this.log('Failed syncing:', this.displayName);
      this.log(err);
    }).then(() => Promise.resolve(this.releaseLock()).catch(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["noop"]));
  }

});
function register(Factory) {
  serviceClasses.push(Factory);
}

function getCurrent() {
  return syncConfig.get('current');
}

function getService(name) {
  return services[name || getCurrent()];
}

function initialize() {
  if (!syncConfig) {
    syncConfig = initConfig();
    serviceClasses.forEach(Factory => {
      const service = new Factory();
      const {
        name
      } = service;
      serviceNames.push(name);
      services[name] = service;
    });
  }

  sync();
}

function syncOne(service) {
  if (service.syncState.is(['ready', 'syncing'])) return;
  if (service.authState.is(['idle', 'error'])) return service.checkSync();
  if (service.authState.is('authorized')) return service.startSync();
}

function sync() {
  const service = getService();
  return service && Promise.resolve(syncOne(service)).then(autoSync);
}
function authorize() {
  const service = getService();
  if (service) service.authorize();
}
function revoke() {
  const service = getService();
  if (service) service.revoke();
}
function setConfig(config) {
  const service = getService();

  if (service) {
    service.setUserConfig(config);
    return service.checkSync();
  }
}
async function openAuthPage(url, redirectUri) {
  unregisterWebRequest(); // otherwise our new tabId will be ignored

  browser.webRequest.onBeforeRequest.addListener(onBeforeRequest, {
    urls: [`${redirectUri}*`],
    types: ['main_frame'],
    tabId: (await browser.tabs.create({
      url
    })).id
  }, ['blocking']);
}
/**
 * @param {chrome.webRequest.WebResponseDetails} info
 * @returns {chrome.webRequest.BlockingResponse}
 */

function onBeforeRequest(info) {
  var _getService$checkAuth, _getService;

  if ((_getService$checkAuth = (_getService = getService()).checkAuth) == null ? void 0 : _getService$checkAuth.call(_getService, info.url)) {
    browser.tabs.remove(info.tabId); // If we unregister without setTimeout, API will ignore { cancel: true }

    setTimeout(unregisterWebRequest, 0);
    return {
      cancel: true
    };
  }
}

function unregisterWebRequest() {
  browser.webRequest.onBeforeRequest.removeListener(onBeforeRequest);
}

Object(_utils__WEBPACK_IMPORTED_MODULE_3__["hookOptions"])(data => {
  const value = data == null ? void 0 : data['sync.current'];
  if (value) initialize();
});

/***/ }),

/***/ "./src/background/sync/dropbox.js":
/*!****************************************!*\
  !*** ./src/background/sync/dropbox.js ***!
  \****************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils */ "./src/background/utils/index.js");
/* harmony import */ var _base__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./base */ "./src/background/sync/base.js");


const config = {
  client_id: 'f0q12zup2uys5w8',
  redirect_uri: 'https://violentmonkey.github.io/auth_dropbox.html'
};
const escRE = /[\u007f-\uffff]/g; // eslint-disable-line no-control-regex

const escFunc = m => `\\u${(m.charCodeAt(0) + 0x10000).toString(16).slice(1)}`;

function jsonStringifySafe(obj) {
  const string = JSON.stringify(obj);
  return string.replace(escRE, escFunc);
}

const Dropbox = _base__WEBPACK_IMPORTED_MODULE_1__["BaseService"].extend({
  name: 'dropbox',
  displayName: 'Dropbox',

  user() {
    return this.loadData({
      method: 'POST',
      url: 'https://api.dropboxapi.com/2/users/get_current_account'
    }).catch(err => {
      if (err.status === 401) {
        return Promise.reject({
          type: 'unauthorized'
        });
      }

      return Promise.reject({
        type: 'error',
        data: err
      });
    });
  },

  handleMetaError(res) {
    if (res.status !== 409) throw res;
  },

  list() {
    return this.loadData({
      method: 'POST',
      url: 'https://api.dropboxapi.com/2/files/list_folder',
      body: {
        path: ''
      },
      responseType: 'json'
    }).then(data => data.entries.filter(item => item['.tag'] === 'file' && Object(_base__WEBPACK_IMPORTED_MODULE_1__["isScriptFile"])(item.name)).map(normalize));
  },

  get(item) {
    const name = Object(_base__WEBPACK_IMPORTED_MODULE_1__["getItemFilename"])(item);
    return this.loadData({
      method: 'POST',
      url: 'https://content.dropboxapi.com/2/files/download',
      headers: {
        'Dropbox-API-Arg': jsonStringifySafe({
          path: `/${name}`
        })
      }
    });
  },

  put(item, data) {
    const name = Object(_base__WEBPACK_IMPORTED_MODULE_1__["getItemFilename"])(item);
    return this.loadData({
      method: 'POST',
      url: 'https://content.dropboxapi.com/2/files/upload',
      headers: {
        'Dropbox-API-Arg': jsonStringifySafe({
          path: `/${name}`,
          mode: 'overwrite'
        }),
        'Content-Type': 'application/octet-stream'
      },
      body: data,
      responseType: 'json'
    }).then(normalize);
  },

  remove(item) {
    const name = Object(_base__WEBPACK_IMPORTED_MODULE_1__["getItemFilename"])(item);
    return this.loadData({
      method: 'POST',
      url: 'https://api.dropboxapi.com/2/files/delete',
      body: {
        path: `/${name}`
      },
      responseType: 'json'
    }).then(normalize);
  },

  authorize() {
    const params = {
      response_type: 'token',
      client_id: config.client_id,
      redirect_uri: config.redirect_uri
    };
    const url = `https://www.dropbox.com/oauth2/authorize?${Object(_utils__WEBPACK_IMPORTED_MODULE_0__["dumpQuery"])(params)}`;
    Object(_base__WEBPACK_IMPORTED_MODULE_1__["openAuthPage"])(url, config.redirect_uri);
  },

  authorized(raw) {
    const data = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["loadQuery"])(raw);

    if (data.access_token) {
      this.config.set({
        uid: data.uid,
        token: data.access_token
      });
    }
  },

  checkAuth(url) {
    const redirectUri = `${config.redirect_uri}#`;

    if (url.startsWith(redirectUri)) {
      this.authorized(url.slice(redirectUri.length));
      this.checkSync();
      return true;
    }
  },

  revoke() {
    this.config.set({
      uid: null,
      token: null
    });
    return this.prepare();
  }

});
Object(_base__WEBPACK_IMPORTED_MODULE_1__["register"])(Dropbox);

function normalize(item) {
  return {
    name: item.name,
    size: item.size,
    uri: Object(_base__WEBPACK_IMPORTED_MODULE_1__["getURI"])(item.name) // modified: new Date(item.server_modified).getTime(),
    // isDeleted: item.is_deleted,

  };
}

/***/ }),

/***/ "./src/background/sync/googledrive.js":
/*!********************************************!*\
  !*** ./src/background/sync/googledrive.js ***!
  \********************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./src/common */ "./src/common/index.js");
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./src/common/object */ "./src/common/object.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils */ "./src/background/utils/index.js");
/* harmony import */ var _base__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./base */ "./src/background/sync/base.js");
// Reference:
// - https://developers.google.com/drive/v3/reference/files
// - https://github.com/google/google-api-nodejs-client




const config = {
  client_id: undefined,
  client_secret: undefined,
  redirect_uri: 'https://violentmonkey.github.io/auth_googledrive.html',
  scope: 'https://www.googleapis.com/auth/drive.appdata'
};
const UNAUTHORIZED = {
  status: 'UNAUTHORIZED'
};
const GoogleDrive = _base__WEBPACK_IMPORTED_MODULE_3__["BaseService"].extend({
  name: 'googledrive',
  displayName: 'Google Drive',
  urlPrefix: 'https://www.googleapis.com/drive/v3',

  refreshToken() {
    const refreshToken = this.config.get('refresh_token');
    if (!refreshToken) return Promise.reject({
      type: 'unauthorized'
    });
    return this.authorized({
      refresh_token: refreshToken,
      grant_type: 'refresh_token'
    }).then(() => this.prepare());
  },

  user() {
    const requestUser = () => this.loadData({
      url: `https://www.googleapis.com/oauth2/v3/tokeninfo?${Object(_utils__WEBPACK_IMPORTED_MODULE_2__["dumpQuery"])({
        access_token: this.config.get('token')
      })}`,
      responseType: 'json'
    });

    return requestUser().then(info => {
      // If access was granted with access_type=online, revoke it.
      if (info.access_type === 'online') {
        return this.loadData({
          method: 'POST',
          url: `https://accounts.google.com/o/oauth2/revoke?token=${this.config.get('token')}`,
          prefix: '',
          headers: {
            'Content-Type': 'application/x-www-form-urlencoded'
          }
        }).then(() => {
          Object(_utils__WEBPACK_IMPORTED_MODULE_2__["notify"])({
            title: 'Sync Upgraded',
            body: 'Please reauthorize access to your Google Drive to complete the upgradation.'
          });
          return Promise.reject('Online access revoked.');
        });
      }

      if (info.scope !== config.scope) return Promise.reject(UNAUTHORIZED);
    }).catch(res => {
      if (res === UNAUTHORIZED || res.status === 400 && Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_1__["objectGet"])(res, 'data.error_description') === 'Invalid Value') {
        return this.refreshToken().then(requestUser);
      }

      return Promise.reject({
        type: 'error',
        data: res
      });
    });
  },

  getSyncData() {
    const params = {
      spaces: 'appDataFolder',
      fields: 'files(id,name,size)'
    };
    return this.loadData({
      url: `/files?${Object(_utils__WEBPACK_IMPORTED_MODULE_2__["dumpQuery"])(params)}`,
      responseType: 'json'
    }).then(({
      files
    }) => {
      let metaFile;
      const remoteData = files.filter(item => {
        if (Object(_base__WEBPACK_IMPORTED_MODULE_3__["isScriptFile"])(item.name)) return true;

        if (!metaFile && item.name === this.metaFile) {
          metaFile = item;
        } else {
          this.remove(item);
        }

        return false;
      }).map(normalize).filter(item => {
        if (!item.size) {
          this.remove(item);
          return false;
        }

        return true;
      });
      const metaItem = metaFile ? normalize(metaFile) : {};
      const gotMeta = this.get(metaItem).then(data => JSON.parse(data)).catch(err => this.handleMetaError(err)).then(data => Object.assign({}, metaItem, {
        name: this.metaFile,
        uri: null,
        data
      }));
      return Promise.all([gotMeta, remoteData, this.getLocalData()]);
    });
  },

  authorize() {
    const params = {
      response_type: 'code',
      access_type: 'offline',
      client_id: config.client_id,
      redirect_uri: config.redirect_uri,
      scope: config.scope
    };
    if (!this.config.get('refresh_token')) params.prompt = 'consent';
    const url = `https://accounts.google.com/o/oauth2/v2/auth?${Object(_utils__WEBPACK_IMPORTED_MODULE_2__["dumpQuery"])(params)}`;
    Object(_base__WEBPACK_IMPORTED_MODULE_3__["openAuthPage"])(url, config.redirect_uri);
  },

  checkAuth(url) {
    const redirectUri = `${config.redirect_uri}?code=`;

    if (url.startsWith(redirectUri)) {
      this.authState.set('authorizing');
      this.authorized({
        code: decodeURIComponent(url.split('#')[0].slice(redirectUri.length))
      }).then(() => this.checkSync());
      return true;
    }
  },

  revoke() {
    this.config.set({
      token: null,
      refresh_token: null
    });
    return this.prepare();
  },

  authorized(params) {
    return this.loadData({
      method: 'POST',
      url: 'https://www.googleapis.com/oauth2/v4/token',
      prefix: '',
      headers: {
        'Content-Type': 'application/x-www-form-urlencoded'
      },
      body: Object(_utils__WEBPACK_IMPORTED_MODULE_2__["dumpQuery"])(Object.assign({}, {
        client_id: config.client_id,
        client_secret: config.client_secret,
        redirect_uri: config.redirect_uri,
        grant_type: 'authorization_code'
      }, params)),
      responseType: 'json'
    }).then(data => {
      if (data.access_token) {
        const update = {
          token: data.access_token
        };

        if (data.refresh_token) {
          update.refresh_token = data.refresh_token;
        }

        this.config.set(update);
      } else {
        throw data;
      }
    });
  },

  handleMetaError: _Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["noop"],

  list() {
    throw new Error('Not supported');
  },

  get({
    id
  }) {
    if (!id) return Promise.reject();
    return this.loadData({
      url: `/files/${id}?alt=media`
    });
  },

  put(item, data) {
    const name = Object(_base__WEBPACK_IMPORTED_MODULE_3__["getItemFilename"])(item);
    const {
      id
    } = item;
    const boundary = Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["getUniqId"])('violentmonkey-is-great-');
    const headers = {
      'Content-Type': `multipart/related; boundary=${boundary}`
    };
    const metadata = id ? {
      name
    } : {
      name,
      parents: ['appDataFolder']
    };
    const body = [`--${boundary}`, 'Content-Type: application/json; charset=UTF-8', '', JSON.stringify(metadata), `--${boundary}`, 'Content-Type: text/plain', '', data, `--${boundary}--`, ''].join('\r\n');
    const url = id ? `https://www.googleapis.com/upload/drive/v3/files/${id}?uploadType=multipart` : 'https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart';
    return this.loadData({
      url,
      body,
      headers,
      method: id ? 'PATCH' : 'POST'
    });
  },

  remove({
    id
  }) {
    return this.loadData({
      method: 'DELETE',
      url: `/files/${id}`
    });
  }

});
Object(_base__WEBPACK_IMPORTED_MODULE_3__["register"])(GoogleDrive);

function normalize(item) {
  return {
    id: item.id,
    name: item.name,
    size: +item.size,
    uri: Object(_base__WEBPACK_IMPORTED_MODULE_3__["getURI"])(item.name)
  };
}

/***/ }),

/***/ "./src/background/sync/index.js":
/*!**************************************!*\
  !*** ./src/background/sync/index.js ***!
  \**************************************/
/*! exports provided: initialize, sync, getStates, authorize, revoke */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base */ "./src/background/sync/base.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "initialize", function() { return _base__WEBPACK_IMPORTED_MODULE_0__["initialize"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "sync", function() { return _base__WEBPACK_IMPORTED_MODULE_0__["sync"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "getStates", function() { return _base__WEBPACK_IMPORTED_MODULE_0__["getStates"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "authorize", function() { return _base__WEBPACK_IMPORTED_MODULE_0__["authorize"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "revoke", function() { return _base__WEBPACK_IMPORTED_MODULE_0__["revoke"]; });

/* harmony import */ var _dropbox__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./dropbox */ "./src/background/sync/dropbox.js");
/* harmony import */ var _onedrive__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./onedrive */ "./src/background/sync/onedrive.js");
/* harmony import */ var _googledrive__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./googledrive */ "./src/background/sync/googledrive.js");
/* harmony import */ var _webdav__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./webdav */ "./src/background/sync/webdav.js");
/* harmony import */ var _utils_message__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/message */ "./src/background/utils/message.js");






Object.assign(_utils_message__WEBPACK_IMPORTED_MODULE_5__["commands"], {
  SyncAuthorize: _base__WEBPACK_IMPORTED_MODULE_0__["authorize"],
  SyncRevoke: _base__WEBPACK_IMPORTED_MODULE_0__["revoke"],
  SyncStart: _base__WEBPACK_IMPORTED_MODULE_0__["sync"],
  SyncSetConfig: _base__WEBPACK_IMPORTED_MODULE_0__["setConfig"]
});


/***/ }),

/***/ "./src/background/sync/onedrive.js":
/*!*****************************************!*\
  !*** ./src/background/sync/onedrive.js ***!
  \*****************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./src/common */ "./src/common/index.js");
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./src/common/object */ "./src/common/object.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils */ "./src/background/utils/index.js");
/* harmony import */ var _base__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./base */ "./src/background/sync/base.js");
// Reference: https://dev.onedrive.com/README.htm




const config = {
  client_id: undefined,
  client_secret: undefined,
  redirect_uri: 'https://violentmonkey.github.io/auth_onedrive.html'
};
const OneDrive = _base__WEBPACK_IMPORTED_MODULE_3__["BaseService"].extend({
  name: 'onedrive',
  displayName: 'OneDrive',
  urlPrefix: 'https://api.onedrive.com/v1.0',

  refreshToken() {
    const refreshToken = this.config.get('refresh_token');
    return this.authorized({
      refresh_token: refreshToken,
      grant_type: 'refresh_token'
    }).then(() => this.prepare());
  },

  user() {
    const requestUser = () => this.loadData({
      url: '/drive',
      responseType: 'json'
    });

    return requestUser().catch(res => {
      if (res.status === 401) {
        return this.refreshToken().then(requestUser);
      }

      throw res;
    }).catch(res => {
      if (res.status === 400 && Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_1__["objectGet"])(res, 'data.error') === 'invalid_grant') {
        return Promise.reject({
          type: 'unauthorized'
        });
      }

      return Promise.reject({
        type: 'error',
        data: res
      });
    });
  },

  handleMetaError(res) {
    if (res.status === 404) {
      var _res$headers$get;

      const header = ((_res$headers$get = res.headers.get('WWW-Authenticate')) == null ? void 0 : _res$headers$get[0]) || '';

      if (/^Bearer realm="OneDriveAPI"/.test(header)) {
        return this.refreshToken().then(() => this.getMeta());
      }

      return;
    }

    throw res;
  },

  list() {
    return this.loadData({
      url: '/drive/special/approot/children',
      responseType: 'json'
    }).then(data => data.value.filter(item => item.file && Object(_base__WEBPACK_IMPORTED_MODULE_3__["isScriptFile"])(item.name)).map(normalize));
  },

  get(item) {
    const name = Object(_base__WEBPACK_IMPORTED_MODULE_3__["getItemFilename"])(item);
    return this.loadData({
      url: `/drive/special/approot:/${encodeURIComponent(name)}`,
      responseType: 'json'
    }).then(data => this.loadData({
      url: data['@content.downloadUrl'],
      delay: false
    }));
  },

  put(item, data) {
    const name = Object(_base__WEBPACK_IMPORTED_MODULE_3__["getItemFilename"])(item);
    return this.loadData({
      method: 'PUT',
      url: `/drive/special/approot:/${encodeURIComponent(name)}:/content`,
      headers: {
        'Content-Type': 'application/octet-stream'
      },
      body: data,
      responseType: 'json'
    }).then(normalize);
  },

  remove(item) {
    // return 204
    const name = Object(_base__WEBPACK_IMPORTED_MODULE_3__["getItemFilename"])(item);
    return this.loadData({
      method: 'DELETE',
      url: `/drive/special/approot:/${encodeURIComponent(name)}`
    }).catch(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["noop"]);
  },

  authorize() {
    const params = {
      client_id: config.client_id,
      scope: 'onedrive.appfolder wl.offline_access',
      response_type: 'code',
      redirect_uri: config.redirect_uri
    };
    const url = `https://login.live.com/oauth20_authorize.srf?${Object(_utils__WEBPACK_IMPORTED_MODULE_2__["dumpQuery"])(params)}`;
    Object(_base__WEBPACK_IMPORTED_MODULE_3__["openAuthPage"])(url, config.redirect_uri);
  },

  checkAuth(url) {
    const redirectUri = `${config.redirect_uri}?code=`;

    if (url.startsWith(redirectUri)) {
      this.authState.set('authorizing');
      this.authorized({
        code: url.slice(redirectUri.length)
      }).then(() => this.checkSync());
      return true;
    }
  },

  revoke() {
    this.config.set({
      uid: null,
      token: null,
      refresh_token: null
    });
    return this.prepare();
  },

  authorized(params) {
    return this.loadData({
      method: 'POST',
      url: 'https://login.live.com/oauth20_token.srf',
      prefix: '',
      headers: {
        'Content-Type': 'application/x-www-form-urlencoded'
      },
      body: Object(_utils__WEBPACK_IMPORTED_MODULE_2__["dumpQuery"])(Object.assign({}, {
        client_id: config.client_id,
        client_secret: config.client_secret,
        redirect_uri: config.redirect_uri,
        grant_type: 'authorization_code'
      }, params)),
      responseType: 'json'
    }).then(data => {
      if (data.access_token) {
        this.config.set({
          uid: data.user_id,
          token: data.access_token,
          refresh_token: data.refresh_token
        });
      } else {
        throw data;
      }
    });
  }

});
Object(_base__WEBPACK_IMPORTED_MODULE_3__["register"])(OneDrive);

function normalize(item) {
  return {
    name: item.name,
    size: item.size,
    uri: Object(_base__WEBPACK_IMPORTED_MODULE_3__["getURI"])(item.name) // modified: new Date(item.lastModifiedDateTime).getTime(),

  };
}

/***/ }),

/***/ "./src/background/sync/webdav.js":
/*!***************************************!*\
  !*** ./src/background/sync/webdav.js ***!
  \***************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/extends.js");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _base__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./base */ "./src/background/sync/base.js");


const KEY_CHILDREN = Symbol('children');

class XNode {
  constructor(node, nsMap) {
    this.node = node;
    this.nsMap = _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, nsMap);
    this.parseAttrs();
    this.parseName();
  }

  static fromXML(xml) {
    const parser = new DOMParser();
    const doc = parser.parseFromString(xml, 'application/xml');
    return new XNode(doc);
  }

  parseAttrs() {
    const {
      node,
      nsMap
    } = this;
    const attrs = {};
    const {
      attributes
    } = node;

    if (attributes) {
      for (const attr of node.attributes) {
        const {
          name,
          value
        } = attr;
        if (name === 'xmlns') nsMap.$ = value;else if (name.startsWith('xmlns:')) nsMap[name.slice(6)] = value;
        attrs[name] = value;
      }
    }

    this.attrs = attrs;
  }

  parseName() {
    const {
      node,
      nsMap
    } = this;

    if (node.nodeType === 1) {
      let name = node.tagName;
      let ns = nsMap.$;

      if (name.includes(':')) {
        let prefix;
        [prefix, name] = name.split(':');
        ns = nsMap[prefix];
        if (!ns) throw new Error(`Unknown namespace: ${prefix}`);
      }

      this.name = ns + name;
    }
  }

  text() {
    const {
      node
    } = this;
    if (node) return (node.textContent || '').trim();
  }

  children() {
    if (!this[KEY_CHILDREN]) {
      const {
        node,
        nsMap
      } = this;
      this[KEY_CHILDREN] = [...node.children].map(child => new XNode(child, nsMap));
    }

    return this[KEY_CHILDREN];
  }

  map(callback) {
    return this.children().map(callback);
  }

  getCallback(callback) {
    if (typeof callback === 'string') {
      return (tagName => node => node.name === tagName)(callback);
    }

    return callback;
  }

  filter(callback) {
    return this.children().filter(this.getCallback(callback));
  }

  find(callback) {
    return this.children().find(this.getCallback(callback));
  }

  attr(key) {
    return this.attrs[key];
  }

}

const DEFAULT_CONFIG = {
  serverUrl: '',
  anonymous: false,
  username: '',
  password: ''
};
const WebDAV = _base__WEBPACK_IMPORTED_MODULE_1__["BaseService"].extend({
  name: 'webdav',
  displayName: 'WebDAV',
  properties: {
    authType: 'password',
    serverUrl: null
  },

  getUserConfig() {
    if (!this.userConfig) {
      this.userConfig = _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, DEFAULT_CONFIG, {}, this.config.get('userConfig'));
    }

    return this.userConfig;
  },

  setUserConfig(config) {
    Object.assign(this.userConfig, config);
    this.config.set('userConfig', this.userConfig);
  },

  initToken() {
    var _config$serverUrl;

    this.prepareHeaders();
    const config = this.getUserConfig();
    let url = ((_config$serverUrl = config.serverUrl) == null ? void 0 : _config$serverUrl.trim()) || '';
    if (!url.includes('://')) url = `http://${url}`;
    if (!url.endsWith('/')) url += '/';

    try {
      new URL(url); // eslint-disable-line no-new
    } catch (e) {
      this.properties.serverUrl = null;
      return false;
    }

    this.properties.serverUrl = `${url}Violentmonkey/`;
    const {
      anonymous,
      username,
      password
    } = config;
    if (anonymous) return true;
    if (!username || !password) return false;
    const auth = window.btoa(`${username}:${password}`);
    this.headers.Authorization = `Basic ${auth}`;
    return true;
  },

  loadData(options) {
    // Bypassing login CSRF protection in Nextcloud / Owncloud by not sending cookies.
    // We are not using web UI and cookie authentication, so we don't have to worry about that.
    // See https://github.com/violentmonkey/violentmonkey/issues/976
    return _base__WEBPACK_IMPORTED_MODULE_1__["BaseService"].prototype.loadData.call(this, Object.assign({
      credentials: 'omit'
    }, options));
  },

  handleMetaError(res) {
    if (![404, // File not exists
    409 // Directory not exists
    ].includes(res.status)) throw res;
  },

  // Some WebDAV servers do not allow LOCK / UNLOCK

  /*
  acquireLock() {
    const { serverUrl } = this.properties;
    const createLock = () => {
      this.log('Acquire lock...');
      return this.loadData({
        method: 'LOCK',
        url: serverUrl,
        headers: {
          Timeout: `Second-${30 * 60}`,
        },
        body: `\
  <?xml version="1.0" encoding="utf-8" ?>
  <D:lockinfo xmlns:D='DAV:'>
  <D:lockscope><D:exclusive/></D:lockscope>
  <D:locktype><D:write/></D:locktype>
  </D:lockinfo>`,
      })
      .then(xml => {
        const doc = XNode.fromXML(xml);
        const lock = doc.find('DAV:prop')
        .find('DAV:lockdiscovery')
        .find('DAV:activelock')
        .find('DAV:locktoken')
        .find('DAV:href')
        .text();
        this.log('Acquired lock:', lock);
        this.config.set({
          lock,
        });
      });
    };
    const lock = this.config.get('lock');
    if (lock) {
      this.log('Refresh lock:', lock);
      return this.loadData({
        method: 'LOCK',
        url: serverUrl,
        headers: {
          If: `(<${lock}>)`,
        },
      })
      .then(() => {
        this.log('Refreshed lock:', lock);
      }, err => {
        if (err.status === 412) {
          this.log('Refresh lock error');
          this.config.set({ lock: null });
          // Precondition Failed
          return createLock();
        }
        throw err;
      });
    }
    return createLock();
  },
  releaseLock() {
    const lock = this.config.get('lock');
    if (lock) {
      const { serverUrl } = this.properties;
      this.log('Release lock:', lock);
      return this.loadData({
        method: 'UNLOCK',
        url: serverUrl,
        headers: {
          'Lock-Token': `<${lock}>`,
        },
      })
      .then(() => {
        this.log('Released lock');
      }, () => {
        this.log('Release lock error');
      })
      .then(() => {
        this.config.set({ lock: null });
      });
    }
  },
  */
  list() {
    const {
      serverUrl
    } = this.properties;

    const mkdir = () => this.loadData({
      method: 'MKCOL',
      url: serverUrl
    });

    const readdir = () => this.loadData({
      method: 'PROPFIND',
      url: serverUrl,
      headers: {
        depth: '1'
      }
    }).then(xml => {
      const doc = XNode.fromXML(xml);
      const items = doc.children()[0].map(node => {
        const prop = node.find('DAV:propstat').find('DAV:prop');
        const type = prop.find('DAV:resourcetype').find('DAV:collection') ? 'directory' : 'file';

        if (type === 'file') {
          let displayName;
          const displayNameNode = prop.find('DAV:displayname');

          if (displayNameNode !== undefined) {
            displayName = displayNameNode.text();
          } else {
            const href = node.find('DAV:href').text();
            displayName = decodeURIComponent(href.substring(href.lastIndexOf('/') + 1));
          }

          if (Object(_base__WEBPACK_IMPORTED_MODULE_1__["isScriptFile"])(displayName)) {
            const size = prop.find('DAV:getcontentlength');
            return normalize({
              name: displayName,
              size: size ? +size.text() : 0
            });
          }
        }

        return null;
      }).filter(Boolean);
      return items;
    });

    return readdir().catch(err => {
      if (err.status === 404) {
        return mkdir().then(readdir);
      }

      throw err;
    });
  },

  get(item) {
    const name = Object(_base__WEBPACK_IMPORTED_MODULE_1__["getItemFilename"])(item);
    const {
      serverUrl
    } = this.properties;
    return this.loadData({
      url: serverUrl + name
    });
  },

  put(item, data) {
    const name = Object(_base__WEBPACK_IMPORTED_MODULE_1__["getItemFilename"])(item);
    const headers = {
      'Content-Type': 'text/plain'
    };
    const lock = this.config.get('lock');
    if (lock) headers.If = `(<${lock}>)`;
    const {
      serverUrl
    } = this.properties;
    return this.loadData({
      method: 'PUT',
      url: serverUrl + name,
      body: data,
      headers
    });
  },

  remove(item) {
    const name = Object(_base__WEBPACK_IMPORTED_MODULE_1__["getItemFilename"])(item);
    const headers = {};
    const lock = this.config.get('lock');
    if (lock) headers.If = `(<${lock}>)`;
    const {
      serverUrl
    } = this.properties;
    return this.loadData({
      method: 'DELETE',
      url: serverUrl + name,
      headers
    });
  }

});
Object(_base__WEBPACK_IMPORTED_MODULE_1__["register"])(WebDAV);

function normalize(item) {
  return {
    name: item.name,
    size: item.size,
    uri: Object(_base__WEBPACK_IMPORTED_MODULE_1__["getURI"])(item.name)
  };
}

/***/ }),

/***/ "./src/background/utils/aes-decryptor.js":
/*!***********************************************!*\
  !*** ./src/background/utils/aes-decryptor.js ***!
  \***********************************************/
/*! exports provided: AESDecryptor */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AESDecryptor", function() { return AESDecryptor; });
/* eslint-disable */
// refer https://github.com/video-dev/hls.js
function removePadding(buffer) {
  const outputBytes = buffer.byteLength;
  const paddingBytes = outputBytes && new DataView(buffer).getUint8(outputBytes - 1);

  if (paddingBytes) {
    return buffer.slice(0, outputBytes - paddingBytes);
  }

  return buffer;
}

const AESDecryptor = function () {
  return {
    constructor() {
      this.rcon = [0x0, 0x1, 0x2, 0x4, 0x8, 0x10, 0x20, 0x40, 0x80, 0x1b, 0x36];
      this.subMix = [new Uint32Array(256), new Uint32Array(256), new Uint32Array(256), new Uint32Array(256)];
      this.invSubMix = [new Uint32Array(256), new Uint32Array(256), new Uint32Array(256), new Uint32Array(256)];
      this.sBox = new Uint32Array(256);
      this.invSBox = new Uint32Array(256); // Changes during runtime

      this.key = new Uint32Array(0);
      this.initTable();
    },

    // Using view.getUint32() also swaps the byte order.
    uint8ArrayToUint32Array_(arrayBuffer) {
      let view = new DataView(arrayBuffer);
      let newArray = new Uint32Array(4);

      for (let i = 0; i < 4; i++) {
        newArray[i] = view.getUint32(i * 4);
      }

      return newArray;
    },

    initTable() {
      let sBox = this.sBox;
      let invSBox = this.invSBox;
      let subMix = this.subMix;
      let subMix0 = subMix[0];
      let subMix1 = subMix[1];
      let subMix2 = subMix[2];
      let subMix3 = subMix[3];
      let invSubMix = this.invSubMix;
      let invSubMix0 = invSubMix[0];
      let invSubMix1 = invSubMix[1];
      let invSubMix2 = invSubMix[2];
      let invSubMix3 = invSubMix[3];
      let d = new Uint32Array(256);
      let x = 0;
      let xi = 0;
      let i = 0;

      for (i = 0; i < 256; i++) {
        if (i < 128) {
          d[i] = i << 1;
        } else {
          d[i] = i << 1 ^ 0x11b;
        }
      }

      for (i = 0; i < 256; i++) {
        let sx = xi ^ xi << 1 ^ xi << 2 ^ xi << 3 ^ xi << 4;
        sx = sx >>> 8 ^ sx & 0xff ^ 0x63;
        sBox[x] = sx;
        invSBox[sx] = x; // Compute multiplication

        let x2 = d[x];
        let x4 = d[x2];
        let x8 = d[x4]; // Compute sub/invSub bytes, mix columns tables

        let t = d[sx] * 0x101 ^ sx * 0x1010100;
        subMix0[x] = t << 24 | t >>> 8;
        subMix1[x] = t << 16 | t >>> 16;
        subMix2[x] = t << 8 | t >>> 24;
        subMix3[x] = t; // Compute inv sub bytes, inv mix columns tables

        t = x8 * 0x1010101 ^ x4 * 0x10001 ^ x2 * 0x101 ^ x * 0x1010100;
        invSubMix0[sx] = t << 24 | t >>> 8;
        invSubMix1[sx] = t << 16 | t >>> 16;
        invSubMix2[sx] = t << 8 | t >>> 24;
        invSubMix3[sx] = t; // Compute next counter

        if (!x) {
          x = xi = 1;
        } else {
          x = x2 ^ d[d[d[x8 ^ x2]]];
          xi ^= d[d[xi]];
        }
      }
    },

    expandKey(keyBuffer) {
      // convert keyBuffer to Uint32Array
      let key = this.uint8ArrayToUint32Array_(keyBuffer);
      let sameKey = true;
      let offset = 0;

      while (offset < key.length && sameKey) {
        sameKey = key[offset] === this.key[offset];
        offset++;
      }

      if (sameKey) {
        return;
      }

      this.key = key;
      let keySize = this.keySize = key.length;

      if (keySize !== 4 && keySize !== 6 && keySize !== 8) {
        throw new Error('Invalid aes key size=' + keySize);
      }

      let ksRows = this.ksRows = (keySize + 6 + 1) * 4;
      let ksRow;
      let invKsRow;
      let keySchedule = this.keySchedule = new Uint32Array(ksRows);
      let invKeySchedule = this.invKeySchedule = new Uint32Array(ksRows);
      let sbox = this.sBox;
      let rcon = this.rcon;
      let invSubMix = this.invSubMix;
      let invSubMix0 = invSubMix[0];
      let invSubMix1 = invSubMix[1];
      let invSubMix2 = invSubMix[2];
      let invSubMix3 = invSubMix[3];
      let prev;
      let t;

      for (ksRow = 0; ksRow < ksRows; ksRow++) {
        if (ksRow < keySize) {
          prev = keySchedule[ksRow] = key[ksRow];
          continue;
        }

        t = prev;

        if (ksRow % keySize === 0) {
          // Rot word
          t = t << 8 | t >>> 24; // Sub word

          t = sbox[t >>> 24] << 24 | sbox[t >>> 16 & 0xff] << 16 | sbox[t >>> 8 & 0xff] << 8 | sbox[t & 0xff]; // Mix Rcon

          t ^= rcon[ksRow / keySize | 0] << 24;
        } else if (keySize > 6 && ksRow % keySize === 4) {
          // Sub word
          t = sbox[t >>> 24] << 24 | sbox[t >>> 16 & 0xff] << 16 | sbox[t >>> 8 & 0xff] << 8 | sbox[t & 0xff];
        }

        keySchedule[ksRow] = prev = (keySchedule[ksRow - keySize] ^ t) >>> 0;
      }

      for (invKsRow = 0; invKsRow < ksRows; invKsRow++) {
        ksRow = ksRows - invKsRow;

        if (invKsRow & 3) {
          t = keySchedule[ksRow];
        } else {
          t = keySchedule[ksRow - 4];
        }

        if (invKsRow < 4 || ksRow <= 4) {
          invKeySchedule[invKsRow] = t;
        } else {
          invKeySchedule[invKsRow] = invSubMix0[sbox[t >>> 24]] ^ invSubMix1[sbox[t >>> 16 & 0xff]] ^ invSubMix2[sbox[t >>> 8 & 0xff]] ^ invSubMix3[sbox[t & 0xff]];
        }

        invKeySchedule[invKsRow] = invKeySchedule[invKsRow] >>> 0;
      }
    },

    // Adding this as a method greatly improves performance.
    networkToHostOrderSwap(word) {
      return word << 24 | (word & 0xff00) << 8 | (word & 0xff0000) >> 8 | word >>> 24;
    },

    decrypt(inputArrayBuffer, offset, aesIV, removePKCS7Padding) {
      let nRounds = this.keySize + 6;
      let invKeySchedule = this.invKeySchedule;
      let invSBOX = this.invSBox;
      let invSubMix = this.invSubMix;
      let invSubMix0 = invSubMix[0];
      let invSubMix1 = invSubMix[1];
      let invSubMix2 = invSubMix[2];
      let invSubMix3 = invSubMix[3];
      let initVector = this.uint8ArrayToUint32Array_(aesIV);
      let initVector0 = initVector[0];
      let initVector1 = initVector[1];
      let initVector2 = initVector[2];
      let initVector3 = initVector[3];
      let inputInt32 = new Int32Array(inputArrayBuffer);
      let outputInt32 = new Int32Array(inputInt32.length);
      let t0, t1, t2, t3;
      let s0, s1, s2, s3;
      let inputWords0, inputWords1, inputWords2, inputWords3;
      let ksRow, i;
      let swapWord = this.networkToHostOrderSwap;

      while (offset < inputInt32.length) {
        inputWords0 = swapWord(inputInt32[offset]);
        inputWords1 = swapWord(inputInt32[offset + 1]);
        inputWords2 = swapWord(inputInt32[offset + 2]);
        inputWords3 = swapWord(inputInt32[offset + 3]);
        s0 = inputWords0 ^ invKeySchedule[0];
        s1 = inputWords3 ^ invKeySchedule[1];
        s2 = inputWords2 ^ invKeySchedule[2];
        s3 = inputWords1 ^ invKeySchedule[3];
        ksRow = 4; // Iterate through the rounds of decryption

        for (i = 1; i < nRounds; i++) {
          t0 = invSubMix0[s0 >>> 24] ^ invSubMix1[s1 >> 16 & 0xff] ^ invSubMix2[s2 >> 8 & 0xff] ^ invSubMix3[s3 & 0xff] ^ invKeySchedule[ksRow];
          t1 = invSubMix0[s1 >>> 24] ^ invSubMix1[s2 >> 16 & 0xff] ^ invSubMix2[s3 >> 8 & 0xff] ^ invSubMix3[s0 & 0xff] ^ invKeySchedule[ksRow + 1];
          t2 = invSubMix0[s2 >>> 24] ^ invSubMix1[s3 >> 16 & 0xff] ^ invSubMix2[s0 >> 8 & 0xff] ^ invSubMix3[s1 & 0xff] ^ invKeySchedule[ksRow + 2];
          t3 = invSubMix0[s3 >>> 24] ^ invSubMix1[s0 >> 16 & 0xff] ^ invSubMix2[s1 >> 8 & 0xff] ^ invSubMix3[s2 & 0xff] ^ invKeySchedule[ksRow + 3]; // Update state

          s0 = t0;
          s1 = t1;
          s2 = t2;
          s3 = t3;
          ksRow = ksRow + 4;
        } // Shift rows, sub bytes, add round key


        t0 = invSBOX[s0 >>> 24] << 24 ^ invSBOX[s1 >> 16 & 0xff] << 16 ^ invSBOX[s2 >> 8 & 0xff] << 8 ^ invSBOX[s3 & 0xff] ^ invKeySchedule[ksRow];
        t1 = invSBOX[s1 >>> 24] << 24 ^ invSBOX[s2 >> 16 & 0xff] << 16 ^ invSBOX[s3 >> 8 & 0xff] << 8 ^ invSBOX[s0 & 0xff] ^ invKeySchedule[ksRow + 1];
        t2 = invSBOX[s2 >>> 24] << 24 ^ invSBOX[s3 >> 16 & 0xff] << 16 ^ invSBOX[s0 >> 8 & 0xff] << 8 ^ invSBOX[s1 & 0xff] ^ invKeySchedule[ksRow + 2];
        t3 = invSBOX[s3 >>> 24] << 24 ^ invSBOX[s0 >> 16 & 0xff] << 16 ^ invSBOX[s1 >> 8 & 0xff] << 8 ^ invSBOX[s2 & 0xff] ^ invKeySchedule[ksRow + 3];
        ksRow = ksRow + 3; // Write

        outputInt32[offset] = swapWord(t0 ^ initVector0);
        outputInt32[offset + 1] = swapWord(t3 ^ initVector1);
        outputInt32[offset + 2] = swapWord(t2 ^ initVector2);
        outputInt32[offset + 3] = swapWord(t1 ^ initVector3); // reset initVector to last 4 unsigned int

        initVector0 = inputWords0;
        initVector1 = inputWords1;
        initVector2 = inputWords2;
        initVector3 = inputWords3;
        offset = offset + 4;
      }

      return removePKCS7Padding ? removePadding(outputInt32.buffer) : outputInt32.buffer;
    },

    destroy() {
      this.key = undefined;
      this.keySize = undefined;
      this.ksRows = undefined;
      this.sBox = undefined;
      this.invSBox = undefined;
      this.subMix = undefined;
      this.invSubMix = undefined;
      this.keySchedule = undefined;
      this.invKeySchedule = undefined;
      this.rcon = undefined;
    }

  };
};

/***/ }),

/***/ "./src/background/utils/cache.js":
/*!***************************************!*\
  !*** ./src/background/utils/cache.js ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common_cache__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./src/common/cache */ "./src/common/cache.js");
/* harmony import */ var _message__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./message */ "./src/background/utils/message.js");


const cache = Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common_cache__WEBPACK_IMPORTED_MODULE_0__["default"])({
  /* Keeping the data for one hour since chrome.storage.local is insanely slow in Chrome,
     it can takes seconds to read it when injecting tabs with a big script/value, which delays
     all other scripts in this tab and they will never be able to run at document-start. */
  lifetime: 60 * 60 * 1000
});
Object.assign(_message__WEBPACK_IMPORTED_MODULE_1__["commands"], {
  CacheLoad(data) {
    return cache.get(data) || null;
  },

  CacheHit(data) {
    cache.hit(data.key, data.lifetime);
  },

  CachePop(key) {
    return cache.pop(key) || null;
  }

});
/* harmony default export */ __webpack_exports__["default"] = (cache);

/***/ }),

/***/ "./src/background/utils/clipboard.js":
/*!*******************************************!*\
  !*** ./src/background/utils/clipboard.js ***!
  \*******************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _message__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./message */ "./src/background/utils/message.js");

const textarea = document.createElement('textarea');
let clipboardData;
Object.assign(_message__WEBPACK_IMPORTED_MODULE_0__["commands"], {
  SetClipboard(data) {
    clipboardData = data;
    textarea.focus();
    const ret = document.execCommand('copy', false, null);

    if (!ret && false) {
      console.warn('Copy failed!');
    }
  }

});
document.body.appendChild(textarea);
document.addEventListener('copy', e => {
  e.preventDefault();
  const {
    type,
    data
  } = clipboardData;
  e.clipboardData.setData(type || 'text/plain', data);
});

/***/ }),

/***/ "./src/background/utils/db.js":
/*!************************************!*\
  !*** ./src/background/utils/db.js ***!
  \************************************/
/*! exports provided: normalizePosition, sortScripts, getScriptById, getScript, getScripts, getValueStoresByIds, dumpValueStores, ENV_CACHE_KEYS, ENV_REQ_KEYS, ENV_VALUE_IDS, getScriptsByURL, getData, checkRemove, updateScriptInfo, parseScript, fetchResources, vacuum */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "normalizePosition", function() { return normalizePosition; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "sortScripts", function() { return sortScripts; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getScriptById", function() { return getScriptById; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getScript", function() { return getScript; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getScripts", function() { return getScripts; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getValueStoresByIds", function() { return getValueStoresByIds; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "dumpValueStores", function() { return dumpValueStores; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ENV_CACHE_KEYS", function() { return ENV_CACHE_KEYS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ENV_REQ_KEYS", function() { return ENV_REQ_KEYS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ENV_VALUE_IDS", function() { return ENV_VALUE_IDS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getScriptsByURL", function() { return getScriptsByURL; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getData", function() { return getData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "checkRemove", function() { return checkRemove; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "updateScriptInfo", function() { return updateScriptInfo; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "parseScript", function() { return parseScript; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "fetchResources", function() { return fetchResources; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "vacuum", function() { return vacuum; });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/extends.js");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./src/common */ "./src/common/index.js");
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common_consts__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./src/common/consts */ "./src/common/consts.js");
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/common/object */ "./src/common/object.js");
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./src/common/storage */ "./src/common/storage.js");
/* harmony import */ var _plugin_events__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../plugin/events */ "./src/background/plugin/events.js");
/* harmony import */ var _script__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./script */ "./src/background/utils/script.js");
/* harmony import */ var _tester__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./tester */ "./src/background/utils/tester.js");
/* harmony import */ var _init__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./init */ "./src/background/utils/init.js");
/* harmony import */ var _message__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./message */ "./src/background/utils/message.js");
/* harmony import */ var _patch_db__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./patch-db */ "./src/background/utils/patch-db.js");
/* harmony import */ var _options__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./options */ "./src/background/utils/options.js");
/* harmony import */ var _storage_fetch__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./storage-fetch */ "./src/background/utils/storage-fetch.js");
/* harmony import */ var _cache__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./cache */ "./src/background/utils/cache.js");














const store = {};
_Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__["default"].base.setDataCache(_cache__WEBPACK_IMPORTED_MODULE_13__["default"]);

_Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__["default"].script.onDump = item => {
  store.scriptMap[item.props.id] = item;
};

Object.assign(_message__WEBPACK_IMPORTED_MODULE_9__["commands"], {
  CheckPosition: sortScripts,
  CheckRemove: checkRemove,

  /** @return {VMScript} */
  GetScript: getScript,

  /** @return {Promise<{ items: VMScript[], values? }>} */
  async ExportZip({
    values
  }) {
    const scripts = getScripts();
    const ids = scripts.map(getPropsId);
    const codeMap = await _Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__["default"].code.getMulti(ids);
    return {
      items: scripts.map(script => ({
        script,
        code: codeMap[script.props.id]
      })),
      values: values ? await _Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__["default"].value.getMulti(ids) : undefined
    };
  },

  /** @return {Promise<string>} */
  GetScriptCode(id) {
    return _Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__["default"].code.getOne(id);
  },

  GetScriptVer(opts) {
    const script = getScript(opts);
    return script && !script.config.removed ? script.meta.version : null;
  },

  /** @return {Promise<void>} */
  MarkRemoved({
    id,
    removed
  }) {
    return updateScriptInfo(id, {
      config: {
        removed: removed ? 1 : 0
      },
      props: {
        lastModified: Date.now()
      }
    });
  },

  /** @return {Promise<number>} */
  Move({
    id,
    offset
  }) {
    const script = getScriptById(id);
    const index = store.scripts.indexOf(script);
    store.scripts.splice(index, 1);
    store.scripts.splice(index + offset, 0, script);
    return normalizePosition();
  },

  /** @return {Promise<void>} */
  async RemoveScript(id) {
    const i = store.scripts.indexOf(getScriptById(id));

    if (i >= 0) {
      store.scripts.splice(i, 1);
      await Promise.all([_Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__["default"].script.remove(id), _Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__["default"].code.remove(id), _Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__["default"].value.remove(id)]);
    }

    return Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["sendCmd"])('RemoveScript', id);
  },

  ParseMeta: _script__WEBPACK_IMPORTED_MODULE_6__["parseMeta"],
  ParseScript: parseScript,

  /** @return {Promise<void>} */
  UpdateScriptInfo({
    id,
    config,
    custom
  }) {
    return updateScriptInfo(id, {
      config,
      custom,
      props: {
        lastModified: Date.now()
      }
    });
  },

  /** @return {Promise<number>} */
  Vacuum: vacuum
});
_init__WEBPACK_IMPORTED_MODULE_8__["preInitialize"].push(async () => {
  var _data$options;

  const {
    version: lastVersion
  } = await browser.storage.local.get('version');
  const version = "2.13.0.12";
  if (!lastVersion) await Object(_patch_db__WEBPACK_IMPORTED_MODULE_10__["default"])();
  if (version !== lastVersion) browser.storage.local.set({
    version
  });
  const data = await browser.storage.local.get();
  const scripts = [];
  const storeInfo = {
    id: 0,
    position: 0
  };
  const idMap = {};
  const uriMap = {};
  const mods = [];
  const resUrls = [];
  /** @this VMScriptCustom.pathMap */

  const rememberUrl = function _(url) {
    resUrls.push(this[url] || url);
  };

  safeCall(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_3__["forEachEntry"], data, ([key, script]) => {
    _cache__WEBPACK_IMPORTED_MODULE_13__["default"].put(key, script);

    if (key.startsWith(_Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__["default"].script.prefix)) {
      var _meta$require;

      // {
      //   meta,
      //   custom,
      //   props: { id, position, uri },
      //   config: { enabled, shouldUpdate },
      // }
      const id = getInt(key.slice(_Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__["default"].script.prefix.length));

      if (!id || idMap[id]) {
        // ID conflicts!
        // Should not happen, discard duplicates.
        return;
      }

      idMap[id] = script;
      const uri = Object(_script__WEBPACK_IMPORTED_MODULE_6__["getNameURI"])(script);

      if (uriMap[uri]) {
        // Namespace conflicts!
        // Should not happen, discard duplicates.
        return;
      }

      uriMap[uri] = script;
      script.props = _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, script.props, {
        id,
        uri
      });
      script.custom = _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, Object(_script__WEBPACK_IMPORTED_MODULE_6__["getDefaultCustom"])(), {}, script.custom);
      storeInfo.id = Math.max(storeInfo.id, id);
      storeInfo.position = Math.max(storeInfo.position, getInt(script.props.position));
      scripts.push(script); // listing all known resource urls in order to remove unused mod keys

      const {
        custom: {
          pathMap = {}
        } = {},
        meta = script.meta = {}
      } = script;
      meta.grant = [...new Set(meta.grant || [])]; // deduplicate

      (_meta$require = meta.require) == null ? void 0 : _meta$require.forEach(rememberUrl, pathMap);
      Object.values(meta.resources || {}).forEach(rememberUrl, pathMap);
      safeCall(rememberUrl, pathMap, meta.icon);
    } else if (key.startsWith(_Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__["default"].mod.prefix)) {
      mods.push(key.slice(_Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__["default"].mod.prefix.length));
    }
  });
  _Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__["default"].mod.removeMulti(mods.filter(url => !resUrls.includes(url)));
  Object.assign(store, {
    scripts,
    storeInfo,
    scriptMap: scripts.reduce((map, item) => {
      map[item.props.id] = item;
      return map;
    }, {})
  }); // Switch defaultInjectInto from `page` to `auto` when upgrading VM2.12.7 or older

  if (version !== lastVersion && IS_FIREFOX && ((_data$options = data.options) == null ? void 0 : _data$options.defaultInjectInto) === _Users_ZhaoJun_Desktop_violentmonkey_src_common_consts__WEBPACK_IMPORTED_MODULE_2__["INJECT_PAGE"] && Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["compareVersion"])(lastVersion, '2.12.7') <= 0) {
    Object(_options__WEBPACK_IMPORTED_MODULE_11__["setOption"])('defaultInjectInto', _Users_ZhaoJun_Desktop_violentmonkey_src_common_consts__WEBPACK_IMPORTED_MODULE_2__["INJECT_AUTO"]);
  }

  if (false) {}

  vacuum(data);
  return sortScripts();
});
/** @return {number} */

function getInt(val) {
  return +val || 0;
}
/** @return {?number} */


function getPropsId(script) {
  return script == null ? void 0 : script.props.id;
}
/** @return {void} */


function updateLastModified() {
  Object(_options__WEBPACK_IMPORTED_MODULE_11__["setOption"])('lastModified', Date.now());
}
/** @return {Promise<number>} */


async function normalizePosition() {
  const updates = store.scripts.filter(({
    props
  }, index) => {
    const position = index + 1;
    const res = props.position !== position;
    if (res) props.position = position;
    return res;
  });
  store.storeInfo.position = store.scripts.length;

  if (updates.length) {
    await _Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__["default"].script.dump(updates);
    updateLastModified();
  }

  return updates.length;
}
/** @return {Promise<number>} */

async function sortScripts() {
  store.scripts.sort((a, b) => getInt(a.props.position) - getInt(b.props.position));
  const changed = await normalizePosition();
  Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["sendCmd"])('ScriptsUpdated', null);
  return changed;
}
/** @return {?VMScript} */

function getScriptById(id) {
  return store.scriptMap[id];
}
/** @return {?VMScript} */

function getScript({
  id,
  uri,
  meta
}) {
  let script;

  if (id) {
    script = getScriptById(id);
  } else {
    if (!uri) uri = Object(_script__WEBPACK_IMPORTED_MODULE_6__["getNameURI"])({
      meta,
      id: '@@should-have-name'
    });
    script = store.scripts.find(({
      props
    }) => uri === props.uri);
  }

  return script;
}
/** @return {VMScript[]} */

function getScripts() {
  return store.scripts.filter(script => !script.config.removed);
}
/**
 * @desc Load values for batch updates.
 * @param {number[]} ids
 * @return {Promise<Object>}
 */

function getValueStoresByIds(ids) {
  return _Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__["default"].value.getMulti(ids);
}
/**
 * @desc Dump values for batch updates.
 * @param {Object} valueDict { id1: value1, id2: value2, ... }
 * @return {Promise<Object>}
 */

async function dumpValueStores(valueDict) {
  if (false) {}
  await _Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__["default"].value.dump(valueDict);
  return valueDict;
}
const ENV_CACHE_KEYS = 'cacheKeys';
const ENV_REQ_KEYS = 'reqKeys';
const ENV_VALUE_IDS = 'valueIds';
const GMVALUES_RE = /^GM[_.](listValues|([gs]et|delete)Value)$/;
const RUN_AT_RE = /^document-(start|body|end|idle)$/;
/**
 * @desc Get scripts to be injected to page with specific URL.
 */

async function getScriptsByURL(url, isTop) {
  const allScripts = Object(_tester__WEBPACK_IMPORTED_MODULE_7__["testBlacklist"])(url) ? [] : store.scripts.filter(script => {
    var _script$custom$nofram;

    return !script.config.removed && (isTop || !((_script$custom$nofram = script.custom.noframes) != null ? _script$custom$nofram : script.meta.noframes)) && Object(_tester__WEBPACK_IMPORTED_MODULE_7__["testScript"])(url, script);
  });
  const disabledIds = [];
  /** @namespace VMScriptByUrlData */

  const [envStart, envDelayed] = [0, 1].map(() => ({
    ids: [],

    /** @type {(VMScript & VMInjectedScript)[]} */
    scripts: [],
    [ENV_CACHE_KEYS]: [],
    [ENV_REQ_KEYS]: [],
    [ENV_VALUE_IDS]: []
  }));
  allScripts.forEach(script => {
    var _$match;

    const {
      id
    } = script.props;

    if (!script.config.enabled) {
      disabledIds.push(id);
      return;
    }

    const {
      meta,
      custom
    } = script;
    const {
      pathMap = buildPathMap(script)
    } = custom;
    const runAt = ((_$match = `${custom.runAt || meta.runAt || ''}`.match(RUN_AT_RE)) == null ? void 0 : _$match[1]) || 'end';
    const env = runAt === 'start' || runAt === 'body' ? envStart : envDelayed;
    env.ids.push(id);

    if (meta.grant.some(GMVALUES_RE.test, GMVALUES_RE)) {
      env[ENV_VALUE_IDS].push(id);
    }

    for (const [list, name] of [[meta.require, ENV_REQ_KEYS], [Object.values(meta.resources), ENV_CACHE_KEYS]]) {
      list.forEach(key => {
        key = pathMap[key] || key;

        if (!envStart[name].includes(key)) {
          env[name].push(key);
        }
      });
    }
    /** @namespace VMInjectedScript */


    env.scripts.push(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, script, {
      runAt
    }));
  });

  if (envDelayed.ids.length) {
    envDelayed.promise = readEnvironmentData(envDelayed);
  }
  /** @namespace VMScriptByUrlData */


  return _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, envStart, {}, (await readEnvironmentData(envStart)), {
    disabledIds,
    envDelayed
  });
}
/**
 * Object keys == areas in `storage` module.
 * @namespace VMScriptByUrlData
 */

const STORAGE_ROUTES = Object.entries({
  cache: ENV_CACHE_KEYS,
  code: 'ids',
  require: ENV_REQ_KEYS,
  value: ENV_VALUE_IDS
});
const retriedStorageKeys = {};

async function readEnvironmentData(env, isRetry) {
  const keys = [];
  STORAGE_ROUTES.forEach(([area, srcIds]) => {
    env[srcIds].forEach(id => {
      keys.push(_Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__["default"][area].getKey(id));
    });
  });
  const data = await _Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__["default"].base.getMulti(keys);

  for (const [area, srcIds] of STORAGE_ROUTES) {
    env[area] = {};

    for (const id of env[srcIds]) {
      const val = data[_Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__["default"][area].getKey(id)];
      env[area][id] = val;

      if (val == null && area !== 'value' && retriedStorageKeys[area + id] !== 2) {
        const err = `The "${area}" storage is missing "${id}"!`;
        const err2 = 'Vacuuming did not help. Please reinstall the affected scripts.';
        retriedStorageKeys[area + id] = isRetry ? 2 : 1;

        if (!isRetry) {
          console.warn(err, 'Vacuuming...');

          if (await vacuum()) {
            return readEnvironmentData(env, true);
          }
        }

        console.error(err, err2);
        Object(_message__WEBPACK_IMPORTED_MODULE_9__["notify"])({
          title: err,
          body: err2
        });
      }
    }
  }

  return env;
}
/**
 * @desc Get data for dashboard.
 * @return {Promise<{ scripts: VMScript[], cache: Object }>}
 */


async function getData(ids) {
  const scripts = ids ? ids.map(getScriptById) : store.scripts;
  return {
    scripts,
    cache: await getIconCache(scripts)
  };
}

function getIconCache(scripts) {
  const iconUrls = [];
  scripts.forEach(script => {
    const {
      icon
    } = script.meta;

    if (Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["isRemote"])(icon)) {
      var _script$custom$pathMa;

      iconUrls.push(((_script$custom$pathMa = script.custom.pathMap) == null ? void 0 : _script$custom$pathMa[icon]) || icon);
    }
  });
  return iconUrls.length ? _Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__["default"].cache.getMulti(iconUrls, undefined, _Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__["default"].cache.makeDataUri) : {};
}
/** @return {number} */


function checkRemove({
  force
} = {}) {
  const now = Date.now();
  const toRemove = store.scripts.filter(script => script.config.removed && (force || now - getInt(script.props.lastModified) > _Users_ZhaoJun_Desktop_violentmonkey_src_common_consts__WEBPACK_IMPORTED_MODULE_2__["TIMEOUT_WEEK"]));

  if (toRemove.length) {
    store.scripts = store.scripts.filter(script => !script.config.removed);
    const ids = toRemove.map(getPropsId);
    _Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__["default"].script.removeMulti(ids);
    _Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__["default"].code.removeMulti(ids);
    _Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__["default"].value.removeMulti(ids);
  }

  return toRemove.length;
}
/** @return {string} */

function getUUID() {
  const rnd = new Uint16Array(8);
  window.crypto.getRandomValues(rnd); // xxxxxxxx-xxxx-Mxxx-Nxxx-xxxxxxxxxxxx
  // We're using UUIDv4 variant 1 so N=4 and M=8
  // See format_uuid_v3or5 in https://tools.ietf.org/rfc/rfc4122.txt

  rnd[3] = rnd[3] & 0x0FFF | 0x4000; // eslint-disable-line no-bitwise

  rnd[4] = rnd[4] & 0x3FFF | 0x8000; // eslint-disable-line no-bitwise

  return '01-2-3-4-567'.replace(/\d/g, i => (rnd[i] + 0x10000).toString(16).slice(-4));
}
/**
 * @param {VMScript} script
 * @param {string} code
 * @return {Promise<VMScript[]>}
 */


async function saveScript(script, code) {
  const config = script.config || {};
  config.enabled = getInt(config.enabled);
  config.shouldUpdate = getInt(config.shouldUpdate);
  const props = script.props || {};
  let oldScript;

  if (!props.id) {
    store.storeInfo.id += 1;
    props.id = store.storeInfo.id;
  } else {
    oldScript = store.scriptMap[props.id];
  }

  props.uri = Object(_script__WEBPACK_IMPORTED_MODULE_6__["getNameURI"])(script);
  props.uuid = props.uuid || (crypto.randomUUID == null ? void 0 : crypto.randomUUID()) || getUUID(); // Do not allow script with same name and namespace

  if (store.scripts.some(({
    props: {
      id,
      uri
    } = {}
  }) => props.id !== id && props.uri === uri)) {
    throw Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["i18n"])('msgNamespaceConflict');
  }

  if (oldScript) {
    script.config = _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, oldScript.config, {}, config);
    script.props = _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, oldScript.props, {}, props);
    const index = store.scripts.indexOf(oldScript);
    store.scripts[index] = script;
  } else {
    if (!props.position) {
      store.storeInfo.position += 1;
      props.position = store.storeInfo.position;
    } else if (store.storeInfo.position < props.position) {
      store.storeInfo.position = props.position;
    }

    script.config = config;
    script.props = props;
    store.scripts.push(script);
  }

  return Promise.all([_Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__["default"].script.dump(script), _Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__["default"].code.set(props.id, code)]);
}
/** @return {Promise<void>} */


async function updateScriptInfo(id, data) {
  const script = store.scriptMap[id];
  if (!script) throw null;
  script.props = _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, script.props, {}, data.props);
  script.config = _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, script.config, {}, data.config);
  script.custom = _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, script.custom, {}, data.custom);
  await _Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__["default"].script.dump(script);
  return Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["sendCmd"])(_Users_ZhaoJun_Desktop_violentmonkey_src_common_consts__WEBPACK_IMPORTED_MODULE_2__["CMD_SCRIPT_UPDATE"], {
    where: {
      id
    },
    update: script
  });
}
/** @return {Promise<{ isNew?, update, where }>} */

async function parseScript(src) {
  const meta = Object(_script__WEBPACK_IMPORTED_MODULE_6__["parseMeta"])(src.code);
  if (!meta.name) throw `${Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["i18n"])('msgInvalidScript')}\n${Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["i18n"])('labelNoName')}`;
  const result = {
    update: {
      message: src.message == null ? Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["i18n"])('msgUpdated') : src.message || ''
    }
  };
  let cmd = _Users_ZhaoJun_Desktop_violentmonkey_src_common_consts__WEBPACK_IMPORTED_MODULE_2__["CMD_SCRIPT_UPDATE"];
  let script;
  const oldScript = await getScript({
    id: src.id,
    meta
  });

  if (oldScript) {
    if (src.isNew) throw Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["i18n"])('msgNamespaceConflict');
    script = _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, oldScript);
  } else {
    ({
      script
    } = Object(_script__WEBPACK_IMPORTED_MODULE_6__["newScript"])());
    cmd = _Users_ZhaoJun_Desktop_violentmonkey_src_common_consts__WEBPACK_IMPORTED_MODULE_2__["CMD_SCRIPT_ADD"];
    result.isNew = true;
    result.update.message = Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["i18n"])('msgInstalled');
  }

  script.config = _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, script.config, {}, src.config, {
    removed: 0 // force reset `removed` since this is an installation

  });
  script.custom = _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, script.custom, {}, src.custom);
  script.props = _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, script.props, {
    lastModified: Date.now(),
    lastUpdated: Date.now()
  }, src.props);
  script.meta = meta;

  if (!meta.homepageURL && !script.custom.homepageURL && Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["isRemote"])(src.from)) {
    script.custom.homepageURL = src.from;
  }

  if (Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["isRemote"])(src.url)) script.custom.lastInstallURL = src.url;
  if (src.position) script.props.position = +src.position;
  buildPathMap(script, src.url);
  await saveScript(script, src.code);
  fetchResources(script, src);
  Object.assign(result.update, script, src.update);
  result.where = {
    id: script.props.id
  };
  Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["sendCmd"])(cmd, result);
  _plugin_events__WEBPACK_IMPORTED_MODULE_5__["default"].emit('scriptChanged', result);
  return result;
}
/** @return {Object} */

function buildPathMap(script, base) {
  const {
    meta
  } = script;
  const baseUrl = base || script.custom.lastInstallURL;
  const pathMap = baseUrl ? [...meta.require, ...Object.values(meta.resources), meta.icon].reduce((map, key) => {
    if (key) {
      const fullUrl = Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["getFullUrl"])(key, baseUrl);
      if (fullUrl !== key) map[key] = fullUrl;
    }

    return map;
  }, {}) : {};
  script.custom.pathMap = pathMap;
  return pathMap;
}
/** @return {Promise<?string>} resolves to error text if `resourceCache` is absent */


async function fetchResources(script, resourceCache, reqOptions) {
  const {
    custom: {
      pathMap
    },
    meta
  } = script;

  const snatch = (url, type, validator) => {
    var _resourceCache$type;

    url = pathMap[url] || url;
    const contents = resourceCache == null ? void 0 : (_resourceCache$type = resourceCache[type]) == null ? void 0 : _resourceCache$type[url];
    return contents != null && !validator ? _Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__["default"][type].set(url, contents) && null : _Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__["default"][type].fetch(url, reqOptions, validator).catch(err => err);
  };

  const errors = await Promise.all([...meta.require.map(url => snatch(url, 'require')), ...Object.values(meta.resources).map(url => snatch(url, 'cache')), Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["isRemote"])(meta.icon) && snatch(meta.icon, 'cache', validateImage)]);

  if (!(resourceCache == null ? void 0 : resourceCache.ignoreDepsErrors)) {
    const error = safeCall(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["trueJoin"], errors.map(formatHttpError), '\n');

    if (error) {
      const message = Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["i18n"])('msgErrorFetchingResource');
      Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["sendCmd"])(_Users_ZhaoJun_Desktop_violentmonkey_src_common_consts__WEBPACK_IMPORTED_MODULE_2__["CMD_SCRIPT_UPDATE"], {
        update: {
          error,
          message
        },
        where: {
          id: script.props.id
        }
      });
      return `${message}\n${error}`;
    }
  }
}
/** @return {Promise<void>} resolves on success, rejects on error */

function validateImage(url, buf, type) {
  return new Promise((resolve, reject) => {
    const blobUrl = URL.createObjectURL(new Blob([buf], {
      type
    }));

    const onDone = e => {
      URL.revokeObjectURL(blobUrl);
      if (e.type === 'load') resolve();else reject(`IMAGE_ERROR: ${url}`);
    };

    const image = new Image();
    image.onload = onDone;
    image.onerror = onDone;
    image.src = blobUrl;
  });
}

function formatHttpError(e) {
  return e && safeCall(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["trueJoin"], [e.status && `HTTP${e.status}`, e.url], ' ') || e;
}

let _vacuuming;
/**
 * @param {Object} [data]
 * @return {Promise<number>}
 */


async function vacuum(data) {
  if (_vacuuming) return _vacuuming;
  let numFixes = 0;
  let resolveSelf;
  _vacuuming = new Promise(r => {
    resolveSelf = r;
  });
  const result = {};
  const toFetch = [];
  const keysToRemove = [];
  const valueKeys = {};
  const cacheKeys = {};
  const requireKeys = {};
  const codeKeys = {};
  const mappings = [[_Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__["default"].value, valueKeys], [_Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__["default"].cache, cacheKeys], [_Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__["default"].require, requireKeys], [_Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__["default"].code, codeKeys]];
  if (!data) data = await browser.storage.local.get();
  safeCall(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_3__["forEachKey"], data, key => {
    mappings.some(([substore, map]) => {
      const {
        prefix
      } = substore;

      if (key.startsWith(prefix)) {
        // -1 for untouched, 1 for touched, 2 for missing
        map[key.slice(prefix.length)] = -1;
        return true;
      }

      return false;
    });
  });

  const touch = (obj, key, scriptId) => {
    if (obj[key] < 0) {
      obj[key] = 1;
    } else if (!obj[key]) {
      obj[key] = 2 + scriptId;
    }
  };

  store.scripts.forEach(script => {
    const {
      id
    } = script.props;
    touch(codeKeys, id, id);
    touch(valueKeys, id, id);
    if (!script.custom.pathMap) buildPathMap(script);
    const {
      pathMap
    } = script.custom;

    script.meta.require.forEach(url => {
      touch(requireKeys, pathMap[url] || url, id);
    });

    safeCall(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_3__["forEachValue"], script.meta.resources, url => {
      touch(cacheKeys, pathMap[url] || url, id);
    });
    const {
      icon
    } = script.meta;

    if (Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["isRemote"])(icon)) {
      const fullUrl = pathMap[icon] || icon;
      touch(cacheKeys, fullUrl, id);
    }
  });
  mappings.forEach(([substore, map]) => {
    safeCall(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_3__["forEachEntry"], map, ([key, value]) => {
      if (value < 0) {
        // redundant value
        keysToRemove.push(substore.getKey(key));
        numFixes += 1;
      } else if (value >= 2 && substore.fetch) {
        // missing resource
        keysToRemove.push(_Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__["default"].mod.getKey(key));
        toFetch.push(substore.fetch(key).catch(err => `${Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["getScriptName"])(getScriptById(value - 2))}: ${formatHttpError(err)}`));
        numFixes += 1;
      }
    });
  });

  if (numFixes) {
    await _Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__["default"].base.removeMulti(keysToRemove); // Removing `mod` before fetching

    result.errors = (await Promise.all(toFetch)).filter(Boolean);
  }

  _vacuuming = null;
  result.fixes = numFixes;
  resolveSelf(result);
  return result;
}
/** @typedef VMScript
 * @property {VMScriptConfig} config
 * @property {VMScriptCustom} custom
 * @property {VMScriptMeta} meta
 * @property {VMScriptProps} props
 */

/** @typedef VMScriptConfig *
 * @property {Boolean} enabled - stored as 0 or 1
 * @property {Boolean} removed - stored as 0 or 1
 * @property {Boolean} shouldUpdate - stored as 0 or 1
 * @property {Boolean | null} notifyUpdates - stored as 0 or 1 or null (default) which means "use global setting"
 */

/** @typedef VMScriptCustom *
 * @property {string} name
 * @property {string} downloadURL
 * @property {string} homepageURL
 * @property {string} lastInstallURL
 * @property {string} updateURL
 * @property {'auto' | 'page' | 'content'} injectInto
 * @property {null | 1 | 0} noframes - null or absence == default (script's value)
 * @property {string[]} exclude
 * @property {string[]} excludeMatch
 * @property {string[]} include
 * @property {string[]} match
 * @property {boolean} origExclude
 * @property {boolean} origExcludeMatch
 * @property {boolean} origInclude
 * @property {boolean} origMatch
 * @property {Object} pathMap
 * @property {VMScriptRunAt} runAt
 */

/** @typedef VMScriptMeta *
 * @property {string} description
 * @property {string} downloadURL
 * @property {string[]} exclude
 * @property {string[]} excludeMatch
 * @property {string[]} grant
 * @property {string} homepageURL
 * @property {string} icon
 * @property {string[]} include
 * @property {'auto' | 'page' | 'content'} injectInto
 * @property {string[]} match
 * @property {string} namespace
 * @property {string} name
 * @property {boolean} noframes
 * @property {string[]} require
 * @property {Object} resources
 * @property {VMScriptRunAt} runAt
 * @property {string} supportURL
 * @property {string} version
 */

/** @typedef VMScriptProps *
 * @property {number} id
 * @property {number} lastModified
 * @property {number} lastUpdated
 * @property {number} position
 * @property {string} uri
 * @property {string} uuid
 */

/**
 * @typedef {
   'document-start' | 'document-body' | 'document-end' | 'document-idle'
 } VMScriptRunAt
 */

/***/ }),

/***/ "./src/background/utils/events.js":
/*!****************************************!*\
  !*** ./src/background/utils/events.js ***!
  \****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return getEventEmitter; });
function getEventEmitter() {
  const events = {};
  return {
    on,
    off,
    fire
  };

  function on(type, func) {
    let list = events[type];

    if (!list) {
      list = [];
      events[type] = list;
    }

    list.push(func);
  }

  function off(type, func) {
    const list = events[type];

    if (list) {
      const i = list.indexOf(func);
      if (i >= 0) list.splice(i, 1);
    }
  }

  function fire(type, data) {
    const list = events[type];

    if (list) {
      list.forEach(func => {
        func(data, type);
      });
    }
  }
}

/***/ }),

/***/ "./src/background/utils/hotkeys.js":
/*!*****************************************!*\
  !*** ./src/background/utils/hotkeys.js ***!
  \*****************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _init__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./init */ "./src/background/utils/init.js");
/* harmony import */ var _message__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./message */ "./src/background/utils/message.js");


_init__WEBPACK_IMPORTED_MODULE_0__["postInitialize"].push(() => {
  browser.commands.onCommand.addListener(cmd => {
    if (cmd === 'newScript') {
      _message__WEBPACK_IMPORTED_MODULE_1__["commands"].OpenEditor();
    } else {
      const route = cmd === 'settings' ? `#${cmd}` : '';
      _message__WEBPACK_IMPORTED_MODULE_1__["commands"].TabOpen({
        url: `/options/index.html${route}`
      });
    }
  });
});

/***/ }),

/***/ "./src/background/utils/icon.js":
/*!**************************************!*\
  !*** ./src/background/utils/icon.js ***!
  \**************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./src/common */ "./src/common/index.js");
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common_consts__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./src/common/consts */ "./src/common/consts.js");
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./src/common/object */ "./src/common/object.js");
/* harmony import */ var _cache__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./cache */ "./src/background/utils/cache.js");
/* harmony import */ var _init__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./init */ "./src/background/utils/init.js");
/* harmony import */ var _message__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./message */ "./src/background/utils/message.js");
/* harmony import */ var _options__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./options */ "./src/background/utils/options.js");
/* harmony import */ var _tester__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./tester */ "./src/background/utils/tester.js");







 // storing in `cache` only for the duration of page load in case there are 2+ identical urls

const CACHE_DURATION = 1000;
Object.assign(_message__WEBPACK_IMPORTED_MODULE_5__["commands"], {
  async GetImageData(url) {
    const key = `GetImageData:${url}`;
    return _cache__WEBPACK_IMPORTED_MODULE_3__["default"].get(key) || _cache__WEBPACK_IMPORTED_MODULE_3__["default"].put(key, loadImageData(url, {
      base64: true
    }).catch(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["noop"]), CACHE_DURATION);
  },

  SetBadge: setBadge
}); // Firefox Android does not support such APIs, use noop

const browserAction = (() => {
  const {
    chrome
  } = global; // Using `chrome` namespace in order to skip our browser.js polyfill in Chrome

  const api = chrome.browserAction; // Suppress the "no tab id" error when setting an icon/badge as it cannot be reliably prevented

  const ignoreErrors = () => chrome.runtime.lastError; // Some methods like setBadgeText added callbacks only in Chrome 67+.


  const makeMethod = fn => (...args) => {
    try {
      safeCall(fn, api, ...args, ignoreErrors);
    } catch (e) {
      safeCall(fn, api, ...args);
    }
  };

  return Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_2__["objectPick"])(api, ['setIcon', 'setBadgeText', 'setBadgeBackgroundColor', 'setTitle'], fn => fn ? makeMethod(fn) : _Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["noop"]);
})();

const badges = {};
const KEY_IS_APPLIED = 'isApplied';
const KEY_SHOW_BADGE = 'showBadge';
const KEY_BADGE_COLOR = 'badgeColor';
const KEY_BADGE_COLOR_BLOCKED = 'badgeColorBlocked';
/** @type boolean */

let isApplied;
/** @type VMBadgeMode */

let showBadge;
/** @type string */

let badgeColor;
/** @type string */

let badgeColorBlocked;
/** @type string */

let titleBlacklisted;
/** @type string */

let titleNoninjectable; // We'll cache the icon data in Chrome as it doesn't cache the data and takes up to 40ms
// in our background page context to set the 4 icon sizes for each new tab opened

const iconCache = !IS_FIREFOX && {};
Object(_options__WEBPACK_IMPORTED_MODULE_6__["hookOptions"])(changes => {
  let v;
  const jobs = [];

  if ((v = changes[KEY_IS_APPLIED]) != null) {
    isApplied = v;
    setIcon(); // change the default icon

    jobs.push(setIcon); // change the current tabs' icons
  }

  if ((v = changes[KEY_SHOW_BADGE]) != null) {
    showBadge = v;
    jobs.push(updateBadge);
  }

  if ((v = changes[KEY_BADGE_COLOR]) && (badgeColor = v) || (v = changes[KEY_BADGE_COLOR_BLOCKED]) && (badgeColorBlocked = v)) {
    jobs.push(updateBadgeColor);
  }

  if ('blacklist' in changes) {
    jobs.push(updateState);
  }

  if (jobs.length) {
    Object(_message__WEBPACK_IMPORTED_MODULE_5__["forEachTab"])(tab => jobs.forEach(fn => fn(tab)));
  }
});
_init__WEBPACK_IMPORTED_MODULE_4__["postInitialize"].push(() => {
  isApplied = Object(_options__WEBPACK_IMPORTED_MODULE_6__["getOption"])(KEY_IS_APPLIED);
  showBadge = Object(_options__WEBPACK_IMPORTED_MODULE_6__["getOption"])(KEY_SHOW_BADGE);
  badgeColor = Object(_options__WEBPACK_IMPORTED_MODULE_6__["getOption"])(KEY_BADGE_COLOR);
  badgeColorBlocked = Object(_options__WEBPACK_IMPORTED_MODULE_6__["getOption"])(KEY_BADGE_COLOR_BLOCKED);
  titleBlacklisted = Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["i18n"])('failureReasonBlacklisted');
  titleNoninjectable = Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["i18n"])('failureReasonNoninjectable');
  Object(_message__WEBPACK_IMPORTED_MODULE_5__["forEachTab"])(updateState);
  if (!isApplied) setIcon(); // sets the dimmed icon as default
});
browser.tabs.onRemoved.addListener(id => {
  delete badges[id];
});
browser.tabs.onUpdated.addListener((tabId, info, tab) => {
  const {
    url
  } = info;

  if (info.status === 'loading' // at least about:newtab in Firefox may open without 'loading' status
  || info.favIconUrl && tab.url.startsWith('about:')) {
    updateState(tab, url);
  }
});

function setBadge(ids, {
  tab,
  frameId
}) {
  const tabId = tab.id;
  const data = badges[tabId] || {};

  if (!data.idMap || frameId === 0) {
    // 1) keeping data object to preserve data.blocked
    // 2) 'total' and 'unique' must match showBadge in options-defaults.js
    data.total = 0;
    data.unique = 0;
    data.idMap = {};
    badges[tabId] = data;
  }

  data.total += ids.length;

  if (ids) {
    ids.forEach(id => {
      data.idMap[id] = 1;
    });
    data.unique = Object.keys(data.idMap).length;
  }

  updateBadgeColor(tab, data);
  updateBadge(tab, data);
}

function updateBadge(tab, data = badges[tab.id]) {
  if (data) {
    browserAction.setBadgeText({
      text: `${data[showBadge] || ''}`,
      tabId: tab.id
    });
  }
}

function updateBadgeColor(tab, data = badges[tab.id]) {
  if (data) {
    browserAction.setBadgeBackgroundColor({
      color: data.blocked ? badgeColorBlocked : badgeColor,
      tabId: tab.id
    });
  }
} // Chrome 79+ uses pendingUrl while the tab connects to the newly navigated URL
// https://groups.google.com/a/chromium.org/forum/#!topic/chromium-extensions/5zu_PT0arls


function updateState(tab, url = tab.pendingUrl || tab.url) {
  const tabId = tab.id;
  const injectable = _Users_ZhaoJun_Desktop_violentmonkey_src_common_consts__WEBPACK_IMPORTED_MODULE_1__["INJECTABLE_TAB_URL_RE"].test(url);
  const blacklisted = injectable ? Object(_tester__WEBPACK_IMPORTED_MODULE_7__["testBlacklist"])(url) : undefined;
  const title = blacklisted && titleBlacklisted || !injectable && titleNoninjectable || ''; // if the user unblacklisted this previously blocked tab in settings,
  // but didn't reload the tab yet, we need to restore the icon and the title

  if (title || (badges[tabId] || {}).blocked) {
    browserAction.setTitle({
      title,
      tabId
    });
    const data = title ? {
      blocked: true
    } : {};
    badges[tabId] = data;
    setIcon(tab, data);
    updateBadge(tab, data);
  }
}

async function setIcon(tab = {}, data = {}) {
  // modern Chrome and Firefox use 16/32, other browsers may still use 19/38 (e.g. Vivaldi)
  const mod = data.blocked && 'b' || !isApplied && 'w' || '';
  const iconData = {};

  for (const n of [16, 19, 32, 38]) {
    const path = `/public/images/icon${n}${mod}.png`;
    let icon = iconCache ? iconCache[path] : path;

    if (!icon) {
      icon = await loadImageData(path);
      iconCache[path] = icon;
    }

    iconData[n] = icon;
  }

  browserAction.setIcon({
    tabId: tab.id,
    [iconCache ? 'imageData' : 'path']: iconData
  });
}

function loadImageData(path, {
  base64
} = {}) {
  return new Promise((resolve, reject) => {
    const img = new Image();
    img.src = path;

    img.onload = () => {
      const {
        width,
        height
      } = img;

      if (!width) {
        // FF reports 0 for SVG
        resolve(path);
        return;
      }

      const canvas = document.createElement('canvas');
      const ctx = canvas.getContext('2d');
      canvas.width = width;
      canvas.height = height;
      ctx.drawImage(img, 0, 0, width, height);
      resolve(base64 ? canvas.toDataURL() : ctx.getImageData(0, 0, width, height));
    };

    img.onerror = reject;
  });
}

/***/ }),

/***/ "./src/background/utils/index.js":
/*!***************************************!*\
  !*** ./src/background/utils/index.js ***!
  \***************************************/
/*! exports provided: cache, getEventEmitter, commands, notify, broadcast, sendMessageOrIgnore, forEachTab, getOption, getDefaultOption, setOption, hookOptions, loadQuery, dumpQuery */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _cache__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./cache */ "./src/background/utils/cache.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "cache", function() { return _cache__WEBPACK_IMPORTED_MODULE_0__["default"]; });

/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./events */ "./src/background/utils/events.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "getEventEmitter", function() { return _events__WEBPACK_IMPORTED_MODULE_1__["default"]; });

/* harmony import */ var _message__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./message */ "./src/background/utils/message.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "commands", function() { return _message__WEBPACK_IMPORTED_MODULE_2__["commands"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "notify", function() { return _message__WEBPACK_IMPORTED_MODULE_2__["notify"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "broadcast", function() { return _message__WEBPACK_IMPORTED_MODULE_2__["broadcast"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "sendMessageOrIgnore", function() { return _message__WEBPACK_IMPORTED_MODULE_2__["sendMessageOrIgnore"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "forEachTab", function() { return _message__WEBPACK_IMPORTED_MODULE_2__["forEachTab"]; });

/* harmony import */ var _options__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./options */ "./src/background/utils/options.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "getOption", function() { return _options__WEBPACK_IMPORTED_MODULE_3__["getOption"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "getDefaultOption", function() { return _options__WEBPACK_IMPORTED_MODULE_3__["getDefaultOption"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "setOption", function() { return _options__WEBPACK_IMPORTED_MODULE_3__["setOption"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "hookOptions", function() { return _options__WEBPACK_IMPORTED_MODULE_3__["hookOptions"]; });

/* harmony import */ var _search__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./search */ "./src/background/utils/search.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "loadQuery", function() { return _search__WEBPACK_IMPORTED_MODULE_4__["loadQuery"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "dumpQuery", function() { return _search__WEBPACK_IMPORTED_MODULE_4__["dumpQuery"]; });







/***/ }),

/***/ "./src/background/utils/init.js":
/*!**************************************!*\
  !*** ./src/background/utils/init.js ***!
  \**************************************/
/*! exports provided: extensionRoot, preInitialize, postInitialize, initialize */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "extensionRoot", function() { return extensionRoot; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "preInitialize", function() { return preInitialize; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "postInitialize", function() { return postInitialize; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "initialize", function() { return initialize; });
const extensionRoot = browser.runtime.getURL('/');
const preInitialize = [];
const postInitialize = [];
async function initialize(main) {
  const run = init => typeof init === 'function' ? init() : init;

  await Promise.all(preInitialize.map(run));
  await run(main);
  await Promise.all(postInitialize.map(run));
  preInitialize.length = 0;
  postInitialize.length = 0;
}

/***/ }),

/***/ "./src/background/utils/m3u8.js":
/*!**************************************!*\
  !*** ./src/background/utils/m3u8.js ***!
  \**************************************/
/*! exports provided: downloadM3u8 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "downloadM3u8", function() { return downloadM3u8; });
/* harmony import */ var jbinary__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jbinary */ "./node_modules/jbinary/dist/browser/jbinary.js");
/* harmony import */ var jbinary__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jbinary__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var mpegts_to_mp4_mpegts_to_mp4_mpegts__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! mpegts_to_mp4/mpegts_to_mp4/mpegts */ "./node_modules/mpegts_to_mp4/mpegts_to_mp4/mpegts.js");
/* harmony import */ var mpegts_to_mp4_mpegts_to_mp4_mpegts__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(mpegts_to_mp4_mpegts_to_mp4_mpegts__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var mpegts_to_mp4_mpegts_to_mp4_index__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! mpegts_to_mp4/mpegts_to_mp4/index */ "./node_modules/mpegts_to_mp4/mpegts_to_mp4/index.js");
/* harmony import */ var mpegts_to_mp4_mpegts_to_mp4_index__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(mpegts_to_mp4_mpegts_to_mp4_index__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _aes_decryptor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./aes-decryptor */ "./src/background/utils/aes-decryptor.js");
/* eslint-disable */

/**
 * credits
 * https://github.com/Momo707577045/m3u8-downloader
 * https://github.com/shellvon/zh-downloader
 */


 // eslint-disable-line camelcase


let tsList = [];
let statusList = [];
let mediaFileList = []; // AES 

const AES = {
  method: '',
  // 
  uri: '',
  // key 
  iv: '',
  // 
  key: '',
  // 
  decryptor: null,
  // 
  stringToBuffer: function (str) {
    return new TextEncoder().encode(str);
  }
};
const downloadM3u8 = function (opts) {
  // clear
  tsList = [];
  statusList = [];
  mediaFileList = [];
  const m3u8 = opts.data[0];
  const baseUrl = opts.url;
  let limit = 5;
  m3u8.split('\n').forEach(line => {
    if (limit > 0 && tsList.length >= limit) return;

    if (line.toLowerCase().indexOf('.ts') > -1) {
      tsList.push(tsUrl(line, baseUrl));
      statusList.push({
        title: line,
        status: 'init'
      });
    }
  }); // console.log('tsList', tsList);

  if (m3u8.indexOf('#EXT-X-KEY') > -1) {
    //  AES 
    AES.method = (m3u8.match(/(.*METHOD=([^,\s]+))/) || ['', '', ''])[2];
    AES.uri = (m3u8.match(/(.*URI="([^"]+))"/) || ['', '', ''])[2];
    AES.uri = tsUrl(AES.uri, baseUrl);
    AES.iv = (m3u8.match(/(.*IV=([^,\s]+))/) || ['', '', ''])[2];
    AES.iv = AES.iv ? AES.stringToBuffer(AES.iv) : ''; // 

    getAES(() => {
      downloadTS(opts);
    });
  } else if (tsList.length > 0) {
    // 
    downloadTS(opts);
  } else {
    console.info('empty m3u8!');
  }
};

const getAES = function (callback) {
  ajax({
    url: AES.uri,
    success: key => {
      AES.key = key;
      AES.decryptor = new _aes_decryptor__WEBPACK_IMPORTED_MODULE_3__["AESDecryptor"]();
      AES.decryptor.constructor();
      AES.decryptor.expandKey(AES.key);
      callback();
    },
    fail: () => {
      console.info('');
    }
  });
};

const tsUrl = function (tsUri, baseURL) {
  if (tsUri.startsWith('http')) {
    return tsUri;
  } else if (tsUri[0] === '/') {
    let domain = baseURL.split('/');
    return domain[0] + '//' + domain[2] + tsUri;
  } else {
    let domain = baseURL.split('/');
    domain.pop();
    return domain.join('/') + '/' + tsUri;
  }
}; // ts  AES 


const decryptTs = function (data, index) {
  let iv = AES.iv || new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, index]);
  return AES.decryptor.decrypt(data, 0, iv.buffer || iv, true);
}; // 


const downloadTS = function (opts) {
  let index = 0;
  let retry = 0;

  let download = () => {
    const i = index;
    index++;

    if (i >= tsList.length) {
      // all succ
      const procList = statusList.filter(s => ['succ', 'loading'].includes(s.status));

      if (procList.length === tsList.length) {
        return;
      }

      if (retry < 5) {
        // retry again
        retry++;
        index = 0;
        setTimeout(() => download(), 1000);
        console.log('retry', retry, procList.length);
        return;
      }
    }

    console.log('download', i);

    if (statusList[i] && ['error', 'init'].includes(statusList[i].status)) {
      statusList[i].status = 'loading';
      ajax({
        url: tsList[i],
        success: data => {
          statusList[i].status = 'succ';
          dealTS(data, i, opts, () => {
            opts.onprogress(mediaFileList.length / tsList.length);
            download();
          });
        },
        fail: e => {
          // let err = e.statusText
          console.log({
            e,
            i
          }); // todo: retry

          statusList[i].status = 'error';
          download();
        }
      });
    } else {
      // 
      download();
    }
  }; //  N


  for (let ii = 0; ii < 3; ii++) {
    download();
  }
};

const mp4ByJbinary = (dataChunks, callback) => {
  const blob = new Blob(dataChunks.map(data => new Uint8Array(data)), {
    type: 'video/mp2t'
  });
  jbinary__WEBPACK_IMPORTED_MODULE_0___default.a.load(blob, mpegts_to_mp4_mpegts_to_mp4_mpegts__WEBPACK_IMPORTED_MODULE_1___default.a, (err, mpegts) => {
    if (err) console.log({
      err
    });
    const start = new Date().getTime();
    const mp4Obj = mpegts_to_mp4_mpegts_to_mp4_index__WEBPACK_IMPORTED_MODULE_2___default()(mpegts);
    console.log(`Converted finished, time elapsed: ${new Date().getTime() - start}ms`);
    const data = {
      downloadLink: mp4Obj.toURI('video/mp4')
    };
    callback(data);
  });
}; //  ts AES mp4 


const dealTS = function (rawData, index, opts, callback) {
  const data = AES.uri ? decryptTs(rawData, index) : rawData;
  mediaFileList[index] = data;

  if (mediaFileList.filter(m => m || false).length === tsList.length) {
    mp4ByJbinary(mediaFileList, res => {
      chrome.downloads.download({
        url: res.downloadLink,
        filename: opts.fileName
      }, downloadId => {
        opts.onload();
        URL.revokeObjectURL(res.downloadLink);
      });
    });
  }

  callback && callback();
};

const ajax = function (options) {
  options = options || {};
  let xhr = new XMLHttpRequest();
  xhr.responseType = 'arraybuffer';

  xhr.onreadystatechange = function () {
    if (xhr.readyState === 4) {
      let status = xhr.status;

      if (status >= 200 && status < 300) {
        options.success && options.success(xhr.response);
      } else {
        options.fail && options.fail(status);
      }
    }
  };

  xhr.open("GET", options.url, true);
  xhr.send(null);
};

/***/ }),

/***/ "./src/background/utils/message.js":
/*!*****************************************!*\
  !*** ./src/background/utils/message.js ***!
  \*****************************************/
/*! exports provided: commands, notify, broadcast, sendMessageOrIgnore, forEachTab */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "commands", function() { return commands; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "notify", function() { return notify; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "broadcast", function() { return broadcast; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "sendMessageOrIgnore", function() { return sendMessageOrIgnore; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "forEachTab", function() { return forEachTab; });
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./src/common */ "./src/common/index.js");

const commands = {};
function notify(options) {
  browser.notifications.create(options.id || 'ViolentMonkey', {
    type: 'basic',
    iconUrl: _Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["defaultImage"],
    title: `${options.title} - ${Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["i18n"])('extName')}`,
    message: options.body,
    isClickable: options.isClickable
  });
}
function broadcast(data) {
  forEachTab(tab => {
    browser.tabs.sendMessage(tab.id, data).catch(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["noop"]);
  });
}
function sendMessageOrIgnore(...args) {
  return browser.runtime.sendMessage(...args).catch(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["noop"]);
}
async function forEachTab(callback) {
  const tabs = await browser.tabs.query({});
  let i = 0;

  for (const tab of tabs) {
    callback(tab);
    i += 1; // we'll run at most this many tabs in one event loop cycle
    // because hundreds of tabs would make our extension process unresponsive,
    // the same process used by our own pages like the background page, dashboard, or popups

    if (i % 20 === 0) await new Promise(setTimeout);
  }
}

/***/ }),

/***/ "./src/background/utils/notifications.js":
/*!***********************************************!*\
  !*** ./src/background/utils/notifications.js ***!
  \***********************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./src/common */ "./src/common/index.js");
/* harmony import */ var _message__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./message */ "./src/background/utils/message.js");


const openers = {};
Object.assign(_message__WEBPACK_IMPORTED_MODULE_1__["commands"], {
  /** @return {Promise<string>} */
  async Notification(data, src, bgExtras) {
    const notificationId = await browser.notifications.create({
      type: 'basic',
      title: data.title || (IS_FIREFOX ? Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["i18n"])('extName') : ''),
      // Chrome already shows the name
      message: data.text,
      iconUrl: data.image || _Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["defaultImage"]
    });
    openers[notificationId] = (bgExtras == null ? void 0 : bgExtras.onClick) || src.tab.id;
    return notificationId;
  },

  RemoveNotification(notificationId) {
    return browser.notifications.clear(notificationId);
  }

});
browser.notifications.onClicked.addListener(id => {
  const openerId = openers[id];

  if (openerId >= 0) {
    Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["sendTabCmd"])(openerId, 'NotificationClick', id);
  }

  if (typeof openerId === 'function') {
    openerId();
  }
});
browser.notifications.onClosed.addListener(id => {
  const openerId = openers[id];
  delete openers[id];

  if (openerId >= 0) {
    Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["sendTabCmd"])(openerId, 'NotificationClose', id);
  }
});

/***/ }),

/***/ "./src/background/utils/options.js":
/*!*****************************************!*\
  !*** ./src/background/utils/options.js ***!
  \*****************************************/
/*! exports provided: getOption, getDefaultOption, setOption, hookOptions */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getOption", function() { return getOption; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getDefaultOption", function() { return getDefaultOption; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setOption", function() { return setOption; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "hookOptions", function() { return hookOptions; });
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./src/common */ "./src/common/index.js");
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./src/common/object */ "./src/common/object.js");
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common_options_defaults__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./src/common/options-defaults */ "./src/common/options-defaults.js");
/* harmony import */ var _init__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./init */ "./src/background/utils/init.js");
/* harmony import */ var _message__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./message */ "./src/background/utils/message.js");





Object.assign(_message__WEBPACK_IMPORTED_MODULE_4__["commands"], {
  /** @return {Object} */
  GetAllOptions() {
    return _message__WEBPACK_IMPORTED_MODULE_4__["commands"].GetOptions(_Users_ZhaoJun_Desktop_violentmonkey_src_common_options_defaults__WEBPACK_IMPORTED_MODULE_2__["default"]);
  },

  /** @return {Object} */
  GetOptions(data) {
    return safeCall(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_1__["mapEntry"], data, ([key]) => getOption(key));
  },

  /** @return {void} */
  SetOptions(data) {
    Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["ensureArray"])(data).forEach(item => setOption(item.key, item.value));
  }

});
let changes = {};
const hooks = Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["initHooks"])();
const callHooksLater = Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["debounce"])(callHooks, 100);
let options = {};
let initPending = browser.storage.local.get('options').then(({
  options: data
}) => {
  if (data && typeof data === 'object') options = data;

  if (false) {}

  if (!Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_1__["objectGet"])(options, 'version')) {
    setOption('version', 1);
  }

  initPending = null;
});
_init__WEBPACK_IMPORTED_MODULE_3__["preInitialize"].push(initPending);

function fireChange(keys, value) {
  // Flattening key path so the subscribers can update nested values without overwriting the parent
  const key = keys.join('.'); // Ensuring the correct order when updates were mixed like this: foo.bar=1; foo={bar:2}; foo.bar=3

  delete changes[key];
  changes[key] = value;
  callHooksLater();
}

function callHooks() {
  hooks.fire(changes);
  changes = {};
}

function getOption(key, def) {
  const keys = Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["normalizeKeys"])(key);
  const mainKey = keys[0];
  let value = options[mainKey];
  if (value == null) value = _Users_ZhaoJun_Desktop_violentmonkey_src_common_options_defaults__WEBPACK_IMPORTED_MODULE_2__["default"][mainKey];
  if (value == null) value = def;
  return keys.length > 1 ? Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_1__["objectGet"])(value, keys.slice(1), def) : value;
}
function getDefaultOption(key) {
  return Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_1__["objectGet"])(_Users_ZhaoJun_Desktop_violentmonkey_src_common_options_defaults__WEBPACK_IMPORTED_MODULE_2__["default"], key);
}
function setOption(key, value) {
  if (initPending) {
    initPending.then(() => {
      setOption(key, value);
    });
    return;
  }

  const keys = Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["normalizeKeys"])(key);
  const optionKey = keys.join('.');
  let optionValue = value;
  const mainKey = keys[0];

  if (mainKey in _Users_ZhaoJun_Desktop_violentmonkey_src_common_options_defaults__WEBPACK_IMPORTED_MODULE_2__["default"]) {
    if (keys.length > 1) {
      optionValue = Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_1__["objectSet"])(getOption(mainKey), keys.slice(1), value);
    }

    options[mainKey] = optionValue;
    browser.storage.local.set({
      options
    });
    fireChange(keys, value);

    if (false) {}
  }
}
const hookOptions = hooks.hook;

/***/ }),

/***/ "./src/background/utils/patch-db.js":
/*!******************************************!*\
  !*** ./src/background/utils/patch-db.js ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _script__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./script */ "./src/background/utils/script.js");
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./src/common/storage */ "./src/common/storage.js");


/* harmony default export */ __webpack_exports__["default"] = (() => new Promise((resolve, reject) => {
  console.info('Upgrade database...');
  init();

  function init() {
    const req = indexedDB.open('Violentmonkey', 1);

    req.onsuccess = () => {
      try {
        transform(req.result);
      } catch (err) {
        // This should not happen, but did happen in Firefox.
        reject(err);
      }
    };

    req.onerror = reject;

    req.onupgradeneeded = () => {
      // No available upgradation
      reject();
    };
  }

  function transform(db) {
    const tx = db.transaction(['scripts', 'require', 'cache', 'values']);
    const updates = {};
    let processing = 3;

    const done = () => {
      processing -= 1;
      if (!processing) resolve(browser.storage.local.set(updates));
    };

    const getAll = (storeName, callback) => {
      const req = tx.objectStore(storeName).getAll();

      req.onsuccess = () => callback(req.result);

      req.onerror = reject;
    };

    getAll('scripts', allScripts => {
      const uriMap = {};
      allScripts.forEach(script => {
        const {
          code,
          id,
          uri
        } = script;
        updates[`${_Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_1__["default"].script.prefix}${id}`] = transformScript(script);
        updates[`${_Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_1__["default"].code.prefix}${id}`] = code;
        uriMap[uri] = id;
      });
      getAll('values', allValues => {
        allValues.forEach(({
          uri,
          values
        }) => {
          const id = uriMap[uri];
          if (id) updates[`${_Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_1__["default"].value.prefix}${id}`] = values;
        });
        done();
      });
    });
    getAll('cache', allCache => {
      allCache.forEach(({
        uri,
        data
      }) => {
        updates[`${_Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_1__["default"].cache.prefix}${uri}`] = data;
      });
      done();
    });
    getAll('require', allRequire => {
      allRequire.forEach(({
        uri,
        code
      }) => {
        updates[`${_Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_1__["default"].require.prefix}${uri}`] = code;
      });
      done();
    });
  }

  function transformScript(script) {
    return {
      meta: Object(_script__WEBPACK_IMPORTED_MODULE_0__["parseMeta"])(script.code),
      custom: Object.assign({
        origInclude: true,
        origExclude: true,
        origMatch: true,
        origExcludeMatch: true
      }, script.custom),
      props: {
        id: script.id,
        uri: script.uri,
        position: script.position
      },
      config: {
        enabled: script.enabled,
        shouldUpdate: script.update
      }
    };
  }
}) // Ignore error
.catch(() => {}));

/***/ }),

/***/ "./src/background/utils/popup-tracker.js":
/*!***********************************************!*\
  !*** ./src/background/utils/popup-tracker.js ***!
  \***********************************************/
/*! exports provided: popupTabs */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "popupTabs", function() { return popupTabs; });
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./src/common */ "./src/common/index.js");
/* harmony import */ var _cache__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./cache */ "./src/background/utils/cache.js");
/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./db */ "./src/background/utils/db.js");
/* harmony import */ var _init__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./init */ "./src/background/utils/init.js");
/* harmony import */ var _message__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./message */ "./src/background/utils/message.js");





const popupTabs = {}; // { tabId: 1 }

_init__WEBPACK_IMPORTED_MODULE_3__["postInitialize"].push(() => {
  browser.runtime.onConnect.addListener(onPopupOpened);
  browser.webRequest.onBeforeRequest.addListener(prefetchSetPopup, {
    urls: [browser.runtime.getURL(browser.runtime.getManifest().browser_action.default_popup)],
    types: ['main_frame']
  });
});

function onPopupOpened(port) {
  const tabId = +port.name;
  popupTabs[tabId] = 1;
  Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["sendTabCmd"])(tabId, 'PopupShown', true);
  port.onDisconnect.addListener(onPopupClosed);
  delete _message__WEBPACK_IMPORTED_MODULE_4__["commands"].SetPopup;
}

function onPopupClosed({
  name
}) {
  delete popupTabs[name];
  Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["sendTabCmd"])(+name, 'PopupShown', false);
}

async function prefetchSetPopup() {
  const tabId = (await Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["getActiveTab"])()).id;
  Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["sendTabCmd"])(tabId, 'PopupShown', true);

  _message__WEBPACK_IMPORTED_MODULE_4__["commands"].SetPopup = async (data, src) => {
    Object.assign(data, (await Object(_db__WEBPACK_IMPORTED_MODULE_2__["getData"])(data.ids)));
    _cache__WEBPACK_IMPORTED_MODULE_1__["default"].put('SetPopup', Object.assign({
      [src.frameId]: [data, src]
    }, _cache__WEBPACK_IMPORTED_MODULE_1__["default"].get('SetPopup')));
  };
}

/***/ }),

/***/ "./src/background/utils/preinject.js":
/*!*******************************************!*\
  !*** ./src/background/utils/preinject.js ***!
  \*******************************************/
/*! exports provided: getInjectedScripts */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getInjectedScripts", function() { return getInjectedScripts; });
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./src/common */ "./src/common/index.js");
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common_consts__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./src/common/consts */ "./src/common/consts.js");
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common_cache__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./src/common/cache */ "./src/common/cache.js");
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/common/object */ "./src/common/object.js");
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./src/common/storage */ "./src/common/storage.js");
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common_ua__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./src/common/ua */ "./src/common/ua.js");
/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./db */ "./src/background/utils/db.js");
/* harmony import */ var _init__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./init */ "./src/background/utils/init.js");
/* harmony import */ var _message__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./message */ "./src/background/utils/message.js");
/* harmony import */ var _options__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./options */ "./src/background/utils/options.js");










const API_CONFIG = {
  urls: ['*://*/*'],
  // `*` scheme matches only http and https
  types: ['main_frame', 'sub_frame']
};
const TIME_AFTER_SEND = 10e3; // longer as establishing connection to sites may take time

const TIME_AFTER_RECEIVE = 1e3; // shorter as response body will be coming very soon

const TIME_KEEP_DATA = 60e3; // 100ms should be enough but the tab may hang or get paused in debugger

const cacheCode = Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common_cache__WEBPACK_IMPORTED_MODULE_2__["default"])({
  lifetime: TIME_KEEP_DATA
});
const cache = Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common_cache__WEBPACK_IMPORTED_MODULE_2__["default"])({
  lifetime: TIME_KEEP_DATA,
  onDispose: async promise => {
    const data = await promise;
    const rcs = await (data == null ? void 0 : data.rcsPromise);
    rcs == null ? void 0 : rcs.unregister();
  }
});
const INJECT_INTO = 'injectInto'; // KEY_XXX for hooked options

const KEY_EXPOSE = 'expose';
const KEY_DEF_INJECT_INTO = 'defaultInjectInto';
const KEY_IS_APPLIED = 'isApplied';
const KEY_XHR_INJECT = 'xhrInject';
const expose = {};
let isApplied;
let injectInto;
let xhrInject;
Object(_options__WEBPACK_IMPORTED_MODULE_9__["hookOptions"])(onOptionChanged);
_init__WEBPACK_IMPORTED_MODULE_7__["postInitialize"].push(() => {
  for (const key of [KEY_EXPOSE, KEY_DEF_INJECT_INTO, KEY_IS_APPLIED, KEY_XHR_INJECT]) {
    onOptionChanged({
      [key]: Object(_options__WEBPACK_IMPORTED_MODULE_9__["getOption"])(key)
    });
  }
});
Object.assign(_message__WEBPACK_IMPORTED_MODULE_8__["commands"], {
  async InjectionFeedback({
    feedId,
    feedback,
    forceContent
  }, src) {
    feedback.forEach(processFeedback, src);

    if (feedId) {
      // cache cleanup when getDataFF outruns GetInjected
      cache.del(feedId.cacheKey); // envDelayed

      const env = await cache.pop(feedId.envKey);

      if (env) {
        env.forceContent = forceContent;
        env.scripts.map(prepareScript, env).filter(Boolean).forEach(processFeedback, src);
        return Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_3__["objectPick"])(env, ['cache', 'scripts']);
      }
    }
  }

});
/** @this {chrome.runtime.MessageSender} */

function processFeedback([key, needsInjection]) {
  const code = cacheCode.pop(key); // see TIME_KEEP_DATA comment

  if (needsInjection && code) {
    browser.tabs.executeScript(this.tab.id, {
      code,
      frameId: this.frameId,
      runAt: 'document_start'
    });
  }
}

const propsToClear = {
  [_Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__["default"].cache.prefix]: _db__WEBPACK_IMPORTED_MODULE_6__["ENV_CACHE_KEYS"],
  [_Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__["default"].code.prefix]: true,
  [_Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__["default"].require.prefix]: _db__WEBPACK_IMPORTED_MODULE_6__["ENV_REQ_KEYS"],
  [_Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__["default"].script.prefix]: true,
  [_Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__["default"].value.prefix]: _db__WEBPACK_IMPORTED_MODULE_6__["ENV_VALUE_IDS"]
};
browser.storage.onChanged.addListener(async changes => {
  const dbKeys = Object.keys(changes);
  const cacheValues = await Promise.all(cache.getValues());
  const dirty = cacheValues.some(data => data.inject && dbKeys.some(key => {
    var _data$prop;

    const prefix = key.slice(0, key.indexOf(':') + 1);
    const prop = propsToClear[prefix];
    key = key.slice(prefix.length);
    return prop === true || ((_data$prop = data[prop]) == null ? void 0 : _data$prop.includes(prefix === _Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__["default"].value.prefix ? +key : key));
  }));

  if (dirty) {
    cache.destroy();
  }
});

function normalizeRealm(value) {
  return safeCall(hasOwnProperty, _Users_ZhaoJun_Desktop_violentmonkey_src_common_consts__WEBPACK_IMPORTED_MODULE_1__["INJECT_MAPPING"], value) ? value : injectInto || _Users_ZhaoJun_Desktop_violentmonkey_src_common_consts__WEBPACK_IMPORTED_MODULE_1__["INJECT_AUTO"];
}

function onOptionChanged(changes) {
  safeCall(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_3__["forEachEntry"], changes, ([key, value]) => {
    switch (key) {
      case KEY_DEF_INJECT_INTO:
        injectInto = normalizeRealm(value);
        cache.destroy();
        break;

      case KEY_XHR_INJECT:
        toggleXhrInject(value);
        cache.destroy();
        break;

      case KEY_IS_APPLIED:
        togglePreinject(value);
        break;

      case KEY_EXPOSE:
        safeCall(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_3__["forEachEntry"], value, ([site, isExposed]) => {
          expose[decodeURIComponent(site)] = isExposed;
        });
        break;

      default:
        if (key.includes('.')) {
          // used by `expose.url`
          onOptionChanged(Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_3__["objectSet"])({}, key, value));
        }

    }
  });
}
/** @return {Promise<Object>} */


function getInjectedScripts(url, tabId, frameId, forceContent) {
  const key = getKey(url, !frameId);
  return cache.pop(key) || prepare(key, url, tabId, frameId, forceContent);
}

function getKey(url, isTop) {
  return isTop ? url : `-${url}`;
}

function togglePreinject(enable) {
  isApplied = enable; // Using onSendHeaders because onHeadersReceived in Firefox fires *after* content scripts.
  // And even in Chrome a site may be so fast that preinject on onHeadersReceived won't be useful.

  const onOff = `${enable ? 'add' : 'remove'}Listener`;
  const config = enable ? API_CONFIG : undefined;
  browser.webRequest.onSendHeaders[onOff](onSendHeaders, config);

  if (!isApplied || !xhrInject) {
    // will be registered in toggleXhrInject
    browser.webRequest.onHeadersReceived[onOff](onHeadersReceived, config);
  }

  cache.destroy();
}

function toggleXhrInject(enable) {
  xhrInject = enable;
  browser.webRequest.onHeadersReceived.removeListener(onHeadersReceived);

  if (enable) {
    browser.webRequest.onHeadersReceived.addListener(onHeadersReceived, API_CONFIG, ['blocking', 'responseHeaders', browser.webRequest.OnHeadersReceivedOptions.EXTRA_HEADERS].filter(Boolean));
  }
}

function onSendHeaders({
  url,
  tabId,
  frameId
}) {
  if (!_Users_ZhaoJun_Desktop_violentmonkey_src_common_consts__WEBPACK_IMPORTED_MODULE_1__["INJECTABLE_TAB_URL_RE"].test(url)) return;
  const isTop = !frameId;
  const key = getKey(url, isTop);

  if (!cache.has(key)) {
    // GetInjected message will be sent soon by the content script
    // and it may easily happen while getScriptsByURL is still waiting for browser.storage
    // so we'll let GetInjected await this pending data by storing Promise in the cache
    cache.put(key, prepare(key, url, tabId, frameId), TIME_AFTER_SEND);
  }
}
/** @param {chrome.webRequest.WebResponseHeadersDetails} info */


function onHeadersReceived(info) {
  const key = getKey(info.url, !info.frameId);
  const data = xhrInject && cache.get(key);
  cache.hit(key, TIME_AFTER_RECEIVE);
  return (data == null ? void 0 : data.inject) && prepareXhrBlob(info, data);
}
/**
 * @param {chrome.webRequest.WebResponseHeadersDetails} info
 * @param {VMGetInjectedDataContainer} data
 */


function prepareXhrBlob({
  url,
  responseHeaders
}, data) {
  if (url.startsWith('https:') && detectStrictCsp(responseHeaders)) {
    forceContentInjection(data);
  }

  const blobUrl = URL.createObjectURL(new Blob([JSON.stringify(data.inject)]));
  responseHeaders.push({
    name: 'Set-Cookie',
    value: `"${"Violentmonkey:R+X5rGSzcoI="}"=${blobUrl.split('/').pop()}; SameSite=Lax`
  });
  setTimeout(URL.revokeObjectURL, TIME_KEEP_DATA, blobUrl);
  return {
    responseHeaders
  };
}

function prepare(key, url, tabId, frameId, forceContent) {
  /** @namespace VMGetInjectedDataContainer */
  const res = {
    /** @namespace VMGetInjectedData */
    inject: {
      expose: !frameId && url.startsWith('https://') && expose[url.split('/', 3)[2]]
    }
  };
  return isApplied ? prepareScripts(res, key, url, tabId, frameId, forceContent) : res;
}

async function prepareScripts(res, cacheKey, url, tabId, frameId, forceContent) {
  const data = await Object(_db__WEBPACK_IMPORTED_MODULE_6__["getScriptsByURL"])(url, !frameId);
  const {
    envDelayed,
    scripts
  } = data;
  const isLate = forceContent != null;
  data.forceContent = forceContent;
  const feedback = scripts.map(prepareScript, data).filter(Boolean);
  const more = envDelayed.promise;
  const envKey = Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["getUniqId"])(`${tabId}:${frameId}:`);
  const {
    inject
  } = res;
  /** @namespace VMGetInjectedData */

  Object.assign(inject, {
    scripts,
    [INJECT_INTO]: injectInto,
    cache: data.cache,
    feedId: {
      cacheKey,
      // InjectionFeedback cache key for cleanup when getDataFF outruns GetInjected
      envKey // InjectionFeedback cache key for envDelayed

    },
    hasMore: !!more,
    // tells content bridge to expect envDelayed
    forceContent: forceContent || // Trying to skip page sandbox when xhrInject is on:
    feedback.length === scripts.length // ...when all `envStart` scripts are `content`,
    && envDelayed.scripts.every(scr => isContentRealm(scr, forceContent)) // and `envDelayed` too.
    ,
    ids: data.disabledIds,
    // content bridge adds the actually running ids and sends via SetPopup
    info: {
      ua: _Users_ZhaoJun_Desktop_violentmonkey_src_common_ua__WEBPACK_IMPORTED_MODULE_5__["default"]
    }
  });
  /** @namespace VMGetInjectedDataContainer */

  Object.assign(res, {
    feedback,
    valOpIds: [...data[_db__WEBPACK_IMPORTED_MODULE_6__["ENV_VALUE_IDS"]], ...envDelayed[_db__WEBPACK_IMPORTED_MODULE_6__["ENV_VALUE_IDS"]]],
    rcsPromise: !isLate && !xhrInject && IS_FIREFOX ? registerScriptDataFF(inject, url, !!frameId) : null
  });
  if (more) cache.put(envKey, more);
  cache.put(cacheKey, res); // necessary for the synchronous onHeadersReceived

  return res;
}
/** @this {VMScriptByUrlData} */


function prepareScript(script) {
  var _meta$require;

  const {
    custom,
    meta,
    props
  } = script;
  const {
    id
  } = props;
  const {
    forceContent,
    require,
    value
  } = this;
  const code = this.code[id];
  const dataKey = Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["getUniqId"])('VMin');
  const displayName = Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["getScriptName"])(script);
  const name = encodeURIComponent(displayName.replace(/[#&',/:;?@=+]/g, replaceWithFullWidthForm));
  const isContent = isContentRealm(script, forceContent);
  const pathMap = custom.pathMap || {};
  const reqs = (_meta$require = meta.require) == null ? void 0 : _meta$require.map(key => require[pathMap[key] || key]).filter(Boolean); // trying to avoid progressive string concatenation of potentially huge code slices
  // adding `;` on a new line in case some required script ends with a line comment

  const reqsSlices = reqs ? [].concat(...reqs.map(req => [req, '\n;'])) : [];
  const hasReqs = reqsSlices.length;
  const injectedCode = [// hiding module interface from @require'd scripts so they don't mistakenly use it
  `window.${dataKey}=function(${dataKey}){try{with(this)((define,module,exports)=>{`, ...reqsSlices, // adding a nested IIFE to support 'use strict' in the code when there are @requires
  hasReqs ? '(()=>{' : '', code, // adding a new line in case the code ends with a line comment
  code.endsWith('\n') ? '' : '\n', hasReqs ? '})()' : '', // 0 at the end to suppress errors about non-cloneable result of executeScript in FF
  `})()}catch(e){${dataKey}(e)}};0`, // Firefox lists .user.js among our own content scripts so a space at start will group them
  `\n//# sourceURL=${_init__WEBPACK_IMPORTED_MODULE_7__["extensionRoot"]}${IS_FIREFOX ? '%20' : ''}${name}.user.js#${id}`].join('');
  cacheCode.put(dataKey, injectedCode, TIME_KEEP_DATA);
  /** @namespace VMInjectedScript */

  Object.assign(script, {
    dataKey,
    displayName,
    // code will be `true` if the desired realm is PAGE which is not injectable
    code: isContent ? '' : forceContent || injectedCode,
    metaStr: code.match(_Users_ZhaoJun_Desktop_violentmonkey_src_common_consts__WEBPACK_IMPORTED_MODULE_1__["METABLOCK_RE"])[1] || '',
    values: value[id] || null
  });
  return isContent && [dataKey, true];
}

function replaceWithFullWidthForm(s) {
  // fullwidth range starts at 0xFF00, normal range starts at space char code 0x20
  return String.fromCharCode(s.charCodeAt(0) - 0x20 + 0xFF00);
}

const resolveDataCodeStr = `(${function _(data) {
  /* `function` is required to compile `this`, and `this` is required because our safe-globals
   * shadows `window` so its name is minified and hence inaccessible here */
  const {
    vmResolve
  } = this;

  if (vmResolve) {
    vmResolve(data);
  } else {
    // running earlier than the main content script for whatever reason
    this.vmData = data;
  }
}})`; // TODO: rework the whole thing to register scripts individually with real `matches`

function registerScriptDataFF(inject, url, allFrames) {
  var _browser$contentScrip;

  return (_browser$contentScrip = browser.contentScripts) == null ? void 0 : _browser$contentScrip.register({
    allFrames,
    js: [{
      code: `${resolveDataCodeStr}(${JSON.stringify(inject)})`
    }],
    matches: url.split('#', 1),
    runAt: 'document_start'
  });
}
/** @param {chrome.webRequest.HttpHeader[]} responseHeaders */


function detectStrictCsp(responseHeaders) {
  return responseHeaders.some(({
    name,
    value
  }) => /^content-security-policy$/i.test(name) && /^.(?!.*'unsafe-inline')/.test( // true if not empty and without 'unsafe-inline'
  value.match(/(?:^|;)\s*script-src-elem\s[^;]+/) || value.match(/(?:^|;)\s*script-src\s[^;]+/) || value.match(/(?:^|;)\s*default-src\s[^;]+/) || ''));
}
/** @param {VMGetInjectedDataContainer} data */


function forceContentInjection(data) {
  /** @type VMGetInjectedData */
  const inject = data.inject;
  inject.forceContent = true;
  inject.scripts.forEach(scr => {
    // When script wants `page`, the result below will be `true` so the script goes into `failedIds`
    scr.code = !isContentRealm(scr, true) || '';
    data.feedback.push([scr.dataKey, true]);
  });
}

function isContentRealm(scr, forceContent) {
  const realm = scr[INJECT_INTO] || (scr[INJECT_INTO] = normalizeRealm(scr.custom[INJECT_INTO] || scr.meta[INJECT_INTO]));
  return realm === _Users_ZhaoJun_Desktop_violentmonkey_src_common_consts__WEBPACK_IMPORTED_MODULE_1__["INJECT_CONTENT"] || forceContent && realm === _Users_ZhaoJun_Desktop_violentmonkey_src_common_consts__WEBPACK_IMPORTED_MODULE_1__["INJECT_AUTO"];
}

/***/ }),

/***/ "./src/background/utils/requests.js":
/*!******************************************!*\
  !*** ./src/background/utils/requests.js ***!
  \******************************************/
/*! exports provided: clearRequestsByTabId */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "clearRequestsByTabId", function() { return clearRequestsByTabId; });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/extends.js");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./src/common */ "./src/common/index.js");
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./src/common/object */ "./src/common/object.js");
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common_ua__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/common/ua */ "./src/common/ua.js");
/* harmony import */ var _cache__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./cache */ "./src/background/utils/cache.js");
/* harmony import */ var _script__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./script */ "./src/background/utils/script.js");
/* harmony import */ var _init__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./init */ "./src/background/utils/init.js");
/* harmony import */ var _message__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./message */ "./src/background/utils/message.js");
/* harmony import */ var _m3u8__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./m3u8 */ "./src/background/utils/m3u8.js");









const VM_VERIFY = 'VM-Verify';
const CONFIRM_URL_BASE = `${_init__WEBPACK_IMPORTED_MODULE_6__["extensionRoot"]}confirm/index.html#`;
/** @type {Object<string,VMHttpRequest>} */

const requests = {};
const downloads = {};
const verify = {};
const tabRequests = {};
const {
  chrome
} = global;
let encoder;

if (chrome) {
  chrome.downloads.onChanged.addListener(evt => {
    var _evt$state, _evt$state2;

    console.info('downloads onChanged', evt);
    if (!downloads[evt.id]) return;
    const {
      req,
      src
    } = downloads[evt.id];
    const {
      tab: {
        id: tabId
      },
      frameId
    } = src;

    if (((_evt$state = evt.state) == null ? void 0 : _evt$state.current) === 'complete') {
      Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["sendTabCmd"])(tabId, 'HttpRequested', {
        type: 'load',
        id: req.id,
        downloadId: evt.id
      }, {
        frameId
      });
    } else if (((_evt$state2 = evt.state) == null ? void 0 : _evt$state2.current) === 'interrupted') {
      Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["sendTabCmd"])(tabId, 'HttpRequested', {
        type: 'error',
        id: req.id,
        downloadId: evt.id
      }, {
        frameId
      });
    } else {
      return;
    }

    delete downloads[evt.id];
    delete requests[req.id];
  });
}

Object.assign(_message__WEBPACK_IMPORTED_MODULE_7__["commands"], {
  ConfirmInstall: confirmInstall,

  async CheckInstallerTab(tabId, src) {
    const tab = IS_FIREFOX && (src.url || '').startsWith('file:') && (await browser.tabs.get(tabId).catch(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["noop"]));
    return tab && (tab.pendingUrl || tab.url || '').startsWith(CONFIRM_URL_BASE);
  },

  /** @return {void} */
  HttpRequest(opts, src) {
    const {
      tab: {
        id: tabId
      },
      frameId
    } = src;
    const {
      id,
      eventsToNotify
    } = opts;
    console.info('req opts', opts);

    if (opts.type === 'm3u8') {
      const downloadId = id; // a fake one

      opts.onprogress = progress => {
        if (eventsToNotify == null ? void 0 : eventsToNotify.includes('progress')) {
          Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["sendTabCmd"])(tabId, 'HttpRequested', {
            type: 'progress',
            id,
            downloadId,
            progress
          }, {
            frameId
          });
        }
      };

      opts.onload = () => {
        Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["sendTabCmd"])(tabId, 'HttpRequested', {
          type: 'load',
          id,
          downloadId
        }, {
          frameId
        });
      };

      opts.onerror = error => {
        Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["sendTabCmd"])(tabId, 'HttpRequested', {
          type: 'error',
          id,
          downloadId,
          error
        }, {
          frameId
        });
      };

      return Object(_m3u8__WEBPACK_IMPORTED_MODULE_8__["downloadM3u8"])(opts);
    } // if (!opts.headers.Referer && !opts.headers['User-Agent']) {
    //   // console.info(opts);
    //   let headers = [];
    //   if (opts.headers) {
    //     headers = Object.keys(opts.headers).map(name => ({ name, value: opts.headers[name] }));
    //   }
    //   return chrome.downloads.download({
    //     url: opts.url,
    //     headers,
    //     filename: opts.fileName,
    //   }, downloadId => {
    //     requests[id] = { id, downloadId, tabId, eventsToNotify, xhr: null };
    //     downloads[downloadId] = { req: requests[id], opts, src };
    //     if (eventsToNotify?.includes('progress')) {
    //       sendTabCmd(tabId, 'HttpRequested', { type: 'progress', id, downloadId }, { frameId });
    //     }
    //   });
    // }


    requests[id] = {
      id,
      tabId,
      eventsToNotify,
      xhr: new XMLHttpRequest()
    };
    (tabRequests[tabId] || (tabRequests[tabId] = {}))[id] = 1;
    httpRequest(opts, src, res => requests[id] && Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["sendTabCmd"])(tabId, 'HttpRequested', res, {
      frameId
    }));
  },

  /** @return {void} */
  AbortRequest(id) {
    const req = requests[id];

    if (req) {
      // eslint-disable-next-line no-undef
      if (chrome) {
        // eslint-disable-next-line no-undef
        chrome.downloads.cancel(req.id);
        delete requests[req.id];
      } else {
        req.xhr.abort();
        clearRequest(req);
      }
    }
  },

  RevokeBlob(url) {
    const timer = _cache__WEBPACK_IMPORTED_MODULE_4__["default"].pop(`xhrBlob:${url}`);

    if (timer) {
      clearTimeout(timer);
      URL.revokeObjectURL(url);
    }
  }

});
const specialHeaders = ['user-agent', // https://developer.mozilla.org/en-US/docs/Glossary/Forbidden_header_name
// https://cs.chromium.org/?q=file:cc+symbol:IsForbiddenHeader%5Cb
'accept-charset', 'accept-encoding', 'access-control-request-headers', 'access-control-request-method', 'connection', 'content-length', 'cookie', 'cookie2', 'date', 'dnt', 'expect', 'host', 'keep-alive', 'origin', 'referer', 'te', 'trailer', 'transfer-encoding', 'upgrade', 'via']; // const tasks = {};

const HeaderInjector = (() => {
  /** @type chrome.webRequest.RequestFilter */
  const apiFilter = {
    urls: ['<all_urls>'],
    types: ['xmlhttprequest']
  };
  const EXTRA_HEADERS = [browser.webRequest.OnBeforeSendHeadersOptions.EXTRA_HEADERS].filter(Boolean);
  const headersToInject = {};
  /** @param {chrome.webRequest.HttpHeader} header */

  const isVmVerify = header => header.name === VM_VERIFY;

  const isNotCookie = header => !/^cookie2?$/i.test(header.name);

  const isSendable = header => header.name !== VM_VERIFY;

  const isSendableAnon = header => isSendable(header) && isNotCookie(header);

  const RE_SET_COOKIE = /^set-cookie2?$/i;
  const RE_SET_COOKIE_VALUE = /^\s*(?:__(Secure|Host)-)?([^=\s]+)\s*=\s*(")?([!#-+\--:<-[\]-~]*)\3(.*)/;
  const RE_SET_COOKIE_ATTR = /\s*;?\s*(\w+)(?:=(")?([!#-+\--:<-[\]-~]*)\2)?/y;
  const SAME_SITE_MAP = {
    strict: 'strict',
    lax: 'lax',
    none: 'no_restriction'
  };
  /**
   * @param {string} headerValue
   * @param {VMHttpRequest} req
   * @param {string} url
   */

  const setCookieInStore = (headerValue, req, url) => {
    let m = RE_SET_COOKIE_VALUE.exec(headerValue);

    if (m) {
      var _opt$sameSite;

      const [, prefix, name,, value, optStr] = m;
      const opt = {};
      const isHost = prefix === 'Host';
      RE_SET_COOKIE_ATTR.lastIndex = 0;

      while (m = RE_SET_COOKIE_ATTR.exec(optStr)) {
        opt[m[1].toLowerCase()] = m[3];
      }

      const sameSite = (_opt$sameSite = opt.sameSite) == null ? void 0 : _opt$sameSite.toLowerCase();
      browser.cookies.set({
        url,
        name,
        value,
        domain: isHost ? undefined : opt.domain,
        expirationDate: Math.max(0, +new Date(opt['max-age'] * 1000 || opt.expires)) || undefined,
        httpOnly: 'httponly' in opt,
        path: isHost ? '/' : opt.path,
        sameSite: SAME_SITE_MAP[sameSite],
        secure: url.startsWith('https:') && (!!prefix || sameSite === 'none' || 'secure' in opt),
        storeId: req.storeId
      });
    }
  };

  const apiEvents = {
    onBeforeSendHeaders: {
      options: ['requestHeaders', 'blocking', ...EXTRA_HEADERS],

      /** @param {chrome.webRequest.WebRequestHeadersDetails} details */
      listener({
        requestHeaders: headers,
        requestId
      }) {
        var _headers$find;

        // only the first call during a redirect/auth chain will have VM-Verify header
        const reqId = ((_headers$find = headers.find(isVmVerify)) == null ? void 0 : _headers$find.value) || verify[requestId];
        const req = reqId && requests[reqId];

        if (reqId && req) {
          verify[requestId] = reqId;
          req.coreId = requestId;
          headers = (req.noNativeCookie ? headers.filter(isNotCookie) : headers).concat(headersToInject[reqId] || []).filter(req.anonymous ? isSendableAnon : isSendable);
        }

        return {
          requestHeaders: headers
        };
      }

    },
    onHeadersReceived: {
      options: ['responseHeaders', 'blocking', ...EXTRA_HEADERS],

      /** @param {chrome.webRequest.WebRequestHeadersDetails} details */
      listener({
        responseHeaders: headers,
        requestId,
        url
      }) {
        const req = requests[verify[requestId]];

        if (req) {
          if (req.anonymous || req.storeId) {
            headers = headers.filter(h => !RE_SET_COOKIE.test(h.name) || !req.storeId || setCookieInStore(h.value, req, url));
          }

          req.responseHeaders = headers.map(encodeWebRequestHeader).join('');
          return {
            responseHeaders: headers
          };
        }
      }

    }
  }; // Chrome 74-91 needs an extraHeaders listener at tab load start, https://crbug.com/1074282
  // We're attaching a no-op in non-blocking mode so it's very lightweight and fast.

  if (_Users_ZhaoJun_Desktop_violentmonkey_src_common_ua__WEBPACK_IMPORTED_MODULE_3__["default"].chrome >= 74 && _Users_ZhaoJun_Desktop_violentmonkey_src_common_ua__WEBPACK_IMPORTED_MODULE_3__["default"].chrome <= 91) {
    browser.webRequest.onBeforeSendHeaders.addListener(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["noop"], apiFilter, ['extraHeaders']);
  }

  return {
    add(reqId, headers) {
      // need to set the entry even if it's empty [] so that 'if' check in del() runs only once
      headersToInject[reqId] = headers; // need the listener to get the requestId

      safeCall(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_2__["forEachEntry"], apiEvents, ([name, {
        listener,
        options
      }]) => {
        browser.webRequest[name].addListener(listener, apiFilter, options);
      });
    },

    del(reqId) {
      if (reqId in headersToInject) {
        delete headersToInject[reqId];

        if (Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["isEmpty"])(headersToInject)) {
          safeCall(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_2__["forEachEntry"], apiEvents, ([name, {
            listener
          }]) => {
            browser.webRequest[name].removeListener(listener);
          });
        }
      }
    }

  };
})();
/* 1MB takes ~20ms to encode/decode so it doesn't block the process of the extension and web page,
 * which lets us and them be responsive to other events or user input. */


const CHUNK_SIZE = 1e6;

async function blob2chunk(response, index) {
  return Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["blob2base64"])(response, index * CHUNK_SIZE, CHUNK_SIZE);
}

function blob2objectUrl(response) {
  const url = URL.createObjectURL(response);
  _cache__WEBPACK_IMPORTED_MODULE_4__["default"].put(`xhrBlob:${url}`, setTimeout(_message__WEBPACK_IMPORTED_MODULE_7__["commands"].RevokeBlob, 60e3, url), 61e3);
  return url;
}
/** @param {VMHttpRequest} req */


function xhrCallbackWrapper(req) {
  let lastPromise = Promise.resolve();
  let contentType;
  let dataSize;
  let numChunks;
  let response;
  let responseText;
  let responseHeaders;
  let sent = false;
  const {
    id,
    blobbed,
    chunked,
    xhr
  } = req; // Chrome encodes messages to UTF8 so they can grow up to 4x but 64MB is the message size limit

  const getChunk = blobbed && blob2objectUrl || chunked && blob2chunk;

  const getResponseHeaders = () => {
    const headers = req.responseHeaders || xhr.getAllResponseHeaders();

    if (responseHeaders !== headers) {
      responseHeaders = headers;
      return {
        responseHeaders
      };
    }
  };

  return evt => {
    const type = evt.type;

    if (!contentType) {
      contentType = xhr.getResponseHeader('Content-Type') || 'application/octet-stream';
    }

    if (xhr.response !== response) {
      response = xhr.response;
      sent = false;

      try {
        responseText = xhr.responseText;
        if (responseText === response) responseText = ['same'];
      } catch (e) {// ignore if responseText is unreachable
      }

      if ((blobbed || chunked) && response) {
        dataSize = response.size;
        numChunks = chunked && Math.ceil(dataSize / CHUNK_SIZE) || 1;
      }
    }

    const shouldNotify = req.eventsToNotify.includes(type); // only send response when XHR is complete

    const shouldSendResponse = xhr.readyState === 4 && shouldNotify && !sent;
    lastPromise = lastPromise.then(async () => {
      if (shouldSendResponse && blobbed && req.fileName && chrome) {
        sent = true;
        const blobUrl = URL.createObjectURL(response);
        return chrome.downloads.download({
          url: blobUrl,
          filename: req.fileName
        }, downloadId => {
          req.cb({
            blobbed,
            chunked,
            contentType,
            dataSize,
            id,
            type,
            data: {
              finalUrl: xhr.responseURL,
              response: '',
              responseText: downloadId
            }
          });
          URL.revokeObjectURL(blobUrl);
        });
      }

      await req.cb({
        blobbed,
        chunked,
        contentType,
        dataSize,
        id,
        numChunks,
        type,
        data: shouldNotify && _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
          finalUrl: xhr.responseURL
        }, getResponseHeaders(), {}, Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_2__["objectPick"])(xhr, ['readyState', 'status', 'statusText']), {}, 'loaded' in evt && Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_2__["objectPick"])(evt, ['lengthComputable', 'loaded', 'total']), {
          response: shouldSendResponse ? numChunks && (await getChunk(response, 0)) || response : null,
          responseText: shouldSendResponse ? responseText : null
        })
      });

      if (shouldSendResponse) {
        for (let i = 1; i < numChunks; i += 1) {
          await req.cb({
            id,
            chunk: {
              pos: i * CHUNK_SIZE,
              data: await getChunk(response, i),
              last: i + 1 === numChunks
            }
          });
        }
      }

      if (type === 'loadend') {
        clearRequest(req);
      }
    });
  };
}

function isSpecialHeader(lowerHeader) {
  return specialHeaders.includes(lowerHeader) || lowerHeader.startsWith('proxy-') || lowerHeader.startsWith('sec-');
}
/**
 * @param {Object} opts
 * @param {chrome.runtime.MessageSender | browser.runtime.MessageSender} src
 * @param {function} cb
 */


async function httpRequest(opts, src, cb) {
  const {
    tab
  } = src;
  const {
    incognito
  } = tab;
  const {
    anonymous,
    id,
    overrideMimeType,
    xhrType,
    url
  } = opts;
  const req = requests[id];
  if (!req || req.cb) return;
  req.cb = cb;
  req.fileName = opts.fileName;
  req.anonymous = anonymous;
  const {
    xhr
  } = req;
  const vmHeaders = []; // Firefox can send Blob/ArrayBuffer directly

  const chunked = !IS_FIREFOX && incognito;
  const blobbed = xhrType && !IS_FIREFOX && !incognito;
  const [body, contentType] = decodeBody(opts.data); // Chrome can't fetch Blob URL in incognito so we use chunks

  req.blobbed = blobbed;
  req.chunked = chunked; // Firefox doesn't send cookies, https://github.com/violentmonkey/violentmonkey/issues/606
  // Both Chrome & FF need explicit routing of cookies in containers or incognito

  let shouldSendCookies = !anonymous && (incognito || IS_FIREFOX);
  xhr.open(opts.method || 'GET', url, true, opts.user || '', opts.password || '');
  xhr.setRequestHeader(VM_VERIFY, id);
  if (contentType) xhr.setRequestHeader('Content-Type', contentType);
  safeCall(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_2__["forEachEntry"], opts.headers, ([name, value]) => {
    const lowerName = name.toLowerCase();

    if (isSpecialHeader(lowerName)) {
      vmHeaders.push({
        name,
        value
      });
    } else if (!lowerName.startsWith('vm-')) {
      // `VM-` headers are reserved
      xhr.setRequestHeader(name, value);
    }

    if (lowerName === 'cookie') {
      shouldSendCookies = false;
    }
  });
  xhr.responseType = (chunked || blobbed) && 'blob' || xhrType || 'text';
  xhr.timeout = Math.max(0, Math.min(0x7FFFFFFF, opts.timeout)) || 0;
  if (overrideMimeType) xhr.overrideMimeType(overrideMimeType);

  if (shouldSendCookies) {
    req.noNativeCookie = true;

    for (const store of await browser.cookies.getAllCookieStores()) {
      if (store.tabIds.includes(tab.id)) {
        if (IS_FIREFOX ? store.id !== 'firefox-default' : store.id !== '0') {
          /* Cookie routing. For the main store we rely on the browser.
           * The ids are hard-coded as `stores` may omit the main store if no such tabs are open. */
          req.storeId = store.id;
        }

        break;
      }
    }

    const now = Date.now() / 1000;
    const cookies = (await browser.cookies.getAll(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
      url,
      storeId: req.storeId
    }, _Users_ZhaoJun_Desktop_violentmonkey_src_common_ua__WEBPACK_IMPORTED_MODULE_3__["default"].firefox >= 59 && {
      firstPartyDomain: null
    }))).filter(c => c.session || c.expirationDate > now); // FF reports expired cookies!

    if (cookies.length) {
      vmHeaders.push({
        name: 'cookie',
        value: cookies.map(c => `${c.name}=${c.value};`).join(' ')
      });
    }
  }

  HeaderInjector.add(id, vmHeaders);
  const callback = xhrCallbackWrapper(req);
  req.eventsToNotify.forEach(evt => {
    xhr[`on${evt}`] = callback;
  });
  xhr.onloadend = callback; // always send it for the internal cleanup

  xhr.send(body);
}
/** @param {VMHttpRequest} req */


function clearRequest(req) {
  if (req.coreId) delete verify[req.coreId];
  delete requests[req.id];
  delete (tabRequests[req.tabId] || {})[req.id];
  HeaderInjector.del(req.id);
}
/** Polyfill for Chrome's inability to send complex types over extension messaging */


function decodeBody([body, type, wasBlob]) {
  if (type === 'query') {
    type = 'application/x-www-form-urlencoded';
  } else if (type) {
    // 5x times faster than fetch() which wastes time on inter-process communication
    const res = Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["string2uint8array"])(atob(body.slice(body.indexOf(',') + 1)));

    if (!wasBlob) {
      type = body.match(/^data:(.+?);base64/)[1].replace(/(boundary=)[^;]+/, // using a function so it runs only if "boundary" was found
      (_, p1) => p1 + String.fromCharCode(...res.slice(2, res.indexOf(13))));
    }

    body = res;
  }

  return [body, type];
} // Watch URL redirects
// browser.webRequest.onBeforeRedirect.addListener(details => {
//   const reqId = verify[details.requestId];
//   if (reqId) {
//     const req = requests[reqId];
//     if (req) req.finalUrl = details.redirectUrl;
//   }
// }, {
//   urls: ['<all_urls>'],
//   types: ['xmlhttprequest'],
// });
// tasks are not necessary now, turned off
// Stop redirects
// browser.webRequest.onHeadersReceived.addListener(details => {
//   const task = tasks[details.requestId];
//   if (task) {
//     delete tasks[details.requestId];
//     if (task === 'Get-Location' && [301, 302, 303].includes(details.statusCode)) {
//       const locationHeader = details.responseHeaders.find(
//         header => header.name.toLowerCase() === 'location');
//       const base64 = locationHeader && locationHeader.value;
//       return {
//         redirectUrl: `data:text/plain;charset=utf-8,${base64 || ''}`,
//       };
//     }
//   }
// }, {
//   urls: ['<all_urls>'],
//   types: ['xmlhttprequest'],
// }, ['blocking', 'responseHeaders']);
// browser.webRequest.onCompleted.addListener(details => {
//   delete tasks[details.requestId];
// }, {
//   urls: ['<all_urls>'],
//   types: ['xmlhttprequest'],
// });
// browser.webRequest.onErrorOccurred.addListener(details => {
//   delete tasks[details.requestId];
// }, {
//   urls: ['<all_urls>'],
//   types: ['xmlhttprequest'],
// });


async function confirmInstall({
  code,
  from,
  url
}, {
  tab = {}
}) {
  if (!code) code = (await Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["request"])(url)).data; // TODO: display the error in UI

  if (!Object(_script__WEBPACK_IMPORTED_MODULE_5__["isUserScript"])(code)) throw Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["i18n"])('msgInvalidScript');
  _cache__WEBPACK_IMPORTED_MODULE_4__["default"].put(url, code, 3000);
  const confirmKey = Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["getUniqId"])();
  const {
    active,
    id: tabId,
    incognito
  } = tab; // Not testing tab.pendingUrl because it will be always equal to `url`

  const canReplaceCurTab = (!incognito || IS_FIREFOX) && (url === from || _cache__WEBPACK_IMPORTED_MODULE_4__["default"].has(`autoclose:${tabId}`) || /^(chrome:\/\/(newtab|startpage)\/|about:(home|newtab))$/.test(from));
  /** @namespace VMConfirmCache */

  _cache__WEBPACK_IMPORTED_MODULE_4__["default"].put(`confirm-${confirmKey}`, {
    incognito,
    url,
    from,
    tabId,
    ff: _Users_ZhaoJun_Desktop_violentmonkey_src_common_ua__WEBPACK_IMPORTED_MODULE_3__["default"].firefox
  });
  const confirmUrl = CONFIRM_URL_BASE + confirmKey;
  const {
    windowId
  } = canReplaceCurTab ? await browser.tabs.update(tabId, {
    url: confirmUrl
  }) : await _message__WEBPACK_IMPORTED_MODULE_7__["commands"].TabOpen({
    url: confirmUrl,
    active: !!active
  }, {
    tab
  });

  if (active && windowId !== tab.windowId) {
    await browser.windows.update(windowId, {
      focused: true
    });
  }
}

const whitelistRe = new RegExp(`^https://(${['greasyfork\\.org/scripts/%/code/', 'openuserjs\\.org/install/%/', 'github\\.com/%/%/raw/%/', 'github\\.com/%/%/releases/%/download/', 'raw\\.githubusercontent\\.com(/%){3}/', 'gist\\.github\\.com/.*?/'].join('|')})%?\\.user\\.js([?#]|$)`.replace(/%/g, '[^/]*'));
const blacklistRe = new RegExp(`^https://(${['(gist\\.)?github\\.com', 'greasyfork\\.org', 'openuserjs\\.org'].join('|')})/`);

const resolveVirtualUrl = url => `${_init__WEBPACK_IMPORTED_MODULE_6__["extensionRoot"]}options/index.html#scripts/${+url.split('#')[1]}`; // FF can't intercept virtual .user.js URL via webRequest, so we redirect it explicitly


const virtualUrlRe = IS_FIREFOX && new RegExp(`^(view-source:)?(${_init__WEBPACK_IMPORTED_MODULE_6__["extensionRoot"].replace('://', '$&)?')}[^/]*\\.user\\.js#\\d+`);

const maybeRedirectVirtualUrlFF = virtualUrlRe && ((tabId, src) => {
  if (virtualUrlRe.test(src)) {
    browser.tabs.update(tabId, {
      url: resolveVirtualUrl(src)
    });
  }
});

if (virtualUrlRe) {
  const listener = (tabId, {
    url
  }) => url && maybeRedirectVirtualUrlFF(tabId, url);

  const apiEvent = browser.tabs.onUpdated;
  const addListener = apiEvent.addListener.bind(apiEvent, listener);

  try {
    addListener({
      properties: ['url']
    });
  } catch (e) {
    addListener();
  }
}

browser.tabs.onCreated.addListener(tab => {
  const {
    id,
    title,
    url
  } = tab;
  /* Determining if this tab can be auto-closed (replaced, actually).
     FF>=68 allows reading file: URL only in the tab's content script so the tab must stay open. */

  if ((!url.startsWith('file:') || _Users_ZhaoJun_Desktop_violentmonkey_src_common_ua__WEBPACK_IMPORTED_MODULE_3__["default"].firefox < 68) && /\.user\.js([?#]|$)/.test(tab.pendingUrl || url)) {
    _cache__WEBPACK_IMPORTED_MODULE_4__["default"].put(`autoclose:${id}`, true, 10e3);
  }

  if (virtualUrlRe && url === 'about:blank') {
    maybeRedirectVirtualUrlFF(id, title);
  }
});
browser.webRequest.onBeforeRequest.addListener(req => {
  const {
    method,
    tabId,
    url
  } = req;

  if (method !== 'GET') {
    return;
  } // open a real URL for simplified userscript URL listed in devtools of the web page


  if (url.startsWith(_init__WEBPACK_IMPORTED_MODULE_6__["extensionRoot"])) {
    return {
      redirectUrl: resolveVirtualUrl(url)
    };
  }

  if (!_cache__WEBPACK_IMPORTED_MODULE_4__["default"].has(`bypass:${url}`) && (!blacklistRe.test(url) || whitelistRe.test(url))) {
    maybeInstallUserJs(tabId, url);
    return {
      redirectUrl: 'javascript:void 0'
    }; // eslint-disable-line no-script-url
  }
}, {
  urls: [// 1. *:// comprises only http/https
  // 2. the API ignores #hash part
  // 3. Firefox: onBeforeRequest does not work with file:// or moz-extension://
  '*://*/*.user.js', '*://*/*.user.js?*', 'file://*/*.user.js', 'file://*/*.user.js?*', `${_init__WEBPACK_IMPORTED_MODULE_6__["extensionRoot"]}*.user.js`],
  types: ['main_frame']
}, ['blocking']);

async function maybeInstallUserJs(tabId, url) {
  const {
    data: code
  } = (await Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["request"])(url).catch(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["noop"])) || {};

  if (code && Object(_script__WEBPACK_IMPORTED_MODULE_5__["parseMeta"])(code).name) {
    const tab = tabId >= 0 && (await browser.tabs.get(tabId)) || {};
    confirmInstall({
      code,
      url,
      from: tab.url
    }, {
      tab
    });
  } else {
    _cache__WEBPACK_IMPORTED_MODULE_4__["default"].put(`bypass:${url}`, true, 10e3);
    if (tabId >= 0) browser.tabs.update(tabId, {
      url
    });
  }
} // In Firefox with production code of Violentmonkey, scripts can be injected before `tabs.onUpdated` is fired.
// Ref: https://github.com/violentmonkey/violentmonkey/issues/1255


browser.tabs.onRemoved.addListener(tabId => {
  clearRequestsByTabId(tabId);
});
function clearRequestsByTabId(tabId) {
  const set = tabRequests[tabId];

  if (set) {
    delete tabRequests[tabId];
    safeCall(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_2__["forEachEntry"], set, ([id]) => _message__WEBPACK_IMPORTED_MODULE_7__["commands"].AbortRequest(id));
  }
}
/**
 * Imitating https://developer.mozilla.org/docs/Web/API/XMLHttpRequest/getAllResponseHeaders
 * Per the specification https://tools.ietf.org/html/rfc7230 the header name is within ASCII,
 * but we'll try encoding it, if necessary, to handle invalid server responses.
 */

function encodeWebRequestHeader({
  name,
  value,
  binaryValue
}) {
  return `${string2byteString(name)}: ${binaryValue ? Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["buffer2string"])(binaryValue) : string2byteString(value)}\r\n`;
}
/**
 * Returns a UTF8-encoded binary string i.e. one byte per character.
 * Returns the original string in case it was already within ASCII.
 */


function string2byteString(str) {
  if (!/[\u0080-\uFFFF]/.test(str)) return str;
  if (!encoder) encoder = new TextEncoder();
  return Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["buffer2string"])(encoder.encode(str));
}
/** @typedef {{
  anonymous: boolean
  blobbed: boolean
  cb: function(Object)
  chunked: boolean
  coreId: number
  eventsToNotify: string[]
  id: number
  noNativeCookie: boolean
  responseHeaders: string
  storeId: string
  tabId: number
  xhr: XMLHttpRequest
}} VMHttpRequest */

/***/ }),

/***/ "./src/background/utils/script.js":
/*!****************************************!*\
  !*** ./src/background/utils/script.js ***!
  \****************************************/
/*! exports provided: isUserScript, parseMeta, getDefaultCustom, newScript, getNameURI */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isUserScript", function() { return isUserScript; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "parseMeta", function() { return parseMeta; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getDefaultCustom", function() { return getDefaultCustom; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "newScript", function() { return newScript; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getNameURI", function() { return getNameURI; });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/extends.js");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./src/common */ "./src/common/index.js");
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common_consts__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./src/common/consts */ "./src/common/consts.js");
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/common/object */ "./src/common/object.js");
/* harmony import */ var _message__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./message */ "./src/background/utils/message.js");
/* harmony import */ var _options__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./options */ "./src/background/utils/options.js");
/* harmony import */ var _cache__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./cache */ "./src/background/utils/cache.js");







Object.assign(_message__WEBPACK_IMPORTED_MODULE_4__["commands"], {
  /** @return {string} */
  CacheNewScript(data) {
    const id = Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["getUniqId"])();
    _cache__WEBPACK_IMPORTED_MODULE_6__["default"].put(`new-${id}`, newScript(data));
    return id;
  },

  /** @return {VMScript} */
  NewScript(id) {
    return id && _cache__WEBPACK_IMPORTED_MODULE_6__["default"].get(`new-${id}`) || newScript();
  },

  ParseMeta: parseMeta
});
function isUserScript(text) {
  if (/^\s*</.test(text)) return false; // HTML

  if (text.indexOf('// ==UserScript==') < 0) return false; // Lack of meta block

  return true;
}
const arrayType = {
  default: () => [],
  transform: (res, val) => {
    res.push(val);
    return res;
  }
};
const defaultType = {
  default: () => null,
  transform: (res, val) => res == null ? val : res
};
const metaTypes = {
  include: arrayType,
  exclude: arrayType,
  match: arrayType,
  excludeMatch: arrayType,
  require: arrayType,
  resource: {
    default: () => ({}),
    transform: (res, val) => {
      const pair = val.match(/^(\w\S*)\s+(.*)/);
      if (pair) res[pair[1]] = pair[2];
      return res;
    }
  },
  grant: arrayType,
  noframes: {
    default: () => false,
    transform: () => true
  }
};
const metaOptionalTypes = {
  antifeature: arrayType,
  compatible: arrayType,
  connect: arrayType
};
function parseMeta(code) {
  // initialize meta
  const meta = safeCall(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_3__["mapEntry"], metaTypes, ([, value]) => value.default());
  const metaBody = code.match(_Users_ZhaoJun_Desktop_violentmonkey_src_common_consts__WEBPACK_IMPORTED_MODULE_2__["METABLOCK_RE"])[1] || '';
  metaBody.replace(/(?:^|\n)\s*\/\/\x20(@\S+)(.*)/g, (_match, rawKey, rawValue) => {
    const [keyName, locale] = rawKey.slice(1).split(':');
    const camelKey = keyName.replace(/[-_](\w)/g, (m, g) => g.toUpperCase());
    const key = locale ? `${camelKey}:${locale.toLowerCase()}` : camelKey;
    const val = rawValue.trim();
    const metaType = metaTypes[key] || metaOptionalTypes[key] || defaultType;
    let oldValue = meta[key];
    if (typeof oldValue === 'undefined') oldValue = metaType.default();
    meta[key] = metaType.transform(oldValue, val);
  });
  meta.resources = meta.resource;
  delete meta.resource; // @homepageURL: compatible with @homepage

  if (!meta.homepageURL && meta.homepage) meta.homepageURL = meta.homepage;
  return meta;
}
function getDefaultCustom() {
  return {
    origInclude: true,
    origExclude: true,
    origMatch: true,
    origExcludeMatch: true
  };
}
function newScript(data) {
  const state = _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
    url: '*://*/*',
    name: '',
    date: new Date().toLocaleString()
  }, data);

  const code = Object(_options__WEBPACK_IMPORTED_MODULE_5__["getOption"])('scriptTemplate').replace(/{{(\w+)}}/g, (str, name) => {
    const value = state[name];
    return value == null ? str : value;
  });
  const script = {
    custom: getDefaultCustom(),
    config: {
      enabled: 1,
      shouldUpdate: 1
    },
    meta: parseMeta(code),
    props: {}
  };
  return {
    script,
    code
  };
}
function getNameURI(script) {
  const ns = script.meta.namespace || '';
  const name = script.meta.name || '';
  let nameURI = Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["encodeFilename"])(`${ns}\n${name}\n`);
  if (!ns && !name) nameURI += script.props.id || '';
  return nameURI;
}

/***/ }),

/***/ "./src/background/utils/search.js":
/*!****************************************!*\
  !*** ./src/background/utils/search.js ***!
  \****************************************/
/*! exports provided: loadQuery, dumpQuery */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "loadQuery", function() { return loadQuery; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "dumpQuery", function() { return dumpQuery; });
function loadQuery(string) {
  return string.split('&').reduce((data, piece) => {
    const [key, val] = piece.split('=').map(decodeURIComponent);
    data[key] = val;
    return data;
  }, {});
}
function dumpQuery(dict) {
  return Object.entries(dict).map(keyVal => keyVal.map(encodeURIComponent).join('=')).join('&');
}

/***/ }),

/***/ "./src/background/utils/storage-fetch.js":
/*!***********************************************!*\
  !*** ./src/background/utils/storage-fetch.js ***!
  \***********************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/extends.js");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./src/common */ "./src/common/index.js");
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./src/common/storage */ "./src/common/storage.js");



/** @type { function(url, options, check): Promise<void> } or throws on error */

_Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_2__["default"].cache.fetch = cacheOrFetch({
  init(options) {
    return _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, options, {
      responseType: 'blob'
    });
  },

  async transform(response, url, options, check) {
    const [type, body] = await _Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_2__["default"].cache.makeRaw(response, true);
    await (check == null ? void 0 : check(url, response.data, type));
    return `${type},${body}`;
  }

});
/** @type { function(url, options): Promise<void> } or throws on error */

_Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_2__["default"].require.fetch = cacheOrFetch({
  transform: ({
    data
  }, url) => /^\s*</.test(data) ? Promise.reject(`NOT_JS: ${url} "${data.slice(0, 100).trim().replace(/\s{2,}/g, ' ')}"`) : data
});

function cacheOrFetch(handlers = {}) {
  const requests = {};
  const {
    init,
    transform
  } = handlers;
  /** @this VMStorageBase */

  return function cacheOrFetchHandler(...args) {
    const [url] = args;
    const promise = requests[url] || (requests[url] = safeCall(doFetch, this, ...args));
    return promise;
  };
  /** @this VMStorageBase */

  async function doFetch(...args) {
    const [url, options] = args;

    try {
      const res = await Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["request"])(url, (init == null ? void 0 : init(options)) || options);

      if (await isModified(res, url)) {
        const result = transform ? await transform(res, ...args) : res.data;
        await this.set(url, result);
      }
    } catch (err) {
      if (false) {}
      throw err;
    } finally {
      delete requests[url];
    }
  }
}

async function isModified({
  headers
}, url) {
  const mod = headers.get('etag') || +new Date(headers.get('last-modified')) || +new Date(headers.get('date'));

  if (!mod || mod !== (await _Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_2__["default"].mod.getOne(url))) {
    if (mod) await _Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_2__["default"].mod.set(url, mod);
    return true;
  }
}

/***/ }),

/***/ "./src/background/utils/tabs.js":
/*!**************************************!*\
  !*** ./src/background/utils/tabs.js ***!
  \**************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/extends.js");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./src/common */ "./src/common/index.js");
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./src/common/object */ "./src/common/object.js");
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common_ua__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/common/ua */ "./src/common/ua.js");
/* harmony import */ var _init__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./init */ "./src/background/utils/init.js");
/* harmony import */ var _message__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./message */ "./src/background/utils/message.js");
/* harmony import */ var _options__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./options */ "./src/background/utils/options.js");







const openers = {};
Object.assign(_message__WEBPACK_IMPORTED_MODULE_5__["commands"], {
  /**
   * @param {string} [pathId] - path or id to add to #scripts route in dashboard,
     if absent a new script will be created for active tab's URL
   * @returns {Promise<{id: number}>}
   */
  async OpenEditor(pathId) {
    if (!pathId) {
      const {
        tab,
        domain
      } = await _message__WEBPACK_IMPORTED_MODULE_5__["commands"].GetTabDomain();
      const id = domain && _message__WEBPACK_IMPORTED_MODULE_5__["commands"].CacheNewScript({
        url: (tab.pendingUrl || tab.url).split(/[#?]/)[0],
        name: `${Object(_options__WEBPACK_IMPORTED_MODULE_6__["getOption"])('scriptTemplateEdited') ? '' : '- '}${domain}`
      });
      pathId = `_new${id ? `/${id}` : ''}`;
    }

    const url = `${_init__WEBPACK_IMPORTED_MODULE_4__["extensionRoot"]}options/index.html#scripts/${pathId}`; // Firefox until v56 doesn't support moz-extension:// pattern in browser.tabs.query()

    for (const view of browser.extension.getViews()) {
      if (view.location.href === url) {
        // deep-copying to avoid dead objects
        const tab = Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_2__["deepCopy"])((await view.browser.tabs.getCurrent()));
        browser.tabs.update(tab.id, {
          active: true
        });
        browser.windows.update(tab.windowId, {
          focused: true
        });
        return tab;
      }
    }

    return _message__WEBPACK_IMPORTED_MODULE_5__["commands"].TabOpen({
      url,
      maybeInWindow: true
    });
  },

  /** @return {Promise<{ id: number } | chrome.tabs.Tab>} new tab is returned for internal calls */
  async TabOpen({
    url,
    active = true,
    container,
    insert = true,
    maybeInWindow = false,
    pinned
  }, src = {}) {
    // src.tab may be absent when invoked from popup (e.g. edit/create buttons)
    const srcTab = src.tab || (await Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["getActiveTab"])()) || {}; // src.url may be absent when invoked directly as commands.TabOpen

    const srcUrl = src.url;
    const isInternal = !srcUrl || srcUrl.startsWith(_init__WEBPACK_IMPORTED_MODULE_4__["extensionRoot"]); // only incognito storeId may be specified when opening in an incognito window

    const {
      incognito,
      windowId
    } = srcTab; // Chrome can't open chrome-xxx: URLs in incognito windows

    let storeId = srcTab.cookieStoreId;

    if (storeId && !incognito) {
      storeId = getContainerId(isInternal ? 0 : container) || storeId;
    }

    if (storeId) storeId = {
      cookieStoreId: storeId
    }; // URL needs to be expanded for `canOpenIncognito` below

    if (!/^[-\w]+:/.test(url)) {
      url = isInternal ? browser.runtime.getURL(url) : Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["getFullUrl"])(url, srcUrl);
    }

    const canOpenIncognito = !incognito || IS_FIREFOX || !/^(chrome[-\w]*):/.test(url);
    let newTab;

    if (maybeInWindow && browser.windows && Object(_options__WEBPACK_IMPORTED_MODULE_6__["getOption"])('editorWindow')
    /* cookieStoreId in windows.create() is supported since FF64 https://bugzil.la/1393570
     * and a workaround is too convoluted to add it for such an ancient version */
    && (!storeId || _Users_ZhaoJun_Desktop_violentmonkey_src_common_ua__WEBPACK_IMPORTED_MODULE_3__["default"].firefox >= 64)) {
      const wndOpts = _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
        url,
        incognito: canOpenIncognito && incognito
      }, Object(_options__WEBPACK_IMPORTED_MODULE_6__["getOption"])('editorWindowSimple') && {
        type: 'popup'
      }, {}, !IS_FIREFOX && {
        focused: !!active
      }, {}, storeId);

      const pos = Object(_options__WEBPACK_IMPORTED_MODULE_6__["getOption"])('editorWindowPos');
      const hasPos = pos && 'top' in pos;
      const wnd = (await browser.windows.create(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, wndOpts, {}, pos)).catch(hasPos && _Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["noop"])) || hasPos && (await browser.windows.create(wndOpts));
      newTab = wnd.tabs[0];
    }

    if (!newTab) {
      newTab = await browser.tabs.create(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
        url,
        // normalizing as boolean because the API requires strict types
        active: !!active,
        pinned: !!pinned
      }, storeId, {}, canOpenIncognito && _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
        windowId
      }, insert && {
        index: srcTab.index + 1
      }, {}, _Users_ZhaoJun_Desktop_violentmonkey_src_common_ua__WEBPACK_IMPORTED_MODULE_3__["default"].openerTabIdSupported && {
        openerTabId: srcTab.id
      })));
    }

    const {
      id
    } = newTab;

    if (active && newTab.windowId !== windowId) {
      await browser.windows.update(newTab.windowId, {
        focused: true
      });
    }

    openers[id] = srcTab.id;
    return isInternal ? newTab : {
      id
    };
  },

  /** @return {void} */
  TabClose({
    id
  } = {}, src) {
    var _src$tab;

    const tabId = id || (src == null ? void 0 : (_src$tab = src.tab) == null ? void 0 : _src$tab.id);
    if (tabId >= 0) browser.tabs.remove(tabId);
  },

  TabFocus(_, src) {
    browser.tabs.update(src.tab.id, {
      active: true
    }).catch(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["noop"]);
    browser.windows.update(src.tab.windowId, {
      focused: true
    }).catch(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["noop"]);
  }

}); // Firefox Android does not support `openerTabId` field, it fails if this field is passed
// XXX openerTabId seems buggy on Chrome, https://crbug.com/967150
// It seems to do nothing even set successfully with `browser.tabs.update`.

_Users_ZhaoJun_Desktop_violentmonkey_src_common_ua__WEBPACK_IMPORTED_MODULE_3__["default"].ready.then(() => {
  Object.defineProperties(_Users_ZhaoJun_Desktop_violentmonkey_src_common_ua__WEBPACK_IMPORTED_MODULE_3__["default"], {
    openerTabIdSupported: {
      value: !IS_FIREFOX || _Users_ZhaoJun_Desktop_violentmonkey_src_common_ua__WEBPACK_IMPORTED_MODULE_3__["default"].firefox >= 57 && _Users_ZhaoJun_Desktop_violentmonkey_src_common_ua__WEBPACK_IMPORTED_MODULE_3__["default"].os !== 'android'
    }
  });
});
browser.tabs.onRemoved.addListener(id => {
  const openerId = openers[id];

  if (openerId >= 0) {
    Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["sendTabCmd"])(openerId, 'TabClosed', id);
    delete openers[id];
  }
});

function getContainerId(index) {
  return index === 0 && 'firefox-default' || index > 0 && `firefox-container-${index}`;
}

/***/ }),

/***/ "./src/background/utils/template-hook.js":
/*!***********************************************!*\
  !*** ./src/background/utils/template-hook.js ***!
  \***********************************************/
/*! exports provided: SCRIPT_TEMPLATE, resetScriptTemplate */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SCRIPT_TEMPLATE", function() { return SCRIPT_TEMPLATE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "resetScriptTemplate", function() { return resetScriptTemplate; });
/* harmony import */ var _init__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./init */ "./src/background/utils/init.js");
/* harmony import */ var _options__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./options */ "./src/background/utils/options.js");


const SCRIPT_TEMPLATE = 'scriptTemplate';
const SCRIPT_TEMPLATE_EDITED = `${SCRIPT_TEMPLATE}Edited`;
const INITIAL_TEMPLATE = `\
// ==UserScript==
// @name New Script
// @namespace Violentmonkey Scripts
// @match {{url}}
// @grant none
// ==/UserScript==
`;
_init__WEBPACK_IMPORTED_MODULE_0__["postInitialize"].push(() => {
  let edited = Object(_options__WEBPACK_IMPORTED_MODULE_1__["getOption"])(SCRIPT_TEMPLATE_EDITED); // Preserve an edited template

  if (edited) return;
  const template = Object(_options__WEBPACK_IMPORTED_MODULE_1__["getOption"])(SCRIPT_TEMPLATE); // When updating from an old version, set the edited flag retroactively

  if (edited == null) {
    edited = template !== INITIAL_TEMPLATE;
    if (edited) Object(_options__WEBPACK_IMPORTED_MODULE_1__["setOption"])(SCRIPT_TEMPLATE_EDITED, true);else resetScriptTemplate(); // When updating VM, update to the new default template
  } else if (template !== Object(_options__WEBPACK_IMPORTED_MODULE_1__["getDefaultOption"])(SCRIPT_TEMPLATE)) {
    resetScriptTemplate();
  }
});
function resetScriptTemplate(changes = {}) {
  const defaultTemplate = Object(_options__WEBPACK_IMPORTED_MODULE_1__["getDefaultOption"])(SCRIPT_TEMPLATE);
  let template = changes[SCRIPT_TEMPLATE];

  if (!template) {
    template = defaultTemplate;
    changes[SCRIPT_TEMPLATE] = template;
    Object(_options__WEBPACK_IMPORTED_MODULE_1__["setOption"])(SCRIPT_TEMPLATE, template);
  }

  const edited = template !== defaultTemplate;

  if (edited !== changes[SCRIPT_TEMPLATE_EDITED]) {
    changes[SCRIPT_TEMPLATE_EDITED] = edited;
    Object(_options__WEBPACK_IMPORTED_MODULE_1__["setOption"])(SCRIPT_TEMPLATE_EDITED, edited);
  }
}

/***/ }),

/***/ "./src/background/utils/tester.js":
/*!****************************************!*\
  !*** ./src/background/utils/tester.js ***!
  \****************************************/
/*! exports provided: testGlob, testMatch, testScript, testBlacklist, resetBlacklist */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "testGlob", function() { return testGlob; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "testMatch", function() { return testMatch; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "testScript", function() { return testScript; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "testBlacklist", function() { return testBlacklist; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "resetBlacklist", function() { return resetBlacklist; });
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common_tld__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./src/common/tld */ "./src/common/tld.js");
/* harmony import */ var _cache__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./cache */ "./src/background/utils/cache.js");
/* harmony import */ var _init__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./init */ "./src/background/utils/init.js");
/* harmony import */ var _message__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./message */ "./src/background/utils/message.js");
/* harmony import */ var _options__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./options */ "./src/background/utils/options.js");





Object.assign(_message__WEBPACK_IMPORTED_MODULE_3__["commands"], {
  TestBlacklist: testBlacklist
});
_init__WEBPACK_IMPORTED_MODULE_2__["postInitialize"].push(resetBlacklist);
_Users_ZhaoJun_Desktop_violentmonkey_src_common_tld__WEBPACK_IMPORTED_MODULE_0__["initTLD"](true);
const RE_MATCH_PARTS = /(.*?):\/\/([^/]*)\/(.*)/;
let blacklistRules = [];
Object(_options__WEBPACK_IMPORTED_MODULE_4__["hookOptions"])(changes => {
  if ('blacklist' in changes) resetBlacklist(changes.blacklist || '');
});
const RE_HTTP_OR_HTTPS = /^https?$/i;
/*
 Simple FIFO queue for the results of testBlacklist, cached separately from the main |cache|
 because the blacklist is updated only once in a while so its entries would be crowding
 the main cache and reducing its performance (objects with lots of keys are slow to access).

 We also don't need to auto-expire the entries after a timeout.
 The only limit we're concerned with is the overall memory used.
 The limit is specified in the amount of unicode characters (string length) for simplicity.
 Disregarding deduplication due to interning, the actual memory used is approximately twice as big:
 2 * keyLength + objectStructureOverhead * objectCount
*/

const MAX_BL_CACHE_LENGTH = 100e3;
let blCache = {};
let blCacheSize = 0;

function testRules(url, rules, prefix, ruleBuilder) {
  return rules.some(rule => {
    const key = `${prefix}:${rule}`;
    const matcher = _cache__WEBPACK_IMPORTED_MODULE_1__["default"].get(key) || _cache__WEBPACK_IMPORTED_MODULE_1__["default"].put(key, ruleBuilder(rule));
    return matcher.test(url);
  });
}
/**
 * Test glob rules like `@include` and `@exclude`.
 */


function testGlob(url, rules) {
  return testRules(url, rules, 're', autoReg);
}
/**
 * Test match rules like `@match` and `@exclude_match`.
 */

function testMatch(url, rules) {
  return testRules(url, rules, 'match', matchTester);
}
function testScript(url, script) {
  _cache__WEBPACK_IMPORTED_MODULE_1__["default"].batch(true);
  const {
    custom,
    meta
  } = script;
  const mat = mergeLists(custom.origMatch && meta.match, custom.match);
  const inc = mergeLists(custom.origInclude && meta.include, custom.include);
  const exc = mergeLists(custom.origExclude && meta.exclude, custom.exclude);
  const excMat = mergeLists(custom.origExcludeMatch && meta.excludeMatch, custom.excludeMatch); // match all if no @match or @include rule

  let ok = !mat.length && !inc.length; // @match

  ok = ok || testMatch(url, mat); // @include

  ok = ok || testGlob(url, inc); // @exclude-match

  ok = ok && !testMatch(url, excMat); // @exclude

  ok = ok && !testGlob(url, exc);
  _cache__WEBPACK_IMPORTED_MODULE_1__["default"].batch(false);
  return ok;
}

function mergeLists(...args) {
  return args.reduce((res, item) => item ? res.concat(item) : res, []);
}

function str2RE(str) {
  const re = str.replace(/([.?+[\]{}()|^$])/g, '\\$1').replace(/\*/g, '.*?');
  return re;
}

function bindRE(re) {
  return re.test.bind(re);
}

function autoReg(str) {
  // regexp mode: case-insensitive per GM documentation
  if (str.length > 1 && str[0] === '/' && str[str.length - 1] === '/') {
    let re;

    try {
      re = new RegExp(str.slice(1, -1), 'i');
    } catch (e) {
      /* ignore */
    }

    return {
      test: re ? bindRE(re) : () => false
    };
  } // glob mode: case-insensitive to match GM4 & Tampermonkey bugged behavior


  const reStr = str2RE(str.toLowerCase());

  if (_Users_ZhaoJun_Desktop_violentmonkey_src_common_tld__WEBPACK_IMPORTED_MODULE_0__["isReady"]() && str.includes('.tld/')) {
    const reTldStr = reStr.replace('\\.tld/', '((?:\\.[-\\w]+)+)/');
    return {
      test: tstr => {
        const matches = tstr.toLowerCase().match(reTldStr);

        if (matches) {
          const suffix = matches[1].slice(1);
          if (_Users_ZhaoJun_Desktop_violentmonkey_src_common_tld__WEBPACK_IMPORTED_MODULE_0__["getPublicSuffix"](suffix) === suffix) return true;
        }

        return false;
      }
    };
  }

  const re = new RegExp(`^${reStr}$`, 'i'); // String with wildcards

  return {
    test: bindRE(re)
  };
}

function matchScheme(rule, data) {
  // exact match
  if (rule === data) return 1; // * = http | https
  // support http*

  if (['*', 'http*'].includes(rule) && RE_HTTP_OR_HTTPS.test(data)) return 1;
  return 0;
}

const RE_STR_ANY = '(?:|.*?\\.)';
const RE_STR_TLD = '((?:\\.[-\\w]+)+)';

function hostMatcher(rule) {
  // * matches all
  if (rule === '*') {
    return () => 1;
  } // *.example.com
  // www.google.*
  // www.google.tld


  const ruleLC = rule.toLowerCase(); // host matching is case-insensitive

  let prefix = '';
  let base = ruleLC;
  let suffix = '';

  if (rule.startsWith('*.')) {
    base = base.slice(2);
    prefix = RE_STR_ANY;
  }

  if (_Users_ZhaoJun_Desktop_violentmonkey_src_common_tld__WEBPACK_IMPORTED_MODULE_0__["isReady"]() && rule.endsWith('.tld')) {
    base = base.slice(0, -4);
    suffix = RE_STR_TLD;
  }

  const re = new RegExp(`^${prefix}${str2RE(base)}${suffix}$`);
  return data => {
    // exact match, case-insensitive
    data = data.toLowerCase();
    if (ruleLC === data) return 1; // full check

    const matches = data.match(re);

    if (matches) {
      const [, tldStr] = matches;
      if (!tldStr) return 1;
      const tldSuffix = tldStr.slice(1);
      return _Users_ZhaoJun_Desktop_violentmonkey_src_common_tld__WEBPACK_IMPORTED_MODULE_0__["getPublicSuffix"](tldSuffix) === tldSuffix;
    }

    return 0;
  };
}

function pathMatcher(rule) {
  const iHash = rule.indexOf('#');
  let iQuery = rule.indexOf('?');
  let strRe = str2RE(rule);
  if (iQuery > iHash) iQuery = -1;

  if (iHash < 0) {
    if (iQuery < 0) strRe = `^${strRe}(?:[?#]|$)`;else strRe = `^${strRe}(?:#|$)`;
  }

  return bindRE(new RegExp(strRe));
}

function matchTester(rule) {
  let test;

  if (rule === '<all_urls>') {
    test = () => true;
  } else {
    const ruleParts = rule.match(RE_MATCH_PARTS);

    if (ruleParts) {
      const matchHost = hostMatcher(ruleParts[2]);
      const matchPath = pathMatcher(ruleParts[3]);

      test = url => {
        const parts = url.match(RE_MATCH_PARTS);
        return !!ruleParts && !!parts && matchScheme(ruleParts[1], parts[1]) && matchHost(parts[2]) && matchPath(parts[3]);
      };
    } else {
      // Ignore invalid match rules
      test = () => false;
    }
  }

  return {
    test
  };
}

function testBlacklist(url) {
  let res = blCache[url];

  if (res === undefined) {
    const rule = blacklistRules.find(({
      test
    }) => test(url));
    res = (rule == null ? void 0 : rule.reject) && rule.text;
    updateBlacklistCache(url, res || false);
  }

  return res;
}
function resetBlacklist(list) {
  _cache__WEBPACK_IMPORTED_MODULE_1__["default"].batch(true);
  const rules = list == null ? Object(_options__WEBPACK_IMPORTED_MODULE_4__["getOption"])('blacklist') : list;

  if (false) {} // XXX compatible with {Array} list in v2.6.1-


  blacklistRules = (Array.isArray(rules) ? rules : (rules || '').split('\n')).map(text => {
    text = text.trim();
    if (!text || text.startsWith('#')) return null;
    const mode = text.startsWith('@') && text.split(/\s/, 1)[0];
    const rule = mode ? text.slice(mode.length + 1).trim() : text;
    const reject = mode !== '@include' && mode !== '@match'; // @include and @match = whitelist

    const {
      test
    } = mode === '@include' || mode === '@exclude' && autoReg(rule) || !mode && !rule.includes('/') && matchTester(`*://${rule}/*`) // domain
    || matchTester(rule); // @match and @exclude-match

    return {
      reject,
      test,
      text
    };
  }).filter(Boolean);
  blCache = {};
  blCacheSize = 0;
  _cache__WEBPACK_IMPORTED_MODULE_1__["default"].batch(false);
}

function updateBlacklistCache(key, value) {
  blCache[key] = value;
  blCacheSize += key.length;

  if (blCacheSize > MAX_BL_CACHE_LENGTH) {
    Object.keys(blCache).some(k => {
      blCacheSize -= k.length;
      delete blCache[k]; // reduce the cache to 75% so that this function doesn't run too often.

      return blCacheSize < MAX_BL_CACHE_LENGTH * 3 / 4;
    });
  }
}

/***/ }),

/***/ "./src/background/utils/update.js":
/*!****************************************!*\
  !*** ./src/background/utils/update.js ***!
  \****************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./src/common */ "./src/common/index.js");
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common_consts__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./src/common/consts */ "./src/common/consts.js");
/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./db */ "./src/background/utils/db.js");
/* harmony import */ var _script__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./script */ "./src/background/utils/script.js");
/* harmony import */ var _options__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./options */ "./src/background/utils/options.js");
/* harmony import */ var _message__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./message */ "./src/background/utils/message.js");






Object.assign(_message__WEBPACK_IMPORTED_MODULE_5__["commands"], {
  /** @return {Promise<true?>} */
  async CheckUpdate(id) {
    const script = Object(_db__WEBPACK_IMPORTED_MODULE_2__["getScriptById"])(id);
    const results = await checkAllAndNotify([script]);
    return results[0];
  },

  /** @return {Promise<boolean>} */
  async CheckUpdateAll() {
    Object(_options__WEBPACK_IMPORTED_MODULE_4__["setOption"])('lastUpdate', Date.now());
    const toUpdate = Object(_db__WEBPACK_IMPORTED_MODULE_2__["getScripts"])().filter(item => item.config.shouldUpdate);
    const results = await checkAllAndNotify(toUpdate);
    return results.includes(true);
  }

});

async function checkAllAndNotify(scripts) {
  const notes = [];
  const results = await Promise.all(scripts.map(item => checkUpdate(item, notes)));

  if (notes.length === 1) {
    notify(notes[0]);
  } else if (notes.length) {
    notify({
      // FF doesn't show notifications of type:'list' so we'll use `text` everywhere
      text: notes.map(n => n.text).join('\n'),
      onClick: browser.runtime.openOptionsPage
    });
  }

  return results;
}

const processes = {}; // resolves to true if successfully updated

function checkUpdate(script, notes) {
  const {
    id
  } = script.props;
  const promise = processes[id] || (processes[id] = doCheckUpdate(script, notes));
  return promise;
}

async function doCheckUpdate(script, notes) {
  const {
    id
  } = script.props;
  let msgOk;
  let msgErr;
  let resourceOpts;

  try {
    const {
      update
    } = await Object(_db__WEBPACK_IMPORTED_MODULE_2__["parseScript"])({
      id,
      code: await downloadUpdate(script),
      update: {
        checking: false
      }
    });
    msgOk = Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["i18n"])('msgScriptUpdated', [Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["getScriptName"])(update)]);
    resourceOpts = {
      cache: 'no-cache'
    };
    return true;
  } catch (update) {
    msgErr = update.error; // Either proceed with normal fetch on no-update or skip it altogether on error

    resourceOpts = !update.error && !update.checking && {};
    if (false) {}
  } finally {
    if (resourceOpts && !_Users_ZhaoJun_Desktop_violentmonkey_src_common_consts__WEBPACK_IMPORTED_MODULE_1__["IS_DEV"]) {
      // DEVresource
      msgErr = await Object(_db__WEBPACK_IMPORTED_MODULE_2__["fetchResources"])(script, null, resourceOpts);
      if (false) {}
    }

    if (canNotify(script) && (msgOk || msgErr)) {
      notes.push({
        script,
        text: safeCall(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["trueJoin"], [msgOk, msgErr], '\n')
      });
    }

    delete processes[id];
  }
}

async function downloadUpdate({
  props: {
    id
  },
  meta,
  custom
}) {
  const downloadURL = custom.downloadURL || meta.downloadURL || custom.lastInstallURL;
  let updateURL = custom.updateURL || meta.updateURL || downloadURL;

  if (_Users_ZhaoJun_Desktop_violentmonkey_src_common_consts__WEBPACK_IMPORTED_MODULE_1__["IS_DEV"] && updateURL) {
    if (meta.dev) {
      const urls = updateURL.split('/');
      updateURL = `http://127.0.0.1:${meta.dev}/${urls[urls.length - 1]}`;
    } else {
      updateURL = null;
    } // console.info('downloadUpdate', id, updateURL);

  }

  if (!updateURL) throw false;
  let errorMessage;
  const update = {};
  const result = {
    update,
    where: {
      id
    }
  };
  announce(Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["i18n"])('msgCheckingForUpdate'));

  try {
    const {
      data
    } = await Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["request"])(updateURL, {
      // TODO: do a HEAD request first to get ETag header and compare to storage.mod
      cache: 'no-cache',
      headers: {
        Accept: 'text/x-userscript-meta,*/*'
      }
    });
    const {
      version
    } = Object(_script__WEBPACK_IMPORTED_MODULE_3__["parseMeta"])(data);

    if (_Users_ZhaoJun_Desktop_violentmonkey_src_common_consts__WEBPACK_IMPORTED_MODULE_1__["IS_DEV"]) {
      if (meta.version === version) throw false;
      console.info('update', meta.name, version, Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["compareVersion"])(meta.version, version));
      return data;
    }

    if (Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["compareVersion"])(meta.version, version) >= 0) {
      announce(Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["i18n"])('msgNoUpdate'), {
        checking: false
      });
    } else if (!downloadURL) {
      announce(Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["i18n"])('msgNewVersion'), {
        checking: false
      });
    } else {
      announce(Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["i18n"])('msgUpdating'));
      errorMessage = Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["i18n"])('msgErrorFetchingScript');
      return (await Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["request"])(downloadURL, {
        cache: 'no-cache'
      })).data;
    }
  } catch (error) {
    if (false) {}
    announce(errorMessage || Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["i18n"])('msgErrorFetchingUpdateInfo'), {
      error
    });
  }

  throw update;

  function announce(message, {
    error,
    checking = !error
  } = {}) {
    Object.assign(update, {
      message,
      checking,
      error: error ? `${Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["i18n"])('genericError')} ${error.status}, ${error.url}` : null // `null` is transferable in Chrome unlike `undefined`

    });
    Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["sendCmd"])(_Users_ZhaoJun_Desktop_violentmonkey_src_common_consts__WEBPACK_IMPORTED_MODULE_1__["CMD_SCRIPT_UPDATE"], result);
  }
}

function canNotify(script) {
  var _script$config$notify;

  const allowed = Object(_options__WEBPACK_IMPORTED_MODULE_4__["getOption"])('notifyUpdates');
  return Object(_options__WEBPACK_IMPORTED_MODULE_4__["getOption"])('notifyUpdatesGlobal') ? allowed : (_script$config$notify = script.config.notifyUpdates) != null ? _script$config$notify : allowed;
}

function notify({
  script,
  text,
  onClick = () => _message__WEBPACK_IMPORTED_MODULE_5__["commands"].OpenEditor(script.props.id)
}) {
  _message__WEBPACK_IMPORTED_MODULE_5__["commands"].Notification({
    text,
    // FF doesn't show the name of the extension in the title of the notification
    title: IS_FIREFOX ? `${Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["i18n"])('titleScriptUpdated')} - ${Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["i18n"])('extName')}` : ''
  }, undefined, {
    onClick
  });
}

/***/ }),

/***/ "./src/background/utils/values.js":
/*!****************************************!*\
  !*** ./src/background/utils/values.js ***!
  \****************************************/
/*! exports provided: resetValueOpener, addValueOpener */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "resetValueOpener", function() { return resetValueOpener; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "addValueOpener", function() { return addValueOpener; });
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./src/common */ "./src/common/index.js");
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./src/common/object */ "./src/common/object.js");
/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./db */ "./src/background/utils/db.js");
/* harmony import */ var _message__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./message */ "./src/background/utils/message.js");




const openers = {}; // { scriptId: { tabId: { frameId: 1, ... }, ... } }

let cache = {}; // { scriptId: { key: { last: value, tabId: { frameId: value } } } }

let updateScheduled;
Object.assign(_message__WEBPACK_IMPORTED_MODULE_3__["commands"], {
  /** @return {Promise<Object>} */
  async GetValueStore(id) {
    const stores = await Object(_db__WEBPACK_IMPORTED_MODULE_2__["getValueStoresByIds"])([id]);
    return stores[id] || {};
  },

  /** @param {{ where, store }[]} data
   * @return {Promise<void>} */
  async SetValueStores(data) {
    // Value store will be replaced soon.
    const stores = data.reduce((res, {
      where,
      store
    }) => {
      var _getScript;

      const id = where.id || ((_getScript = Object(_db__WEBPACK_IMPORTED_MODULE_2__["getScript"])(where)) == null ? void 0 : _getScript.props.id);
      if (id) res[id] = store;
      return res;
    }, {});
    await Promise.all([Object(_db__WEBPACK_IMPORTED_MODULE_2__["dumpValueStores"])(stores), broadcastValueStores(groupStoresByFrame(stores))]);
  },

  /** @return {void} */
  UpdateValue({
    id,
    key,
    value = null
  }, src) {
    Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_1__["objectSet"])(cache, [id, key, 'last'], value);
    Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_1__["objectSet"])(cache, [id, key, src.tab.id, src.frameId], value);
    updateLater();
  }

});
browser.tabs.onRemoved.addListener(resetValueOpener);
browser.tabs.onReplaced.addListener((addedId, removedId) => resetValueOpener(removedId));
function resetValueOpener(tabId) {
  safeCall(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_1__["forEachEntry"], openers, ([id, openerTabs]) => {
    if (tabId in openerTabs) {
      delete openerTabs[tabId];
      if (Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(openerTabs)) delete openers[id];
    }
  });
}
function addValueOpener(tabId, frameId, scriptIds) {
  scriptIds.forEach(id => {
    Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_1__["objectSet"])(openers, [id, tabId, frameId], 1);
  });
}

async function updateLater() {
  while (!updateScheduled) {
    updateScheduled = true;
    await 0;
    const currentCache = cache;
    cache = {};
    await doUpdate(currentCache);
    updateScheduled = false;
    if (Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(cache)) break;
  }
}

async function doUpdate(currentCache) {
  const ids = Object.keys(currentCache);
  const valueStores = await Object(_db__WEBPACK_IMPORTED_MODULE_2__["getValueStoresByIds"])(ids);
  ids.forEach(id => {
    safeCall(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_1__["forEachEntry"], currentCache[id], ([key, {
      last
    }]) => {
      Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_1__["objectSet"])(valueStores, [id, key], last || undefined);
    });
  });
  await Promise.all([Object(_db__WEBPACK_IMPORTED_MODULE_2__["dumpValueStores"])(valueStores), broadcastValueStores(groupCacheByFrame(currentCache), {
    partial: true
  })]);
}

async function broadcastValueStores(tabFrameData, {
  partial
} = {}) {
  const tasks = [];

  for (const [tabId, frames] of Object.entries(tabFrameData)) {
    for (const [frameId, frameData] of Object.entries(frames)) {
      if (!Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(frameData)) {
        if (partial) frameData.partial = true;
        tasks.push(Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["sendTabCmd"])(+tabId, 'UpdatedValues', frameData, {
          frameId: +frameId
        }));
        if (tasks.length === 20) await Promise.all(tasks.splice(0)); // throttling
      }
    }
  }

  await Promise.all(tasks);
} // Returns per tab/frame data with only the changed values


function groupCacheByFrame(cacheData) {
  const toSend = {};
  safeCall(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_1__["forEachEntry"], cacheData, ([id, scriptData]) => {
    const dataEntries = Object.entries(scriptData);
    safeCall(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_1__["forEachEntry"], openers[id], ([tabId, frames]) => {
      safeCall(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_1__["forEachKey"], frames, frameId => {
        dataEntries.forEach(([key, history]) => {
          var _history$tabId;

          // Skipping this frame if its last recorded value is identical
          if (history.last !== ((_history$tabId = history[tabId]) == null ? void 0 : _history$tabId[frameId])) {
            Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_1__["objectSet"])(toSend, [tabId, frameId, id, key], history.last);
          }
        });
      });
    });
  });
  return toSend;
} // Returns per tab/frame data


function groupStoresByFrame(stores) {
  const toSend = {};
  safeCall(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_1__["forEachEntry"], stores, ([id, store]) => {
    safeCall(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_1__["forEachEntry"], openers[id], ([tabId, frames]) => {
      safeCall(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_1__["forEachKey"], frames, frameId => {
        Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_1__["objectSet"])(toSend, [tabId, frameId, id], store);
      });
    });
  });
  return toSend;
}

/***/ }),

/***/ "./src/common/events.js":
/*!******************************!*\
  !*** ./src/common/events.js ***!
  \******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return EventEmitter; });
class EventEmitter {
  constructor(allowed) {
    this.events = {};
    this.allowed = allowed;
  }

  checkType(type) {
    if (this.allowed && !this.allowed.includes(type)) {
      throw new Error(`Unknown event type: ${type}`);
    }
  }

  on(type, handle) {
    this.checkType(type);
    const {
      events
    } = this;
    let handlers = events[type];

    if (!handlers) {
      handlers = [];
      events[type] = handlers;
    }

    return () => this.off(type, handle);
  }

  off(type, handle) {
    this.checkType(type);
    const handlers = this.events[type];

    if (handlers) {
      const i = handlers.indexOf(handle);
      if (i >= 0) handlers.splice(i, 1);
    }
  }

  emit(type, data) {
    this.checkType(type);
    const handlers = this.events[type];

    if (handlers) {
      const evt = {
        type,
        data,
        defaultPrevented: false,

        preventDefault() {
          evt.defaultPrevented = true;
        }

      };
      handlers.some(handle => {
        handle(evt);
        return evt.defaultPrevented;
      });
    }
  }

}

/***/ }),

/***/ "./src/common/tld.js":
/*!***************************!*\
  !*** ./src/common/tld.js ***!
  \***************************/
/*! exports provided: initTLD, isReady, getDomain, getSubdomain, getPublicSuffix */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "initTLD", function() { return initTLD; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isReady", function() { return isReady; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getDomain", function() { return getDomain; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getSubdomain", function() { return getSubdomain; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getPublicSuffix", function() { return getPublicSuffix; });
/* harmony import */ var tldjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tldjs */ "./node_modules/tldjs/index.js");
/* harmony import */ var tldjs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tldjs__WEBPACK_IMPORTED_MODULE_0__);
 // import { fromUserSettings } from 'tldjs';
// import Trie from 'tldjs/lib/suffix-trie';
// import { request } from '#/common';
// let tldjs;
// export function initTLD(remote) {
//   // TLD rules are too large to be packed, download them at runtime.
//   const url = 'https://violentmonkey.top/static/tld-rules.json';
//   const key = 'dat:tldRules';
//   browser.storage.local.get(key)
//   .then(({ [key]: tldRules }) => {
//     if (tldRules) return tldRules;
//     if (!remote) return Promise.reject('ignore TLD');
//     return request(url, { responseType: 'json' })
//     .then(({ data: rules }) => {
//       console.info('Downloaded public suffix data');
//       return browser.storage.local.set({ [key]: rules })
//       .then(() => rules);
//     });
//   })
//   .then(tldRules => {
//     console.info('Initialized TLD');
//     tldjs = fromUserSettings({ rules: Trie.fromJson(tldRules) });
//   })
//   .catch(err => {
//     if (process.env.DEBUG) console.error(err);
//     console.info('Failed initializing TLD');
//   });
// }

function initTLD() {}

function exportMethod(key) {
  return (...args) => tldjs__WEBPACK_IMPORTED_MODULE_0___default.a && tldjs__WEBPACK_IMPORTED_MODULE_0___default.a[key](...args);
}

function isReady() {
  return !!tldjs__WEBPACK_IMPORTED_MODULE_0___default.a;
}
const getDomain = exportMethod('getDomain');
const getSubdomain = exportMethod('getSubdomain');
const getPublicSuffix = exportMethod('getPublicSuffix');

/***/ })

/******/ });}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Jhc2U2NC1qcy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYnVmZmVyL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9pZWVlNzU0L2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9pc2FycmF5L2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9qYmluYXJ5L2Rpc3QvYnJvd3Nlci9qYmluYXJ5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9qZGF0YXZpZXcvZGlzdC9ub2RlL2pkYXRhdmlldy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbXBlZ3RzX3RvX21wNC9tcGVndHNfdG9fbXA0L2FkdHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21wZWd0c190b19tcDQvbXBlZ3RzX3RvX21wNC9oMjY0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tcGVndHNfdG9fbXA0L21wZWd0c190b19tcDQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21wZWd0c190b19tcDQvbXBlZ3RzX3RvX21wNC9tcDQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21wZWd0c190b19tcDQvbXBlZ3RzX3RvX21wNC9tcGVndHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21wZWd0c190b19tcDQvbXBlZ3RzX3RvX21wNC9wZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL25vZGUtbGlicy1icm93c2VyL25vZGVfbW9kdWxlcy9wdW55Y29kZS9wdW55Y29kZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcXVlcnlzdHJpbmctZXMzL2RlY29kZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcXVlcnlzdHJpbmctZXMzL2VuY29kZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcXVlcnlzdHJpbmctZXMzL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91cmwvdXJsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91cmwvdXRpbC5qcyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vbW9kdWxlLmpzIiwid2VicGFjazovLy8uL3NyYy9iYWNrZ3JvdW5kL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9iYWNrZ3JvdW5kL3BsdWdpbi9ldmVudHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2JhY2tncm91bmQvcGx1Z2luL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9iYWNrZ3JvdW5kL3N5bmMvYmFzZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYmFja2dyb3VuZC9zeW5jL2Ryb3Bib3guanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2JhY2tncm91bmQvc3luYy9nb29nbGVkcml2ZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYmFja2dyb3VuZC9zeW5jL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9iYWNrZ3JvdW5kL3N5bmMvb25lZHJpdmUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2JhY2tncm91bmQvc3luYy93ZWJkYXYuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2JhY2tncm91bmQvdXRpbHMvYWVzLWRlY3J5cHRvci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYmFja2dyb3VuZC91dGlscy9jYWNoZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYmFja2dyb3VuZC91dGlscy9jbGlwYm9hcmQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2JhY2tncm91bmQvdXRpbHMvZGIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2JhY2tncm91bmQvdXRpbHMvZXZlbnRzLmpzIiwid2VicGFjazovLy8uL3NyYy9iYWNrZ3JvdW5kL3V0aWxzL2hvdGtleXMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2JhY2tncm91bmQvdXRpbHMvaWNvbi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYmFja2dyb3VuZC91dGlscy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYmFja2dyb3VuZC91dGlscy9pbml0LmpzIiwid2VicGFjazovLy8uL3NyYy9iYWNrZ3JvdW5kL3V0aWxzL20zdTguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2JhY2tncm91bmQvdXRpbHMvbWVzc2FnZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYmFja2dyb3VuZC91dGlscy9ub3RpZmljYXRpb25zLmpzIiwid2VicGFjazovLy8uL3NyYy9iYWNrZ3JvdW5kL3V0aWxzL29wdGlvbnMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2JhY2tncm91bmQvdXRpbHMvcGF0Y2gtZGIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2JhY2tncm91bmQvdXRpbHMvcG9wdXAtdHJhY2tlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYmFja2dyb3VuZC91dGlscy9wcmVpbmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2JhY2tncm91bmQvdXRpbHMvcmVxdWVzdHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2JhY2tncm91bmQvdXRpbHMvc2NyaXB0LmpzIiwid2VicGFjazovLy8uL3NyYy9iYWNrZ3JvdW5kL3V0aWxzL3NlYXJjaC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYmFja2dyb3VuZC91dGlscy9zdG9yYWdlLWZldGNoLmpzIiwid2VicGFjazovLy8uL3NyYy9iYWNrZ3JvdW5kL3V0aWxzL3RhYnMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2JhY2tncm91bmQvdXRpbHMvdGVtcGxhdGUtaG9vay5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYmFja2dyb3VuZC91dGlscy90ZXN0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2JhY2tncm91bmQvdXRpbHMvdXBkYXRlLmpzIiwid2VicGFjazovLy8uL3NyYy9iYWNrZ3JvdW5kL3V0aWxzL3ZhbHVlcy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL2V2ZW50cy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL3RsZC5qcyJdLCJuYW1lcyI6WyJob29rT3B0aW9ucyIsImNoYW5nZXMiLCJhdXRvVXBkYXRlIiwiU0NSSVBUX1RFTVBMQVRFIiwicmVzZXRTY3JpcHRUZW1wbGF0ZSIsInNlbmRDbWQiLCJPYmplY3QiLCJhc3NpZ24iLCJjb21tYW5kcyIsIkdldERhdGEiLCJpZHMiLCJkYXRhIiwiZ2V0RGF0YSIsInN5bmMiLCJHZXRJbmplY3RlZCIsInVybCIsImZvcmNlQ29udGVudCIsInNyYyIsImZyYW1lSWQiLCJ0YWIiLCJ0YWJJZCIsImlkIiwicmVzZXRWYWx1ZU9wZW5lciIsImNsZWFyUmVxdWVzdHNCeVRhYklkIiwicmVzIiwiZ2V0SW5qZWN0ZWRTY3JpcHRzIiwiZmVlZGJhY2siLCJpbmplY3QiLCJ2YWxPcElkcyIsImlzUG9wdXBTaG93biIsInBvcHVwVGFicyIsImxlbmd0aCIsInNldFRpbWVvdXQiLCJJbmplY3Rpb25GZWVkYmFjayIsImFkZFZhbHVlT3BlbmVyIiwiR2V0VGFiRG9tYWluIiwiZ2V0QWN0aXZlVGFiIiwicGVuZGluZ1VybCIsImhvc3QiLCJtYXRjaCIsImRvbWFpbiIsInRsZCIsIlNldFRpbWVvdXQiLCJtcyIsIm1ha2VQYXVzZSIsImNvbW1hbmRzVG9TeW5jIiwiY29tbWFuZHNUb1N5bmNJZlRydXRoeSIsImhhbmRsZUNvbW1hbmRNZXNzYWdlIiwicmVxIiwiY21kIiwiaW5jbHVkZXMiLCJpbnRlcnZhbCIsIklTX0RFViIsImdldE9wdGlvbiIsIlRJTUVPVVRfMjRIT1VSUyIsImVsYXBzZWQiLCJEYXRlIiwibm93IiwiY2xlYXJUaW1lb3V0IiwidGltZXIiLCJNYXRoIiwibWluIiwiVElNRU9VVF9NQVgiLCJpbml0QnVpbGRpbiIsInJlcXVlc3QiLCJCVUlMRF9JTl9TQ1JJUFRfU1JDIiwiY2FjaGUiLCJoZWFkZXJzIiwiQWNjZXB0IiwiUGFyc2VTY3JpcHQiLCJjb2RlIiwiY3VzdG9tIiwiYnVpbGRJbiIsIndoZXJlIiwiaW5pdGlhbGl6ZSIsImdsb2JhbCIsImRlZXBDb3B5IiwiYnJvd3NlciIsInJ1bnRpbWUiLCJvbk1lc3NhZ2UiLCJhZGRMaXN0ZW5lciIsIklTX0ZJUkVGT1giLCJhcmdzIiwiY2F0Y2giLCJlIiwiUHJvbWlzZSIsInJlamVjdCIsIkVycm9yIiwiY29uc29sZSIsImluZm8iLCJjaGVja1JlbW92ZSIsInNldEludGVydmFsIiwiYXBpIiwiY2hyb21lIiwiZGVjbGFyYXRpdmVDb250ZW50Iiwib25QYWdlQ2hhbmdlZCIsImdldFJ1bGVzIiwicnVsZSIsIm5ld0lkIiwicHJvY2VzcyIsInJlbW92ZVJ1bGVzIiwiYWRkUnVsZXMiLCJjb25kaXRpb25zIiwiUGFnZVN0YXRlTWF0Y2hlciIsInBhZ2VVcmwiLCJ1cmxDb250YWlucyIsImFjdGlvbnMiLCJSZXF1ZXN0Q29udGVudFNjcmlwdCIsImpzIiwiZ2V0TWFuaWZlc3QiLCJjb250ZW50X3NjcmlwdHMiLCJFdmVudEVtaXR0ZXIiLCJzY3JpcHQiLCJ1cGRhdGUiLCJsaXN0IiwiZ2V0U2NyaXB0cyIsImdldCIsIkdldFNjcmlwdENvZGUiLCJyZW1vdmUiLCJNYXJrUmVtb3ZlZCIsInJlbW92ZWQiLCJzZXJ2aWNlTmFtZXMiLCJzZXJ2aWNlQ2xhc3NlcyIsInNlcnZpY2VzIiwiYXV0b1N5bmMiLCJkZWJvdW5jZSIsIlRJTUVPVVRfSE9VUiIsIndvcmtpbmciLCJyZXNvbHZlIiwic3luY0NvbmZpZyIsImdldEl0ZW1GaWxlbmFtZSIsIm5hbWUiLCJ1cmkiLCJpc1NjcmlwdEZpbGUiLCJ0ZXN0IiwiZ2V0VVJJIiwiaSIsImluZGV4T2YiLCJ2ZXJzaW9uIiwic2xpY2UiLCJzcGxpdCIsImRlY29kZVVSSUNvbXBvbmVudCIsImVyciIsImluaXRDb25maWciLCJrZXkiLCJkZWYiLCJrZXlzIiwibm9ybWFsaXplS2V5cyIsInVuc2hpZnQiLCJzZXQiLCJ2YWx1ZSIsInNldE9wdGlvbiIsImluaXQiLCJjb25maWciLCJzZXJ2aWNlQ29uZmlnIiwiZ2V0S2V5cyIsInZhbCIsImZvckVhY2hFbnRyeSIsImsiLCJ2IiwiY2xlYXIiLCJzZXJ2aWNlU3RhdGUiLCJ2YWxpZFN0YXRlcyIsImluaXRpYWxTdGF0ZSIsIm9uQ2hhbmdlIiwic3RhdGUiLCJuZXdTdGF0ZSIsIndhcm4iLCJpcyIsInN0YXRlcyIsImVuc3VyZUFycmF5IiwiZ2V0U3RhdGVzIiwibWFwIiwic2VydmljZSIsImRpc3BsYXlOYW1lIiwiYXV0aFN0YXRlIiwic3luY1N0YXRlIiwibGFzdFN5bmMiLCJwcm9ncmVzcyIsInByb3BlcnRpZXMiLCJ1c2VyQ29uZmlnIiwiZ2V0VXNlckNvbmZpZyIsImdldFNjcmlwdERhdGEiLCJzeW5jVmVyc2lvbiIsImV4dHJhIiwicHJvcHMiLCJvYmplY3RQaWNrIiwibW9yZSIsImVuYWJsZWQiLCJzaG91bGRVcGRhdGUiLCJsYXN0VXBkYXRlZCIsInBhcnNlU2NyaXB0RGF0YSIsInJhdyIsIm9iaiIsIkpTT04iLCJwYXJzZSIsIm9iamVjdFB1cmlmeSIsIkFycmF5IiwiaXNBcnJheSIsImZvckVhY2giLCJzZXJ2aWNlRmFjdG9yeSIsImJhc2UiLCJTZXJ2aWNlIiwiY29uc3RydWN0b3IiLCJwcm90b3R5cGUiLCJleHRlbmQiLCJleHRlbmRTZXJ2aWNlIiwib3B0aW9ucyIsImNyZWF0ZSIsIm9uU3RhdGVDaGFuZ2UiLCJCYXNlU2VydmljZSIsImRlbGF5VGltZSIsInVybFByZWZpeCIsIm1ldGFGaWxlIiwiYXV0aFR5cGUiLCJub29wIiwic2V0VXNlckNvbmZpZyIsImZpbmlzaGVkIiwidG90YWwiLCJsYXN0RmV0Y2giLCJzdGFydFN5bmMiLCJzeW5jRmFjdG9yeSIsImV2ZW50cyIsImdldEV2ZW50RW1pdHRlciIsImxvZyIsInByb21pc2UiLCJkZWJvdW5jZWRSZXNvbHZlIiwic2hvdWxkU3luYyIsImdldEN1cnJlbnQiLCJnZXRSZWFkeSIsInRoZW4iLCJlcnJvciIsInByZXBhcmVIZWFkZXJzIiwicHJlcGFyZSIsImluaXRUb2tlbiIsInVzZXIiLCJ0eXBlIiwiY2hlY2tTeW5jIiwiYWNxdWlyZUxvY2siLCJyZWxlYXNlTG9jayIsImhhbmRsZU1ldGFFcnJvciIsImdldE1ldGEiLCJ0b2tlbiIsIkF1dGhvcml6YXRpb24iLCJsb2FkRGF0YSIsImRlbGF5IiwidHMiLCJzdGFydHNXaXRoIiwicHJlZml4IiwiZ2V0TG9jYWxEYXRhIiwicGx1Z2luU2NyaXB0IiwiZ2V0U3luY0RhdGEiLCJyZW1vdGVNZXRhIiwiYWxsIiwicmVtb3RlRGF0YSIsImxvY2FsRGF0YSIsInJlbW90ZU1ldGFEYXRhIiwicmVtb3RlTWV0YUluZm8iLCJyZW1vdGVUaW1lc3RhbXAiLCJ0aW1lc3RhbXAiLCJyZW1vdGVDaGFuZ2VkIiwiZ2xvYmFsTGFzdE1vZGlmaWVkIiwicmVtb3RlSXRlbU1hcCIsImxvY2FsTWV0YSIsImZpcnN0U3luYyIsIm91dGRhdGVkIiwicHV0TG9jYWwiLCJwdXRSZW1vdGUiLCJkZWxSZW1vdGUiLCJkZWxMb2NhbCIsInVwZGF0ZUxvY2FsIiwicmVkdWNlIiwiaXRlbSIsIml0ZW1JbmZvIiwibW9kaWZpZWQiLCJwb3NpdGlvbiIsImxhc3RNb2RpZmllZCIsInJlbW90ZUluZm8iLCJyZW1vdGVJdGVtIiwicHVzaCIsImxvY2FsIiwicmVtb3RlIiwicHJvbWlzZVF1ZXVlIiwib2JqZWN0U2V0IiwicHV0Iiwic3RyaW5naWZ5IiwidXBkYXRlcyIsInVwZGF0ZVNjcmlwdEluZm8iLCJzb3J0U2NyaXB0cyIsImNoYW5nZWQiLCJzY3JpcHRzIiwicHJvbWlzZXMiLCJlcnJvcnMiLCJmaWx0ZXIiLCJCb29sZWFuIiwicmVnaXN0ZXIiLCJGYWN0b3J5IiwiZ2V0U2VydmljZSIsInN5bmNPbmUiLCJhdXRob3JpemUiLCJyZXZva2UiLCJzZXRDb25maWciLCJvcGVuQXV0aFBhZ2UiLCJyZWRpcmVjdFVyaSIsInVucmVnaXN0ZXJXZWJSZXF1ZXN0Iiwid2ViUmVxdWVzdCIsIm9uQmVmb3JlUmVxdWVzdCIsInVybHMiLCJ0eXBlcyIsInRhYnMiLCJjaGVja0F1dGgiLCJjYW5jZWwiLCJyZW1vdmVMaXN0ZW5lciIsImNsaWVudF9pZCIsInJlZGlyZWN0X3VyaSIsImVzY1JFIiwiZXNjRnVuYyIsIm0iLCJjaGFyQ29kZUF0IiwidG9TdHJpbmciLCJqc29uU3RyaW5naWZ5U2FmZSIsInN0cmluZyIsInJlcGxhY2UiLCJEcm9wYm94IiwibWV0aG9kIiwic3RhdHVzIiwiYm9keSIsInBhdGgiLCJyZXNwb25zZVR5cGUiLCJlbnRyaWVzIiwibm9ybWFsaXplIiwibW9kZSIsInBhcmFtcyIsInJlc3BvbnNlX3R5cGUiLCJkdW1wUXVlcnkiLCJhdXRob3JpemVkIiwibG9hZFF1ZXJ5IiwiYWNjZXNzX3Rva2VuIiwidWlkIiwic2l6ZSIsImNsaWVudF9zZWNyZXQiLCJzY29wZSIsIlVOQVVUSE9SSVpFRCIsIkdvb2dsZURyaXZlIiwicmVmcmVzaFRva2VuIiwicmVmcmVzaF90b2tlbiIsImdyYW50X3R5cGUiLCJyZXF1ZXN0VXNlciIsImFjY2Vzc190eXBlIiwibm90aWZ5IiwidGl0bGUiLCJvYmplY3RHZXQiLCJzcGFjZXMiLCJmaWVsZHMiLCJmaWxlcyIsIm1ldGFJdGVtIiwiZ290TWV0YSIsInByb21wdCIsImJvdW5kYXJ5IiwiZ2V0VW5pcUlkIiwibWV0YWRhdGEiLCJwYXJlbnRzIiwiam9pbiIsIlN5bmNBdXRob3JpemUiLCJTeW5jUmV2b2tlIiwiU3luY1N0YXJ0IiwiU3luY1NldENvbmZpZyIsIk9uZURyaXZlIiwiaGVhZGVyIiwiZmlsZSIsImVuY29kZVVSSUNvbXBvbmVudCIsInVzZXJfaWQiLCJLRVlfQ0hJTERSRU4iLCJTeW1ib2wiLCJYTm9kZSIsIm5vZGUiLCJuc01hcCIsInBhcnNlQXR0cnMiLCJwYXJzZU5hbWUiLCJmcm9tWE1MIiwieG1sIiwicGFyc2VyIiwiRE9NUGFyc2VyIiwiZG9jIiwicGFyc2VGcm9tU3RyaW5nIiwiYXR0cnMiLCJhdHRyaWJ1dGVzIiwiYXR0ciIsIiQiLCJub2RlVHlwZSIsInRhZ05hbWUiLCJucyIsInRleHQiLCJ0ZXh0Q29udGVudCIsInRyaW0iLCJjaGlsZHJlbiIsImNoaWxkIiwiY2FsbGJhY2siLCJnZXRDYWxsYmFjayIsImZpbmQiLCJERUZBVUxUX0NPTkZJRyIsInNlcnZlclVybCIsImFub255bW91cyIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJXZWJEQVYiLCJlbmRzV2l0aCIsIlVSTCIsImF1dGgiLCJ3aW5kb3ciLCJidG9hIiwiY2FsbCIsImNyZWRlbnRpYWxzIiwibWtkaXIiLCJyZWFkZGlyIiwiZGVwdGgiLCJpdGVtcyIsInByb3AiLCJkaXNwbGF5TmFtZU5vZGUiLCJ1bmRlZmluZWQiLCJocmVmIiwic3Vic3RyaW5nIiwibGFzdEluZGV4T2YiLCJsb2NrIiwiSWYiLCJyZW1vdmVQYWRkaW5nIiwiYnVmZmVyIiwib3V0cHV0Qnl0ZXMiLCJieXRlTGVuZ3RoIiwicGFkZGluZ0J5dGVzIiwiRGF0YVZpZXciLCJnZXRVaW50OCIsIkFFU0RlY3J5cHRvciIsInJjb24iLCJzdWJNaXgiLCJVaW50MzJBcnJheSIsImludlN1Yk1peCIsInNCb3giLCJpbnZTQm94IiwiaW5pdFRhYmxlIiwidWludDhBcnJheVRvVWludDMyQXJyYXlfIiwiYXJyYXlCdWZmZXIiLCJ2aWV3IiwibmV3QXJyYXkiLCJnZXRVaW50MzIiLCJzdWJNaXgwIiwic3ViTWl4MSIsInN1Yk1peDIiLCJzdWJNaXgzIiwiaW52U3ViTWl4MCIsImludlN1Yk1peDEiLCJpbnZTdWJNaXgyIiwiaW52U3ViTWl4MyIsImQiLCJ4IiwieGkiLCJzeCIsIngyIiwieDQiLCJ4OCIsInQiLCJleHBhbmRLZXkiLCJrZXlCdWZmZXIiLCJzYW1lS2V5Iiwib2Zmc2V0Iiwia2V5U2l6ZSIsImtzUm93cyIsImtzUm93IiwiaW52S3NSb3ciLCJrZXlTY2hlZHVsZSIsImludktleVNjaGVkdWxlIiwic2JveCIsInByZXYiLCJuZXR3b3JrVG9Ib3N0T3JkZXJTd2FwIiwid29yZCIsImRlY3J5cHQiLCJpbnB1dEFycmF5QnVmZmVyIiwiYWVzSVYiLCJyZW1vdmVQS0NTN1BhZGRpbmciLCJuUm91bmRzIiwiaW52U0JPWCIsImluaXRWZWN0b3IiLCJpbml0VmVjdG9yMCIsImluaXRWZWN0b3IxIiwiaW5pdFZlY3RvcjIiLCJpbml0VmVjdG9yMyIsImlucHV0SW50MzIiLCJJbnQzMkFycmF5Iiwib3V0cHV0SW50MzIiLCJ0MCIsInQxIiwidDIiLCJ0MyIsInMwIiwiczEiLCJzMiIsInMzIiwiaW5wdXRXb3JkczAiLCJpbnB1dFdvcmRzMSIsImlucHV0V29yZHMyIiwiaW5wdXRXb3JkczMiLCJzd2FwV29yZCIsImRlc3Ryb3kiLCJpbml0Q2FjaGUiLCJsaWZldGltZSIsIkNhY2hlTG9hZCIsIkNhY2hlSGl0IiwiaGl0IiwiQ2FjaGVQb3AiLCJwb3AiLCJ0ZXh0YXJlYSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImNsaXBib2FyZERhdGEiLCJTZXRDbGlwYm9hcmQiLCJmb2N1cyIsInJldCIsImV4ZWNDb21tYW5kIiwiYXBwZW5kQ2hpbGQiLCJhZGRFdmVudExpc3RlbmVyIiwicHJldmVudERlZmF1bHQiLCJzZXREYXRhIiwic3RvcmUiLCJzdG9yYWdlIiwic2V0RGF0YUNhY2hlIiwiZGF0YUNhY2hlIiwib25EdW1wIiwic2NyaXB0TWFwIiwiQ2hlY2tQb3NpdGlvbiIsIkNoZWNrUmVtb3ZlIiwiR2V0U2NyaXB0IiwiZ2V0U2NyaXB0IiwiRXhwb3J0WmlwIiwidmFsdWVzIiwiZ2V0UHJvcHNJZCIsImNvZGVNYXAiLCJnZXRNdWx0aSIsImdldE9uZSIsIkdldFNjcmlwdFZlciIsIm9wdHMiLCJtZXRhIiwiTW92ZSIsImdldFNjcmlwdEJ5SWQiLCJpbmRleCIsInNwbGljZSIsIm5vcm1hbGl6ZVBvc2l0aW9uIiwiUmVtb3ZlU2NyaXB0IiwiUGFyc2VNZXRhIiwicGFyc2VNZXRhIiwicGFyc2VTY3JpcHQiLCJVcGRhdGVTY3JpcHRJbmZvIiwiVmFjdXVtIiwidmFjdXVtIiwicHJlSW5pdGlhbGl6ZSIsImxhc3RWZXJzaW9uIiwicGF0Y2hEQiIsInN0b3JlSW5mbyIsImlkTWFwIiwidXJpTWFwIiwibW9kcyIsInJlc1VybHMiLCJyZW1lbWJlclVybCIsIl8iLCJnZXRJbnQiLCJnZXROYW1lVVJJIiwiZ2V0RGVmYXVsdEN1c3RvbSIsIm1heCIsInBhdGhNYXAiLCJncmFudCIsIlNldCIsInJlcXVpcmUiLCJyZXNvdXJjZXMiLCJpY29uIiwibW9kIiwicmVtb3ZlTXVsdGkiLCJkZWZhdWx0SW5qZWN0SW50byIsIklOSkVDVF9QQUdFIiwiY29tcGFyZVZlcnNpb24iLCJJTkpFQ1RfQVVUTyIsInVwZGF0ZUxhc3RNb2RpZmllZCIsImR1bXAiLCJzb3J0IiwiYSIsImIiLCJnZXRWYWx1ZVN0b3Jlc0J5SWRzIiwiZHVtcFZhbHVlU3RvcmVzIiwidmFsdWVEaWN0IiwiRU5WX0NBQ0hFX0tFWVMiLCJFTlZfUkVRX0tFWVMiLCJFTlZfVkFMVUVfSURTIiwiR01WQUxVRVNfUkUiLCJSVU5fQVRfUkUiLCJnZXRTY3JpcHRzQnlVUkwiLCJpc1RvcCIsImFsbFNjcmlwdHMiLCJ0ZXN0QmxhY2tsaXN0Iiwibm9mcmFtZXMiLCJ0ZXN0U2NyaXB0IiwiZGlzYWJsZWRJZHMiLCJlbnZTdGFydCIsImVudkRlbGF5ZWQiLCJidWlsZFBhdGhNYXAiLCJydW5BdCIsImVudiIsInNvbWUiLCJyZWFkRW52aXJvbm1lbnREYXRhIiwiU1RPUkFHRV9ST1VURVMiLCJyZXRyaWVkU3RvcmFnZUtleXMiLCJpc1JldHJ5IiwiYXJlYSIsInNyY0lkcyIsImdldEtleSIsImVycjIiLCJnZXRJY29uQ2FjaGUiLCJpY29uVXJscyIsImlzUmVtb3RlIiwibWFrZURhdGFVcmkiLCJmb3JjZSIsInRvUmVtb3ZlIiwiVElNRU9VVF9XRUVLIiwiZ2V0VVVJRCIsInJuZCIsIlVpbnQxNkFycmF5IiwiY3J5cHRvIiwiZ2V0UmFuZG9tVmFsdWVzIiwic2F2ZVNjcmlwdCIsIm9sZFNjcmlwdCIsInV1aWQiLCJyYW5kb21VVUlEIiwiaTE4biIsIkNNRF9TQ1JJUFRfVVBEQVRFIiwicmVzdWx0IiwibWVzc2FnZSIsImlzTmV3IiwibmV3U2NyaXB0IiwiQ01EX1NDUklQVF9BREQiLCJob21lcGFnZVVSTCIsImZyb20iLCJsYXN0SW5zdGFsbFVSTCIsImZldGNoUmVzb3VyY2VzIiwicGx1Z2luRXZlbnRzIiwiZW1pdCIsImJhc2VVcmwiLCJmdWxsVXJsIiwiZ2V0RnVsbFVybCIsInJlc291cmNlQ2FjaGUiLCJyZXFPcHRpb25zIiwic25hdGNoIiwidmFsaWRhdG9yIiwiY29udGVudHMiLCJmZXRjaCIsInZhbGlkYXRlSW1hZ2UiLCJpZ25vcmVEZXBzRXJyb3JzIiwidHJ1ZUpvaW4iLCJmb3JtYXRIdHRwRXJyb3IiLCJidWYiLCJibG9iVXJsIiwiY3JlYXRlT2JqZWN0VVJMIiwiQmxvYiIsIm9uRG9uZSIsInJldm9rZU9iamVjdFVSTCIsImltYWdlIiwiSW1hZ2UiLCJvbmxvYWQiLCJvbmVycm9yIiwiX3ZhY3V1bWluZyIsIm51bUZpeGVzIiwicmVzb2x2ZVNlbGYiLCJyIiwidG9GZXRjaCIsImtleXNUb1JlbW92ZSIsInZhbHVlS2V5cyIsImNhY2hlS2V5cyIsInJlcXVpcmVLZXlzIiwiY29kZUtleXMiLCJtYXBwaW5ncyIsImZvckVhY2hLZXkiLCJzdWJzdG9yZSIsInRvdWNoIiwic2NyaXB0SWQiLCJmb3JFYWNoVmFsdWUiLCJnZXRTY3JpcHROYW1lIiwiZml4ZXMiLCJvbiIsIm9mZiIsImZpcmUiLCJmdW5jIiwicG9zdEluaXRpYWxpemUiLCJvbkNvbW1hbmQiLCJPcGVuRWRpdG9yIiwicm91dGUiLCJUYWJPcGVuIiwiQ0FDSEVfRFVSQVRJT04iLCJHZXRJbWFnZURhdGEiLCJsb2FkSW1hZ2VEYXRhIiwiYmFzZTY0IiwiU2V0QmFkZ2UiLCJzZXRCYWRnZSIsImJyb3dzZXJBY3Rpb24iLCJpZ25vcmVFcnJvcnMiLCJsYXN0RXJyb3IiLCJtYWtlTWV0aG9kIiwiZm4iLCJiYWRnZXMiLCJLRVlfSVNfQVBQTElFRCIsIktFWV9TSE9XX0JBREdFIiwiS0VZX0JBREdFX0NPTE9SIiwiS0VZX0JBREdFX0NPTE9SX0JMT0NLRUQiLCJpc0FwcGxpZWQiLCJzaG93QmFkZ2UiLCJiYWRnZUNvbG9yIiwiYmFkZ2VDb2xvckJsb2NrZWQiLCJ0aXRsZUJsYWNrbGlzdGVkIiwidGl0bGVOb25pbmplY3RhYmxlIiwiaWNvbkNhY2hlIiwiam9icyIsInNldEljb24iLCJ1cGRhdGVCYWRnZSIsInVwZGF0ZUJhZGdlQ29sb3IiLCJ1cGRhdGVTdGF0ZSIsImZvckVhY2hUYWIiLCJvblJlbW92ZWQiLCJvblVwZGF0ZWQiLCJmYXZJY29uVXJsIiwidW5pcXVlIiwic2V0QmFkZ2VUZXh0Iiwic2V0QmFkZ2VCYWNrZ3JvdW5kQ29sb3IiLCJjb2xvciIsImJsb2NrZWQiLCJpbmplY3RhYmxlIiwiSU5KRUNUQUJMRV9UQUJfVVJMX1JFIiwiYmxhY2tsaXN0ZWQiLCJzZXRUaXRsZSIsImljb25EYXRhIiwibiIsImltZyIsIndpZHRoIiwiaGVpZ2h0IiwiY2FudmFzIiwiY3R4IiwiZ2V0Q29udGV4dCIsImRyYXdJbWFnZSIsInRvRGF0YVVSTCIsImdldEltYWdlRGF0YSIsImV4dGVuc2lvblJvb3QiLCJnZXRVUkwiLCJtYWluIiwicnVuIiwidHNMaXN0Iiwic3RhdHVzTGlzdCIsIm1lZGlhRmlsZUxpc3QiLCJBRVMiLCJpdiIsImRlY3J5cHRvciIsInN0cmluZ1RvQnVmZmVyIiwic3RyIiwiVGV4dEVuY29kZXIiLCJlbmNvZGUiLCJkb3dubG9hZE0zdTgiLCJtM3U4IiwibGltaXQiLCJsaW5lIiwidG9Mb3dlckNhc2UiLCJ0c1VybCIsImdldEFFUyIsImRvd25sb2FkVFMiLCJhamF4Iiwic3VjY2VzcyIsImZhaWwiLCJ0c1VyaSIsImJhc2VVUkwiLCJkZWNyeXB0VHMiLCJVaW50OEFycmF5IiwicmV0cnkiLCJkb3dubG9hZCIsInByb2NMaXN0IiwicyIsImRlYWxUUyIsIm9ucHJvZ3Jlc3MiLCJpaSIsIm1wNEJ5SmJpbmFyeSIsImRhdGFDaHVua3MiLCJibG9iIiwiakJpbmFyeSIsImxvYWQiLCJNUEVHVFMiLCJtcGVndHMiLCJzdGFydCIsImdldFRpbWUiLCJtcDRPYmoiLCJtcGVndHNfdG9fbXA0IiwiZG93bmxvYWRMaW5rIiwidG9VUkkiLCJyYXdEYXRhIiwiZG93bmxvYWRzIiwiZmlsZW5hbWUiLCJmaWxlTmFtZSIsImRvd25sb2FkSWQiLCJ4aHIiLCJYTUxIdHRwUmVxdWVzdCIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsInJlYWR5U3RhdGUiLCJyZXNwb25zZSIsIm9wZW4iLCJzZW5kIiwibm90aWZpY2F0aW9ucyIsImljb25VcmwiLCJkZWZhdWx0SW1hZ2UiLCJpc0NsaWNrYWJsZSIsImJyb2FkY2FzdCIsInNlbmRNZXNzYWdlIiwic2VuZE1lc3NhZ2VPcklnbm9yZSIsInF1ZXJ5Iiwib3BlbmVycyIsIk5vdGlmaWNhdGlvbiIsImJnRXh0cmFzIiwibm90aWZpY2F0aW9uSWQiLCJvbkNsaWNrIiwiUmVtb3ZlTm90aWZpY2F0aW9uIiwib25DbGlja2VkIiwib3BlbmVySWQiLCJzZW5kVGFiQ21kIiwib25DbG9zZWQiLCJHZXRBbGxPcHRpb25zIiwiR2V0T3B0aW9ucyIsImRlZmF1bHRzIiwibWFwRW50cnkiLCJTZXRPcHRpb25zIiwiaG9va3MiLCJpbml0SG9va3MiLCJjYWxsSG9va3NMYXRlciIsImNhbGxIb29rcyIsImluaXRQZW5kaW5nIiwiZmlyZUNoYW5nZSIsIm1haW5LZXkiLCJnZXREZWZhdWx0T3B0aW9uIiwib3B0aW9uS2V5Iiwib3B0aW9uVmFsdWUiLCJob29rIiwiaW5kZXhlZERCIiwib25zdWNjZXNzIiwidHJhbnNmb3JtIiwib251cGdyYWRlbmVlZGVkIiwiZGIiLCJ0eCIsInRyYW5zYWN0aW9uIiwicHJvY2Vzc2luZyIsImRvbmUiLCJnZXRBbGwiLCJzdG9yZU5hbWUiLCJvYmplY3RTdG9yZSIsInRyYW5zZm9ybVNjcmlwdCIsImFsbFZhbHVlcyIsImFsbENhY2hlIiwiYWxsUmVxdWlyZSIsIm9yaWdJbmNsdWRlIiwib3JpZ0V4Y2x1ZGUiLCJvcmlnTWF0Y2giLCJvcmlnRXhjbHVkZU1hdGNoIiwib25Db25uZWN0Iiwib25Qb3B1cE9wZW5lZCIsInByZWZldGNoU2V0UG9wdXAiLCJicm93c2VyX2FjdGlvbiIsImRlZmF1bHRfcG9wdXAiLCJwb3J0Iiwib25EaXNjb25uZWN0Iiwib25Qb3B1cENsb3NlZCIsIlNldFBvcHVwIiwiQVBJX0NPTkZJRyIsIlRJTUVfQUZURVJfU0VORCIsIlRJTUVfQUZURVJfUkVDRUlWRSIsIlRJTUVfS0VFUF9EQVRBIiwiY2FjaGVDb2RlIiwib25EaXNwb3NlIiwicmNzIiwicmNzUHJvbWlzZSIsInVucmVnaXN0ZXIiLCJJTkpFQ1RfSU5UTyIsIktFWV9FWFBPU0UiLCJLRVlfREVGX0lOSkVDVF9JTlRPIiwiS0VZX1hIUl9JTkpFQ1QiLCJleHBvc2UiLCJpbmplY3RJbnRvIiwieGhySW5qZWN0Iiwib25PcHRpb25DaGFuZ2VkIiwiZmVlZElkIiwicHJvY2Vzc0ZlZWRiYWNrIiwiZGVsIiwiY2FjaGVLZXkiLCJlbnZLZXkiLCJwcmVwYXJlU2NyaXB0IiwibmVlZHNJbmplY3Rpb24iLCJleGVjdXRlU2NyaXB0IiwicHJvcHNUb0NsZWFyIiwib25DaGFuZ2VkIiwiZGJLZXlzIiwiY2FjaGVWYWx1ZXMiLCJnZXRWYWx1ZXMiLCJkaXJ0eSIsIm5vcm1hbGl6ZVJlYWxtIiwiaGFzT3duUHJvcGVydHkiLCJJTkpFQ1RfTUFQUElORyIsInRvZ2dsZVhockluamVjdCIsInRvZ2dsZVByZWluamVjdCIsInNpdGUiLCJpc0V4cG9zZWQiLCJlbmFibGUiLCJvbk9mZiIsIm9uU2VuZEhlYWRlcnMiLCJvbkhlYWRlcnNSZWNlaXZlZCIsIk9uSGVhZGVyc1JlY2VpdmVkT3B0aW9ucyIsIkVYVFJBX0hFQURFUlMiLCJoYXMiLCJwcmVwYXJlWGhyQmxvYiIsInJlc3BvbnNlSGVhZGVycyIsImRldGVjdFN0cmljdENzcCIsImZvcmNlQ29udGVudEluamVjdGlvbiIsInByZXBhcmVTY3JpcHRzIiwiaXNMYXRlIiwiaGFzTW9yZSIsImV2ZXJ5Iiwic2NyIiwiaXNDb250ZW50UmVhbG0iLCJ1YSIsInJlZ2lzdGVyU2NyaXB0RGF0YUZGIiwiZGF0YUtleSIsInJlcGxhY2VXaXRoRnVsbFdpZHRoRm9ybSIsImlzQ29udGVudCIsInJlcXMiLCJyZXFzU2xpY2VzIiwiY29uY2F0IiwiaGFzUmVxcyIsImluamVjdGVkQ29kZSIsIm1ldGFTdHIiLCJNRVRBQkxPQ0tfUkUiLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJyZXNvbHZlRGF0YUNvZGVTdHIiLCJ2bVJlc29sdmUiLCJ2bURhdGEiLCJhbGxGcmFtZXMiLCJjb250ZW50U2NyaXB0cyIsIm1hdGNoZXMiLCJyZWFsbSIsIklOSkVDVF9DT05URU5UIiwiVk1fVkVSSUZZIiwiQ09ORklSTV9VUkxfQkFTRSIsInJlcXVlc3RzIiwidmVyaWZ5IiwidGFiUmVxdWVzdHMiLCJlbmNvZGVyIiwiZXZ0IiwiY3VycmVudCIsIkNvbmZpcm1JbnN0YWxsIiwiY29uZmlybUluc3RhbGwiLCJDaGVja0luc3RhbGxlclRhYiIsIkh0dHBSZXF1ZXN0IiwiZXZlbnRzVG9Ob3RpZnkiLCJodHRwUmVxdWVzdCIsIkFib3J0UmVxdWVzdCIsImFib3J0IiwiY2xlYXJSZXF1ZXN0IiwiUmV2b2tlQmxvYiIsInNwZWNpYWxIZWFkZXJzIiwiSGVhZGVySW5qZWN0b3IiLCJhcGlGaWx0ZXIiLCJPbkJlZm9yZVNlbmRIZWFkZXJzT3B0aW9ucyIsImhlYWRlcnNUb0luamVjdCIsImlzVm1WZXJpZnkiLCJpc05vdENvb2tpZSIsImlzU2VuZGFibGUiLCJpc1NlbmRhYmxlQW5vbiIsIlJFX1NFVF9DT09LSUUiLCJSRV9TRVRfQ09PS0lFX1ZBTFVFIiwiUkVfU0VUX0NPT0tJRV9BVFRSIiwiU0FNRV9TSVRFX01BUCIsInN0cmljdCIsImxheCIsIm5vbmUiLCJzZXRDb29raWVJblN0b3JlIiwiaGVhZGVyVmFsdWUiLCJleGVjIiwib3B0U3RyIiwib3B0IiwiaXNIb3N0IiwibGFzdEluZGV4Iiwic2FtZVNpdGUiLCJjb29raWVzIiwiZXhwaXJhdGlvbkRhdGUiLCJleHBpcmVzIiwiaHR0cE9ubHkiLCJzZWN1cmUiLCJzdG9yZUlkIiwiYXBpRXZlbnRzIiwib25CZWZvcmVTZW5kSGVhZGVycyIsImxpc3RlbmVyIiwicmVxdWVzdEhlYWRlcnMiLCJyZXF1ZXN0SWQiLCJyZXFJZCIsImNvcmVJZCIsIm5vTmF0aXZlQ29va2llIiwiaCIsImVuY29kZVdlYlJlcXVlc3RIZWFkZXIiLCJhZGQiLCJpc0VtcHR5IiwiQ0hVTktfU0laRSIsImJsb2IyY2h1bmsiLCJibG9iMmJhc2U2NCIsImJsb2Iyb2JqZWN0VXJsIiwieGhyQ2FsbGJhY2tXcmFwcGVyIiwibGFzdFByb21pc2UiLCJjb250ZW50VHlwZSIsImRhdGFTaXplIiwibnVtQ2h1bmtzIiwicmVzcG9uc2VUZXh0Iiwic2VudCIsImJsb2JiZWQiLCJjaHVua2VkIiwiZ2V0Q2h1bmsiLCJnZXRSZXNwb25zZUhlYWRlcnMiLCJnZXRBbGxSZXNwb25zZUhlYWRlcnMiLCJnZXRSZXNwb25zZUhlYWRlciIsImNlaWwiLCJzaG91bGROb3RpZnkiLCJzaG91bGRTZW5kUmVzcG9uc2UiLCJjYiIsImZpbmFsVXJsIiwicmVzcG9uc2VVUkwiLCJjaHVuayIsInBvcyIsImxhc3QiLCJpc1NwZWNpYWxIZWFkZXIiLCJsb3dlckhlYWRlciIsImluY29nbml0byIsIm92ZXJyaWRlTWltZVR5cGUiLCJ4aHJUeXBlIiwidm1IZWFkZXJzIiwiZGVjb2RlQm9keSIsInNob3VsZFNlbmRDb29raWVzIiwic2V0UmVxdWVzdEhlYWRlciIsImxvd2VyTmFtZSIsInRpbWVvdXQiLCJnZXRBbGxDb29raWVTdG9yZXMiLCJ0YWJJZHMiLCJmaXJlZm94IiwiZmlyc3RQYXJ0eURvbWFpbiIsImMiLCJzZXNzaW9uIiwib25sb2FkZW5kIiwid2FzQmxvYiIsInN0cmluZzJ1aW50OGFycmF5IiwiYXRvYiIsInAxIiwiaXNVc2VyU2NyaXB0IiwiY29uZmlybUtleSIsImFjdGl2ZSIsImNhblJlcGxhY2VDdXJUYWIiLCJmZiIsImNvbmZpcm1VcmwiLCJ3aW5kb3dJZCIsIndpbmRvd3MiLCJmb2N1c2VkIiwid2hpdGVsaXN0UmUiLCJSZWdFeHAiLCJibGFja2xpc3RSZSIsInJlc29sdmVWaXJ0dWFsVXJsIiwidmlydHVhbFVybFJlIiwibWF5YmVSZWRpcmVjdFZpcnR1YWxVcmxGRiIsImFwaUV2ZW50IiwiYmluZCIsIm9uQ3JlYXRlZCIsInJlZGlyZWN0VXJsIiwibWF5YmVJbnN0YWxsVXNlckpzIiwiYmluYXJ5VmFsdWUiLCJzdHJpbmcyYnl0ZVN0cmluZyIsImJ1ZmZlcjJzdHJpbmciLCJDYWNoZU5ld1NjcmlwdCIsIk5ld1NjcmlwdCIsImFycmF5VHlwZSIsImRlZmF1bHQiLCJkZWZhdWx0VHlwZSIsIm1ldGFUeXBlcyIsImluY2x1ZGUiLCJleGNsdWRlIiwiZXhjbHVkZU1hdGNoIiwicmVzb3VyY2UiLCJwYWlyIiwibWV0YU9wdGlvbmFsVHlwZXMiLCJhbnRpZmVhdHVyZSIsImNvbXBhdGlibGUiLCJjb25uZWN0IiwibWV0YUJvZHkiLCJfbWF0Y2giLCJyYXdLZXkiLCJyYXdWYWx1ZSIsImtleU5hbWUiLCJsb2NhbGUiLCJjYW1lbEtleSIsImciLCJ0b1VwcGVyQ2FzZSIsIm1ldGFUeXBlIiwib2xkVmFsdWUiLCJob21lcGFnZSIsImRhdGUiLCJ0b0xvY2FsZVN0cmluZyIsIm5hbWVzcGFjZSIsIm5hbWVVUkkiLCJlbmNvZGVGaWxlbmFtZSIsInBpZWNlIiwiZGljdCIsImtleVZhbCIsImNhY2hlT3JGZXRjaCIsImNoZWNrIiwibWFrZVJhdyIsImhhbmRsZXJzIiwiY2FjaGVPckZldGNoSGFuZGxlciIsImRvRmV0Y2giLCJpc01vZGlmaWVkIiwicGF0aElkIiwiZXh0ZW5zaW9uIiwiZ2V0Vmlld3MiLCJsb2NhdGlvbiIsIm1heWJlSW5XaW5kb3ciLCJjb250YWluZXIiLCJpbnNlcnQiLCJwaW5uZWQiLCJzcmNUYWIiLCJzcmNVcmwiLCJpc0ludGVybmFsIiwiY29va2llU3RvcmVJZCIsImdldENvbnRhaW5lcklkIiwiY2FuT3BlbkluY29nbml0byIsIm5ld1RhYiIsInduZE9wdHMiLCJoYXNQb3MiLCJ3bmQiLCJvcGVuZXJUYWJJZFN1cHBvcnRlZCIsIm9wZW5lclRhYklkIiwiVGFiQ2xvc2UiLCJUYWJGb2N1cyIsInJlYWR5IiwiZGVmaW5lUHJvcGVydGllcyIsIm9zIiwiU0NSSVBUX1RFTVBMQVRFX0VESVRFRCIsIklOSVRJQUxfVEVNUExBVEUiLCJlZGl0ZWQiLCJ0ZW1wbGF0ZSIsImRlZmF1bHRUZW1wbGF0ZSIsIlRlc3RCbGFja2xpc3QiLCJyZXNldEJsYWNrbGlzdCIsIlJFX01BVENIX1BBUlRTIiwiYmxhY2tsaXN0UnVsZXMiLCJibGFja2xpc3QiLCJSRV9IVFRQX09SX0hUVFBTIiwiTUFYX0JMX0NBQ0hFX0xFTkdUSCIsImJsQ2FjaGUiLCJibENhY2hlU2l6ZSIsInRlc3RSdWxlcyIsInJ1bGVzIiwicnVsZUJ1aWxkZXIiLCJtYXRjaGVyIiwidGVzdEdsb2IiLCJhdXRvUmVnIiwidGVzdE1hdGNoIiwibWF0Y2hUZXN0ZXIiLCJiYXRjaCIsIm1hdCIsIm1lcmdlTGlzdHMiLCJpbmMiLCJleGMiLCJleGNNYXQiLCJvayIsInN0cjJSRSIsInJlIiwiYmluZFJFIiwicmVTdHIiLCJyZVRsZFN0ciIsInRzdHIiLCJzdWZmaXgiLCJtYXRjaFNjaGVtZSIsIlJFX1NUUl9BTlkiLCJSRV9TVFJfVExEIiwiaG9zdE1hdGNoZXIiLCJydWxlTEMiLCJ0bGRTdHIiLCJ0bGRTdWZmaXgiLCJwYXRoTWF0Y2hlciIsImlIYXNoIiwiaVF1ZXJ5Iiwic3RyUmUiLCJydWxlUGFydHMiLCJtYXRjaEhvc3QiLCJtYXRjaFBhdGgiLCJwYXJ0cyIsInVwZGF0ZUJsYWNrbGlzdENhY2hlIiwiQ2hlY2tVcGRhdGUiLCJyZXN1bHRzIiwiY2hlY2tBbGxBbmROb3RpZnkiLCJDaGVja1VwZGF0ZUFsbCIsInRvVXBkYXRlIiwibm90ZXMiLCJjaGVja1VwZGF0ZSIsIm9wZW5PcHRpb25zUGFnZSIsInByb2Nlc3NlcyIsImRvQ2hlY2tVcGRhdGUiLCJtc2dPayIsIm1zZ0VyciIsInJlc291cmNlT3B0cyIsImRvd25sb2FkVXBkYXRlIiwiY2hlY2tpbmciLCJjYW5Ob3RpZnkiLCJkb3dubG9hZFVSTCIsInVwZGF0ZVVSTCIsImRldiIsImVycm9yTWVzc2FnZSIsImFubm91bmNlIiwiYWxsb3dlZCIsIm5vdGlmeVVwZGF0ZXMiLCJ1cGRhdGVTY2hlZHVsZWQiLCJHZXRWYWx1ZVN0b3JlIiwic3RvcmVzIiwiU2V0VmFsdWVTdG9yZXMiLCJicm9hZGNhc3RWYWx1ZVN0b3JlcyIsImdyb3VwU3RvcmVzQnlGcmFtZSIsIlVwZGF0ZVZhbHVlIiwidXBkYXRlTGF0ZXIiLCJvblJlcGxhY2VkIiwiYWRkZWRJZCIsInJlbW92ZWRJZCIsIm9wZW5lclRhYnMiLCJzY3JpcHRJZHMiLCJjdXJyZW50Q2FjaGUiLCJkb1VwZGF0ZSIsInZhbHVlU3RvcmVzIiwiZ3JvdXBDYWNoZUJ5RnJhbWUiLCJwYXJ0aWFsIiwidGFiRnJhbWVEYXRhIiwidGFza3MiLCJmcmFtZXMiLCJmcmFtZURhdGEiLCJjYWNoZURhdGEiLCJ0b1NlbmQiLCJzY3JpcHREYXRhIiwiZGF0YUVudHJpZXMiLCJoaXN0b3J5IiwiY2hlY2tUeXBlIiwiaGFuZGxlIiwiZGVmYXVsdFByZXZlbnRlZCIsImluaXRUTEQiLCJleHBvcnRNZXRob2QiLCJ0bGRqcyIsImlzUmVhZHkiLCJnZXREb21haW4iLCJnZXRTdWJkb21haW4iLCJnZXRQdWJsaWNTdWZmaXgiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7UUFBQTtRQUNBO1FBQ0E7UUFDQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBLFFBQVEsb0JBQW9CO1FBQzVCO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7O1FBRUE7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0EsaUJBQWlCLDRCQUE0QjtRQUM3QztRQUNBO1FBQ0Esa0JBQWtCLDJCQUEyQjtRQUM3QztRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBOztRQUVBO1FBQ0E7O1FB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QUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsVUFBVTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsWUFBWTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBLHVDQUF1QyxTQUFTO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsaUJBQWlCO0FBQ2hDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYSxpQkFBaUI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFNBQVM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixTQUFTO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixTQUFTO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdELEVBQUU7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsaUJBQWlCLFNBQVM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGVBQWU7QUFDdkM7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0Esd0JBQXdCLFFBQVE7QUFDaEM7QUFDQSxxQkFBcUIsZUFBZTtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsWUFBWTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEscUJBQXFCLFNBQVM7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLHFCQUFxQixTQUFTO0FBQzlCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLHFCQUFxQixTQUFTO0FBQzlCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixrQkFBa0I7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLG1CQUFtQixjQUFjO0FBQ2pDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSx1REFBdUQsT0FBTztBQUM5RDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsdURBQXVELE9BQU87QUFDOUQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsa0JBQWtCO0FBQ2xCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EscUJBQXFCLFFBQVE7QUFDN0I7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLGVBQWUsU0FBUztBQUN4QjtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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O0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLHVFQUF1RSxPQUFPO0FBQzlFO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsOENBQThDLFlBQVk7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixlQUFlO0FBQzNDO0FBQ0EsaUZBQWlGLGNBQWM7QUFDL0Y7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxRQUFRO0FBQzlDO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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O0FBQ0E7QUFDQSxHQUFHOztBQUVIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksZUFBZSxrRUFBa0U7QUFDckYsR0FBRzs7QUFFSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7O0FBRUE7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQztBQUN0QyxLQUFLO0FBQ0w7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLHFCQUFxQixTQUFTO0FBQzlCO0FBQ0EsSUFBSTtBQUNKLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osR0FBRzs7QUFFSDs7QUFFQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsOENBQThDLFlBQVk7QUFDMUQ7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLEdBQUc7O0FBRUgsK0JBQStCLHFDQUFxQztBQUNwRTtBQUNBLENBQUM7Ozs7Ozs7Ozs7OztBQy91QkQ7QUFDQSxRQUFRLElBQTBDO0FBQ2xEO0FBQ0EsUUFBUSxpQ0FBTyxDQUFDLG9GQUFTLENBQUMsb0NBQUUsT0FBTztBQUFBO0FBQUE7QUFBQSxvR0FBQztBQUNwQyxLQUFLLE1BQU0sRUFRTjtBQUNMLENBQUM7QUFDRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEdBQUc7O0FBRUg7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsK0JBQStCLDZDQUE2QztBQUM1RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQixHQUFHOztBQUVIO0FBQ0EscUNBQXFDLCtEQUErRDtBQUNwRyxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRyxzQkFBc0IsaUNBQWlDOztBQUUxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSw4QkFBOEIsc0RBQXNEOztBQUVwRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSx1QkFBdUIsaUJBQWlCO0FBQ3hDO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSx1QkFBdUIsMEJBQTBCO0FBQ2pEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQSwwQkFBMEIsNEJBQTRCO0FBQ3RELCtCQUErQixnQ0FBZ0M7O0FBRS9EOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSiwrQkFBK0I7QUFDL0IsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEdBQUc7QUFDSDtBQUNBLENBQUMsRzs7Ozs7Ozs7Ozs7QUM5TkQ7QUFDQSxRQUFRLElBQTBDO0FBQ2xEO0FBQ0EsUUFBUSxpQ0FBTyxDQUFDLG9GQUFTLENBQUMsb0NBQUUsT0FBTztBQUFBO0FBQUE7QUFBQSxvR0FBQztBQUNwQyxLQUFLLE1BQU0sRUFRTjtBQUNMLENBQUM7QUFDRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLHNCQUFzQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsaURBQWlEO0FBQ3JGO0FBQ0E7QUFDQSxzQ0FBc0M7QUFDdEMsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILCtCQUErQixrRUFBa0U7QUFDakcsR0FBRztBQUNIO0FBQ0EsQ0FBQyxHOzs7Ozs7Ozs7OztBQy9IRDtBQUNBLENBQUM7O0FBRUQ7QUFDQSxtQkFBbUIsS0FBMEI7QUFDN0M7QUFDQSxrQkFBa0IsS0FBeUI7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFlBQVksT0FBTztBQUNuQixjQUFjLE1BQU07QUFDcEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsWUFBWSxNQUFNO0FBQ2xCLFlBQVksU0FBUztBQUNyQjtBQUNBLGNBQWMsTUFBTTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLE9BQU87QUFDbkIsWUFBWSxTQUFTO0FBQ3JCO0FBQ0EsY0FBYyxNQUFNO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLE9BQU87QUFDbkIsY0FBYyxNQUFNO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBLEtBQUs7QUFDTCw0QkFBNEI7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxNQUFNO0FBQ2xCLGNBQWMsT0FBTztBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxPQUFPO0FBQ25CLGNBQWMsT0FBTztBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLE9BQU87QUFDbkIsY0FBYyxPQUFPO0FBQ3JCO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLG1DQUFtQztBQUNsRTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksT0FBTztBQUNuQixjQUFjLE9BQU87QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGFBQWEsV0FBVztBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx3QkFBd0I7O0FBRXhCLHlDQUF5QyxxQkFBcUI7O0FBRTlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0Msb0JBQW9COztBQUV0RDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksT0FBTztBQUNuQixjQUFjLE9BQU87QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxhQUFhLGlCQUFpQjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsMEJBQTBCLGlCQUFpQjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLGNBQWMsaUJBQWlCO0FBQy9COztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsOEJBQThCLG9CQUFvQjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLE9BQU87QUFDbkI7QUFDQSxjQUFjLE9BQU87QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxPQUFPO0FBQ25CO0FBQ0EsY0FBYyxPQUFPO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRSxJQUVVO0FBQ1o7QUFDQSxFQUFFLG1DQUFtQjtBQUNyQjtBQUNBLEdBQUc7QUFBQSxvR0FBQztBQUNKLEVBQUUsTUFBTSxFQWFOOztBQUVGLENBQUM7Ozs7Ozs7Ozs7Ozs7O0FDcGhCRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVhOztBQUViO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGlCQUFpQixTQUFTO0FBQzFCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7QUNuRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBLEtBQUs7O0FBRUw7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixlQUFlO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7O0FDcEZhOztBQUViLGlDQUFpQyxtQkFBTyxDQUFDLDBEQUFVO0FBQ25ELHFDQUFxQyxtQkFBTyxDQUFDLDBEQUFVOzs7Ozs7Ozs7Ozs7O0FDSHZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWE7O0FBRWIsZUFBZSxtQkFBTyxDQUFDLG9GQUFVO0FBQ2pDLFdBQVcsbUJBQU8sQ0FBQywwQ0FBUTs7QUFFM0I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGdCQUFnQixLQUFLOztBQUVyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUM7QUFDckM7QUFDQTtBQUNBLDJDQUEyQyxLQUFLO0FBQ2hELDBDQUEwQyxLQUFLO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxrQkFBa0IsbUJBQU8sQ0FBQyw0REFBYTs7QUFFdkM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLG1CQUFtQiw0QkFBNEI7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxtQkFBbUIseUJBQXlCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLE9BQU87QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsT0FBTztBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyxPQUFPO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esa0JBQWtCLG1CQUFtQjtBQUNyQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsbUJBQW1CO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsaUJBQWlCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLFFBQVE7QUFDdEM7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFVBQVUsTUFBTTtBQUNoQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7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QU5TLE9BQVo7QUFRQXJJLGNBQVEsQ0FBQzlmLElBQVQsQ0FBZWtvQixNQUFELElBQVk7QUFDeEJBLGNBQU0sQ0FBQ3ZTLEdBQUQsQ0FBTjtBQUNBLGVBQU9BLEdBQUcsQ0FBQ3dTLGdCQUFYO0FBQ0QsT0FIRDtBQUlEO0FBQ0Y7O0FBakQrQixDOzs7Ozs7Ozs7Ozs7QUNBbEM7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtDQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNPLFNBQVNDLE9BQVQsR0FBbUIsQ0FBRTs7QUFFNUIsU0FBU0MsWUFBVCxDQUFzQmpsQyxHQUF0QixFQUEyQjtBQUN6QixTQUFPLENBQUMsR0FBRzlELElBQUosS0FBYWdwQyw0Q0FBSyxJQUFJQSw0Q0FBSyxDQUFDbGxDLEdBQUQsQ0FBTCxDQUFXLEdBQUc5RCxJQUFkLENBQTdCO0FBQ0Q7O0FBRU0sU0FBU2lwQyxPQUFULEdBQW1CO0FBQ3hCLFNBQU8sQ0FBQyxDQUFDRCw0Q0FBVDtBQUNEO0FBRU0sTUFBTUUsU0FBUyxHQUFHSCxZQUFZLENBQUMsV0FBRCxDQUE5QjtBQUNBLE1BQU1JLFlBQVksR0FBR0osWUFBWSxDQUFDLGNBQUQsQ0FBakM7QUFDQSxNQUFNSyxlQUFlLEdBQUdMLFlBQVksQ0FBQyxpQkFBRCxDQUFwQyxDIiwiZmlsZSI6ImJhY2tncm91bmQvaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBpbnN0YWxsIGEgSlNPTlAgY2FsbGJhY2sgZm9yIGNodW5rIGxvYWRpbmdcbiBcdGZ1bmN0aW9uIHdlYnBhY2tKc29ucENhbGxiYWNrKGRhdGEpIHtcbiBcdFx0dmFyIGNodW5rSWRzID0gZGF0YVswXTtcbiBcdFx0dmFyIG1vcmVNb2R1bGVzID0gZGF0YVsxXTtcbiBcdFx0dmFyIGV4ZWN1dGVNb2R1bGVzID0gZGF0YVsyXTtcblxuIFx0XHQvLyBhZGQgXCJtb3JlTW9kdWxlc1wiIHRvIHRoZSBtb2R1bGVzIG9iamVjdCxcbiBcdFx0Ly8gdGhlbiBmbGFnIGFsbCBcImNodW5rSWRzXCIgYXMgbG9hZGVkIGFuZCBmaXJlIGNhbGxiYWNrXG4gXHRcdHZhciBtb2R1bGVJZCwgY2h1bmtJZCwgaSA9IDAsIHJlc29sdmVzID0gW107XG4gXHRcdGZvcig7aSA8IGNodW5rSWRzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0Y2h1bmtJZCA9IGNodW5rSWRzW2ldO1xuIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChpbnN0YWxsZWRDaHVua3MsIGNodW5rSWQpICYmIGluc3RhbGxlZENodW5rc1tjaHVua0lkXSkge1xuIFx0XHRcdFx0cmVzb2x2ZXMucHVzaChpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF1bMF0pO1xuIFx0XHRcdH1cbiBcdFx0XHRpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gPSAwO1xuIFx0XHR9XG4gXHRcdGZvcihtb2R1bGVJZCBpbiBtb3JlTW9kdWxlcykge1xuIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb3JlTW9kdWxlcywgbW9kdWxlSWQpKSB7XG4gXHRcdFx0XHRtb2R1bGVzW21vZHVsZUlkXSA9IG1vcmVNb2R1bGVzW21vZHVsZUlkXTtcbiBcdFx0XHR9XG4gXHRcdH1cbiBcdFx0aWYocGFyZW50SnNvbnBGdW5jdGlvbikgcGFyZW50SnNvbnBGdW5jdGlvbihkYXRhKTtcblxuIFx0XHR3aGlsZShyZXNvbHZlcy5sZW5ndGgpIHtcbiBcdFx0XHRyZXNvbHZlcy5zaGlmdCgpKCk7XG4gXHRcdH1cblxuIFx0XHQvLyBhZGQgZW50cnkgbW9kdWxlcyBmcm9tIGxvYWRlZCBjaHVuayB0byBkZWZlcnJlZCBsaXN0XG4gXHRcdGRlZmVycmVkTW9kdWxlcy5wdXNoLmFwcGx5KGRlZmVycmVkTW9kdWxlcywgZXhlY3V0ZU1vZHVsZXMgfHwgW10pO1xuXG4gXHRcdC8vIHJ1biBkZWZlcnJlZCBtb2R1bGVzIHdoZW4gYWxsIGNodW5rcyByZWFkeVxuIFx0XHRyZXR1cm4gY2hlY2tEZWZlcnJlZE1vZHVsZXMoKTtcbiBcdH07XG4gXHRmdW5jdGlvbiBjaGVja0RlZmVycmVkTW9kdWxlcygpIHtcbiBcdFx0dmFyIHJlc3VsdDtcbiBcdFx0Zm9yKHZhciBpID0gMDsgaSA8IGRlZmVycmVkTW9kdWxlcy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdHZhciBkZWZlcnJlZE1vZHVsZSA9IGRlZmVycmVkTW9kdWxlc1tpXTtcbiBcdFx0XHR2YXIgZnVsZmlsbGVkID0gdHJ1ZTtcbiBcdFx0XHRmb3IodmFyIGogPSAxOyBqIDwgZGVmZXJyZWRNb2R1bGUubGVuZ3RoOyBqKyspIHtcbiBcdFx0XHRcdHZhciBkZXBJZCA9IGRlZmVycmVkTW9kdWxlW2pdO1xuIFx0XHRcdFx0aWYoaW5zdGFsbGVkQ2h1bmtzW2RlcElkXSAhPT0gMCkgZnVsZmlsbGVkID0gZmFsc2U7XG4gXHRcdFx0fVxuIFx0XHRcdGlmKGZ1bGZpbGxlZCkge1xuIFx0XHRcdFx0ZGVmZXJyZWRNb2R1bGVzLnNwbGljZShpLS0sIDEpO1xuIFx0XHRcdFx0cmVzdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSBkZWZlcnJlZE1vZHVsZVswXSk7XG4gXHRcdFx0fVxuIFx0XHR9XG5cbiBcdFx0cmV0dXJuIHJlc3VsdDtcbiBcdH1cblxuIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gb2JqZWN0IHRvIHN0b3JlIGxvYWRlZCBhbmQgbG9hZGluZyBjaHVua3NcbiBcdC8vIHVuZGVmaW5lZCA9IGNodW5rIG5vdCBsb2FkZWQsIG51bGwgPSBjaHVuayBwcmVsb2FkZWQvcHJlZmV0Y2hlZFxuIFx0Ly8gUHJvbWlzZSA9IGNodW5rIGxvYWRpbmcsIDAgPSBjaHVuayBsb2FkZWRcbiBcdHZhciBpbnN0YWxsZWRDaHVua3MgPSB7XG4gXHRcdFwiYmFja2dyb3VuZC9pbmRleFwiOiAwXG4gXHR9O1xuXG4gXHR2YXIgZGVmZXJyZWRNb2R1bGVzID0gW107XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbiBcdHZhciBqc29ucEFycmF5ID0gd2luZG93W1wid2VicGFja0pzb25wXCJdID0gd2luZG93W1wid2VicGFja0pzb25wXCJdIHx8IFtdO1xuIFx0dmFyIG9sZEpzb25wRnVuY3Rpb24gPSBqc29ucEFycmF5LnB1c2guYmluZChqc29ucEFycmF5KTtcbiBcdGpzb25wQXJyYXkucHVzaCA9IHdlYnBhY2tKc29ucENhbGxiYWNrO1xuIFx0anNvbnBBcnJheSA9IGpzb25wQXJyYXkuc2xpY2UoKTtcbiBcdGZvcih2YXIgaSA9IDA7IGkgPCBqc29ucEFycmF5Lmxlbmd0aDsgaSsrKSB3ZWJwYWNrSnNvbnBDYWxsYmFjayhqc29ucEFycmF5W2ldKTtcbiBcdHZhciBwYXJlbnRKc29ucEZ1bmN0aW9uID0gb2xkSnNvbnBGdW5jdGlvbjtcblxuXG4gXHQvLyBhZGQgZW50cnkgbW9kdWxlIHRvIGRlZmVycmVkIGxpc3RcbiBcdGRlZmVycmVkTW9kdWxlcy5wdXNoKFtcIi4vc3JjL2JhY2tncm91bmQvaW5kZXguanNcIixcInB1YmxpYy9saWIvdGxkanNcIixcImNvbW1vblwiXSk7XG4gXHQvLyBydW4gZGVmZXJyZWQgbW9kdWxlcyB3aGVuIHJlYWR5XG4gXHRyZXR1cm4gY2hlY2tEZWZlcnJlZE1vZHVsZXMoKTtcbiIsIid1c2Ugc3RyaWN0J1xuXG5leHBvcnRzLmJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoXG5leHBvcnRzLnRvQnl0ZUFycmF5ID0gdG9CeXRlQXJyYXlcbmV4cG9ydHMuZnJvbUJ5dGVBcnJheSA9IGZyb21CeXRlQXJyYXlcblxudmFyIGxvb2t1cCA9IFtdXG52YXIgcmV2TG9va3VwID0gW11cbnZhciBBcnIgPSB0eXBlb2YgVWludDhBcnJheSAhPT0gJ3VuZGVmaW5lZCcgPyBVaW50OEFycmF5IDogQXJyYXlcblxudmFyIGNvZGUgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLydcbmZvciAodmFyIGkgPSAwLCBsZW4gPSBjb2RlLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XG4gIGxvb2t1cFtpXSA9IGNvZGVbaV1cbiAgcmV2TG9va3VwW2NvZGUuY2hhckNvZGVBdChpKV0gPSBpXG59XG5cbi8vIFN1cHBvcnQgZGVjb2RpbmcgVVJMLXNhZmUgYmFzZTY0IHN0cmluZ3MsIGFzIE5vZGUuanMgZG9lcy5cbi8vIFNlZTogaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQmFzZTY0I1VSTF9hcHBsaWNhdGlvbnNcbnJldkxvb2t1cFsnLScuY2hhckNvZGVBdCgwKV0gPSA2MlxucmV2TG9va3VwWydfJy5jaGFyQ29kZUF0KDApXSA9IDYzXG5cbmZ1bmN0aW9uIGdldExlbnMgKGI2NCkge1xuICB2YXIgbGVuID0gYjY0Lmxlbmd0aFxuXG4gIGlmIChsZW4gJSA0ID4gMCkge1xuICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBzdHJpbmcuIExlbmd0aCBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNCcpXG4gIH1cblxuICAvLyBUcmltIG9mZiBleHRyYSBieXRlcyBhZnRlciBwbGFjZWhvbGRlciBieXRlcyBhcmUgZm91bmRcbiAgLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vYmVhdGdhbW1pdC9iYXNlNjQtanMvaXNzdWVzLzQyXG4gIHZhciB2YWxpZExlbiA9IGI2NC5pbmRleE9mKCc9JylcbiAgaWYgKHZhbGlkTGVuID09PSAtMSkgdmFsaWRMZW4gPSBsZW5cblxuICB2YXIgcGxhY2VIb2xkZXJzTGVuID0gdmFsaWRMZW4gPT09IGxlblxuICAgID8gMFxuICAgIDogNCAtICh2YWxpZExlbiAlIDQpXG5cbiAgcmV0dXJuIFt2YWxpZExlbiwgcGxhY2VIb2xkZXJzTGVuXVxufVxuXG4vLyBiYXNlNjQgaXMgNC8zICsgdXAgdG8gdHdvIGNoYXJhY3RlcnMgb2YgdGhlIG9yaWdpbmFsIGRhdGFcbmZ1bmN0aW9uIGJ5dGVMZW5ndGggKGI2NCkge1xuICB2YXIgbGVucyA9IGdldExlbnMoYjY0KVxuICB2YXIgdmFsaWRMZW4gPSBsZW5zWzBdXG4gIHZhciBwbGFjZUhvbGRlcnNMZW4gPSBsZW5zWzFdXG4gIHJldHVybiAoKHZhbGlkTGVuICsgcGxhY2VIb2xkZXJzTGVuKSAqIDMgLyA0KSAtIHBsYWNlSG9sZGVyc0xlblxufVxuXG5mdW5jdGlvbiBfYnl0ZUxlbmd0aCAoYjY0LCB2YWxpZExlbiwgcGxhY2VIb2xkZXJzTGVuKSB7XG4gIHJldHVybiAoKHZhbGlkTGVuICsgcGxhY2VIb2xkZXJzTGVuKSAqIDMgLyA0KSAtIHBsYWNlSG9sZGVyc0xlblxufVxuXG5mdW5jdGlvbiB0b0J5dGVBcnJheSAoYjY0KSB7XG4gIHZhciB0bXBcbiAgdmFyIGxlbnMgPSBnZXRMZW5zKGI2NClcbiAgdmFyIHZhbGlkTGVuID0gbGVuc1swXVxuICB2YXIgcGxhY2VIb2xkZXJzTGVuID0gbGVuc1sxXVxuXG4gIHZhciBhcnIgPSBuZXcgQXJyKF9ieXRlTGVuZ3RoKGI2NCwgdmFsaWRMZW4sIHBsYWNlSG9sZGVyc0xlbikpXG5cbiAgdmFyIGN1ckJ5dGUgPSAwXG5cbiAgLy8gaWYgdGhlcmUgYXJlIHBsYWNlaG9sZGVycywgb25seSBnZXQgdXAgdG8gdGhlIGxhc3QgY29tcGxldGUgNCBjaGFyc1xuICB2YXIgbGVuID0gcGxhY2VIb2xkZXJzTGVuID4gMFxuICAgID8gdmFsaWRMZW4gLSA0XG4gICAgOiB2YWxpZExlblxuXG4gIHZhciBpXG4gIGZvciAoaSA9IDA7IGkgPCBsZW47IGkgKz0gNCkge1xuICAgIHRtcCA9XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkpXSA8PCAxOCkgfFxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMSldIDw8IDEyKSB8XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAyKV0gPDwgNikgfFxuICAgICAgcmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAzKV1cbiAgICBhcnJbY3VyQnl0ZSsrXSA9ICh0bXAgPj4gMTYpICYgMHhGRlxuICAgIGFycltjdXJCeXRlKytdID0gKHRtcCA+PiA4KSAmIDB4RkZcbiAgICBhcnJbY3VyQnl0ZSsrXSA9IHRtcCAmIDB4RkZcbiAgfVxuXG4gIGlmIChwbGFjZUhvbGRlcnNMZW4gPT09IDIpIHtcbiAgICB0bXAgPVxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpKV0gPDwgMikgfFxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMSldID4+IDQpXG4gICAgYXJyW2N1ckJ5dGUrK10gPSB0bXAgJiAweEZGXG4gIH1cblxuICBpZiAocGxhY2VIb2xkZXJzTGVuID09PSAxKSB7XG4gICAgdG1wID1cbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSldIDw8IDEwKSB8XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAxKV0gPDwgNCkgfFxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMildID4+IDIpXG4gICAgYXJyW2N1ckJ5dGUrK10gPSAodG1wID4+IDgpICYgMHhGRlxuICAgIGFycltjdXJCeXRlKytdID0gdG1wICYgMHhGRlxuICB9XG5cbiAgcmV0dXJuIGFyclxufVxuXG5mdW5jdGlvbiB0cmlwbGV0VG9CYXNlNjQgKG51bSkge1xuICByZXR1cm4gbG9va3VwW251bSA+PiAxOCAmIDB4M0ZdICtcbiAgICBsb29rdXBbbnVtID4+IDEyICYgMHgzRl0gK1xuICAgIGxvb2t1cFtudW0gPj4gNiAmIDB4M0ZdICtcbiAgICBsb29rdXBbbnVtICYgMHgzRl1cbn1cblxuZnVuY3Rpb24gZW5jb2RlQ2h1bmsgKHVpbnQ4LCBzdGFydCwgZW5kKSB7XG4gIHZhciB0bXBcbiAgdmFyIG91dHB1dCA9IFtdXG4gIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgaSArPSAzKSB7XG4gICAgdG1wID1cbiAgICAgICgodWludDhbaV0gPDwgMTYpICYgMHhGRjAwMDApICtcbiAgICAgICgodWludDhbaSArIDFdIDw8IDgpICYgMHhGRjAwKSArXG4gICAgICAodWludDhbaSArIDJdICYgMHhGRilcbiAgICBvdXRwdXQucHVzaCh0cmlwbGV0VG9CYXNlNjQodG1wKSlcbiAgfVxuICByZXR1cm4gb3V0cHV0LmpvaW4oJycpXG59XG5cbmZ1bmN0aW9uIGZyb21CeXRlQXJyYXkgKHVpbnQ4KSB7XG4gIHZhciB0bXBcbiAgdmFyIGxlbiA9IHVpbnQ4Lmxlbmd0aFxuICB2YXIgZXh0cmFCeXRlcyA9IGxlbiAlIDMgLy8gaWYgd2UgaGF2ZSAxIGJ5dGUgbGVmdCwgcGFkIDIgYnl0ZXNcbiAgdmFyIHBhcnRzID0gW11cbiAgdmFyIG1heENodW5rTGVuZ3RoID0gMTYzODMgLy8gbXVzdCBiZSBtdWx0aXBsZSBvZiAzXG5cbiAgLy8gZ28gdGhyb3VnaCB0aGUgYXJyYXkgZXZlcnkgdGhyZWUgYnl0ZXMsIHdlJ2xsIGRlYWwgd2l0aCB0cmFpbGluZyBzdHVmZiBsYXRlclxuICBmb3IgKHZhciBpID0gMCwgbGVuMiA9IGxlbiAtIGV4dHJhQnl0ZXM7IGkgPCBsZW4yOyBpICs9IG1heENodW5rTGVuZ3RoKSB7XG4gICAgcGFydHMucHVzaChlbmNvZGVDaHVuayhcbiAgICAgIHVpbnQ4LCBpLCAoaSArIG1heENodW5rTGVuZ3RoKSA+IGxlbjIgPyBsZW4yIDogKGkgKyBtYXhDaHVua0xlbmd0aClcbiAgICApKVxuICB9XG5cbiAgLy8gcGFkIHRoZSBlbmQgd2l0aCB6ZXJvcywgYnV0IG1ha2Ugc3VyZSB0byBub3QgZm9yZ2V0IHRoZSBleHRyYSBieXRlc1xuICBpZiAoZXh0cmFCeXRlcyA9PT0gMSkge1xuICAgIHRtcCA9IHVpbnQ4W2xlbiAtIDFdXG4gICAgcGFydHMucHVzaChcbiAgICAgIGxvb2t1cFt0bXAgPj4gMl0gK1xuICAgICAgbG9va3VwWyh0bXAgPDwgNCkgJiAweDNGXSArXG4gICAgICAnPT0nXG4gICAgKVxuICB9IGVsc2UgaWYgKGV4dHJhQnl0ZXMgPT09IDIpIHtcbiAgICB0bXAgPSAodWludDhbbGVuIC0gMl0gPDwgOCkgKyB1aW50OFtsZW4gLSAxXVxuICAgIHBhcnRzLnB1c2goXG4gICAgICBsb29rdXBbdG1wID4+IDEwXSArXG4gICAgICBsb29rdXBbKHRtcCA+PiA0KSAmIDB4M0ZdICtcbiAgICAgIGxvb2t1cFsodG1wIDw8IDIpICYgMHgzRl0gK1xuICAgICAgJz0nXG4gICAgKVxuICB9XG5cbiAgcmV0dXJuIHBhcnRzLmpvaW4oJycpXG59XG4iLCIvKiFcbiAqIFRoZSBidWZmZXIgbW9kdWxlIGZyb20gbm9kZS5qcywgZm9yIHRoZSBicm93c2VyLlxuICpcbiAqIEBhdXRob3IgICBGZXJvc3MgQWJvdWtoYWRpamVoIDxodHRwOi8vZmVyb3NzLm9yZz5cbiAqIEBsaWNlbnNlICBNSVRcbiAqL1xuLyogZXNsaW50LWRpc2FibGUgbm8tcHJvdG8gKi9cblxuJ3VzZSBzdHJpY3QnXG5cbnZhciBiYXNlNjQgPSByZXF1aXJlKCdiYXNlNjQtanMnKVxudmFyIGllZWU3NTQgPSByZXF1aXJlKCdpZWVlNzU0JylcbnZhciBpc0FycmF5ID0gcmVxdWlyZSgnaXNhcnJheScpXG5cbmV4cG9ydHMuQnVmZmVyID0gQnVmZmVyXG5leHBvcnRzLlNsb3dCdWZmZXIgPSBTbG93QnVmZmVyXG5leHBvcnRzLklOU1BFQ1RfTUFYX0JZVEVTID0gNTBcblxuLyoqXG4gKiBJZiBgQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlRgOlxuICogICA9PT0gdHJ1ZSAgICBVc2UgVWludDhBcnJheSBpbXBsZW1lbnRhdGlvbiAoZmFzdGVzdClcbiAqICAgPT09IGZhbHNlICAgVXNlIE9iamVjdCBpbXBsZW1lbnRhdGlvbiAobW9zdCBjb21wYXRpYmxlLCBldmVuIElFNilcbiAqXG4gKiBCcm93c2VycyB0aGF0IHN1cHBvcnQgdHlwZWQgYXJyYXlzIGFyZSBJRSAxMCssIEZpcmVmb3ggNCssIENocm9tZSA3KywgU2FmYXJpIDUuMSssXG4gKiBPcGVyYSAxMS42KywgaU9TIDQuMisuXG4gKlxuICogRHVlIHRvIHZhcmlvdXMgYnJvd3NlciBidWdzLCBzb21ldGltZXMgdGhlIE9iamVjdCBpbXBsZW1lbnRhdGlvbiB3aWxsIGJlIHVzZWQgZXZlblxuICogd2hlbiB0aGUgYnJvd3NlciBzdXBwb3J0cyB0eXBlZCBhcnJheXMuXG4gKlxuICogTm90ZTpcbiAqXG4gKiAgIC0gRmlyZWZveCA0LTI5IGxhY2tzIHN1cHBvcnQgZm9yIGFkZGluZyBuZXcgcHJvcGVydGllcyB0byBgVWludDhBcnJheWAgaW5zdGFuY2VzLFxuICogICAgIFNlZTogaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9Njk1NDM4LlxuICpcbiAqICAgLSBDaHJvbWUgOS0xMCBpcyBtaXNzaW5nIHRoZSBgVHlwZWRBcnJheS5wcm90b3R5cGUuc3ViYXJyYXlgIGZ1bmN0aW9uLlxuICpcbiAqICAgLSBJRTEwIGhhcyBhIGJyb2tlbiBgVHlwZWRBcnJheS5wcm90b3R5cGUuc3ViYXJyYXlgIGZ1bmN0aW9uIHdoaWNoIHJldHVybnMgYXJyYXlzIG9mXG4gKiAgICAgaW5jb3JyZWN0IGxlbmd0aCBpbiBzb21lIHNpdHVhdGlvbnMuXG5cbiAqIFdlIGRldGVjdCB0aGVzZSBidWdneSBicm93c2VycyBhbmQgc2V0IGBCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVGAgdG8gYGZhbHNlYCBzbyB0aGV5XG4gKiBnZXQgdGhlIE9iamVjdCBpbXBsZW1lbnRhdGlvbiwgd2hpY2ggaXMgc2xvd2VyIGJ1dCBiZWhhdmVzIGNvcnJlY3RseS5cbiAqL1xuQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQgPSBnbG9iYWwuVFlQRURfQVJSQVlfU1VQUE9SVCAhPT0gdW5kZWZpbmVkXG4gID8gZ2xvYmFsLlRZUEVEX0FSUkFZX1NVUFBPUlRcbiAgOiB0eXBlZEFycmF5U3VwcG9ydCgpXG5cbi8qXG4gKiBFeHBvcnQga01heExlbmd0aCBhZnRlciB0eXBlZCBhcnJheSBzdXBwb3J0IGlzIGRldGVybWluZWQuXG4gKi9cbmV4cG9ydHMua01heExlbmd0aCA9IGtNYXhMZW5ndGgoKVxuXG5mdW5jdGlvbiB0eXBlZEFycmF5U3VwcG9ydCAoKSB7XG4gIHRyeSB7XG4gICAgdmFyIGFyciA9IG5ldyBVaW50OEFycmF5KDEpXG4gICAgYXJyLl9fcHJvdG9fXyA9IHtfX3Byb3RvX186IFVpbnQ4QXJyYXkucHJvdG90eXBlLCBmb286IGZ1bmN0aW9uICgpIHsgcmV0dXJuIDQyIH19XG4gICAgcmV0dXJuIGFyci5mb28oKSA9PT0gNDIgJiYgLy8gdHlwZWQgYXJyYXkgaW5zdGFuY2VzIGNhbiBiZSBhdWdtZW50ZWRcbiAgICAgICAgdHlwZW9mIGFyci5zdWJhcnJheSA9PT0gJ2Z1bmN0aW9uJyAmJiAvLyBjaHJvbWUgOS0xMCBsYWNrIGBzdWJhcnJheWBcbiAgICAgICAgYXJyLnN1YmFycmF5KDEsIDEpLmJ5dGVMZW5ndGggPT09IDAgLy8gaWUxMCBoYXMgYnJva2VuIGBzdWJhcnJheWBcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG59XG5cbmZ1bmN0aW9uIGtNYXhMZW5ndGggKCkge1xuICByZXR1cm4gQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlRcbiAgICA/IDB4N2ZmZmZmZmZcbiAgICA6IDB4M2ZmZmZmZmZcbn1cblxuZnVuY3Rpb24gY3JlYXRlQnVmZmVyICh0aGF0LCBsZW5ndGgpIHtcbiAgaWYgKGtNYXhMZW5ndGgoKSA8IGxlbmd0aCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbnZhbGlkIHR5cGVkIGFycmF5IGxlbmd0aCcpXG4gIH1cbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgLy8gUmV0dXJuIGFuIGF1Z21lbnRlZCBgVWludDhBcnJheWAgaW5zdGFuY2UsIGZvciBiZXN0IHBlcmZvcm1hbmNlXG4gICAgdGhhdCA9IG5ldyBVaW50OEFycmF5KGxlbmd0aClcbiAgICB0aGF0Ll9fcHJvdG9fXyA9IEJ1ZmZlci5wcm90b3R5cGVcbiAgfSBlbHNlIHtcbiAgICAvLyBGYWxsYmFjazogUmV0dXJuIGFuIG9iamVjdCBpbnN0YW5jZSBvZiB0aGUgQnVmZmVyIGNsYXNzXG4gICAgaWYgKHRoYXQgPT09IG51bGwpIHtcbiAgICAgIHRoYXQgPSBuZXcgQnVmZmVyKGxlbmd0aClcbiAgICB9XG4gICAgdGhhdC5sZW5ndGggPSBsZW5ndGhcbiAgfVxuXG4gIHJldHVybiB0aGF0XG59XG5cbi8qKlxuICogVGhlIEJ1ZmZlciBjb25zdHJ1Y3RvciByZXR1cm5zIGluc3RhbmNlcyBvZiBgVWludDhBcnJheWAgdGhhdCBoYXZlIHRoZWlyXG4gKiBwcm90b3R5cGUgY2hhbmdlZCB0byBgQnVmZmVyLnByb3RvdHlwZWAuIEZ1cnRoZXJtb3JlLCBgQnVmZmVyYCBpcyBhIHN1YmNsYXNzIG9mXG4gKiBgVWludDhBcnJheWAsIHNvIHRoZSByZXR1cm5lZCBpbnN0YW5jZXMgd2lsbCBoYXZlIGFsbCB0aGUgbm9kZSBgQnVmZmVyYCBtZXRob2RzXG4gKiBhbmQgdGhlIGBVaW50OEFycmF5YCBtZXRob2RzLiBTcXVhcmUgYnJhY2tldCBub3RhdGlvbiB3b3JrcyBhcyBleHBlY3RlZCAtLSBpdFxuICogcmV0dXJucyBhIHNpbmdsZSBvY3RldC5cbiAqXG4gKiBUaGUgYFVpbnQ4QXJyYXlgIHByb3RvdHlwZSByZW1haW5zIHVubW9kaWZpZWQuXG4gKi9cblxuZnVuY3Rpb24gQnVmZmVyIChhcmcsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aCkge1xuICBpZiAoIUJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUICYmICEodGhpcyBpbnN0YW5jZW9mIEJ1ZmZlcikpIHtcbiAgICByZXR1cm4gbmV3IEJ1ZmZlcihhcmcsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbiAgfVxuXG4gIC8vIENvbW1vbiBjYXNlLlxuICBpZiAodHlwZW9mIGFyZyA9PT0gJ251bWJlcicpIHtcbiAgICBpZiAodHlwZW9mIGVuY29kaW5nT3JPZmZzZXQgPT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdJZiBlbmNvZGluZyBpcyBzcGVjaWZpZWQgdGhlbiB0aGUgZmlyc3QgYXJndW1lbnQgbXVzdCBiZSBhIHN0cmluZydcbiAgICAgIClcbiAgICB9XG4gICAgcmV0dXJuIGFsbG9jVW5zYWZlKHRoaXMsIGFyZylcbiAgfVxuICByZXR1cm4gZnJvbSh0aGlzLCBhcmcsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbn1cblxuQnVmZmVyLnBvb2xTaXplID0gODE5MiAvLyBub3QgdXNlZCBieSB0aGlzIGltcGxlbWVudGF0aW9uXG5cbi8vIFRPRE86IExlZ2FjeSwgbm90IG5lZWRlZCBhbnltb3JlLiBSZW1vdmUgaW4gbmV4dCBtYWpvciB2ZXJzaW9uLlxuQnVmZmVyLl9hdWdtZW50ID0gZnVuY3Rpb24gKGFycikge1xuICBhcnIuX19wcm90b19fID0gQnVmZmVyLnByb3RvdHlwZVxuICByZXR1cm4gYXJyXG59XG5cbmZ1bmN0aW9uIGZyb20gKHRoYXQsIHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcInZhbHVlXCIgYXJndW1lbnQgbXVzdCBub3QgYmUgYSBudW1iZXInKVxuICB9XG5cbiAgaWYgKHR5cGVvZiBBcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcgJiYgdmFsdWUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuICAgIHJldHVybiBmcm9tQXJyYXlCdWZmZXIodGhhdCwgdmFsdWUsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbiAgfVxuXG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIGZyb21TdHJpbmcodGhhdCwgdmFsdWUsIGVuY29kaW5nT3JPZmZzZXQpXG4gIH1cblxuICByZXR1cm4gZnJvbU9iamVjdCh0aGF0LCB2YWx1ZSlcbn1cblxuLyoqXG4gKiBGdW5jdGlvbmFsbHkgZXF1aXZhbGVudCB0byBCdWZmZXIoYXJnLCBlbmNvZGluZykgYnV0IHRocm93cyBhIFR5cGVFcnJvclxuICogaWYgdmFsdWUgaXMgYSBudW1iZXIuXG4gKiBCdWZmZXIuZnJvbShzdHJbLCBlbmNvZGluZ10pXG4gKiBCdWZmZXIuZnJvbShhcnJheSlcbiAqIEJ1ZmZlci5mcm9tKGJ1ZmZlcilcbiAqIEJ1ZmZlci5mcm9tKGFycmF5QnVmZmVyWywgYnl0ZU9mZnNldFssIGxlbmd0aF1dKVxuICoqL1xuQnVmZmVyLmZyb20gPSBmdW5jdGlvbiAodmFsdWUsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gZnJvbShudWxsLCB2YWx1ZSwgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKVxufVxuXG5pZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgQnVmZmVyLnByb3RvdHlwZS5fX3Byb3RvX18gPSBVaW50OEFycmF5LnByb3RvdHlwZVxuICBCdWZmZXIuX19wcm90b19fID0gVWludDhBcnJheVxuICBpZiAodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnNwZWNpZXMgJiZcbiAgICAgIEJ1ZmZlcltTeW1ib2wuc3BlY2llc10gPT09IEJ1ZmZlcikge1xuICAgIC8vIEZpeCBzdWJhcnJheSgpIGluIEVTMjAxNi4gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vZmVyb3NzL2J1ZmZlci9wdWxsLzk3XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJ1ZmZlciwgU3ltYm9sLnNwZWNpZXMsIHtcbiAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSlcbiAgfVxufVxuXG5mdW5jdGlvbiBhc3NlcnRTaXplIChzaXplKSB7XG4gIGlmICh0eXBlb2Ygc2l6ZSAhPT0gJ251bWJlcicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcInNpemVcIiBhcmd1bWVudCBtdXN0IGJlIGEgbnVtYmVyJylcbiAgfSBlbHNlIGlmIChzaXplIDwgMCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdcInNpemVcIiBhcmd1bWVudCBtdXN0IG5vdCBiZSBuZWdhdGl2ZScpXG4gIH1cbn1cblxuZnVuY3Rpb24gYWxsb2MgKHRoYXQsIHNpemUsIGZpbGwsIGVuY29kaW5nKSB7XG4gIGFzc2VydFNpemUoc2l6ZSlcbiAgaWYgKHNpemUgPD0gMCkge1xuICAgIHJldHVybiBjcmVhdGVCdWZmZXIodGhhdCwgc2l6ZSlcbiAgfVxuICBpZiAoZmlsbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgLy8gT25seSBwYXkgYXR0ZW50aW9uIHRvIGVuY29kaW5nIGlmIGl0J3MgYSBzdHJpbmcuIFRoaXNcbiAgICAvLyBwcmV2ZW50cyBhY2NpZGVudGFsbHkgc2VuZGluZyBpbiBhIG51bWJlciB0aGF0IHdvdWxkXG4gICAgLy8gYmUgaW50ZXJwcmV0dGVkIGFzIGEgc3RhcnQgb2Zmc2V0LlxuICAgIHJldHVybiB0eXBlb2YgZW5jb2RpbmcgPT09ICdzdHJpbmcnXG4gICAgICA/IGNyZWF0ZUJ1ZmZlcih0aGF0LCBzaXplKS5maWxsKGZpbGwsIGVuY29kaW5nKVxuICAgICAgOiBjcmVhdGVCdWZmZXIodGhhdCwgc2l6ZSkuZmlsbChmaWxsKVxuICB9XG4gIHJldHVybiBjcmVhdGVCdWZmZXIodGhhdCwgc2l6ZSlcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IGZpbGxlZCBCdWZmZXIgaW5zdGFuY2UuXG4gKiBhbGxvYyhzaXplWywgZmlsbFssIGVuY29kaW5nXV0pXG4gKiovXG5CdWZmZXIuYWxsb2MgPSBmdW5jdGlvbiAoc2l6ZSwgZmlsbCwgZW5jb2RpbmcpIHtcbiAgcmV0dXJuIGFsbG9jKG51bGwsIHNpemUsIGZpbGwsIGVuY29kaW5nKVxufVxuXG5mdW5jdGlvbiBhbGxvY1Vuc2FmZSAodGhhdCwgc2l6ZSkge1xuICBhc3NlcnRTaXplKHNpemUpXG4gIHRoYXQgPSBjcmVhdGVCdWZmZXIodGhhdCwgc2l6ZSA8IDAgPyAwIDogY2hlY2tlZChzaXplKSB8IDApXG4gIGlmICghQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNpemU7ICsraSkge1xuICAgICAgdGhhdFtpXSA9IDBcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRoYXRcbn1cblxuLyoqXG4gKiBFcXVpdmFsZW50IHRvIEJ1ZmZlcihudW0pLCBieSBkZWZhdWx0IGNyZWF0ZXMgYSBub24temVyby1maWxsZWQgQnVmZmVyIGluc3RhbmNlLlxuICogKi9cbkJ1ZmZlci5hbGxvY1Vuc2FmZSA9IGZ1bmN0aW9uIChzaXplKSB7XG4gIHJldHVybiBhbGxvY1Vuc2FmZShudWxsLCBzaXplKVxufVxuLyoqXG4gKiBFcXVpdmFsZW50IHRvIFNsb3dCdWZmZXIobnVtKSwgYnkgZGVmYXVsdCBjcmVhdGVzIGEgbm9uLXplcm8tZmlsbGVkIEJ1ZmZlciBpbnN0YW5jZS5cbiAqL1xuQnVmZmVyLmFsbG9jVW5zYWZlU2xvdyA9IGZ1bmN0aW9uIChzaXplKSB7XG4gIHJldHVybiBhbGxvY1Vuc2FmZShudWxsLCBzaXplKVxufVxuXG5mdW5jdGlvbiBmcm9tU3RyaW5nICh0aGF0LCBzdHJpbmcsIGVuY29kaW5nKSB7XG4gIGlmICh0eXBlb2YgZW5jb2RpbmcgIT09ICdzdHJpbmcnIHx8IGVuY29kaW5nID09PSAnJykge1xuICAgIGVuY29kaW5nID0gJ3V0ZjgnXG4gIH1cblxuICBpZiAoIUJ1ZmZlci5pc0VuY29kaW5nKGVuY29kaW5nKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wiZW5jb2RpbmdcIiBtdXN0IGJlIGEgdmFsaWQgc3RyaW5nIGVuY29kaW5nJylcbiAgfVxuXG4gIHZhciBsZW5ndGggPSBieXRlTGVuZ3RoKHN0cmluZywgZW5jb2RpbmcpIHwgMFxuICB0aGF0ID0gY3JlYXRlQnVmZmVyKHRoYXQsIGxlbmd0aClcblxuICB2YXIgYWN0dWFsID0gdGhhdC53cml0ZShzdHJpbmcsIGVuY29kaW5nKVxuXG4gIGlmIChhY3R1YWwgIT09IGxlbmd0aCkge1xuICAgIC8vIFdyaXRpbmcgYSBoZXggc3RyaW5nLCBmb3IgZXhhbXBsZSwgdGhhdCBjb250YWlucyBpbnZhbGlkIGNoYXJhY3RlcnMgd2lsbFxuICAgIC8vIGNhdXNlIGV2ZXJ5dGhpbmcgYWZ0ZXIgdGhlIGZpcnN0IGludmFsaWQgY2hhcmFjdGVyIHRvIGJlIGlnbm9yZWQuIChlLmcuXG4gICAgLy8gJ2FieHhjZCcgd2lsbCBiZSB0cmVhdGVkIGFzICdhYicpXG4gICAgdGhhdCA9IHRoYXQuc2xpY2UoMCwgYWN0dWFsKVxuICB9XG5cbiAgcmV0dXJuIHRoYXRcbn1cblxuZnVuY3Rpb24gZnJvbUFycmF5TGlrZSAodGhhdCwgYXJyYXkpIHtcbiAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCA8IDAgPyAwIDogY2hlY2tlZChhcnJheS5sZW5ndGgpIHwgMFxuICB0aGF0ID0gY3JlYXRlQnVmZmVyKHRoYXQsIGxlbmd0aClcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xuICAgIHRoYXRbaV0gPSBhcnJheVtpXSAmIDI1NVxuICB9XG4gIHJldHVybiB0aGF0XG59XG5cbmZ1bmN0aW9uIGZyb21BcnJheUJ1ZmZlciAodGhhdCwgYXJyYXksIGJ5dGVPZmZzZXQsIGxlbmd0aCkge1xuICBhcnJheS5ieXRlTGVuZ3RoIC8vIHRoaXMgdGhyb3dzIGlmIGBhcnJheWAgaXMgbm90IGEgdmFsaWQgQXJyYXlCdWZmZXJcblxuICBpZiAoYnl0ZU9mZnNldCA8IDAgfHwgYXJyYXkuYnl0ZUxlbmd0aCA8IGJ5dGVPZmZzZXQpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignXFwnb2Zmc2V0XFwnIGlzIG91dCBvZiBib3VuZHMnKVxuICB9XG5cbiAgaWYgKGFycmF5LmJ5dGVMZW5ndGggPCBieXRlT2Zmc2V0ICsgKGxlbmd0aCB8fCAwKSkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdcXCdsZW5ndGhcXCcgaXMgb3V0IG9mIGJvdW5kcycpXG4gIH1cblxuICBpZiAoYnl0ZU9mZnNldCA9PT0gdW5kZWZpbmVkICYmIGxlbmd0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgYXJyYXkgPSBuZXcgVWludDhBcnJheShhcnJheSlcbiAgfSBlbHNlIGlmIChsZW5ndGggPT09IHVuZGVmaW5lZCkge1xuICAgIGFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXksIGJ5dGVPZmZzZXQpXG4gIH0gZWxzZSB7XG4gICAgYXJyYXkgPSBuZXcgVWludDhBcnJheShhcnJheSwgYnl0ZU9mZnNldCwgbGVuZ3RoKVxuICB9XG5cbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgLy8gUmV0dXJuIGFuIGF1Z21lbnRlZCBgVWludDhBcnJheWAgaW5zdGFuY2UsIGZvciBiZXN0IHBlcmZvcm1hbmNlXG4gICAgdGhhdCA9IGFycmF5XG4gICAgdGhhdC5fX3Byb3RvX18gPSBCdWZmZXIucHJvdG90eXBlXG4gIH0gZWxzZSB7XG4gICAgLy8gRmFsbGJhY2s6IFJldHVybiBhbiBvYmplY3QgaW5zdGFuY2Ugb2YgdGhlIEJ1ZmZlciBjbGFzc1xuICAgIHRoYXQgPSBmcm9tQXJyYXlMaWtlKHRoYXQsIGFycmF5KVxuICB9XG4gIHJldHVybiB0aGF0XG59XG5cbmZ1bmN0aW9uIGZyb21PYmplY3QgKHRoYXQsIG9iaikge1xuICBpZiAoQnVmZmVyLmlzQnVmZmVyKG9iaikpIHtcbiAgICB2YXIgbGVuID0gY2hlY2tlZChvYmoubGVuZ3RoKSB8IDBcbiAgICB0aGF0ID0gY3JlYXRlQnVmZmVyKHRoYXQsIGxlbilcblxuICAgIGlmICh0aGF0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHRoYXRcbiAgICB9XG5cbiAgICBvYmouY29weSh0aGF0LCAwLCAwLCBsZW4pXG4gICAgcmV0dXJuIHRoYXRcbiAgfVxuXG4gIGlmIChvYmopIHtcbiAgICBpZiAoKHR5cGVvZiBBcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgb2JqLmJ1ZmZlciBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB8fCAnbGVuZ3RoJyBpbiBvYmopIHtcbiAgICAgIGlmICh0eXBlb2Ygb2JqLmxlbmd0aCAhPT0gJ251bWJlcicgfHwgaXNuYW4ob2JqLmxlbmd0aCkpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUJ1ZmZlcih0aGF0LCAwKVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZyb21BcnJheUxpa2UodGhhdCwgb2JqKVxuICAgIH1cblxuICAgIGlmIChvYmoudHlwZSA9PT0gJ0J1ZmZlcicgJiYgaXNBcnJheShvYmouZGF0YSkpIHtcbiAgICAgIHJldHVybiBmcm9tQXJyYXlMaWtlKHRoYXQsIG9iai5kYXRhKVxuICAgIH1cbiAgfVxuXG4gIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBzdHJpbmcsIEJ1ZmZlciwgQXJyYXlCdWZmZXIsIEFycmF5LCBvciBhcnJheS1saWtlIG9iamVjdC4nKVxufVxuXG5mdW5jdGlvbiBjaGVja2VkIChsZW5ndGgpIHtcbiAgLy8gTm90ZTogY2Fubm90IHVzZSBgbGVuZ3RoIDwga01heExlbmd0aCgpYCBoZXJlIGJlY2F1c2UgdGhhdCBmYWlscyB3aGVuXG4gIC8vIGxlbmd0aCBpcyBOYU4gKHdoaWNoIGlzIG90aGVyd2lzZSBjb2VyY2VkIHRvIHplcm8uKVxuICBpZiAobGVuZ3RoID49IGtNYXhMZW5ndGgoKSkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdBdHRlbXB0IHRvIGFsbG9jYXRlIEJ1ZmZlciBsYXJnZXIgdGhhbiBtYXhpbXVtICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICdzaXplOiAweCcgKyBrTWF4TGVuZ3RoKCkudG9TdHJpbmcoMTYpICsgJyBieXRlcycpXG4gIH1cbiAgcmV0dXJuIGxlbmd0aCB8IDBcbn1cblxuZnVuY3Rpb24gU2xvd0J1ZmZlciAobGVuZ3RoKSB7XG4gIGlmICgrbGVuZ3RoICE9IGxlbmd0aCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGVxZXFlcVxuICAgIGxlbmd0aCA9IDBcbiAgfVxuICByZXR1cm4gQnVmZmVyLmFsbG9jKCtsZW5ndGgpXG59XG5cbkJ1ZmZlci5pc0J1ZmZlciA9IGZ1bmN0aW9uIGlzQnVmZmVyIChiKSB7XG4gIHJldHVybiAhIShiICE9IG51bGwgJiYgYi5faXNCdWZmZXIpXG59XG5cbkJ1ZmZlci5jb21wYXJlID0gZnVuY3Rpb24gY29tcGFyZSAoYSwgYikge1xuICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihhKSB8fCAhQnVmZmVyLmlzQnVmZmVyKGIpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnRzIG11c3QgYmUgQnVmZmVycycpXG4gIH1cblxuICBpZiAoYSA9PT0gYikgcmV0dXJuIDBcblxuICB2YXIgeCA9IGEubGVuZ3RoXG4gIHZhciB5ID0gYi5sZW5ndGhcblxuICBmb3IgKHZhciBpID0gMCwgbGVuID0gTWF0aC5taW4oeCwgeSk7IGkgPCBsZW47ICsraSkge1xuICAgIGlmIChhW2ldICE9PSBiW2ldKSB7XG4gICAgICB4ID0gYVtpXVxuICAgICAgeSA9IGJbaV1cbiAgICAgIGJyZWFrXG4gICAgfVxuICB9XG5cbiAgaWYgKHggPCB5KSByZXR1cm4gLTFcbiAgaWYgKHkgPCB4KSByZXR1cm4gMVxuICByZXR1cm4gMFxufVxuXG5CdWZmZXIuaXNFbmNvZGluZyA9IGZ1bmN0aW9uIGlzRW5jb2RpbmcgKGVuY29kaW5nKSB7XG4gIHN3aXRjaCAoU3RyaW5nKGVuY29kaW5nKS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgY2FzZSAnaGV4JzpcbiAgICBjYXNlICd1dGY4JzpcbiAgICBjYXNlICd1dGYtOCc6XG4gICAgY2FzZSAnYXNjaWknOlxuICAgIGNhc2UgJ2xhdGluMSc6XG4gICAgY2FzZSAnYmluYXJ5JzpcbiAgICBjYXNlICdiYXNlNjQnOlxuICAgIGNhc2UgJ3VjczInOlxuICAgIGNhc2UgJ3Vjcy0yJzpcbiAgICBjYXNlICd1dGYxNmxlJzpcbiAgICBjYXNlICd1dGYtMTZsZSc6XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZmFsc2VcbiAgfVxufVxuXG5CdWZmZXIuY29uY2F0ID0gZnVuY3Rpb24gY29uY2F0IChsaXN0LCBsZW5ndGgpIHtcbiAgaWYgKCFpc0FycmF5KGxpc3QpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJsaXN0XCIgYXJndW1lbnQgbXVzdCBiZSBhbiBBcnJheSBvZiBCdWZmZXJzJylcbiAgfVxuXG4gIGlmIChsaXN0Lmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBCdWZmZXIuYWxsb2MoMClcbiAgfVxuXG4gIHZhciBpXG4gIGlmIChsZW5ndGggPT09IHVuZGVmaW5lZCkge1xuICAgIGxlbmd0aCA9IDBcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7ICsraSkge1xuICAgICAgbGVuZ3RoICs9IGxpc3RbaV0ubGVuZ3RoXG4gICAgfVxuICB9XG5cbiAgdmFyIGJ1ZmZlciA9IEJ1ZmZlci5hbGxvY1Vuc2FmZShsZW5ndGgpXG4gIHZhciBwb3MgPSAwXG4gIGZvciAoaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgKytpKSB7XG4gICAgdmFyIGJ1ZiA9IGxpc3RbaV1cbiAgICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihidWYpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImxpc3RcIiBhcmd1bWVudCBtdXN0IGJlIGFuIEFycmF5IG9mIEJ1ZmZlcnMnKVxuICAgIH1cbiAgICBidWYuY29weShidWZmZXIsIHBvcylcbiAgICBwb3MgKz0gYnVmLmxlbmd0aFxuICB9XG4gIHJldHVybiBidWZmZXJcbn1cblxuZnVuY3Rpb24gYnl0ZUxlbmd0aCAoc3RyaW5nLCBlbmNvZGluZykge1xuICBpZiAoQnVmZmVyLmlzQnVmZmVyKHN0cmluZykpIHtcbiAgICByZXR1cm4gc3RyaW5nLmxlbmd0aFxuICB9XG4gIGlmICh0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBBcnJheUJ1ZmZlci5pc1ZpZXcgPT09ICdmdW5jdGlvbicgJiZcbiAgICAgIChBcnJheUJ1ZmZlci5pc1ZpZXcoc3RyaW5nKSB8fCBzdHJpbmcgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikpIHtcbiAgICByZXR1cm4gc3RyaW5nLmJ5dGVMZW5ndGhcbiAgfVxuICBpZiAodHlwZW9mIHN0cmluZyAhPT0gJ3N0cmluZycpIHtcbiAgICBzdHJpbmcgPSAnJyArIHN0cmluZ1xuICB9XG5cbiAgdmFyIGxlbiA9IHN0cmluZy5sZW5ndGhcbiAgaWYgKGxlbiA9PT0gMCkgcmV0dXJuIDBcblxuICAvLyBVc2UgYSBmb3IgbG9vcCB0byBhdm9pZCByZWN1cnNpb25cbiAgdmFyIGxvd2VyZWRDYXNlID0gZmFsc2VcbiAgZm9yICg7Oykge1xuICAgIHN3aXRjaCAoZW5jb2RpbmcpIHtcbiAgICAgIGNhc2UgJ2FzY2lpJzpcbiAgICAgIGNhc2UgJ2xhdGluMSc6XG4gICAgICBjYXNlICdiaW5hcnknOlxuICAgICAgICByZXR1cm4gbGVuXG4gICAgICBjYXNlICd1dGY4JzpcbiAgICAgIGNhc2UgJ3V0Zi04JzpcbiAgICAgIGNhc2UgdW5kZWZpbmVkOlxuICAgICAgICByZXR1cm4gdXRmOFRvQnl0ZXMoc3RyaW5nKS5sZW5ndGhcbiAgICAgIGNhc2UgJ3VjczInOlxuICAgICAgY2FzZSAndWNzLTInOlxuICAgICAgY2FzZSAndXRmMTZsZSc6XG4gICAgICBjYXNlICd1dGYtMTZsZSc6XG4gICAgICAgIHJldHVybiBsZW4gKiAyXG4gICAgICBjYXNlICdoZXgnOlxuICAgICAgICByZXR1cm4gbGVuID4+PiAxXG4gICAgICBjYXNlICdiYXNlNjQnOlxuICAgICAgICByZXR1cm4gYmFzZTY0VG9CeXRlcyhzdHJpbmcpLmxlbmd0aFxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKGxvd2VyZWRDYXNlKSByZXR1cm4gdXRmOFRvQnl0ZXMoc3RyaW5nKS5sZW5ndGggLy8gYXNzdW1lIHV0ZjhcbiAgICAgICAgZW5jb2RpbmcgPSAoJycgKyBlbmNvZGluZykudG9Mb3dlckNhc2UoKVxuICAgICAgICBsb3dlcmVkQ2FzZSA9IHRydWVcbiAgICB9XG4gIH1cbn1cbkJ1ZmZlci5ieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aFxuXG5mdW5jdGlvbiBzbG93VG9TdHJpbmcgKGVuY29kaW5nLCBzdGFydCwgZW5kKSB7XG4gIHZhciBsb3dlcmVkQ2FzZSA9IGZhbHNlXG5cbiAgLy8gTm8gbmVlZCB0byB2ZXJpZnkgdGhhdCBcInRoaXMubGVuZ3RoIDw9IE1BWF9VSU5UMzJcIiBzaW5jZSBpdCdzIGEgcmVhZC1vbmx5XG4gIC8vIHByb3BlcnR5IG9mIGEgdHlwZWQgYXJyYXkuXG5cbiAgLy8gVGhpcyBiZWhhdmVzIG5laXRoZXIgbGlrZSBTdHJpbmcgbm9yIFVpbnQ4QXJyYXkgaW4gdGhhdCB3ZSBzZXQgc3RhcnQvZW5kXG4gIC8vIHRvIHRoZWlyIHVwcGVyL2xvd2VyIGJvdW5kcyBpZiB0aGUgdmFsdWUgcGFzc2VkIGlzIG91dCBvZiByYW5nZS5cbiAgLy8gdW5kZWZpbmVkIGlzIGhhbmRsZWQgc3BlY2lhbGx5IGFzIHBlciBFQ01BLTI2MiA2dGggRWRpdGlvbixcbiAgLy8gU2VjdGlvbiAxMy4zLjMuNyBSdW50aW1lIFNlbWFudGljczogS2V5ZWRCaW5kaW5nSW5pdGlhbGl6YXRpb24uXG4gIGlmIChzdGFydCA9PT0gdW5kZWZpbmVkIHx8IHN0YXJ0IDwgMCkge1xuICAgIHN0YXJ0ID0gMFxuICB9XG4gIC8vIFJldHVybiBlYXJseSBpZiBzdGFydCA+IHRoaXMubGVuZ3RoLiBEb25lIGhlcmUgdG8gcHJldmVudCBwb3RlbnRpYWwgdWludDMyXG4gIC8vIGNvZXJjaW9uIGZhaWwgYmVsb3cuXG4gIGlmIChzdGFydCA+IHRoaXMubGVuZ3RoKSB7XG4gICAgcmV0dXJuICcnXG4gIH1cblxuICBpZiAoZW5kID09PSB1bmRlZmluZWQgfHwgZW5kID4gdGhpcy5sZW5ndGgpIHtcbiAgICBlbmQgPSB0aGlzLmxlbmd0aFxuICB9XG5cbiAgaWYgKGVuZCA8PSAwKSB7XG4gICAgcmV0dXJuICcnXG4gIH1cblxuICAvLyBGb3JjZSBjb2Vyc2lvbiB0byB1aW50MzIuIFRoaXMgd2lsbCBhbHNvIGNvZXJjZSBmYWxzZXkvTmFOIHZhbHVlcyB0byAwLlxuICBlbmQgPj4+PSAwXG4gIHN0YXJ0ID4+Pj0gMFxuXG4gIGlmIChlbmQgPD0gc3RhcnQpIHtcbiAgICByZXR1cm4gJydcbiAgfVxuXG4gIGlmICghZW5jb2RpbmcpIGVuY29kaW5nID0gJ3V0ZjgnXG5cbiAgd2hpbGUgKHRydWUpIHtcbiAgICBzd2l0Y2ggKGVuY29kaW5nKSB7XG4gICAgICBjYXNlICdoZXgnOlxuICAgICAgICByZXR1cm4gaGV4U2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAndXRmOCc6XG4gICAgICBjYXNlICd1dGYtOCc6XG4gICAgICAgIHJldHVybiB1dGY4U2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAnYXNjaWknOlxuICAgICAgICByZXR1cm4gYXNjaWlTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBjYXNlICdsYXRpbjEnOlxuICAgICAgY2FzZSAnYmluYXJ5JzpcbiAgICAgICAgcmV0dXJuIGxhdGluMVNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGNhc2UgJ2Jhc2U2NCc6XG4gICAgICAgIHJldHVybiBiYXNlNjRTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBjYXNlICd1Y3MyJzpcbiAgICAgIGNhc2UgJ3Vjcy0yJzpcbiAgICAgIGNhc2UgJ3V0ZjE2bGUnOlxuICAgICAgY2FzZSAndXRmLTE2bGUnOlxuICAgICAgICByZXR1cm4gdXRmMTZsZVNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmIChsb3dlcmVkQ2FzZSkgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biBlbmNvZGluZzogJyArIGVuY29kaW5nKVxuICAgICAgICBlbmNvZGluZyA9IChlbmNvZGluZyArICcnKS50b0xvd2VyQ2FzZSgpXG4gICAgICAgIGxvd2VyZWRDYXNlID0gdHJ1ZVxuICAgIH1cbiAgfVxufVxuXG4vLyBUaGUgcHJvcGVydHkgaXMgdXNlZCBieSBgQnVmZmVyLmlzQnVmZmVyYCBhbmQgYGlzLWJ1ZmZlcmAgKGluIFNhZmFyaSA1LTcpIHRvIGRldGVjdFxuLy8gQnVmZmVyIGluc3RhbmNlcy5cbkJ1ZmZlci5wcm90b3R5cGUuX2lzQnVmZmVyID0gdHJ1ZVxuXG5mdW5jdGlvbiBzd2FwIChiLCBuLCBtKSB7XG4gIHZhciBpID0gYltuXVxuICBiW25dID0gYlttXVxuICBiW21dID0gaVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnN3YXAxNiA9IGZ1bmN0aW9uIHN3YXAxNiAoKSB7XG4gIHZhciBsZW4gPSB0aGlzLmxlbmd0aFxuICBpZiAobGVuICUgMiAhPT0gMCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgMTYtYml0cycpXG4gIH1cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkgKz0gMikge1xuICAgIHN3YXAodGhpcywgaSwgaSArIDEpXG4gIH1cbiAgcmV0dXJuIHRoaXNcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5zd2FwMzIgPSBmdW5jdGlvbiBzd2FwMzIgKCkge1xuICB2YXIgbGVuID0gdGhpcy5sZW5ndGhcbiAgaWYgKGxlbiAlIDQgIT09IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDMyLWJpdHMnKVxuICB9XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpICs9IDQpIHtcbiAgICBzd2FwKHRoaXMsIGksIGkgKyAzKVxuICAgIHN3YXAodGhpcywgaSArIDEsIGkgKyAyKVxuICB9XG4gIHJldHVybiB0aGlzXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuc3dhcDY0ID0gZnVuY3Rpb24gc3dhcDY0ICgpIHtcbiAgdmFyIGxlbiA9IHRoaXMubGVuZ3RoXG4gIGlmIChsZW4gJSA4ICE9PSAwKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0J1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA2NC1iaXRzJylcbiAgfVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSArPSA4KSB7XG4gICAgc3dhcCh0aGlzLCBpLCBpICsgNylcbiAgICBzd2FwKHRoaXMsIGkgKyAxLCBpICsgNilcbiAgICBzd2FwKHRoaXMsIGkgKyAyLCBpICsgNSlcbiAgICBzd2FwKHRoaXMsIGkgKyAzLCBpICsgNClcbiAgfVxuICByZXR1cm4gdGhpc1xufVxuXG5CdWZmZXIucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcgKCkge1xuICB2YXIgbGVuZ3RoID0gdGhpcy5sZW5ndGggfCAwXG4gIGlmIChsZW5ndGggPT09IDApIHJldHVybiAnJ1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHV0ZjhTbGljZSh0aGlzLCAwLCBsZW5ndGgpXG4gIHJldHVybiBzbG93VG9TdHJpbmcuYXBwbHkodGhpcywgYXJndW1lbnRzKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIGVxdWFscyAoYikge1xuICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihiKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlcicpXG4gIGlmICh0aGlzID09PSBiKSByZXR1cm4gdHJ1ZVxuICByZXR1cm4gQnVmZmVyLmNvbXBhcmUodGhpcywgYikgPT09IDBcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5pbnNwZWN0ID0gZnVuY3Rpb24gaW5zcGVjdCAoKSB7XG4gIHZhciBzdHIgPSAnJ1xuICB2YXIgbWF4ID0gZXhwb3J0cy5JTlNQRUNUX01BWF9CWVRFU1xuICBpZiAodGhpcy5sZW5ndGggPiAwKSB7XG4gICAgc3RyID0gdGhpcy50b1N0cmluZygnaGV4JywgMCwgbWF4KS5tYXRjaCgvLnsyfS9nKS5qb2luKCcgJylcbiAgICBpZiAodGhpcy5sZW5ndGggPiBtYXgpIHN0ciArPSAnIC4uLiAnXG4gIH1cbiAgcmV0dXJuICc8QnVmZmVyICcgKyBzdHIgKyAnPidcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5jb21wYXJlID0gZnVuY3Rpb24gY29tcGFyZSAodGFyZ2V0LCBzdGFydCwgZW5kLCB0aGlzU3RhcnQsIHRoaXNFbmQpIHtcbiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIodGFyZ2V0KSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXInKVxuICB9XG5cbiAgaWYgKHN0YXJ0ID09PSB1bmRlZmluZWQpIHtcbiAgICBzdGFydCA9IDBcbiAgfVxuICBpZiAoZW5kID09PSB1bmRlZmluZWQpIHtcbiAgICBlbmQgPSB0YXJnZXQgPyB0YXJnZXQubGVuZ3RoIDogMFxuICB9XG4gIGlmICh0aGlzU3RhcnQgPT09IHVuZGVmaW5lZCkge1xuICAgIHRoaXNTdGFydCA9IDBcbiAgfVxuICBpZiAodGhpc0VuZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhpc0VuZCA9IHRoaXMubGVuZ3RoXG4gIH1cblxuICBpZiAoc3RhcnQgPCAwIHx8IGVuZCA+IHRhcmdldC5sZW5ndGggfHwgdGhpc1N0YXJ0IDwgMCB8fCB0aGlzRW5kID4gdGhpcy5sZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignb3V0IG9mIHJhbmdlIGluZGV4JylcbiAgfVxuXG4gIGlmICh0aGlzU3RhcnQgPj0gdGhpc0VuZCAmJiBzdGFydCA+PSBlbmQpIHtcbiAgICByZXR1cm4gMFxuICB9XG4gIGlmICh0aGlzU3RhcnQgPj0gdGhpc0VuZCkge1xuICAgIHJldHVybiAtMVxuICB9XG4gIGlmIChzdGFydCA+PSBlbmQpIHtcbiAgICByZXR1cm4gMVxuICB9XG5cbiAgc3RhcnQgPj4+PSAwXG4gIGVuZCA+Pj49IDBcbiAgdGhpc1N0YXJ0ID4+Pj0gMFxuICB0aGlzRW5kID4+Pj0gMFxuXG4gIGlmICh0aGlzID09PSB0YXJnZXQpIHJldHVybiAwXG5cbiAgdmFyIHggPSB0aGlzRW5kIC0gdGhpc1N0YXJ0XG4gIHZhciB5ID0gZW5kIC0gc3RhcnRcbiAgdmFyIGxlbiA9IE1hdGgubWluKHgsIHkpXG5cbiAgdmFyIHRoaXNDb3B5ID0gdGhpcy5zbGljZSh0aGlzU3RhcnQsIHRoaXNFbmQpXG4gIHZhciB0YXJnZXRDb3B5ID0gdGFyZ2V0LnNsaWNlKHN0YXJ0LCBlbmQpXG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgIGlmICh0aGlzQ29weVtpXSAhPT0gdGFyZ2V0Q29weVtpXSkge1xuICAgICAgeCA9IHRoaXNDb3B5W2ldXG4gICAgICB5ID0gdGFyZ2V0Q29weVtpXVxuICAgICAgYnJlYWtcbiAgICB9XG4gIH1cblxuICBpZiAoeCA8IHkpIHJldHVybiAtMVxuICBpZiAoeSA8IHgpIHJldHVybiAxXG4gIHJldHVybiAwXG59XG5cbi8vIEZpbmRzIGVpdGhlciB0aGUgZmlyc3QgaW5kZXggb2YgYHZhbGAgaW4gYGJ1ZmZlcmAgYXQgb2Zmc2V0ID49IGBieXRlT2Zmc2V0YCxcbi8vIE9SIHRoZSBsYXN0IGluZGV4IG9mIGB2YWxgIGluIGBidWZmZXJgIGF0IG9mZnNldCA8PSBgYnl0ZU9mZnNldGAuXG4vL1xuLy8gQXJndW1lbnRzOlxuLy8gLSBidWZmZXIgLSBhIEJ1ZmZlciB0byBzZWFyY2hcbi8vIC0gdmFsIC0gYSBzdHJpbmcsIEJ1ZmZlciwgb3IgbnVtYmVyXG4vLyAtIGJ5dGVPZmZzZXQgLSBhbiBpbmRleCBpbnRvIGBidWZmZXJgOyB3aWxsIGJlIGNsYW1wZWQgdG8gYW4gaW50MzJcbi8vIC0gZW5jb2RpbmcgLSBhbiBvcHRpb25hbCBlbmNvZGluZywgcmVsZXZhbnQgaXMgdmFsIGlzIGEgc3RyaW5nXG4vLyAtIGRpciAtIHRydWUgZm9yIGluZGV4T2YsIGZhbHNlIGZvciBsYXN0SW5kZXhPZlxuZnVuY3Rpb24gYmlkaXJlY3Rpb25hbEluZGV4T2YgKGJ1ZmZlciwgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZGlyKSB7XG4gIC8vIEVtcHR5IGJ1ZmZlciBtZWFucyBubyBtYXRjaFxuICBpZiAoYnVmZmVyLmxlbmd0aCA9PT0gMCkgcmV0dXJuIC0xXG5cbiAgLy8gTm9ybWFsaXplIGJ5dGVPZmZzZXRcbiAgaWYgKHR5cGVvZiBieXRlT2Zmc2V0ID09PSAnc3RyaW5nJykge1xuICAgIGVuY29kaW5nID0gYnl0ZU9mZnNldFxuICAgIGJ5dGVPZmZzZXQgPSAwXG4gIH0gZWxzZSBpZiAoYnl0ZU9mZnNldCA+IDB4N2ZmZmZmZmYpIHtcbiAgICBieXRlT2Zmc2V0ID0gMHg3ZmZmZmZmZlxuICB9IGVsc2UgaWYgKGJ5dGVPZmZzZXQgPCAtMHg4MDAwMDAwMCkge1xuICAgIGJ5dGVPZmZzZXQgPSAtMHg4MDAwMDAwMFxuICB9XG4gIGJ5dGVPZmZzZXQgPSArYnl0ZU9mZnNldCAgLy8gQ29lcmNlIHRvIE51bWJlci5cbiAgaWYgKGlzTmFOKGJ5dGVPZmZzZXQpKSB7XG4gICAgLy8gYnl0ZU9mZnNldDogaXQgaXQncyB1bmRlZmluZWQsIG51bGwsIE5hTiwgXCJmb29cIiwgZXRjLCBzZWFyY2ggd2hvbGUgYnVmZmVyXG4gICAgYnl0ZU9mZnNldCA9IGRpciA/IDAgOiAoYnVmZmVyLmxlbmd0aCAtIDEpXG4gIH1cblxuICAvLyBOb3JtYWxpemUgYnl0ZU9mZnNldDogbmVnYXRpdmUgb2Zmc2V0cyBzdGFydCBmcm9tIHRoZSBlbmQgb2YgdGhlIGJ1ZmZlclxuICBpZiAoYnl0ZU9mZnNldCA8IDApIGJ5dGVPZmZzZXQgPSBidWZmZXIubGVuZ3RoICsgYnl0ZU9mZnNldFxuICBpZiAoYnl0ZU9mZnNldCA+PSBidWZmZXIubGVuZ3RoKSB7XG4gICAgaWYgKGRpcikgcmV0dXJuIC0xXG4gICAgZWxzZSBieXRlT2Zmc2V0ID0gYnVmZmVyLmxlbmd0aCAtIDFcbiAgfSBlbHNlIGlmIChieXRlT2Zmc2V0IDwgMCkge1xuICAgIGlmIChkaXIpIGJ5dGVPZmZzZXQgPSAwXG4gICAgZWxzZSByZXR1cm4gLTFcbiAgfVxuXG4gIC8vIE5vcm1hbGl6ZSB2YWxcbiAgaWYgKHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnKSB7XG4gICAgdmFsID0gQnVmZmVyLmZyb20odmFsLCBlbmNvZGluZylcbiAgfVxuXG4gIC8vIEZpbmFsbHksIHNlYXJjaCBlaXRoZXIgaW5kZXhPZiAoaWYgZGlyIGlzIHRydWUpIG9yIGxhc3RJbmRleE9mXG4gIGlmIChCdWZmZXIuaXNCdWZmZXIodmFsKSkge1xuICAgIC8vIFNwZWNpYWwgY2FzZTogbG9va2luZyBmb3IgZW1wdHkgc3RyaW5nL2J1ZmZlciBhbHdheXMgZmFpbHNcbiAgICBpZiAodmFsLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIC0xXG4gICAgfVxuICAgIHJldHVybiBhcnJheUluZGV4T2YoYnVmZmVyLCB2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCBkaXIpXG4gIH0gZWxzZSBpZiAodHlwZW9mIHZhbCA9PT0gJ251bWJlcicpIHtcbiAgICB2YWwgPSB2YWwgJiAweEZGIC8vIFNlYXJjaCBmb3IgYSBieXRlIHZhbHVlIFswLTI1NV1cbiAgICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQgJiZcbiAgICAgICAgdHlwZW9mIFVpbnQ4QXJyYXkucHJvdG90eXBlLmluZGV4T2YgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGlmIChkaXIpIHtcbiAgICAgICAgcmV0dXJuIFVpbnQ4QXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbChidWZmZXIsIHZhbCwgYnl0ZU9mZnNldClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBVaW50OEFycmF5LnByb3RvdHlwZS5sYXN0SW5kZXhPZi5jYWxsKGJ1ZmZlciwgdmFsLCBieXRlT2Zmc2V0KVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYXJyYXlJbmRleE9mKGJ1ZmZlciwgWyB2YWwgXSwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGRpcilcbiAgfVxuXG4gIHRocm93IG5ldyBUeXBlRXJyb3IoJ3ZhbCBtdXN0IGJlIHN0cmluZywgbnVtYmVyIG9yIEJ1ZmZlcicpXG59XG5cbmZ1bmN0aW9uIGFycmF5SW5kZXhPZiAoYXJyLCB2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCBkaXIpIHtcbiAgdmFyIGluZGV4U2l6ZSA9IDFcbiAgdmFyIGFyckxlbmd0aCA9IGFyci5sZW5ndGhcbiAgdmFyIHZhbExlbmd0aCA9IHZhbC5sZW5ndGhcblxuICBpZiAoZW5jb2RpbmcgIT09IHVuZGVmaW5lZCkge1xuICAgIGVuY29kaW5nID0gU3RyaW5nKGVuY29kaW5nKS50b0xvd2VyQ2FzZSgpXG4gICAgaWYgKGVuY29kaW5nID09PSAndWNzMicgfHwgZW5jb2RpbmcgPT09ICd1Y3MtMicgfHxcbiAgICAgICAgZW5jb2RpbmcgPT09ICd1dGYxNmxlJyB8fCBlbmNvZGluZyA9PT0gJ3V0Zi0xNmxlJykge1xuICAgICAgaWYgKGFyci5sZW5ndGggPCAyIHx8IHZhbC5sZW5ndGggPCAyKSB7XG4gICAgICAgIHJldHVybiAtMVxuICAgICAgfVxuICAgICAgaW5kZXhTaXplID0gMlxuICAgICAgYXJyTGVuZ3RoIC89IDJcbiAgICAgIHZhbExlbmd0aCAvPSAyXG4gICAgICBieXRlT2Zmc2V0IC89IDJcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZWFkIChidWYsIGkpIHtcbiAgICBpZiAoaW5kZXhTaXplID09PSAxKSB7XG4gICAgICByZXR1cm4gYnVmW2ldXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBidWYucmVhZFVJbnQxNkJFKGkgKiBpbmRleFNpemUpXG4gICAgfVxuICB9XG5cbiAgdmFyIGlcbiAgaWYgKGRpcikge1xuICAgIHZhciBmb3VuZEluZGV4ID0gLTFcbiAgICBmb3IgKGkgPSBieXRlT2Zmc2V0OyBpIDwgYXJyTGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChyZWFkKGFyciwgaSkgPT09IHJlYWQodmFsLCBmb3VuZEluZGV4ID09PSAtMSA/IDAgOiBpIC0gZm91bmRJbmRleCkpIHtcbiAgICAgICAgaWYgKGZvdW5kSW5kZXggPT09IC0xKSBmb3VuZEluZGV4ID0gaVxuICAgICAgICBpZiAoaSAtIGZvdW5kSW5kZXggKyAxID09PSB2YWxMZW5ndGgpIHJldHVybiBmb3VuZEluZGV4ICogaW5kZXhTaXplXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoZm91bmRJbmRleCAhPT0gLTEpIGkgLT0gaSAtIGZvdW5kSW5kZXhcbiAgICAgICAgZm91bmRJbmRleCA9IC0xXG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChieXRlT2Zmc2V0ICsgdmFsTGVuZ3RoID4gYXJyTGVuZ3RoKSBieXRlT2Zmc2V0ID0gYXJyTGVuZ3RoIC0gdmFsTGVuZ3RoXG4gICAgZm9yIChpID0gYnl0ZU9mZnNldDsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIHZhciBmb3VuZCA9IHRydWVcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdmFsTGVuZ3RoOyBqKyspIHtcbiAgICAgICAgaWYgKHJlYWQoYXJyLCBpICsgaikgIT09IHJlYWQodmFsLCBqKSkge1xuICAgICAgICAgIGZvdW5kID0gZmFsc2VcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoZm91bmQpIHJldHVybiBpXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIC0xXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuaW5jbHVkZXMgPSBmdW5jdGlvbiBpbmNsdWRlcyAodmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZykge1xuICByZXR1cm4gdGhpcy5pbmRleE9mKHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcpICE9PSAtMVxufVxuXG5CdWZmZXIucHJvdG90eXBlLmluZGV4T2YgPSBmdW5jdGlvbiBpbmRleE9mICh2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nKSB7XG4gIHJldHVybiBiaWRpcmVjdGlvbmFsSW5kZXhPZih0aGlzLCB2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCB0cnVlKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLmxhc3RJbmRleE9mID0gZnVuY3Rpb24gbGFzdEluZGV4T2YgKHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcpIHtcbiAgcmV0dXJuIGJpZGlyZWN0aW9uYWxJbmRleE9mKHRoaXMsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGZhbHNlKVxufVxuXG5mdW5jdGlvbiBoZXhXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIG9mZnNldCA9IE51bWJlcihvZmZzZXQpIHx8IDBcbiAgdmFyIHJlbWFpbmluZyA9IGJ1Zi5sZW5ndGggLSBvZmZzZXRcbiAgaWYgKCFsZW5ndGgpIHtcbiAgICBsZW5ndGggPSByZW1haW5pbmdcbiAgfSBlbHNlIHtcbiAgICBsZW5ndGggPSBOdW1iZXIobGVuZ3RoKVxuICAgIGlmIChsZW5ndGggPiByZW1haW5pbmcpIHtcbiAgICAgIGxlbmd0aCA9IHJlbWFpbmluZ1xuICAgIH1cbiAgfVxuXG4gIC8vIG11c3QgYmUgYW4gZXZlbiBudW1iZXIgb2YgZGlnaXRzXG4gIHZhciBzdHJMZW4gPSBzdHJpbmcubGVuZ3RoXG4gIGlmIChzdHJMZW4gJSAyICE9PSAwKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIGhleCBzdHJpbmcnKVxuXG4gIGlmIChsZW5ndGggPiBzdHJMZW4gLyAyKSB7XG4gICAgbGVuZ3RoID0gc3RyTGVuIC8gMlxuICB9XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICB2YXIgcGFyc2VkID0gcGFyc2VJbnQoc3RyaW5nLnN1YnN0cihpICogMiwgMiksIDE2KVxuICAgIGlmIChpc05hTihwYXJzZWQpKSByZXR1cm4gaVxuICAgIGJ1ZltvZmZzZXQgKyBpXSA9IHBhcnNlZFxuICB9XG4gIHJldHVybiBpXG59XG5cbmZ1bmN0aW9uIHV0ZjhXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBibGl0QnVmZmVyKHV0ZjhUb0J5dGVzKHN0cmluZywgYnVmLmxlbmd0aCAtIG9mZnNldCksIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgpXG59XG5cbmZ1bmN0aW9uIGFzY2lpV3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYmxpdEJ1ZmZlcihhc2NpaVRvQnl0ZXMoc3RyaW5nKSwgYnVmLCBvZmZzZXQsIGxlbmd0aClcbn1cblxuZnVuY3Rpb24gbGF0aW4xV3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYXNjaWlXcml0ZShidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG59XG5cbmZ1bmN0aW9uIGJhc2U2NFdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGJsaXRCdWZmZXIoYmFzZTY0VG9CeXRlcyhzdHJpbmcpLCBidWYsIG9mZnNldCwgbGVuZ3RoKVxufVxuXG5mdW5jdGlvbiB1Y3MyV3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYmxpdEJ1ZmZlcih1dGYxNmxlVG9CeXRlcyhzdHJpbmcsIGJ1Zi5sZW5ndGggLSBvZmZzZXQpLCBidWYsIG9mZnNldCwgbGVuZ3RoKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlID0gZnVuY3Rpb24gd3JpdGUgKHN0cmluZywgb2Zmc2V0LCBsZW5ndGgsIGVuY29kaW5nKSB7XG4gIC8vIEJ1ZmZlciN3cml0ZShzdHJpbmcpXG4gIGlmIChvZmZzZXQgPT09IHVuZGVmaW5lZCkge1xuICAgIGVuY29kaW5nID0gJ3V0ZjgnXG4gICAgbGVuZ3RoID0gdGhpcy5sZW5ndGhcbiAgICBvZmZzZXQgPSAwXG4gIC8vIEJ1ZmZlciN3cml0ZShzdHJpbmcsIGVuY29kaW5nKVxuICB9IGVsc2UgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkICYmIHR5cGVvZiBvZmZzZXQgPT09ICdzdHJpbmcnKSB7XG4gICAgZW5jb2RpbmcgPSBvZmZzZXRcbiAgICBsZW5ndGggPSB0aGlzLmxlbmd0aFxuICAgIG9mZnNldCA9IDBcbiAgLy8gQnVmZmVyI3dyaXRlKHN0cmluZywgb2Zmc2V0WywgbGVuZ3RoXVssIGVuY29kaW5nXSlcbiAgfSBlbHNlIGlmIChpc0Zpbml0ZShvZmZzZXQpKSB7XG4gICAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICAgIGlmIChpc0Zpbml0ZShsZW5ndGgpKSB7XG4gICAgICBsZW5ndGggPSBsZW5ndGggfCAwXG4gICAgICBpZiAoZW5jb2RpbmcgPT09IHVuZGVmaW5lZCkgZW5jb2RpbmcgPSAndXRmOCdcbiAgICB9IGVsc2Uge1xuICAgICAgZW5jb2RpbmcgPSBsZW5ndGhcbiAgICAgIGxlbmd0aCA9IHVuZGVmaW5lZFxuICAgIH1cbiAgLy8gbGVnYWN5IHdyaXRlKHN0cmluZywgZW5jb2RpbmcsIG9mZnNldCwgbGVuZ3RoKSAtIHJlbW92ZSBpbiB2MC4xM1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICdCdWZmZXIud3JpdGUoc3RyaW5nLCBlbmNvZGluZywgb2Zmc2V0WywgbGVuZ3RoXSkgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZCdcbiAgICApXG4gIH1cblxuICB2YXIgcmVtYWluaW5nID0gdGhpcy5sZW5ndGggLSBvZmZzZXRcbiAgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkIHx8IGxlbmd0aCA+IHJlbWFpbmluZykgbGVuZ3RoID0gcmVtYWluaW5nXG5cbiAgaWYgKChzdHJpbmcubGVuZ3RoID4gMCAmJiAobGVuZ3RoIDwgMCB8fCBvZmZzZXQgPCAwKSkgfHwgb2Zmc2V0ID4gdGhpcy5sZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQXR0ZW1wdCB0byB3cml0ZSBvdXRzaWRlIGJ1ZmZlciBib3VuZHMnKVxuICB9XG5cbiAgaWYgKCFlbmNvZGluZykgZW5jb2RpbmcgPSAndXRmOCdcblxuICB2YXIgbG93ZXJlZENhc2UgPSBmYWxzZVxuICBmb3IgKDs7KSB7XG4gICAgc3dpdGNoIChlbmNvZGluZykge1xuICAgICAgY2FzZSAnaGV4JzpcbiAgICAgICAgcmV0dXJuIGhleFdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGNhc2UgJ3V0ZjgnOlxuICAgICAgY2FzZSAndXRmLTgnOlxuICAgICAgICByZXR1cm4gdXRmOFdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGNhc2UgJ2FzY2lpJzpcbiAgICAgICAgcmV0dXJuIGFzY2lpV3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgY2FzZSAnbGF0aW4xJzpcbiAgICAgIGNhc2UgJ2JpbmFyeSc6XG4gICAgICAgIHJldHVybiBsYXRpbjFXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBjYXNlICdiYXNlNjQnOlxuICAgICAgICAvLyBXYXJuaW5nOiBtYXhMZW5ndGggbm90IHRha2VuIGludG8gYWNjb3VudCBpbiBiYXNlNjRXcml0ZVxuICAgICAgICByZXR1cm4gYmFzZTY0V3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgY2FzZSAndWNzMic6XG4gICAgICBjYXNlICd1Y3MtMic6XG4gICAgICBjYXNlICd1dGYxNmxlJzpcbiAgICAgIGNhc2UgJ3V0Zi0xNmxlJzpcbiAgICAgICAgcmV0dXJuIHVjczJXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAobG93ZXJlZENhc2UpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Vua25vd24gZW5jb2Rpbmc6ICcgKyBlbmNvZGluZylcbiAgICAgICAgZW5jb2RpbmcgPSAoJycgKyBlbmNvZGluZykudG9Mb3dlckNhc2UoKVxuICAgICAgICBsb3dlcmVkQ2FzZSA9IHRydWVcbiAgICB9XG4gIH1cbn1cblxuQnVmZmVyLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiB0b0pTT04gKCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6ICdCdWZmZXInLFxuICAgIGRhdGE6IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHRoaXMuX2FyciB8fCB0aGlzLCAwKVxuICB9XG59XG5cbmZ1bmN0aW9uIGJhc2U2NFNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgaWYgKHN0YXJ0ID09PSAwICYmIGVuZCA9PT0gYnVmLmxlbmd0aCkge1xuICAgIHJldHVybiBiYXNlNjQuZnJvbUJ5dGVBcnJheShidWYpXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGJhc2U2NC5mcm9tQnl0ZUFycmF5KGJ1Zi5zbGljZShzdGFydCwgZW5kKSlcbiAgfVxufVxuXG5mdW5jdGlvbiB1dGY4U2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICBlbmQgPSBNYXRoLm1pbihidWYubGVuZ3RoLCBlbmQpXG4gIHZhciByZXMgPSBbXVxuXG4gIHZhciBpID0gc3RhcnRcbiAgd2hpbGUgKGkgPCBlbmQpIHtcbiAgICB2YXIgZmlyc3RCeXRlID0gYnVmW2ldXG4gICAgdmFyIGNvZGVQb2ludCA9IG51bGxcbiAgICB2YXIgYnl0ZXNQZXJTZXF1ZW5jZSA9IChmaXJzdEJ5dGUgPiAweEVGKSA/IDRcbiAgICAgIDogKGZpcnN0Qnl0ZSA+IDB4REYpID8gM1xuICAgICAgOiAoZmlyc3RCeXRlID4gMHhCRikgPyAyXG4gICAgICA6IDFcblxuICAgIGlmIChpICsgYnl0ZXNQZXJTZXF1ZW5jZSA8PSBlbmQpIHtcbiAgICAgIHZhciBzZWNvbmRCeXRlLCB0aGlyZEJ5dGUsIGZvdXJ0aEJ5dGUsIHRlbXBDb2RlUG9pbnRcblxuICAgICAgc3dpdGNoIChieXRlc1BlclNlcXVlbmNlKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBpZiAoZmlyc3RCeXRlIDwgMHg4MCkge1xuICAgICAgICAgICAgY29kZVBvaW50ID0gZmlyc3RCeXRlXG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICBzZWNvbmRCeXRlID0gYnVmW2kgKyAxXVxuICAgICAgICAgIGlmICgoc2Vjb25kQnl0ZSAmIDB4QzApID09PSAweDgwKSB7XG4gICAgICAgICAgICB0ZW1wQ29kZVBvaW50ID0gKGZpcnN0Qnl0ZSAmIDB4MUYpIDw8IDB4NiB8IChzZWNvbmRCeXRlICYgMHgzRilcbiAgICAgICAgICAgIGlmICh0ZW1wQ29kZVBvaW50ID4gMHg3Rikge1xuICAgICAgICAgICAgICBjb2RlUG9pbnQgPSB0ZW1wQ29kZVBvaW50XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICBzZWNvbmRCeXRlID0gYnVmW2kgKyAxXVxuICAgICAgICAgIHRoaXJkQnl0ZSA9IGJ1ZltpICsgMl1cbiAgICAgICAgICBpZiAoKHNlY29uZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCAmJiAodGhpcmRCeXRlICYgMHhDMCkgPT09IDB4ODApIHtcbiAgICAgICAgICAgIHRlbXBDb2RlUG9pbnQgPSAoZmlyc3RCeXRlICYgMHhGKSA8PCAweEMgfCAoc2Vjb25kQnl0ZSAmIDB4M0YpIDw8IDB4NiB8ICh0aGlyZEJ5dGUgJiAweDNGKVxuICAgICAgICAgICAgaWYgKHRlbXBDb2RlUG9pbnQgPiAweDdGRiAmJiAodGVtcENvZGVQb2ludCA8IDB4RDgwMCB8fCB0ZW1wQ29kZVBvaW50ID4gMHhERkZGKSkge1xuICAgICAgICAgICAgICBjb2RlUG9pbnQgPSB0ZW1wQ29kZVBvaW50XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICBzZWNvbmRCeXRlID0gYnVmW2kgKyAxXVxuICAgICAgICAgIHRoaXJkQnl0ZSA9IGJ1ZltpICsgMl1cbiAgICAgICAgICBmb3VydGhCeXRlID0gYnVmW2kgKyAzXVxuICAgICAgICAgIGlmICgoc2Vjb25kQnl0ZSAmIDB4QzApID09PSAweDgwICYmICh0aGlyZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCAmJiAoZm91cnRoQnl0ZSAmIDB4QzApID09PSAweDgwKSB7XG4gICAgICAgICAgICB0ZW1wQ29kZVBvaW50ID0gKGZpcnN0Qnl0ZSAmIDB4RikgPDwgMHgxMiB8IChzZWNvbmRCeXRlICYgMHgzRikgPDwgMHhDIHwgKHRoaXJkQnl0ZSAmIDB4M0YpIDw8IDB4NiB8IChmb3VydGhCeXRlICYgMHgzRilcbiAgICAgICAgICAgIGlmICh0ZW1wQ29kZVBvaW50ID4gMHhGRkZGICYmIHRlbXBDb2RlUG9pbnQgPCAweDExMDAwMCkge1xuICAgICAgICAgICAgICBjb2RlUG9pbnQgPSB0ZW1wQ29kZVBvaW50XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChjb2RlUG9pbnQgPT09IG51bGwpIHtcbiAgICAgIC8vIHdlIGRpZCBub3QgZ2VuZXJhdGUgYSB2YWxpZCBjb2RlUG9pbnQgc28gaW5zZXJ0IGFcbiAgICAgIC8vIHJlcGxhY2VtZW50IGNoYXIgKFUrRkZGRCkgYW5kIGFkdmFuY2Ugb25seSAxIGJ5dGVcbiAgICAgIGNvZGVQb2ludCA9IDB4RkZGRFxuICAgICAgYnl0ZXNQZXJTZXF1ZW5jZSA9IDFcbiAgICB9IGVsc2UgaWYgKGNvZGVQb2ludCA+IDB4RkZGRikge1xuICAgICAgLy8gZW5jb2RlIHRvIHV0ZjE2IChzdXJyb2dhdGUgcGFpciBkYW5jZSlcbiAgICAgIGNvZGVQb2ludCAtPSAweDEwMDAwXG4gICAgICByZXMucHVzaChjb2RlUG9pbnQgPj4+IDEwICYgMHgzRkYgfCAweEQ4MDApXG4gICAgICBjb2RlUG9pbnQgPSAweERDMDAgfCBjb2RlUG9pbnQgJiAweDNGRlxuICAgIH1cblxuICAgIHJlcy5wdXNoKGNvZGVQb2ludClcbiAgICBpICs9IGJ5dGVzUGVyU2VxdWVuY2VcbiAgfVxuXG4gIHJldHVybiBkZWNvZGVDb2RlUG9pbnRzQXJyYXkocmVzKVxufVxuXG4vLyBCYXNlZCBvbiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yMjc0NzI3Mi82ODA3NDIsIHRoZSBicm93c2VyIHdpdGhcbi8vIHRoZSBsb3dlc3QgbGltaXQgaXMgQ2hyb21lLCB3aXRoIDB4MTAwMDAgYXJncy5cbi8vIFdlIGdvIDEgbWFnbml0dWRlIGxlc3MsIGZvciBzYWZldHlcbnZhciBNQVhfQVJHVU1FTlRTX0xFTkdUSCA9IDB4MTAwMFxuXG5mdW5jdGlvbiBkZWNvZGVDb2RlUG9pbnRzQXJyYXkgKGNvZGVQb2ludHMpIHtcbiAgdmFyIGxlbiA9IGNvZGVQb2ludHMubGVuZ3RoXG4gIGlmIChsZW4gPD0gTUFYX0FSR1VNRU5UU19MRU5HVEgpIHtcbiAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsIGNvZGVQb2ludHMpIC8vIGF2b2lkIGV4dHJhIHNsaWNlKClcbiAgfVxuXG4gIC8vIERlY29kZSBpbiBjaHVua3MgdG8gYXZvaWQgXCJjYWxsIHN0YWNrIHNpemUgZXhjZWVkZWRcIi5cbiAgdmFyIHJlcyA9ICcnXG4gIHZhciBpID0gMFxuICB3aGlsZSAoaSA8IGxlbikge1xuICAgIHJlcyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFxuICAgICAgU3RyaW5nLFxuICAgICAgY29kZVBvaW50cy5zbGljZShpLCBpICs9IE1BWF9BUkdVTUVOVFNfTEVOR1RIKVxuICAgIClcbiAgfVxuICByZXR1cm4gcmVzXG59XG5cbmZ1bmN0aW9uIGFzY2lpU2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICB2YXIgcmV0ID0gJydcbiAgZW5kID0gTWF0aC5taW4oYnVmLmxlbmd0aCwgZW5kKVxuXG4gIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgKytpKSB7XG4gICAgcmV0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnVmW2ldICYgMHg3RilcbiAgfVxuICByZXR1cm4gcmV0XG59XG5cbmZ1bmN0aW9uIGxhdGluMVNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIHJldCA9ICcnXG4gIGVuZCA9IE1hdGgubWluKGJ1Zi5sZW5ndGgsIGVuZClcblxuICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPCBlbmQ7ICsraSkge1xuICAgIHJldCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ1ZltpXSlcbiAgfVxuICByZXR1cm4gcmV0XG59XG5cbmZ1bmN0aW9uIGhleFNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIGxlbiA9IGJ1Zi5sZW5ndGhcblxuICBpZiAoIXN0YXJ0IHx8IHN0YXJ0IDwgMCkgc3RhcnQgPSAwXG4gIGlmICghZW5kIHx8IGVuZCA8IDAgfHwgZW5kID4gbGVuKSBlbmQgPSBsZW5cblxuICB2YXIgb3V0ID0gJydcbiAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyArK2kpIHtcbiAgICBvdXQgKz0gdG9IZXgoYnVmW2ldKVxuICB9XG4gIHJldHVybiBvdXRcbn1cblxuZnVuY3Rpb24gdXRmMTZsZVNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIGJ5dGVzID0gYnVmLnNsaWNlKHN0YXJ0LCBlbmQpXG4gIHZhciByZXMgPSAnJ1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGJ5dGVzLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgcmVzICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnl0ZXNbaV0gKyBieXRlc1tpICsgMV0gKiAyNTYpXG4gIH1cbiAgcmV0dXJuIHJlc1xufVxuXG5CdWZmZXIucHJvdG90eXBlLnNsaWNlID0gZnVuY3Rpb24gc2xpY2UgKHN0YXJ0LCBlbmQpIHtcbiAgdmFyIGxlbiA9IHRoaXMubGVuZ3RoXG4gIHN0YXJ0ID0gfn5zdGFydFxuICBlbmQgPSBlbmQgPT09IHVuZGVmaW5lZCA/IGxlbiA6IH5+ZW5kXG5cbiAgaWYgKHN0YXJ0IDwgMCkge1xuICAgIHN0YXJ0ICs9IGxlblxuICAgIGlmIChzdGFydCA8IDApIHN0YXJ0ID0gMFxuICB9IGVsc2UgaWYgKHN0YXJ0ID4gbGVuKSB7XG4gICAgc3RhcnQgPSBsZW5cbiAgfVxuXG4gIGlmIChlbmQgPCAwKSB7XG4gICAgZW5kICs9IGxlblxuICAgIGlmIChlbmQgPCAwKSBlbmQgPSAwXG4gIH0gZWxzZSBpZiAoZW5kID4gbGVuKSB7XG4gICAgZW5kID0gbGVuXG4gIH1cblxuICBpZiAoZW5kIDwgc3RhcnQpIGVuZCA9IHN0YXJ0XG5cbiAgdmFyIG5ld0J1ZlxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICBuZXdCdWYgPSB0aGlzLnN1YmFycmF5KHN0YXJ0LCBlbmQpXG4gICAgbmV3QnVmLl9fcHJvdG9fXyA9IEJ1ZmZlci5wcm90b3R5cGVcbiAgfSBlbHNlIHtcbiAgICB2YXIgc2xpY2VMZW4gPSBlbmQgLSBzdGFydFxuICAgIG5ld0J1ZiA9IG5ldyBCdWZmZXIoc2xpY2VMZW4sIHVuZGVmaW5lZClcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNsaWNlTGVuOyArK2kpIHtcbiAgICAgIG5ld0J1ZltpXSA9IHRoaXNbaSArIHN0YXJ0XVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuZXdCdWZcbn1cblxuLypcbiAqIE5lZWQgdG8gbWFrZSBzdXJlIHRoYXQgYnVmZmVyIGlzbid0IHRyeWluZyB0byB3cml0ZSBvdXQgb2YgYm91bmRzLlxuICovXG5mdW5jdGlvbiBjaGVja09mZnNldCAob2Zmc2V0LCBleHQsIGxlbmd0aCkge1xuICBpZiAoKG9mZnNldCAlIDEpICE9PSAwIHx8IG9mZnNldCA8IDApIHRocm93IG5ldyBSYW5nZUVycm9yKCdvZmZzZXQgaXMgbm90IHVpbnQnKVxuICBpZiAob2Zmc2V0ICsgZXh0ID4gbGVuZ3RoKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignVHJ5aW5nIHRvIGFjY2VzcyBiZXlvbmQgYnVmZmVyIGxlbmd0aCcpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnRMRSA9IGZ1bmN0aW9uIHJlYWRVSW50TEUgKG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCBieXRlTGVuZ3RoLCB0aGlzLmxlbmd0aClcblxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXRdXG4gIHZhciBtdWwgPSAxXG4gIHZhciBpID0gMFxuICB3aGlsZSAoKytpIDwgYnl0ZUxlbmd0aCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHZhbCArPSB0aGlzW29mZnNldCArIGldICogbXVsXG4gIH1cblxuICByZXR1cm4gdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnRCRSA9IGZ1bmN0aW9uIHJlYWRVSW50QkUgKG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIGNoZWNrT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCwgdGhpcy5sZW5ndGgpXG4gIH1cblxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXQgKyAtLWJ5dGVMZW5ndGhdXG4gIHZhciBtdWwgPSAxXG4gIHdoaWxlIChieXRlTGVuZ3RoID4gMCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHZhbCArPSB0aGlzW29mZnNldCArIC0tYnl0ZUxlbmd0aF0gKiBtdWxcbiAgfVxuXG4gIHJldHVybiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDggPSBmdW5jdGlvbiByZWFkVUludDggKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAxLCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIHRoaXNbb2Zmc2V0XVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MTZMRSA9IGZ1bmN0aW9uIHJlYWRVSW50MTZMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDIsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gdGhpc1tvZmZzZXRdIHwgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgOClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDE2QkUgPSBmdW5jdGlvbiByZWFkVUludDE2QkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAyLCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuICh0aGlzW29mZnNldF0gPDwgOCkgfCB0aGlzW29mZnNldCArIDFdXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQzMkxFID0gZnVuY3Rpb24gcmVhZFVJbnQzMkxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG5cbiAgcmV0dXJuICgodGhpc1tvZmZzZXRdKSB8XG4gICAgICAodGhpc1tvZmZzZXQgKyAxXSA8PCA4KSB8XG4gICAgICAodGhpc1tvZmZzZXQgKyAyXSA8PCAxNikpICtcbiAgICAgICh0aGlzW29mZnNldCArIDNdICogMHgxMDAwMDAwKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MzJCRSA9IGZ1bmN0aW9uIHJlYWRVSW50MzJCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuXG4gIHJldHVybiAodGhpc1tvZmZzZXRdICogMHgxMDAwMDAwKSArXG4gICAgKCh0aGlzW29mZnNldCArIDFdIDw8IDE2KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgMl0gPDwgOCkgfFxuICAgIHRoaXNbb2Zmc2V0ICsgM10pXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludExFID0gZnVuY3Rpb24gcmVhZEludExFIChvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCwgdGhpcy5sZW5ndGgpXG5cbiAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0XVxuICB2YXIgbXVsID0gMVxuICB2YXIgaSA9IDBcbiAgd2hpbGUgKCsraSA8IGJ5dGVMZW5ndGggJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB2YWwgKz0gdGhpc1tvZmZzZXQgKyBpXSAqIG11bFxuICB9XG4gIG11bCAqPSAweDgwXG5cbiAgaWYgKHZhbCA+PSBtdWwpIHZhbCAtPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aClcblxuICByZXR1cm4gdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludEJFID0gZnVuY3Rpb24gcmVhZEludEJFIChvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCwgdGhpcy5sZW5ndGgpXG5cbiAgdmFyIGkgPSBieXRlTGVuZ3RoXG4gIHZhciBtdWwgPSAxXG4gIHZhciB2YWwgPSB0aGlzW29mZnNldCArIC0taV1cbiAgd2hpbGUgKGkgPiAwICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdmFsICs9IHRoaXNbb2Zmc2V0ICsgLS1pXSAqIG11bFxuICB9XG4gIG11bCAqPSAweDgwXG5cbiAgaWYgKHZhbCA+PSBtdWwpIHZhbCAtPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aClcblxuICByZXR1cm4gdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDggPSBmdW5jdGlvbiByZWFkSW50OCAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDEsIHRoaXMubGVuZ3RoKVxuICBpZiAoISh0aGlzW29mZnNldF0gJiAweDgwKSkgcmV0dXJuICh0aGlzW29mZnNldF0pXG4gIHJldHVybiAoKDB4ZmYgLSB0aGlzW29mZnNldF0gKyAxKSAqIC0xKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQxNkxFID0gZnVuY3Rpb24gcmVhZEludDE2TEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAyLCB0aGlzLmxlbmd0aClcbiAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0XSB8ICh0aGlzW29mZnNldCArIDFdIDw8IDgpXG4gIHJldHVybiAodmFsICYgMHg4MDAwKSA/IHZhbCB8IDB4RkZGRjAwMDAgOiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MTZCRSA9IGZ1bmN0aW9uIHJlYWRJbnQxNkJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMiwgdGhpcy5sZW5ndGgpXG4gIHZhciB2YWwgPSB0aGlzW29mZnNldCArIDFdIHwgKHRoaXNbb2Zmc2V0XSA8PCA4KVxuICByZXR1cm4gKHZhbCAmIDB4ODAwMCkgPyB2YWwgfCAweEZGRkYwMDAwIDogdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDMyTEUgPSBmdW5jdGlvbiByZWFkSW50MzJMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuXG4gIHJldHVybiAodGhpc1tvZmZzZXRdKSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgOCkgfFxuICAgICh0aGlzW29mZnNldCArIDJdIDw8IDE2KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgM10gPDwgMjQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDMyQkUgPSBmdW5jdGlvbiByZWFkSW50MzJCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuXG4gIHJldHVybiAodGhpc1tvZmZzZXRdIDw8IDI0KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgMTYpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAyXSA8PCA4KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgM10pXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEZsb2F0TEUgPSBmdW5jdGlvbiByZWFkRmxvYXRMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gaWVlZTc1NC5yZWFkKHRoaXMsIG9mZnNldCwgdHJ1ZSwgMjMsIDQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEZsb2F0QkUgPSBmdW5jdGlvbiByZWFkRmxvYXRCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gaWVlZTc1NC5yZWFkKHRoaXMsIG9mZnNldCwgZmFsc2UsIDIzLCA0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWREb3VibGVMRSA9IGZ1bmN0aW9uIHJlYWREb3VibGVMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDgsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gaWVlZTc1NC5yZWFkKHRoaXMsIG9mZnNldCwgdHJ1ZSwgNTIsIDgpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZERvdWJsZUJFID0gZnVuY3Rpb24gcmVhZERvdWJsZUJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgOCwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiBpZWVlNzU0LnJlYWQodGhpcywgb2Zmc2V0LCBmYWxzZSwgNTIsIDgpXG59XG5cbmZ1bmN0aW9uIGNoZWNrSW50IChidWYsIHZhbHVlLCBvZmZzZXQsIGV4dCwgbWF4LCBtaW4pIHtcbiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIoYnVmKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJidWZmZXJcIiBhcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyIGluc3RhbmNlJylcbiAgaWYgKHZhbHVlID4gbWF4IHx8IHZhbHVlIDwgbWluKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignXCJ2YWx1ZVwiIGFyZ3VtZW50IGlzIG91dCBvZiBib3VuZHMnKVxuICBpZiAob2Zmc2V0ICsgZXh0ID4gYnVmLmxlbmd0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0luZGV4IG91dCBvZiByYW5nZScpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50TEUgPSBmdW5jdGlvbiB3cml0ZVVJbnRMRSAodmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIHZhciBtYXhCeXRlcyA9IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoKSAtIDFcbiAgICBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBtYXhCeXRlcywgMClcbiAgfVxuXG4gIHZhciBtdWwgPSAxXG4gIHZhciBpID0gMFxuICB0aGlzW29mZnNldF0gPSB2YWx1ZSAmIDB4RkZcbiAgd2hpbGUgKCsraSA8IGJ5dGVMZW5ndGggJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB0aGlzW29mZnNldCArIGldID0gKHZhbHVlIC8gbXVsKSAmIDB4RkZcbiAgfVxuXG4gIHJldHVybiBvZmZzZXQgKyBieXRlTGVuZ3RoXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50QkUgPSBmdW5jdGlvbiB3cml0ZVVJbnRCRSAodmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIHZhciBtYXhCeXRlcyA9IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoKSAtIDFcbiAgICBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBtYXhCeXRlcywgMClcbiAgfVxuXG4gIHZhciBpID0gYnl0ZUxlbmd0aCAtIDFcbiAgdmFyIG11bCA9IDFcbiAgdGhpc1tvZmZzZXQgKyBpXSA9IHZhbHVlICYgMHhGRlxuICB3aGlsZSAoLS1pID49IDAgJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB0aGlzW29mZnNldCArIGldID0gKHZhbHVlIC8gbXVsKSAmIDB4RkZcbiAgfVxuXG4gIHJldHVybiBvZmZzZXQgKyBieXRlTGVuZ3RoXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50OCA9IGZ1bmN0aW9uIHdyaXRlVUludDggKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMSwgMHhmZiwgMClcbiAgaWYgKCFCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkgdmFsdWUgPSBNYXRoLmZsb29yKHZhbHVlKVxuICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICByZXR1cm4gb2Zmc2V0ICsgMVxufVxuXG5mdW5jdGlvbiBvYmplY3RXcml0ZVVJbnQxNiAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4pIHtcbiAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAweGZmZmYgKyB2YWx1ZSArIDFcbiAgZm9yICh2YXIgaSA9IDAsIGogPSBNYXRoLm1pbihidWYubGVuZ3RoIC0gb2Zmc2V0LCAyKTsgaSA8IGo7ICsraSkge1xuICAgIGJ1ZltvZmZzZXQgKyBpXSA9ICh2YWx1ZSAmICgweGZmIDw8ICg4ICogKGxpdHRsZUVuZGlhbiA/IGkgOiAxIC0gaSkpKSkgPj4+XG4gICAgICAobGl0dGxlRW5kaWFuID8gaSA6IDEgLSBpKSAqIDhcbiAgfVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDE2TEUgPSBmdW5jdGlvbiB3cml0ZVVJbnQxNkxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDIsIDB4ZmZmZiwgMClcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiA4KVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDE2KHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDJcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQxNkJFID0gZnVuY3Rpb24gd3JpdGVVSW50MTZCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAyLCAweGZmZmYsIDApXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSA+Pj4gOClcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlICYgMHhmZilcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQxNih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgMlxufVxuXG5mdW5jdGlvbiBvYmplY3RXcml0ZVVJbnQzMiAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4pIHtcbiAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAweGZmZmZmZmZmICsgdmFsdWUgKyAxXG4gIGZvciAodmFyIGkgPSAwLCBqID0gTWF0aC5taW4oYnVmLmxlbmd0aCAtIG9mZnNldCwgNCk7IGkgPCBqOyArK2kpIHtcbiAgICBidWZbb2Zmc2V0ICsgaV0gPSAodmFsdWUgPj4+IChsaXR0bGVFbmRpYW4gPyBpIDogMyAtIGkpICogOCkgJiAweGZmXG4gIH1cbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQzMkxFID0gZnVuY3Rpb24gd3JpdGVVSW50MzJMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCA0LCAweGZmZmZmZmZmLCAwKVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldCArIDNdID0gKHZhbHVlID4+PiAyNClcbiAgICB0aGlzW29mZnNldCArIDJdID0gKHZhbHVlID4+PiAxNilcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiA4KVxuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MzIodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDMyQkUgPSBmdW5jdGlvbiB3cml0ZVVJbnQzMkJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDQsIDB4ZmZmZmZmZmYsIDApXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSA+Pj4gMjQpXG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gMTYpXG4gICAgdGhpc1tvZmZzZXQgKyAyXSA9ICh2YWx1ZSA+Pj4gOClcbiAgICB0aGlzW29mZnNldCArIDNdID0gKHZhbHVlICYgMHhmZilcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQzMih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50TEUgPSBmdW5jdGlvbiB3cml0ZUludExFICh2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICB2YXIgbGltaXQgPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aCAtIDEpXG5cbiAgICBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBsaW1pdCAtIDEsIC1saW1pdClcbiAgfVxuXG4gIHZhciBpID0gMFxuICB2YXIgbXVsID0gMVxuICB2YXIgc3ViID0gMFxuICB0aGlzW29mZnNldF0gPSB2YWx1ZSAmIDB4RkZcbiAgd2hpbGUgKCsraSA8IGJ5dGVMZW5ndGggJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICBpZiAodmFsdWUgPCAwICYmIHN1YiA9PT0gMCAmJiB0aGlzW29mZnNldCArIGkgLSAxXSAhPT0gMCkge1xuICAgICAgc3ViID0gMVxuICAgIH1cbiAgICB0aGlzW29mZnNldCArIGldID0gKCh2YWx1ZSAvIG11bCkgPj4gMCkgLSBzdWIgJiAweEZGXG4gIH1cblxuICByZXR1cm4gb2Zmc2V0ICsgYnl0ZUxlbmd0aFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50QkUgPSBmdW5jdGlvbiB3cml0ZUludEJFICh2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICB2YXIgbGltaXQgPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aCAtIDEpXG5cbiAgICBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBsaW1pdCAtIDEsIC1saW1pdClcbiAgfVxuXG4gIHZhciBpID0gYnl0ZUxlbmd0aCAtIDFcbiAgdmFyIG11bCA9IDFcbiAgdmFyIHN1YiA9IDBcbiAgdGhpc1tvZmZzZXQgKyBpXSA9IHZhbHVlICYgMHhGRlxuICB3aGlsZSAoLS1pID49IDAgJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICBpZiAodmFsdWUgPCAwICYmIHN1YiA9PT0gMCAmJiB0aGlzW29mZnNldCArIGkgKyAxXSAhPT0gMCkge1xuICAgICAgc3ViID0gMVxuICAgIH1cbiAgICB0aGlzW29mZnNldCArIGldID0gKCh2YWx1ZSAvIG11bCkgPj4gMCkgLSBzdWIgJiAweEZGXG4gIH1cblxuICByZXR1cm4gb2Zmc2V0ICsgYnl0ZUxlbmd0aFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50OCA9IGZ1bmN0aW9uIHdyaXRlSW50OCAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAxLCAweDdmLCAtMHg4MClcbiAgaWYgKCFCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkgdmFsdWUgPSBNYXRoLmZsb29yKHZhbHVlKVxuICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDB4ZmYgKyB2YWx1ZSArIDFcbiAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgcmV0dXJuIG9mZnNldCArIDFcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDE2TEUgPSBmdW5jdGlvbiB3cml0ZUludDE2TEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMiwgMHg3ZmZmLCAtMHg4MDAwKVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDgpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MTYodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgMlxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50MTZCRSA9IGZ1bmN0aW9uIHdyaXRlSW50MTZCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAyLCAweDdmZmYsIC0weDgwMDApXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSA+Pj4gOClcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlICYgMHhmZilcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQxNih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgMlxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50MzJMRSA9IGZ1bmN0aW9uIHdyaXRlSW50MzJMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCA0LCAweDdmZmZmZmZmLCAtMHg4MDAwMDAwMClcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiA4KVxuICAgIHRoaXNbb2Zmc2V0ICsgMl0gPSAodmFsdWUgPj4+IDE2KVxuICAgIHRoaXNbb2Zmc2V0ICsgM10gPSAodmFsdWUgPj4+IDI0KVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDMyKHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDRcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDMyQkUgPSBmdW5jdGlvbiB3cml0ZUludDMyQkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgNCwgMHg3ZmZmZmZmZiwgLTB4ODAwMDAwMDApXG4gIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMHhmZmZmZmZmZiArIHZhbHVlICsgMVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgPj4+IDI0KVxuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDE2KVxuICAgIHRoaXNbb2Zmc2V0ICsgMl0gPSAodmFsdWUgPj4+IDgpXG4gICAgdGhpc1tvZmZzZXQgKyAzXSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MzIodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDRcbn1cblxuZnVuY3Rpb24gY2hlY2tJRUVFNzU0IChidWYsIHZhbHVlLCBvZmZzZXQsIGV4dCwgbWF4LCBtaW4pIHtcbiAgaWYgKG9mZnNldCArIGV4dCA+IGJ1Zi5sZW5ndGgpIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbmRleCBvdXQgb2YgcmFuZ2UnKVxuICBpZiAob2Zmc2V0IDwgMCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0luZGV4IG91dCBvZiByYW5nZScpXG59XG5cbmZ1bmN0aW9uIHdyaXRlRmxvYXQgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgY2hlY2tJRUVFNzU0KGJ1ZiwgdmFsdWUsIG9mZnNldCwgNCwgMy40MDI4MjM0NjYzODUyODg2ZSszOCwgLTMuNDAyODIzNDY2Mzg1Mjg4NmUrMzgpXG4gIH1cbiAgaWVlZTc1NC53cml0ZShidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgMjMsIDQpXG4gIHJldHVybiBvZmZzZXQgKyA0XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVGbG9hdExFID0gZnVuY3Rpb24gd3JpdGVGbG9hdExFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gd3JpdGVGbG9hdCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlLCBub0Fzc2VydClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUZsb2F0QkUgPSBmdW5jdGlvbiB3cml0ZUZsb2F0QkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHJldHVybiB3cml0ZUZsb2F0KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlLCBub0Fzc2VydClcbn1cblxuZnVuY3Rpb24gd3JpdGVEb3VibGUgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgY2hlY2tJRUVFNzU0KGJ1ZiwgdmFsdWUsIG9mZnNldCwgOCwgMS43OTc2OTMxMzQ4NjIzMTU3RSszMDgsIC0xLjc5NzY5MzEzNDg2MjMxNTdFKzMwOClcbiAgfVxuICBpZWVlNzU0LndyaXRlKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCA1MiwgOClcbiAgcmV0dXJuIG9mZnNldCArIDhcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZURvdWJsZUxFID0gZnVuY3Rpb24gd3JpdGVEb3VibGVMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgcmV0dXJuIHdyaXRlRG91YmxlKHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUsIG5vQXNzZXJ0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlRG91YmxlQkUgPSBmdW5jdGlvbiB3cml0ZURvdWJsZUJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gd3JpdGVEb3VibGUodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UsIG5vQXNzZXJ0KVxufVxuXG4vLyBjb3B5KHRhcmdldEJ1ZmZlciwgdGFyZ2V0U3RhcnQ9MCwgc291cmNlU3RhcnQ9MCwgc291cmNlRW5kPWJ1ZmZlci5sZW5ndGgpXG5CdWZmZXIucHJvdG90eXBlLmNvcHkgPSBmdW5jdGlvbiBjb3B5ICh0YXJnZXQsIHRhcmdldFN0YXJ0LCBzdGFydCwgZW5kKSB7XG4gIGlmICghc3RhcnQpIHN0YXJ0ID0gMFxuICBpZiAoIWVuZCAmJiBlbmQgIT09IDApIGVuZCA9IHRoaXMubGVuZ3RoXG4gIGlmICh0YXJnZXRTdGFydCA+PSB0YXJnZXQubGVuZ3RoKSB0YXJnZXRTdGFydCA9IHRhcmdldC5sZW5ndGhcbiAgaWYgKCF0YXJnZXRTdGFydCkgdGFyZ2V0U3RhcnQgPSAwXG4gIGlmIChlbmQgPiAwICYmIGVuZCA8IHN0YXJ0KSBlbmQgPSBzdGFydFxuXG4gIC8vIENvcHkgMCBieXRlczsgd2UncmUgZG9uZVxuICBpZiAoZW5kID09PSBzdGFydCkgcmV0dXJuIDBcbiAgaWYgKHRhcmdldC5sZW5ndGggPT09IDAgfHwgdGhpcy5sZW5ndGggPT09IDApIHJldHVybiAwXG5cbiAgLy8gRmF0YWwgZXJyb3IgY29uZGl0aW9uc1xuICBpZiAodGFyZ2V0U3RhcnQgPCAwKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ3RhcmdldFN0YXJ0IG91dCBvZiBib3VuZHMnKVxuICB9XG4gIGlmIChzdGFydCA8IDAgfHwgc3RhcnQgPj0gdGhpcy5sZW5ndGgpIHRocm93IG5ldyBSYW5nZUVycm9yKCdzb3VyY2VTdGFydCBvdXQgb2YgYm91bmRzJylcbiAgaWYgKGVuZCA8IDApIHRocm93IG5ldyBSYW5nZUVycm9yKCdzb3VyY2VFbmQgb3V0IG9mIGJvdW5kcycpXG5cbiAgLy8gQXJlIHdlIG9vYj9cbiAgaWYgKGVuZCA+IHRoaXMubGVuZ3RoKSBlbmQgPSB0aGlzLmxlbmd0aFxuICBpZiAodGFyZ2V0Lmxlbmd0aCAtIHRhcmdldFN0YXJ0IDwgZW5kIC0gc3RhcnQpIHtcbiAgICBlbmQgPSB0YXJnZXQubGVuZ3RoIC0gdGFyZ2V0U3RhcnQgKyBzdGFydFxuICB9XG5cbiAgdmFyIGxlbiA9IGVuZCAtIHN0YXJ0XG4gIHZhciBpXG5cbiAgaWYgKHRoaXMgPT09IHRhcmdldCAmJiBzdGFydCA8IHRhcmdldFN0YXJ0ICYmIHRhcmdldFN0YXJ0IDwgZW5kKSB7XG4gICAgLy8gZGVzY2VuZGluZyBjb3B5IGZyb20gZW5kXG4gICAgZm9yIChpID0gbGVuIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgIHRhcmdldFtpICsgdGFyZ2V0U3RhcnRdID0gdGhpc1tpICsgc3RhcnRdXG4gICAgfVxuICB9IGVsc2UgaWYgKGxlbiA8IDEwMDAgfHwgIUJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgLy8gYXNjZW5kaW5nIGNvcHkgZnJvbSBzdGFydFxuICAgIGZvciAoaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgICAgdGFyZ2V0W2kgKyB0YXJnZXRTdGFydF0gPSB0aGlzW2kgKyBzdGFydF1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgVWludDhBcnJheS5wcm90b3R5cGUuc2V0LmNhbGwoXG4gICAgICB0YXJnZXQsXG4gICAgICB0aGlzLnN1YmFycmF5KHN0YXJ0LCBzdGFydCArIGxlbiksXG4gICAgICB0YXJnZXRTdGFydFxuICAgIClcbiAgfVxuXG4gIHJldHVybiBsZW5cbn1cblxuLy8gVXNhZ2U6XG4vLyAgICBidWZmZXIuZmlsbChudW1iZXJbLCBvZmZzZXRbLCBlbmRdXSlcbi8vICAgIGJ1ZmZlci5maWxsKGJ1ZmZlclssIG9mZnNldFssIGVuZF1dKVxuLy8gICAgYnVmZmVyLmZpbGwoc3RyaW5nWywgb2Zmc2V0WywgZW5kXV1bLCBlbmNvZGluZ10pXG5CdWZmZXIucHJvdG90eXBlLmZpbGwgPSBmdW5jdGlvbiBmaWxsICh2YWwsIHN0YXJ0LCBlbmQsIGVuY29kaW5nKSB7XG4gIC8vIEhhbmRsZSBzdHJpbmcgY2FzZXM6XG4gIGlmICh0eXBlb2YgdmFsID09PSAnc3RyaW5nJykge1xuICAgIGlmICh0eXBlb2Ygc3RhcnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICBlbmNvZGluZyA9IHN0YXJ0XG4gICAgICBzdGFydCA9IDBcbiAgICAgIGVuZCA9IHRoaXMubGVuZ3RoXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZW5kID09PSAnc3RyaW5nJykge1xuICAgICAgZW5jb2RpbmcgPSBlbmRcbiAgICAgIGVuZCA9IHRoaXMubGVuZ3RoXG4gICAgfVxuICAgIGlmICh2YWwubGVuZ3RoID09PSAxKSB7XG4gICAgICB2YXIgY29kZSA9IHZhbC5jaGFyQ29kZUF0KDApXG4gICAgICBpZiAoY29kZSA8IDI1Nikge1xuICAgICAgICB2YWwgPSBjb2RlXG4gICAgICB9XG4gICAgfVxuICAgIGlmIChlbmNvZGluZyAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiBlbmNvZGluZyAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2VuY29kaW5nIG11c3QgYmUgYSBzdHJpbmcnKVxuICAgIH1cbiAgICBpZiAodHlwZW9mIGVuY29kaW5nID09PSAnc3RyaW5nJyAmJiAhQnVmZmVyLmlzRW5jb2RpbmcoZW5jb2RpbmcpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmtub3duIGVuY29kaW5nOiAnICsgZW5jb2RpbmcpXG4gICAgfVxuICB9IGVsc2UgaWYgKHR5cGVvZiB2YWwgPT09ICdudW1iZXInKSB7XG4gICAgdmFsID0gdmFsICYgMjU1XG4gIH1cblxuICAvLyBJbnZhbGlkIHJhbmdlcyBhcmUgbm90IHNldCB0byBhIGRlZmF1bHQsIHNvIGNhbiByYW5nZSBjaGVjayBlYXJseS5cbiAgaWYgKHN0YXJ0IDwgMCB8fCB0aGlzLmxlbmd0aCA8IHN0YXJ0IHx8IHRoaXMubGVuZ3RoIDwgZW5kKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ091dCBvZiByYW5nZSBpbmRleCcpXG4gIH1cblxuICBpZiAoZW5kIDw9IHN0YXJ0KSB7XG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIHN0YXJ0ID0gc3RhcnQgPj4+IDBcbiAgZW5kID0gZW5kID09PSB1bmRlZmluZWQgPyB0aGlzLmxlbmd0aCA6IGVuZCA+Pj4gMFxuXG4gIGlmICghdmFsKSB2YWwgPSAwXG5cbiAgdmFyIGlcbiAgaWYgKHR5cGVvZiB2YWwgPT09ICdudW1iZXInKSB7XG4gICAgZm9yIChpID0gc3RhcnQ7IGkgPCBlbmQ7ICsraSkge1xuICAgICAgdGhpc1tpXSA9IHZhbFxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB2YXIgYnl0ZXMgPSBCdWZmZXIuaXNCdWZmZXIodmFsKVxuICAgICAgPyB2YWxcbiAgICAgIDogdXRmOFRvQnl0ZXMobmV3IEJ1ZmZlcih2YWwsIGVuY29kaW5nKS50b1N0cmluZygpKVxuICAgIHZhciBsZW4gPSBieXRlcy5sZW5ndGhcbiAgICBmb3IgKGkgPSAwOyBpIDwgZW5kIC0gc3RhcnQ7ICsraSkge1xuICAgICAgdGhpc1tpICsgc3RhcnRdID0gYnl0ZXNbaSAlIGxlbl1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGhpc1xufVxuXG4vLyBIRUxQRVIgRlVOQ1RJT05TXG4vLyA9PT09PT09PT09PT09PT09XG5cbnZhciBJTlZBTElEX0JBU0U2NF9SRSA9IC9bXitcXC8wLTlBLVphLXotX10vZ1xuXG5mdW5jdGlvbiBiYXNlNjRjbGVhbiAoc3RyKSB7XG4gIC8vIE5vZGUgc3RyaXBzIG91dCBpbnZhbGlkIGNoYXJhY3RlcnMgbGlrZSBcXG4gYW5kIFxcdCBmcm9tIHRoZSBzdHJpbmcsIGJhc2U2NC1qcyBkb2VzIG5vdFxuICBzdHIgPSBzdHJpbmd0cmltKHN0cikucmVwbGFjZShJTlZBTElEX0JBU0U2NF9SRSwgJycpXG4gIC8vIE5vZGUgY29udmVydHMgc3RyaW5ncyB3aXRoIGxlbmd0aCA8IDIgdG8gJydcbiAgaWYgKHN0ci5sZW5ndGggPCAyKSByZXR1cm4gJydcbiAgLy8gTm9kZSBhbGxvd3MgZm9yIG5vbi1wYWRkZWQgYmFzZTY0IHN0cmluZ3MgKG1pc3NpbmcgdHJhaWxpbmcgPT09KSwgYmFzZTY0LWpzIGRvZXMgbm90XG4gIHdoaWxlIChzdHIubGVuZ3RoICUgNCAhPT0gMCkge1xuICAgIHN0ciA9IHN0ciArICc9J1xuICB9XG4gIHJldHVybiBzdHJcbn1cblxuZnVuY3Rpb24gc3RyaW5ndHJpbSAoc3RyKSB7XG4gIGlmIChzdHIudHJpbSkgcmV0dXJuIHN0ci50cmltKClcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLCAnJylcbn1cblxuZnVuY3Rpb24gdG9IZXggKG4pIHtcbiAgaWYgKG4gPCAxNikgcmV0dXJuICcwJyArIG4udG9TdHJpbmcoMTYpXG4gIHJldHVybiBuLnRvU3RyaW5nKDE2KVxufVxuXG5mdW5jdGlvbiB1dGY4VG9CeXRlcyAoc3RyaW5nLCB1bml0cykge1xuICB1bml0cyA9IHVuaXRzIHx8IEluZmluaXR5XG4gIHZhciBjb2RlUG9pbnRcbiAgdmFyIGxlbmd0aCA9IHN0cmluZy5sZW5ndGhcbiAgdmFyIGxlYWRTdXJyb2dhdGUgPSBudWxsXG4gIHZhciBieXRlcyA9IFtdXG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgIGNvZGVQb2ludCA9IHN0cmluZy5jaGFyQ29kZUF0KGkpXG5cbiAgICAvLyBpcyBzdXJyb2dhdGUgY29tcG9uZW50XG4gICAgaWYgKGNvZGVQb2ludCA+IDB4RDdGRiAmJiBjb2RlUG9pbnQgPCAweEUwMDApIHtcbiAgICAgIC8vIGxhc3QgY2hhciB3YXMgYSBsZWFkXG4gICAgICBpZiAoIWxlYWRTdXJyb2dhdGUpIHtcbiAgICAgICAgLy8gbm8gbGVhZCB5ZXRcbiAgICAgICAgaWYgKGNvZGVQb2ludCA+IDB4REJGRikge1xuICAgICAgICAgIC8vIHVuZXhwZWN0ZWQgdHJhaWxcbiAgICAgICAgICBpZiAoKHVuaXRzIC09IDMpID4gLTEpIGJ5dGVzLnB1c2goMHhFRiwgMHhCRiwgMHhCRClcbiAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9IGVsc2UgaWYgKGkgKyAxID09PSBsZW5ndGgpIHtcbiAgICAgICAgICAvLyB1bnBhaXJlZCBsZWFkXG4gICAgICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKSBieXRlcy5wdXNoKDB4RUYsIDB4QkYsIDB4QkQpXG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHZhbGlkIGxlYWRcbiAgICAgICAgbGVhZFN1cnJvZ2F0ZSA9IGNvZGVQb2ludFxuXG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIC8vIDIgbGVhZHMgaW4gYSByb3dcbiAgICAgIGlmIChjb2RlUG9pbnQgPCAweERDMDApIHtcbiAgICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKSBieXRlcy5wdXNoKDB4RUYsIDB4QkYsIDB4QkQpXG4gICAgICAgIGxlYWRTdXJyb2dhdGUgPSBjb2RlUG9pbnRcbiAgICAgICAgY29udGludWVcbiAgICAgIH1cblxuICAgICAgLy8gdmFsaWQgc3Vycm9nYXRlIHBhaXJcbiAgICAgIGNvZGVQb2ludCA9IChsZWFkU3Vycm9nYXRlIC0gMHhEODAwIDw8IDEwIHwgY29kZVBvaW50IC0gMHhEQzAwKSArIDB4MTAwMDBcbiAgICB9IGVsc2UgaWYgKGxlYWRTdXJyb2dhdGUpIHtcbiAgICAgIC8vIHZhbGlkIGJtcCBjaGFyLCBidXQgbGFzdCBjaGFyIHdhcyBhIGxlYWRcbiAgICAgIGlmICgodW5pdHMgLT0gMykgPiAtMSkgYnl0ZXMucHVzaCgweEVGLCAweEJGLCAweEJEKVxuICAgIH1cblxuICAgIGxlYWRTdXJyb2dhdGUgPSBudWxsXG5cbiAgICAvLyBlbmNvZGUgdXRmOFxuICAgIGlmIChjb2RlUG9pbnQgPCAweDgwKSB7XG4gICAgICBpZiAoKHVuaXRzIC09IDEpIDwgMCkgYnJlYWtcbiAgICAgIGJ5dGVzLnB1c2goY29kZVBvaW50KVxuICAgIH0gZWxzZSBpZiAoY29kZVBvaW50IDwgMHg4MDApIHtcbiAgICAgIGlmICgodW5pdHMgLT0gMikgPCAwKSBicmVha1xuICAgICAgYnl0ZXMucHVzaChcbiAgICAgICAgY29kZVBvaW50ID4+IDB4NiB8IDB4QzAsXG4gICAgICAgIGNvZGVQb2ludCAmIDB4M0YgfCAweDgwXG4gICAgICApXG4gICAgfSBlbHNlIGlmIChjb2RlUG9pbnQgPCAweDEwMDAwKSB7XG4gICAgICBpZiAoKHVuaXRzIC09IDMpIDwgMCkgYnJlYWtcbiAgICAgIGJ5dGVzLnB1c2goXG4gICAgICAgIGNvZGVQb2ludCA+PiAweEMgfCAweEUwLFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHg2ICYgMHgzRiB8IDB4ODAsXG4gICAgICAgIGNvZGVQb2ludCAmIDB4M0YgfCAweDgwXG4gICAgICApXG4gICAgfSBlbHNlIGlmIChjb2RlUG9pbnQgPCAweDExMDAwMCkge1xuICAgICAgaWYgKCh1bml0cyAtPSA0KSA8IDApIGJyZWFrXG4gICAgICBieXRlcy5wdXNoKFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHgxMiB8IDB4RjAsXG4gICAgICAgIGNvZGVQb2ludCA+PiAweEMgJiAweDNGIHwgMHg4MCxcbiAgICAgICAgY29kZVBvaW50ID4+IDB4NiAmIDB4M0YgfCAweDgwLFxuICAgICAgICBjb2RlUG9pbnQgJiAweDNGIHwgMHg4MFxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgY29kZSBwb2ludCcpXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGJ5dGVzXG59XG5cbmZ1bmN0aW9uIGFzY2lpVG9CeXRlcyAoc3RyKSB7XG4gIHZhciBieXRlQXJyYXkgPSBbXVxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ci5sZW5ndGg7ICsraSkge1xuICAgIC8vIE5vZGUncyBjb2RlIHNlZW1zIHRvIGJlIGRvaW5nIHRoaXMgYW5kIG5vdCAmIDB4N0YuLlxuICAgIGJ5dGVBcnJheS5wdXNoKHN0ci5jaGFyQ29kZUF0KGkpICYgMHhGRilcbiAgfVxuICByZXR1cm4gYnl0ZUFycmF5XG59XG5cbmZ1bmN0aW9uIHV0ZjE2bGVUb0J5dGVzIChzdHIsIHVuaXRzKSB7XG4gIHZhciBjLCBoaSwgbG9cbiAgdmFyIGJ5dGVBcnJheSA9IFtdXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgKytpKSB7XG4gICAgaWYgKCh1bml0cyAtPSAyKSA8IDApIGJyZWFrXG5cbiAgICBjID0gc3RyLmNoYXJDb2RlQXQoaSlcbiAgICBoaSA9IGMgPj4gOFxuICAgIGxvID0gYyAlIDI1NlxuICAgIGJ5dGVBcnJheS5wdXNoKGxvKVxuICAgIGJ5dGVBcnJheS5wdXNoKGhpKVxuICB9XG5cbiAgcmV0dXJuIGJ5dGVBcnJheVxufVxuXG5mdW5jdGlvbiBiYXNlNjRUb0J5dGVzIChzdHIpIHtcbiAgcmV0dXJuIGJhc2U2NC50b0J5dGVBcnJheShiYXNlNjRjbGVhbihzdHIpKVxufVxuXG5mdW5jdGlvbiBibGl0QnVmZmVyIChzcmMsIGRzdCwgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgIGlmICgoaSArIG9mZnNldCA+PSBkc3QubGVuZ3RoKSB8fCAoaSA+PSBzcmMubGVuZ3RoKSkgYnJlYWtcbiAgICBkc3RbaSArIG9mZnNldF0gPSBzcmNbaV1cbiAgfVxuICByZXR1cm4gaVxufVxuXG5mdW5jdGlvbiBpc25hbiAodmFsKSB7XG4gIHJldHVybiB2YWwgIT09IHZhbCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXNlbGYtY29tcGFyZVxufVxuIiwiZXhwb3J0cy5yZWFkID0gZnVuY3Rpb24gKGJ1ZmZlciwgb2Zmc2V0LCBpc0xFLCBtTGVuLCBuQnl0ZXMpIHtcbiAgdmFyIGUsIG1cbiAgdmFyIGVMZW4gPSAobkJ5dGVzICogOCkgLSBtTGVuIC0gMVxuICB2YXIgZU1heCA9ICgxIDw8IGVMZW4pIC0gMVxuICB2YXIgZUJpYXMgPSBlTWF4ID4+IDFcbiAgdmFyIG5CaXRzID0gLTdcbiAgdmFyIGkgPSBpc0xFID8gKG5CeXRlcyAtIDEpIDogMFxuICB2YXIgZCA9IGlzTEUgPyAtMSA6IDFcbiAgdmFyIHMgPSBidWZmZXJbb2Zmc2V0ICsgaV1cblxuICBpICs9IGRcblxuICBlID0gcyAmICgoMSA8PCAoLW5CaXRzKSkgLSAxKVxuICBzID4+PSAoLW5CaXRzKVxuICBuQml0cyArPSBlTGVuXG4gIGZvciAoOyBuQml0cyA+IDA7IGUgPSAoZSAqIDI1NikgKyBidWZmZXJbb2Zmc2V0ICsgaV0sIGkgKz0gZCwgbkJpdHMgLT0gOCkge31cblxuICBtID0gZSAmICgoMSA8PCAoLW5CaXRzKSkgLSAxKVxuICBlID4+PSAoLW5CaXRzKVxuICBuQml0cyArPSBtTGVuXG4gIGZvciAoOyBuQml0cyA+IDA7IG0gPSAobSAqIDI1NikgKyBidWZmZXJbb2Zmc2V0ICsgaV0sIGkgKz0gZCwgbkJpdHMgLT0gOCkge31cblxuICBpZiAoZSA9PT0gMCkge1xuICAgIGUgPSAxIC0gZUJpYXNcbiAgfSBlbHNlIGlmIChlID09PSBlTWF4KSB7XG4gICAgcmV0dXJuIG0gPyBOYU4gOiAoKHMgPyAtMSA6IDEpICogSW5maW5pdHkpXG4gIH0gZWxzZSB7XG4gICAgbSA9IG0gKyBNYXRoLnBvdygyLCBtTGVuKVxuICAgIGUgPSBlIC0gZUJpYXNcbiAgfVxuICByZXR1cm4gKHMgPyAtMSA6IDEpICogbSAqIE1hdGgucG93KDIsIGUgLSBtTGVuKVxufVxuXG5leHBvcnRzLndyaXRlID0gZnVuY3Rpb24gKGJ1ZmZlciwgdmFsdWUsIG9mZnNldCwgaXNMRSwgbUxlbiwgbkJ5dGVzKSB7XG4gIHZhciBlLCBtLCBjXG4gIHZhciBlTGVuID0gKG5CeXRlcyAqIDgpIC0gbUxlbiAtIDFcbiAgdmFyIGVNYXggPSAoMSA8PCBlTGVuKSAtIDFcbiAgdmFyIGVCaWFzID0gZU1heCA+PiAxXG4gIHZhciBydCA9IChtTGVuID09PSAyMyA/IE1hdGgucG93KDIsIC0yNCkgLSBNYXRoLnBvdygyLCAtNzcpIDogMClcbiAgdmFyIGkgPSBpc0xFID8gMCA6IChuQnl0ZXMgLSAxKVxuICB2YXIgZCA9IGlzTEUgPyAxIDogLTFcbiAgdmFyIHMgPSB2YWx1ZSA8IDAgfHwgKHZhbHVlID09PSAwICYmIDEgLyB2YWx1ZSA8IDApID8gMSA6IDBcblxuICB2YWx1ZSA9IE1hdGguYWJzKHZhbHVlKVxuXG4gIGlmIChpc05hTih2YWx1ZSkgfHwgdmFsdWUgPT09IEluZmluaXR5KSB7XG4gICAgbSA9IGlzTmFOKHZhbHVlKSA/IDEgOiAwXG4gICAgZSA9IGVNYXhcbiAgfSBlbHNlIHtcbiAgICBlID0gTWF0aC5mbG9vcihNYXRoLmxvZyh2YWx1ZSkgLyBNYXRoLkxOMilcbiAgICBpZiAodmFsdWUgKiAoYyA9IE1hdGgucG93KDIsIC1lKSkgPCAxKSB7XG4gICAgICBlLS1cbiAgICAgIGMgKj0gMlxuICAgIH1cbiAgICBpZiAoZSArIGVCaWFzID49IDEpIHtcbiAgICAgIHZhbHVlICs9IHJ0IC8gY1xuICAgIH0gZWxzZSB7XG4gICAgICB2YWx1ZSArPSBydCAqIE1hdGgucG93KDIsIDEgLSBlQmlhcylcbiAgICB9XG4gICAgaWYgKHZhbHVlICogYyA+PSAyKSB7XG4gICAgICBlKytcbiAgICAgIGMgLz0gMlxuICAgIH1cblxuICAgIGlmIChlICsgZUJpYXMgPj0gZU1heCkge1xuICAgICAgbSA9IDBcbiAgICAgIGUgPSBlTWF4XG4gICAgfSBlbHNlIGlmIChlICsgZUJpYXMgPj0gMSkge1xuICAgICAgbSA9ICgodmFsdWUgKiBjKSAtIDEpICogTWF0aC5wb3coMiwgbUxlbilcbiAgICAgIGUgPSBlICsgZUJpYXNcbiAgICB9IGVsc2Uge1xuICAgICAgbSA9IHZhbHVlICogTWF0aC5wb3coMiwgZUJpYXMgLSAxKSAqIE1hdGgucG93KDIsIG1MZW4pXG4gICAgICBlID0gMFxuICAgIH1cbiAgfVxuXG4gIGZvciAoOyBtTGVuID49IDg7IGJ1ZmZlcltvZmZzZXQgKyBpXSA9IG0gJiAweGZmLCBpICs9IGQsIG0gLz0gMjU2LCBtTGVuIC09IDgpIHt9XG5cbiAgZSA9IChlIDw8IG1MZW4pIHwgbVxuICBlTGVuICs9IG1MZW5cbiAgZm9yICg7IGVMZW4gPiAwOyBidWZmZXJbb2Zmc2V0ICsgaV0gPSBlICYgMHhmZiwgaSArPSBkLCBlIC89IDI1NiwgZUxlbiAtPSA4KSB7fVxuXG4gIGJ1ZmZlcltvZmZzZXQgKyBpIC0gZF0gfD0gcyAqIDEyOFxufVxuIiwidmFyIHRvU3RyaW5nID0ge30udG9TdHJpbmc7XG5cbm1vZHVsZS5leHBvcnRzID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiAoYXJyKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKGFycikgPT0gJ1tvYmplY3QgQXJyYXldJztcbn07XG4iLCIhZnVuY3Rpb24oZSl7dmFyIGk9dGhpcztcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz1lKGkscmVxdWlyZShcImpkYXRhdmlld1wiKSk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXCJqZGF0YXZpZXdcIl0sZnVuY3Rpb24odCl7cmV0dXJuIGUoaSx0KX0pOmkuakJpbmFyeT1lKGksaS5qRGF0YVZpZXcpfShmdW5jdGlvbihoLGkpe1widXNlIHN0cmljdFwiO3ZhciBvLHUsbj1oLmRvY3VtZW50O1wiYXRvYlwiaW4gaCYmXCJidG9hXCJpbiBofHwobz1cIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky9cIix1PVstMSwtMSwtMSwtMSwtMSwtMSwtMSwtMSwtMSwtMSwtMSwtMSwtMSwtMSwtMSwtMSwtMSwtMSwtMSwtMSwtMSwtMSwtMSwtMSwtMSwtMSwtMSwtMSwtMSwtMSwtMSwtMSwtMSwtMSwtMSwtMSwtMSwtMSwtMSwtMSwtMSwtMSwtMSw2MiwtMSwtMSwtMSw2Myw1Miw1Myw1NCw1NSw1Niw1Nyw1OCw1OSw2MCw2MSwtMSwtMSwtMSwtMSwtMSwtMSwtMSwwLDEsMiwzLDQsNSw2LDcsOCw5LDEwLDExLDEyLDEzLDE0LDE1LDE2LDE3LDE4LDE5LDIwLDIxLDIyLDIzLDI0LDI1LC0xLC0xLC0xLC0xLC0xLC0xLDI2LDI3LDI4LDI5LDMwLDMxLDMyLDMzLDM0LDM1LDM2LDM3LDM4LDM5LDQwLDQxLDQyLDQzLDQ0LDQ1LDQ2LDQ3LDQ4LDQ5LDUwLDUxLC0xLC0xLC0xLC0xLC0xXSxoLmJ0b2F8fChoLmJ0b2E9ZnVuY3Rpb24odCl7Zm9yKHZhciBlLGksbixyPXQubGVuZ3RoLGE9MCxzPVwiXCI7YTxyOyl7aWYoZT0yNTUmdC5jaGFyQ29kZUF0KGErKyksYT09cil7cys9by5jaGFyQXQoZT4+Mikscys9by5jaGFyQXQoKDMmZSk8PDQpLHMrPVwiPT1cIjticmVha31pZihpPXQuY2hhckNvZGVBdChhKyspLGE9PXIpe3MrPW8uY2hhckF0KGU+PjIpLHMrPW8uY2hhckF0KCgzJmUpPDw0fCgyNDAmaSk+PjQpLHMrPW8uY2hhckF0KCgxNSZpKTw8Mikscys9XCI9XCI7YnJlYWt9bj10LmNoYXJDb2RlQXQoYSsrKSxzKz1vLmNoYXJBdChlPj4yKSxzKz1vLmNoYXJBdCgoMyZlKTw8NHwoMjQwJmkpPj40KSxzKz1vLmNoYXJBdCgoMTUmaSk8PDJ8KDE5MiZuKT4+Nikscys9by5jaGFyQXQoNjMmbil9cmV0dXJuIHN9KSxoLmF0b2J8fChoLmF0b2I9ZnVuY3Rpb24odCl7Zm9yKHZhciBlLGksbixyLGE9dC5sZW5ndGgscz0wLG89XCJcIjtzPGE7KXtmb3IoO2U9dVsyNTUmdC5jaGFyQ29kZUF0KHMrKyldLHM8YSYmLTE9PWU7KTtpZigtMT09ZSlicmVhaztmb3IoO2k9dVsyNTUmdC5jaGFyQ29kZUF0KHMrKyldLHM8YSYmLTE9PWk7KTtpZigtMT09aSlicmVhaztvKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGU8PDJ8KDQ4JmkpPj40KTtkb3tpZig2MT09KG49MjU1JnQuY2hhckNvZGVBdChzKyspKSlyZXR1cm4gb313aGlsZShuPXVbbl0sczxhJiYtMT09bik7aWYoLTE9PW4pYnJlYWs7bys9U3RyaW5nLmZyb21DaGFyQ29kZSgoMTUmaSk8PDR8KDYwJm4pPj4yKTtkb3tpZig2MT09KHI9MjU1JnQuY2hhckNvZGVBdChzKyspKSlyZXR1cm4gb313aGlsZShyPXVbcl0sczxhJiYtMT09cik7aWYoLTE9PXIpYnJlYWs7bys9U3RyaW5nLmZyb21DaGFyQ29kZSgoMyZuKTw8NnxyKX1yZXR1cm4gb30pKTt2YXIgYz1oLlByb21pc2V8fGZ1bmN0aW9uKHQpe3RoaXMudGhlbj10fTtmdW5jdGlvbiBmKHQsZSl7cmV0dXJuIGUmJnQgaW5zdGFuY2VvZiBlfWZ1bmN0aW9uIHIodCl7Zm9yKHZhciBlPTEsaT1hcmd1bWVudHMubGVuZ3RoO2U8aTsrK2Upe3ZhciBuLHI9YXJndW1lbnRzW2VdO2ZvcihuIGluIHIpdm9pZCAwIT09cltuXSYmKHRbbl09cltuXSl9cmV0dXJuIHR9ZnVuY3Rpb24gbCh0KXtyZXR1cm4gYXJndW1lbnRzWzBdPWUodCksci5hcHBseShudWxsLGFyZ3VtZW50cyl9ZnVuY3Rpb24gYSh0LGUsaSl7cmV0dXJuIGYoaSxGdW5jdGlvbik/aS5jYWxsKHQsZS5jb250ZXh0c1swXSk6aX1mdW5jdGlvbiB0KHMpe3JldHVybiBmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cyxlPXQubGVuZ3RoLTEscj1zLmxlbmd0aC0xLGk9dFtlXTtpZih0Lmxlbmd0aD0xK3IsIWYoaSxGdW5jdGlvbikpe3ZhciBhPXRoaXM7cmV0dXJuIG5ldyBjKGZ1bmN0aW9uKGksbil7dFtyXT1mdW5jdGlvbih0LGUpe3JldHVybiB0P24odCk6aShlKX0scy5hcHBseShhLHQpfSl9dFtlXT12b2lkIDAsdFtyXT1pLHMuYXBwbHkodGhpcyx0KX19ZnVuY3Rpb24gcyh0LGUpe3JldHVybiBmKHQscyk/dC5hcyhlKTooZih0LGkpfHwodD1uZXcgaSh0LHZvaWQgMCx2b2lkIDAsZT9lW1wiakJpbmFyeS5saXR0bGVFbmRpYW5cIl06dm9pZCAwKSksZih0aGlzLHMpPyh0aGlzLnZpZXc9dCx0aGlzLnZpZXcuc2VlaygwKSx0aGlzLmNvbnRleHRzPVtdLHRoaXMuYXMoZSwhMCkpOm5ldyBzKHQsZSkpfXZhciBlPShlPU9iamVjdC5jcmVhdGUpfHxmdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7fXJldHVybiBlLnByb3RvdHlwZT10LG5ldyBlfSxwPXMucHJvdG90eXBlLHk9cC50eXBlU2V0PXt9O3AudG9WYWx1ZT1mdW5jdGlvbih0KXtyZXR1cm4gYSh0aGlzLHRoaXMsdCl9LHAuX25hbWVkPWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdC5kaXNwbGF5TmFtZT1lK1wiIEAgXCIrKHZvaWQgMCE9PWk/aTp0aGlzLnZpZXcudGVsbCgpKSx0fTt2YXIgZD1PYmplY3QuZGVmaW5lUHJvcGVydHk7aWYoMSxkKXRyeXtkKHt9LFwieFwiLHt9KX1jYXRjaCh0KXtkPXZvaWQgMH1lbHNlIGQ9ZnVuY3Rpb24odCxlLGksbil7biYmKHRbZV09aS52YWx1ZSl9O3ZhciB2PVwiakJpbmFyeS5DYWNoZVwiLGI9MDtmdW5jdGlvbiBnKHQpe3JldHVybiBsKGcucHJvdG90eXBlLHQpfWZ1bmN0aW9uIHcoaSl7cmV0dXJuIGwody5wcm90b3R5cGUsaSx7Y3JlYXRlUHJvcGVydHk6ZnVuY3Rpb24odCl7dmFyIGU9KGkuY3JlYXRlUHJvcGVydHl8fHcucHJvdG90eXBlLmNyZWF0ZVByb3BlcnR5KS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGUuZ2V0QmFzZVR5cGUmJihlLmJhc2VUeXBlPWUuYmluYXJ5LmdldFR5cGUoZS5nZXRCYXNlVHlwZShlLmJpbmFyeS5jb250ZXh0c1swXSkpKSxlfX0pfXAuX2dldENhY2hlZD1mdW5jdGlvbih0LGUsaSl7aWYodC5oYXNPd25Qcm9wZXJ0eSh0aGlzLmNhY2hlS2V5KSlyZXR1cm4gdFt0aGlzLmNhY2hlS2V5XTtlPWUuY2FsbCh0aGlzLHQpO3JldHVybiBkKHQsdGhpcy5jYWNoZUtleSx7dmFsdWU6ZX0saSksZX0scC5nZXRDb250ZXh0PWZ1bmN0aW9uKGUpe3N3aXRjaCh0eXBlb2YgZSl7Y2FzZVwidW5kZWZpbmVkXCI6ZT0wO2Nhc2VcIm51bWJlclwiOnJldHVybiB0aGlzLmNvbnRleHRzW2VdO2Nhc2VcInN0cmluZ1wiOnJldHVybiB0aGlzLmdldENvbnRleHQoZnVuY3Rpb24odCl7cmV0dXJuIGUgaW4gdH0pO2Nhc2VcImZ1bmN0aW9uXCI6Zm9yKHZhciB0PTAsaT10aGlzLmNvbnRleHRzLmxlbmd0aDt0PGk7dCsrKXt2YXIgbj10aGlzLmNvbnRleHRzW3RdO2lmKGUuY2FsbCh0aGlzLG4pKXJldHVybiBufX19LHAuaW5Db250ZXh0PWZ1bmN0aW9uKHQsZSl7dGhpcy5jb250ZXh0cy51bnNoaWZ0KHQpO2U9ZS5jYWxsKHRoaXMpO3JldHVybiB0aGlzLmNvbnRleHRzLnNoaWZ0KCksZX0sZy5wcm90b3R5cGU9e2luaGVyaXQ6ZnVuY3Rpb24obixhKXt2YXIgcixzPXRoaXM7ZnVuY3Rpb24gdCh0LGUpe3ZhciBpPXNbdF07aSYmKHI9cnx8bChzKSxlLmNhbGwocixpKSxyW3RdPW51bGwpfXJldHVybiB0KFwicGFyYW1zXCIsZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAsaT10Lmxlbmd0aDtlPGk7ZSsrKXRoaXNbdFtlXV09bltlXX0pLHQoXCJzZXRQYXJhbXNcIixmdW5jdGlvbih0KXt0LmFwcGx5KHRoaXMsbil9KSx0KFwidHlwZVBhcmFtc1wiLGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLGk9dC5sZW5ndGg7ZTxpO2UrKyl7dmFyIG49dFtlXSxyPXRoaXNbbl07ciYmKHRoaXNbbl09YShyKSl9fSksdChcInJlc29sdmVcIixmdW5jdGlvbih0KXt0LmNhbGwodGhpcyxhKX0pLHJ8fHN9LGNyZWF0ZVByb3BlcnR5OmZ1bmN0aW9uKHQpe3JldHVybiBsKHRoaXMse2JpbmFyeTp0LHZpZXc6dC52aWV3fSl9LHRvVmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4hMSE9PWUmJlwic3RyaW5nXCI9PXR5cGVvZiB0P3RoaXMuYmluYXJ5LmdldENvbnRleHQodClbdF06YSh0aGlzLHRoaXMuYmluYXJ5LHQpfX0sdy5wcm90b3R5cGU9bCgocy5UeXBlPWcpLnByb3RvdHlwZSx7c2V0UGFyYW1zOmZ1bmN0aW9uKCl7dGhpcy5iYXNlVHlwZSYmKHRoaXMudHlwZVBhcmFtcz1bXCJiYXNlVHlwZVwiXS5jb25jYXQodGhpcy50eXBlUGFyYW1zfHxbXSkpfSxiYXNlUmVhZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmJpbmFyeS5yZWFkKHRoaXMuYmFzZVR5cGUpfSxiYXNlV3JpdGU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuYmluYXJ5LndyaXRlKHRoaXMuYmFzZVR5cGUsdCl9fSkscih3LnByb3RvdHlwZSx7cmVhZDp3LnByb3RvdHlwZS5iYXNlUmVhZCx3cml0ZTp3LnByb3RvdHlwZS5iYXNlV3JpdGV9KSxzLlRlbXBsYXRlPXcscC5hcz1mdW5jdGlvbih0LGUpe2U9ZT90aGlzOmwodGhpcyk7cmV0dXJuIGUudHlwZVNldD0odD10fHx5KT09PXl8fHkuaXNQcm90b3R5cGVPZih0KT90OmwoeSx0KSxlLmNhY2hlS2V5PXYsZS5jYWNoZUtleT1lLl9nZXRDYWNoZWQodCxmdW5jdGlvbigpe3JldHVybiB2K1wiLlwiKyArK2J9LCEwKSxlfSxwLnNlZWs9ZnVuY3Rpb24odCxlKXtpZih0PXRoaXMudG9WYWx1ZSh0KSx2b2lkIDA9PT1lKXJldHVybiB0aGlzLnZpZXcuc2Vlayh0KTt2YXIgaT10aGlzLnZpZXcudGVsbCgpO3RoaXMudmlldy5zZWVrKHQpO2U9ZS5jYWxsKHRoaXMpO3JldHVybiB0aGlzLnZpZXcuc2VlayhpKSxlfSxwLnRlbGw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52aWV3LnRlbGwoKX0scC5za2lwPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuc2Vlayh0aGlzLnRlbGwoKSt0aGlzLnRvVmFsdWUodCksZSl9LHAuc2xpY2U9ZnVuY3Rpb24odCxlLGkpe3JldHVybiBuZXcgcyh0aGlzLnZpZXcuc2xpY2UodCxlLGkpLHRoaXMudHlwZVNldCl9LHAuX2dldFR5cGU9ZnVuY3Rpb24odCxlKXtzd2l0Y2godHlwZW9mIHQpe2Nhc2VcInN0cmluZ1wiOmlmKCEodCBpbiB0aGlzLnR5cGVTZXQpKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcIlVua25vd24gdHlwZTogXCIrdCk7cmV0dXJuIHRoaXMuX2dldFR5cGUodGhpcy50eXBlU2V0W3RdLGUpO2Nhc2VcIm51bWJlclwiOnJldHVybiB0aGlzLl9nZXRUeXBlKHkuYml0ZmllbGQsW3RdKTtjYXNlXCJvYmplY3RcIjppZihmKHQsZykpe3ZhciBpPXRoaXM7cmV0dXJuIHQuaW5oZXJpdChlfHxbXSxmdW5jdGlvbih0KXtyZXR1cm4gaS5nZXRUeXBlKHQpfSl9cmV0dXJuIGYodCxBcnJheSk/dGhpcy5fZ2V0Q2FjaGVkKHQsZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZ2V0VHlwZSh0WzBdLHQuc2xpY2UoMSkpfSwhMCk6dGhpcy5fZ2V0Q2FjaGVkKHQsZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZ2V0VHlwZSh5Lm9iamVjdCxbdF0pfSwhMSl9fSxwLmdldFR5cGU9ZnVuY3Rpb24odCxlKXtlPXRoaXMuX2dldFR5cGUodCxlKTtyZXR1cm4gZSYmIWYodCxnKSYmKGUubmFtZT1cIm9iamVjdFwiPT10eXBlb2YgdD9mKHQsQXJyYXkpP3RbMF0rXCIoXCIrdC5zbGljZSgxKS5qb2luKFwiLCBcIikrXCIpXCI6XCJvYmplY3RcIjpTdHJpbmcodCkpLGV9LHAuX2FjdGlvbj1mdW5jdGlvbih0LGUsaSl7aWYodm9pZCAwIT09dCl7dD10aGlzLmdldFR5cGUodCk7dmFyIG49dGhpcy5fbmFtZWQoZnVuY3Rpb24oKXtyZXR1cm4gaS5jYWxsKHRoaXMsdC5jcmVhdGVQcm9wZXJ0eSh0aGlzKSx0aGlzLmNvbnRleHRzWzBdKX0sXCJbXCIrdC5uYW1lK1wiXVwiLGUpO3JldHVybiB2b2lkIDAhPT1lP3RoaXMuc2VlayhlLG4pOm4uY2FsbCh0aGlzKX19LHAucmVhZD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl9hY3Rpb24odCxlLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQucmVhZChlKX0pfSxwLnJlYWRBbGw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZWFkKFwiakJpbmFyeS5hbGxcIiwwKX0scC53cml0ZT1mdW5jdGlvbih0LG4sZSl7cmV0dXJuIHRoaXMuX2FjdGlvbih0LGUsZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLnRlbGwoKTtyZXR1cm4gdC53cml0ZShuLGUpLHRoaXMudGVsbCgpLWl9KX0scC53cml0ZUFsbD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy53cml0ZShcImpCaW5hcnkuYWxsXCIsdCwwKX0sZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9MCxuPWUubGVuZ3RoO2k8bjtpKyspe3ZhciByPWVbaV07eVtyLnRvTG93ZXJDYXNlKCldPWwodCx7ZGF0YVR5cGU6cn0pfX0oZyh7cGFyYW1zOltcImxpdHRsZUVuZGlhblwiXSxyZWFkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmlld1tcImdldFwiK3RoaXMuZGF0YVR5cGVdKHZvaWQgMCx0aGlzLmxpdHRsZUVuZGlhbil9LHdyaXRlOmZ1bmN0aW9uKHQpe3RoaXMudmlld1tcIndyaXRlXCIrdGhpcy5kYXRhVHlwZV0odCx0aGlzLmxpdHRsZUVuZGlhbil9fSksW1wiVWludDhcIixcIlVpbnQxNlwiLFwiVWludDMyXCIsXCJVaW50NjRcIixcIkludDhcIixcIkludDE2XCIsXCJJbnQzMlwiLFwiSW50NjRcIixcIkZsb2F0MzJcIixcIkZsb2F0NjRcIixcIkNoYXJcIl0pLHIoeSx7Ynl0ZTp5LnVpbnQ4LGZsb2F0OnkuZmxvYXQzMixkb3VibGU6eS5mbG9hdDY0fSkseS5hcnJheT13KHtwYXJhbXM6W1wiYmFzZVR5cGVcIixcImxlbmd0aFwiXSxyZWFkOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy50b1ZhbHVlKHRoaXMubGVuZ3RoKTtpZih0aGlzLmJhc2VUeXBlPT09eS51aW50OClyZXR1cm4gdGhpcy52aWV3LmdldEJ5dGVzKHQsdm9pZCAwLCEwLCEwKTtpZih2b2lkIDAhPT10KWZvcih2YXIgZT1uZXcgQXJyYXkodCksaT0wO2k8dDtpKyspZVtpXT10aGlzLmJhc2VSZWFkKCk7ZWxzZXt2YXIgbj10aGlzLnZpZXcuYnl0ZUxlbmd0aDtmb3IoZT1bXTt0aGlzLmJpbmFyeS50ZWxsKCk8bjspZS5wdXNoKHRoaXMuYmFzZVJlYWQoKSl9cmV0dXJuIGV9LHdyaXRlOmZ1bmN0aW9uKHQpe2lmKHRoaXMuYmFzZVR5cGU9PT15LnVpbnQ4KXJldHVybiB0aGlzLnZpZXcud3JpdGVCeXRlcyh0KTtmb3IodmFyIGU9MCxpPXQubGVuZ3RoO2U8aTtlKyspdGhpcy5iYXNlV3JpdGUodFtlXSl9fSkseS5iaW5hcnk9dyh7cGFyYW1zOltcImxlbmd0aFwiLFwidHlwZVNldFwiXSxyZWFkOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5iaW5hcnkudGVsbCgpLGU9dGhpcy5iaW5hcnkuc2tpcCh0aGlzLnRvVmFsdWUodGhpcy5sZW5ndGgpKTtyZXR1cm4gbmV3IHModGhpcy52aWV3LnNsaWNlKHQsZSksdGhpcy50eXBlU2V0KX0sd3JpdGU6ZnVuY3Rpb24odCl7dGhpcy5iaW5hcnkud3JpdGUoXCJibG9iXCIsdC5yZWFkKFwiYmxvYlwiLDApKX19KSx5LmJpdGZpZWxkPWcoe3BhcmFtczpbXCJiaXRTaXplXCJdLHJlYWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52aWV3LmdldFVuc2lnbmVkKHRoaXMuYml0U2l6ZSl9LHdyaXRlOmZ1bmN0aW9uKHQpe3RoaXMudmlldy53cml0ZVVuc2lnbmVkKHQsdGhpcy5iaXRTaXplKX19KSx5LmJsb2I9Zyh7cGFyYW1zOltcImxlbmd0aFwiXSxyZWFkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmlldy5nZXRCeXRlcyh0aGlzLnRvVmFsdWUodGhpcy5sZW5ndGgpKX0sd3JpdGU6ZnVuY3Rpb24odCl7dGhpcy52aWV3LndyaXRlQnl0ZXModCwhMCl9fSkseS5jb25zdD13KHtwYXJhbXM6W1wiYmFzZVR5cGVcIixcInZhbHVlXCIsXCJzdHJpY3RcIl0scmVhZDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuYmFzZVJlYWQoKTtpZih0aGlzLnN0cmljdCYmdCE9PXRoaXMudmFsdWUpe2lmKGYodGhpcy5zdHJpY3QsRnVuY3Rpb24pKXJldHVybiB0aGlzLnN0cmljdCh0KTt0aHJvdyBuZXcgVHlwZUVycm9yKFwiVW5leHBlY3RlZCB2YWx1ZSAoXCIrdCtcIiAhPT0gXCIrdGhpcy52YWx1ZStcIikuXCIpfXJldHVybiB0fSx3cml0ZTpmdW5jdGlvbih0KXt0aGlzLmJhc2VXcml0ZSh0aGlzLnN0cmljdHx8dm9pZCAwPT09dD90aGlzLnZhbHVlOnQpfX0pLHkuZW51bT13KHtwYXJhbXM6W1wiYmFzZVR5cGVcIixcIm1hdGNoZXNcIl0sc2V0UGFyYW1zOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpIGluIHRoaXMuYmFja01hdGNoZXM9e30sZSl0aGlzLmJhY2tNYXRjaGVzW2VbaV1dPWl9LHJlYWQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmJhc2VSZWFkKCk7cmV0dXJuIHQgaW4gdGhpcy5tYXRjaGVzP3RoaXMubWF0Y2hlc1t0XTp0fSx3cml0ZTpmdW5jdGlvbih0KXt0aGlzLmJhc2VXcml0ZSh0IGluIHRoaXMuYmFja01hdGNoZXM/dGhpcy5iYWNrTWF0Y2hlc1t0XTp0KX19KSx5LmV4dGVuZD1nKHtzZXRQYXJhbXM6ZnVuY3Rpb24oKXt0aGlzLnBhcnRzPWFyZ3VtZW50c30scmVzb2x2ZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5wYXJ0cyxpPWUubGVuZ3RoLG49bmV3IEFycmF5KGkpLHI9MDtyPGk7cisrKW5bcl09dChlW3JdKTt0aGlzLnBhcnRzPW59LHJlYWQ6ZnVuY3Rpb24oKXt2YXIgaT10aGlzLnBhcnRzLG49dGhpcy5iaW5hcnkucmVhZChpWzBdKTtyZXR1cm4gdGhpcy5iaW5hcnkuaW5Db250ZXh0KG4sZnVuY3Rpb24oKXtmb3IodmFyIHQ9MSxlPWkubGVuZ3RoO3Q8ZTt0KyspcihuLHRoaXMucmVhZChpW3RdKSl9KSxufSx3cml0ZTpmdW5jdGlvbihpKXt2YXIgbj10aGlzLnBhcnRzO3RoaXMuYmluYXJ5LmluQ29udGV4dChpLGZ1bmN0aW9uKCl7Zm9yKHZhciB0PTAsZT1uLmxlbmd0aDt0PGU7dCsrKXRoaXMud3JpdGUoblt0XSxpKX0pfX0pLHkuaWY9dyh7cGFyYW1zOltcImNvbmRpdGlvblwiLFwidHJ1ZVR5cGVcIixcImZhbHNlVHlwZVwiXSx0eXBlUGFyYW1zOltcInRydWVUeXBlXCIsXCJmYWxzZVR5cGVcIl0sZ2V0QmFzZVR5cGU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudG9WYWx1ZSh0aGlzLmNvbmRpdGlvbik/dGhpcy50cnVlVHlwZTp0aGlzLmZhbHNlVHlwZX19KSx5LmlmX25vdD15LmlmTm90PXcoe3NldFBhcmFtczpmdW5jdGlvbih0LGUsaSl7dGhpcy5iYXNlVHlwZT1bXCJpZlwiLHQsaSxlXX19KSx5Lmxhenk9dyh7bWFya2VyOlwiakJpbmFyeS5MYXp5XCIscGFyYW1zOltcImlubmVyVHlwZVwiLFwibGVuZ3RoXCJdLGdldEJhc2VUeXBlOmZ1bmN0aW9uKCl7cmV0dXJuW1wiYmluYXJ5XCIsdGhpcy5sZW5ndGgsdGhpcy5iaW5hcnkudHlwZVNldF19LHJlYWQ6ZnVuY3Rpb24oKXt2YXIgZT1mdW5jdGlvbih0KXtyZXR1cm4gMD09PWFyZ3VtZW50cy5sZW5ndGg/XCJ2YWx1ZVwiaW4gZT9lLnZhbHVlOmUudmFsdWU9ZS5iaW5hcnkucmVhZChlLmlubmVyVHlwZSk6cihlLHt3YXNDaGFuZ2VkOiEwLHZhbHVlOnR9KS52YWx1ZX07cmV0dXJuIGVbdGhpcy5tYXJrZXJdPSEwLHIoZSx7YmluYXJ5OnIodGhpcy5iYXNlUmVhZCgpLHtjb250ZXh0czp0aGlzLmJpbmFyeS5jb250ZXh0cy5zbGljZSgpfSksaW5uZXJUeXBlOnRoaXMuaW5uZXJUeXBlfSl9LHdyaXRlOmZ1bmN0aW9uKHQpe3Qud2FzQ2hhbmdlZHx8IXRbdGhpcy5tYXJrZXJdP3RoaXMuYmluYXJ5LndyaXRlKHRoaXMuaW5uZXJUeXBlLHQoKSk6dGhpcy5iYXNlV3JpdGUodC5iaW5hcnkpfX0pLHkub2JqZWN0PWcoe3BhcmFtczpbXCJzdHJ1Y3R1cmVcIixcInByb3RvXCJdLHJlc29sdmU6ZnVuY3Rpb24odCl7dmFyIGUsaT17fTtmb3IoZSBpbiB0aGlzLnN0cnVjdHVyZSlpW2VdPWYodGhpcy5zdHJ1Y3R1cmVbZV0sRnVuY3Rpb24pP3RoaXMuc3RydWN0dXJlW2VdOnQodGhpcy5zdHJ1Y3R1cmVbZV0pO3RoaXMuc3RydWN0dXJlPWl9LHJlYWQ6ZnVuY3Rpb24oKXt2YXIgaT10aGlzLG49dGhpcy5zdHJ1Y3R1cmUscj10aGlzLnByb3RvP2wodGhpcy5wcm90byk6e307cmV0dXJuIHRoaXMuYmluYXJ5LmluQ29udGV4dChyLGZ1bmN0aW9uKCl7Zm9yKHZhciBlIGluIG4pdGhpcy5fbmFtZWQoZnVuY3Rpb24oKXt2YXIgdD1mKG5bZV0sRnVuY3Rpb24pP25bZV0uY2FsbChpLHIpOnRoaXMucmVhZChuW2VdKTt2b2lkIDAhPT10JiYocltlXT10KX0sZSkuY2FsbCh0aGlzKX0pLHJ9LHdyaXRlOmZ1bmN0aW9uKGUpe3ZhciBpPXRoaXMsbj10aGlzLnN0cnVjdHVyZTt0aGlzLmJpbmFyeS5pbkNvbnRleHQoZSxmdW5jdGlvbigpe2Zvcih2YXIgdCBpbiBuKXRoaXMuX25hbWVkKGZ1bmN0aW9uKCl7ZihuW3RdLEZ1bmN0aW9uKT9lW3RdPW5bdF0uY2FsbChpLGUpOnRoaXMud3JpdGUoblt0XSxlW3RdKX0sdCkuY2FsbCh0aGlzKX0pfX0pLHkuc2tpcD1nKHtwYXJhbXM6W1wibGVuZ3RoXCJdLHJlYWQ6ZnVuY3Rpb24oKXt0aGlzLnZpZXcuc2tpcCh0aGlzLnRvVmFsdWUodGhpcy5sZW5ndGgpKX0sd3JpdGU6ZnVuY3Rpb24oKXt0aGlzLnJlYWQoKX19KSx5LnN0cmluZz13KHtwYXJhbXM6W1wibGVuZ3RoXCIsXCJlbmNvZGluZ1wiXSxyZWFkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmlldy5nZXRTdHJpbmcodGhpcy50b1ZhbHVlKHRoaXMubGVuZ3RoKSx2b2lkIDAsdGhpcy5lbmNvZGluZyl9LHdyaXRlOmZ1bmN0aW9uKHQpe3RoaXMudmlldy53cml0ZVN0cmluZyh0LHRoaXMuZW5jb2RpbmcpfX0pLHkuc3RyaW5nMD1nKHtwYXJhbXM6W1wibGVuZ3RoXCIsXCJlbmNvZGluZ1wiXSxyZWFkOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy52aWV3O2lmKHZvaWQgMCE9PShuPXRoaXMubGVuZ3RoKSlyZXR1cm4gdC5nZXRTdHJpbmcobix2b2lkIDAsdGhpcy5lbmNvZGluZykucmVwbGFjZSgvXFwwLiokLyxcIlwiKTtmb3IodmFyIGU9dC50ZWxsKCksaT0wLG49dC5ieXRlTGVuZ3RoLWU7aTxuJiZ0LmdldFVpbnQ4KCk7KWkrKztlPXQuZ2V0U3RyaW5nKGksZSx0aGlzLmVuY29kaW5nKTtyZXR1cm4gaTxuJiZ0LnNraXAoMSksZX0sd3JpdGU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy52aWV3LGk9dm9pZCAwPT09dGhpcy5sZW5ndGg/MTp0aGlzLmxlbmd0aC10Lmxlbmd0aDtlLndyaXRlU3RyaW5nKHQsdm9pZCAwLHRoaXMuZW5jb2RpbmcpLDA8aSYmKGUud3JpdGVVaW50OCgwKSxlLnNraXAoaS0xKSl9fSk7cy5sb2FkRGF0YT10KGZ1bmN0aW9uKHQsZSl7dmFyIGk7aWYoZih0LGguQmxvYikpaWYoXCJGaWxlUmVhZGVyXCJpbiBoKShhPW5ldyBGaWxlUmVhZGVyKS5vbmxvYWQ9YS5vbmVycm9yPWZ1bmN0aW9uKCl7ZSh0aGlzLmVycm9yLHRoaXMucmVzdWx0KX0sYS5yZWFkQXNBcnJheUJ1ZmZlcih0KTtlbHNle3ZhciBuLHIsYT1uZXcgRmlsZVJlYWRlclN5bmM7dHJ5e3I9YS5yZWFkQXNBcnJheUJ1ZmZlcih0KX1jYXRjaCh0KXtuPXR9ZmluYWxseXtlKG4scil9fWVsc2UgaWYoMCxcInN0cmluZ1wiIT10eXBlb2YgdCllKG5ldyBUeXBlRXJyb3IoXCJVbnN1cHBvcnRlZCBzb3VyY2UgdHlwZS5cIikpO2Vsc2UgaWYocj10Lm1hdGNoKC9eZGF0YTooLis/KSg7YmFzZTY0KT8sKC4qKSQvKSl0cnl7dmFyIHM9clsyXSxvPXJbM107ZShudWxsLChzP2F0b2I6ZGVjb2RlVVJJQ29tcG9uZW50KShvKSl9Y2F0Y2godCl7ZSh0KX1lbHNlXCJYTUxIdHRwUmVxdWVzdFwiaW4gaD8oKG89bmV3IFhNTEh0dHBSZXF1ZXN0KS5vcGVuKFwiR0VUXCIsdCwhMCksXCJyZXNwb25zZVR5cGVcImluIG8/by5yZXNwb25zZVR5cGU9XCJhcnJheWJ1ZmZlclwiOlwib3ZlcnJpZGVNaW1lVHlwZVwiaW4gbz9vLm92ZXJyaWRlTWltZVR5cGUoXCJ0ZXh0L3BsYWluOyBjaGFyc2V0PXgtdXNlci1kZWZpbmVkXCIpOm8uc2V0UmVxdWVzdEhlYWRlcihcIkFjY2VwdC1DaGFyc2V0XCIsXCJ4LXVzZXItZGVmaW5lZFwiKSxcIm9ubG9hZFwiaW4gb3x8KG8ub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7ND09PXRoaXMucmVhZHlTdGF0ZSYmdGhpcy5vbmxvYWQoKX0pLGk9ZnVuY3Rpb24odCl7ZShuZXcgRXJyb3IodCkpfSxvLm9ubG9hZD1mdW5jdGlvbigpe2lmKDAhPT10aGlzLnN0YXR1cyYmMjAwIT09dGhpcy5zdGF0dXMpcmV0dXJuIGkoXCJIVFRQIEVycm9yICNcIit0aGlzLnN0YXR1cytcIjogXCIrdGhpcy5zdGF0dXNUZXh0KTtcInJlc3BvbnNlXCJpbiB0aGlzfHwodGhpcy5yZXNwb25zZT1uZXcgVkJBcnJheSh0aGlzLnJlc3BvbnNlQm9keSkudG9BcnJheSgpKSxlKG51bGwsdGhpcy5yZXNwb25zZSl9LG8ub25lcnJvcj1mdW5jdGlvbigpe2koXCJOZXR3b3JrIGVycm9yLlwiKX0sby5zZW5kKG51bGwpKTplKG5ldyBUeXBlRXJyb3IoXCJVbnN1cHBvcnRlZCBzb3VyY2UgdHlwZS5cIikpfSksKHMubG9hZD10KGZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1zLmxvYWREYXRhKHQpO3MubG9hZC5nZXRUeXBlU2V0KHQsZSxmdW5jdGlvbihlKXtuLnRoZW4oZnVuY3Rpb24odCl7aShudWxsLG5ldyBzKHQsZSkpfSxpKX0pfSkpLmdldFR5cGVTZXQ9ZnVuY3Rpb24odCxlLGkpe2koZSl9LHAuX3RvVVJJPVwiVVJMXCJpbiBoJiZcImNyZWF0ZU9iamVjdFVSTFwiaW4gVVJMP2Z1bmN0aW9uKHQpe3ZhciBlPXRoaXMuc2VlaygwLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmlldy5nZXRCeXRlcygpfSk7cmV0dXJuIFVSTC5jcmVhdGVPYmplY3RVUkwobmV3IEJsb2IoW2VdLHt0eXBlOnR9KSl9OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuc2VlaygwLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmlldy5nZXRTdHJpbmcodm9pZCAwLHZvaWQgMCxcImJpbmFyeVwiKX0pO3JldHVyblwiZGF0YTpcIit0K1wiO2Jhc2U2NCxcIitidG9hKGUpfSxwLl9taW1lVHlwZT1mdW5jdGlvbih0KXtyZXR1cm4gdHx8dGhpcy50eXBlU2V0W1wiakJpbmFyeS5taW1lVHlwZVwiXXx8XCJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW1cIn07dmFyIG07cC50b1VSST1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fdG9VUkkodGhpcy5fbWltZVR5cGUodCkpfTtyZXR1cm4gbiYmKChtPXMuZG93bmxvYWRlcj1uLmNyZWF0ZUVsZW1lbnQoXCJhXCIpKS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiKSxwLnNhdmVBcz10KGZ1bmN0aW9uKHQsZSxpKXtcInN0cmluZ1wiPT10eXBlb2YgdD8oXCJtc1NhdmVCbG9iXCJpbiBuYXZpZ2F0b3I/bmF2aWdhdG9yLm1zU2F2ZUJsb2IobmV3IEJsb2IoW3RoaXMucmVhZChcImJsb2JcIiwwKV0se3R5cGU6dGhpcy5fbWltZVR5cGUoZSl9KSx0KTpuPyhtLnBhcmVudE5vZGV8fG4uYm9keS5hcHBlbmRDaGlsZChtKSxtLmhyZWY9dGhpcy50b1VSSShlKSxtLmRvd25sb2FkPXQsbS5jbGljaygpLG0uaHJlZj1tLmRvd25sb2FkPVwiXCIpOmkobmV3IFR5cGVFcnJvcihcIlNhdmluZyBmcm9tIFdlYiBXb3JrZXIgaXMgbm90IHN1cHBvcnRlZC5cIikpLGkoKSk6aShuZXcgVHlwZUVycm9yKFwiVW5zdXBwb3J0ZWQgc3RvcmFnZSB0eXBlLlwiKSl9KSxzfSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1qYmluYXJ5LmpzLm1hcCIsIiFmdW5jdGlvbihmYWN0b3J5KSB7XG4gICAgdmFyIGdsb2JhbCA9IHRoaXM7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KGdsb2JhbCk7XG59KGZ1bmN0aW9uKGdsb2JhbCkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIGZ1bmN0aW9uIGlzKG9iaiwgQ3Rvcikge1xuICAgICAgICByZXR1cm4gXCJvYmplY3RcIiAhPSB0eXBlb2Ygb2JqIHx8IG51bGwgPT09IG9iaiA/ICExIDogb2JqLmNvbnN0cnVjdG9yID09PSBDdG9yIHx8IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopID09PSBcIltvYmplY3QgXCIgKyBDdG9yLm5hbWUgKyBcIl1cIjtcbiAgICB9XG4gICAgZnVuY3Rpb24gYXJyYXlGcm9tKGFycmF5TGlrZSwgZm9yY2VDb3B5KSB7XG4gICAgICAgIHJldHVybiAhZm9yY2VDb3B5ICYmIGlzKGFycmF5TGlrZSwgQXJyYXkpID8gYXJyYXlMaWtlIDogQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJyYXlMaWtlKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGVmaW5lZCh2YWx1ZSwgZGVmYXVsdFZhbHVlKSB7XG4gICAgICAgIHJldHVybiB2b2lkIDAgIT09IHZhbHVlID8gdmFsdWUgOiBkZWZhdWx0VmFsdWU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGpEYXRhVmlldyhidWZmZXIsIGJ5dGVPZmZzZXQsIGJ5dGVMZW5ndGgsIGxpdHRsZUVuZGlhbikge1xuICAgICAgICBpZiAoakRhdGFWaWV3LmlzKGJ1ZmZlcikpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBidWZmZXIuc2xpY2UoYnl0ZU9mZnNldCwgYnl0ZU9mZnNldCArIGJ5dGVMZW5ndGgpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5fbGl0dGxlRW5kaWFuID0gZGVmaW5lZChsaXR0bGVFbmRpYW4sIHJlc3VsdC5fbGl0dGxlRW5kaWFuKSwgcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIGlmICghakRhdGFWaWV3LmlzKHRoaXMpKSByZXR1cm4gbmV3IGpEYXRhVmlldyhidWZmZXIsIGJ5dGVPZmZzZXQsIGJ5dGVMZW5ndGgsIGxpdHRsZUVuZGlhbik7XG4gICAgICAgIGlmICh0aGlzLmJ1ZmZlciA9IGJ1ZmZlciA9IGpEYXRhVmlldy53cmFwQnVmZmVyKGJ1ZmZlciksIHRoaXMuX2lzQXJyYXlCdWZmZXIgPSBjb21wYXRpYmlsaXR5LkFycmF5QnVmZmVyICYmIGlzKGJ1ZmZlciwgQXJyYXlCdWZmZXIpLCBcbiAgICAgICAgdGhpcy5faXNQaXhlbERhdGEgPSAhMSwgdGhpcy5faXNEYXRhVmlldyA9IGNvbXBhdGliaWxpdHkuRGF0YVZpZXcgJiYgdGhpcy5faXNBcnJheUJ1ZmZlciwgXG4gICAgICAgIHRoaXMuX2lzTm9kZUJ1ZmZlciA9ICEwICYmIGNvbXBhdGliaWxpdHkuTm9kZUJ1ZmZlciAmJiBpcyhidWZmZXIsIEJ1ZmZlciksICF0aGlzLl9pc05vZGVCdWZmZXIgJiYgIXRoaXMuX2lzQXJyYXlCdWZmZXIgJiYgIWlzKGJ1ZmZlciwgQXJyYXkpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiakRhdGFWaWV3IGJ1ZmZlciBoYXMgYW4gaW5jb21wYXRpYmxlIHR5cGVcIik7XG4gICAgICAgIHRoaXMuX2xpdHRsZUVuZGlhbiA9ICEhbGl0dGxlRW5kaWFuO1xuICAgICAgICB2YXIgYnVmZmVyTGVuZ3RoID0gXCJieXRlTGVuZ3RoXCIgaW4gYnVmZmVyID8gYnVmZmVyLmJ5dGVMZW5ndGggOiBidWZmZXIubGVuZ3RoO1xuICAgICAgICB0aGlzLmJ5dGVPZmZzZXQgPSBieXRlT2Zmc2V0ID0gZGVmaW5lZChieXRlT2Zmc2V0LCAwKSwgdGhpcy5ieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCA9IGRlZmluZWQoYnl0ZUxlbmd0aCwgYnVmZmVyTGVuZ3RoIC0gYnl0ZU9mZnNldCksIFxuICAgICAgICB0aGlzLl9vZmZzZXQgPSB0aGlzLl9iaXRPZmZzZXQgPSAwLCB0aGlzLl9pc0RhdGFWaWV3ID8gdGhpcy5fdmlldyA9IG5ldyBEYXRhVmlldyhidWZmZXIsIGJ5dGVPZmZzZXQsIGJ5dGVMZW5ndGgpIDogdGhpcy5fY2hlY2tCb3VuZHMoYnl0ZU9mZnNldCwgYnl0ZUxlbmd0aCwgYnVmZmVyTGVuZ3RoKSwgXG4gICAgICAgIHRoaXMuX2VuZ2luZUFjdGlvbiA9IHRoaXMuX2lzRGF0YVZpZXcgPyB0aGlzLl9kYXRhVmlld0FjdGlvbiA6IHRoaXMuX2lzTm9kZUJ1ZmZlciA/IHRoaXMuX25vZGVCdWZmZXJBY3Rpb24gOiB0aGlzLl9pc0FycmF5QnVmZmVyID8gdGhpcy5fYXJyYXlCdWZmZXJBY3Rpb24gOiB0aGlzLl9hcnJheUFjdGlvbjtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0Q2hhckNvZGVzKHN0cmluZykge1xuICAgICAgICBpZiAoY29tcGF0aWJpbGl0eS5Ob2RlQnVmZmVyKSByZXR1cm4gbmV3IEJ1ZmZlcihzdHJpbmcsIFwiYmluYXJ5XCIpO1xuICAgICAgICBmb3IgKHZhciBUeXBlID0gY29tcGF0aWJpbGl0eS5BcnJheUJ1ZmZlciA/IFVpbnQ4QXJyYXkgOiBBcnJheSwgY29kZXMgPSBuZXcgVHlwZShzdHJpbmcubGVuZ3RoKSwgaSA9IDAsIGxlbmd0aCA9IHN0cmluZy5sZW5ndGg7IGxlbmd0aCA+IGk7IGkrKykgY29kZXNbaV0gPSAyNTUgJiBzdHJpbmcuY2hhckNvZGVBdChpKTtcbiAgICAgICAgcmV0dXJuIGNvZGVzO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwb3cyKG4pIHtcbiAgICAgICAgcmV0dXJuIG4gPj0gMCAmJiAzMSA+IG4gPyAxIDw8IG4gOiBwb3cyW25dIHx8IChwb3cyW25dID0gTWF0aC5wb3coMiwgbikpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBVaW50NjQobG8sIGhpKSB7XG4gICAgICAgIHRoaXMubG8gPSBsbywgdGhpcy5oaSA9IGhpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBJbnQ2NCgpIHtcbiAgICAgICAgVWludDY0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuICAgIHZhciBjb21wYXRpYmlsaXR5ID0ge1xuICAgICAgICBOb2RlQnVmZmVyOiAhMCAmJiBcIkJ1ZmZlclwiIGluIGdsb2JhbCxcbiAgICAgICAgRGF0YVZpZXc6IFwiRGF0YVZpZXdcIiBpbiBnbG9iYWwsXG4gICAgICAgIEFycmF5QnVmZmVyOiBcIkFycmF5QnVmZmVyXCIgaW4gZ2xvYmFsLFxuICAgICAgICBQaXhlbERhdGE6ICExXG4gICAgfSwgVGV4dEVuY29kZXIgPSBnbG9iYWwuVGV4dEVuY29kZXIsIFRleHREZWNvZGVyID0gZ2xvYmFsLlRleHREZWNvZGVyO1xuICAgIGNvbXBhdGliaWxpdHkuTm9kZUJ1ZmZlciAmJiAhZnVuY3Rpb24oYnVmZmVyKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBidWZmZXIud3JpdGVGbG9hdExFKDEvMCwgMCk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbXBhdGliaWxpdHkuTm9kZUJ1ZmZlciA9ICExO1xuICAgICAgICB9XG4gICAgfShuZXcgQnVmZmVyKDQpKTtcbiAgICB2YXIgZGF0YVR5cGVzID0ge1xuICAgICAgICBJbnQ4OiAxLFxuICAgICAgICBJbnQxNjogMixcbiAgICAgICAgSW50MzI6IDQsXG4gICAgICAgIFVpbnQ4OiAxLFxuICAgICAgICBVaW50MTY6IDIsXG4gICAgICAgIFVpbnQzMjogNCxcbiAgICAgICAgRmxvYXQzMjogNCxcbiAgICAgICAgRmxvYXQ2NDogOFxuICAgIH07XG4gICAgakRhdGFWaWV3LndyYXBCdWZmZXIgPSBmdW5jdGlvbihidWZmZXIpIHtcbiAgICAgICAgc3dpdGNoICh0eXBlb2YgYnVmZmVyKSB7XG4gICAgICAgICAgY2FzZSBcIm51bWJlclwiOlxuICAgICAgICAgICAgaWYgKGNvbXBhdGliaWxpdHkuTm9kZUJ1ZmZlcikgYnVmZmVyID0gbmV3IEJ1ZmZlcihidWZmZXIpLCBidWZmZXIuZmlsbCgwKTsgZWxzZSBpZiAoY29tcGF0aWJpbGl0eS5BcnJheUJ1ZmZlcikgYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyKS5idWZmZXI7IGVsc2Uge1xuICAgICAgICAgICAgICAgIGJ1ZmZlciA9IG5ldyBBcnJheShidWZmZXIpO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYnVmZmVyLmxlbmd0aDsgaSsrKSBidWZmZXJbaV0gPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGJ1ZmZlcjtcblxuICAgICAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgICAgIGJ1ZmZlciA9IGdldENoYXJDb2RlcyhidWZmZXIpO1xuXG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBcImxlbmd0aFwiIGluIGJ1ZmZlciAmJiAhKGNvbXBhdGliaWxpdHkuTm9kZUJ1ZmZlciAmJiBpcyhidWZmZXIsIEJ1ZmZlcikgfHwgY29tcGF0aWJpbGl0eS5BcnJheUJ1ZmZlciAmJiBpcyhidWZmZXIsIEFycmF5QnVmZmVyKSkgJiYgKGNvbXBhdGliaWxpdHkuTm9kZUJ1ZmZlciA/IGJ1ZmZlciA9IG5ldyBCdWZmZXIoYnVmZmVyKSA6IGNvbXBhdGliaWxpdHkuQXJyYXlCdWZmZXIgPyBpcyhidWZmZXIsIEFycmF5QnVmZmVyKSB8fCAoYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyKS5idWZmZXIsIFxuICAgICAgICAgICAgaXMoYnVmZmVyLCBBcnJheUJ1ZmZlcikgfHwgKGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KGFycmF5RnJvbShidWZmZXIsICEwKSkuYnVmZmVyKSkgOiBidWZmZXIgPSBhcnJheUZyb20oYnVmZmVyKSksIFxuICAgICAgICAgICAgYnVmZmVyO1xuICAgICAgICB9XG4gICAgfSwgakRhdGFWaWV3LmlzID0gZnVuY3Rpb24odmlldykge1xuICAgICAgICByZXR1cm4gdmlldyAmJiB2aWV3LmpEYXRhVmlldztcbiAgICB9LCBqRGF0YVZpZXcuZnJvbSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gbmV3IGpEYXRhVmlldyhhcmd1bWVudHMpO1xuICAgIH0sIGpEYXRhVmlldy5VaW50NjQgPSBVaW50NjQsIFVpbnQ2NC5wcm90b3R5cGUgPSB7XG4gICAgICAgIHZhbHVlT2Y6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubG8gKyBwb3cyKDMyKSAqIHRoaXMuaGk7XG4gICAgICAgIH0sXG4gICAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBOdW1iZXIucHJvdG90eXBlLnRvU3RyaW5nLmFwcGx5KHRoaXMudmFsdWVPZigpLCBhcmd1bWVudHMpO1xuICAgICAgICB9XG4gICAgfSwgVWludDY0LmZyb21OdW1iZXIgPSBmdW5jdGlvbihudW1iZXIpIHtcbiAgICAgICAgdmFyIGhpID0gTWF0aC5mbG9vcihudW1iZXIgLyBwb3cyKDMyKSksIGxvID0gbnVtYmVyIC0gaGkgKiBwb3cyKDMyKTtcbiAgICAgICAgcmV0dXJuIG5ldyBVaW50NjQobG8sIGhpKTtcbiAgICB9LCBqRGF0YVZpZXcuSW50NjQgPSBJbnQ2NCwgSW50NjQucHJvdG90eXBlID0gXCJjcmVhdGVcIiBpbiBPYmplY3QgPyBPYmplY3QuY3JlYXRlKFVpbnQ2NC5wcm90b3R5cGUpIDogbmV3IFVpbnQ2NCgpLCBcbiAgICBJbnQ2NC5wcm90b3R5cGUudmFsdWVPZiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5oaSA8IHBvdzIoMzEpID8gVWludDY0LnByb3RvdHlwZS52YWx1ZU9mLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgOiAtKHBvdzIoMzIpIC0gdGhpcy5sbyArIHBvdzIoMzIpICogKHBvdzIoMzIpIC0gMSAtIHRoaXMuaGkpKTtcbiAgICB9LCBJbnQ2NC5mcm9tTnVtYmVyID0gZnVuY3Rpb24obnVtYmVyKSB7XG4gICAgICAgIHZhciBsbywgaGk7XG4gICAgICAgIGlmIChudW1iZXIgPj0gMCkge1xuICAgICAgICAgICAgdmFyIHVuc2lnbmVkID0gVWludDY0LmZyb21OdW1iZXIobnVtYmVyKTtcbiAgICAgICAgICAgIGxvID0gdW5zaWduZWQubG8sIGhpID0gdW5zaWduZWQuaGk7XG4gICAgICAgIH0gZWxzZSBoaSA9IE1hdGguZmxvb3IobnVtYmVyIC8gcG93MigzMikpLCBsbyA9IG51bWJlciAtIGhpICogcG93MigzMiksIGhpICs9IHBvdzIoMzIpO1xuICAgICAgICByZXR1cm4gbmV3IEludDY0KGxvLCBoaSk7XG4gICAgfTtcbiAgICB2YXIgcHJvdG8gPSBqRGF0YVZpZXcucHJvdG90eXBlID0ge1xuICAgICAgICBjb21wYXRpYmlsaXR5OiBjb21wYXRpYmlsaXR5LFxuICAgICAgICBqRGF0YVZpZXc6ICEwLFxuICAgICAgICBfY2hlY2tCb3VuZHM6IGZ1bmN0aW9uKGJ5dGVPZmZzZXQsIGJ5dGVMZW5ndGgsIG1heExlbmd0aCkge1xuICAgICAgICAgICAgaWYgKFwibnVtYmVyXCIgIT0gdHlwZW9mIGJ5dGVPZmZzZXQpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJPZmZzZXQgaXMgbm90IGEgbnVtYmVyLlwiKTtcbiAgICAgICAgICAgIGlmIChcIm51bWJlclwiICE9IHR5cGVvZiBieXRlTGVuZ3RoKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU2l6ZSBpcyBub3QgYSBudW1iZXIuXCIpO1xuICAgICAgICAgICAgaWYgKDAgPiBieXRlTGVuZ3RoKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkxlbmd0aCBpcyBuZWdhdGl2ZS5cIik7XG4gICAgICAgICAgICBpZiAoMCA+IGJ5dGVPZmZzZXQgfHwgYnl0ZU9mZnNldCArIGJ5dGVMZW5ndGggPiBkZWZpbmVkKG1heExlbmd0aCwgdGhpcy5ieXRlTGVuZ3RoKSkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJPZmZzZXRzIGFyZSBvdXQgb2YgYm91bmRzLlwiKTtcbiAgICAgICAgfSxcbiAgICAgICAgX2FjdGlvbjogZnVuY3Rpb24odHlwZSwgaXNSZWFkQWN0aW9uLCBieXRlT2Zmc2V0LCBsaXR0bGVFbmRpYW4sIHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lQWN0aW9uKHR5cGUsIGlzUmVhZEFjdGlvbiwgZGVmaW5lZChieXRlT2Zmc2V0LCB0aGlzLl9vZmZzZXQpLCBkZWZpbmVkKGxpdHRsZUVuZGlhbiwgdGhpcy5fbGl0dGxlRW5kaWFuKSwgdmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgICBfZGF0YVZpZXdBY3Rpb246IGZ1bmN0aW9uKHR5cGUsIGlzUmVhZEFjdGlvbiwgYnl0ZU9mZnNldCwgbGl0dGxlRW5kaWFuLCB2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX29mZnNldCA9IGJ5dGVPZmZzZXQgKyBkYXRhVHlwZXNbdHlwZV0sIGlzUmVhZEFjdGlvbiA/IHRoaXMuX3ZpZXdbXCJnZXRcIiArIHR5cGVdKGJ5dGVPZmZzZXQsIGxpdHRsZUVuZGlhbikgOiB0aGlzLl92aWV3W1wic2V0XCIgKyB0eXBlXShieXRlT2Zmc2V0LCB2YWx1ZSwgbGl0dGxlRW5kaWFuKTtcbiAgICAgICAgfSxcbiAgICAgICAgX2FycmF5QnVmZmVyQWN0aW9uOiBmdW5jdGlvbih0eXBlLCBpc1JlYWRBY3Rpb24sIGJ5dGVPZmZzZXQsIGxpdHRsZUVuZGlhbiwgdmFsdWUpIHtcbiAgICAgICAgICAgIHZhciB0eXBlZEFycmF5LCBzaXplID0gZGF0YVR5cGVzW3R5cGVdLCBUeXBlZEFycmF5ID0gZ2xvYmFsW3R5cGUgKyBcIkFycmF5XCJdO1xuICAgICAgICAgICAgaWYgKGxpdHRsZUVuZGlhbiA9IGRlZmluZWQobGl0dGxlRW5kaWFuLCB0aGlzLl9saXR0bGVFbmRpYW4pLCAxID09PSBzaXplIHx8ICh0aGlzLmJ5dGVPZmZzZXQgKyBieXRlT2Zmc2V0KSAlIHNpemUgPT09IDAgJiYgbGl0dGxlRW5kaWFuKSByZXR1cm4gdHlwZWRBcnJheSA9IG5ldyBUeXBlZEFycmF5KHRoaXMuYnVmZmVyLCB0aGlzLmJ5dGVPZmZzZXQgKyBieXRlT2Zmc2V0LCAxKSwgXG4gICAgICAgICAgICB0aGlzLl9vZmZzZXQgPSBieXRlT2Zmc2V0ICsgc2l6ZSwgaXNSZWFkQWN0aW9uID8gdHlwZWRBcnJheVswXSA6IHR5cGVkQXJyYXlbMF0gPSB2YWx1ZTtcbiAgICAgICAgICAgIHZhciBieXRlcyA9IG5ldyBVaW50OEFycmF5KGlzUmVhZEFjdGlvbiA/IHRoaXMuZ2V0Qnl0ZXMoc2l6ZSwgYnl0ZU9mZnNldCwgbGl0dGxlRW5kaWFuLCAhMCkgOiBzaXplKTtcbiAgICAgICAgICAgIHJldHVybiB0eXBlZEFycmF5ID0gbmV3IFR5cGVkQXJyYXkoYnl0ZXMuYnVmZmVyLCAwLCAxKSwgaXNSZWFkQWN0aW9uID8gdHlwZWRBcnJheVswXSA6ICh0eXBlZEFycmF5WzBdID0gdmFsdWUsIFxuICAgICAgICAgICAgdm9pZCB0aGlzLl9zZXRCeXRlcyhieXRlT2Zmc2V0LCBieXRlcywgbGl0dGxlRW5kaWFuKSk7XG4gICAgICAgIH0sXG4gICAgICAgIF9hcnJheUFjdGlvbjogZnVuY3Rpb24odHlwZSwgaXNSZWFkQWN0aW9uLCBieXRlT2Zmc2V0LCBsaXR0bGVFbmRpYW4sIHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4gaXNSZWFkQWN0aW9uID8gdGhpc1tcIl9nZXRcIiArIHR5cGVdKGJ5dGVPZmZzZXQsIGxpdHRsZUVuZGlhbikgOiB0aGlzW1wiX3NldFwiICsgdHlwZV0oYnl0ZU9mZnNldCwgdmFsdWUsIGxpdHRsZUVuZGlhbik7XG4gICAgICAgIH0sXG4gICAgICAgIF9nZXRCeXRlczogZnVuY3Rpb24obGVuZ3RoLCBieXRlT2Zmc2V0LCBsaXR0bGVFbmRpYW4pIHtcbiAgICAgICAgICAgIGxpdHRsZUVuZGlhbiA9IGRlZmluZWQobGl0dGxlRW5kaWFuLCB0aGlzLl9saXR0bGVFbmRpYW4pLCBieXRlT2Zmc2V0ID0gZGVmaW5lZChieXRlT2Zmc2V0LCB0aGlzLl9vZmZzZXQpLCBcbiAgICAgICAgICAgIGxlbmd0aCA9IGRlZmluZWQobGVuZ3RoLCB0aGlzLmJ5dGVMZW5ndGggLSBieXRlT2Zmc2V0KSwgdGhpcy5fY2hlY2tCb3VuZHMoYnl0ZU9mZnNldCwgbGVuZ3RoKSwgXG4gICAgICAgICAgICBieXRlT2Zmc2V0ICs9IHRoaXMuYnl0ZU9mZnNldCwgdGhpcy5fb2Zmc2V0ID0gYnl0ZU9mZnNldCAtIHRoaXMuYnl0ZU9mZnNldCArIGxlbmd0aDtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSB0aGlzLl9pc0FycmF5QnVmZmVyID8gbmV3IFVpbnQ4QXJyYXkodGhpcy5idWZmZXIsIGJ5dGVPZmZzZXQsIGxlbmd0aCkgOiAodGhpcy5idWZmZXIuc2xpY2UgfHwgQXJyYXkucHJvdG90eXBlLnNsaWNlKS5jYWxsKHRoaXMuYnVmZmVyLCBieXRlT2Zmc2V0LCBieXRlT2Zmc2V0ICsgbGVuZ3RoKTtcbiAgICAgICAgICAgIHJldHVybiBsaXR0bGVFbmRpYW4gfHwgMSA+PSBsZW5ndGggPyByZXN1bHQgOiBhcnJheUZyb20ocmVzdWx0KS5yZXZlcnNlKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGdldEJ5dGVzOiBmdW5jdGlvbihsZW5ndGgsIGJ5dGVPZmZzZXQsIGxpdHRsZUVuZGlhbiwgdG9BcnJheSkge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMuX2dldEJ5dGVzKGxlbmd0aCwgYnl0ZU9mZnNldCwgZGVmaW5lZChsaXR0bGVFbmRpYW4sICEwKSk7XG4gICAgICAgICAgICByZXR1cm4gdG9BcnJheSA/IGFycmF5RnJvbShyZXN1bHQpIDogcmVzdWx0O1xuICAgICAgICB9LFxuICAgICAgICBfc2V0Qnl0ZXM6IGZ1bmN0aW9uKGJ5dGVPZmZzZXQsIGJ5dGVzLCBsaXR0bGVFbmRpYW4pIHtcbiAgICAgICAgICAgIHZhciBsZW5ndGggPSBieXRlcy5sZW5ndGg7XG4gICAgICAgICAgICBpZiAoMCAhPT0gbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgaWYgKGxpdHRsZUVuZGlhbiA9IGRlZmluZWQobGl0dGxlRW5kaWFuLCB0aGlzLl9saXR0bGVFbmRpYW4pLCBieXRlT2Zmc2V0ID0gZGVmaW5lZChieXRlT2Zmc2V0LCB0aGlzLl9vZmZzZXQpLCBcbiAgICAgICAgICAgICAgICB0aGlzLl9jaGVja0JvdW5kcyhieXRlT2Zmc2V0LCBsZW5ndGgpLCAhbGl0dGxlRW5kaWFuICYmIGxlbmd0aCA+IDEgJiYgKGJ5dGVzID0gYXJyYXlGcm9tKGJ5dGVzLCAhMCkucmV2ZXJzZSgpKSwgXG4gICAgICAgICAgICAgICAgYnl0ZU9mZnNldCArPSB0aGlzLmJ5dGVPZmZzZXQsIHRoaXMuX2lzQXJyYXlCdWZmZXIpIG5ldyBVaW50OEFycmF5KHRoaXMuYnVmZmVyLCBieXRlT2Zmc2V0LCBsZW5ndGgpLnNldChieXRlcyk7IGVsc2UgaWYgKHRoaXMuX2lzTm9kZUJ1ZmZlcikgbmV3IEJ1ZmZlcihieXRlcykuY29weSh0aGlzLmJ1ZmZlciwgYnl0ZU9mZnNldCk7IGVsc2UgZm9yICh2YXIgaSA9IDA7IGxlbmd0aCA+IGk7IGkrKykgdGhpcy5idWZmZXJbYnl0ZU9mZnNldCArIGldID0gYnl0ZXNbaV07XG4gICAgICAgICAgICAgICAgdGhpcy5fb2Zmc2V0ID0gYnl0ZU9mZnNldCAtIHRoaXMuYnl0ZU9mZnNldCArIGxlbmd0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgc2V0Qnl0ZXM6IGZ1bmN0aW9uKGJ5dGVPZmZzZXQsIGJ5dGVzLCBsaXR0bGVFbmRpYW4pIHtcbiAgICAgICAgICAgIHRoaXMuX3NldEJ5dGVzKGJ5dGVPZmZzZXQsIGJ5dGVzLCBkZWZpbmVkKGxpdHRsZUVuZGlhbiwgITApKTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0U3RyaW5nOiBmdW5jdGlvbihieXRlTGVuZ3RoLCBieXRlT2Zmc2V0LCBlbmNvZGluZykge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2lzTm9kZUJ1ZmZlcikgcmV0dXJuIGJ5dGVPZmZzZXQgPSBkZWZpbmVkKGJ5dGVPZmZzZXQsIHRoaXMuX29mZnNldCksIGJ5dGVMZW5ndGggPSBkZWZpbmVkKGJ5dGVMZW5ndGgsIHRoaXMuYnl0ZUxlbmd0aCAtIGJ5dGVPZmZzZXQpLCBcbiAgICAgICAgICAgIHRoaXMuX2NoZWNrQm91bmRzKGJ5dGVPZmZzZXQsIGJ5dGVMZW5ndGgpLCB0aGlzLl9vZmZzZXQgPSBieXRlT2Zmc2V0ICsgYnl0ZUxlbmd0aCwgXG4gICAgICAgICAgICB0aGlzLmJ1ZmZlci50b1N0cmluZyhlbmNvZGluZyB8fCBcImJpbmFyeVwiLCB0aGlzLmJ5dGVPZmZzZXQgKyBieXRlT2Zmc2V0LCB0aGlzLmJ5dGVPZmZzZXQgKyB0aGlzLl9vZmZzZXQpO1xuICAgICAgICAgICAgdmFyIGJ5dGVzID0gdGhpcy5fZ2V0Qnl0ZXMoYnl0ZUxlbmd0aCwgYnl0ZU9mZnNldCwgITApO1xuICAgICAgICAgICAgaWYgKGVuY29kaW5nID0gXCJ1dGY4XCIgPT09IGVuY29kaW5nID8gXCJ1dGYtOFwiIDogZW5jb2RpbmcgfHwgXCJiaW5hcnlcIiwgVGV4dERlY29kZXIgJiYgXCJiaW5hcnlcIiAhPT0gZW5jb2RpbmcpIHJldHVybiBuZXcgVGV4dERlY29kZXIoZW5jb2RpbmcpLmRlY29kZSh0aGlzLl9pc0FycmF5QnVmZmVyID8gYnl0ZXMgOiBuZXcgVWludDhBcnJheShieXRlcykpO1xuICAgICAgICAgICAgdmFyIHN0cmluZyA9IFwiXCI7XG4gICAgICAgICAgICBieXRlTGVuZ3RoID0gYnl0ZXMubGVuZ3RoO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGJ5dGVMZW5ndGggPiBpOyBpKyspIHN0cmluZyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ5dGVzW2ldKTtcbiAgICAgICAgICAgIHJldHVybiBcInV0Zi04XCIgPT09IGVuY29kaW5nICYmIChzdHJpbmcgPSBkZWNvZGVVUklDb21wb25lbnQoZXNjYXBlKHN0cmluZykpKSwgc3RyaW5nO1xuICAgICAgICB9LFxuICAgICAgICBzZXRTdHJpbmc6IGZ1bmN0aW9uKGJ5dGVPZmZzZXQsIHN1YlN0cmluZywgZW5jb2RpbmcpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9pc05vZGVCdWZmZXIpIHJldHVybiBieXRlT2Zmc2V0ID0gZGVmaW5lZChieXRlT2Zmc2V0LCB0aGlzLl9vZmZzZXQpLCB0aGlzLl9jaGVja0JvdW5kcyhieXRlT2Zmc2V0LCBzdWJTdHJpbmcubGVuZ3RoKSwgXG4gICAgICAgICAgICB2b2lkICh0aGlzLl9vZmZzZXQgPSBieXRlT2Zmc2V0ICsgdGhpcy5idWZmZXIud3JpdGUoc3ViU3RyaW5nLCB0aGlzLmJ5dGVPZmZzZXQgKyBieXRlT2Zmc2V0LCBlbmNvZGluZyB8fCBcImJpbmFyeVwiKSk7XG4gICAgICAgICAgICBlbmNvZGluZyA9IFwidXRmOFwiID09PSBlbmNvZGluZyA/IFwidXRmLThcIiA6IGVuY29kaW5nIHx8IFwiYmluYXJ5XCI7XG4gICAgICAgICAgICB2YXIgYnl0ZXM7XG4gICAgICAgICAgICBUZXh0RW5jb2RlciAmJiBcImJpbmFyeVwiICE9PSBlbmNvZGluZyA/IGJ5dGVzID0gbmV3IFRleHRFbmNvZGVyKGVuY29kaW5nKS5lbmNvZGUoc3ViU3RyaW5nKSA6IChcInV0Zi04XCIgPT09IGVuY29kaW5nICYmIChzdWJTdHJpbmcgPSB1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoc3ViU3RyaW5nKSkpLCBcbiAgICAgICAgICAgIGJ5dGVzID0gZ2V0Q2hhckNvZGVzKHN1YlN0cmluZykpLCB0aGlzLl9zZXRCeXRlcyhieXRlT2Zmc2V0LCBieXRlcywgITApO1xuICAgICAgICB9LFxuICAgICAgICBnZXRDaGFyOiBmdW5jdGlvbihieXRlT2Zmc2V0KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRTdHJpbmcoMSwgYnl0ZU9mZnNldCk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldENoYXI6IGZ1bmN0aW9uKGJ5dGVPZmZzZXQsIGNoYXJhY3Rlcikge1xuICAgICAgICAgICAgdGhpcy5zZXRTdHJpbmcoYnl0ZU9mZnNldCwgY2hhcmFjdGVyKTtcbiAgICAgICAgfSxcbiAgICAgICAgdGVsbDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fb2Zmc2V0O1xuICAgICAgICB9LFxuICAgICAgICBzZWVrOiBmdW5jdGlvbihieXRlT2Zmc2V0KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY2hlY2tCb3VuZHMoYnl0ZU9mZnNldCwgMCksIHRoaXMuX29mZnNldCA9IGJ5dGVPZmZzZXQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNraXA6IGZ1bmN0aW9uKGJ5dGVMZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNlZWsodGhpcy5fb2Zmc2V0ICsgYnl0ZUxlbmd0aCk7XG4gICAgICAgIH0sXG4gICAgICAgIHNsaWNlOiBmdW5jdGlvbihzdGFydCwgZW5kLCBmb3JjZUNvcHkpIHtcbiAgICAgICAgICAgIGZ1bmN0aW9uIG5vcm1hbGl6ZU9mZnNldChvZmZzZXQsIGJ5dGVMZW5ndGgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gMCA+IG9mZnNldCA/IG9mZnNldCArIGJ5dGVMZW5ndGggOiBvZmZzZXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gc3RhcnQgPSBub3JtYWxpemVPZmZzZXQoc3RhcnQsIHRoaXMuYnl0ZUxlbmd0aCksIGVuZCA9IG5vcm1hbGl6ZU9mZnNldChkZWZpbmVkKGVuZCwgdGhpcy5ieXRlTGVuZ3RoKSwgdGhpcy5ieXRlTGVuZ3RoKSwgXG4gICAgICAgICAgICBmb3JjZUNvcHkgPyBuZXcgakRhdGFWaWV3KHRoaXMuZ2V0Qnl0ZXMoZW5kIC0gc3RhcnQsIHN0YXJ0LCAhMCwgITApLCB2b2lkIDAsIHZvaWQgMCwgdGhpcy5fbGl0dGxlRW5kaWFuKSA6IG5ldyBqRGF0YVZpZXcodGhpcy5idWZmZXIsIHRoaXMuYnl0ZU9mZnNldCArIHN0YXJ0LCBlbmQgLSBzdGFydCwgdGhpcy5fbGl0dGxlRW5kaWFuKTtcbiAgICAgICAgfSxcbiAgICAgICAgYWxpZ25CeTogZnVuY3Rpb24oYnl0ZUNvdW50KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYml0T2Zmc2V0ID0gMCwgMSAhPT0gZGVmaW5lZChieXRlQ291bnQsIDEpID8gdGhpcy5za2lwKGJ5dGVDb3VudCAtICh0aGlzLl9vZmZzZXQgJSBieXRlQ291bnQgfHwgYnl0ZUNvdW50KSkgOiB0aGlzLl9vZmZzZXQ7XG4gICAgICAgIH0sXG4gICAgICAgIF9nZXRGbG9hdDY0OiBmdW5jdGlvbihieXRlT2Zmc2V0LCBsaXR0bGVFbmRpYW4pIHtcbiAgICAgICAgICAgIHZhciBiID0gdGhpcy5fZ2V0Qnl0ZXMoOCwgYnl0ZU9mZnNldCwgbGl0dGxlRW5kaWFuKSwgc2lnbiA9IDEgLSAyICogKGJbN10gPj4gNyksIGV4cG9uZW50ID0gKChiWzddIDw8IDEgJiAyNTUpIDw8IDMgfCBiWzZdID4+IDQpIC0gMTAyMywgbWFudGlzc2EgPSAoMTUgJiBiWzZdKSAqIHBvdzIoNDgpICsgYls1XSAqIHBvdzIoNDApICsgYls0XSAqIHBvdzIoMzIpICsgYlszXSAqIHBvdzIoMjQpICsgYlsyXSAqIHBvdzIoMTYpICsgYlsxXSAqIHBvdzIoOCkgKyBiWzBdO1xuICAgICAgICAgICAgcmV0dXJuIDEwMjQgPT09IGV4cG9uZW50ID8gMCAhPT0gbWFudGlzc2EgPyAwLzAgOiAxLzAgKiBzaWduIDogLTEwMjMgPT09IGV4cG9uZW50ID8gc2lnbiAqIG1hbnRpc3NhICogcG93MigtMTA3NCkgOiBzaWduICogKDEgKyBtYW50aXNzYSAqIHBvdzIoLTUyKSkgKiBwb3cyKGV4cG9uZW50KTtcbiAgICAgICAgfSxcbiAgICAgICAgX2dldEZsb2F0MzI6IGZ1bmN0aW9uKGJ5dGVPZmZzZXQsIGxpdHRsZUVuZGlhbikge1xuICAgICAgICAgICAgdmFyIGIgPSB0aGlzLl9nZXRCeXRlcyg0LCBieXRlT2Zmc2V0LCBsaXR0bGVFbmRpYW4pLCBzaWduID0gMSAtIDIgKiAoYlszXSA+PiA3KSwgZXhwb25lbnQgPSAoYlszXSA8PCAxICYgMjU1IHwgYlsyXSA+PiA3KSAtIDEyNywgbWFudGlzc2EgPSAoMTI3ICYgYlsyXSkgPDwgMTYgfCBiWzFdIDw8IDggfCBiWzBdO1xuICAgICAgICAgICAgcmV0dXJuIDEyOCA9PT0gZXhwb25lbnQgPyAwICE9PSBtYW50aXNzYSA/IDAvMCA6IDEvMCAqIHNpZ24gOiAtMTI3ID09PSBleHBvbmVudCA/IHNpZ24gKiBtYW50aXNzYSAqIHBvdzIoLTE0OSkgOiBzaWduICogKDEgKyBtYW50aXNzYSAqIHBvdzIoLTIzKSkgKiBwb3cyKGV4cG9uZW50KTtcbiAgICAgICAgfSxcbiAgICAgICAgX2dldDY0OiBmdW5jdGlvbihUeXBlLCBieXRlT2Zmc2V0LCBsaXR0bGVFbmRpYW4pIHtcbiAgICAgICAgICAgIGxpdHRsZUVuZGlhbiA9IGRlZmluZWQobGl0dGxlRW5kaWFuLCB0aGlzLl9saXR0bGVFbmRpYW4pLCBieXRlT2Zmc2V0ID0gZGVmaW5lZChieXRlT2Zmc2V0LCB0aGlzLl9vZmZzZXQpO1xuICAgICAgICAgICAgZm9yICh2YXIgcGFydHMgPSBsaXR0bGVFbmRpYW4gPyBbIDAsIDQgXSA6IFsgNCwgMCBdLCBpID0gMDsgMiA+IGk7IGkrKykgcGFydHNbaV0gPSB0aGlzLmdldFVpbnQzMihieXRlT2Zmc2V0ICsgcGFydHNbaV0sIGxpdHRsZUVuZGlhbik7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fb2Zmc2V0ID0gYnl0ZU9mZnNldCArIDgsIG5ldyBUeXBlKHBhcnRzWzBdLCBwYXJ0c1sxXSk7XG4gICAgICAgIH0sXG4gICAgICAgIGdldEludDY0OiBmdW5jdGlvbihieXRlT2Zmc2V0LCBsaXR0bGVFbmRpYW4pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9nZXQ2NChJbnQ2NCwgYnl0ZU9mZnNldCwgbGl0dGxlRW5kaWFuKTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0VWludDY0OiBmdW5jdGlvbihieXRlT2Zmc2V0LCBsaXR0bGVFbmRpYW4pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9nZXQ2NChVaW50NjQsIGJ5dGVPZmZzZXQsIGxpdHRsZUVuZGlhbik7XG4gICAgICAgIH0sXG4gICAgICAgIF9nZXRJbnQzMjogZnVuY3Rpb24oYnl0ZU9mZnNldCwgbGl0dGxlRW5kaWFuKSB7XG4gICAgICAgICAgICB2YXIgYiA9IHRoaXMuX2dldEJ5dGVzKDQsIGJ5dGVPZmZzZXQsIGxpdHRsZUVuZGlhbik7XG4gICAgICAgICAgICByZXR1cm4gYlszXSA8PCAyNCB8IGJbMl0gPDwgMTYgfCBiWzFdIDw8IDggfCBiWzBdO1xuICAgICAgICB9LFxuICAgICAgICBfZ2V0VWludDMyOiBmdW5jdGlvbihieXRlT2Zmc2V0LCBsaXR0bGVFbmRpYW4pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9nZXRJbnQzMihieXRlT2Zmc2V0LCBsaXR0bGVFbmRpYW4pID4+PiAwO1xuICAgICAgICB9LFxuICAgICAgICBfZ2V0SW50MTY6IGZ1bmN0aW9uKGJ5dGVPZmZzZXQsIGxpdHRsZUVuZGlhbikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dldFVpbnQxNihieXRlT2Zmc2V0LCBsaXR0bGVFbmRpYW4pIDw8IDE2ID4+IDE2O1xuICAgICAgICB9LFxuICAgICAgICBfZ2V0VWludDE2OiBmdW5jdGlvbihieXRlT2Zmc2V0LCBsaXR0bGVFbmRpYW4pIHtcbiAgICAgICAgICAgIHZhciBiID0gdGhpcy5fZ2V0Qnl0ZXMoMiwgYnl0ZU9mZnNldCwgbGl0dGxlRW5kaWFuKTtcbiAgICAgICAgICAgIHJldHVybiBiWzFdIDw8IDggfCBiWzBdO1xuICAgICAgICB9LFxuICAgICAgICBfZ2V0SW50ODogZnVuY3Rpb24oYnl0ZU9mZnNldCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dldFVpbnQ4KGJ5dGVPZmZzZXQpIDw8IDI0ID4+IDI0O1xuICAgICAgICB9LFxuICAgICAgICBfZ2V0VWludDg6IGZ1bmN0aW9uKGJ5dGVPZmZzZXQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9nZXRCeXRlcygxLCBieXRlT2Zmc2V0KVswXTtcbiAgICAgICAgfSxcbiAgICAgICAgX2dldEJpdFJhbmdlRGF0YTogZnVuY3Rpb24oYml0TGVuZ3RoLCBieXRlT2Zmc2V0KSB7XG4gICAgICAgICAgICB2YXIgc3RhcnRCaXQgPSAoZGVmaW5lZChieXRlT2Zmc2V0LCB0aGlzLl9vZmZzZXQpIDw8IDMpICsgdGhpcy5fYml0T2Zmc2V0LCBlbmRCaXQgPSBzdGFydEJpdCArIGJpdExlbmd0aCwgc3RhcnQgPSBzdGFydEJpdCA+Pj4gMywgZW5kID0gZW5kQml0ICsgNyA+Pj4gMywgYiA9IHRoaXMuX2dldEJ5dGVzKGVuZCAtIHN0YXJ0LCBzdGFydCwgITApLCB3aWRlVmFsdWUgPSAwO1xuICAgICAgICAgICAgKHRoaXMuX2JpdE9mZnNldCA9IDcgJiBlbmRCaXQpICYmICh0aGlzLl9iaXRPZmZzZXQgLT0gOCk7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gYi5sZW5ndGg7IGxlbmd0aCA+IGk7IGkrKykgd2lkZVZhbHVlID0gd2lkZVZhbHVlIDw8IDggfCBiW2ldO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzdGFydDogc3RhcnQsXG4gICAgICAgICAgICAgICAgYnl0ZXM6IGIsXG4gICAgICAgICAgICAgICAgd2lkZVZhbHVlOiB3aWRlVmFsdWVcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICAgIGdldFNpZ25lZDogZnVuY3Rpb24oYml0TGVuZ3RoLCBieXRlT2Zmc2V0KSB7XG4gICAgICAgICAgICB2YXIgc2hpZnQgPSAzMiAtIGJpdExlbmd0aDtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFVuc2lnbmVkKGJpdExlbmd0aCwgYnl0ZU9mZnNldCkgPDwgc2hpZnQgPj4gc2hpZnQ7XG4gICAgICAgIH0sXG4gICAgICAgIGdldFVuc2lnbmVkOiBmdW5jdGlvbihiaXRMZW5ndGgsIGJ5dGVPZmZzZXQpIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHRoaXMuX2dldEJpdFJhbmdlRGF0YShiaXRMZW5ndGgsIGJ5dGVPZmZzZXQpLndpZGVWYWx1ZSA+Pj4gLXRoaXMuX2JpdE9mZnNldDtcbiAgICAgICAgICAgIHJldHVybiAzMiA+IGJpdExlbmd0aCA/IHZhbHVlICYgfigtMSA8PCBiaXRMZW5ndGgpIDogdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIF9zZXRCaW5hcnlGbG9hdDogZnVuY3Rpb24oYnl0ZU9mZnNldCwgdmFsdWUsIG1hbnRTaXplLCBleHBTaXplLCBsaXR0bGVFbmRpYW4pIHtcbiAgICAgICAgICAgIHZhciBleHBvbmVudCwgbWFudGlzc2EsIHNpZ25CaXQgPSAwID4gdmFsdWUgPyAxIDogMCwgZU1heCA9IH4oLTEgPDwgZXhwU2l6ZSAtIDEpLCBlTWluID0gMSAtIGVNYXg7XG4gICAgICAgICAgICAwID4gdmFsdWUgJiYgKHZhbHVlID0gLXZhbHVlKSwgMCA9PT0gdmFsdWUgPyAoZXhwb25lbnQgPSAwLCBtYW50aXNzYSA9IDApIDogaXNOYU4odmFsdWUpID8gKGV4cG9uZW50ID0gMiAqIGVNYXggKyAxLCBcbiAgICAgICAgICAgIG1hbnRpc3NhID0gMSkgOiAxLzAgPT09IHZhbHVlID8gKGV4cG9uZW50ID0gMiAqIGVNYXggKyAxLCBtYW50aXNzYSA9IDApIDogKGV4cG9uZW50ID0gTWF0aC5mbG9vcihNYXRoLmxvZyh2YWx1ZSkgLyBNYXRoLkxOMiksIFxuICAgICAgICAgICAgZXhwb25lbnQgPj0gZU1pbiAmJiBlTWF4ID49IGV4cG9uZW50ID8gKG1hbnRpc3NhID0gTWF0aC5mbG9vcigodmFsdWUgKiBwb3cyKC1leHBvbmVudCkgLSAxKSAqIHBvdzIobWFudFNpemUpKSwgXG4gICAgICAgICAgICBleHBvbmVudCArPSBlTWF4KSA6IChtYW50aXNzYSA9IE1hdGguZmxvb3IodmFsdWUgLyBwb3cyKGVNaW4gLSBtYW50U2l6ZSkpLCBleHBvbmVudCA9IDApKTtcbiAgICAgICAgICAgIGZvciAodmFyIGIgPSBbXTsgbWFudFNpemUgPj0gODsgKSBiLnB1c2gobWFudGlzc2EgJSAyNTYpLCBtYW50aXNzYSA9IE1hdGguZmxvb3IobWFudGlzc2EgLyAyNTYpLCBcbiAgICAgICAgICAgIG1hbnRTaXplIC09IDg7XG4gICAgICAgICAgICBmb3IgKGV4cG9uZW50ID0gZXhwb25lbnQgPDwgbWFudFNpemUgfCBtYW50aXNzYSwgZXhwU2l6ZSArPSBtYW50U2l6ZTsgZXhwU2l6ZSA+PSA4OyApIGIucHVzaCgyNTUgJiBleHBvbmVudCksIFxuICAgICAgICAgICAgZXhwb25lbnQgPj4+PSA4LCBleHBTaXplIC09IDg7XG4gICAgICAgICAgICBiLnB1c2goc2lnbkJpdCA8PCBleHBTaXplIHwgZXhwb25lbnQpLCB0aGlzLl9zZXRCeXRlcyhieXRlT2Zmc2V0LCBiLCBsaXR0bGVFbmRpYW4pO1xuICAgICAgICB9LFxuICAgICAgICBfc2V0RmxvYXQzMjogZnVuY3Rpb24oYnl0ZU9mZnNldCwgdmFsdWUsIGxpdHRsZUVuZGlhbikge1xuICAgICAgICAgICAgdGhpcy5fc2V0QmluYXJ5RmxvYXQoYnl0ZU9mZnNldCwgdmFsdWUsIDIzLCA4LCBsaXR0bGVFbmRpYW4pO1xuICAgICAgICB9LFxuICAgICAgICBfc2V0RmxvYXQ2NDogZnVuY3Rpb24oYnl0ZU9mZnNldCwgdmFsdWUsIGxpdHRsZUVuZGlhbikge1xuICAgICAgICAgICAgdGhpcy5fc2V0QmluYXJ5RmxvYXQoYnl0ZU9mZnNldCwgdmFsdWUsIDUyLCAxMSwgbGl0dGxlRW5kaWFuKTtcbiAgICAgICAgfSxcbiAgICAgICAgX3NldDY0OiBmdW5jdGlvbihUeXBlLCBieXRlT2Zmc2V0LCB2YWx1ZSwgbGl0dGxlRW5kaWFuKSB7XG4gICAgICAgICAgICBcIm9iamVjdFwiICE9IHR5cGVvZiB2YWx1ZSAmJiAodmFsdWUgPSBUeXBlLmZyb21OdW1iZXIodmFsdWUpKSwgbGl0dGxlRW5kaWFuID0gZGVmaW5lZChsaXR0bGVFbmRpYW4sIHRoaXMuX2xpdHRsZUVuZGlhbiksIFxuICAgICAgICAgICAgYnl0ZU9mZnNldCA9IGRlZmluZWQoYnl0ZU9mZnNldCwgdGhpcy5fb2Zmc2V0KTtcbiAgICAgICAgICAgIHZhciBwYXJ0cyA9IGxpdHRsZUVuZGlhbiA/IHtcbiAgICAgICAgICAgICAgICBsbzogMCxcbiAgICAgICAgICAgICAgICBoaTogNFxuICAgICAgICAgICAgfSA6IHtcbiAgICAgICAgICAgICAgICBsbzogNCxcbiAgICAgICAgICAgICAgICBoaTogMFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGZvciAodmFyIHBhcnROYW1lIGluIHBhcnRzKSB0aGlzLnNldFVpbnQzMihieXRlT2Zmc2V0ICsgcGFydHNbcGFydE5hbWVdLCB2YWx1ZVtwYXJ0TmFtZV0sIGxpdHRsZUVuZGlhbik7XG4gICAgICAgICAgICB0aGlzLl9vZmZzZXQgPSBieXRlT2Zmc2V0ICsgODtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0SW50NjQ6IGZ1bmN0aW9uKGJ5dGVPZmZzZXQsIHZhbHVlLCBsaXR0bGVFbmRpYW4pIHtcbiAgICAgICAgICAgIHRoaXMuX3NldDY0KEludDY0LCBieXRlT2Zmc2V0LCB2YWx1ZSwgbGl0dGxlRW5kaWFuKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0VWludDY0OiBmdW5jdGlvbihieXRlT2Zmc2V0LCB2YWx1ZSwgbGl0dGxlRW5kaWFuKSB7XG4gICAgICAgICAgICB0aGlzLl9zZXQ2NChVaW50NjQsIGJ5dGVPZmZzZXQsIHZhbHVlLCBsaXR0bGVFbmRpYW4pO1xuICAgICAgICB9LFxuICAgICAgICBfc2V0VWludDMyOiBmdW5jdGlvbihieXRlT2Zmc2V0LCB2YWx1ZSwgbGl0dGxlRW5kaWFuKSB7XG4gICAgICAgICAgICB0aGlzLl9zZXRCeXRlcyhieXRlT2Zmc2V0LCBbIDI1NSAmIHZhbHVlLCB2YWx1ZSA+Pj4gOCAmIDI1NSwgdmFsdWUgPj4+IDE2ICYgMjU1LCB2YWx1ZSA+Pj4gMjQgXSwgbGl0dGxlRW5kaWFuKTtcbiAgICAgICAgfSxcbiAgICAgICAgX3NldFVpbnQxNjogZnVuY3Rpb24oYnl0ZU9mZnNldCwgdmFsdWUsIGxpdHRsZUVuZGlhbikge1xuICAgICAgICAgICAgdGhpcy5fc2V0Qnl0ZXMoYnl0ZU9mZnNldCwgWyAyNTUgJiB2YWx1ZSwgdmFsdWUgPj4+IDggJiAyNTUgXSwgbGl0dGxlRW5kaWFuKTtcbiAgICAgICAgfSxcbiAgICAgICAgX3NldFVpbnQ4OiBmdW5jdGlvbihieXRlT2Zmc2V0LCB2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fc2V0Qnl0ZXMoYnl0ZU9mZnNldCwgWyAyNTUgJiB2YWx1ZSBdKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0VW5zaWduZWQ6IGZ1bmN0aW9uKGJ5dGVPZmZzZXQsIHZhbHVlLCBiaXRMZW5ndGgpIHtcbiAgICAgICAgICAgIHZhciBkYXRhID0gdGhpcy5fZ2V0Qml0UmFuZ2VEYXRhKGJpdExlbmd0aCwgYnl0ZU9mZnNldCksIHdpZGVWYWx1ZSA9IGRhdGEud2lkZVZhbHVlLCBiID0gZGF0YS5ieXRlcztcbiAgICAgICAgICAgIHdpZGVWYWx1ZSAmPSB+KH4oLTEgPDwgYml0TGVuZ3RoKSA8PCAtdGhpcy5fYml0T2Zmc2V0KSwgd2lkZVZhbHVlIHw9ICgzMiA+IGJpdExlbmd0aCA/IHZhbHVlICYgfigtMSA8PCBiaXRMZW5ndGgpIDogdmFsdWUpIDw8IC10aGlzLl9iaXRPZmZzZXQ7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gYi5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgYltpXSA9IDI1NSAmIHdpZGVWYWx1ZSwgd2lkZVZhbHVlID4+Pj0gODtcbiAgICAgICAgICAgIHRoaXMuX3NldEJ5dGVzKGRhdGEuc3RhcnQsIGIsICEwKTtcbiAgICAgICAgfVxuICAgIH0sIG5vZGVOYW1pbmcgPSB7XG4gICAgICAgIEludDg6IFwiSW50OFwiLFxuICAgICAgICBJbnQxNjogXCJJbnQxNlwiLFxuICAgICAgICBJbnQzMjogXCJJbnQzMlwiLFxuICAgICAgICBVaW50ODogXCJVSW50OFwiLFxuICAgICAgICBVaW50MTY6IFwiVUludDE2XCIsXG4gICAgICAgIFVpbnQzMjogXCJVSW50MzJcIixcbiAgICAgICAgRmxvYXQzMjogXCJGbG9hdFwiLFxuICAgICAgICBGbG9hdDY0OiBcIkRvdWJsZVwiXG4gICAgfTtcbiAgICBwcm90by5fbm9kZUJ1ZmZlckFjdGlvbiA9IGZ1bmN0aW9uKHR5cGUsIGlzUmVhZEFjdGlvbiwgYnl0ZU9mZnNldCwgbGl0dGxlRW5kaWFuLCB2YWx1ZSkge1xuICAgICAgICB0aGlzLl9vZmZzZXQgPSBieXRlT2Zmc2V0ICsgZGF0YVR5cGVzW3R5cGVdO1xuICAgICAgICB2YXIgbm9kZU5hbWUgPSBub2RlTmFtaW5nW3R5cGVdICsgKFwiSW50OFwiID09PSB0eXBlIHx8IFwiVWludDhcIiA9PT0gdHlwZSA/IFwiXCIgOiBsaXR0bGVFbmRpYW4gPyBcIkxFXCIgOiBcIkJFXCIpO1xuICAgICAgICByZXR1cm4gYnl0ZU9mZnNldCArPSB0aGlzLmJ5dGVPZmZzZXQsIGlzUmVhZEFjdGlvbiA/IHRoaXMuYnVmZmVyW1wicmVhZFwiICsgbm9kZU5hbWVdKGJ5dGVPZmZzZXQpIDogdGhpcy5idWZmZXJbXCJ3cml0ZVwiICsgbm9kZU5hbWVdKHZhbHVlLCBieXRlT2Zmc2V0KTtcbiAgICB9O1xuICAgIGZvciAodmFyIHR5cGUgaW4gZGF0YVR5cGVzKSAhZnVuY3Rpb24odHlwZSkge1xuICAgICAgICBwcm90b1tcImdldFwiICsgdHlwZV0gPSBmdW5jdGlvbihieXRlT2Zmc2V0LCBsaXR0bGVFbmRpYW4pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hY3Rpb24odHlwZSwgITAsIGJ5dGVPZmZzZXQsIGxpdHRsZUVuZGlhbik7XG4gICAgICAgIH0sIHByb3RvW1wic2V0XCIgKyB0eXBlXSA9IGZ1bmN0aW9uKGJ5dGVPZmZzZXQsIHZhbHVlLCBsaXR0bGVFbmRpYW4pIHtcbiAgICAgICAgICAgIHRoaXMuX2FjdGlvbih0eXBlLCAhMSwgYnl0ZU9mZnNldCwgbGl0dGxlRW5kaWFuLCB2YWx1ZSk7XG4gICAgICAgIH07XG4gICAgfSh0eXBlKTtcbiAgICBwcm90by5fc2V0SW50MzIgPSBwcm90by5fc2V0VWludDMyLCBwcm90by5fc2V0SW50MTYgPSBwcm90by5fc2V0VWludDE2LCBwcm90by5fc2V0SW50OCA9IHByb3RvLl9zZXRVaW50OCwgXG4gICAgcHJvdG8uc2V0U2lnbmVkID0gcHJvdG8uc2V0VW5zaWduZWQ7XG4gICAgZm9yICh2YXIgbWV0aG9kIGluIHByb3RvKSBcInNldFwiID09PSBtZXRob2Quc2xpY2UoMCwgMykgJiYgIWZ1bmN0aW9uKHR5cGUpIHtcbiAgICAgICAgcHJvdG9bXCJ3cml0ZVwiICsgdHlwZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZS51bnNoaWZ0LmNhbGwoYXJndW1lbnRzLCB2b2lkIDApLCB0aGlzW1wic2V0XCIgKyB0eXBlXS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9O1xuICAgIH0obWV0aG9kLnNsaWNlKDMpKTtcbiAgICByZXR1cm4gakRhdGFWaWV3O1xufSk7IiwiKGZ1bmN0aW9uIChyb290LCBmYWN0b3J5KSB7XG4gICAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgICAgICAvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXG4gICAgICAgIGRlZmluZShbXSwgZmFjdG9yeSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgLy8gTm9kZS4gRG9lcyBub3Qgd29yayB3aXRoIHN0cmljdCBDb21tb25KUywgYnV0XG4gICAgICAgIC8vIG9ubHkgQ29tbW9uSlMtbGlrZSBlbnZpcm9ubWVudHMgdGhhdCBzdXBwb3J0IG1vZHVsZS5leHBvcnRzLFxuICAgICAgICAvLyBsaWtlIE5vZGUuXG4gICAgICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEJyb3dzZXIgZ2xvYmFscyAocm9vdCBpcyB3aW5kb3cpXG4gICAgICAgIHJvb3QuQURUUyA9IGZhY3RvcnkoKTtcbiAgICB9XG59KHRoaXMsIGZ1bmN0aW9uICgpIHtcblx0J3VzZSBzdHJpY3QnO1xuXG5cdHJldHVybiB7XG5cdFx0QURUU1BhY2tldDoge1xuXHRcdFx0X3N0YXJ0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLmJpbmFyeS50ZWxsKCkgfSxcblx0XHRcdF9zeW5jV29yZDogWydjb25zdCcsIDEyLCAweGZmZiwgdHJ1ZV0sXG5cdFx0XHR2ZXJzaW9uOiBbJ2VudW0nLCAxLCBbJ21wZWctNCcsICdtcGVnLTInXV0sXG5cdFx0XHRsYXllcjogWydjb25zdCcsIDIsIDBdLFxuXHRcdFx0aXNQcm90ZWN0aW9uQWJzZW50OiAxLFxuXHRcdFx0cHJvZmlsZU1pbnVzT25lOiAyLCAvLyBodHRwOi8vd2lraS5tdWx0aW1lZGlhLmN4L2luZGV4LnBocD90aXRsZT1NUEVHLTRfQXVkaW8jQXVkaW9fT2JqZWN0X1R5cGVzIG1pbnVzIG9uZVxuXHRcdFx0c2FtcGxpbmdGcmVxOiBbJ2VudW0nLCA0LCBbOTYwMDAsIDg4MjAwLCA2NDAwMCwgNDgwMDAsIDQ0MTAwLCAzMjAwMCwgMjQwMDAsIDIyMDUwLCAxNjAwMCwgMTIwMDAsIDExMDI1LCA4MDAwLCA3MzUwXV0sIC8vIGh0dHA6Ly93aWtpLm11bHRpbWVkaWEuY3gvaW5kZXgucGhwP3RpdGxlPU1QRUctNF9BdWRpbyNTYW1wbGluZ19GcmVxdWVuY2llc1xuXHRcdFx0X3ByaXZhdGVTdHJlYW06IDEsXG5cdFx0XHRjaGFubmVsQ29uZmlnOiAzLCAvLyBodHRwOi8vd2lraS5tdWx0aW1lZGlhLmN4L2luZGV4LnBocD90aXRsZT1NUEVHLTRfQXVkaW8jQ2hhbm5lbF9Db25maWd1cmF0aW9uc1xuXHRcdFx0X3Jlc2VydmVkOiA0LCAvLyBvcmlnaW5hbGl0eSwgaG9tZSwgY29weXJpZ2h0ZWQsIGNvcHlyaWdodCBzdGFydCBiaXRzXG5cdFx0XHRmcmFtZUxlbmd0aDogMTMsXG5cdFx0XHRidWZmZXJGdWxsbmVzczogMTEsXG5cdFx0XHRhYWNGcmFtZXNDb3VudE1pbnVzT25lOiAyLFxuXHRcdFx0ZGF0YTogWydibG9iJywgZnVuY3Rpb24gKGNvbnRleHQpIHsgcmV0dXJuIGNvbnRleHQuZnJhbWVMZW5ndGggLSAodGhpcy5iaW5hcnkudGVsbCgpIC0gY29udGV4dC5fc3RhcnQpIH1dXG5cdFx0fVxuXHR9O1xufSkpOyIsIihmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSkge1xuICAgIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICAgICAgLy8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLlxuICAgICAgICBkZWZpbmUoWydqYmluYXJ5J10sIGZhY3RvcnkpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIC8vIE5vZGUuIERvZXMgbm90IHdvcmsgd2l0aCBzdHJpY3QgQ29tbW9uSlMsIGJ1dFxuICAgICAgICAvLyBvbmx5IENvbW1vbkpTLWxpa2UgZW52aXJvbm1lbnRzIHRoYXQgc3VwcG9ydCBtb2R1bGUuZXhwb3J0cyxcbiAgICAgICAgLy8gbGlrZSBOb2RlLlxuICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZSgnamJpbmFyeScpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBCcm93c2VyIGdsb2JhbHMgKHJvb3QgaXMgd2luZG93KVxuICAgICAgICByb290LkgyNjQgPSBmYWN0b3J5KHJvb3QuakJpbmFyeSk7XG4gICAgfVxufSh0aGlzLCBmdW5jdGlvbiAoakJpbmFyeSkge1xuXHQndXNlIHN0cmljdCc7XG5cblx0cmV0dXJuIHtcblx0XHRFeHBHb2xvbWI6IGpCaW5hcnkuVHlwZSh7XG5cdFx0XHRwYXJhbXM6IFsnaXNTaWduZWQnXSxcblx0XHRcdHJlYWQ6IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0dmFyIGNvdW50ID0gMDtcblx0XHRcdFx0d2hpbGUgKCF0aGlzLmJpbmFyeS5yZWFkKDEpKSBjb3VudCsrO1xuXHRcdFx0XHR2YXIgdmFsdWUgPSAoMSA8PCBjb3VudCkgfCB0aGlzLmJpbmFyeS5yZWFkKGNvdW50KTtcblx0XHRcdFx0cmV0dXJuIHRoaXMuaXNTaWduZWQgPyAodmFsdWUgJiAxID8gLSh2YWx1ZSA+PiAxKSA6IHZhbHVlID4+IDEpIDogdmFsdWUgLSAxO1xuXHRcdFx0fSxcblx0XHRcdHdyaXRlOiBmdW5jdGlvbiAodmFsdWUpIHtcblx0XHRcdFx0aWYgKHRoaXMuaXNTaWduZWQpIHtcblx0XHRcdFx0XHR2YWx1ZSA8PD0gMTtcblx0XHRcdFx0XHRpZiAodmFsdWUgPD0gMCkge1xuXHRcdFx0XHRcdFx0dmFsdWUgPSAtdmFsdWUgfCAxO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR2YWx1ZSsrO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHZhciBsZW5ndGggPSB2YWx1ZS50b1N0cmluZygyKS5sZW5ndGg7XG5cdFx0XHRcdHRoaXMuYmluYXJ5LndyaXRlKGxlbmd0aCAtIDEsIDApO1xuXHRcdFx0XHR0aGlzLmJpbmFyeS53cml0ZShsZW5ndGgsIHZhbHVlKTtcblx0XHRcdH1cblx0XHR9KSxcblxuXHRcdE9wdGlvbmFsOiBqQmluYXJ5LlRlbXBsYXRlKHtcblx0XHQgICAgcGFyYW1zOiBbJ2Jhc2VUeXBlJ10sXG5cdFx0XHRyZWFkOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdGlmICh0aGlzLmJpbmFyeS5yZWFkKDEpKSByZXR1cm4gdGhpcy5iYXNlUmVhZCgpO1xuXHRcdFx0fSxcblx0XHRcdHdyaXRlOiBmdW5jdGlvbiAodmFsdWUpIHtcblx0XHRcdFx0dGhpcy5iaW5hcnkud3JpdGUodmFsdWUgIT0gbnVsbCA/IDEgOiAwKTtcblx0XHRcdFx0aWYgKHZhbHVlICE9IG51bGwpIHtcblx0XHRcdFx0XHR0aGlzLmJhc2VXcml0ZSh2YWx1ZSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9KSxcblxuXHRcdFNjYWxpbmdMaXN0OiBqQmluYXJ5LlRlbXBsYXRlKHtcblx0XHRcdHNldFBhcmFtczogZnVuY3Rpb24gKHNpemUpIHtcblx0XHRcdFx0dGhpcy5iYXNlVHlwZSA9IFsnYXJyYXknLCB7IC8qIFRPRE86IGltcGxlbWVudCBzY2FsaW5nIGxpc3QgKi8gfSwgc2l6ZV07XG5cdFx0XHR9XG5cdFx0fSksXG5cblx0XHRTUFM6IFtcblx0XHRcdCdleHRlbmQnLFxuXHRcdFx0e1xuXHRcdFx0XHRwcm9maWxlX2lkYzogJ3VpbnQ4Jyxcblx0XHRcdFx0Y29uc3RyYWludF9zZXRfZmxhZ3M6IFsnYXJyYXknLCAxLCA4XSxcblx0XHRcdFx0bGV2ZWxfaWRjOiAndWludDgnLFxuXHRcdFx0XHRzZXFfcGFyYW1ldGVyX3NldF9pZDogJ0V4cEdvbG9tYidcblx0XHRcdH0sXG5cdFx0XHRbJ2lmJywgZnVuY3Rpb24gKGNvbnRleHQpIHsgcmV0dXJuIFsxMDAsIDExMCwgMTIyLCAyNDQsIDQ0LCA4MywgODYsIDExOF0uaW5kZXhPZihjb250ZXh0LnByb2ZpbGVfaWRjKSA+PSAwIH0sIHtcblx0XHRcdFx0Y2hyb21hX2Zvcm1hdDogWydlbnVtJywgJ0V4cEdvbG9tYicsIFsnTU9OTycsICdZVVY0MjAnLCAnWVVWNDIyJywgJ1lVVjQ0NCddXSxcblx0XHRcdFx0c2VwYXJhdGVfY29sb3JfcGxhbmVfZmxhZzogWydpZicsIGZ1bmN0aW9uIChjb250ZXh0KSB7IHJldHVybiBjb250ZXh0LmNocm9tYV9mb3JtYXQgPT09ICdZVVY0NDQnIH0sIDFdLFxuXHRcdFx0XHRiaXRfZGVwdGhfbHVtYV9taW51czg6ICdFeHBHb2xvbWInLFxuXHRcdFx0XHRiaXRfZGVwdGhfY2hyb21hX21pbnVzODogJ0V4cEdvbG9tYicsXG5cdFx0XHRcdHFwcHJpbWVfeV96ZXJvX3RyYW5zZm9ybV9ieXBhc3NfZmxhZzogMSxcblx0XHRcdFx0c2NhbGluZ19tYXRyaXg6IFsnT3B0aW9uYWwnLCB7XG5cdFx0XHRcdFx0c2NhbGluZ0xpc3Q0eDQ6IFsnYXJyYXknLCBbJ1NjYWxpbmdMaXN0JywgMTZdLCA2XSxcblx0XHRcdFx0XHRzY2FsaW5nTGlzdDh4ODogWydhcnJheScsIFsnU2NhbGluZ0xpc3QnLCA2NF0sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuYmluYXJ5LmdldENvbnRleHQoMSkuY2hyb21hX2Zvcm1hdCAhPT0gJ1lVVjQ0NCcgPyAyIDogNiB9XVxuXHRcdFx0XHR9XVxuXHRcdFx0fV0sXG5cdFx0XHR7XG5cdFx0XHRcdGxvZzJfbWF4X2ZyYW1lX251bV9taW51czQ6ICdFeHBHb2xvbWInLFxuXHRcdFx0XHRwaWNfb3JkZXJfY250X3R5cGU6ICdFeHBHb2xvbWInLFxuXHRcdFx0XHRwaWNfb3JkZXI6IFsnaWZfbm90JywgJ3BpY19vcmRlcl9jbnRfdHlwZScsIHtsb2cyX21heF9waWNfb3JkZXJfY250X2xzYl9taW51czQ6ICdFeHBHb2xvbWInfSwgW1xuXHRcdFx0XHRcdCdpZicsXG5cdFx0XHRcdFx0ZnVuY3Rpb24gKGNvbnRleHQpIHsgcmV0dXJuIGNvbnRleHQucGljX29yZGVyX2NudF90eXBlID09PSAxIH0sXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0ZGVsdGFfcGljX29yZGVyX2Fsd2F5c196ZXJvX2ZsYWc6IDEsXG5cdFx0XHRcdFx0XHRvZmZzZXRfZm9yX25vbl9yZWZfcGljOiBbJ0V4cEdvbG9tYicsIHRydWVdLFxuXHRcdFx0XHRcdFx0b2Zmc2V0X2Zvcl90b3BfdG9fYm90dG9tX2ZpZWxkOiBbJ0V4cEdvbG9tYicsIHRydWVdLFxuXHRcdFx0XHRcdFx0X251bV9yZWZfZnJhbWVzX2luX3BpY19vcmRlcl9jbnRfY3ljbGU6IGpCaW5hcnkuVGVtcGxhdGUoe1xuXHRcdFx0XHRcdFx0XHRiYXNlVHlwZTogJ0V4cEdvbG9tYicsXG5cdFx0XHRcdFx0XHRcdHdyaXRlOiBmdW5jdGlvbiAodmFsdWUsIGNvbnRleHQpIHsgdGhpcy5iYXNlV3JpdGUoY29udGV4dC5vZmZzZXRfZm9yX3JlZl9mcmFtZS5sZW5ndGgpIH1cblx0XHRcdFx0XHRcdH0pLFxuXHRcdFx0XHRcdFx0b2Zmc2V0X2Zvcl9yZWZfZnJhbWU6IFsnYXJyYXknLCBbJ0V4cEdvbG9tYicsIHRydWVdLCBmdW5jdGlvbiAoY29udGV4dCkgeyByZXR1cm4gY29udGV4dC5fbnVtX3JlZl9mcmFtZXNfaW5fcGljX29yZGVyX2NudF9jeWNsZSB9XVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XV0sXG5cdFx0XHRcdG1heF9udW1fcmVmX2ZyYW1lczogJ0V4cEdvbG9tYicsXG5cdFx0XHRcdGdhcHNfaW5fZnJhbWVfbnVtX3ZhbHVlX2FsbG93ZWRfZmxhZzogMSxcblx0XHRcdFx0cGljX3dpZHRoX2luX21ic19taW51c18xOiAnRXhwR29sb21iJyxcblx0XHRcdFx0cGljX2hlaWdodF9pbl9tYXBfdW5pdHNfbWludXNfMTogJ0V4cEdvbG9tYicsXG5cdFx0XHRcdGZyYW1lX21ic19vbmx5X2ZsYWc6IDEsXG5cdFx0XHRcdG1iX2FkYXB0aXZlX2ZyYW1lX2ZpZWxkX2ZsYWc6IFsnaWZfbm90JywgJ2ZyYW1lX21ic19vbmx5X2ZsYWcnLCAxXSxcblx0XHRcdFx0ZGlyZWN0Xzh4OF9pbmZlcmVuY2VfZmxhZzogMSxcblx0XHRcdFx0ZnJhbWVfY3JvcHBpbmc6IFsnT3B0aW9uYWwnLCB7XG5cdFx0XHRcdFx0bGVmdDogJ0V4cEdvbG9tYicsXG5cdFx0XHRcdFx0cmlnaHQ6ICdFeHBHb2xvbWInLFxuXHRcdFx0XHRcdHRvcDogJ0V4cEdvbG9tYicsXG5cdFx0XHRcdFx0Ym90dG9tOiAnRXhwR29sb21iJ1xuXHRcdFx0XHR9XVxuXHRcdFx0XHQvLyBUT0RPOiBhZGQgVlVJIHBhcmFtZXRlcnNcblx0XHRcdH1cblx0XHRdLFxuXG5cdFx0TkFMVW5pdDogakJpbmFyeS5UeXBlKHtcblx0XHRcdHJlYWQ6IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0dmFyIHN5bmMgPSB0aGlzLmJpbmFyeS5yZWFkKFsnYmxvYicsIDNdKTsgLy8gWzAsIDAsIDFdIG9yIFswLCAwLCAwLCAxXVxuXHRcdFx0XHRpZiAoc3luY1syXSA9PT0gMCkgdGhpcy5iaW5hcnkuc2tpcCgxKTtcblx0XHRcdFx0dmFyIGVuZCA9IHRoaXMuYmluYXJ5LnZpZXcuYnl0ZUxlbmd0aCwgcG9zID0gdGhpcy5iaW5hcnkudGVsbCgpO1xuXHRcdFx0XHR2YXIgYnl0ZXMgPSB0aGlzLmJpbmFyeS5za2lwKDAsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMudmlldy5nZXRCeXRlcygpIH0pO1xuXHRcdFx0XHRmb3IgKHZhciBpID0gMSwgbGVuZ3RoID0gYnl0ZXMubGVuZ3RoIC0gMzsgaSA8IGxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdFx0aWYgKGJ5dGVzW2ldID09PSAwICYmIGJ5dGVzW2kgKyAxXSA9PT0gMCAmJiAoYnl0ZXNbaSArIDJdID09PSAxIHx8IChieXRlc1tpICsgMl0gPT09IDAgJiYgYnl0ZXNbaSArIDNdID09PSAxKSkpIHtcblx0XHRcdFx0XHRcdGVuZCA9IHBvcyArIGk7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0dmFyIGRhdGEgPSB0aGlzLmJpbmFyeS5yZWFkKFsnYmxvYicsIGVuZCAtIHBvc10pO1xuXHRcdFx0XHQvLyBUT0RPOiBpZGVhbGx5IHRoZXJlIHNob3VsZCBiZSBBbm5leC5CIGNvbnZlcnNpb24gZnJvbSBbMCwgMCwgMywgWD0wLi4zXSB0byBbMCwgMCwgWF1cblx0XHRcdFx0cmV0dXJuIGRhdGE7XG5cdFx0XHR9XG5cdFx0fSlcblx0fTtcbn0pKTsiLCIoZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpIHtcbiAgICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgICAgIC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS5cbiAgICAgICAgZGVmaW5lKFsnamRhdGF2aWV3JywgJ2piaW5hcnknLCAnLi9tcDQnLCAnLi9oMjY0JywgJy4vcGVzJywgJy4vYWR0cyddLCBmYWN0b3J5KTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jykge1xuICAgICAgICAvLyBOb2RlLiBEb2VzIG5vdCB3b3JrIHdpdGggc3RyaWN0IENvbW1vbkpTLCBidXRcbiAgICAgICAgLy8gb25seSBDb21tb25KUy1saWtlIGVudmlyb25tZW50cyB0aGF0IHN1cHBvcnQgbW9kdWxlLmV4cG9ydHMsXG4gICAgICAgIC8vIGxpa2UgTm9kZS5cbiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoJ2pkYXRhdmlldycpLCByZXF1aXJlKCdqYmluYXJ5JyksIHJlcXVpcmUoJy4vbXA0JyksIHJlcXVpcmUoJy4vaDI2NCcpLCByZXF1aXJlKCcuL3BlcycpLCByZXF1aXJlKCcuL2FkdHMnKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQnJvd3NlciBnbG9iYWxzIChyb290IGlzIHdpbmRvdylcbiAgICAgICAgcm9vdC5tcGVndHNfdG9fbXA0ID0gZmFjdG9yeShyb290LmpEYXRhVmlldywgcm9vdC5qQmluYXJ5LCByb290Lk1QNCwgcm9vdC5IMjY0LCByb290LlBFUywgcm9vdC5BRFRTKTtcbiAgICB9XG59KHRoaXMsIGZ1bmN0aW9uIChqRGF0YVZpZXcsIGpCaW5hcnksIE1QNCwgSDI2NCwgUEVTLCBBRFRTKSB7XG5cdCd1c2Ugc3RyaWN0JztcblxuXG5cdC8qKlxuXHQgKiBDb3BpZWQgZnJvbSBtdXguanMgPT4gaHR0cHM6Ly9naXRodWIuY29tL3ZpZGVvanMvbXV4LmpzL2Jsb2IvOTU3NDQxZDQ0MzA3YTQ3ZDgwMWFmM2RiNWM1MTA3MmVkMjQxZjhjMi9saWIvY29kZWNzL2gyNjQuanMjTDI2NlxuXHQgKiBFeHB1bmdlIGFueSBcIkVtdWxhdGlvbiBQcmV2ZW50aW9uXCIgYnl0ZXMgZnJvbSBhIFwiUmF3IEJ5dGVcblx0ICogU2VxdWVuY2UgUGF5bG9hZFwiXG5cdCAqIEBwYXJhbSBkYXRhIHtVaW50OEFycmF5fSB0aGUgYnl0ZXMgb2YgYSBSQlNQIGZyb20gYSBOQUxcblx0ICogdW5pdFxuXHQgKiBAcmV0dXJuIHtVaW50OEFycmF5fSB0aGUgUkJTUCB3aXRob3V0IGFueSBFbXVsYXRpb25cblx0ICogUHJldmVudGlvbiBCeXRlc1xuXHQgKi9cblx0dmFyIGRpc2NhcmRFbXVsYXRpb25QcmV2ZW50aW9uQnl0ZXMgPSBmdW5jdGlvbihkYXRhKSB7XG5cdFx0dmFyXG5cdFx0bGVuZ3RoID0gZGF0YS5ieXRlTGVuZ3RoLFxuXHRcdGVtdWxhdGlvblByZXZlbnRpb25CeXRlc1Bvc2l0aW9ucyA9IFtdLFxuXHRcdGkgPSAwLFxuXHRcdG5ld0xlbmd0aCwgbmV3RGF0YTtcblxuXHRcdC8vIEZpbmQgYWxsIGBFbXVsYXRpb24gUHJldmVudGlvbiBCeXRlc2Bcblx0XHR3aGlsZSAoaSA8IGxlbmd0aCAtIDIpIHtcblx0XHRpZiAoZGF0YVtpXSA9PT0gMCAmJiBkYXRhW2kgKyAxXSA9PT0gMCAmJiBkYXRhW2kgKyAyXSA9PT0gMHgwMykge1xuXHRcdFx0ZW11bGF0aW9uUHJldmVudGlvbkJ5dGVzUG9zaXRpb25zLnB1c2goaSArIDIpO1xuXHRcdFx0aSArPSAyO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRpKys7XG5cdFx0fVxuXHRcdH1cblxuXHRcdC8vIElmIG5vIEVtdWxhdGlvbiBQcmV2ZW50aW9uIEJ5dGVzIHdlcmUgZm91bmQganVzdCByZXR1cm4gdGhlIG9yaWdpbmFsXG5cdFx0Ly8gYXJyYXlcblx0XHRpZiAoZW11bGF0aW9uUHJldmVudGlvbkJ5dGVzUG9zaXRpb25zLmxlbmd0aCA9PT0gMCkge1xuXHRcdHJldHVybiBkYXRhO1xuXHRcdH1cblxuXHRcdC8vIENyZWF0ZSBhIG5ldyBhcnJheSB0byBob2xkIHRoZSBOQUwgdW5pdCBkYXRhXG5cdFx0bmV3TGVuZ3RoID0gbGVuZ3RoIC0gZW11bGF0aW9uUHJldmVudGlvbkJ5dGVzUG9zaXRpb25zLmxlbmd0aDtcblx0XHRuZXdEYXRhID0gbmV3IFVpbnQ4QXJyYXkobmV3TGVuZ3RoKTtcblx0XHR2YXIgc291cmNlSW5kZXggPSAwO1xuXG5cdFx0Zm9yIChpID0gMDsgaSA8IG5ld0xlbmd0aDsgc291cmNlSW5kZXgrKywgaSsrKSB7XG5cdFx0aWYgKHNvdXJjZUluZGV4ID09PSBlbXVsYXRpb25QcmV2ZW50aW9uQnl0ZXNQb3NpdGlvbnNbMF0pIHtcblx0XHRcdC8vIFNraXAgdGhpcyBieXRlXG5cdFx0XHRzb3VyY2VJbmRleCsrO1xuXHRcdFx0Ly8gUmVtb3ZlIHRoaXMgcG9zaXRpb24gaW5kZXhcblx0XHRcdGVtdWxhdGlvblByZXZlbnRpb25CeXRlc1Bvc2l0aW9ucy5zaGlmdCgpO1xuXHRcdH1cblx0XHRuZXdEYXRhW2ldID0gZGF0YVtzb3VyY2VJbmRleF07XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG5ld0RhdGE7XG5cdH07XG5cblxuXHRyZXR1cm4gZnVuY3Rpb24gKG1wZWd0cykge1xuXHRcdHZhciBwYWNrZXRzID0gbXBlZ3RzLnJlYWQoJ0ZpbGUnKTtcblx0XHRcblx0XHQvLyBleHRyYWN0aW5nIGFuZCBjb25jYXRlbmF0aW5nIHJhdyBzdHJlYW0gcGFydHNcblx0XHR2YXIgc3RyZWFtID0gbmV3IGpEYXRhVmlldyhtcGVndHMudmlldy5ieXRlTGVuZ3RoKTtcblx0XHRmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gcGFja2V0cy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIHBhY2tldCA9IHBhY2tldHNbaV0sIGFkYXB0YXRpb24gPSBwYWNrZXQuYWRhcHRhdGlvbkZpZWxkLCBwYXlsb2FkID0gcGFja2V0LnBheWxvYWQ7XG5cdFx0XHRpZiAocGF5bG9hZCAmJiBwYXlsb2FkLl9yYXdTdHJlYW0pIHtcblx0XHRcdFx0c3RyZWFtLndyaXRlQnl0ZXMocGF5bG9hZC5fcmF3U3RyZWFtKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0XG5cdFx0dmFyIHBlc1N0cmVhbSA9IG5ldyBqQmluYXJ5KHN0cmVhbS5zbGljZSgwLCBzdHJlYW0udGVsbCgpKSwgUEVTKSxcblx0XHRcdGF1ZGlvU3RyZWFtID0gbmV3IGpCaW5hcnkoc3RyZWFtLmJ5dGVMZW5ndGgsIEFEVFMpLFxuXHRcdFx0c2FtcGxlcyA9IFtdLFxuXHRcdFx0YXVkaW9TYW1wbGVzID0gW107XG5cblx0XHRzdHJlYW0gPSBuZXcgakRhdGFWaWV3KHN0cmVhbS5ieXRlTGVuZ3RoKTtcblx0XHRcblx0XHR3aGlsZSAocGVzU3RyZWFtLnRlbGwoKSA8IHBlc1N0cmVhbS52aWV3LmJ5dGVMZW5ndGgpIHtcblx0XHRcdHZhciBwYWNrZXQgPSBwZXNTdHJlYW0ucmVhZCgnUEVTUGFja2V0Jyk7XG5cblx0XHRcdGlmIChwYWNrZXQuc3RyZWFtSWQgPT09IDB4QzApIHtcblx0XHRcdFx0Ly8gMHhDMCBtZWFucyB3ZSBoYXZlIGdvdCBmaXJzdCBhdWRpbyBzdHJlYW1cblx0XHRcdFx0YXVkaW9TdHJlYW0ud3JpdGUoJ2Jsb2InLCBwYWNrZXQuZGF0YSk7XG5cdFx0XHR9IGVsc2Vcblx0XHRcdGlmIChwYWNrZXQuc3RyZWFtSWQgPT09IDB4RTApIHtcblx0XHRcdFx0dmFyIG5hbFN0cmVhbSA9IG5ldyBqQmluYXJ5KHBhY2tldC5kYXRhLCBIMjY0KSxcblx0XHRcdFx0XHRwdHMgPSBwYWNrZXQucHRzLFxuXHRcdFx0XHRcdGR0cyA9IHBhY2tldC5kdHMsXG5cdFx0XHRcdFx0Y3VyU2FtcGxlID0ge29mZnNldDogc3RyZWFtLnRlbGwoKSwgcHRzOiBwdHMsIGR0czogZHRzICE9PSB1bmRlZmluZWQgPyBkdHMgOiBwdHN9O1xuXHRcdFx0XHRcblx0XHRcdFx0c2FtcGxlcy5wdXNoKGN1clNhbXBsZSk7XG5cdFx0XHRcdFxuXHRcdFx0XHQvLyBjb2xsZWN0aW5nIGluZm8gZnJvbSBILjI2NCBOQUwgdW5pdHNcblx0XHRcdFx0d2hpbGUgKG5hbFN0cmVhbS50ZWxsKCkgPCBuYWxTdHJlYW0udmlldy5ieXRlTGVuZ3RoKSB7XG5cdFx0XHRcdFx0dmFyIG5hbFVuaXQgPSBuYWxTdHJlYW0ucmVhZCgnTkFMVW5pdCcpO1xuXHRcdFx0XHRcdHN3aXRjaCAobmFsVW5pdFswXSAmIDB4MUYpIHtcblx0XHRcdFx0XHRcdGNhc2UgNzpcblx0XHRcdFx0XHRcdFx0aWYgKCFzcHMpIHtcblx0XHRcdFx0XHRcdFx0XHR2YXIgc3BzID0gbmFsVW5pdDtcblx0XHRcdFx0XHRcdFx0XHQvLyByZW1vdmUgRW11bGF0aW9uIFByZXZlbnRpb24gQnl0ZXMgdG8gZ2V0IGNvcnJlY3Qgd2lkdGggJiBoZWlnaHRcblx0XHRcdFx0XHRcdFx0XHQvLyBTZWUgaHR0cDovL2Jsb2cuNTFjdG8uY29tL2RhbmllbGxsZi8xNzU4MTE1XG5cdFx0XHRcdFx0XHRcdFx0dmFyIHNwc0luZm8gPSBuZXcgakJpbmFyeShkaXNjYXJkRW11bGF0aW9uUHJldmVudGlvbkJ5dGVzKHNwcy5zdWJhcnJheSgxKSksIEgyNjQpLnJlYWQoJ1NQUycpO1xuXHRcdFx0XHRcdFx0XHRcdHZhciB3aWR0aCA9IChzcHNJbmZvLnBpY193aWR0aF9pbl9tYnNfbWludXNfMSArIDEpICogMTY7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIGhlaWdodCA9ICgyIC0gc3BzSW5mby5mcmFtZV9tYnNfb25seV9mbGFnKSAqIChzcHNJbmZvLnBpY19oZWlnaHRfaW5fbWFwX3VuaXRzX21pbnVzXzEgKyAxKSAqIDE2O1xuXHRcdFx0XHRcdFx0XHRcdHZhciBjcm9wcGluZyA9IHNwc0luZm8uZnJhbWVfY3JvcHBpbmc7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKGNyb3BwaW5nKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHR3aWR0aCAtPSAyICogKGNyb3BwaW5nLmxlZnQgKyBjcm9wcGluZy5yaWdodCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRoZWlnaHQgLT0gMiAqIChjcm9wcGluZy50b3AgKyBjcm9wcGluZy5ib3R0b20pO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRcdFx0Y2FzZSA4OlxuXHRcdFx0XHRcdFx0XHRpZiAoIXBwcykge1xuXHRcdFx0XHRcdFx0XHRcdHZhciBwcHMgPSBuYWxVbml0O1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdFx0XHRjYXNlIDU6XG5cdFx0XHRcdFx0XHRcdGN1clNhbXBsZS5pc0lEUiA9IHRydWU7XG5cdFx0XHRcdFx0XHQvKiBmYWxscyB0aHJvdWdoICovXG5cdFx0XHRcdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRcdFx0XHRzdHJlYW0ud3JpdGVVaW50MzIobmFsVW5pdC5sZW5ndGgpO1xuXHRcdFx0XHRcdFx0XHRzdHJlYW0ud3JpdGVCeXRlcyhuYWxVbml0KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0XG5cdFx0c2FtcGxlcy5wdXNoKHtvZmZzZXQ6IHN0cmVhbS50ZWxsKCl9KTtcblxuXHRcdHZhciBzaXplcyA9IFtdLFxuXHRcdFx0ZHRzRGlmZnMgPSBbXSxcblx0XHRcdGFjY2Vzc0luZGV4ZXMgPSBbXSxcblx0XHRcdHB0c19kdHNfRGlmZnMgPSBbXSxcblx0XHRcdGN1cnJlbnQgPSBzYW1wbGVzWzBdLFxuXHRcdFx0ZnJhbWVSYXRlID0ge3N1bTogMCwgY291bnQ6IDB9LFxuXHRcdFx0ZHVyYXRpb24gPSAwO1xuXHRcdFxuXHRcdC8vIGNhbGN1bGF0aW5nIFBUUy9EVFMgZGlmZmVyZW5jZXMgYW5kIGNvbGxlY3Rpbmcga2V5ZnJhbWVzXG5cdFx0XG5cdFx0Zm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IHNhbXBsZXMubGVuZ3RoIC0gMTsgaSA8IGxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgbmV4dCA9IHNhbXBsZXNbaSArIDFdO1xuXHRcdFx0c2l6ZXMucHVzaChuZXh0Lm9mZnNldCAtIGN1cnJlbnQub2Zmc2V0KTtcblx0XHRcdHZhciBkdHNEaWZmID0gbmV4dC5kdHMgLSBjdXJyZW50LmR0cztcblx0XHRcdGlmIChkdHNEaWZmKSB7XG5cdFx0XHRcdGR0c0RpZmZzLnB1c2goe3NhbXBsZV9jb3VudDogMSwgc2FtcGxlX2RlbHRhOiBkdHNEaWZmfSk7XG5cdFx0XHRcdGR1cmF0aW9uICs9IGR0c0RpZmY7XG5cdFx0XHRcdGZyYW1lUmF0ZS5zdW0gKz0gZHRzRGlmZjtcblx0XHRcdFx0ZnJhbWVSYXRlLmNvdW50Kys7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRkdHNEaWZmcy5sZW5ndGgrKztcblx0XHRcdH1cblx0XHRcdGlmIChjdXJyZW50LmlzSURSKSB7XG5cdFx0XHRcdGFjY2Vzc0luZGV4ZXMucHVzaChpICsgMSk7XG5cdFx0XHR9XG5cdFx0XHRwdHNfZHRzX0RpZmZzLnB1c2goe1xuXHRcdFx0XHRmaXJzdF9jaHVuazogcHRzX2R0c19EaWZmcy5sZW5ndGggKyAxLFxuXHRcdFx0XHRzYW1wbGVfY291bnQ6IDEsXG5cdFx0XHRcdHNhbXBsZV9vZmZzZXQ6IGN1cnJlbnQuZHRzRml4ID0gY3VycmVudC5wdHMgLSBjdXJyZW50LmR0c1xuXHRcdFx0fSk7XG5cdFx0XHRjdXJyZW50ID0gbmV4dDtcblx0XHR9XG5cdFx0XG5cdFx0ZnJhbWVSYXRlID0gTWF0aC5yb3VuZChmcmFtZVJhdGUuc3VtIC8gZnJhbWVSYXRlLmNvdW50KTtcblx0XHRcblx0XHRmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gZHRzRGlmZnMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcblx0XHRcdGlmIChkdHNEaWZmc1tpXSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdGR0c0RpZmZzW2ldID0ge2ZpcnN0X2NodW5rOiBpICsgMSwgc2FtcGxlX2NvdW50OiAxLCBzYW1wbGVfZGVsdGE6IGZyYW1lUmF0ZX07XG5cdFx0XHRcdGR1cmF0aW9uICs9IGZyYW1lUmF0ZTtcblx0XHRcdFx0Ly9zYW1wbGVzW2kgKyAxXS5kdHMgPSBzYW1wbGVzW2ldLmR0cyArIGZyYW1lUmF0ZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBjaGVja2luZyBpZiBEVFMgZGlmZmVyZW5jZXMgYXJlIHNhbWUgZXZlcnl3aGVyZSB0byBwYWNrIHRoZW0gaW50byBvbmUgaXRlbVxuXHRcdFxuXHRcdHZhciBkdHNEaWZmc1NhbWUgPSB0cnVlO1xuXHRcdFxuXHRcdGZvciAodmFyIGkgPSAxLCBsZW5ndGggPSBkdHNEaWZmcy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuXHRcdFx0aWYgKGR0c0RpZmZzW2ldLnNhbXBsZV9kZWx0YSAhPT0gZHRzRGlmZnNbMF0uc2FtcGxlX2RlbHRhKSB7XG5cdFx0XHRcdGR0c0RpZmZzU2FtZSA9IGZhbHNlO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHR9XG5cdFx0XG5cdFx0aWYgKGR0c0RpZmZzU2FtZSkge1xuXHRcdFx0ZHRzRGlmZnMgPSBbe2ZpcnN0X2NodW5rOiAxLCBzYW1wbGVfY291bnQ6IHNpemVzLmxlbmd0aCwgc2FtcGxlX2RlbHRhOiBkdHNEaWZmc1swXS5zYW1wbGVfZGVsdGF9XTtcblx0XHR9XG5cblx0XHQvLyBidWlsZGluZyBhdWRpbyBtZXRhZGF0YVxuXG5cdFx0dmFyIGF1ZGlvU3RhcnQgPSBzdHJlYW0udGVsbCgpLFxuXHRcdFx0YXVkaW9TaXplID0gYXVkaW9TdHJlYW0udGVsbCgpLFxuXHRcdFx0YXVkaW9TaXplcyA9IFtdLFxuXHRcdFx0YXVkaW9IZWFkZXIsXG5cdFx0XHRtYXhBdWRpb1NpemUgPSAwO1xuXHRcdFx0XG5cdFx0YXVkaW9TdHJlYW0uc2VlaygwKTtcblx0XHRcblx0XHR3aGlsZSAoYXVkaW9TdHJlYW0udGVsbCgpIDwgYXVkaW9TaXplKSB7XG5cdFx0XHRhdWRpb0hlYWRlciA9IGF1ZGlvU3RyZWFtLnJlYWQoJ0FEVFNQYWNrZXQnKTtcblx0XHRcdGF1ZGlvU2l6ZXMucHVzaChhdWRpb0hlYWRlci5kYXRhLmxlbmd0aCk7XG5cdFx0XHRpZiAoYXVkaW9IZWFkZXIuZGF0YS5sZW5ndGggPiBtYXhBdWRpb1NpemUpIHtcblx0XHRcdFx0bWF4QXVkaW9TaXplID0gYXVkaW9IZWFkZXIuZGF0YS5sZW5ndGg7XG5cdFx0XHR9XG5cdFx0XHRzdHJlYW0ud3JpdGVCeXRlcyhhdWRpb0hlYWRlci5kYXRhKTtcblx0XHR9XG5cblx0XHQvLyBnZW5lcmF0aW5nIHJlc3VsdGluZyBNUDRcblxuXHRcdHZhciBtcDQgPSBuZXcgakJpbmFyeShzdHJlYW0uYnl0ZUxlbmd0aCwgTVA0KTtcblx0XHRcblx0XHR2YXIgdHJhayA9IFt7XG5cdFx0XHRhdG9tczoge1xuXHRcdFx0XHR0a2hkOiBbe1xuXHRcdFx0XHRcdHZlcnNpb246IDAsXG5cdFx0XHRcdFx0ZmxhZ3M6IDE1LFxuXHRcdFx0XHRcdHRyYWNrX0lEOiAxLFxuXHRcdFx0XHRcdGR1cmF0aW9uOiBkdXJhdGlvbixcblx0XHRcdFx0XHRsYXllcjogMCxcblx0XHRcdFx0XHRhbHRlcm5hdGVfZ3JvdXA6IDAsXG5cdFx0XHRcdFx0dm9sdW1lOiAxLFxuXHRcdFx0XHRcdG1hdHJpeDoge1xuXHRcdFx0XHRcdFx0YTogMSwgYjogMCwgeDogMCxcblx0XHRcdFx0XHRcdGM6IDAsIGQ6IDEsIHk6IDAsXG5cdFx0XHRcdFx0XHR1OiAwLCB2OiAwLCB3OiAxXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRkaW1lbnNpb25zOiB7XG5cdFx0XHRcdFx0XHRob3J6OiB3aWR0aCxcblx0XHRcdFx0XHRcdHZlcnQ6IGhlaWdodFxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fV0sXG5cdFx0XHRcdG1kaWE6IFt7XG5cdFx0XHRcdFx0YXRvbXM6IHtcblx0XHRcdFx0XHRcdG1kaGQ6IFt7XG5cdFx0XHRcdFx0XHRcdHZlcnNpb246IDAsXG5cdFx0XHRcdFx0XHRcdGZsYWdzOiAwLFxuXHRcdFx0XHRcdFx0XHR0aW1lc2NhbGU6IDkwMDAwLFxuXHRcdFx0XHRcdFx0XHRkdXJhdGlvbjogZHVyYXRpb24sXG5cdFx0XHRcdFx0XHRcdGxhbmc6ICd1bmQnXG5cdFx0XHRcdFx0XHR9XSxcblx0XHRcdFx0XHRcdGhkbHI6IFt7XG5cdFx0XHRcdFx0XHRcdHZlcnNpb246IDAsXG5cdFx0XHRcdFx0XHRcdGZsYWdzOiAwLFxuXHRcdFx0XHRcdFx0XHRoYW5kbGVyX3R5cGU6ICd2aWRlJyxcblx0XHRcdFx0XHRcdFx0bmFtZTogJ1ZpZGVvSGFuZGxlcidcblx0XHRcdFx0XHRcdH1dLFxuXHRcdFx0XHRcdFx0bWluZjogW3tcblx0XHRcdFx0XHRcdFx0YXRvbXM6IHtcblx0XHRcdFx0XHRcdFx0XHR2bWhkOiBbe1xuXHRcdFx0XHRcdFx0XHRcdFx0dmVyc2lvbjogMCxcblx0XHRcdFx0XHRcdFx0XHRcdGZsYWdzOiAxLFxuXHRcdFx0XHRcdFx0XHRcdFx0Z3JhcGhpY3Ntb2RlOiAwLFxuXHRcdFx0XHRcdFx0XHRcdFx0b3Bjb2xvcjoge3I6IDAsIGc6IDAsIGI6IDB9XG5cdFx0XHRcdFx0XHRcdFx0fV0sXG5cdFx0XHRcdFx0XHRcdFx0ZGluZjogW3tcblx0XHRcdFx0XHRcdFx0XHRcdGF0b21zOiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGRyZWY6IFt7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dmVyc2lvbjogMCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRmbGFnczogMCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRlbnRyaWVzOiBbe1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dHlwZTogJ3VybCAnLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dmVyc2lvbjogMCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGZsYWdzOiAxLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0bG9jYXRpb246ICcnXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fV1cblx0XHRcdFx0XHRcdFx0XHRcdFx0fV1cblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR9XSxcblx0XHRcdFx0XHRcdFx0XHRzdGJsOiBbe1xuXHRcdFx0XHRcdFx0XHRcdFx0YXRvbXM6IHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0c3RzZDogW3tcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR2ZXJzaW9uOiAwLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGZsYWdzOiAwLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGVudHJpZXM6IFt7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0eXBlOiAnYXZjMScsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRkYXRhX3JlZmVyZW5jZV9pbmRleDogMSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGRpbWVuc2lvbnM6IHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aG9yejogd2lkdGgsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHZlcnQ6IGhlaWdodFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJlc29sdXRpb246IHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aG9yejogNzIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHZlcnQ6IDcyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZnJhbWVfY291bnQ6IDEsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjb21wcmVzc29ybmFtZTogJycsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRkZXB0aDogMjQsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRhdG9tczoge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRhdmNDOiBbe1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHZlcnNpb246IDEsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cHJvZmlsZUluZGljYXRpb246IHNwc0luZm8ucHJvZmlsZV9pZGMsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cHJvZmlsZUNvbXBhdGliaWxpdHk6IHBhcnNlSW50KHNwc0luZm8uY29uc3RyYWludF9zZXRfZmxhZ3Muam9pbignJyksIDIpLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGxldmVsSW5kaWNhdGlvbjogc3BzSW5mby5sZXZlbF9pZGMsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0bGVuZ3RoU2l6ZU1pbnVzT25lOiAzLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHNlcVBhcmFtU2V0czogW3Nwc10sXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cGljdFBhcmFtU2V0czogW3Bwc11cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fV1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XVxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0c3R0czogW3tcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR2ZXJzaW9uOiAwLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGZsYWdzOiAwLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGVudHJpZXM6IGR0c0RpZmZzXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1dLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRzdHNzOiBbe1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHZlcnNpb246IDAsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZmxhZ3M6IDAsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZW50cmllczogYWNjZXNzSW5kZXhlc1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y3R0czogW3tcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR2ZXJzaW9uOiAwLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGZsYWdzOiAwLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGVudHJpZXM6IHB0c19kdHNfRGlmZnNcblx0XHRcdFx0XHRcdFx0XHRcdFx0fV0sXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHN0c2M6IFt7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dmVyc2lvbjogMCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRmbGFnczogMCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRlbnRyaWVzOiBbe1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Zmlyc3RfY2h1bms6IDEsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzYW1wbGVzX3Blcl9jaHVuazogc2l6ZXMubGVuZ3RoLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0c2FtcGxlX2Rlc2NyaXB0aW9uX2luZGV4OiAxXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fV1cblx0XHRcdFx0XHRcdFx0XHRcdFx0fV0sXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHN0c3o6IFt7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dmVyc2lvbjogMCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRmbGFnczogMCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzYW1wbGVfc2l6ZTogMCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzYW1wbGVfY291bnQ6IHNpemVzLmxlbmd0aCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzYW1wbGVfc2l6ZXM6IHNpemVzXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1dLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRzdGNvOiBbe1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHZlcnNpb246IDAsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZmxhZ3M6IDAsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZW50cmllczogWzB4MjhdXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1dXG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0fV1cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fV1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1dXG5cdFx0XHR9XG5cdFx0fV07XG5cblx0XHRpZiAoYXVkaW9TaXplID4gMCkge1xuXHRcdFx0dHJhay5wdXNoKHtcblx0XHRcdFx0YXRvbXM6IHtcblx0XHRcdFx0XHR0a2hkOiBbe1xuXHRcdFx0XHRcdFx0dmVyc2lvbjogMCxcblx0XHRcdFx0XHRcdGZsYWdzOiAxNSxcblx0XHRcdFx0XHRcdHRyYWNrX0lEOiAyLFxuXHRcdFx0XHRcdFx0ZHVyYXRpb246IGR1cmF0aW9uLFxuXHRcdFx0XHRcdFx0bGF5ZXI6IDAsXG5cdFx0XHRcdFx0XHRhbHRlcm5hdGVfZ3JvdXA6IDEsXG5cdFx0XHRcdFx0XHR2b2x1bWU6IDEsXG5cdFx0XHRcdFx0XHRtYXRyaXg6IHtcblx0XHRcdFx0XHRcdFx0YTogMSwgYjogMCwgeDogMCxcblx0XHRcdFx0XHRcdFx0YzogMCwgZDogMSwgeTogMCxcblx0XHRcdFx0XHRcdFx0dTogMCwgdjogMCwgdzogMVxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdGRpbWVuc2lvbnM6IHtcblx0XHRcdFx0XHRcdFx0aG9yejogMCxcblx0XHRcdFx0XHRcdFx0dmVydDogMFxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1dLFxuXHRcdFx0XHRcdG1kaWE6IFt7XG5cdFx0XHRcdFx0XHRhdG9tczoge1xuXHRcdFx0XHRcdFx0XHRtZGhkOiBbe1xuXHRcdFx0XHRcdFx0XHRcdHZlcnNpb246IDAsXG5cdFx0XHRcdFx0XHRcdFx0ZmxhZ3M6IDAsXG5cdFx0XHRcdFx0XHRcdFx0dGltZXNjYWxlOiA5MDAwMCxcblx0XHRcdFx0XHRcdFx0XHRkdXJhdGlvbjogZHVyYXRpb24sXG5cdFx0XHRcdFx0XHRcdFx0bGFuZzogJ2VuZydcblx0XHRcdFx0XHRcdFx0fV0sXG5cdFx0XHRcdFx0XHRcdGhkbHI6IFt7XG5cdFx0XHRcdFx0XHRcdFx0dmVyc2lvbjogMCxcblx0XHRcdFx0XHRcdFx0XHRmbGFnczogMCxcblx0XHRcdFx0XHRcdFx0XHRoYW5kbGVyX3R5cGU6ICdzb3VuJyxcblx0XHRcdFx0XHRcdFx0XHRuYW1lOiAnU291bmRIYW5kbGVyJ1xuXHRcdFx0XHRcdFx0XHR9XSxcblx0XHRcdFx0XHRcdFx0bWluZjogW3tcblx0XHRcdFx0XHRcdFx0XHRhdG9tczoge1xuXHRcdFx0XHRcdFx0XHRcdFx0c21oZDogW3tcblx0XHRcdFx0XHRcdFx0XHRcdFx0dmVyc2lvbjogMCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0ZmxhZ3M6IDAsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGJhbGFuY2U6IDBcblx0XHRcdFx0XHRcdFx0XHRcdH1dLFxuXHRcdFx0XHRcdFx0XHRcdFx0ZGluZjogW3tcblx0XHRcdFx0XHRcdFx0XHRcdFx0YXRvbXM6IHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRkcmVmOiBbe1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dmVyc2lvbjogMCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGZsYWdzOiAwLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZW50cmllczogW3tcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dHlwZTogJ3VybCAnLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR2ZXJzaW9uOiAwLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRmbGFnczogMSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0bG9jYXRpb246ICcnXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1dXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdH1dLFxuXHRcdFx0XHRcdFx0XHRcdFx0c3RibDogW3tcblx0XHRcdFx0XHRcdFx0XHRcdFx0YXRvbXM6IHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzdHNkOiBbe1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dmVyc2lvbjogMCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGZsYWdzOiAwLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZW50cmllczogW3tcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dHlwZTogJ21wNGEnLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRkYXRhX3JlZmVyZW5jZV9pbmRleDogMSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2hhbm5lbGNvdW50OiAyLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzYW1wbGVzaXplOiAxNixcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0c2FtcGxlcmF0ZTogMjIwNTAsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGF0b21zOiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZXNkczogW3tcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHZlcnNpb246IDAsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRmbGFnczogMCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHNlY3Rpb25zOiBbXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRkZXNjcmlwdG9yX3R5cGU6IDMsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZXh0X3R5cGU6IDEyOCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRsZW5ndGg6IDM0LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGVzX2lkOiAyLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHN0cmVhbV9wcmlvcml0eTogMFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZGVzY3JpcHRvcl90eXBlOiA0LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGV4dF90eXBlOiAxMjgsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0bGVuZ3RoOiAyMCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0eXBlOiAnbXBlZzRfYXVkaW8nLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHN0cmVhbV90eXBlOiAnYXVkaW8nLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHVwc3RyZWFtX2ZsYWc6IDAsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0YnVmZmVyX3NpemU6IDAsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0bWF4Qml0cmF0ZTogTWF0aC5yb3VuZChtYXhBdWRpb1NpemUgLyAoZHVyYXRpb24gLyA5MDAwMCAvIGF1ZGlvU2l6ZXMubGVuZ3RoKSksXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0YXZnQml0cmF0ZTogTWF0aC5yb3VuZCgoc3RyZWFtLnRlbGwoKSAtIGF1ZGlvU3RhcnQpIC8gKGR1cmF0aW9uIC8gOTAwMDApKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZGVzY3JpcHRvcl90eXBlOiA1LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGV4dF90eXBlOiAxMjgsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0bGVuZ3RoOiAyLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGF1ZGlvX3Byb2ZpbGU6IGF1ZGlvSGVhZGVyLnByb2ZpbGVNaW51c09uZSArIDEsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0c2FtcGxpbmdfZnJlcTogYXVkaW9IZWFkZXIuc2FtcGxpbmdGcmVxLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNoYW5uZWxDb25maWc6IGF1ZGlvSGVhZGVyLmNoYW5uZWxDb25maWdcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGRlc2NyaXB0b3JfdHlwZTogNixcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRleHRfdHlwZTogMTI4LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGxlbmd0aDogMSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzbDogMlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRdXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fV1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fV1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzdHRzOiBbe1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dmVyc2lvbjogMCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGZsYWdzOiAwLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZW50cmllczogW3tcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0c2FtcGxlX2NvdW50OiBhdWRpb1NpemVzLmxlbmd0aCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0c2FtcGxlX2RlbHRhOiBNYXRoLnJvdW5kKGR1cmF0aW9uIC8gYXVkaW9TaXplcy5sZW5ndGgpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1dLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHN0c2M6IFt7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR2ZXJzaW9uOiAwLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZmxhZ3M6IDAsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRlbnRyaWVzOiBbe1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRmaXJzdF9jaHVuazogMSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0c2FtcGxlc19wZXJfY2h1bms6IGF1ZGlvU2l6ZXMubGVuZ3RoLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzYW1wbGVfZGVzY3JpcHRpb25faW5kZXg6IDFcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1dXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fV0sXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0c3RzejogW3tcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHZlcnNpb246IDAsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRmbGFnczogMCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHNhbXBsZV9zaXplOiAwLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0c2FtcGxlX2NvdW50OiBhdWRpb1NpemVzLmxlbmd0aCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHNhbXBsZV9zaXplczogYXVkaW9TaXplc1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1dLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHN0Y286IFt7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR2ZXJzaW9uOiAwLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZmxhZ3M6IDAsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRlbnRyaWVzOiBbMHgyOCArIGF1ZGlvU3RhcnRdXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fV1cblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0fV1cblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH1dXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fV1cblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fTtcblx0XHRcblx0XHR2YXIgY3JlYXRpb25UaW1lID0gbmV3IERhdGUoKTtcblxuXHRcdG1wNC53cml0ZSgnRmlsZScsIHtcblx0XHRcdGZ0eXA6IFt7XG5cdFx0XHRcdG1ham9yX2JyYW5kOiAnaXNvbScsXG5cdFx0XHRcdG1pbm9yX3ZlcnNpb246IDUxMixcblx0XHRcdFx0Y29tcGF0aWJsZV9icmFuZHM6IFsnaXNvbScsICdpc28yJywgJ2F2YzEnLCAnbXA0MSddXG5cdFx0XHR9XSxcblx0XHRcdG1kYXQ6IFt7XG5cdFx0XHRcdF9yYXdEYXRhOiBzdHJlYW0uZ2V0Qnl0ZXMoc3RyZWFtLnRlbGwoKSwgMClcblx0XHRcdH1dLFxuXHRcdFx0bW9vdjogW3tcblx0XHRcdFx0YXRvbXM6IHtcblx0XHRcdFx0XHRtdmhkOiBbe1xuXHRcdFx0XHRcdFx0dmVyc2lvbjogMCxcblx0XHRcdFx0XHRcdGZsYWdzOiAwLFxuXHRcdFx0XHRcdFx0Y3JlYXRpb25fdGltZTogY3JlYXRpb25UaW1lLFxuXHRcdFx0XHRcdFx0bW9kaWZpY2F0aW9uX3RpbWU6IGNyZWF0aW9uVGltZSxcblx0XHRcdFx0XHRcdHRpbWVzY2FsZTogOTAwMDAsXG5cdFx0XHRcdFx0XHRkdXJhdGlvbjogZHVyYXRpb24sXG5cdFx0XHRcdFx0XHRyYXRlOiAxLFxuXHRcdFx0XHRcdFx0dm9sdW1lOiAxLFxuXHRcdFx0XHRcdFx0bWF0cml4OiB7XG5cdFx0XHRcdFx0XHRcdGE6IDEsIGI6IDAsIHg6IDAsXG5cdFx0XHRcdFx0XHRcdGM6IDAsIGQ6IDEsIHk6IDAsXG5cdFx0XHRcdFx0XHRcdHU6IDAsIHY6IDAsIHc6IDFcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRuZXh0X3RyYWNrX0lEOiAyXG5cdFx0XHRcdFx0fV0sXG5cdFx0XHRcdFx0dHJhazogdHJha1xuXHRcdFx0XHR9XG5cdFx0XHR9XVxuXHRcdH0pO1xuXHRcdFxuXHRcdHJldHVybiBtcDQuc2xpY2UoMCwgbXA0LnRlbGwoKSk7XG5cdH07XG59KSk7IiwiKGZ1bmN0aW9uIChyb290LCBmYWN0b3J5KSB7XG4gICAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgICAgICAvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXG4gICAgICAgIGRlZmluZShbJ2piaW5hcnknXSwgZmFjdG9yeSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgLy8gTm9kZS4gRG9lcyBub3Qgd29yayB3aXRoIHN0cmljdCBDb21tb25KUywgYnV0XG4gICAgICAgIC8vIG9ubHkgQ29tbW9uSlMtbGlrZSBlbnZpcm9ubWVudHMgdGhhdCBzdXBwb3J0IG1vZHVsZS5leHBvcnRzLFxuICAgICAgICAvLyBsaWtlIE5vZGUuXG4gICAgICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKCdqYmluYXJ5JykpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEJyb3dzZXIgZ2xvYmFscyAocm9vdCBpcyB3aW5kb3cpXG4gICAgICAgIHJvb3QuTVA0ID0gZmFjdG9yeShyb290LmpCaW5hcnkpO1xuICAgIH1cbn0odGhpcywgZnVuY3Rpb24gKGpCaW5hcnkpIHtcblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciB0aW1lQmFzaXMgPSBuZXcgRGF0ZSgxOTcwLCAwLCAxKSAtIG5ldyBEYXRlKDE5MDQsIDAsIDEpO1xuXG5cdGZ1bmN0aW9uIGF0b21GaWx0ZXIodHlwZSkge1xuXHRcdHJldHVybiBmdW5jdGlvbiAoYXRvbSkge1xuXHRcdFx0cmV0dXJuIGF0b20udHlwZSA9PT0gdHlwZTtcblx0XHR9O1xuXHR9XG5cblx0cmV0dXJuIHtcblx0XHRTaG9ydE5hbWU6IFsnc3RyaW5nMCcsIDRdLFxuXHRcdFxuXHRcdFJhdGU6IFsnRml4ZWRQb2ludCcsICdpbnQzMicsIDE2XSxcblxuXHRcdERpbWVuc2lvbnM6IGpCaW5hcnkuVGVtcGxhdGUoe1xuXHRcdFx0c2V0UGFyYW1zOiBmdW5jdGlvbiAoaXRlbVR5cGUpIHtcblx0XHRcdFx0dGhpcy5iYXNlVHlwZSA9IHtcblx0XHRcdFx0XHRob3J6OiBpdGVtVHlwZSxcblx0XHRcdFx0XHR2ZXJ0OiBpdGVtVHlwZVxuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXHRcdH0pLFxuXG5cdFx0Qm94SGVhZGVyOiB7XG5cdFx0XHRfYmVnaW46IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMuYmluYXJ5LnRlbGwoKTtcblx0XHRcdH0sXG5cdFx0XHRfc2l6ZTogakJpbmFyeS5UZW1wbGF0ZSh7XG5cdFx0XHRcdGJhc2VUeXBlOiAndWludDMyJyxcblx0XHRcdFx0d3JpdGU6IGZ1bmN0aW9uICh2YWx1ZSwgY29udGV4dCkge1xuXHRcdFx0XHRcdHZhciBzaXplID0gY29udGV4dC5zaXplO1xuXHRcdFx0XHRcdHRoaXMuYmFzZVdyaXRlKHNpemUgPyAoc2l6ZSA8IE1hdGgucG93KDIsIDMyKSA/IHNpemUgOiAxKSA6IDApO1xuXHRcdFx0XHR9XG5cdFx0XHR9KSxcblx0XHRcdHR5cGU6ICdTaG9ydE5hbWUnLFxuXHRcdFx0c2l6ZTogakJpbmFyeS5UeXBlKHtcblx0XHRcdFx0cmVhZDogZnVuY3Rpb24gKGNvbnRleHQpIHtcblx0XHRcdFx0XHR2YXIgX3NpemUgPSBjb250ZXh0Ll9zaXplO1xuXHRcdFx0XHRcdHN3aXRjaCAoX3NpemUpIHtcblx0XHRcdFx0XHRcdGNhc2UgMDogcmV0dXJuIHRoaXMuYmluYXJ5LnZpZXcuYnl0ZUxlbmd0aCAtIHRoaXMuYmluYXJ5LnRlbGwoKSArIDg7XG5cdFx0XHRcdFx0XHRjYXNlIDE6IHJldHVybiB0aGlzLmJpbmFyeS5yZWFkKCd1aW50NjQnKTtcblx0XHRcdFx0XHRcdGRlZmF1bHQ6IHJldHVybiBfc2l6ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sXG5cdFx0XHRcdHdyaXRlOiBmdW5jdGlvbiAodmFsdWUpIHtcblx0XHRcdFx0XHRpZiAodmFsdWUgPj0gTWF0aC5wb3coMiwgMzIpKSB7XG5cdFx0XHRcdFx0XHR0aGlzLmJpbmFyeS53cml0ZSgndWludDY0JywgdmFsdWUpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSksXG5cdFx0XHRfZW5kOiBmdW5jdGlvbiAoY29udGV4dCkge1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dC5fYmVnaW4gKyBjb250ZXh0LnNpemU7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdEZ1bGxCb3g6IFsnZXh0ZW5kJywgJ0JveEhlYWRlcicsIHtcblx0XHRcdHZlcnNpb246ICd1aW50OCcsXG5cdFx0XHRmbGFnczogMjRcblx0XHR9XSxcblxuXHRcdEJveDogakJpbmFyeS5UeXBlKHtcblx0XHRcdHJlYWQ6IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0dmFyIGhlYWRlciA9IHRoaXMuYmluYXJ5LnNraXAoMCwgZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdHJldHVybiB0aGlzLnJlYWQoJ0JveEhlYWRlcicpO1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0dmFyIGJveCA9IHRoaXMuYmluYXJ5LnJlYWQoaGVhZGVyLnR5cGUpIHx8IGhlYWRlcjtcblx0XHRcdFx0aWYgKGJveCA9PT0gaGVhZGVyKSBjb25zb2xlLmxvZyhoZWFkZXIudHlwZSk7XG5cdFx0XHRcdHRoaXMuYmluYXJ5LnNlZWsoaGVhZGVyLl9lbmQpO1xuXHRcdFx0XHRyZXR1cm4gYm94O1xuXHRcdFx0fSxcblx0XHRcdHdyaXRlOiBmdW5jdGlvbiAoYm94KSB7XG5cdFx0XHRcdHRoaXMuYmluYXJ5LndyaXRlKGJveC50eXBlLCBib3gpO1xuXHRcdFx0XHR2YXIgc2l6ZSA9IHRoaXMuYmluYXJ5LnRlbGwoKSAtIGJveC5fYmVnaW47XG5cdFx0XHRcdHRoaXMuYmluYXJ5LnNlZWsoYm94Ll9iZWdpbiwgZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdHRoaXMud3JpdGUoJ3VpbnQzMicsIHNpemUpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9KSxcblxuXHRcdFRpbWU6IGpCaW5hcnkuVGVtcGxhdGUoe1xuXHRcdFx0cGFyYW1zOiBbJ2Jhc2VUeXBlJ10sXG5cdFx0XHRyZWFkOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdHZhciBpbnRUaW1lID0gdGhpcy5iYXNlUmVhZCgpO1xuXHRcdFx0XHRpZiAoaW50VGltZSkge1xuXHRcdFx0XHRcdHJldHVybiBuZXcgRGF0ZShpbnRUaW1lICsgdGltZUJhc2lzKTtcblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdHdyaXRlOiBmdW5jdGlvbiAodGltZSkge1xuXHRcdFx0XHR0aGlzLmJhc2VXcml0ZSgodGltZSAtIHRpbWVCYXNpcykgPj4+IDApO1xuXHRcdFx0fVxuXHRcdH0pLFxuXG5cdFx0Rml4ZWRQb2ludDogakJpbmFyeS5UZW1wbGF0ZSh7XG5cdFx0XHRwYXJhbXM6IFsnYmFzZVR5cGUnXSxcblx0XHRcdHNldFBhcmFtczogZnVuY3Rpb24gKGJhc2VUeXBlLCBzaGlmdCkge1xuXHRcdFx0XHR0aGlzLmNvZWYgPSAxIDw8IHNoaWZ0O1xuXHRcdFx0fSxcblx0XHRcdHJlYWQ6IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMuYmFzZVJlYWQoKSAvIHRoaXMuY29lZjtcblx0XHRcdH0sXG5cdFx0XHR3cml0ZTogZnVuY3Rpb24gKHZhbHVlKSB7XG5cdFx0XHRcdHRoaXMuYmFzZVdyaXRlKHZhbHVlICogdGhpcy5jb2VmKTtcblx0XHRcdH1cblx0XHR9KSxcblxuXHRcdEF0b21zOiBqQmluYXJ5LlR5cGUoe1xuXHRcdFx0cGFyYW1zOiBbJ2VuZCddLFxuXHRcdFx0cmVhZDogZnVuY3Rpb24gKCkge1xuXHRcdFx0XHR2YXIgYXRvbXMgPSB7fSwgZW5kID0gdGhpcy50b1ZhbHVlKHRoaXMuZW5kKSB8fCB0aGlzLmJpbmFyeS5nZXRDb250ZXh0KCdfZW5kJykuX2VuZDtcblx0XHRcdFx0d2hpbGUgKHRoaXMuYmluYXJ5LnRlbGwoKSA8IGVuZCkge1xuXHRcdFx0XHRcdHZhciBpdGVtID0gdGhpcy5iaW5hcnkucmVhZCgnQm94Jyk7XG5cdFx0XHRcdFx0KGF0b21zW2l0ZW0udHlwZV0gfHwgKGF0b21zW2l0ZW0udHlwZV0gPSBbXSkpLnB1c2goaXRlbSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIGF0b21zO1xuXHRcdFx0fSxcblx0XHRcdHdyaXRlOiBmdW5jdGlvbiAocGFyZW50KSB7XG5cdFx0XHRcdGZvciAodmFyIHR5cGUgaW4gcGFyZW50KSB7XG5cdFx0XHRcdFx0dmFyIGF0b21zID0gcGFyZW50W3R5cGVdO1xuXHRcdFx0XHRcdGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBhdG9tcy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuXHRcdFx0XHRcdFx0YXRvbXNbaV0udHlwZSA9IHR5cGU7XG5cdFx0XHRcdFx0XHR0aGlzLmJpbmFyeS53cml0ZSgnQm94JywgYXRvbXNbaV0pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0pLFxuXG5cdFx0Q2hpbGRBdG9tczoge1xuXHRcdFx0YXRvbXM6ICdBdG9tcydcblx0XHR9LFxuXG5cdFx0TXVsdGlCb3g6IFsnZXh0ZW5kJywgJ0JveEhlYWRlcicsICdDaGlsZEF0b21zJ10sXG5cblx0XHRUcmFuc2Zvcm1hdGlvbk1hdHJpeDoge1xuXHRcdFx0YTogWydGaXhlZFBvaW50JywgJ3VpbnQzMicsIDE2XSxcblx0XHRcdGI6IFsnRml4ZWRQb2ludCcsICd1aW50MzInLCAxNl0sXG5cdFx0XHR1OiBbJ0ZpeGVkUG9pbnQnLCAndWludDMyJywgMzBdLFxuXHRcdFx0YzogWydGaXhlZFBvaW50JywgJ3VpbnQzMicsIDE2XSxcblx0XHRcdGQ6IFsnRml4ZWRQb2ludCcsICd1aW50MzInLCAxNl0sXG5cdFx0XHR2OiBbJ0ZpeGVkUG9pbnQnLCAndWludDMyJywgMzBdLFxuXHRcdFx0eDogWydGaXhlZFBvaW50JywgJ3VpbnQzMicsIDE2XSxcblx0XHRcdHk6IFsnRml4ZWRQb2ludCcsICd1aW50MzInLCAxNl0sXG5cdFx0XHR3OiBbJ0ZpeGVkUG9pbnQnLCAndWludDMyJywgMzBdXG5cdFx0fSxcblxuXHRcdFZvbHVtZTogWydGaXhlZFBvaW50JywgJ3VpbnQxNicsIDhdLFxuXG5cdFx0RkJWZXJzaW9uYWJsZTogakJpbmFyeS5UZW1wbGF0ZSh7XG5cdFx0XHRzZXRQYXJhbXM6IGZ1bmN0aW9uICh0eXBlMCwgdHlwZTEpIHtcblx0XHRcdFx0dGhpcy5iYXNlVHlwZSA9IFsnaWYnLCAndmVyc2lvbicsIHR5cGUxLCB0eXBlMF07XG5cdFx0XHR9XG5cdFx0fSksXG5cblx0XHRGQlVpbnQ6IFsnRkJWZXJzaW9uYWJsZScsICd1aW50MzInLCAndWludDY0J10sXG5cblx0XHRGQlRpbWU6IFsnVGltZScsICdGQlVpbnQnXSxcblxuXHRcdFRpbWVzdGFtcEJveDogWydleHRlbmQnLCAnRnVsbEJveCcsIHtcblx0XHRcdGNyZWF0aW9uX3RpbWU6ICdGQlRpbWUnLFxuXHRcdFx0bW9kaWZpY2F0aW9uX3RpbWU6ICdGQlRpbWUnXG5cdFx0fV0sXG5cblx0XHREdXJhdGlvbkJveDogWydleHRlbmQnLCAnVGltZXN0YW1wQm94Jywge1xuXHRcdFx0dGltZXNjYWxlOiAndWludDMyJyxcblx0XHRcdGR1cmF0aW9uOiAnRkJVaW50J1xuXHRcdH1dLFxuXG5cdFx0ZnR5cDogWydleHRlbmQnLCAnQm94SGVhZGVyJywge1xuXHRcdFx0bWFqb3JfYnJhbmQ6ICdTaG9ydE5hbWUnLFxuXHRcdFx0bWlub3JfdmVyc2lvbjogJ3VpbnQzMicsXG5cdFx0XHRjb21wYXRpYmxlX2JyYW5kczogWydhcnJheScsICdTaG9ydE5hbWUnLCBmdW5jdGlvbiAoKSB7IHJldHVybiAodGhpcy5iaW5hcnkuZ2V0Q29udGV4dCgxKS5fZW5kIC0gdGhpcy5iaW5hcnkudGVsbCgpKSAvIDQgfV1cblx0XHR9XSxcblxuXHRcdGZyZWU6ICdCb3hIZWFkZXInLFxuXG5cdFx0UmF3RGF0YToge1xuXHRcdFx0X3Jhd0RhdGE6IFsnYmxvYicsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuYmluYXJ5LmdldENvbnRleHQoJ19lbmQnKS5fZW5kIC0gdGhpcy5iaW5hcnkudGVsbCgpIH1dXG5cdFx0fSxcblxuXHRcdG1kYXQ6IFsnZXh0ZW5kJywgJ0JveEhlYWRlcicsICdSYXdEYXRhJ10sXG5cblx0XHRQYXJhbVNldHM6IGpCaW5hcnkuVGVtcGxhdGUoe1xuXHRcdFx0c2V0UGFyYW1zOiBmdW5jdGlvbiAobnVtVHlwZSkge1xuXHRcdFx0XHR0aGlzLmJhc2VUeXBlID0gWydEeW5hbWljQXJyYXknLCBudW1UeXBlLCBqQmluYXJ5LlRlbXBsYXRlKHtcblx0XHRcdFx0XHRiYXNlVHlwZToge1xuXHRcdFx0XHRcdFx0bGVuZ3RoOiAndWludDE2Jyxcblx0XHRcdFx0XHRcdHBhcmFtU2V0OiBbJ2Jsb2InLCAnbGVuZ3RoJ11cblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdHJlYWQ6IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRcdHJldHVybiB0aGlzLmJhc2VSZWFkKCkucGFyYW1TZXQ7XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHR3cml0ZTogZnVuY3Rpb24gKHBhcmFtU2V0KSB7XG5cdFx0XHRcdFx0XHR0aGlzLmJhc2VXcml0ZSh7XG5cdFx0XHRcdFx0XHRcdGxlbmd0aDogcGFyYW1TZXQubGVuZ3RoLFxuXHRcdFx0XHRcdFx0XHRwYXJhbVNldDogcGFyYW1TZXRcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSldO1xuXHRcdFx0fVxuXHRcdH0pLFxuXG5cdFx0YXZjQzogWydleHRlbmQnLCAnQm94SGVhZGVyJywge1xuXHRcdFx0dmVyc2lvbjogWydjb25zdCcsICd1aW50OCcsIDFdLFxuXHRcdFx0cHJvZmlsZUluZGljYXRpb246ICd1aW50OCcsXG5cdFx0XHRwcm9maWxlQ29tcGF0aWJpbGl0eTogJ3VpbnQ4Jyxcblx0XHRcdGxldmVsSW5kaWNhdGlvbjogJ3VpbnQ4Jyxcblx0XHRcdF9yZXNlcnZlZDogWydjb25zdCcsIDYsIC0xXSxcblx0XHRcdGxlbmd0aFNpemVNaW51c09uZTogMixcblx0XHRcdF9yZXNlcnZlZDI6IFsnY29uc3QnLCAzLCAtMV0sXG5cdFx0XHRzZXFQYXJhbVNldHM6IFsnUGFyYW1TZXRzJywgNV0sXG5cdFx0XHRwaWN0UGFyYW1TZXRzOiBbJ1BhcmFtU2V0cycsICd1aW50OCddXG5cdFx0fV0sXG5cblx0XHRtb292OiAnTXVsdGlCb3gnLFxuXG5cdFx0bXZoZDogWydleHRlbmQnLCAnRHVyYXRpb25Cb3gnLCB7XG5cdFx0XHRyYXRlOiAnUmF0ZScsXG5cdFx0XHR2b2x1bWU6ICdWb2x1bWUnLFxuXHRcdFx0X3Jlc2VydmVkOiBbJ3NraXAnLCAxMF0sXG5cdFx0XHRtYXRyaXg6ICdUcmFuc2Zvcm1hdGlvbk1hdHJpeCcsXG5cdFx0XHRfcmVzZXJ2ZWQyOiBbJ3NraXAnLCAyNF0sXG5cdFx0XHRuZXh0X3RyYWNrX0lEOiAndWludDMyJ1xuXHRcdH1dLFxuXG5cdFx0dHJhazogJ011bHRpQm94JyxcblxuXHRcdHRraGQ6IFsnZXh0ZW5kJywgJ1RpbWVzdGFtcEJveCcsIHtcblx0XHRcdHRyYWNrX0lEOiAndWludDMyJyxcblx0XHRcdF9yZXNlcnZlZDogWydza2lwJywgNF0sXG5cdFx0XHRkdXJhdGlvbjogJ0ZCVWludCcsXG5cdFx0XHRfcmVzZXJ2ZWQyOiBbJ3NraXAnLCA4XSxcblx0XHRcdGxheWVyOiAnaW50MTYnLFxuXHRcdFx0YWx0ZXJuYXRlX2dyb3VwOiAndWludDE2Jyxcblx0XHRcdHZvbHVtZTogJ1ZvbHVtZScsXG5cdFx0XHRfcmVzZXJ2ZWQzOiBbJ3NraXAnLCAyXSxcblx0XHRcdG1hdHJpeDogJ1RyYW5zZm9ybWF0aW9uTWF0cml4Jyxcblx0XHRcdGRpbWVuc2lvbnM6IFsnRGltZW5zaW9ucycsICdSYXRlJ11cblx0XHR9XSxcblxuXHRcdHRyZWY6ICdNdWx0aUJveCcsXG5cblx0XHRUcmFja1JlZmVyZW5jZVR5cGVCb3g6IFsnZXh0ZW5kJywgJ0JveEhlYWRlcicsIHtcblx0XHRcdHRyYWNrX0lEczogWydhcnJheScsICd1aW50MzInLCBmdW5jdGlvbiAoKSB7IHJldHVybiAodGhpcy5iaW5hcnkuZ2V0Q29udGV4dCgxKS5fZW5kIC0gdGhpcy5iaW5hcnkudGVsbCgpKSAvIDQgfV1cblx0XHR9XSxcblxuXHRcdGhpbnQ6ICdUcmFja1JlZmVyZW5jZVR5cGVCb3gnLFxuXG5cdFx0Y2RzYzogJ1RyYWNrUmVmZXJlbmNlVHlwZUJveCcsXG5cblx0XHRoaW5kOiAnVHJhY2tSZWZlcmVuY2VUeXBlQm94JyxcblxuXHRcdG1kaWE6ICdNdWx0aUJveCcsXG5cblx0XHRtZGhkOiBbJ2V4dGVuZCcsICdEdXJhdGlvbkJveCcsIHtcblx0XHRcdF9wYWRkaW5nOiAxLFxuXHRcdFx0bGFuZzogakJpbmFyeS5UeXBlKHtcblx0XHRcdFx0cmVhZDogZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFxuXHRcdFx0XHRcdFx0U3RyaW5nLFxuXHRcdFx0XHRcdFx0dGhpcy5iaW5hcnkucmVhZChbJ2FycmF5JywgNSwgM10pLm1hcChmdW5jdGlvbiAoY29kZSkgeyByZXR1cm4gY29kZSArIDB4NjAgfSlcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHR3cml0ZTogZnVuY3Rpb24gKHZhbHVlKSB7XG5cdFx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCAzOyBpKyspIHtcblx0XHRcdFx0XHRcdHRoaXMuYmluYXJ5LndyaXRlKDUsIHZhbHVlLmNoYXJDb2RlQXQoaSkgLSAweDYwKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0pLFxuXHRcdFx0X3Jlc2VydmVkOiBbJ3NraXAnLCAyXVxuXHRcdH1dLFxuXG5cdFx0aGRscjogWydleHRlbmQnLCAnRnVsbEJveCcsIHtcblx0XHRcdF9yZXNlcnZlZDogWydza2lwJywgNF0sXG5cdFx0XHRoYW5kbGVyX3R5cGU6ICdTaG9ydE5hbWUnLFxuXHRcdFx0X3NldF9oYW5kbGVyX3R5cGU6IGZ1bmN0aW9uIChjb250ZXh0KSB7XG5cdFx0XHRcdHRoaXMuYmluYXJ5LmdldENvbnRleHQoYXRvbUZpbHRlcigndHJhaycpKS5faGFuZGxlcl90eXBlID0gY29udGV4dC5oYW5kbGVyX3R5cGU7XG5cdFx0XHR9LFxuXHRcdFx0X3Jlc2VydmVkMjogWydza2lwJywgMTJdLFxuXHRcdFx0bmFtZTogJ3N0cmluZzAnXG5cdFx0fV0sXG5cblx0XHRtaW5mOiAnTXVsdGlCb3gnLFxuXG5cdFx0dm1oZDogWydleHRlbmQnLCAnRnVsbEJveCcsIHtcblx0XHRcdGdyYXBoaWNzbW9kZTogJ3VpbnQxNicsXG5cdFx0XHRvcGNvbG9yOiB7XG5cdFx0XHRcdHI6ICd1aW50MTYnLFxuXHRcdFx0XHRnOiAndWludDE2Jyxcblx0XHRcdFx0YjogJ3VpbnQxNidcblx0XHRcdH1cblx0XHR9XSxcblxuXHRcdHNtaGQ6IFsnZXh0ZW5kJywgJ0Z1bGxCb3gnLCB7XG5cdFx0XHRiYWxhbmNlOiBbJ0ZpeGVkUG9pbnQnLCAnaW50MTYnLCA4XSxcblx0XHRcdF9yZXNlcnZlZDogWydza2lwJywgMl1cblx0XHR9XSxcblxuXHRcdGhtaGQ6IFsnZXh0ZW5kJywgJ0Z1bGxCb3gnLCB7XG5cdFx0XHRtYXhQRFVzaXplOiAndWludDE2Jyxcblx0XHRcdGF2Z1BEVXNpemU6ICd1aW50MTYnLFxuXHRcdFx0bWF4Yml0cmF0ZTogJ3VpbnQzMicsXG5cdFx0XHRhdmdiaXRyYXRlOiAndWludDMyJyxcblx0XHRcdF9yZXNlcnZlZDogWydza2lwJywgNF1cblx0XHR9XSxcblxuXHRcdHN0Ymw6ICdNdWx0aUJveCcsXG5cblx0XHRTYW1wbGVFbnRyeTogWydleHRlbmQnLCAnQm94SGVhZGVyJywge1xuXHRcdFx0X3Jlc2VydmVkOiBbJ3NraXAnLCA2XSxcblx0XHRcdGRhdGFfcmVmZXJlbmNlX2luZGV4OiAndWludDE2J1xuXHRcdH1dLFxuXG5cdFx0YnRydDogWydleHRlbmQnLCAnQm94SGVhZGVyJywge1xuXHRcdFx0YnVmZmVyU2l6ZURCOiAndWludDMyJyxcblx0XHRcdG1heEJpdHJhdGU6ICd1aW50MzInLFxuXHRcdFx0YXZnQml0cmF0ZTogJ3VpbnQzMidcblx0XHR9XSxcblxuXHRcdG1ldHg6IFsnZXh0ZW5kJywgJ1NhbXBsZUVudHJ5Jywge1xuXHRcdFx0Y29udGVudF9lbmNvZGluZzogJ3N0cmluZzAnLFxuXHRcdFx0bmFtZXNwYWNlOiAnc3RyaW5nMCcsXG5cdFx0XHRzY2hlbWFfbG9jYXRpb246ICdzdHJpbmcwJyxcblx0XHRcdGJpdHJhdGVib3g6ICdidHJ0J1xuXHRcdH1dLFxuXG5cdFx0bWV0dDogWydleHRlbmQnLCAnU2FtcGxlRW50cnknLCB7XG5cdFx0XHRjb250ZW50X2VuY29kaW5nOiAnc3RyaW5nMCcsXG5cdFx0XHRtaW1lX2Zvcm1hdDogJ3N0cmluZzAnLFxuXHRcdFx0Yml0cmF0ZWJveDogJ2J0cnQnXG5cdFx0fV0sXG5cblx0XHRwYXNwOiBbJ2V4dGVuZCcsICdCb3hIZWFkZXInLCB7XG5cdFx0XHRzcGFjaW5nOiBbJ0RpbWVuc2lvbnMnLCAndWludDMyJ11cblx0XHR9XSxcblxuXHRcdENsYXBJbm5lckZvcm1hdDogWydEaW1lbnNpb25zJywge1xuXHRcdFx0TjogJ3VpbnQzMicsXG5cdFx0XHREOiAndWludDMyJ1xuXHRcdH1dLFxuXG5cdFx0Y2xhcDogWydleHRlbmQnLCAnQm94SGVhZGVyJywge1xuXHRcdFx0Y2xlYW5BcGVydHVyZTogJ0NsYXBJbm5lckZvcm1hdCcsXG5cdFx0XHRvZmY6ICdDbGFwSW5uZXJGb3JtYXQnXG5cdFx0fV0sXG5cblx0XHRWaXN1YWxTYW1wbGVFbnRyeTogWydleHRlbmQnLCAnU2FtcGxlRW50cnknLCB7XG5cdFx0XHRfcmVzZXJ2ZWQ6IFsnc2tpcCcsIDE2XSxcblx0XHRcdGRpbWVuc2lvbnM6IFsnRGltZW5zaW9ucycsICd1aW50MTYnXSxcblx0XHRcdHJlc29sdXRpb246IFsnRGltZW5zaW9ucycsICdSYXRlJ10sXG5cdFx0XHRfcmVzZXJ2ZWQyOiBbJ3NraXAnLCA0XSxcblx0XHRcdGZyYW1lX2NvdW50OiBbJ2NvbnN0JywgJ3VpbnQxNicsIDFdLFxuXHRcdFx0Y29tcHJlc3Nvcm5hbWU6IGpCaW5hcnkuVGVtcGxhdGUoe1xuXHRcdFx0XHRiYXNlVHlwZToge1xuXHRcdFx0XHRcdGxlbmd0aDogJ3VpbnQ4Jyxcblx0XHRcdFx0XHRzdHJpbmc6IFsnc3RyaW5nJywgJ2xlbmd0aCddLFxuXHRcdFx0XHRcdF9za2lwOiBbJ3NraXAnLCBmdW5jdGlvbiAoY29udGV4dCkgeyByZXR1cm4gMzIgLSAxIC0gY29udGV4dC5sZW5ndGggfV1cblx0XHRcdFx0fSxcblx0XHRcdFx0cmVhZDogZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdHJldHVybiB0aGlzLmJhc2VSZWFkKCkuc3RyaW5nO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHR3cml0ZTogZnVuY3Rpb24gKHZhbHVlKSB7XG5cdFx0XHRcdFx0dGhpcy5iYXNlV3JpdGUoe1xuXHRcdFx0XHRcdFx0bGVuZ3RoOiB2YWx1ZS5sZW5ndGgsXG5cdFx0XHRcdFx0XHRzdHJpbmc6IHZhbHVlXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblx0XHRcdH0pLFxuXHRcdFx0ZGVwdGg6ICd1aW50MTYnLFxuXHRcdFx0X3Jlc2VydmVkMzogWydjb25zdCcsICdpbnQxNicsIC0xXVxuXHRcdH0sIGpCaW5hcnkuVHlwZSh7XG5cdFx0XHRzZXRQYXJhbXM6IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0dGhpcy5vcHRpb25hbCA9IHtcblx0XHRcdFx0XHRjbGVhbmFwZXJ0dXJlOiAnY2xhcCcsXG5cdFx0XHRcdFx0cGl4ZWxhc3BlY3RyYXRpbzogJ3Bhc3AnXG5cdFx0XHRcdH07XG5cdFx0XHR9LFxuXHRcdFx0cmVhZDogZnVuY3Rpb24gKCkge1xuXHRcdFx0XHR2YXIgZXh0ZW5zaW9uID0ge307XG5cblx0XHRcdFx0Zm9yICh2YXIgcHJvcE5hbWUgaW4gdGhpcy5vcHRpb25hbCkge1xuXHRcdFx0XHRcdHZhciB0eXBlID0gdGhpcy5vcHRpb25hbFtwcm9wTmFtZV07XG5cdFx0XHRcdFx0dmFyIGF0b20gPSB0aGlzLmJpbmFyeS5za2lwKDAsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMucmVhZCgnQm94SGVhZGVyJykgfSk7XG5cdFx0XHRcdFx0aWYgKGF0b20udHlwZSA9PT0gdHlwZSkge1xuXHRcdFx0XHRcdFx0ZXh0ZW5zaW9uW3Byb3BOYW1lXSA9IHRoaXMuYmluYXJ5LnJlYWQodHlwZSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGV4dGVuc2lvbjtcblx0XHRcdH0sXG5cdFx0XHR3cml0ZTogZnVuY3Rpb24gKGJveCkge1xuXHRcdFx0XHRmb3IgKHZhciBwcm9wTmFtZSBpbiB0aGlzLm9wdGlvbmFsKSB7XG5cdFx0XHRcdFx0dmFyIHZhbHVlID0gYm94W3Byb3BOYW1lXTtcblx0XHRcdFx0XHRpZiAodmFsdWUpIHtcblx0XHRcdFx0XHRcdHRoaXMuYmluYXJ5LndyaXRlKHRoaXMub3B0aW9uYWxbcHJvcE5hbWVdLCB2YWx1ZSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSksICdDaGlsZEF0b21zJ10sXG5cblx0XHRBdWRpb1NhbXBsZUVudHJ5OiBbJ2V4dGVuZCcsICdTYW1wbGVFbnRyeScsIHtcblx0XHRcdF9yZXNlcnZlZDogWydza2lwJywgOF0sXG5cdFx0XHRjaGFubmVsY291bnQ6ICd1aW50MTYnLFxuXHRcdFx0c2FtcGxlc2l6ZTogJ3VpbnQxNicsXG5cdFx0XHRfcmVzZXJ2ZWQyOiBbJ3NraXAnLCA0XSxcblx0XHRcdHNhbXBsZXJhdGU6ICdSYXRlJ1xuXHRcdH0sICdDaGlsZEF0b21zJ10sXG5cblx0XHREeW5hbWljQXJyYXk6IGpCaW5hcnkuVGVtcGxhdGUoe1xuXHRcdFx0c2V0UGFyYW1zOiBmdW5jdGlvbiAobGVuZ3RoVHlwZSwgaXRlbVR5cGUpIHtcblx0XHRcdFx0dGhpcy5iYXNlVHlwZSA9IHtcblx0XHRcdFx0XHRsZW5ndGg6IGxlbmd0aFR5cGUsXG5cdFx0XHRcdFx0YXJyYXk6IFsnYXJyYXknLCBpdGVtVHlwZSwgJ2xlbmd0aCddXG5cdFx0XHRcdH07XG5cdFx0XHR9LFxuXHRcdFx0cmVhZDogZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5iYXNlUmVhZCgpLmFycmF5O1xuXHRcdFx0fSxcblx0XHRcdHdyaXRlOiBmdW5jdGlvbiAoYXJyYXkpIHtcblx0XHRcdFx0dGhpcy5iYXNlV3JpdGUoe1xuXHRcdFx0XHRcdGxlbmd0aDogYXJyYXkubGVuZ3RoLFxuXHRcdFx0XHRcdGFycmF5OiBhcnJheVxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9KSxcblxuXHRcdEFycmF5Qm94OiBqQmluYXJ5LlRlbXBsYXRlKHtcblx0XHRcdHNldFBhcmFtczogZnVuY3Rpb24gKGVudHJ5VHlwZSkge1xuXHRcdFx0XHR0aGlzLmJhc2VUeXBlID0gWydleHRlbmQnLCAnRnVsbEJveCcsIHtcblx0XHRcdFx0XHRlbnRyaWVzOiBbJ0R5bmFtaWNBcnJheScsICd1aW50MzInLCBlbnRyeVR5cGVdXG5cdFx0XHRcdH1dO1xuXHRcdFx0fVxuXHRcdH0pLFxuXG5cdFx0c3RzZDogWydBcnJheUJveCcsIGpCaW5hcnkuVGVtcGxhdGUoe1xuXHRcdFx0Z2V0QmFzZVR5cGU6IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0cmV0dXJuIHtzb3VuOiAnQXVkaW9TYW1wbGVFbnRyeScsIHZpZGU6ICdWaXN1YWxTYW1wbGVFbnRyeScsIG1ldGE6ICdCb3gnfVt0aGlzLmJpbmFyeS5nZXRDb250ZXh0KGF0b21GaWx0ZXIoJ3RyYWsnKSkuX2hhbmRsZXJfdHlwZV0gfHwgJ1NhbXBsZUVudHJ5Jztcblx0XHRcdH0sXG5cdFx0XHR3cml0ZTogZnVuY3Rpb24gKHZhbHVlKSB7XG5cdFx0XHRcdHZhciBwb3MgPSB0aGlzLmJpbmFyeS50ZWxsKCk7XG5cdFx0XHRcdHRoaXMuYmFzZVdyaXRlKHZhbHVlKTtcblx0XHRcdFx0dmFyIHNpemUgPSB0aGlzLmJpbmFyeS50ZWxsKCkgLSBwb3M7XG5cdFx0XHRcdHRoaXMuYmluYXJ5LnNlZWsocG9zLCBmdW5jdGlvbiAoKSB7IHRoaXMud3JpdGUoJ3VpbnQzMicsIHNpemUpIH0pO1xuXHRcdFx0fVxuXHRcdH0pXSxcblxuXHRcdHN0ZHA6IFsnZXh0ZW5kJywgJ0Z1bGxCb3gnLCB7XG5cdFx0XHRwcmlvcml0aWVzOiBbJ2FycmF5JywgJ3VpbnQxNicsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuYmluYXJ5LmdldENvbnRleHQoYXRvbUZpbHRlcignc3RibCcpKS5fc2FtcGxlX2NvdW50IH1dXG5cdFx0fV0sXG5cblx0XHRzdHNsOiBbJ2V4dGVuZCcsICdGdWxsQm94Jywge1xuXHRcdFx0X3Jlc2VydmVkOiA3LFxuXHRcdFx0Y29uc3RyYWludF9mbGFnOiAnYm9vbCcsXG5cdFx0XHRzY2FsZV9tZXRob2Q6IFsnZW51bScsICd1aW50OCcsIFtmYWxzZSwgJ2ZpbGwnLCAnaGlkZGVuJywgJ21lZXQnLCAnc2xpY2UteCcsICdzbGljZS15J11dLFxuXHRcdFx0ZGlzcGxheV9jZW50ZXI6IFsnRGltZW5zaW9ucycsICdpbnQxNiddXG5cdFx0fV0sXG5cblx0XHRzdHRzOiBbJ0FycmF5Qm94Jywge1xuXHRcdFx0c2FtcGxlX2NvdW50OiAndWludDMyJyxcblx0XHRcdHNhbXBsZV9kZWx0YTogJ3VpbnQzMidcblx0XHR9XSxcblxuXHRcdGN0dHM6IFsnQXJyYXlCb3gnLCB7XG5cdFx0XHRzYW1wbGVfY291bnQ6ICd1aW50MzInLFxuXHRcdFx0c2FtcGxlX29mZnNldDogJ3VpbnQzMidcblx0XHR9XSxcblxuXHRcdHN0c3M6IFsnQXJyYXlCb3gnLCAndWludDMyJ10sXG5cblx0XHRzdHNoOiBbJ0FycmF5Qm94Jywge1xuXHRcdFx0c2hhZG93ZWRfc2FtcGxlX251bWJlcjogJ3VpbnQzMicsXG5cdFx0XHRzeW5jX3NhbXBsZV9udW1iZXI6ICd1aW50MzInXG5cdFx0fV0sXG5cblx0XHRFeHRlbmRlZEJvb2xlYW46IFsnZW51bScsIDIsIFt1bmRlZmluZWQsIHRydWUsIGZhbHNlXV0sXG5cblx0XHRzZHRwOiBbJ2V4dGVuZCcsICdGdWxsQm94Jywge1xuXHRcdFx0ZGVwZW5kZW5jaWVzOiBbJ2FycmF5Jywge1xuXHRcdFx0XHRfcmVzZXJ2ZWQ6IDIsXG5cdFx0XHRcdHNhbXBsZV9kZXBlbmRzX29uOiAnRXh0ZW5kZWRCb29sZWFuJyxcblx0XHRcdFx0c2FtcGxlX2lzX2RlcGVuZGVkX29uOiAnRXh0ZW5kZWRCb29sZWFuJyxcblx0XHRcdFx0c2FtcGxlX2hhc19yZWR1bmRhbmN5OiAnRXh0ZW5kZWRCb29sZWFuJ1xuXHRcdFx0fSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5iaW5hcnkuZ2V0Q29udGV4dChhdG9tRmlsdGVyKCdzdGJsJykpLl9zYW1wbGVfY291bnQgfV1cblx0XHR9XSxcblxuXHRcdGVkdHM6ICdNdWx0aUJveCcsXG5cblx0XHRlbHN0OiBbJ0FycmF5Qm94Jywge1xuXHRcdFx0c2VnbWVudF9kdXJhdGlvbjogJ0ZCVWludCcsXG5cdFx0XHRtZWRpYV90aW1lOiBbJ0ZCVmVyc2lvbmFibGUnLCAnaW50MzInLCAnaW50NjQnXSxcblx0XHRcdG1lZGlhX3JhdGU6ICdSYXRlJ1xuXHRcdH1dLFxuXG5cdFx0ZGluZjogJ011bHRpQm94JyxcblxuXHRcdCd1cmwgJzogWydleHRlbmQnLCAnRnVsbEJveCcsIHtcblx0XHRcdGxvY2F0aW9uOiAnc3RyaW5nMCdcblx0XHR9XSxcblxuXHRcdCd1cm4gJzogWydleHRlbmQnLCAnRnVsbEJveCcsIHtcblx0XHRcdG5hbWU6ICdzdHJpbmcwJyxcblx0XHRcdGxvY2F0aW9uOiAnc3RyaW5nMCdcblx0XHR9XSxcblxuXHRcdGRyZWY6IFsnQXJyYXlCb3gnLCAnQm94J10sXG5cblx0XHRzdHN6OiBbJ2V4dGVuZCcsICdGdWxsQm94Jywge1xuXHRcdFx0c2FtcGxlX3NpemU6ICd1aW50MzInLFxuXHRcdFx0c2FtcGxlX2NvdW50OiAndWludDMyJyxcblx0XHRcdF9zYW1wbGVfY291bnRfdG9fc3RibDogZnVuY3Rpb24gKGNvbnRleHQpIHtcblx0XHRcdFx0dGhpcy5iaW5hcnkuZ2V0Q29udGV4dChhdG9tRmlsdGVyKCdzdGJsJykpLl9zYW1wbGVfY291bnQgPSBjb250ZXh0LnNhbXBsZV9jb3VudDtcblx0XHRcdH0sXG5cdFx0XHRzYW1wbGVfc2l6ZXM6IFsnaWZfbm90JywgJ3NhbXBsZV9zaXplJyxcblx0XHRcdFx0WydhcnJheScsICd1aW50MzInLCAnc2FtcGxlX2NvdW50J11cblx0XHRcdF1cblx0XHR9XSxcblxuXHRcdHN0ejI6IFsnZXh0ZW5kJywgJ0Z1bGxCb3gnLCB7XG5cdFx0XHRfcmVzZXJ2ZWQ6IFsnc2tpcCcsIDNdLFxuXHRcdFx0ZmllbGRfc2l6ZTogJ3VpbnQ4Jyxcblx0XHRcdHNhbXBsZV9jb3VudDogJ3VpbnQzMicsXG5cdFx0XHRfc2FtcGxlX2NvdW50X3RvX3N0Ymw6IGZ1bmN0aW9uIChjb250ZXh0KSB7XG5cdFx0XHRcdHRoaXMuYmluYXJ5LmdldENvbnRleHQoYXRvbUZpbHRlcignc3RibCcpKS5fc2FtcGxlX2NvdW50ID0gY29udGV4dC5zYW1wbGVfY291bnQ7XG5cdFx0XHR9LFxuXHRcdFx0c2FtcGxlX3NpemVzOiBbXG5cdFx0XHRcdCdhcnJheScsXG5cdFx0XHRcdGpCaW5hcnkuVGVtcGxhdGUoe1xuXHRcdFx0XHRcdGdldEJhc2VUeXBlOiBmdW5jdGlvbiAoY29udGV4dCkgeyByZXR1cm4gY29udGV4dC5maWVsZF9zaXplIH1cblx0XHRcdFx0fSksXG5cdFx0XHRcdCdzYW1wbGVfY291bnQnXG5cdFx0XHRdXG5cdFx0fV0sXG5cblx0XHRzdHNjOiBbJ0FycmF5Qm94Jywge1xuXHRcdFx0Zmlyc3RfY2h1bms6ICd1aW50MzInLFxuXHRcdFx0c2FtcGxlc19wZXJfY2h1bms6ICd1aW50MzInLFxuXHRcdFx0c2FtcGxlX2Rlc2NyaXB0aW9uX2luZGV4OiAndWludDMyJ1xuXHRcdH1dLFxuXG5cdFx0c3RjbzogWydBcnJheUJveCcsICd1aW50MzInXSxcblxuXHRcdGNvNjQ6IFsnQXJyYXlCb3gnLCAndWludDY0J10sXG5cblx0XHRwYWRiOiBbJ2V4dGVuZCcsICdGdWxsQm94Jywge1xuXHRcdFx0cGFkczogWydEeW5hbWljQXJyYXknLCAndWludDMyJywgakJpbmFyeS5UZW1wbGF0ZSh7XG5cdFx0XHRcdGJhc2VUeXBlOiB7XG5cdFx0XHRcdFx0X3NraXA6IFsnY29uc3QnLCAxLCAwXSxcblx0XHRcdFx0XHRwYWQ6IDNcblx0XHRcdFx0fSxcblx0XHRcdFx0cmVhZDogZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdHJldHVybiB0aGlzLmJhc2VSZWFkKCkucGFkO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHR3cml0ZTogZnVuY3Rpb24gKHBhZCkge1xuXHRcdFx0XHRcdHRoaXMuYmFzZVdyaXRlKHtwYWQ6IHBhZH0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9KV1cblx0XHR9XSxcblxuXHRcdHN1YnM6IFsnQXJyYXlCb3gnLCB7XG5cdFx0XHRzYW1wbGVfZGVsdGE6ICd1aW50MzInLFxuXHRcdFx0c3Vic2FtcGxlczogWydEeW5hbWljQXJyYXknLCAndWludDE2Jywge1xuXHRcdFx0XHRzdWJzYW1wbGVfc2l6ZTogWydGQlZlcnNpb25hYmxlJywgJ3VpbnQxNicsICd1aW50MzInXSxcblx0XHRcdFx0c3Vic2FtcGxlX3ByaW9yaXR5OiAndWludDgnLFxuXHRcdFx0XHRkaXNjYXJkYWJsZTogJ3VpbnQ4Jyxcblx0XHRcdFx0X3Jlc2VydmVkOiBbJ3NraXAnLCA0XVxuXHRcdFx0fV1cblx0XHR9XSxcblxuXHRcdG12ZXg6ICdNdWx0aUJveCcsXG5cblx0XHRtZWhkOiBbJ2V4dGVuZCcsICdGdWxsQm94Jywge1xuXHRcdFx0ZnJhZ21lbnRfZHVyYXRpb246ICdGQlVpbnQnXG5cdFx0fV0sXG5cblx0XHRlc2RzX3NlY3Rpb246IFsnZXh0ZW5kJywge1xuXHRcdFx0ZGVzY3JpcHRvcl90eXBlOiAndWludDgnLFxuXHRcdFx0ZXh0X3R5cGU6IGpCaW5hcnkuVHlwZSh7XG5cdFx0XHRcdHJlYWQ6IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHR2YXIgbmV4dF9ieXRlID0gdGhpcy5iaW5hcnkucmVhZCgndWludDgnKTtcblx0XHRcdFx0XHRpZiAobmV4dF9ieXRlID09PSAweDgwIHx8IG5leHRfYnl0ZSA9PT0gMHg4MSB8fCBuZXh0X2J5dGUgPT09IDB4RkUpIHtcblx0XHRcdFx0XHRcdHRoaXMuYmluYXJ5LnNraXAoMik7XG5cdFx0XHRcdFx0XHRyZXR1cm4gbmV4dF9ieXRlO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHR0aGlzLmJpbmFyeS5za2lwKC0xKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sXG5cdFx0XHRcdHdyaXRlOiBmdW5jdGlvbiAoZmlsbGVyKSB7XG5cdFx0XHRcdFx0aWYgKGZpbGxlciAhPT0gdW5kZWZpbmVkKSB0aGlzLmJpbmFyeS53cml0ZSgnYmxvYicsIFtmaWxsZXIsIGZpbGxlciwgZmlsbGVyXSk7XG5cdFx0XHRcdH1cblx0XHRcdH0pLFxuXHRcdFx0bGVuZ3RoOiAndWludDgnXG5cdFx0fSwgakJpbmFyeS5UZW1wbGF0ZSh7XG5cdFx0XHRnZXRCYXNlVHlwZTogZnVuY3Rpb24gKGNvbnRleHQpIHtcblx0XHRcdFx0c3dpdGNoIChjb250ZXh0LmRlc2NyaXB0b3JfdHlwZSkge1xuXHRcdFx0XHRcdGNhc2UgMzogcmV0dXJuIHtcblx0XHRcdFx0XHRcdGVzX2lkOiAndWludDE2Jyxcblx0XHRcdFx0XHRcdHN0cmVhbV9wcmlvcml0eTogJ3VpbnQ4J1xuXHRcdFx0XHRcdH07XG5cblx0XHRcdFx0XHRjYXNlIDQ6IHJldHVybiB7XG5cdFx0XHRcdFx0XHR0eXBlOiBbJ2VudW0nLCAndWludDgnLCB7XG5cdFx0XHRcdFx0XHRcdDE6ICd2MScsXG5cdFx0XHRcdFx0XHRcdDI6ICd2MicsXG5cdFx0XHRcdFx0XHRcdDMyOiAnbXBlZzRfdmlkZW8nLFxuXHRcdFx0XHRcdFx0XHQzMzogJ21wZWc0X2F2Y19zcHMnLFxuXHRcdFx0XHRcdFx0XHQzNDogJ21wZWc0X2F2Y19wcHMnLFxuXHRcdFx0XHRcdFx0XHQ2NDogJ21wZWc0X2F1ZGlvJyxcblx0XHRcdFx0XHRcdFx0OTY6ICdtcGVnMl9zaW1wbGVfdmlkZW8nLFxuXHRcdFx0XHRcdFx0XHQ5NzogJ21wZWcyX21haW5fdmlkZW8nLFxuXHRcdFx0XHRcdFx0XHQ5ODogJ21wZWcyX3Nucl92aWRlbycsXG5cdFx0XHRcdFx0XHRcdDk5OiAnbXBlZzJfc3BhdGlhbF92aWRlbycsXG5cdFx0XHRcdFx0XHRcdDEwMDogJ21wZWcyX2hpZ2hfdmlkZW8nLFxuXHRcdFx0XHRcdFx0XHQxMDE6ICdtcGVnMl80MjJfdmlkZW8nLFxuXHRcdFx0XHRcdFx0XHQxMDI6ICdtcGVnNF9hZHRzX21haW4nLFxuXHRcdFx0XHRcdFx0XHQxMDM6ICdtcGVnNF9hZHRzX2xvd19jb21wbGV4aXR5Jyxcblx0XHRcdFx0XHRcdFx0MTA0OiAnbXBlZzRfYWR0c19zY2FsZWFibGVfc2FtcGxpbmcnLFxuXHRcdFx0XHRcdFx0XHQxMDU6ICdtcGVnMl9hZHRzX21haW4nLFxuXHRcdFx0XHRcdFx0XHQxMDY6ICdtcGVnMV92aWRlbycsXG5cdFx0XHRcdFx0XHRcdDEwNzogJ21wZWcxX2FkdHMnLFxuXHRcdFx0XHRcdFx0XHQxMDg6ICdqcGVnX3ZpZGVvJyxcblx0XHRcdFx0XHRcdFx0MTkyOiAncHJpdmF0ZV9hdWRpbycsXG5cdFx0XHRcdFx0XHRcdDIwODogJ3ByaXZhdGVfdmlkZW8nLFxuXHRcdFx0XHRcdFx0XHQyMjQ6ICdwY21fbGl0dGxlX2VuZGlhbl9hdWRpbycsXG5cdFx0XHRcdFx0XHRcdDIyNTogJ3ZvcmJpc19hdWRpbycsXG5cdFx0XHRcdFx0XHRcdDIyNjogJ2RvbGJ5X3YzX2F1ZGlvJyxcblx0XHRcdFx0XHRcdFx0MjI3OiAnYWxhd19hdWRpbycsXG5cdFx0XHRcdFx0XHRcdDIyODogJ211bGF3X2F1ZGlvJyxcblx0XHRcdFx0XHRcdFx0MjI5OiAnYWRwY21fYXVkaW8nLFxuXHRcdFx0XHRcdFx0XHQyMzA6ICdwY21fYmlnX2VuZGlhbl9hdWRpbycsXG5cdFx0XHRcdFx0XHRcdDI0MDogJ3l2MTJfdmlkZW8nLFxuXHRcdFx0XHRcdFx0XHQyNDE6ICdoMjY0X3ZpZGVvJyxcblx0XHRcdFx0XHRcdFx0MjQyOiAnaDI2M192aWRlbycsXG5cdFx0XHRcdFx0XHRcdDI0MzogJ2gyNjFfdmlkZW8nXG5cdFx0XHRcdFx0XHR9XSxcblx0XHRcdFx0XHRcdHN0cmVhbV90eXBlOiBbJ2VudW0nLCA2LCBbXG5cdFx0XHRcdFx0XHRcdG51bGwsXG5cdFx0XHRcdFx0XHRcdCdvYmplY3QnLFxuXHRcdFx0XHRcdFx0XHQnY2xvY2snLFxuXHRcdFx0XHRcdFx0XHQnc2NlbmUnLFxuXHRcdFx0XHRcdFx0XHQndmlzdWFsJyxcblx0XHRcdFx0XHRcdFx0J2F1ZGlvJyxcblx0XHRcdFx0XHRcdFx0J21wZWctNycsXG5cdFx0XHRcdFx0XHRcdCdpcG1wJyxcblx0XHRcdFx0XHRcdFx0J29jaScsXG5cdFx0XHRcdFx0XHRcdCdtcGVnLWphdmEnXG5cdFx0XHRcdFx0XHRdXSxcblx0XHRcdFx0XHRcdHVwc3RyZWFtX2ZsYWc6IDEsXG5cdFx0XHRcdFx0XHRfcmVzZXJ2ZWQ6IFsnY29uc3QnLCAxLCAxXSxcblx0XHRcdFx0XHRcdGJ1ZmZlcl9zaXplOiAyNCxcblx0XHRcdFx0XHRcdG1heEJpdHJhdGU6ICd1aW50MzInLFxuXHRcdFx0XHRcdFx0YXZnQml0cmF0ZTogJ3VpbnQzMidcblx0XHRcdFx0XHR9O1xuXG5cdFx0XHRcdFx0Y2FzZSA1OiByZXR1cm4ge1xuXHRcdFx0XHRcdFx0YXVkaW9fcHJvZmlsZTogWydlbnVtJywgNSwgW1xuXHRcdFx0XHRcdFx0XHRudWxsLFxuXHRcdFx0XHRcdFx0XHQnYWFjLW1haW4nLFxuXHRcdFx0XHRcdFx0XHQnYWFjLWxjJyxcblx0XHRcdFx0XHRcdFx0J2FhYy1zc3InLFxuXHRcdFx0XHRcdFx0XHQnYWFjLWx0cCcsXG5cdFx0XHRcdFx0XHRcdCdzYnInLFxuXHRcdFx0XHRcdFx0XHQnYWFjLXNjYWxhYmxlJyxcblx0XHRcdFx0XHRcdFx0J3R3aW52cScsXG5cdFx0XHRcdFx0XHRcdCdjZWxwJyxcblx0XHRcdFx0XHRcdFx0J2h4dmMnLFxuXHRcdFx0XHRcdFx0XHRudWxsLFxuXHRcdFx0XHRcdFx0XHRudWxsLFxuXHRcdFx0XHRcdFx0XHQndHRzaScsXG5cdFx0XHRcdFx0XHRcdCdtYWluLXN5bnRoZXNpcycsXG5cdFx0XHRcdFx0XHRcdCd3YXZldGFibGUtc3ludGhlc2lzJyxcblx0XHRcdFx0XHRcdFx0J2dlbmVyYWwtbWlkaScsXG5cdFx0XHRcdFx0XHRcdCdhbGdvcml0aG1pYy1zeW50aGVzaXMtYW5kLWF1ZGlvLWVmZmVjdHMnLFxuXHRcdFx0XHRcdFx0XHQnZXItYWFjLWxjJyxcblx0XHRcdFx0XHRcdFx0J3Jlc2VydmVkJyxcblx0XHRcdFx0XHRcdFx0J2VyLWFhYy1sdHAnLFxuXHRcdFx0XHRcdFx0XHQnZXItYWFjLXNjYWxhYmxlJyxcblx0XHRcdFx0XHRcdFx0J2VyLXR3aW52cScsXG5cdFx0XHRcdFx0XHRcdCdlci1ic2FjJyxcblx0XHRcdFx0XHRcdFx0J2VyLWFhYy1sZCcsXG5cdFx0XHRcdFx0XHRcdCdlci1jZWxwJyxcblx0XHRcdFx0XHRcdFx0J2VyLWh2eGMnLFxuXHRcdFx0XHRcdFx0XHQnZXItaGlsbicsXG5cdFx0XHRcdFx0XHRcdCdlci1wYXJhbWV0cmljJyxcblx0XHRcdFx0XHRcdFx0J3NzYycsXG5cdFx0XHRcdFx0XHRcdCdwcycsXG5cdFx0XHRcdFx0XHRcdCdtcGVnLXN1cnJvdW5kJ1xuXHRcdFx0XHRcdFx0XV0sXG5cdFx0XHRcdFx0XHRzYW1wbGluZ19mcmVxOiBqQmluYXJ5LlR5cGUoe1xuXHRcdFx0XHRcdFx0XHRzZXRQYXJhbXM6IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRcdFx0XHR0aGlzLmZyZXFMaXN0ID0gWzk2MDAwLCA4ODIwMCwgNjQwMDAsIDQ4MDAwLCA0NDEwMCwgMzIwMDAsIDI0MDAwLCAyMjA1MCwgMTYwMDAsIDEyMDAwLCAxMTAyNSwgODAwMCwgNzM1MF07XG5cdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdHJlYWQ6IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRcdFx0XHR2YXIgZnJlcUluZGV4ID0gdGhpcy5iaW5hcnkucmVhZCg0KTtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gZnJlcUluZGV4ICE9PSAxNSA/IHRoaXMuZnJlcUxpc3RbZnJlcUluZGV4XSA6IHRoaXMuYmluYXJ5LnJlYWQoMjQpO1xuXHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHR3cml0ZTogZnVuY3Rpb24gKHZhbHVlKSB7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIGZyZXFJbmRleCA9IHRoaXMuZnJlcUxpc3QuaW5kZXhPZih2YWx1ZSk7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKGZyZXFJbmRleCAhPT0gLTEpIHtcblx0XHRcdFx0XHRcdFx0XHRcdHRoaXMuYmluYXJ5LndyaXRlKDQsIGZyZXFJbmRleCk7XG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRcdHRoaXMuYmluYXJ5LndyaXRlKDQsIDE1KTtcblx0XHRcdFx0XHRcdFx0XHRcdHRoaXMuYmluYXJ5LndyaXRlKDI0LCB2YWx1ZSk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9KSxcblx0XHRcdFx0XHRcdGNoYW5uZWxDb25maWc6IDQsXG5cdFx0XHRcdFx0XHRmcmFtZUxlbmd0aDogWydlbnVtJywgMSwgWzEwMjQsIDk2MF1dLFxuXHRcdFx0XHRcdFx0ZGVwZW5kc09uQ29yZUNvZGVyOiAxLFxuXHRcdFx0XHRcdFx0ZXh0ZW5zaW9uRmxhZzogMVxuXHRcdFx0XHRcdH07XG5cblx0XHRcdFx0XHRjYXNlIDY6IHJldHVybiB7XG5cdFx0XHRcdFx0XHRzbDogWydjb25zdCcsICd1aW50OCcsIDJdXG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0pXSxcblxuXHRcdGVzZHM6IFsnZXh0ZW5kJywgJ0Z1bGxCb3gnLCB7XG5cdFx0XHRzZWN0aW9uczogakJpbmFyeS5UZW1wbGF0ZSh7XG5cdFx0XHRcdGJhc2VUeXBlOiAnZXNkc19zZWN0aW9uJyxcblx0XHRcdFx0cmVhZDogZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdHZhciBlbmQgPSB0aGlzLmJpbmFyeS5nZXRDb250ZXh0KCdfZW5kJykuX2VuZCwgc2VjdGlvbnMgPSBbXTtcblx0XHRcdFx0XHR3aGlsZSAodGhpcy5iaW5hcnkudGVsbCgpIDwgZW5kKSB7XG5cdFx0XHRcdFx0XHRzZWN0aW9ucy5wdXNoKHRoaXMuYmFzZVJlYWQoKSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiBzZWN0aW9ucztcblx0XHRcdFx0fSxcblx0XHRcdFx0d3JpdGU6IGZ1bmN0aW9uIChzZWN0aW9ucykge1xuXHRcdFx0XHRcdGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBzZWN0aW9ucy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuXHRcdFx0XHRcdFx0dGhpcy5iYXNlV3JpdGUoc2VjdGlvbnNbaV0pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSlcblx0XHR9XSxcblxuXHRcdEZpbGU6IFsnQXRvbXMnLCBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLmJpbmFyeS52aWV3LmJ5dGVMZW5ndGggfV1cblx0fTtcbn0pKTtcbiIsIihmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSkge1xuICAgIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICAgICAgLy8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLlxuICAgICAgICBkZWZpbmUoWydqYmluYXJ5J10sIGZhY3RvcnkpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIC8vIE5vZGUuIERvZXMgbm90IHdvcmsgd2l0aCBzdHJpY3QgQ29tbW9uSlMsIGJ1dFxuICAgICAgICAvLyBvbmx5IENvbW1vbkpTLWxpa2UgZW52aXJvbm1lbnRzIHRoYXQgc3VwcG9ydCBtb2R1bGUuZXhwb3J0cyxcbiAgICAgICAgLy8gbGlrZSBOb2RlLlxuICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZSgnamJpbmFyeScpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBCcm93c2VyIGdsb2JhbHMgKHJvb3QgaXMgd2luZG93KVxuICAgICAgICByb290Lk1QRUdUUyA9IGZhY3Rvcnkocm9vdC5qQmluYXJ5KTtcbiAgICB9XG59KHRoaXMsIGZ1bmN0aW9uIChqQmluYXJ5KSB7XG5cdCd1c2Ugc3RyaWN0JztcblxuXHRyZXR1cm4ge1xuXHRcdFBDUjoge1xuXHRcdFx0cHRzOiAzMyxcblx0XHRcdF9yZXNlcnZlZDogNixcblx0XHRcdGV4dGVuc2lvbjogOVxuXHRcdH0sXG5cblx0XHREeW5hbWljQXJyYXk6IGpCaW5hcnkuVGVtcGxhdGUoe1xuXHRcdFx0c2V0UGFyYW1zOiBmdW5jdGlvbiAobGVuZ3RoVHlwZSwgaXRlbVR5cGUpIHtcblx0XHRcdFx0dGhpcy5iYXNlVHlwZSA9IHtcblx0XHRcdFx0XHRsZW5ndGg6IGxlbmd0aFR5cGUsXG5cdFx0XHRcdFx0YXJyYXk6IFsnYXJyYXknLCBpdGVtVHlwZSwgJ2xlbmd0aCddXG5cdFx0XHRcdH07XG5cdFx0XHR9LFxuXHRcdFx0cmVhZDogZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5iYXNlUmVhZCgpLmFycmF5O1xuXHRcdFx0fSxcblx0XHRcdHdyaXRlOiBmdW5jdGlvbiAoYXJyYXkpIHtcblx0XHRcdFx0dGhpcy5iYXNlV3JpdGUoe1xuXHRcdFx0XHRcdGxlbmd0aDogYXJyYXkubGVuZ3RoLFxuXHRcdFx0XHRcdGFycmF5OiBhcnJheVxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9KSxcblxuXHRcdEZpZWxkOiBbJ0R5bmFtaWNBcnJheScsICd1aW50OCcsICd1aW50OCddLFxuXG5cdFx0RmxhZzogakJpbmFyeS5UZW1wbGF0ZSh7XG5cdFx0XHRiYXNlVHlwZTogMSxcblx0XHRcdHBhcmFtczogWydkZXBlbmRlbnRGaWVsZCddLFxuXHRcdFx0d3JpdGU6IGZ1bmN0aW9uICh2YWx1ZSwgY29udGV4dCkge1xuXHRcdFx0XHR0aGlzLmJhc2VXcml0ZSh0aGlzLmRlcGVuZGVudEZpZWxkIGluIGNvbnRleHQgPyAxIDogMCk7XG5cdFx0XHR9XG5cdFx0fSksXG5cblx0XHRGbGFnRGVwZW5kZW50OiBqQmluYXJ5LlRlbXBsYXRlKHtcblx0XHRcdHBhcmFtczogWydmbGFnRmllbGQnLCAnYmFzZVR5cGUnXSxcblx0XHRcdHJlYWQ6IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMuYmluYXJ5LnJlYWQoWydpZicsIHRoaXMuZmxhZ0ZpZWxkLCB0aGlzLmJhc2VUeXBlXSk7XG5cdFx0XHR9XG5cdFx0fSksXG5cblx0XHRBZGFwdGF0aW9uRmllbGQ6IHtcblx0XHRcdGxlbmd0aDogJ3VpbnQ4Jyxcblx0XHRcdF9lbmRPZjogZnVuY3Rpb24gKGNvbnRleHQpIHsgcmV0dXJuIHRoaXMuYmluYXJ5LnRlbGwoKSArIGNvbnRleHQubGVuZ3RoIH0sXG5cdFx0XHRkaXNjb250aW51aXR5OiAxLFxuXHRcdFx0cmFuZG9tQWNjZXNzOiAxLFxuXHRcdFx0cHJpb3JpdHk6IDEsXG5cdFx0XHRfaGFzUENSOiBbJ0ZsYWcnLCAncGNyJ10sXG5cdFx0XHRfaGFzT1BDUjogWydGbGFnJywgJ29wY3InXSxcblx0XHRcdF9oYXNTcGxpY2luZ1BvaW50OiBbJ0ZsYWcnLCAnc3BsaWNlQ291bnRkb3duJ10sXG5cdFx0XHRfaGFzVHJhbnNwb3J0UHJpdmF0ZURhdGE6IFsnRmxhZycsICdwcml2YXRlRGF0YSddLFxuXHRcdFx0X2hhc0V4dGVuc2lvbjogWydGbGFnJywgJ2V4dGVuc2lvbiddLFxuXHRcdFx0cGNyOiBbJ0ZsYWdEZXBlbmRlbnQnLCAnX2hhc1BDUicsICdQQ1InXSxcblx0XHRcdG9wY3I6IFsnRmxhZ0RlcGVuZGVudCcsICdfaGFzT1BDUicsICdQQ1InXSxcblx0XHRcdHNwbGljZUNvdW50ZG93bjogWydGbGFnRGVwZW5kZW50JywgJ19oYXNTcGxpY2luZ1BvaW50JywgJ3VpbnQ4J10sXG5cdFx0XHRwcml2YXRlRGF0YTogWydGbGFnRGVwZW5kZW50JywgJ19oYXNUcmFuc3BvcnRQcml2YXRlRGF0YScsICdGaWVsZCddLFxuXHRcdFx0ZXh0ZW5zaW9uOiBbJ0ZsYWdEZXBlbmRlbnQnLCAnX2hhc0V4dGVuc2lvbicsICdGaWVsZCddLFxuXHRcdFx0X3RvRW5kOiBmdW5jdGlvbiAoY29udGV4dCkgeyB0aGlzLmJpbmFyeS5zZWVrKGNvbnRleHQuX2VuZE9mKSB9XG5cdFx0fSxcblxuXHRcdEVTOiB7XG5cdFx0XHRfcmF3U3RyZWFtOiBbJ2Jsb2InLCBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLmJpbmFyeS5nZXRDb250ZXh0KDEpLl9lbmRvZiAtIHRoaXMuYmluYXJ5LnRlbGwoKSB9XVxuXHRcdH0sXG5cblx0XHRQQVRJdGVtOiBbJ2FycmF5Jywge1xuXHRcdFx0cHJvZ3JhbU51bWJlcjogJ3VpbnQxNicsXG5cdFx0XHRfcmVzZXJ2ZWQ6IDMsXG5cdFx0XHRwaWQ6IDEzXG5cdFx0fSwgZnVuY3Rpb24gKGNvbnRleHQpIHsgcmV0dXJuIGNvbnRleHQuX2RhdGFMZW5ndGggLyA0IH1dLFxuXG5cdFx0UE1USGVhZGVyOiB7XG5cdFx0XHRfcmVzZXJ2ZWQ6IDMsXG5cdFx0XHRwY3JQSUQ6IDEzLFxuXHRcdFx0X3Jlc2VydmVkMjogNCxcblx0XHRcdHByb2dyYW1EZXNjcmlwdG9yczogWydEeW5hbWljQXJyYXknLCAxMiwgJ3VpbnQ4J11cblx0XHR9LFxuXG5cdFx0UE1USXRlbToge1xuXHRcdFx0c3RyZWFtVHlwZTogJ3VpbnQ4Jyxcblx0XHRcdF9yZXNlcnZlZDogMyxcblx0XHRcdGVsZW1lbnRhcnlQSUQ6IDEzLFxuXHRcdFx0X3Jlc2VydmVkMjogNCxcblx0XHRcdGVzSW5mbzogWydEeW5hbWljQXJyYXknLCAxMiwgJ3VpbnQ4J11cblx0XHR9LFxuXG5cdFx0UHJpdmF0ZVNlY3Rpb246IFsnZXh0ZW5kJywge1xuXHRcdFx0cG9pbnRlckZpZWxkOiBbJ2lmJywgJ3BheWxvYWRTdGFydCcsICd1aW50OCddLFxuXHRcdFx0dGFibGVJZDogWydlbnVtJywgJ3VpbnQ4JywgWydQQVQnLCAnQ0FUJywgJ1BNVCddXSxcblx0XHRcdGlzTG9uZ1NlY3Rpb246IDEsXG5cdFx0XHRpc1ByaXZhdGU6IDEsXG5cdFx0XHRfcmVzZXJ2ZWQ6IDIsXG5cdFx0XHRfc2VjdGlvbkxlbmd0aDogMTJcblx0XHR9LCBbJ2lmJywgJ2lzTG9uZ1NlY3Rpb24nLCB7XG5cdFx0XHRcdHRhYmxlSWRFeHQ6ICd1aW50MTYnLFxuXHRcdFx0XHRfcmVzZXJ2ZWQ6IDIsXG5cdFx0XHRcdHZlcnNpb25OdW1iZXI6IDUsXG5cdFx0XHRcdGN1cnJlbnROZXh0SW5kaWNhdG9yOiAxLFxuXHRcdFx0XHRzZWN0aW9uTnVtYmVyOiAndWludDgnLFxuXHRcdFx0XHRsYXN0U2VjdGlvbk51bWJlcjogJ3VpbnQ4JyxcblxuXHRcdFx0XHRfZGF0YUxlbmd0aDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5iaW5hcnkuZ2V0Q29udGV4dCgxKS5fc2VjdGlvbkxlbmd0aCAtIDkgfSxcblxuXHRcdFx0XHRkYXRhOiBqQmluYXJ5LlR5cGUoe1xuXHRcdFx0XHRcdHJlYWQ6IGZ1bmN0aW9uIChoZWFkZXIpIHtcblx0XHRcdFx0XHRcdHZhciBkYXRhLCBmaWxlID0gdGhpcy5iaW5hcnkuZ2V0Q29udGV4dCgzKSwgZGF0YUxlbmd0aCA9IGhlYWRlci5fZGF0YUxlbmd0aDtcblxuXHRcdFx0XHRcdFx0c3dpdGNoICh0aGlzLmJpbmFyeS5nZXRDb250ZXh0KDEpLnRhYmxlSWQpIHtcblx0XHRcdFx0XHRcdFx0Y2FzZSAnUEFUJzpcblx0XHRcdFx0XHRcdFx0XHRkYXRhID0gdGhpcy5iaW5hcnkucmVhZCgnUEFUSXRlbScpO1xuXG5cdFx0XHRcdFx0XHRcdFx0aWYgKGhlYWRlci5zZWN0aW9uTnVtYmVyID09IDApIHtcblx0XHRcdFx0XHRcdFx0XHRcdGZpbGUucGF0ID0ge307XG5cdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRmaWxlLnBhdFtkYXRhW2ldLnBpZF0gPSBkYXRhW2ldO1xuXHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdFx0XHRcdGNhc2UgJ1BNVCc6XG5cdFx0XHRcdFx0XHRcdFx0ZGF0YSA9IHRoaXMuYmluYXJ5LnJlYWQoJ1BNVEhlYWRlcicpO1xuXG5cdFx0XHRcdFx0XHRcdFx0ZGF0YS5tYXBwaW5ncyA9IFtdO1xuXG5cdFx0XHRcdFx0XHRcdFx0ZGF0YUxlbmd0aCAtPSA0ICsgZGF0YS5wcm9ncmFtRGVzY3JpcHRvcnMubGVuZ3RoO1xuXG5cdFx0XHRcdFx0XHRcdFx0d2hpbGUgKGRhdGFMZW5ndGggPiAwKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHR2YXIgbWFwcGluZyA9IHRoaXMuYmluYXJ5LnJlYWQoJ1BNVEl0ZW0nKTtcblx0XHRcdFx0XHRcdFx0XHRcdGRhdGEubWFwcGluZ3MucHVzaChtYXBwaW5nKTtcblx0XHRcdFx0XHRcdFx0XHRcdGRhdGFMZW5ndGggLT0gNSArIG1hcHBpbmcuZXNJbmZvLmxlbmd0aDtcblx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRpZiAoaGVhZGVyLnNlY3Rpb25OdW1iZXIgPT0gMCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0ZmlsZS5wbXQgPSB7fTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubWFwcGluZ3MubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHRcdFx0XHRcdHZhciBtYXBwaW5nID0gZGF0YS5tYXBwaW5nc1tpXTtcblx0XHRcdFx0XHRcdFx0XHRcdGZpbGUucG10W21hcHBpbmcuZWxlbWVudGFyeVBJRF0gPSBtYXBwaW5nO1xuXHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRyZXR1cm4gZGF0YTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pLFxuXG5cdFx0XHRcdGNyYzMyOiAndWludDMyJ1xuXHRcdFx0fSxcblx0XHRcdFsnYmxvYicsICdfc2VjdGlvbkxlbmd0aCddXG5cdFx0XV0sXG5cblx0XHRQYWNrZXQ6IHtcblx0XHRcdF9zdGFydG9mOiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLmJpbmFyeS50ZWxsKCkgfSxcblx0XHRcdF9lbmRvZjogZnVuY3Rpb24gKGNvbnRleHQpIHsgcmV0dXJuIGNvbnRleHQuX3N0YXJ0b2YgKyAxODggfSxcblxuXHRcdFx0X3N5bmNCeXRlOiBbJ2NvbnN0JywgJ3VpbnQ4JywgMHg0NywgdHJ1ZV0sXG5cblx0XHRcdHRyYW5zcG9ydEVycm9yOiAxLFxuXHRcdFx0cGF5bG9hZFN0YXJ0OiAxLFxuXHRcdFx0dHJhbnNwb3J0UHJpb3JpdHk6IDEsXG5cdFx0XHRwaWQ6IDEzLFxuXG5cdFx0XHRzY3JhbWJsaW5nQ29udHJvbDogMixcblx0XHRcdF9oYXNBZGFwdGF0aW9uRmllbGQ6IFsnRmxhZycsICdhZGFwdGF0aW9uRmllbGQnXSxcblx0XHRcdF9oYXNQYXlsb2FkOiBbJ0ZsYWcnLCAncGF5bG9hZCddLFxuXHRcdFx0Y29udENvdW50ZXI6IDQsXG5cblx0XHRcdGFkYXB0YXRpb25GaWVsZDogWydGbGFnRGVwZW5kZW50JywgJ19oYXNBZGFwdGF0aW9uRmllbGQnLCAnQWRhcHRhdGlvbkZpZWxkJ10sXG5cblx0XHRcdHBheWxvYWQ6IFsnRmxhZ0RlcGVuZGVudCcsICdfaGFzUGF5bG9hZCcsIGpCaW5hcnkuVGVtcGxhdGUoe1xuXHRcdFx0XHRnZXRCYXNlVHlwZTogZnVuY3Rpb24gKGNvbnRleHQpIHtcblx0XHRcdFx0XHR2YXIgcGlkID0gY29udGV4dC5waWQsIGZpbGUgPSB0aGlzLmJpbmFyeS5nZXRDb250ZXh0KDEpO1xuXHRcdFx0XHRcdGlmIChwaWQgPCAyIHx8IHBpZCBpbiBmaWxlLnBhdCkge1xuXHRcdFx0XHRcdFx0cmV0dXJuICdQcml2YXRlU2VjdGlvbic7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmIChwaWQgaW4gZmlsZS5wbXQpIHtcblx0XHRcdFx0XHRcdHJldHVybiAnRVMnO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSldLFxuXG5cdFx0XHRfdG9FbmQ6IGZ1bmN0aW9uIChjb250ZXh0KSB7IHRoaXMuYmluYXJ5LnNlZWsoY29udGV4dC5fZW5kb2YpIH1cblx0XHR9LFxuXG5cdFx0RmlsZTogakJpbmFyeS5UZW1wbGF0ZSh7XG5cdFx0XHRiYXNlVHlwZTogWydhcnJheScsICdQYWNrZXQnXSxcblx0XHRcdHJlYWQ6IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0dGhpcy5wYXQgPSB7fTtcblx0XHRcdFx0dGhpcy5wbXQgPSB7fTtcblx0XHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5iaW5hcnkuaW5Db250ZXh0KHRoaXMsIGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRyZXR1cm4gc2VsZi5iYXNlUmVhZCgpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH0sXG5cdFx0XHR3cml0ZTogZnVuY3Rpb24gKHBhY2tldHMpIHtcblx0XHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdFx0XHR0aGlzLmJpbmFyeS5pbkNvbnRleHQodGhpcywgZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdHNlbGYuYmFzZVdyaXRlKHBhY2tldHMpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9KVxuXHR9O1xufSkpOyIsIihmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSkge1xuICAgIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICAgICAgLy8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLlxuICAgICAgICBkZWZpbmUoWydqYmluYXJ5J10sIGZhY3RvcnkpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIC8vIE5vZGUuIERvZXMgbm90IHdvcmsgd2l0aCBzdHJpY3QgQ29tbW9uSlMsIGJ1dFxuICAgICAgICAvLyBvbmx5IENvbW1vbkpTLWxpa2UgZW52aXJvbm1lbnRzIHRoYXQgc3VwcG9ydCBtb2R1bGUuZXhwb3J0cyxcbiAgICAgICAgLy8gbGlrZSBOb2RlLlxuICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZSgnamJpbmFyeScpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBCcm93c2VyIGdsb2JhbHMgKHJvb3QgaXMgd2luZG93KVxuICAgICAgICByb290LlBFUyA9IGZhY3Rvcnkocm9vdC5qQmluYXJ5KTtcbiAgICB9XG59KHRoaXMsIGZ1bmN0aW9uIChqQmluYXJ5KSB7XG5cdCd1c2Ugc3RyaWN0JztcblxuXHRyZXR1cm4ge1xuXHRcdEZsYWc6IGpCaW5hcnkuVGVtcGxhdGUoe1xuXHRcdFx0YmFzZVR5cGU6IDEsXG5cdFx0XHRwYXJhbXM6IFsnZGVwZW5kZW50RmllbGQnXSxcblx0XHRcdHdyaXRlOiBmdW5jdGlvbiAodmFsdWUsIGNvbnRleHQpIHtcblx0XHRcdFx0dGhpcy5iYXNlV3JpdGUodGhpcy5kZXBlbmRlbnRGaWVsZCBpbiBjb250ZXh0ID8gMSA6IDApO1xuXHRcdFx0fVxuXHRcdH0pLFxuXG5cdFx0RmxhZ0RlcGVuZGVudDogakJpbmFyeS5UZW1wbGF0ZSh7XG5cdFx0XHRwYXJhbXM6IFsnZmxhZ0ZpZWxkJywgJ2Jhc2VUeXBlJ10sXG5cdFx0XHRyZWFkOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdHJldHVybiB0aGlzLmJpbmFyeS5yZWFkKFsnaWYnLCB0aGlzLmZsYWdGaWVsZCwgdGhpcy5iYXNlVHlwZV0pO1xuXHRcdFx0fVxuXHRcdH0pLFxuXG5cdFx0UEVTVGltZVN0YW1wOiBqQmluYXJ5LlRlbXBsYXRlKHtcblx0XHRcdHNldFBhcmFtczogZnVuY3Rpb24gKHByZWZpeCkge1xuXHRcdFx0XHR2YXIgc2tpcEJpdCA9IFsnY29uc3QnLCAxLCAxLCB0cnVlXTtcblx0XHRcdFx0dGhpcy5iYXNlVHlwZSA9IHtcblx0XHRcdFx0XHRfcHJlZml4OiBbJ2NvbnN0JywgNCwgcHJlZml4LCB0cnVlXSxcblx0XHRcdFx0XHRoaVBhcnQ6IDMsXG5cdFx0XHRcdFx0X3NraXAxOiBza2lwQml0LFxuXHRcdFx0XHRcdG1pZFBhcnQ6IDE1LFxuXHRcdFx0XHRcdF9za2lwMjogc2tpcEJpdCxcblx0XHRcdFx0XHRsb1BhcnQ6IDE1LFxuXHRcdFx0XHRcdF9za2lwMzogc2tpcEJpdFxuXHRcdFx0XHR9O1xuXHRcdFx0fSxcblx0XHRcdHJlYWQ6IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0dmFyIHBhcnRzID0gdGhpcy5iYXNlUmVhZCgpO1xuXHRcdFx0XHRyZXR1cm4gcGFydHMubG9QYXJ0IHwgKHBhcnRzLm1pZFBhcnQgPDwgMTUpIHwgKHBhcnRzLmhpUGFydCA8PCAzMCk7XG5cdFx0XHR9LFxuXHRcdFx0d3JpdGU6IGZ1bmN0aW9uICh2YWx1ZSkge1xuXHRcdFx0XHR0aGlzLmJhc2VXcml0ZSh7XG5cdFx0XHRcdFx0aGlQYXJ0OiB2YWx1ZSA+Pj4gMzAsXG5cdFx0XHRcdFx0bWlkUGFydDogKHZhbHVlID4+PiAxNSkgJiB+KC0xIDw8IDE1KSxcblx0XHRcdFx0XHRsb1BhcnQ6IHZhbHVlICYgfigtMSA8PCAxNSlcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fSksXG5cblx0XHRQRVNQYWNrZXQ6IFsnZXh0ZW5kJywge1xuXHRcdFx0X3N0YXJ0Q29kZTA6IFsnY29uc3QnLCAndWludDgnLCAwLCB0cnVlXSxcblx0XHRcdF9zdGFydENvZGUxOiBbJ2NvbnN0JywgJ3VpbnQ4JywgMCwgdHJ1ZV0sXG5cdFx0XHRfc3RhcnRDb2RlMjogWydjb25zdCcsICd1aW50OCcsIDEsIHRydWVdLFxuXHRcdFx0c3RyZWFtSWQ6ICd1aW50OCcsXG5cdFx0XHRsZW5ndGg6ICd1aW50MTYnLFxuXHRcdFx0X2VuZDogZnVuY3Rpb24gKGNvbnRleHQpIHtcblx0XHRcdFx0dmFyIHBvcyA9IHRoaXMuYmluYXJ5LnRlbGwoKSwgbGVuZ3RoID0gY29udGV4dC5sZW5ndGg7XG5cblx0XHRcdFx0aWYgKGxlbmd0aCkge1xuXHRcdFx0XHRcdHBvcyArPSBsZW5ndGg7XG5cdFx0XHRcdFx0aWYgKHBvcyA+IHRoaXMudmlldy5ieXRlTGVuZ3RoIC0gNCkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHBvcztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0dmFyIGJ5dGVzID0gdGhpcy5iaW5hcnkucmVhZChbJ2Jsb2InLCA0XSwgcG9zKTtcblx0XHRcdFx0XHRpZiAoYnl0ZXNbMF0gPT09IDAgJiYgYnl0ZXNbMV0gPT09IDAgJiYgYnl0ZXNbMl0gPT09IDEgJiYgKGJ5dGVzWzNdICYgMHg4MCkpIHtcblx0XHRcdFx0XHRcdHJldHVybiBwb3M7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHBvcyAtPSBsZW5ndGg7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvKlxuXHRcdFx0XHRub3Qgc3VyZSBpZiBpdCBjb3JyZWN0bHkgY292ZXJzIGNhc2VzIHdoZXJlIGBsZW5ndGhgPT0wXG5cdFx0XHRcdChhY2NvcmRpbmcgdG8gc3BlY2lmaWNhdGlvbiwgaXQgbWF5IGJlIHdyaXR0ZW4gYXMgemVybyBmb3IgdmlkZW8gc3RyZWFtcyBvZiB1bmRlZmluZWQgbGVuZ3RoKVxuXHRcdFx0XHRidXQgc2hvdWxkIHdvcmsgZm9yIEguMjY0IHN0cmVhbXMgc2luY2UgTkFMIHVuaXQgdHlwZXMgYWx3YXlzIGhhdmUgY2xlYXIgaGlnaGVzdCBiaXQgKGBmb3JiaWRkZW5femVyb19iaXRgKVxuXHRcdFx0XHQqL1xuXHRcdFx0XHR2YXIgZmlsZUVuZCA9IHRoaXMudmlldy5ieXRlTGVuZ3RoLCBieXRlcyA9IHRoaXMuYmluYXJ5LnJlYWQoJ2Jsb2InLCBwb3MpO1xuXHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGJ5dGVzLmxlbmd0aCAtIDQ7IGkrKykge1xuXHRcdFx0XHRcdGlmIChieXRlc1tpXSA9PT0gMCAmJiBieXRlc1tpICsgMV0gPT09IDAgJiYgYnl0ZXNbaSArIDJdID09PSAxICYmIChieXRlc1tpICsgM10gJiAweDgwKSkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHBvcyArIGk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBmaWxlRW5kO1xuXHRcdFx0fVxuXHRcdH0sIGpCaW5hcnkuVGVtcGxhdGUoe1xuXHRcdFx0YmFzZVR5cGU6IHtcblx0XHRcdFx0X21hcmtlcjogWydjb25zdCcsIDIsIDIsIHRydWVdLFxuXHRcdFx0XHRzY3JhbWJsaW5nQ29udHJvbDogWydlbnVtJywgMiwgWydub3Rfc2NyYW1ibGVkJ11dLFxuXHRcdFx0XHRwcmlvcml0eTogMSxcblx0XHRcdFx0ZGF0YUFsaWdubWVudEluZGljYXRvcjogMSxcblx0XHRcdFx0aGFzQ29weXJpZ2h0OiAxLFxuXHRcdFx0XHRpc09yaWdpbmFsOiAxLFxuXHRcdFx0XHRfaGFzUFRTOiBbJ0ZsYWcnLCAncHRzJ10sXG5cdFx0XHRcdF9oYXNEVFM6IFsnRmxhZycsICdkdHMnXSxcblx0XHRcdFx0X2hhc0VTQ1I6IFsnRmxhZycsICdlc2NyJ10sXG5cdFx0XHRcdF9oYXNFU1JhdGU6IFsnRmxhZycsICdlc1JhdGUnXSxcblx0XHRcdFx0ZHNtVHJpY2tNb2RlOiAxLFxuXHRcdFx0XHRfaGFzQWRkaXRpb25hbENvcHlJbmZvOiBbJ0ZsYWcnLCAnYWRkaXRpb25hbENvcHlJbmZvJ10sXG5cdFx0XHRcdF9oYXNQRVNDUkM6IFsnRmxhZycsICdwZXNDUkMnXSxcblx0XHRcdFx0X2hhc0V4dGVuc2lvbjogWydGbGFnJywgJ2V4dGVuc2lvbiddLFxuXHRcdFx0XHRkYXRhTGVuZ3RoOiAndWludDgnLFxuXHRcdFx0XHRfaGVhZGVyRW5kOiBmdW5jdGlvbiAoY29udGV4dCkgeyByZXR1cm4gdGhpcy5iaW5hcnkudGVsbCgpICsgY29udGV4dC5kYXRhTGVuZ3RoIH0sXG5cdFx0XHRcdHB0czogWydGbGFnRGVwZW5kZW50JywgJ19oYXNQVFMnLCBbJ2lmJywgJ19oYXNEVFMnLCBbJ1BFU1RpbWVTdGFtcCcsIDNdLCBbJ1BFU1RpbWVTdGFtcCcsIDJdXV0sXG5cdFx0XHRcdGR0czogWydGbGFnRGVwZW5kZW50JywgJ19oYXNEVFMnLCBbJ1BFU1RpbWVTdGFtcCcsIDFdXSxcblx0XHRcdFx0X3RvSGVhZGVyRW5kOiBmdW5jdGlvbiAoY29udGV4dCkgeyB0aGlzLmJpbmFyeS5zZWVrKGNvbnRleHQuX2hlYWRlckVuZCkgfVxuXHRcdFx0fSxcblx0XHRcdHJlYWQ6IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0dmFyIHBvcyA9IHRoaXMuYmluYXJ5LnRlbGwoKTtcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRyZXR1cm4gdGhpcy5iYXNlUmVhZCgpO1xuXHRcdFx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRcdFx0dGhpcy5iaW5hcnkuc2Vlayhwb3MpO1xuXHRcdFx0XHRcdHRoaXMuYmluYXJ5LnZpZXcuYWxpZ25CeSgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSksIHtcblx0XHRcdGRhdGE6IFsnYmxvYicsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuYmluYXJ5LmdldENvbnRleHQoJ19lbmQnKS5fZW5kIC0gdGhpcy5iaW5hcnkudGVsbCgpIH1dXG5cdFx0fV1cblx0fTtcbn0pKTsiLCIvKiEgaHR0cHM6Ly9tdGhzLmJlL3B1bnljb2RlIHYxLjQuMSBieSBAbWF0aGlhcyAqL1xuOyhmdW5jdGlvbihyb290KSB7XG5cblx0LyoqIERldGVjdCBmcmVlIHZhcmlhYmxlcyAqL1xuXHR2YXIgZnJlZUV4cG9ydHMgPSB0eXBlb2YgZXhwb3J0cyA9PSAnb2JqZWN0JyAmJiBleHBvcnRzICYmXG5cdFx0IWV4cG9ydHMubm9kZVR5cGUgJiYgZXhwb3J0cztcblx0dmFyIGZyZWVNb2R1bGUgPSB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZSAmJlxuXHRcdCFtb2R1bGUubm9kZVR5cGUgJiYgbW9kdWxlO1xuXHR2YXIgZnJlZUdsb2JhbCA9IHR5cGVvZiBnbG9iYWwgPT0gJ29iamVjdCcgJiYgZ2xvYmFsO1xuXHRpZiAoXG5cdFx0ZnJlZUdsb2JhbC5nbG9iYWwgPT09IGZyZWVHbG9iYWwgfHxcblx0XHRmcmVlR2xvYmFsLndpbmRvdyA9PT0gZnJlZUdsb2JhbCB8fFxuXHRcdGZyZWVHbG9iYWwuc2VsZiA9PT0gZnJlZUdsb2JhbFxuXHQpIHtcblx0XHRyb290ID0gZnJlZUdsb2JhbDtcblx0fVxuXG5cdC8qKlxuXHQgKiBUaGUgYHB1bnljb2RlYCBvYmplY3QuXG5cdCAqIEBuYW1lIHB1bnljb2RlXG5cdCAqIEB0eXBlIE9iamVjdFxuXHQgKi9cblx0dmFyIHB1bnljb2RlLFxuXG5cdC8qKiBIaWdoZXN0IHBvc2l0aXZlIHNpZ25lZCAzMi1iaXQgZmxvYXQgdmFsdWUgKi9cblx0bWF4SW50ID0gMjE0NzQ4MzY0NywgLy8gYWthLiAweDdGRkZGRkZGIG9yIDJeMzEtMVxuXG5cdC8qKiBCb290c3RyaW5nIHBhcmFtZXRlcnMgKi9cblx0YmFzZSA9IDM2LFxuXHR0TWluID0gMSxcblx0dE1heCA9IDI2LFxuXHRza2V3ID0gMzgsXG5cdGRhbXAgPSA3MDAsXG5cdGluaXRpYWxCaWFzID0gNzIsXG5cdGluaXRpYWxOID0gMTI4LCAvLyAweDgwXG5cdGRlbGltaXRlciA9ICctJywgLy8gJ1xceDJEJ1xuXG5cdC8qKiBSZWd1bGFyIGV4cHJlc3Npb25zICovXG5cdHJlZ2V4UHVueWNvZGUgPSAvXnhuLS0vLFxuXHRyZWdleE5vbkFTQ0lJID0gL1teXFx4MjAtXFx4N0VdLywgLy8gdW5wcmludGFibGUgQVNDSUkgY2hhcnMgKyBub24tQVNDSUkgY2hhcnNcblx0cmVnZXhTZXBhcmF0b3JzID0gL1tcXHgyRVxcdTMwMDJcXHVGRjBFXFx1RkY2MV0vZywgLy8gUkZDIDM0OTAgc2VwYXJhdG9yc1xuXG5cdC8qKiBFcnJvciBtZXNzYWdlcyAqL1xuXHRlcnJvcnMgPSB7XG5cdFx0J292ZXJmbG93JzogJ092ZXJmbG93OiBpbnB1dCBuZWVkcyB3aWRlciBpbnRlZ2VycyB0byBwcm9jZXNzJyxcblx0XHQnbm90LWJhc2ljJzogJ0lsbGVnYWwgaW5wdXQgPj0gMHg4MCAobm90IGEgYmFzaWMgY29kZSBwb2ludCknLFxuXHRcdCdpbnZhbGlkLWlucHV0JzogJ0ludmFsaWQgaW5wdXQnXG5cdH0sXG5cblx0LyoqIENvbnZlbmllbmNlIHNob3J0Y3V0cyAqL1xuXHRiYXNlTWludXNUTWluID0gYmFzZSAtIHRNaW4sXG5cdGZsb29yID0gTWF0aC5mbG9vcixcblx0c3RyaW5nRnJvbUNoYXJDb2RlID0gU3RyaW5nLmZyb21DaGFyQ29kZSxcblxuXHQvKiogVGVtcG9yYXJ5IHZhcmlhYmxlICovXG5cdGtleTtcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHQvKipcblx0ICogQSBnZW5lcmljIGVycm9yIHV0aWxpdHkgZnVuY3Rpb24uXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIFRoZSBlcnJvciB0eXBlLlxuXHQgKiBAcmV0dXJucyB7RXJyb3J9IFRocm93cyBhIGBSYW5nZUVycm9yYCB3aXRoIHRoZSBhcHBsaWNhYmxlIGVycm9yIG1lc3NhZ2UuXG5cdCAqL1xuXHRmdW5jdGlvbiBlcnJvcih0eXBlKSB7XG5cdFx0dGhyb3cgbmV3IFJhbmdlRXJyb3IoZXJyb3JzW3R5cGVdKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBBIGdlbmVyaWMgYEFycmF5I21hcGAgdXRpbGl0eSBmdW5jdGlvbi5cblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgVGhlIGZ1bmN0aW9uIHRoYXQgZ2V0cyBjYWxsZWQgZm9yIGV2ZXJ5IGFycmF5XG5cdCAqIGl0ZW0uXG5cdCAqIEByZXR1cm5zIHtBcnJheX0gQSBuZXcgYXJyYXkgb2YgdmFsdWVzIHJldHVybmVkIGJ5IHRoZSBjYWxsYmFjayBmdW5jdGlvbi5cblx0ICovXG5cdGZ1bmN0aW9uIG1hcChhcnJheSwgZm4pIHtcblx0XHR2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXHRcdHZhciByZXN1bHQgPSBbXTtcblx0XHR3aGlsZSAobGVuZ3RoLS0pIHtcblx0XHRcdHJlc3VsdFtsZW5ndGhdID0gZm4oYXJyYXlbbGVuZ3RoXSk7XG5cdFx0fVxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH1cblxuXHQvKipcblx0ICogQSBzaW1wbGUgYEFycmF5I21hcGAtbGlrZSB3cmFwcGVyIHRvIHdvcmsgd2l0aCBkb21haW4gbmFtZSBzdHJpbmdzIG9yIGVtYWlsXG5cdCAqIGFkZHJlc3Nlcy5cblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IGRvbWFpbiBUaGUgZG9tYWluIG5hbWUgb3IgZW1haWwgYWRkcmVzcy5cblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgVGhlIGZ1bmN0aW9uIHRoYXQgZ2V0cyBjYWxsZWQgZm9yIGV2ZXJ5XG5cdCAqIGNoYXJhY3Rlci5cblx0ICogQHJldHVybnMge0FycmF5fSBBIG5ldyBzdHJpbmcgb2YgY2hhcmFjdGVycyByZXR1cm5lZCBieSB0aGUgY2FsbGJhY2tcblx0ICogZnVuY3Rpb24uXG5cdCAqL1xuXHRmdW5jdGlvbiBtYXBEb21haW4oc3RyaW5nLCBmbikge1xuXHRcdHZhciBwYXJ0cyA9IHN0cmluZy5zcGxpdCgnQCcpO1xuXHRcdHZhciByZXN1bHQgPSAnJztcblx0XHRpZiAocGFydHMubGVuZ3RoID4gMSkge1xuXHRcdFx0Ly8gSW4gZW1haWwgYWRkcmVzc2VzLCBvbmx5IHRoZSBkb21haW4gbmFtZSBzaG91bGQgYmUgcHVueWNvZGVkLiBMZWF2ZVxuXHRcdFx0Ly8gdGhlIGxvY2FsIHBhcnQgKGkuZS4gZXZlcnl0aGluZyB1cCB0byBgQGApIGludGFjdC5cblx0XHRcdHJlc3VsdCA9IHBhcnRzWzBdICsgJ0AnO1xuXHRcdFx0c3RyaW5nID0gcGFydHNbMV07XG5cdFx0fVxuXHRcdC8vIEF2b2lkIGBzcGxpdChyZWdleClgIGZvciBJRTggY29tcGF0aWJpbGl0eS4gU2VlICMxNy5cblx0XHRzdHJpbmcgPSBzdHJpbmcucmVwbGFjZShyZWdleFNlcGFyYXRvcnMsICdcXHgyRScpO1xuXHRcdHZhciBsYWJlbHMgPSBzdHJpbmcuc3BsaXQoJy4nKTtcblx0XHR2YXIgZW5jb2RlZCA9IG1hcChsYWJlbHMsIGZuKS5qb2luKCcuJyk7XG5cdFx0cmV0dXJuIHJlc3VsdCArIGVuY29kZWQ7XG5cdH1cblxuXHQvKipcblx0ICogQ3JlYXRlcyBhbiBhcnJheSBjb250YWluaW5nIHRoZSBudW1lcmljIGNvZGUgcG9pbnRzIG9mIGVhY2ggVW5pY29kZVxuXHQgKiBjaGFyYWN0ZXIgaW4gdGhlIHN0cmluZy4gV2hpbGUgSmF2YVNjcmlwdCB1c2VzIFVDUy0yIGludGVybmFsbHksXG5cdCAqIHRoaXMgZnVuY3Rpb24gd2lsbCBjb252ZXJ0IGEgcGFpciBvZiBzdXJyb2dhdGUgaGFsdmVzIChlYWNoIG9mIHdoaWNoXG5cdCAqIFVDUy0yIGV4cG9zZXMgYXMgc2VwYXJhdGUgY2hhcmFjdGVycykgaW50byBhIHNpbmdsZSBjb2RlIHBvaW50LFxuXHQgKiBtYXRjaGluZyBVVEYtMTYuXG5cdCAqIEBzZWUgYHB1bnljb2RlLnVjczIuZW5jb2RlYFxuXHQgKiBAc2VlIDxodHRwczovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvamF2YXNjcmlwdC1lbmNvZGluZz5cblx0ICogQG1lbWJlck9mIHB1bnljb2RlLnVjczJcblx0ICogQG5hbWUgZGVjb2RlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBzdHJpbmcgVGhlIFVuaWNvZGUgaW5wdXQgc3RyaW5nIChVQ1MtMikuXG5cdCAqIEByZXR1cm5zIHtBcnJheX0gVGhlIG5ldyBhcnJheSBvZiBjb2RlIHBvaW50cy5cblx0ICovXG5cdGZ1bmN0aW9uIHVjczJkZWNvZGUoc3RyaW5nKSB7XG5cdFx0dmFyIG91dHB1dCA9IFtdLFxuXHRcdCAgICBjb3VudGVyID0gMCxcblx0XHQgICAgbGVuZ3RoID0gc3RyaW5nLmxlbmd0aCxcblx0XHQgICAgdmFsdWUsXG5cdFx0ICAgIGV4dHJhO1xuXHRcdHdoaWxlIChjb3VudGVyIDwgbGVuZ3RoKSB7XG5cdFx0XHR2YWx1ZSA9IHN0cmluZy5jaGFyQ29kZUF0KGNvdW50ZXIrKyk7XG5cdFx0XHRpZiAodmFsdWUgPj0gMHhEODAwICYmIHZhbHVlIDw9IDB4REJGRiAmJiBjb3VudGVyIDwgbGVuZ3RoKSB7XG5cdFx0XHRcdC8vIGhpZ2ggc3Vycm9nYXRlLCBhbmQgdGhlcmUgaXMgYSBuZXh0IGNoYXJhY3RlclxuXHRcdFx0XHRleHRyYSA9IHN0cmluZy5jaGFyQ29kZUF0KGNvdW50ZXIrKyk7XG5cdFx0XHRcdGlmICgoZXh0cmEgJiAweEZDMDApID09IDB4REMwMCkgeyAvLyBsb3cgc3Vycm9nYXRlXG5cdFx0XHRcdFx0b3V0cHV0LnB1c2goKCh2YWx1ZSAmIDB4M0ZGKSA8PCAxMCkgKyAoZXh0cmEgJiAweDNGRikgKyAweDEwMDAwKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQvLyB1bm1hdGNoZWQgc3Vycm9nYXRlOyBvbmx5IGFwcGVuZCB0aGlzIGNvZGUgdW5pdCwgaW4gY2FzZSB0aGUgbmV4dFxuXHRcdFx0XHRcdC8vIGNvZGUgdW5pdCBpcyB0aGUgaGlnaCBzdXJyb2dhdGUgb2YgYSBzdXJyb2dhdGUgcGFpclxuXHRcdFx0XHRcdG91dHB1dC5wdXNoKHZhbHVlKTtcblx0XHRcdFx0XHRjb3VudGVyLS07XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG91dHB1dC5wdXNoKHZhbHVlKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIG91dHB1dDtcblx0fVxuXG5cdC8qKlxuXHQgKiBDcmVhdGVzIGEgc3RyaW5nIGJhc2VkIG9uIGFuIGFycmF5IG9mIG51bWVyaWMgY29kZSBwb2ludHMuXG5cdCAqIEBzZWUgYHB1bnljb2RlLnVjczIuZGVjb2RlYFxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGUudWNzMlxuXHQgKiBAbmFtZSBlbmNvZGVcblx0ICogQHBhcmFtIHtBcnJheX0gY29kZVBvaW50cyBUaGUgYXJyYXkgb2YgbnVtZXJpYyBjb2RlIHBvaW50cy5cblx0ICogQHJldHVybnMge1N0cmluZ30gVGhlIG5ldyBVbmljb2RlIHN0cmluZyAoVUNTLTIpLlxuXHQgKi9cblx0ZnVuY3Rpb24gdWNzMmVuY29kZShhcnJheSkge1xuXHRcdHJldHVybiBtYXAoYXJyYXksIGZ1bmN0aW9uKHZhbHVlKSB7XG5cdFx0XHR2YXIgb3V0cHV0ID0gJyc7XG5cdFx0XHRpZiAodmFsdWUgPiAweEZGRkYpIHtcblx0XHRcdFx0dmFsdWUgLT0gMHgxMDAwMDtcblx0XHRcdFx0b3V0cHV0ICs9IHN0cmluZ0Zyb21DaGFyQ29kZSh2YWx1ZSA+Pj4gMTAgJiAweDNGRiB8IDB4RDgwMCk7XG5cdFx0XHRcdHZhbHVlID0gMHhEQzAwIHwgdmFsdWUgJiAweDNGRjtcblx0XHRcdH1cblx0XHRcdG91dHB1dCArPSBzdHJpbmdGcm9tQ2hhckNvZGUodmFsdWUpO1xuXHRcdFx0cmV0dXJuIG91dHB1dDtcblx0XHR9KS5qb2luKCcnKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIGJhc2ljIGNvZGUgcG9pbnQgaW50byBhIGRpZ2l0L2ludGVnZXIuXG5cdCAqIEBzZWUgYGRpZ2l0VG9CYXNpYygpYFxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge051bWJlcn0gY29kZVBvaW50IFRoZSBiYXNpYyBudW1lcmljIGNvZGUgcG9pbnQgdmFsdWUuXG5cdCAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBudW1lcmljIHZhbHVlIG9mIGEgYmFzaWMgY29kZSBwb2ludCAoZm9yIHVzZSBpblxuXHQgKiByZXByZXNlbnRpbmcgaW50ZWdlcnMpIGluIHRoZSByYW5nZSBgMGAgdG8gYGJhc2UgLSAxYCwgb3IgYGJhc2VgIGlmXG5cdCAqIHRoZSBjb2RlIHBvaW50IGRvZXMgbm90IHJlcHJlc2VudCBhIHZhbHVlLlxuXHQgKi9cblx0ZnVuY3Rpb24gYmFzaWNUb0RpZ2l0KGNvZGVQb2ludCkge1xuXHRcdGlmIChjb2RlUG9pbnQgLSA0OCA8IDEwKSB7XG5cdFx0XHRyZXR1cm4gY29kZVBvaW50IC0gMjI7XG5cdFx0fVxuXHRcdGlmIChjb2RlUG9pbnQgLSA2NSA8IDI2KSB7XG5cdFx0XHRyZXR1cm4gY29kZVBvaW50IC0gNjU7XG5cdFx0fVxuXHRcdGlmIChjb2RlUG9pbnQgLSA5NyA8IDI2KSB7XG5cdFx0XHRyZXR1cm4gY29kZVBvaW50IC0gOTc7XG5cdFx0fVxuXHRcdHJldHVybiBiYXNlO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgZGlnaXQvaW50ZWdlciBpbnRvIGEgYmFzaWMgY29kZSBwb2ludC5cblx0ICogQHNlZSBgYmFzaWNUb0RpZ2l0KClgXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBkaWdpdCBUaGUgbnVtZXJpYyB2YWx1ZSBvZiBhIGJhc2ljIGNvZGUgcG9pbnQuXG5cdCAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBiYXNpYyBjb2RlIHBvaW50IHdob3NlIHZhbHVlICh3aGVuIHVzZWQgZm9yXG5cdCAqIHJlcHJlc2VudGluZyBpbnRlZ2VycykgaXMgYGRpZ2l0YCwgd2hpY2ggbmVlZHMgdG8gYmUgaW4gdGhlIHJhbmdlXG5cdCAqIGAwYCB0byBgYmFzZSAtIDFgLiBJZiBgZmxhZ2AgaXMgbm9uLXplcm8sIHRoZSB1cHBlcmNhc2UgZm9ybSBpc1xuXHQgKiB1c2VkOyBlbHNlLCB0aGUgbG93ZXJjYXNlIGZvcm0gaXMgdXNlZC4gVGhlIGJlaGF2aW9yIGlzIHVuZGVmaW5lZFxuXHQgKiBpZiBgZmxhZ2AgaXMgbm9uLXplcm8gYW5kIGBkaWdpdGAgaGFzIG5vIHVwcGVyY2FzZSBmb3JtLlxuXHQgKi9cblx0ZnVuY3Rpb24gZGlnaXRUb0Jhc2ljKGRpZ2l0LCBmbGFnKSB7XG5cdFx0Ly8gIDAuLjI1IG1hcCB0byBBU0NJSSBhLi56IG9yIEEuLlpcblx0XHQvLyAyNi4uMzUgbWFwIHRvIEFTQ0lJIDAuLjlcblx0XHRyZXR1cm4gZGlnaXQgKyAyMiArIDc1ICogKGRpZ2l0IDwgMjYpIC0gKChmbGFnICE9IDApIDw8IDUpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEJpYXMgYWRhcHRhdGlvbiBmdW5jdGlvbiBhcyBwZXIgc2VjdGlvbiAzLjQgb2YgUkZDIDM0OTIuXG5cdCAqIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzNDkyI3NlY3Rpb24tMy40XG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHRmdW5jdGlvbiBhZGFwdChkZWx0YSwgbnVtUG9pbnRzLCBmaXJzdFRpbWUpIHtcblx0XHR2YXIgayA9IDA7XG5cdFx0ZGVsdGEgPSBmaXJzdFRpbWUgPyBmbG9vcihkZWx0YSAvIGRhbXApIDogZGVsdGEgPj4gMTtcblx0XHRkZWx0YSArPSBmbG9vcihkZWx0YSAvIG51bVBvaW50cyk7XG5cdFx0Zm9yICgvKiBubyBpbml0aWFsaXphdGlvbiAqLzsgZGVsdGEgPiBiYXNlTWludXNUTWluICogdE1heCA+PiAxOyBrICs9IGJhc2UpIHtcblx0XHRcdGRlbHRhID0gZmxvb3IoZGVsdGEgLyBiYXNlTWludXNUTWluKTtcblx0XHR9XG5cdFx0cmV0dXJuIGZsb29yKGsgKyAoYmFzZU1pbnVzVE1pbiArIDEpICogZGVsdGEgLyAoZGVsdGEgKyBza2V3KSk7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBQdW55Y29kZSBzdHJpbmcgb2YgQVNDSUktb25seSBzeW1ib2xzIHRvIGEgc3RyaW5nIG9mIFVuaWNvZGVcblx0ICogc3ltYm9scy5cblx0ICogQG1lbWJlck9mIHB1bnljb2RlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scy5cblx0ICogQHJldHVybnMge1N0cmluZ30gVGhlIHJlc3VsdGluZyBzdHJpbmcgb2YgVW5pY29kZSBzeW1ib2xzLlxuXHQgKi9cblx0ZnVuY3Rpb24gZGVjb2RlKGlucHV0KSB7XG5cdFx0Ly8gRG9uJ3QgdXNlIFVDUy0yXG5cdFx0dmFyIG91dHB1dCA9IFtdLFxuXHRcdCAgICBpbnB1dExlbmd0aCA9IGlucHV0Lmxlbmd0aCxcblx0XHQgICAgb3V0LFxuXHRcdCAgICBpID0gMCxcblx0XHQgICAgbiA9IGluaXRpYWxOLFxuXHRcdCAgICBiaWFzID0gaW5pdGlhbEJpYXMsXG5cdFx0ICAgIGJhc2ljLFxuXHRcdCAgICBqLFxuXHRcdCAgICBpbmRleCxcblx0XHQgICAgb2xkaSxcblx0XHQgICAgdyxcblx0XHQgICAgayxcblx0XHQgICAgZGlnaXQsXG5cdFx0ICAgIHQsXG5cdFx0ICAgIC8qKiBDYWNoZWQgY2FsY3VsYXRpb24gcmVzdWx0cyAqL1xuXHRcdCAgICBiYXNlTWludXNUO1xuXG5cdFx0Ly8gSGFuZGxlIHRoZSBiYXNpYyBjb2RlIHBvaW50czogbGV0IGBiYXNpY2AgYmUgdGhlIG51bWJlciBvZiBpbnB1dCBjb2RlXG5cdFx0Ly8gcG9pbnRzIGJlZm9yZSB0aGUgbGFzdCBkZWxpbWl0ZXIsIG9yIGAwYCBpZiB0aGVyZSBpcyBub25lLCB0aGVuIGNvcHlcblx0XHQvLyB0aGUgZmlyc3QgYmFzaWMgY29kZSBwb2ludHMgdG8gdGhlIG91dHB1dC5cblxuXHRcdGJhc2ljID0gaW5wdXQubGFzdEluZGV4T2YoZGVsaW1pdGVyKTtcblx0XHRpZiAoYmFzaWMgPCAwKSB7XG5cdFx0XHRiYXNpYyA9IDA7XG5cdFx0fVxuXG5cdFx0Zm9yIChqID0gMDsgaiA8IGJhc2ljOyArK2opIHtcblx0XHRcdC8vIGlmIGl0J3Mgbm90IGEgYmFzaWMgY29kZSBwb2ludFxuXHRcdFx0aWYgKGlucHV0LmNoYXJDb2RlQXQoaikgPj0gMHg4MCkge1xuXHRcdFx0XHRlcnJvcignbm90LWJhc2ljJyk7XG5cdFx0XHR9XG5cdFx0XHRvdXRwdXQucHVzaChpbnB1dC5jaGFyQ29kZUF0KGopKTtcblx0XHR9XG5cblx0XHQvLyBNYWluIGRlY29kaW5nIGxvb3A6IHN0YXJ0IGp1c3QgYWZ0ZXIgdGhlIGxhc3QgZGVsaW1pdGVyIGlmIGFueSBiYXNpYyBjb2RlXG5cdFx0Ly8gcG9pbnRzIHdlcmUgY29waWVkOyBzdGFydCBhdCB0aGUgYmVnaW5uaW5nIG90aGVyd2lzZS5cblxuXHRcdGZvciAoaW5kZXggPSBiYXNpYyA+IDAgPyBiYXNpYyArIDEgOiAwOyBpbmRleCA8IGlucHV0TGVuZ3RoOyAvKiBubyBmaW5hbCBleHByZXNzaW9uICovKSB7XG5cblx0XHRcdC8vIGBpbmRleGAgaXMgdGhlIGluZGV4IG9mIHRoZSBuZXh0IGNoYXJhY3RlciB0byBiZSBjb25zdW1lZC5cblx0XHRcdC8vIERlY29kZSBhIGdlbmVyYWxpemVkIHZhcmlhYmxlLWxlbmd0aCBpbnRlZ2VyIGludG8gYGRlbHRhYCxcblx0XHRcdC8vIHdoaWNoIGdldHMgYWRkZWQgdG8gYGlgLiBUaGUgb3ZlcmZsb3cgY2hlY2tpbmcgaXMgZWFzaWVyXG5cdFx0XHQvLyBpZiB3ZSBpbmNyZWFzZSBgaWAgYXMgd2UgZ28sIHRoZW4gc3VidHJhY3Qgb2ZmIGl0cyBzdGFydGluZ1xuXHRcdFx0Ly8gdmFsdWUgYXQgdGhlIGVuZCB0byBvYnRhaW4gYGRlbHRhYC5cblx0XHRcdGZvciAob2xkaSA9IGksIHcgPSAxLCBrID0gYmFzZTsgLyogbm8gY29uZGl0aW9uICovOyBrICs9IGJhc2UpIHtcblxuXHRcdFx0XHRpZiAoaW5kZXggPj0gaW5wdXRMZW5ndGgpIHtcblx0XHRcdFx0XHRlcnJvcignaW52YWxpZC1pbnB1dCcpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0ZGlnaXQgPSBiYXNpY1RvRGlnaXQoaW5wdXQuY2hhckNvZGVBdChpbmRleCsrKSk7XG5cblx0XHRcdFx0aWYgKGRpZ2l0ID49IGJhc2UgfHwgZGlnaXQgPiBmbG9vcigobWF4SW50IC0gaSkgLyB3KSkge1xuXHRcdFx0XHRcdGVycm9yKCdvdmVyZmxvdycpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aSArPSBkaWdpdCAqIHc7XG5cdFx0XHRcdHQgPSBrIDw9IGJpYXMgPyB0TWluIDogKGsgPj0gYmlhcyArIHRNYXggPyB0TWF4IDogayAtIGJpYXMpO1xuXG5cdFx0XHRcdGlmIChkaWdpdCA8IHQpIHtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGJhc2VNaW51c1QgPSBiYXNlIC0gdDtcblx0XHRcdFx0aWYgKHcgPiBmbG9vcihtYXhJbnQgLyBiYXNlTWludXNUKSkge1xuXHRcdFx0XHRcdGVycm9yKCdvdmVyZmxvdycpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dyAqPSBiYXNlTWludXNUO1xuXG5cdFx0XHR9XG5cblx0XHRcdG91dCA9IG91dHB1dC5sZW5ndGggKyAxO1xuXHRcdFx0YmlhcyA9IGFkYXB0KGkgLSBvbGRpLCBvdXQsIG9sZGkgPT0gMCk7XG5cblx0XHRcdC8vIGBpYCB3YXMgc3VwcG9zZWQgdG8gd3JhcCBhcm91bmQgZnJvbSBgb3V0YCB0byBgMGAsXG5cdFx0XHQvLyBpbmNyZW1lbnRpbmcgYG5gIGVhY2ggdGltZSwgc28gd2UnbGwgZml4IHRoYXQgbm93OlxuXHRcdFx0aWYgKGZsb29yKGkgLyBvdXQpID4gbWF4SW50IC0gbikge1xuXHRcdFx0XHRlcnJvcignb3ZlcmZsb3cnKTtcblx0XHRcdH1cblxuXHRcdFx0biArPSBmbG9vcihpIC8gb3V0KTtcblx0XHRcdGkgJT0gb3V0O1xuXG5cdFx0XHQvLyBJbnNlcnQgYG5gIGF0IHBvc2l0aW9uIGBpYCBvZiB0aGUgb3V0cHV0XG5cdFx0XHRvdXRwdXQuc3BsaWNlKGkrKywgMCwgbik7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdWNzMmVuY29kZShvdXRwdXQpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgc3RyaW5nIG9mIFVuaWNvZGUgc3ltYm9scyAoZS5nLiBhIGRvbWFpbiBuYW1lIGxhYmVsKSB0byBhXG5cdCAqIFB1bnljb2RlIHN0cmluZyBvZiBBU0NJSS1vbmx5IHN5bWJvbHMuXG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIHN0cmluZyBvZiBVbmljb2RlIHN5bWJvbHMuXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSByZXN1bHRpbmcgUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scy5cblx0ICovXG5cdGZ1bmN0aW9uIGVuY29kZShpbnB1dCkge1xuXHRcdHZhciBuLFxuXHRcdCAgICBkZWx0YSxcblx0XHQgICAgaGFuZGxlZENQQ291bnQsXG5cdFx0ICAgIGJhc2ljTGVuZ3RoLFxuXHRcdCAgICBiaWFzLFxuXHRcdCAgICBqLFxuXHRcdCAgICBtLFxuXHRcdCAgICBxLFxuXHRcdCAgICBrLFxuXHRcdCAgICB0LFxuXHRcdCAgICBjdXJyZW50VmFsdWUsXG5cdFx0ICAgIG91dHB1dCA9IFtdLFxuXHRcdCAgICAvKiogYGlucHV0TGVuZ3RoYCB3aWxsIGhvbGQgdGhlIG51bWJlciBvZiBjb2RlIHBvaW50cyBpbiBgaW5wdXRgLiAqL1xuXHRcdCAgICBpbnB1dExlbmd0aCxcblx0XHQgICAgLyoqIENhY2hlZCBjYWxjdWxhdGlvbiByZXN1bHRzICovXG5cdFx0ICAgIGhhbmRsZWRDUENvdW50UGx1c09uZSxcblx0XHQgICAgYmFzZU1pbnVzVCxcblx0XHQgICAgcU1pbnVzVDtcblxuXHRcdC8vIENvbnZlcnQgdGhlIGlucHV0IGluIFVDUy0yIHRvIFVuaWNvZGVcblx0XHRpbnB1dCA9IHVjczJkZWNvZGUoaW5wdXQpO1xuXG5cdFx0Ly8gQ2FjaGUgdGhlIGxlbmd0aFxuXHRcdGlucHV0TGVuZ3RoID0gaW5wdXQubGVuZ3RoO1xuXG5cdFx0Ly8gSW5pdGlhbGl6ZSB0aGUgc3RhdGVcblx0XHRuID0gaW5pdGlhbE47XG5cdFx0ZGVsdGEgPSAwO1xuXHRcdGJpYXMgPSBpbml0aWFsQmlhcztcblxuXHRcdC8vIEhhbmRsZSB0aGUgYmFzaWMgY29kZSBwb2ludHNcblx0XHRmb3IgKGogPSAwOyBqIDwgaW5wdXRMZW5ndGg7ICsraikge1xuXHRcdFx0Y3VycmVudFZhbHVlID0gaW5wdXRbal07XG5cdFx0XHRpZiAoY3VycmVudFZhbHVlIDwgMHg4MCkge1xuXHRcdFx0XHRvdXRwdXQucHVzaChzdHJpbmdGcm9tQ2hhckNvZGUoY3VycmVudFZhbHVlKSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aGFuZGxlZENQQ291bnQgPSBiYXNpY0xlbmd0aCA9IG91dHB1dC5sZW5ndGg7XG5cblx0XHQvLyBgaGFuZGxlZENQQ291bnRgIGlzIHRoZSBudW1iZXIgb2YgY29kZSBwb2ludHMgdGhhdCBoYXZlIGJlZW4gaGFuZGxlZDtcblx0XHQvLyBgYmFzaWNMZW5ndGhgIGlzIHRoZSBudW1iZXIgb2YgYmFzaWMgY29kZSBwb2ludHMuXG5cblx0XHQvLyBGaW5pc2ggdGhlIGJhc2ljIHN0cmluZyAtIGlmIGl0IGlzIG5vdCBlbXB0eSAtIHdpdGggYSBkZWxpbWl0ZXJcblx0XHRpZiAoYmFzaWNMZW5ndGgpIHtcblx0XHRcdG91dHB1dC5wdXNoKGRlbGltaXRlcik7XG5cdFx0fVxuXG5cdFx0Ly8gTWFpbiBlbmNvZGluZyBsb29wOlxuXHRcdHdoaWxlIChoYW5kbGVkQ1BDb3VudCA8IGlucHV0TGVuZ3RoKSB7XG5cblx0XHRcdC8vIEFsbCBub24tYmFzaWMgY29kZSBwb2ludHMgPCBuIGhhdmUgYmVlbiBoYW5kbGVkIGFscmVhZHkuIEZpbmQgdGhlIG5leHRcblx0XHRcdC8vIGxhcmdlciBvbmU6XG5cdFx0XHRmb3IgKG0gPSBtYXhJbnQsIGogPSAwOyBqIDwgaW5wdXRMZW5ndGg7ICsraikge1xuXHRcdFx0XHRjdXJyZW50VmFsdWUgPSBpbnB1dFtqXTtcblx0XHRcdFx0aWYgKGN1cnJlbnRWYWx1ZSA+PSBuICYmIGN1cnJlbnRWYWx1ZSA8IG0pIHtcblx0XHRcdFx0XHRtID0gY3VycmVudFZhbHVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIEluY3JlYXNlIGBkZWx0YWAgZW5vdWdoIHRvIGFkdmFuY2UgdGhlIGRlY29kZXIncyA8bixpPiBzdGF0ZSB0byA8bSwwPixcblx0XHRcdC8vIGJ1dCBndWFyZCBhZ2FpbnN0IG92ZXJmbG93XG5cdFx0XHRoYW5kbGVkQ1BDb3VudFBsdXNPbmUgPSBoYW5kbGVkQ1BDb3VudCArIDE7XG5cdFx0XHRpZiAobSAtIG4gPiBmbG9vcigobWF4SW50IC0gZGVsdGEpIC8gaGFuZGxlZENQQ291bnRQbHVzT25lKSkge1xuXHRcdFx0XHRlcnJvcignb3ZlcmZsb3cnKTtcblx0XHRcdH1cblxuXHRcdFx0ZGVsdGEgKz0gKG0gLSBuKSAqIGhhbmRsZWRDUENvdW50UGx1c09uZTtcblx0XHRcdG4gPSBtO1xuXG5cdFx0XHRmb3IgKGogPSAwOyBqIDwgaW5wdXRMZW5ndGg7ICsraikge1xuXHRcdFx0XHRjdXJyZW50VmFsdWUgPSBpbnB1dFtqXTtcblxuXHRcdFx0XHRpZiAoY3VycmVudFZhbHVlIDwgbiAmJiArK2RlbHRhID4gbWF4SW50KSB7XG5cdFx0XHRcdFx0ZXJyb3IoJ292ZXJmbG93Jyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoY3VycmVudFZhbHVlID09IG4pIHtcblx0XHRcdFx0XHQvLyBSZXByZXNlbnQgZGVsdGEgYXMgYSBnZW5lcmFsaXplZCB2YXJpYWJsZS1sZW5ndGggaW50ZWdlclxuXHRcdFx0XHRcdGZvciAocSA9IGRlbHRhLCBrID0gYmFzZTsgLyogbm8gY29uZGl0aW9uICovOyBrICs9IGJhc2UpIHtcblx0XHRcdFx0XHRcdHQgPSBrIDw9IGJpYXMgPyB0TWluIDogKGsgPj0gYmlhcyArIHRNYXggPyB0TWF4IDogayAtIGJpYXMpO1xuXHRcdFx0XHRcdFx0aWYgKHEgPCB0KSB7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0cU1pbnVzVCA9IHEgLSB0O1xuXHRcdFx0XHRcdFx0YmFzZU1pbnVzVCA9IGJhc2UgLSB0O1xuXHRcdFx0XHRcdFx0b3V0cHV0LnB1c2goXG5cdFx0XHRcdFx0XHRcdHN0cmluZ0Zyb21DaGFyQ29kZShkaWdpdFRvQmFzaWModCArIHFNaW51c1QgJSBiYXNlTWludXNULCAwKSlcblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRxID0gZmxvb3IocU1pbnVzVCAvIGJhc2VNaW51c1QpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdG91dHB1dC5wdXNoKHN0cmluZ0Zyb21DaGFyQ29kZShkaWdpdFRvQmFzaWMocSwgMCkpKTtcblx0XHRcdFx0XHRiaWFzID0gYWRhcHQoZGVsdGEsIGhhbmRsZWRDUENvdW50UGx1c09uZSwgaGFuZGxlZENQQ291bnQgPT0gYmFzaWNMZW5ndGgpO1xuXHRcdFx0XHRcdGRlbHRhID0gMDtcblx0XHRcdFx0XHQrK2hhbmRsZWRDUENvdW50O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdCsrZGVsdGE7XG5cdFx0XHQrK247XG5cblx0XHR9XG5cdFx0cmV0dXJuIG91dHB1dC5qb2luKCcnKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIFB1bnljb2RlIHN0cmluZyByZXByZXNlbnRpbmcgYSBkb21haW4gbmFtZSBvciBhbiBlbWFpbCBhZGRyZXNzXG5cdCAqIHRvIFVuaWNvZGUuIE9ubHkgdGhlIFB1bnljb2RlZCBwYXJ0cyBvZiB0aGUgaW5wdXQgd2lsbCBiZSBjb252ZXJ0ZWQsIGkuZS5cblx0ICogaXQgZG9lc24ndCBtYXR0ZXIgaWYgeW91IGNhbGwgaXQgb24gYSBzdHJpbmcgdGhhdCBoYXMgYWxyZWFkeSBiZWVuXG5cdCAqIGNvbnZlcnRlZCB0byBVbmljb2RlLlxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IGlucHV0IFRoZSBQdW55Y29kZWQgZG9tYWluIG5hbWUgb3IgZW1haWwgYWRkcmVzcyB0b1xuXHQgKiBjb252ZXJ0IHRvIFVuaWNvZGUuXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBVbmljb2RlIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBnaXZlbiBQdW55Y29kZVxuXHQgKiBzdHJpbmcuXG5cdCAqL1xuXHRmdW5jdGlvbiB0b1VuaWNvZGUoaW5wdXQpIHtcblx0XHRyZXR1cm4gbWFwRG9tYWluKGlucHV0LCBmdW5jdGlvbihzdHJpbmcpIHtcblx0XHRcdHJldHVybiByZWdleFB1bnljb2RlLnRlc3Qoc3RyaW5nKVxuXHRcdFx0XHQ/IGRlY29kZShzdHJpbmcuc2xpY2UoNCkudG9Mb3dlckNhc2UoKSlcblx0XHRcdFx0OiBzdHJpbmc7XG5cdFx0fSk7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBVbmljb2RlIHN0cmluZyByZXByZXNlbnRpbmcgYSBkb21haW4gbmFtZSBvciBhbiBlbWFpbCBhZGRyZXNzIHRvXG5cdCAqIFB1bnljb2RlLiBPbmx5IHRoZSBub24tQVNDSUkgcGFydHMgb2YgdGhlIGRvbWFpbiBuYW1lIHdpbGwgYmUgY29udmVydGVkLFxuXHQgKiBpLmUuIGl0IGRvZXNuJ3QgbWF0dGVyIGlmIHlvdSBjYWxsIGl0IHdpdGggYSBkb21haW4gdGhhdCdzIGFscmVhZHkgaW5cblx0ICogQVNDSUkuXG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIGRvbWFpbiBuYW1lIG9yIGVtYWlsIGFkZHJlc3MgdG8gY29udmVydCwgYXMgYVxuXHQgKiBVbmljb2RlIHN0cmluZy5cblx0ICogQHJldHVybnMge1N0cmluZ30gVGhlIFB1bnljb2RlIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBnaXZlbiBkb21haW4gbmFtZSBvclxuXHQgKiBlbWFpbCBhZGRyZXNzLlxuXHQgKi9cblx0ZnVuY3Rpb24gdG9BU0NJSShpbnB1dCkge1xuXHRcdHJldHVybiBtYXBEb21haW4oaW5wdXQsIGZ1bmN0aW9uKHN0cmluZykge1xuXHRcdFx0cmV0dXJuIHJlZ2V4Tm9uQVNDSUkudGVzdChzdHJpbmcpXG5cdFx0XHRcdD8gJ3huLS0nICsgZW5jb2RlKHN0cmluZylcblx0XHRcdFx0OiBzdHJpbmc7XG5cdFx0fSk7XG5cdH1cblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHQvKiogRGVmaW5lIHRoZSBwdWJsaWMgQVBJICovXG5cdHB1bnljb2RlID0ge1xuXHRcdC8qKlxuXHRcdCAqIEEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgY3VycmVudCBQdW55Y29kZS5qcyB2ZXJzaW9uIG51bWJlci5cblx0XHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0XHQgKiBAdHlwZSBTdHJpbmdcblx0XHQgKi9cblx0XHQndmVyc2lvbic6ICcxLjQuMScsXG5cdFx0LyoqXG5cdFx0ICogQW4gb2JqZWN0IG9mIG1ldGhvZHMgdG8gY29udmVydCBmcm9tIEphdmFTY3JpcHQncyBpbnRlcm5hbCBjaGFyYWN0ZXJcblx0XHQgKiByZXByZXNlbnRhdGlvbiAoVUNTLTIpIHRvIFVuaWNvZGUgY29kZSBwb2ludHMsIGFuZCBiYWNrLlxuXHRcdCAqIEBzZWUgPGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9qYXZhc2NyaXB0LWVuY29kaW5nPlxuXHRcdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHRcdCAqIEB0eXBlIE9iamVjdFxuXHRcdCAqL1xuXHRcdCd1Y3MyJzoge1xuXHRcdFx0J2RlY29kZSc6IHVjczJkZWNvZGUsXG5cdFx0XHQnZW5jb2RlJzogdWNzMmVuY29kZVxuXHRcdH0sXG5cdFx0J2RlY29kZSc6IGRlY29kZSxcblx0XHQnZW5jb2RlJzogZW5jb2RlLFxuXHRcdCd0b0FTQ0lJJzogdG9BU0NJSSxcblx0XHQndG9Vbmljb2RlJzogdG9Vbmljb2RlXG5cdH07XG5cblx0LyoqIEV4cG9zZSBgcHVueWNvZGVgICovXG5cdC8vIFNvbWUgQU1EIGJ1aWxkIG9wdGltaXplcnMsIGxpa2Ugci5qcywgY2hlY2sgZm9yIHNwZWNpZmljIGNvbmRpdGlvbiBwYXR0ZXJuc1xuXHQvLyBsaWtlIHRoZSBmb2xsb3dpbmc6XG5cdGlmIChcblx0XHR0eXBlb2YgZGVmaW5lID09ICdmdW5jdGlvbicgJiZcblx0XHR0eXBlb2YgZGVmaW5lLmFtZCA9PSAnb2JqZWN0JyAmJlxuXHRcdGRlZmluZS5hbWRcblx0KSB7XG5cdFx0ZGVmaW5lKCdwdW55Y29kZScsIGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIHB1bnljb2RlO1xuXHRcdH0pO1xuXHR9IGVsc2UgaWYgKGZyZWVFeHBvcnRzICYmIGZyZWVNb2R1bGUpIHtcblx0XHRpZiAobW9kdWxlLmV4cG9ydHMgPT0gZnJlZUV4cG9ydHMpIHtcblx0XHRcdC8vIGluIE5vZGUuanMsIGlvLmpzLCBvciBSaW5nb0pTIHYwLjguMCtcblx0XHRcdGZyZWVNb2R1bGUuZXhwb3J0cyA9IHB1bnljb2RlO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBpbiBOYXJ3aGFsIG9yIFJpbmdvSlMgdjAuNy4wLVxuXHRcdFx0Zm9yIChrZXkgaW4gcHVueWNvZGUpIHtcblx0XHRcdFx0cHVueWNvZGUuaGFzT3duUHJvcGVydHkoa2V5KSAmJiAoZnJlZUV4cG9ydHNba2V5XSA9IHB1bnljb2RlW2tleV0pO1xuXHRcdFx0fVxuXHRcdH1cblx0fSBlbHNlIHtcblx0XHQvLyBpbiBSaGlubyBvciBhIHdlYiBicm93c2VyXG5cdFx0cm9vdC5wdW55Y29kZSA9IHB1bnljb2RlO1xuXHR9XG5cbn0odGhpcykpO1xuIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbid1c2Ugc3RyaWN0JztcblxuLy8gSWYgb2JqLmhhc093blByb3BlcnR5IGhhcyBiZWVuIG92ZXJyaWRkZW4sIHRoZW4gY2FsbGluZ1xuLy8gb2JqLmhhc093blByb3BlcnR5KHByb3ApIHdpbGwgYnJlYWsuXG4vLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9qb3llbnQvbm9kZS9pc3N1ZXMvMTcwN1xuZnVuY3Rpb24gaGFzT3duUHJvcGVydHkob2JqLCBwcm9wKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihxcywgc2VwLCBlcSwgb3B0aW9ucykge1xuICBzZXAgPSBzZXAgfHwgJyYnO1xuICBlcSA9IGVxIHx8ICc9JztcbiAgdmFyIG9iaiA9IHt9O1xuXG4gIGlmICh0eXBlb2YgcXMgIT09ICdzdHJpbmcnIHx8IHFzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBvYmo7XG4gIH1cblxuICB2YXIgcmVnZXhwID0gL1xcKy9nO1xuICBxcyA9IHFzLnNwbGl0KHNlcCk7XG5cbiAgdmFyIG1heEtleXMgPSAxMDAwO1xuICBpZiAob3B0aW9ucyAmJiB0eXBlb2Ygb3B0aW9ucy5tYXhLZXlzID09PSAnbnVtYmVyJykge1xuICAgIG1heEtleXMgPSBvcHRpb25zLm1heEtleXM7XG4gIH1cblxuICB2YXIgbGVuID0gcXMubGVuZ3RoO1xuICAvLyBtYXhLZXlzIDw9IDAgbWVhbnMgdGhhdCB3ZSBzaG91bGQgbm90IGxpbWl0IGtleXMgY291bnRcbiAgaWYgKG1heEtleXMgPiAwICYmIGxlbiA+IG1heEtleXMpIHtcbiAgICBsZW4gPSBtYXhLZXlzO1xuICB9XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgIHZhciB4ID0gcXNbaV0ucmVwbGFjZShyZWdleHAsICclMjAnKSxcbiAgICAgICAgaWR4ID0geC5pbmRleE9mKGVxKSxcbiAgICAgICAga3N0ciwgdnN0ciwgaywgdjtcblxuICAgIGlmIChpZHggPj0gMCkge1xuICAgICAga3N0ciA9IHguc3Vic3RyKDAsIGlkeCk7XG4gICAgICB2c3RyID0geC5zdWJzdHIoaWR4ICsgMSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGtzdHIgPSB4O1xuICAgICAgdnN0ciA9ICcnO1xuICAgIH1cblxuICAgIGsgPSBkZWNvZGVVUklDb21wb25lbnQoa3N0cik7XG4gICAgdiA9IGRlY29kZVVSSUNvbXBvbmVudCh2c3RyKTtcblxuICAgIGlmICghaGFzT3duUHJvcGVydHkob2JqLCBrKSkge1xuICAgICAgb2JqW2tdID0gdjtcbiAgICB9IGVsc2UgaWYgKGlzQXJyYXkob2JqW2tdKSkge1xuICAgICAgb2JqW2tdLnB1c2godik7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9ialtrXSA9IFtvYmpba10sIHZdO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBvYmo7XG59O1xuXG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gKHhzKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoeHMpID09PSAnW29iamVjdCBBcnJheV0nO1xufTtcbiIsIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBzdHJpbmdpZnlQcmltaXRpdmUgPSBmdW5jdGlvbih2KSB7XG4gIHN3aXRjaCAodHlwZW9mIHYpIHtcbiAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgcmV0dXJuIHY7XG5cbiAgICBjYXNlICdib29sZWFuJzpcbiAgICAgIHJldHVybiB2ID8gJ3RydWUnIDogJ2ZhbHNlJztcblxuICAgIGNhc2UgJ251bWJlcic6XG4gICAgICByZXR1cm4gaXNGaW5pdGUodikgPyB2IDogJyc7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuICcnO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9iaiwgc2VwLCBlcSwgbmFtZSkge1xuICBzZXAgPSBzZXAgfHwgJyYnO1xuICBlcSA9IGVxIHx8ICc9JztcbiAgaWYgKG9iaiA9PT0gbnVsbCkge1xuICAgIG9iaiA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGlmICh0eXBlb2Ygb2JqID09PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiBtYXAob2JqZWN0S2V5cyhvYmopLCBmdW5jdGlvbihrKSB7XG4gICAgICB2YXIga3MgPSBlbmNvZGVVUklDb21wb25lbnQoc3RyaW5naWZ5UHJpbWl0aXZlKGspKSArIGVxO1xuICAgICAgaWYgKGlzQXJyYXkob2JqW2tdKSkge1xuICAgICAgICByZXR1cm4gbWFwKG9ialtrXSwgZnVuY3Rpb24odikge1xuICAgICAgICAgIHJldHVybiBrcyArIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUodikpO1xuICAgICAgICB9KS5qb2luKHNlcCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4ga3MgKyBlbmNvZGVVUklDb21wb25lbnQoc3RyaW5naWZ5UHJpbWl0aXZlKG9ialtrXSkpO1xuICAgICAgfVxuICAgIH0pLmpvaW4oc2VwKTtcblxuICB9XG5cbiAgaWYgKCFuYW1lKSByZXR1cm4gJyc7XG4gIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQoc3RyaW5naWZ5UHJpbWl0aXZlKG5hbWUpKSArIGVxICtcbiAgICAgICAgIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUob2JqKSk7XG59O1xuXG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gKHhzKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoeHMpID09PSAnW29iamVjdCBBcnJheV0nO1xufTtcblxuZnVuY3Rpb24gbWFwICh4cywgZikge1xuICBpZiAoeHMubWFwKSByZXR1cm4geHMubWFwKGYpO1xuICB2YXIgcmVzID0gW107XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgeHMubGVuZ3RoOyBpKyspIHtcbiAgICByZXMucHVzaChmKHhzW2ldLCBpKSk7XG4gIH1cbiAgcmV0dXJuIHJlcztcbn1cblxudmFyIG9iamVjdEtleXMgPSBPYmplY3Qua2V5cyB8fCBmdW5jdGlvbiAob2JqKSB7XG4gIHZhciByZXMgPSBbXTtcbiAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSByZXMucHVzaChrZXkpO1xuICB9XG4gIHJldHVybiByZXM7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLmRlY29kZSA9IGV4cG9ydHMucGFyc2UgPSByZXF1aXJlKCcuL2RlY29kZScpO1xuZXhwb3J0cy5lbmNvZGUgPSBleHBvcnRzLnN0cmluZ2lmeSA9IHJlcXVpcmUoJy4vZW5jb2RlJyk7XG4iLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgcHVueWNvZGUgPSByZXF1aXJlKCdwdW55Y29kZScpO1xudmFyIHV0aWwgPSByZXF1aXJlKCcuL3V0aWwnKTtcblxuZXhwb3J0cy5wYXJzZSA9IHVybFBhcnNlO1xuZXhwb3J0cy5yZXNvbHZlID0gdXJsUmVzb2x2ZTtcbmV4cG9ydHMucmVzb2x2ZU9iamVjdCA9IHVybFJlc29sdmVPYmplY3Q7XG5leHBvcnRzLmZvcm1hdCA9IHVybEZvcm1hdDtcblxuZXhwb3J0cy5VcmwgPSBVcmw7XG5cbmZ1bmN0aW9uIFVybCgpIHtcbiAgdGhpcy5wcm90b2NvbCA9IG51bGw7XG4gIHRoaXMuc2xhc2hlcyA9IG51bGw7XG4gIHRoaXMuYXV0aCA9IG51bGw7XG4gIHRoaXMuaG9zdCA9IG51bGw7XG4gIHRoaXMucG9ydCA9IG51bGw7XG4gIHRoaXMuaG9zdG5hbWUgPSBudWxsO1xuICB0aGlzLmhhc2ggPSBudWxsO1xuICB0aGlzLnNlYXJjaCA9IG51bGw7XG4gIHRoaXMucXVlcnkgPSBudWxsO1xuICB0aGlzLnBhdGhuYW1lID0gbnVsbDtcbiAgdGhpcy5wYXRoID0gbnVsbDtcbiAgdGhpcy5ocmVmID0gbnVsbDtcbn1cblxuLy8gUmVmZXJlbmNlOiBSRkMgMzk4NiwgUkZDIDE4MDgsIFJGQyAyMzk2XG5cbi8vIGRlZmluZSB0aGVzZSBoZXJlIHNvIGF0IGxlYXN0IHRoZXkgb25seSBoYXZlIHRvIGJlXG4vLyBjb21waWxlZCBvbmNlIG9uIHRoZSBmaXJzdCBtb2R1bGUgbG9hZC5cbnZhciBwcm90b2NvbFBhdHRlcm4gPSAvXihbYS16MC05ListXSs6KS9pLFxuICAgIHBvcnRQYXR0ZXJuID0gLzpbMC05XSokLyxcblxuICAgIC8vIFNwZWNpYWwgY2FzZSBmb3IgYSBzaW1wbGUgcGF0aCBVUkxcbiAgICBzaW1wbGVQYXRoUGF0dGVybiA9IC9eKFxcL1xcLz8oPyFcXC8pW15cXD9cXHNdKikoXFw/W15cXHNdKik/JC8sXG5cbiAgICAvLyBSRkMgMjM5NjogY2hhcmFjdGVycyByZXNlcnZlZCBmb3IgZGVsaW1pdGluZyBVUkxzLlxuICAgIC8vIFdlIGFjdHVhbGx5IGp1c3QgYXV0by1lc2NhcGUgdGhlc2UuXG4gICAgZGVsaW1zID0gWyc8JywgJz4nLCAnXCInLCAnYCcsICcgJywgJ1xccicsICdcXG4nLCAnXFx0J10sXG5cbiAgICAvLyBSRkMgMjM5NjogY2hhcmFjdGVycyBub3QgYWxsb3dlZCBmb3IgdmFyaW91cyByZWFzb25zLlxuICAgIHVud2lzZSA9IFsneycsICd9JywgJ3wnLCAnXFxcXCcsICdeJywgJ2AnXS5jb25jYXQoZGVsaW1zKSxcblxuICAgIC8vIEFsbG93ZWQgYnkgUkZDcywgYnV0IGNhdXNlIG9mIFhTUyBhdHRhY2tzLiAgQWx3YXlzIGVzY2FwZSB0aGVzZS5cbiAgICBhdXRvRXNjYXBlID0gWydcXCcnXS5jb25jYXQodW53aXNlKSxcbiAgICAvLyBDaGFyYWN0ZXJzIHRoYXQgYXJlIG5ldmVyIGV2ZXIgYWxsb3dlZCBpbiBhIGhvc3RuYW1lLlxuICAgIC8vIE5vdGUgdGhhdCBhbnkgaW52YWxpZCBjaGFycyBhcmUgYWxzbyBoYW5kbGVkLCBidXQgdGhlc2VcbiAgICAvLyBhcmUgdGhlIG9uZXMgdGhhdCBhcmUgKmV4cGVjdGVkKiB0byBiZSBzZWVuLCBzbyB3ZSBmYXN0LXBhdGhcbiAgICAvLyB0aGVtLlxuICAgIG5vbkhvc3RDaGFycyA9IFsnJScsICcvJywgJz8nLCAnOycsICcjJ10uY29uY2F0KGF1dG9Fc2NhcGUpLFxuICAgIGhvc3RFbmRpbmdDaGFycyA9IFsnLycsICc/JywgJyMnXSxcbiAgICBob3N0bmFtZU1heExlbiA9IDI1NSxcbiAgICBob3N0bmFtZVBhcnRQYXR0ZXJuID0gL15bK2EtejAtOUEtWl8tXXswLDYzfSQvLFxuICAgIGhvc3RuYW1lUGFydFN0YXJ0ID0gL14oWythLXowLTlBLVpfLV17MCw2M30pKC4qKSQvLFxuICAgIC8vIHByb3RvY29scyB0aGF0IGNhbiBhbGxvdyBcInVuc2FmZVwiIGFuZCBcInVud2lzZVwiIGNoYXJzLlxuICAgIHVuc2FmZVByb3RvY29sID0ge1xuICAgICAgJ2phdmFzY3JpcHQnOiB0cnVlLFxuICAgICAgJ2phdmFzY3JpcHQ6JzogdHJ1ZVxuICAgIH0sXG4gICAgLy8gcHJvdG9jb2xzIHRoYXQgbmV2ZXIgaGF2ZSBhIGhvc3RuYW1lLlxuICAgIGhvc3RsZXNzUHJvdG9jb2wgPSB7XG4gICAgICAnamF2YXNjcmlwdCc6IHRydWUsXG4gICAgICAnamF2YXNjcmlwdDonOiB0cnVlXG4gICAgfSxcbiAgICAvLyBwcm90b2NvbHMgdGhhdCBhbHdheXMgY29udGFpbiBhIC8vIGJpdC5cbiAgICBzbGFzaGVkUHJvdG9jb2wgPSB7XG4gICAgICAnaHR0cCc6IHRydWUsXG4gICAgICAnaHR0cHMnOiB0cnVlLFxuICAgICAgJ2Z0cCc6IHRydWUsXG4gICAgICAnZ29waGVyJzogdHJ1ZSxcbiAgICAgICdmaWxlJzogdHJ1ZSxcbiAgICAgICdodHRwOic6IHRydWUsXG4gICAgICAnaHR0cHM6JzogdHJ1ZSxcbiAgICAgICdmdHA6JzogdHJ1ZSxcbiAgICAgICdnb3BoZXI6JzogdHJ1ZSxcbiAgICAgICdmaWxlOic6IHRydWVcbiAgICB9LFxuICAgIHF1ZXJ5c3RyaW5nID0gcmVxdWlyZSgncXVlcnlzdHJpbmcnKTtcblxuZnVuY3Rpb24gdXJsUGFyc2UodXJsLCBwYXJzZVF1ZXJ5U3RyaW5nLCBzbGFzaGVzRGVub3RlSG9zdCkge1xuICBpZiAodXJsICYmIHV0aWwuaXNPYmplY3QodXJsKSAmJiB1cmwgaW5zdGFuY2VvZiBVcmwpIHJldHVybiB1cmw7XG5cbiAgdmFyIHUgPSBuZXcgVXJsO1xuICB1LnBhcnNlKHVybCwgcGFyc2VRdWVyeVN0cmluZywgc2xhc2hlc0Rlbm90ZUhvc3QpO1xuICByZXR1cm4gdTtcbn1cblxuVXJsLnByb3RvdHlwZS5wYXJzZSA9IGZ1bmN0aW9uKHVybCwgcGFyc2VRdWVyeVN0cmluZywgc2xhc2hlc0Rlbm90ZUhvc3QpIHtcbiAgaWYgKCF1dGlsLmlzU3RyaW5nKHVybCkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUGFyYW1ldGVyICd1cmwnIG11c3QgYmUgYSBzdHJpbmcsIG5vdCBcIiArIHR5cGVvZiB1cmwpO1xuICB9XG5cbiAgLy8gQ29weSBjaHJvbWUsIElFLCBvcGVyYSBiYWNrc2xhc2gtaGFuZGxpbmcgYmVoYXZpb3IuXG4gIC8vIEJhY2sgc2xhc2hlcyBiZWZvcmUgdGhlIHF1ZXJ5IHN0cmluZyBnZXQgY29udmVydGVkIHRvIGZvcndhcmQgc2xhc2hlc1xuICAvLyBTZWU6IGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD0yNTkxNlxuICB2YXIgcXVlcnlJbmRleCA9IHVybC5pbmRleE9mKCc/JyksXG4gICAgICBzcGxpdHRlciA9XG4gICAgICAgICAgKHF1ZXJ5SW5kZXggIT09IC0xICYmIHF1ZXJ5SW5kZXggPCB1cmwuaW5kZXhPZignIycpKSA/ICc/JyA6ICcjJyxcbiAgICAgIHVTcGxpdCA9IHVybC5zcGxpdChzcGxpdHRlciksXG4gICAgICBzbGFzaFJlZ2V4ID0gL1xcXFwvZztcbiAgdVNwbGl0WzBdID0gdVNwbGl0WzBdLnJlcGxhY2Uoc2xhc2hSZWdleCwgJy8nKTtcbiAgdXJsID0gdVNwbGl0LmpvaW4oc3BsaXR0ZXIpO1xuXG4gIHZhciByZXN0ID0gdXJsO1xuXG4gIC8vIHRyaW0gYmVmb3JlIHByb2NlZWRpbmcuXG4gIC8vIFRoaXMgaXMgdG8gc3VwcG9ydCBwYXJzZSBzdHVmZiBsaWtlIFwiICBodHRwOi8vZm9vLmNvbSAgXFxuXCJcbiAgcmVzdCA9IHJlc3QudHJpbSgpO1xuXG4gIGlmICghc2xhc2hlc0Rlbm90ZUhvc3QgJiYgdXJsLnNwbGl0KCcjJykubGVuZ3RoID09PSAxKSB7XG4gICAgLy8gVHJ5IGZhc3QgcGF0aCByZWdleHBcbiAgICB2YXIgc2ltcGxlUGF0aCA9IHNpbXBsZVBhdGhQYXR0ZXJuLmV4ZWMocmVzdCk7XG4gICAgaWYgKHNpbXBsZVBhdGgpIHtcbiAgICAgIHRoaXMucGF0aCA9IHJlc3Q7XG4gICAgICB0aGlzLmhyZWYgPSByZXN0O1xuICAgICAgdGhpcy5wYXRobmFtZSA9IHNpbXBsZVBhdGhbMV07XG4gICAgICBpZiAoc2ltcGxlUGF0aFsyXSkge1xuICAgICAgICB0aGlzLnNlYXJjaCA9IHNpbXBsZVBhdGhbMl07XG4gICAgICAgIGlmIChwYXJzZVF1ZXJ5U3RyaW5nKSB7XG4gICAgICAgICAgdGhpcy5xdWVyeSA9IHF1ZXJ5c3RyaW5nLnBhcnNlKHRoaXMuc2VhcmNoLnN1YnN0cigxKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5xdWVyeSA9IHRoaXMuc2VhcmNoLnN1YnN0cigxKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChwYXJzZVF1ZXJ5U3RyaW5nKSB7XG4gICAgICAgIHRoaXMuc2VhcmNoID0gJyc7XG4gICAgICAgIHRoaXMucXVlcnkgPSB7fTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfVxuXG4gIHZhciBwcm90byA9IHByb3RvY29sUGF0dGVybi5leGVjKHJlc3QpO1xuICBpZiAocHJvdG8pIHtcbiAgICBwcm90byA9IHByb3RvWzBdO1xuICAgIHZhciBsb3dlclByb3RvID0gcHJvdG8udG9Mb3dlckNhc2UoKTtcbiAgICB0aGlzLnByb3RvY29sID0gbG93ZXJQcm90bztcbiAgICByZXN0ID0gcmVzdC5zdWJzdHIocHJvdG8ubGVuZ3RoKTtcbiAgfVxuXG4gIC8vIGZpZ3VyZSBvdXQgaWYgaXQncyBnb3QgYSBob3N0XG4gIC8vIHVzZXJAc2VydmVyIGlzICphbHdheXMqIGludGVycHJldGVkIGFzIGEgaG9zdG5hbWUsIGFuZCB1cmxcbiAgLy8gcmVzb2x1dGlvbiB3aWxsIHRyZWF0IC8vZm9vL2JhciBhcyBob3N0PWZvbyxwYXRoPWJhciBiZWNhdXNlIHRoYXQnc1xuICAvLyBob3cgdGhlIGJyb3dzZXIgcmVzb2x2ZXMgcmVsYXRpdmUgVVJMcy5cbiAgaWYgKHNsYXNoZXNEZW5vdGVIb3N0IHx8IHByb3RvIHx8IHJlc3QubWF0Y2goL15cXC9cXC9bXkBcXC9dK0BbXkBcXC9dKy8pKSB7XG4gICAgdmFyIHNsYXNoZXMgPSByZXN0LnN1YnN0cigwLCAyKSA9PT0gJy8vJztcbiAgICBpZiAoc2xhc2hlcyAmJiAhKHByb3RvICYmIGhvc3RsZXNzUHJvdG9jb2xbcHJvdG9dKSkge1xuICAgICAgcmVzdCA9IHJlc3Quc3Vic3RyKDIpO1xuICAgICAgdGhpcy5zbGFzaGVzID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICBpZiAoIWhvc3RsZXNzUHJvdG9jb2xbcHJvdG9dICYmXG4gICAgICAoc2xhc2hlcyB8fCAocHJvdG8gJiYgIXNsYXNoZWRQcm90b2NvbFtwcm90b10pKSkge1xuXG4gICAgLy8gdGhlcmUncyBhIGhvc3RuYW1lLlxuICAgIC8vIHRoZSBmaXJzdCBpbnN0YW5jZSBvZiAvLCA/LCA7LCBvciAjIGVuZHMgdGhlIGhvc3QuXG4gICAgLy9cbiAgICAvLyBJZiB0aGVyZSBpcyBhbiBAIGluIHRoZSBob3N0bmFtZSwgdGhlbiBub24taG9zdCBjaGFycyAqYXJlKiBhbGxvd2VkXG4gICAgLy8gdG8gdGhlIGxlZnQgb2YgdGhlIGxhc3QgQCBzaWduLCB1bmxlc3Mgc29tZSBob3N0LWVuZGluZyBjaGFyYWN0ZXJcbiAgICAvLyBjb21lcyAqYmVmb3JlKiB0aGUgQC1zaWduLlxuICAgIC8vIFVSTHMgYXJlIG9ibm94aW91cy5cbiAgICAvL1xuICAgIC8vIGV4OlxuICAgIC8vIGh0dHA6Ly9hQGJAYy8gPT4gdXNlcjphQGIgaG9zdDpjXG4gICAgLy8gaHR0cDovL2FAYj9AYyA9PiB1c2VyOmEgaG9zdDpjIHBhdGg6Lz9AY1xuXG4gICAgLy8gdjAuMTIgVE9ETyhpc2FhY3MpOiBUaGlzIGlzIG5vdCBxdWl0ZSBob3cgQ2hyb21lIGRvZXMgdGhpbmdzLlxuICAgIC8vIFJldmlldyBvdXIgdGVzdCBjYXNlIGFnYWluc3QgYnJvd3NlcnMgbW9yZSBjb21wcmVoZW5zaXZlbHkuXG5cbiAgICAvLyBmaW5kIHRoZSBmaXJzdCBpbnN0YW5jZSBvZiBhbnkgaG9zdEVuZGluZ0NoYXJzXG4gICAgdmFyIGhvc3RFbmQgPSAtMTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGhvc3RFbmRpbmdDaGFycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGhlYyA9IHJlc3QuaW5kZXhPZihob3N0RW5kaW5nQ2hhcnNbaV0pO1xuICAgICAgaWYgKGhlYyAhPT0gLTEgJiYgKGhvc3RFbmQgPT09IC0xIHx8IGhlYyA8IGhvc3RFbmQpKVxuICAgICAgICBob3N0RW5kID0gaGVjO1xuICAgIH1cblxuICAgIC8vIGF0IHRoaXMgcG9pbnQsIGVpdGhlciB3ZSBoYXZlIGFuIGV4cGxpY2l0IHBvaW50IHdoZXJlIHRoZVxuICAgIC8vIGF1dGggcG9ydGlvbiBjYW5ub3QgZ28gcGFzdCwgb3IgdGhlIGxhc3QgQCBjaGFyIGlzIHRoZSBkZWNpZGVyLlxuICAgIHZhciBhdXRoLCBhdFNpZ247XG4gICAgaWYgKGhvc3RFbmQgPT09IC0xKSB7XG4gICAgICAvLyBhdFNpZ24gY2FuIGJlIGFueXdoZXJlLlxuICAgICAgYXRTaWduID0gcmVzdC5sYXN0SW5kZXhPZignQCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBhdFNpZ24gbXVzdCBiZSBpbiBhdXRoIHBvcnRpb24uXG4gICAgICAvLyBodHRwOi8vYUBiL2NAZCA9PiBob3N0OmIgYXV0aDphIHBhdGg6L2NAZFxuICAgICAgYXRTaWduID0gcmVzdC5sYXN0SW5kZXhPZignQCcsIGhvc3RFbmQpO1xuICAgIH1cblxuICAgIC8vIE5vdyB3ZSBoYXZlIGEgcG9ydGlvbiB3aGljaCBpcyBkZWZpbml0ZWx5IHRoZSBhdXRoLlxuICAgIC8vIFB1bGwgdGhhdCBvZmYuXG4gICAgaWYgKGF0U2lnbiAhPT0gLTEpIHtcbiAgICAgIGF1dGggPSByZXN0LnNsaWNlKDAsIGF0U2lnbik7XG4gICAgICByZXN0ID0gcmVzdC5zbGljZShhdFNpZ24gKyAxKTtcbiAgICAgIHRoaXMuYXV0aCA9IGRlY29kZVVSSUNvbXBvbmVudChhdXRoKTtcbiAgICB9XG5cbiAgICAvLyB0aGUgaG9zdCBpcyB0aGUgcmVtYWluaW5nIHRvIHRoZSBsZWZ0IG9mIHRoZSBmaXJzdCBub24taG9zdCBjaGFyXG4gICAgaG9zdEVuZCA9IC0xO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9uSG9zdENoYXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaGVjID0gcmVzdC5pbmRleE9mKG5vbkhvc3RDaGFyc1tpXSk7XG4gICAgICBpZiAoaGVjICE9PSAtMSAmJiAoaG9zdEVuZCA9PT0gLTEgfHwgaGVjIDwgaG9zdEVuZCkpXG4gICAgICAgIGhvc3RFbmQgPSBoZWM7XG4gICAgfVxuICAgIC8vIGlmIHdlIHN0aWxsIGhhdmUgbm90IGhpdCBpdCwgdGhlbiB0aGUgZW50aXJlIHRoaW5nIGlzIGEgaG9zdC5cbiAgICBpZiAoaG9zdEVuZCA9PT0gLTEpXG4gICAgICBob3N0RW5kID0gcmVzdC5sZW5ndGg7XG5cbiAgICB0aGlzLmhvc3QgPSByZXN0LnNsaWNlKDAsIGhvc3RFbmQpO1xuICAgIHJlc3QgPSByZXN0LnNsaWNlKGhvc3RFbmQpO1xuXG4gICAgLy8gcHVsbCBvdXQgcG9ydC5cbiAgICB0aGlzLnBhcnNlSG9zdCgpO1xuXG4gICAgLy8gd2UndmUgaW5kaWNhdGVkIHRoYXQgdGhlcmUgaXMgYSBob3N0bmFtZSxcbiAgICAvLyBzbyBldmVuIGlmIGl0J3MgZW1wdHksIGl0IGhhcyB0byBiZSBwcmVzZW50LlxuICAgIHRoaXMuaG9zdG5hbWUgPSB0aGlzLmhvc3RuYW1lIHx8ICcnO1xuXG4gICAgLy8gaWYgaG9zdG5hbWUgYmVnaW5zIHdpdGggWyBhbmQgZW5kcyB3aXRoIF1cbiAgICAvLyBhc3N1bWUgdGhhdCBpdCdzIGFuIElQdjYgYWRkcmVzcy5cbiAgICB2YXIgaXB2Nkhvc3RuYW1lID0gdGhpcy5ob3N0bmFtZVswXSA9PT0gJ1snICYmXG4gICAgICAgIHRoaXMuaG9zdG5hbWVbdGhpcy5ob3N0bmFtZS5sZW5ndGggLSAxXSA9PT0gJ10nO1xuXG4gICAgLy8gdmFsaWRhdGUgYSBsaXR0bGUuXG4gICAgaWYgKCFpcHY2SG9zdG5hbWUpIHtcbiAgICAgIHZhciBob3N0cGFydHMgPSB0aGlzLmhvc3RuYW1lLnNwbGl0KC9cXC4vKTtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gaG9zdHBhcnRzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICB2YXIgcGFydCA9IGhvc3RwYXJ0c1tpXTtcbiAgICAgICAgaWYgKCFwYXJ0KSBjb250aW51ZTtcbiAgICAgICAgaWYgKCFwYXJ0Lm1hdGNoKGhvc3RuYW1lUGFydFBhdHRlcm4pKSB7XG4gICAgICAgICAgdmFyIG5ld3BhcnQgPSAnJztcbiAgICAgICAgICBmb3IgKHZhciBqID0gMCwgayA9IHBhcnQubGVuZ3RoOyBqIDwgazsgaisrKSB7XG4gICAgICAgICAgICBpZiAocGFydC5jaGFyQ29kZUF0KGopID4gMTI3KSB7XG4gICAgICAgICAgICAgIC8vIHdlIHJlcGxhY2Ugbm9uLUFTQ0lJIGNoYXIgd2l0aCBhIHRlbXBvcmFyeSBwbGFjZWhvbGRlclxuICAgICAgICAgICAgICAvLyB3ZSBuZWVkIHRoaXMgdG8gbWFrZSBzdXJlIHNpemUgb2YgaG9zdG5hbWUgaXMgbm90XG4gICAgICAgICAgICAgIC8vIGJyb2tlbiBieSByZXBsYWNpbmcgbm9uLUFTQ0lJIGJ5IG5vdGhpbmdcbiAgICAgICAgICAgICAgbmV3cGFydCArPSAneCc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBuZXdwYXJ0ICs9IHBhcnRbal07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIHdlIHRlc3QgYWdhaW4gd2l0aCBBU0NJSSBjaGFyIG9ubHlcbiAgICAgICAgICBpZiAoIW5ld3BhcnQubWF0Y2goaG9zdG5hbWVQYXJ0UGF0dGVybikpIHtcbiAgICAgICAgICAgIHZhciB2YWxpZFBhcnRzID0gaG9zdHBhcnRzLnNsaWNlKDAsIGkpO1xuICAgICAgICAgICAgdmFyIG5vdEhvc3QgPSBob3N0cGFydHMuc2xpY2UoaSArIDEpO1xuICAgICAgICAgICAgdmFyIGJpdCA9IHBhcnQubWF0Y2goaG9zdG5hbWVQYXJ0U3RhcnQpO1xuICAgICAgICAgICAgaWYgKGJpdCkge1xuICAgICAgICAgICAgICB2YWxpZFBhcnRzLnB1c2goYml0WzFdKTtcbiAgICAgICAgICAgICAgbm90SG9zdC51bnNoaWZ0KGJpdFsyXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobm90SG9zdC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgcmVzdCA9ICcvJyArIG5vdEhvc3Quam9pbignLicpICsgcmVzdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuaG9zdG5hbWUgPSB2YWxpZFBhcnRzLmpvaW4oJy4nKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLmhvc3RuYW1lLmxlbmd0aCA+IGhvc3RuYW1lTWF4TGVuKSB7XG4gICAgICB0aGlzLmhvc3RuYW1lID0gJyc7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGhvc3RuYW1lcyBhcmUgYWx3YXlzIGxvd2VyIGNhc2UuXG4gICAgICB0aGlzLmhvc3RuYW1lID0gdGhpcy5ob3N0bmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgIH1cblxuICAgIGlmICghaXB2Nkhvc3RuYW1lKSB7XG4gICAgICAvLyBJRE5BIFN1cHBvcnQ6IFJldHVybnMgYSBwdW55Y29kZWQgcmVwcmVzZW50YXRpb24gb2YgXCJkb21haW5cIi5cbiAgICAgIC8vIEl0IG9ubHkgY29udmVydHMgcGFydHMgb2YgdGhlIGRvbWFpbiBuYW1lIHRoYXRcbiAgICAgIC8vIGhhdmUgbm9uLUFTQ0lJIGNoYXJhY3RlcnMsIGkuZS4gaXQgZG9lc24ndCBtYXR0ZXIgaWZcbiAgICAgIC8vIHlvdSBjYWxsIGl0IHdpdGggYSBkb21haW4gdGhhdCBhbHJlYWR5IGlzIEFTQ0lJLW9ubHkuXG4gICAgICB0aGlzLmhvc3RuYW1lID0gcHVueWNvZGUudG9BU0NJSSh0aGlzLmhvc3RuYW1lKTtcbiAgICB9XG5cbiAgICB2YXIgcCA9IHRoaXMucG9ydCA/ICc6JyArIHRoaXMucG9ydCA6ICcnO1xuICAgIHZhciBoID0gdGhpcy5ob3N0bmFtZSB8fCAnJztcbiAgICB0aGlzLmhvc3QgPSBoICsgcDtcbiAgICB0aGlzLmhyZWYgKz0gdGhpcy5ob3N0O1xuXG4gICAgLy8gc3RyaXAgWyBhbmQgXSBmcm9tIHRoZSBob3N0bmFtZVxuICAgIC8vIHRoZSBob3N0IGZpZWxkIHN0aWxsIHJldGFpbnMgdGhlbSwgdGhvdWdoXG4gICAgaWYgKGlwdjZIb3N0bmFtZSkge1xuICAgICAgdGhpcy5ob3N0bmFtZSA9IHRoaXMuaG9zdG5hbWUuc3Vic3RyKDEsIHRoaXMuaG9zdG5hbWUubGVuZ3RoIC0gMik7XG4gICAgICBpZiAocmVzdFswXSAhPT0gJy8nKSB7XG4gICAgICAgIHJlc3QgPSAnLycgKyByZXN0O1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIG5vdyByZXN0IGlzIHNldCB0byB0aGUgcG9zdC1ob3N0IHN0dWZmLlxuICAvLyBjaG9wIG9mZiBhbnkgZGVsaW0gY2hhcnMuXG4gIGlmICghdW5zYWZlUHJvdG9jb2xbbG93ZXJQcm90b10pIHtcblxuICAgIC8vIEZpcnN0LCBtYWtlIDEwMCUgc3VyZSB0aGF0IGFueSBcImF1dG9Fc2NhcGVcIiBjaGFycyBnZXRcbiAgICAvLyBlc2NhcGVkLCBldmVuIGlmIGVuY29kZVVSSUNvbXBvbmVudCBkb2Vzbid0IHRoaW5rIHRoZXlcbiAgICAvLyBuZWVkIHRvIGJlLlxuICAgIGZvciAodmFyIGkgPSAwLCBsID0gYXV0b0VzY2FwZS5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIHZhciBhZSA9IGF1dG9Fc2NhcGVbaV07XG4gICAgICBpZiAocmVzdC5pbmRleE9mKGFlKSA9PT0gLTEpXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgdmFyIGVzYyA9IGVuY29kZVVSSUNvbXBvbmVudChhZSk7XG4gICAgICBpZiAoZXNjID09PSBhZSkge1xuICAgICAgICBlc2MgPSBlc2NhcGUoYWUpO1xuICAgICAgfVxuICAgICAgcmVzdCA9IHJlc3Quc3BsaXQoYWUpLmpvaW4oZXNjKTtcbiAgICB9XG4gIH1cblxuXG4gIC8vIGNob3Agb2ZmIGZyb20gdGhlIHRhaWwgZmlyc3QuXG4gIHZhciBoYXNoID0gcmVzdC5pbmRleE9mKCcjJyk7XG4gIGlmIChoYXNoICE9PSAtMSkge1xuICAgIC8vIGdvdCBhIGZyYWdtZW50IHN0cmluZy5cbiAgICB0aGlzLmhhc2ggPSByZXN0LnN1YnN0cihoYXNoKTtcbiAgICByZXN0ID0gcmVzdC5zbGljZSgwLCBoYXNoKTtcbiAgfVxuICB2YXIgcW0gPSByZXN0LmluZGV4T2YoJz8nKTtcbiAgaWYgKHFtICE9PSAtMSkge1xuICAgIHRoaXMuc2VhcmNoID0gcmVzdC5zdWJzdHIocW0pO1xuICAgIHRoaXMucXVlcnkgPSByZXN0LnN1YnN0cihxbSArIDEpO1xuICAgIGlmIChwYXJzZVF1ZXJ5U3RyaW5nKSB7XG4gICAgICB0aGlzLnF1ZXJ5ID0gcXVlcnlzdHJpbmcucGFyc2UodGhpcy5xdWVyeSk7XG4gICAgfVxuICAgIHJlc3QgPSByZXN0LnNsaWNlKDAsIHFtKTtcbiAgfSBlbHNlIGlmIChwYXJzZVF1ZXJ5U3RyaW5nKSB7XG4gICAgLy8gbm8gcXVlcnkgc3RyaW5nLCBidXQgcGFyc2VRdWVyeVN0cmluZyBzdGlsbCByZXF1ZXN0ZWRcbiAgICB0aGlzLnNlYXJjaCA9ICcnO1xuICAgIHRoaXMucXVlcnkgPSB7fTtcbiAgfVxuICBpZiAocmVzdCkgdGhpcy5wYXRobmFtZSA9IHJlc3Q7XG4gIGlmIChzbGFzaGVkUHJvdG9jb2xbbG93ZXJQcm90b10gJiZcbiAgICAgIHRoaXMuaG9zdG5hbWUgJiYgIXRoaXMucGF0aG5hbWUpIHtcbiAgICB0aGlzLnBhdGhuYW1lID0gJy8nO1xuICB9XG5cbiAgLy90byBzdXBwb3J0IGh0dHAucmVxdWVzdFxuICBpZiAodGhpcy5wYXRobmFtZSB8fCB0aGlzLnNlYXJjaCkge1xuICAgIHZhciBwID0gdGhpcy5wYXRobmFtZSB8fCAnJztcbiAgICB2YXIgcyA9IHRoaXMuc2VhcmNoIHx8ICcnO1xuICAgIHRoaXMucGF0aCA9IHAgKyBzO1xuICB9XG5cbiAgLy8gZmluYWxseSwgcmVjb25zdHJ1Y3QgdGhlIGhyZWYgYmFzZWQgb24gd2hhdCBoYXMgYmVlbiB2YWxpZGF0ZWQuXG4gIHRoaXMuaHJlZiA9IHRoaXMuZm9ybWF0KCk7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLy8gZm9ybWF0IGEgcGFyc2VkIG9iamVjdCBpbnRvIGEgdXJsIHN0cmluZ1xuZnVuY3Rpb24gdXJsRm9ybWF0KG9iaikge1xuICAvLyBlbnN1cmUgaXQncyBhbiBvYmplY3QsIGFuZCBub3QgYSBzdHJpbmcgdXJsLlxuICAvLyBJZiBpdCdzIGFuIG9iaiwgdGhpcyBpcyBhIG5vLW9wLlxuICAvLyB0aGlzIHdheSwgeW91IGNhbiBjYWxsIHVybF9mb3JtYXQoKSBvbiBzdHJpbmdzXG4gIC8vIHRvIGNsZWFuIHVwIHBvdGVudGlhbGx5IHdvbmt5IHVybHMuXG4gIGlmICh1dGlsLmlzU3RyaW5nKG9iaikpIG9iaiA9IHVybFBhcnNlKG9iaik7XG4gIGlmICghKG9iaiBpbnN0YW5jZW9mIFVybCkpIHJldHVybiBVcmwucHJvdG90eXBlLmZvcm1hdC5jYWxsKG9iaik7XG4gIHJldHVybiBvYmouZm9ybWF0KCk7XG59XG5cblVybC5wcm90b3R5cGUuZm9ybWF0ID0gZnVuY3Rpb24oKSB7XG4gIHZhciBhdXRoID0gdGhpcy5hdXRoIHx8ICcnO1xuICBpZiAoYXV0aCkge1xuICAgIGF1dGggPSBlbmNvZGVVUklDb21wb25lbnQoYXV0aCk7XG4gICAgYXV0aCA9IGF1dGgucmVwbGFjZSgvJTNBL2ksICc6Jyk7XG4gICAgYXV0aCArPSAnQCc7XG4gIH1cblxuICB2YXIgcHJvdG9jb2wgPSB0aGlzLnByb3RvY29sIHx8ICcnLFxuICAgICAgcGF0aG5hbWUgPSB0aGlzLnBhdGhuYW1lIHx8ICcnLFxuICAgICAgaGFzaCA9IHRoaXMuaGFzaCB8fCAnJyxcbiAgICAgIGhvc3QgPSBmYWxzZSxcbiAgICAgIHF1ZXJ5ID0gJyc7XG5cbiAgaWYgKHRoaXMuaG9zdCkge1xuICAgIGhvc3QgPSBhdXRoICsgdGhpcy5ob3N0O1xuICB9IGVsc2UgaWYgKHRoaXMuaG9zdG5hbWUpIHtcbiAgICBob3N0ID0gYXV0aCArICh0aGlzLmhvc3RuYW1lLmluZGV4T2YoJzonKSA9PT0gLTEgP1xuICAgICAgICB0aGlzLmhvc3RuYW1lIDpcbiAgICAgICAgJ1snICsgdGhpcy5ob3N0bmFtZSArICddJyk7XG4gICAgaWYgKHRoaXMucG9ydCkge1xuICAgICAgaG9zdCArPSAnOicgKyB0aGlzLnBvcnQ7XG4gICAgfVxuICB9XG5cbiAgaWYgKHRoaXMucXVlcnkgJiZcbiAgICAgIHV0aWwuaXNPYmplY3QodGhpcy5xdWVyeSkgJiZcbiAgICAgIE9iamVjdC5rZXlzKHRoaXMucXVlcnkpLmxlbmd0aCkge1xuICAgIHF1ZXJ5ID0gcXVlcnlzdHJpbmcuc3RyaW5naWZ5KHRoaXMucXVlcnkpO1xuICB9XG5cbiAgdmFyIHNlYXJjaCA9IHRoaXMuc2VhcmNoIHx8IChxdWVyeSAmJiAoJz8nICsgcXVlcnkpKSB8fCAnJztcblxuICBpZiAocHJvdG9jb2wgJiYgcHJvdG9jb2wuc3Vic3RyKC0xKSAhPT0gJzonKSBwcm90b2NvbCArPSAnOic7XG5cbiAgLy8gb25seSB0aGUgc2xhc2hlZFByb3RvY29scyBnZXQgdGhlIC8vLiAgTm90IG1haWx0bzosIHhtcHA6LCBldGMuXG4gIC8vIHVubGVzcyB0aGV5IGhhZCB0aGVtIHRvIGJlZ2luIHdpdGguXG4gIGlmICh0aGlzLnNsYXNoZXMgfHxcbiAgICAgICghcHJvdG9jb2wgfHwgc2xhc2hlZFByb3RvY29sW3Byb3RvY29sXSkgJiYgaG9zdCAhPT0gZmFsc2UpIHtcbiAgICBob3N0ID0gJy8vJyArIChob3N0IHx8ICcnKTtcbiAgICBpZiAocGF0aG5hbWUgJiYgcGF0aG5hbWUuY2hhckF0KDApICE9PSAnLycpIHBhdGhuYW1lID0gJy8nICsgcGF0aG5hbWU7XG4gIH0gZWxzZSBpZiAoIWhvc3QpIHtcbiAgICBob3N0ID0gJyc7XG4gIH1cblxuICBpZiAoaGFzaCAmJiBoYXNoLmNoYXJBdCgwKSAhPT0gJyMnKSBoYXNoID0gJyMnICsgaGFzaDtcbiAgaWYgKHNlYXJjaCAmJiBzZWFyY2guY2hhckF0KDApICE9PSAnPycpIHNlYXJjaCA9ICc/JyArIHNlYXJjaDtcblxuICBwYXRobmFtZSA9IHBhdGhuYW1lLnJlcGxhY2UoL1s/I10vZywgZnVuY3Rpb24obWF0Y2gpIHtcbiAgICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KG1hdGNoKTtcbiAgfSk7XG4gIHNlYXJjaCA9IHNlYXJjaC5yZXBsYWNlKCcjJywgJyUyMycpO1xuXG4gIHJldHVybiBwcm90b2NvbCArIGhvc3QgKyBwYXRobmFtZSArIHNlYXJjaCArIGhhc2g7XG59O1xuXG5mdW5jdGlvbiB1cmxSZXNvbHZlKHNvdXJjZSwgcmVsYXRpdmUpIHtcbiAgcmV0dXJuIHVybFBhcnNlKHNvdXJjZSwgZmFsc2UsIHRydWUpLnJlc29sdmUocmVsYXRpdmUpO1xufVxuXG5VcmwucHJvdG90eXBlLnJlc29sdmUgPSBmdW5jdGlvbihyZWxhdGl2ZSkge1xuICByZXR1cm4gdGhpcy5yZXNvbHZlT2JqZWN0KHVybFBhcnNlKHJlbGF0aXZlLCBmYWxzZSwgdHJ1ZSkpLmZvcm1hdCgpO1xufTtcblxuZnVuY3Rpb24gdXJsUmVzb2x2ZU9iamVjdChzb3VyY2UsIHJlbGF0aXZlKSB7XG4gIGlmICghc291cmNlKSByZXR1cm4gcmVsYXRpdmU7XG4gIHJldHVybiB1cmxQYXJzZShzb3VyY2UsIGZhbHNlLCB0cnVlKS5yZXNvbHZlT2JqZWN0KHJlbGF0aXZlKTtcbn1cblxuVXJsLnByb3RvdHlwZS5yZXNvbHZlT2JqZWN0ID0gZnVuY3Rpb24ocmVsYXRpdmUpIHtcbiAgaWYgKHV0aWwuaXNTdHJpbmcocmVsYXRpdmUpKSB7XG4gICAgdmFyIHJlbCA9IG5ldyBVcmwoKTtcbiAgICByZWwucGFyc2UocmVsYXRpdmUsIGZhbHNlLCB0cnVlKTtcbiAgICByZWxhdGl2ZSA9IHJlbDtcbiAgfVxuXG4gIHZhciByZXN1bHQgPSBuZXcgVXJsKCk7XG4gIHZhciB0a2V5cyA9IE9iamVjdC5rZXlzKHRoaXMpO1xuICBmb3IgKHZhciB0ayA9IDA7IHRrIDwgdGtleXMubGVuZ3RoOyB0aysrKSB7XG4gICAgdmFyIHRrZXkgPSB0a2V5c1t0a107XG4gICAgcmVzdWx0W3RrZXldID0gdGhpc1t0a2V5XTtcbiAgfVxuXG4gIC8vIGhhc2ggaXMgYWx3YXlzIG92ZXJyaWRkZW4sIG5vIG1hdHRlciB3aGF0LlxuICAvLyBldmVuIGhyZWY9XCJcIiB3aWxsIHJlbW92ZSBpdC5cbiAgcmVzdWx0Lmhhc2ggPSByZWxhdGl2ZS5oYXNoO1xuXG4gIC8vIGlmIHRoZSByZWxhdGl2ZSB1cmwgaXMgZW1wdHksIHRoZW4gdGhlcmUncyBub3RoaW5nIGxlZnQgdG8gZG8gaGVyZS5cbiAgaWYgKHJlbGF0aXZlLmhyZWYgPT09ICcnKSB7XG4gICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8vIGhyZWZzIGxpa2UgLy9mb28vYmFyIGFsd2F5cyBjdXQgdG8gdGhlIHByb3RvY29sLlxuICBpZiAocmVsYXRpdmUuc2xhc2hlcyAmJiAhcmVsYXRpdmUucHJvdG9jb2wpIHtcbiAgICAvLyB0YWtlIGV2ZXJ5dGhpbmcgZXhjZXB0IHRoZSBwcm90b2NvbCBmcm9tIHJlbGF0aXZlXG4gICAgdmFyIHJrZXlzID0gT2JqZWN0LmtleXMocmVsYXRpdmUpO1xuICAgIGZvciAodmFyIHJrID0gMDsgcmsgPCBya2V5cy5sZW5ndGg7IHJrKyspIHtcbiAgICAgIHZhciBya2V5ID0gcmtleXNbcmtdO1xuICAgICAgaWYgKHJrZXkgIT09ICdwcm90b2NvbCcpXG4gICAgICAgIHJlc3VsdFtya2V5XSA9IHJlbGF0aXZlW3JrZXldO1xuICAgIH1cblxuICAgIC8vdXJsUGFyc2UgYXBwZW5kcyB0cmFpbGluZyAvIHRvIHVybHMgbGlrZSBodHRwOi8vd3d3LmV4YW1wbGUuY29tXG4gICAgaWYgKHNsYXNoZWRQcm90b2NvbFtyZXN1bHQucHJvdG9jb2xdICYmXG4gICAgICAgIHJlc3VsdC5ob3N0bmFtZSAmJiAhcmVzdWx0LnBhdGhuYW1lKSB7XG4gICAgICByZXN1bHQucGF0aCA9IHJlc3VsdC5wYXRobmFtZSA9ICcvJztcbiAgICB9XG5cbiAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgaWYgKHJlbGF0aXZlLnByb3RvY29sICYmIHJlbGF0aXZlLnByb3RvY29sICE9PSByZXN1bHQucHJvdG9jb2wpIHtcbiAgICAvLyBpZiBpdCdzIGEga25vd24gdXJsIHByb3RvY29sLCB0aGVuIGNoYW5naW5nXG4gICAgLy8gdGhlIHByb3RvY29sIGRvZXMgd2VpcmQgdGhpbmdzXG4gICAgLy8gZmlyc3QsIGlmIGl0J3Mgbm90IGZpbGU6LCB0aGVuIHdlIE1VU1QgaGF2ZSBhIGhvc3QsXG4gICAgLy8gYW5kIGlmIHRoZXJlIHdhcyBhIHBhdGhcbiAgICAvLyB0byBiZWdpbiB3aXRoLCB0aGVuIHdlIE1VU1QgaGF2ZSBhIHBhdGguXG4gICAgLy8gaWYgaXQgaXMgZmlsZTosIHRoZW4gdGhlIGhvc3QgaXMgZHJvcHBlZCxcbiAgICAvLyBiZWNhdXNlIHRoYXQncyBrbm93biB0byBiZSBob3N0bGVzcy5cbiAgICAvLyBhbnl0aGluZyBlbHNlIGlzIGFzc3VtZWQgdG8gYmUgYWJzb2x1dGUuXG4gICAgaWYgKCFzbGFzaGVkUHJvdG9jb2xbcmVsYXRpdmUucHJvdG9jb2xdKSB7XG4gICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHJlbGF0aXZlKTtcbiAgICAgIGZvciAodmFyIHYgPSAwOyB2IDwga2V5cy5sZW5ndGg7IHYrKykge1xuICAgICAgICB2YXIgayA9IGtleXNbdl07XG4gICAgICAgIHJlc3VsdFtrXSA9IHJlbGF0aXZlW2tdO1xuICAgICAgfVxuICAgICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIHJlc3VsdC5wcm90b2NvbCA9IHJlbGF0aXZlLnByb3RvY29sO1xuICAgIGlmICghcmVsYXRpdmUuaG9zdCAmJiAhaG9zdGxlc3NQcm90b2NvbFtyZWxhdGl2ZS5wcm90b2NvbF0pIHtcbiAgICAgIHZhciByZWxQYXRoID0gKHJlbGF0aXZlLnBhdGhuYW1lIHx8ICcnKS5zcGxpdCgnLycpO1xuICAgICAgd2hpbGUgKHJlbFBhdGgubGVuZ3RoICYmICEocmVsYXRpdmUuaG9zdCA9IHJlbFBhdGguc2hpZnQoKSkpO1xuICAgICAgaWYgKCFyZWxhdGl2ZS5ob3N0KSByZWxhdGl2ZS5ob3N0ID0gJyc7XG4gICAgICBpZiAoIXJlbGF0aXZlLmhvc3RuYW1lKSByZWxhdGl2ZS5ob3N0bmFtZSA9ICcnO1xuICAgICAgaWYgKHJlbFBhdGhbMF0gIT09ICcnKSByZWxQYXRoLnVuc2hpZnQoJycpO1xuICAgICAgaWYgKHJlbFBhdGgubGVuZ3RoIDwgMikgcmVsUGF0aC51bnNoaWZ0KCcnKTtcbiAgICAgIHJlc3VsdC5wYXRobmFtZSA9IHJlbFBhdGguam9pbignLycpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQucGF0aG5hbWUgPSByZWxhdGl2ZS5wYXRobmFtZTtcbiAgICB9XG4gICAgcmVzdWx0LnNlYXJjaCA9IHJlbGF0aXZlLnNlYXJjaDtcbiAgICByZXN1bHQucXVlcnkgPSByZWxhdGl2ZS5xdWVyeTtcbiAgICByZXN1bHQuaG9zdCA9IHJlbGF0aXZlLmhvc3QgfHwgJyc7XG4gICAgcmVzdWx0LmF1dGggPSByZWxhdGl2ZS5hdXRoO1xuICAgIHJlc3VsdC5ob3N0bmFtZSA9IHJlbGF0aXZlLmhvc3RuYW1lIHx8IHJlbGF0aXZlLmhvc3Q7XG4gICAgcmVzdWx0LnBvcnQgPSByZWxhdGl2ZS5wb3J0O1xuICAgIC8vIHRvIHN1cHBvcnQgaHR0cC5yZXF1ZXN0XG4gICAgaWYgKHJlc3VsdC5wYXRobmFtZSB8fCByZXN1bHQuc2VhcmNoKSB7XG4gICAgICB2YXIgcCA9IHJlc3VsdC5wYXRobmFtZSB8fCAnJztcbiAgICAgIHZhciBzID0gcmVzdWx0LnNlYXJjaCB8fCAnJztcbiAgICAgIHJlc3VsdC5wYXRoID0gcCArIHM7XG4gICAgfVxuICAgIHJlc3VsdC5zbGFzaGVzID0gcmVzdWx0LnNsYXNoZXMgfHwgcmVsYXRpdmUuc2xhc2hlcztcbiAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgdmFyIGlzU291cmNlQWJzID0gKHJlc3VsdC5wYXRobmFtZSAmJiByZXN1bHQucGF0aG5hbWUuY2hhckF0KDApID09PSAnLycpLFxuICAgICAgaXNSZWxBYnMgPSAoXG4gICAgICAgICAgcmVsYXRpdmUuaG9zdCB8fFxuICAgICAgICAgIHJlbGF0aXZlLnBhdGhuYW1lICYmIHJlbGF0aXZlLnBhdGhuYW1lLmNoYXJBdCgwKSA9PT0gJy8nXG4gICAgICApLFxuICAgICAgbXVzdEVuZEFicyA9IChpc1JlbEFicyB8fCBpc1NvdXJjZUFicyB8fFxuICAgICAgICAgICAgICAgICAgICAocmVzdWx0Lmhvc3QgJiYgcmVsYXRpdmUucGF0aG5hbWUpKSxcbiAgICAgIHJlbW92ZUFsbERvdHMgPSBtdXN0RW5kQWJzLFxuICAgICAgc3JjUGF0aCA9IHJlc3VsdC5wYXRobmFtZSAmJiByZXN1bHQucGF0aG5hbWUuc3BsaXQoJy8nKSB8fCBbXSxcbiAgICAgIHJlbFBhdGggPSByZWxhdGl2ZS5wYXRobmFtZSAmJiByZWxhdGl2ZS5wYXRobmFtZS5zcGxpdCgnLycpIHx8IFtdLFxuICAgICAgcHN5Y2hvdGljID0gcmVzdWx0LnByb3RvY29sICYmICFzbGFzaGVkUHJvdG9jb2xbcmVzdWx0LnByb3RvY29sXTtcblxuICAvLyBpZiB0aGUgdXJsIGlzIGEgbm9uLXNsYXNoZWQgdXJsLCB0aGVuIHJlbGF0aXZlXG4gIC8vIGxpbmtzIGxpa2UgLi4vLi4gc2hvdWxkIGJlIGFibGVcbiAgLy8gdG8gY3Jhd2wgdXAgdG8gdGhlIGhvc3RuYW1lLCBhcyB3ZWxsLiAgVGhpcyBpcyBzdHJhbmdlLlxuICAvLyByZXN1bHQucHJvdG9jb2wgaGFzIGFscmVhZHkgYmVlbiBzZXQgYnkgbm93LlxuICAvLyBMYXRlciBvbiwgcHV0IHRoZSBmaXJzdCBwYXRoIHBhcnQgaW50byB0aGUgaG9zdCBmaWVsZC5cbiAgaWYgKHBzeWNob3RpYykge1xuICAgIHJlc3VsdC5ob3N0bmFtZSA9ICcnO1xuICAgIHJlc3VsdC5wb3J0ID0gbnVsbDtcbiAgICBpZiAocmVzdWx0Lmhvc3QpIHtcbiAgICAgIGlmIChzcmNQYXRoWzBdID09PSAnJykgc3JjUGF0aFswXSA9IHJlc3VsdC5ob3N0O1xuICAgICAgZWxzZSBzcmNQYXRoLnVuc2hpZnQocmVzdWx0Lmhvc3QpO1xuICAgIH1cbiAgICByZXN1bHQuaG9zdCA9ICcnO1xuICAgIGlmIChyZWxhdGl2ZS5wcm90b2NvbCkge1xuICAgICAgcmVsYXRpdmUuaG9zdG5hbWUgPSBudWxsO1xuICAgICAgcmVsYXRpdmUucG9ydCA9IG51bGw7XG4gICAgICBpZiAocmVsYXRpdmUuaG9zdCkge1xuICAgICAgICBpZiAocmVsUGF0aFswXSA9PT0gJycpIHJlbFBhdGhbMF0gPSByZWxhdGl2ZS5ob3N0O1xuICAgICAgICBlbHNlIHJlbFBhdGgudW5zaGlmdChyZWxhdGl2ZS5ob3N0KTtcbiAgICAgIH1cbiAgICAgIHJlbGF0aXZlLmhvc3QgPSBudWxsO1xuICAgIH1cbiAgICBtdXN0RW5kQWJzID0gbXVzdEVuZEFicyAmJiAocmVsUGF0aFswXSA9PT0gJycgfHwgc3JjUGF0aFswXSA9PT0gJycpO1xuICB9XG5cbiAgaWYgKGlzUmVsQWJzKSB7XG4gICAgLy8gaXQncyBhYnNvbHV0ZS5cbiAgICByZXN1bHQuaG9zdCA9IChyZWxhdGl2ZS5ob3N0IHx8IHJlbGF0aXZlLmhvc3QgPT09ICcnKSA/XG4gICAgICAgICAgICAgICAgICByZWxhdGl2ZS5ob3N0IDogcmVzdWx0Lmhvc3Q7XG4gICAgcmVzdWx0Lmhvc3RuYW1lID0gKHJlbGF0aXZlLmhvc3RuYW1lIHx8IHJlbGF0aXZlLmhvc3RuYW1lID09PSAnJykgP1xuICAgICAgICAgICAgICAgICAgICAgIHJlbGF0aXZlLmhvc3RuYW1lIDogcmVzdWx0Lmhvc3RuYW1lO1xuICAgIHJlc3VsdC5zZWFyY2ggPSByZWxhdGl2ZS5zZWFyY2g7XG4gICAgcmVzdWx0LnF1ZXJ5ID0gcmVsYXRpdmUucXVlcnk7XG4gICAgc3JjUGF0aCA9IHJlbFBhdGg7XG4gICAgLy8gZmFsbCB0aHJvdWdoIHRvIHRoZSBkb3QtaGFuZGxpbmcgYmVsb3cuXG4gIH0gZWxzZSBpZiAocmVsUGF0aC5sZW5ndGgpIHtcbiAgICAvLyBpdCdzIHJlbGF0aXZlXG4gICAgLy8gdGhyb3cgYXdheSB0aGUgZXhpc3RpbmcgZmlsZSwgYW5kIHRha2UgdGhlIG5ldyBwYXRoIGluc3RlYWQuXG4gICAgaWYgKCFzcmNQYXRoKSBzcmNQYXRoID0gW107XG4gICAgc3JjUGF0aC5wb3AoKTtcbiAgICBzcmNQYXRoID0gc3JjUGF0aC5jb25jYXQocmVsUGF0aCk7XG4gICAgcmVzdWx0LnNlYXJjaCA9IHJlbGF0aXZlLnNlYXJjaDtcbiAgICByZXN1bHQucXVlcnkgPSByZWxhdGl2ZS5xdWVyeTtcbiAgfSBlbHNlIGlmICghdXRpbC5pc051bGxPclVuZGVmaW5lZChyZWxhdGl2ZS5zZWFyY2gpKSB7XG4gICAgLy8ganVzdCBwdWxsIG91dCB0aGUgc2VhcmNoLlxuICAgIC8vIGxpa2UgaHJlZj0nP2ZvbycuXG4gICAgLy8gUHV0IHRoaXMgYWZ0ZXIgdGhlIG90aGVyIHR3byBjYXNlcyBiZWNhdXNlIGl0IHNpbXBsaWZpZXMgdGhlIGJvb2xlYW5zXG4gICAgaWYgKHBzeWNob3RpYykge1xuICAgICAgcmVzdWx0Lmhvc3RuYW1lID0gcmVzdWx0Lmhvc3QgPSBzcmNQYXRoLnNoaWZ0KCk7XG4gICAgICAvL29jY2F0aW9uYWx5IHRoZSBhdXRoIGNhbiBnZXQgc3R1Y2sgb25seSBpbiBob3N0XG4gICAgICAvL3RoaXMgZXNwZWNpYWxseSBoYXBwZW5zIGluIGNhc2VzIGxpa2VcbiAgICAgIC8vdXJsLnJlc29sdmVPYmplY3QoJ21haWx0bzpsb2NhbDFAZG9tYWluMScsICdsb2NhbDJAZG9tYWluMicpXG4gICAgICB2YXIgYXV0aEluSG9zdCA9IHJlc3VsdC5ob3N0ICYmIHJlc3VsdC5ob3N0LmluZGV4T2YoJ0AnKSA+IDAgP1xuICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuaG9zdC5zcGxpdCgnQCcpIDogZmFsc2U7XG4gICAgICBpZiAoYXV0aEluSG9zdCkge1xuICAgICAgICByZXN1bHQuYXV0aCA9IGF1dGhJbkhvc3Quc2hpZnQoKTtcbiAgICAgICAgcmVzdWx0Lmhvc3QgPSByZXN1bHQuaG9zdG5hbWUgPSBhdXRoSW5Ib3N0LnNoaWZ0KCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJlc3VsdC5zZWFyY2ggPSByZWxhdGl2ZS5zZWFyY2g7XG4gICAgcmVzdWx0LnF1ZXJ5ID0gcmVsYXRpdmUucXVlcnk7XG4gICAgLy90byBzdXBwb3J0IGh0dHAucmVxdWVzdFxuICAgIGlmICghdXRpbC5pc051bGwocmVzdWx0LnBhdGhuYW1lKSB8fCAhdXRpbC5pc051bGwocmVzdWx0LnNlYXJjaCkpIHtcbiAgICAgIHJlc3VsdC5wYXRoID0gKHJlc3VsdC5wYXRobmFtZSA/IHJlc3VsdC5wYXRobmFtZSA6ICcnKSArXG4gICAgICAgICAgICAgICAgICAgIChyZXN1bHQuc2VhcmNoID8gcmVzdWx0LnNlYXJjaCA6ICcnKTtcbiAgICB9XG4gICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGlmICghc3JjUGF0aC5sZW5ndGgpIHtcbiAgICAvLyBubyBwYXRoIGF0IGFsbC4gIGVhc3kuXG4gICAgLy8gd2UndmUgYWxyZWFkeSBoYW5kbGVkIHRoZSBvdGhlciBzdHVmZiBhYm92ZS5cbiAgICByZXN1bHQucGF0aG5hbWUgPSBudWxsO1xuICAgIC8vdG8gc3VwcG9ydCBodHRwLnJlcXVlc3RcbiAgICBpZiAocmVzdWx0LnNlYXJjaCkge1xuICAgICAgcmVzdWx0LnBhdGggPSAnLycgKyByZXN1bHQuc2VhcmNoO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQucGF0aCA9IG51bGw7XG4gICAgfVxuICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvLyBpZiBhIHVybCBFTkRzIGluIC4gb3IgLi4sIHRoZW4gaXQgbXVzdCBnZXQgYSB0cmFpbGluZyBzbGFzaC5cbiAgLy8gaG93ZXZlciwgaWYgaXQgZW5kcyBpbiBhbnl0aGluZyBlbHNlIG5vbi1zbGFzaHksXG4gIC8vIHRoZW4gaXQgbXVzdCBOT1QgZ2V0IGEgdHJhaWxpbmcgc2xhc2guXG4gIHZhciBsYXN0ID0gc3JjUGF0aC5zbGljZSgtMSlbMF07XG4gIHZhciBoYXNUcmFpbGluZ1NsYXNoID0gKFxuICAgICAgKHJlc3VsdC5ob3N0IHx8IHJlbGF0aXZlLmhvc3QgfHwgc3JjUGF0aC5sZW5ndGggPiAxKSAmJlxuICAgICAgKGxhc3QgPT09ICcuJyB8fCBsYXN0ID09PSAnLi4nKSB8fCBsYXN0ID09PSAnJyk7XG5cbiAgLy8gc3RyaXAgc2luZ2xlIGRvdHMsIHJlc29sdmUgZG91YmxlIGRvdHMgdG8gcGFyZW50IGRpclxuICAvLyBpZiB0aGUgcGF0aCB0cmllcyB0byBnbyBhYm92ZSB0aGUgcm9vdCwgYHVwYCBlbmRzIHVwID4gMFxuICB2YXIgdXAgPSAwO1xuICBmb3IgKHZhciBpID0gc3JjUGF0aC5sZW5ndGg7IGkgPj0gMDsgaS0tKSB7XG4gICAgbGFzdCA9IHNyY1BhdGhbaV07XG4gICAgaWYgKGxhc3QgPT09ICcuJykge1xuICAgICAgc3JjUGF0aC5zcGxpY2UoaSwgMSk7XG4gICAgfSBlbHNlIGlmIChsYXN0ID09PSAnLi4nKSB7XG4gICAgICBzcmNQYXRoLnNwbGljZShpLCAxKTtcbiAgICAgIHVwKys7XG4gICAgfSBlbHNlIGlmICh1cCkge1xuICAgICAgc3JjUGF0aC5zcGxpY2UoaSwgMSk7XG4gICAgICB1cC0tO1xuICAgIH1cbiAgfVxuXG4gIC8vIGlmIHRoZSBwYXRoIGlzIGFsbG93ZWQgdG8gZ28gYWJvdmUgdGhlIHJvb3QsIHJlc3RvcmUgbGVhZGluZyAuLnNcbiAgaWYgKCFtdXN0RW5kQWJzICYmICFyZW1vdmVBbGxEb3RzKSB7XG4gICAgZm9yICg7IHVwLS07IHVwKSB7XG4gICAgICBzcmNQYXRoLnVuc2hpZnQoJy4uJyk7XG4gICAgfVxuICB9XG5cbiAgaWYgKG11c3RFbmRBYnMgJiYgc3JjUGF0aFswXSAhPT0gJycgJiZcbiAgICAgICghc3JjUGF0aFswXSB8fCBzcmNQYXRoWzBdLmNoYXJBdCgwKSAhPT0gJy8nKSkge1xuICAgIHNyY1BhdGgudW5zaGlmdCgnJyk7XG4gIH1cblxuICBpZiAoaGFzVHJhaWxpbmdTbGFzaCAmJiAoc3JjUGF0aC5qb2luKCcvJykuc3Vic3RyKC0xKSAhPT0gJy8nKSkge1xuICAgIHNyY1BhdGgucHVzaCgnJyk7XG4gIH1cblxuICB2YXIgaXNBYnNvbHV0ZSA9IHNyY1BhdGhbMF0gPT09ICcnIHx8XG4gICAgICAoc3JjUGF0aFswXSAmJiBzcmNQYXRoWzBdLmNoYXJBdCgwKSA9PT0gJy8nKTtcblxuICAvLyBwdXQgdGhlIGhvc3QgYmFja1xuICBpZiAocHN5Y2hvdGljKSB7XG4gICAgcmVzdWx0Lmhvc3RuYW1lID0gcmVzdWx0Lmhvc3QgPSBpc0Fic29sdXRlID8gJycgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjUGF0aC5sZW5ndGggPyBzcmNQYXRoLnNoaWZ0KCkgOiAnJztcbiAgICAvL29jY2F0aW9uYWx5IHRoZSBhdXRoIGNhbiBnZXQgc3R1Y2sgb25seSBpbiBob3N0XG4gICAgLy90aGlzIGVzcGVjaWFsbHkgaGFwcGVucyBpbiBjYXNlcyBsaWtlXG4gICAgLy91cmwucmVzb2x2ZU9iamVjdCgnbWFpbHRvOmxvY2FsMUBkb21haW4xJywgJ2xvY2FsMkBkb21haW4yJylcbiAgICB2YXIgYXV0aEluSG9zdCA9IHJlc3VsdC5ob3N0ICYmIHJlc3VsdC5ob3N0LmluZGV4T2YoJ0AnKSA+IDAgP1xuICAgICAgICAgICAgICAgICAgICAgcmVzdWx0Lmhvc3Quc3BsaXQoJ0AnKSA6IGZhbHNlO1xuICAgIGlmIChhdXRoSW5Ib3N0KSB7XG4gICAgICByZXN1bHQuYXV0aCA9IGF1dGhJbkhvc3Quc2hpZnQoKTtcbiAgICAgIHJlc3VsdC5ob3N0ID0gcmVzdWx0Lmhvc3RuYW1lID0gYXV0aEluSG9zdC5zaGlmdCgpO1xuICAgIH1cbiAgfVxuXG4gIG11c3RFbmRBYnMgPSBtdXN0RW5kQWJzIHx8IChyZXN1bHQuaG9zdCAmJiBzcmNQYXRoLmxlbmd0aCk7XG5cbiAgaWYgKG11c3RFbmRBYnMgJiYgIWlzQWJzb2x1dGUpIHtcbiAgICBzcmNQYXRoLnVuc2hpZnQoJycpO1xuICB9XG5cbiAgaWYgKCFzcmNQYXRoLmxlbmd0aCkge1xuICAgIHJlc3VsdC5wYXRobmFtZSA9IG51bGw7XG4gICAgcmVzdWx0LnBhdGggPSBudWxsO1xuICB9IGVsc2Uge1xuICAgIHJlc3VsdC5wYXRobmFtZSA9IHNyY1BhdGguam9pbignLycpO1xuICB9XG5cbiAgLy90byBzdXBwb3J0IHJlcXVlc3QuaHR0cFxuICBpZiAoIXV0aWwuaXNOdWxsKHJlc3VsdC5wYXRobmFtZSkgfHwgIXV0aWwuaXNOdWxsKHJlc3VsdC5zZWFyY2gpKSB7XG4gICAgcmVzdWx0LnBhdGggPSAocmVzdWx0LnBhdGhuYW1lID8gcmVzdWx0LnBhdGhuYW1lIDogJycpICtcbiAgICAgICAgICAgICAgICAgIChyZXN1bHQuc2VhcmNoID8gcmVzdWx0LnNlYXJjaCA6ICcnKTtcbiAgfVxuICByZXN1bHQuYXV0aCA9IHJlbGF0aXZlLmF1dGggfHwgcmVzdWx0LmF1dGg7XG4gIHJlc3VsdC5zbGFzaGVzID0gcmVzdWx0LnNsYXNoZXMgfHwgcmVsYXRpdmUuc2xhc2hlcztcbiAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG5VcmwucHJvdG90eXBlLnBhcnNlSG9zdCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgaG9zdCA9IHRoaXMuaG9zdDtcbiAgdmFyIHBvcnQgPSBwb3J0UGF0dGVybi5leGVjKGhvc3QpO1xuICBpZiAocG9ydCkge1xuICAgIHBvcnQgPSBwb3J0WzBdO1xuICAgIGlmIChwb3J0ICE9PSAnOicpIHtcbiAgICAgIHRoaXMucG9ydCA9IHBvcnQuc3Vic3RyKDEpO1xuICAgIH1cbiAgICBob3N0ID0gaG9zdC5zdWJzdHIoMCwgaG9zdC5sZW5ndGggLSBwb3J0Lmxlbmd0aCk7XG4gIH1cbiAgaWYgKGhvc3QpIHRoaXMuaG9zdG5hbWUgPSBob3N0O1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGlzU3RyaW5nOiBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gdHlwZW9mKGFyZykgPT09ICdzdHJpbmcnO1xuICB9LFxuICBpc09iamVjdDogZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIHR5cGVvZihhcmcpID09PSAnb2JqZWN0JyAmJiBhcmcgIT09IG51bGw7XG4gIH0sXG4gIGlzTnVsbDogZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIGFyZyA9PT0gbnVsbDtcbiAgfSxcbiAgaXNOdWxsT3JVbmRlZmluZWQ6IGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiBhcmcgPT0gbnVsbDtcbiAgfVxufTtcbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obW9kdWxlKSB7XG5cdGlmICghbW9kdWxlLndlYnBhY2tQb2x5ZmlsbCkge1xuXHRcdG1vZHVsZS5kZXByZWNhdGUgPSBmdW5jdGlvbigpIHt9O1xuXHRcdG1vZHVsZS5wYXRocyA9IFtdO1xuXHRcdC8vIG1vZHVsZS5wYXJlbnQgPSB1bmRlZmluZWQgYnkgZGVmYXVsdFxuXHRcdGlmICghbW9kdWxlLmNoaWxkcmVuKSBtb2R1bGUuY2hpbGRyZW4gPSBbXTtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLCBcImxvYWRlZFwiLCB7XG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIG1vZHVsZS5sO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUsIFwiaWRcIiwge1xuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdGdldDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiBtb2R1bGUuaTtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRtb2R1bGUud2VicGFja1BvbHlmaWxsID0gMTtcblx0fVxuXHRyZXR1cm4gbW9kdWxlO1xufTtcbiIsImltcG9ydCAnIy9jb21tb24vYnJvd3Nlcic7XG5pbXBvcnQgeyBnZXRBY3RpdmVUYWIsIG1ha2VQYXVzZSwgc2VuZENtZCwgcmVxdWVzdCB9IGZyb20gJyMvY29tbW9uJztcbmltcG9ydCB7IEJVSUxEX0lOX1NDUklQVF9TUkMsIFRJTUVPVVRfMjRIT1VSUywgVElNRU9VVF9NQVgsIElTX0RFViB9IGZyb20gJyMvY29tbW9uL2NvbnN0cyc7XG5pbXBvcnQgeyBkZWVwQ29weSB9IGZyb20gJyMvY29tbW9uL29iamVjdCc7XG5pbXBvcnQgKiBhcyB0bGQgZnJvbSAnIy9jb21tb24vdGxkJztcbmltcG9ydCAqIGFzIHN5bmMgZnJvbSAnLi9zeW5jJztcbmltcG9ydCB7IGNvbW1hbmRzIH0gZnJvbSAnLi91dGlscyc7XG5pbXBvcnQgeyBnZXREYXRhLCBjaGVja1JlbW92ZSB9IGZyb20gJy4vdXRpbHMvZGInO1xuaW1wb3J0IHsgaW5pdGlhbGl6ZSB9IGZyb20gJy4vdXRpbHMvaW5pdCc7XG5pbXBvcnQgeyBnZXRPcHRpb24sIGhvb2tPcHRpb25zIH0gZnJvbSAnLi91dGlscy9vcHRpb25zJztcbmltcG9ydCB7IHBvcHVwVGFicyB9IGZyb20gJy4vdXRpbHMvcG9wdXAtdHJhY2tlcic7XG5pbXBvcnQgeyBnZXRJbmplY3RlZFNjcmlwdHMgfSBmcm9tICcuL3V0aWxzL3ByZWluamVjdCc7XG5pbXBvcnQgeyBTQ1JJUFRfVEVNUExBVEUsIHJlc2V0U2NyaXB0VGVtcGxhdGUgfSBmcm9tICcuL3V0aWxzL3RlbXBsYXRlLWhvb2snO1xuaW1wb3J0IHsgcmVzZXRWYWx1ZU9wZW5lciwgYWRkVmFsdWVPcGVuZXIgfSBmcm9tICcuL3V0aWxzL3ZhbHVlcyc7XG5pbXBvcnQgeyBjbGVhclJlcXVlc3RzQnlUYWJJZCB9IGZyb20gJy4vdXRpbHMvcmVxdWVzdHMnO1xuaW1wb3J0ICcuL3V0aWxzL2NsaXBib2FyZCc7XG5pbXBvcnQgJy4vdXRpbHMvaG90a2V5cyc7XG5pbXBvcnQgJy4vdXRpbHMvaWNvbic7XG5pbXBvcnQgJy4vdXRpbHMvbm90aWZpY2F0aW9ucyc7XG5pbXBvcnQgJy4vdXRpbHMvc2NyaXB0JztcbmltcG9ydCAnLi91dGlscy90YWJzJztcbmltcG9ydCAnLi91dGlscy90ZXN0ZXInO1xuaW1wb3J0ICcuL3V0aWxzL3VwZGF0ZSc7XG5cbmhvb2tPcHRpb25zKChjaGFuZ2VzKSA9PiB7XG4gIGlmICgnYXV0b1VwZGF0ZScgaW4gY2hhbmdlcykge1xuICAgIGF1dG9VcGRhdGUoKTtcbiAgfVxuICBpZiAoU0NSSVBUX1RFTVBMQVRFIGluIGNoYW5nZXMpIHtcbiAgICByZXNldFNjcmlwdFRlbXBsYXRlKGNoYW5nZXMpO1xuICB9XG4gIHNlbmRDbWQoJ1VwZGF0ZU9wdGlvbnMnLCBjaGFuZ2VzKTtcbn0pO1xuXG5PYmplY3QuYXNzaWduKGNvbW1hbmRzLCB7XG4gIC8qKiBAcmV0dXJuIHtQcm9taXNlPHsgc2NyaXB0czogVk1TY3JpcHRbXSwgY2FjaGU6IE9iamVjdCwgc3luYzogT2JqZWN0IH0+fSAqL1xuICBhc3luYyBHZXREYXRhKGlkcykge1xuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBnZXREYXRhKGlkcyk7XG4gICAgZGF0YS5zeW5jID0gc3luYy5nZXRTdGF0ZXMoKTtcbiAgICByZXR1cm4gZGF0YTtcbiAgfSxcbiAgLyoqIEByZXR1cm4ge1Byb21pc2U8T2JqZWN0Pn0gKi9cbiAgYXN5bmMgR2V0SW5qZWN0ZWQoeyB1cmwsIGZvcmNlQ29udGVudCB9LCBzcmMpIHtcbiAgICBjb25zdCB7IGZyYW1lSWQsIHRhYiB9ID0gc3JjO1xuICAgIGNvbnN0IHRhYklkID0gdGFiLmlkO1xuICAgIGlmICghdXJsKSB1cmwgPSBzcmMudXJsIHx8IHRhYi51cmw7XG4gICAgaWYgKCFmcmFtZUlkKSB7XG4gICAgICByZXNldFZhbHVlT3BlbmVyKHRhYklkKTtcbiAgICAgIGNsZWFyUmVxdWVzdHNCeVRhYklkKHRhYklkKTtcbiAgICB9XG4gICAgY29uc3QgcmVzID0gYXdhaXQgZ2V0SW5qZWN0ZWRTY3JpcHRzKHVybCwgdGFiSWQsIGZyYW1lSWQsIGZvcmNlQ29udGVudCk7XG4gICAgY29uc3QgeyBmZWVkYmFjaywgaW5qZWN0LCB2YWxPcElkcyB9ID0gcmVzO1xuICAgIGluamVjdC5pc1BvcHVwU2hvd24gPSBwb3B1cFRhYnNbdGFiSWRdO1xuICAgIC8vIEluamVjdGluZyBrbm93biBjb250ZW50IHNjcmlwdHMgd2l0aG91dCB3YWl0aW5nIGZvciBJbmplY3Rpb25GZWVkYmFjayBtZXNzYWdlLlxuICAgIC8vIFJ1bm5pbmcgaW4gYSBzZXBhcmF0ZSB0YXNrIGJlY2F1c2UgaXQgbWF5IHRha2UgYSBsb25nIHRpbWUgdG8gc2VyaWFsaXplIGRhdGEuXG4gICAgaWYgKGZlZWRiYWNrLmxlbmd0aCkge1xuICAgICAgc2V0VGltZW91dChjb21tYW5kcy5JbmplY3Rpb25GZWVkYmFjaywgMCwgeyBmZWVkYmFjayB9LCBzcmMpO1xuICAgIH1cbiAgICBhZGRWYWx1ZU9wZW5lcih0YWJJZCwgZnJhbWVJZCwgdmFsT3BJZHMpO1xuICAgIHJldHVybiBpbmplY3Q7XG4gIH0sXG4gIC8qKiBAcmV0dXJuIHtQcm9taXNlPE9iamVjdD59ICovXG4gIGFzeW5jIEdldFRhYkRvbWFpbigpIHtcbiAgICBjb25zdCB0YWIgPSBhd2FpdCBnZXRBY3RpdmVUYWIoKSB8fCB7fTtcbiAgICBjb25zdCB1cmwgPSB0YWIucGVuZGluZ1VybCB8fCB0YWIudXJsIHx8ICcnO1xuICAgIGNvbnN0IGhvc3QgPSB1cmwubWF0Y2goL15odHRwcz86XFwvXFwvKFteL10rKXwkLylbMV07XG4gICAgcmV0dXJuIHtcbiAgICAgIHRhYixcbiAgICAgIGRvbWFpbjogaG9zdCAmJiB0bGQuZ2V0RG9tYWluKGhvc3QpIHx8IGhvc3QsXG4gICAgfTtcbiAgfSxcbiAgLyoqXG4gICAqIFRpbWVycyBpbiBjb250ZW50IHNjcmlwdHMgYXJlIHNoYXJlZCB3aXRoIHRoZSB3ZWIgcGFnZSBzbyBpdCBjYW4gY2xlYXIgdGhlbS5cbiAgICogYXdhaXQgc2VuZENtZCgnU2V0VGltZW91dCcsIDEwMCkgaW4gaW5qZWN0ZWQvY29udGVudFxuICAgKiBhd2FpdCBicmlkZ2Uuc2VuZCgnU2V0VGltZW91dCcsIDEwMCkgaW4gaW5qZWN0ZWQvd2ViXG4gICAqL1xuICBTZXRUaW1lb3V0KG1zKSB7XG4gICAgcmV0dXJuIG1zID4gMCAmJiBtYWtlUGF1c2UobXMpO1xuICB9LFxufSk7XG5cbi8vIGNvbW1hbmRzIHRvIHN5bmMgdW5jb25kaXRpb25hbGx5IHJlZ2FyZGxlc3Mgb2YgdGhlIHJldHVybmVkIHZhbHVlIGZyb20gdGhlIGhhbmRsZXJcbmNvbnN0IGNvbW1hbmRzVG9TeW5jID0gW1xuICAnTWFya1JlbW92ZWQnLFxuICAnTW92ZScsXG4gICdQYXJzZVNjcmlwdCcsXG4gICdSZW1vdmVTY3JpcHQnLFxuICAnVXBkYXRlU2NyaXB0SW5mbycsXG5dO1xuLy8gY29tbWFuZHMgdG8gc3luYyBvbmx5IGlmIHRoZSBoYW5kbGVyIHJldHVybnMgYSB0cnV0aHkgdmFsdWVcbmNvbnN0IGNvbW1hbmRzVG9TeW5jSWZUcnV0aHkgPSBbXG4gICdDaGVja1JlbW92ZScsXG4gICdDaGVja1VwZGF0ZScsXG4gICdDaGVja1VwZGF0ZUFsbCcsXG5dO1xuXG5hc3luYyBmdW5jdGlvbiBoYW5kbGVDb21tYW5kTWVzc2FnZShyZXEsIHNyYykge1xuICBjb25zdCB7IGNtZCB9ID0gcmVxO1xuICBjb25zdCByZXMgPSBhd2FpdCBjb21tYW5kc1tjbWRdPy4ocmVxLmRhdGEsIHNyYyk7XG4gIGlmIChjb21tYW5kc1RvU3luYy5pbmNsdWRlcyhjbWQpXG4gIHx8IHJlcyAmJiBjb21tYW5kc1RvU3luY0lmVHJ1dGh5LmluY2x1ZGVzKGNtZCkpIHtcbiAgICBzeW5jLnN5bmMoKTtcbiAgfVxuICAvLyBgdW5kZWZpbmVkYCBpcyBub3QgdHJhbnNmZXJhYmxlLCBidXQgYG51bGxgIGlzXG4gIHJldHVybiByZXMgPz8gbnVsbDtcbn1cblxuZnVuY3Rpb24gYXV0b1VwZGF0ZSgpIHtcbiAgY29uc3QgaW50ZXJ2YWwgPSBJU19ERVYgPyAxMDAwIDogKCtnZXRPcHRpb24oJ2F1dG9VcGRhdGUnKSB8fCAwKSAqIFRJTUVPVVRfMjRIT1VSUztcbiAgaWYgKCFpbnRlcnZhbCkgcmV0dXJuO1xuICBsZXQgZWxhcHNlZCA9IERhdGUubm93KCkgLSBnZXRPcHRpb24oJ2xhc3RVcGRhdGUnKTtcbiAgaWYgKGVsYXBzZWQgPj0gaW50ZXJ2YWwpIHtcbiAgICBoYW5kbGVDb21tYW5kTWVzc2FnZSh7IGNtZDogJ0NoZWNrVXBkYXRlQWxsJyB9KTtcbiAgICBlbGFwc2VkID0gMDtcbiAgfVxuICBjbGVhclRpbWVvdXQoYXV0b1VwZGF0ZS50aW1lcik7XG4gIGF1dG9VcGRhdGUudGltZXIgPSBzZXRUaW1lb3V0KGF1dG9VcGRhdGUsIE1hdGgubWluKFRJTUVPVVRfTUFYLCBpbnRlcnZhbCAtIGVsYXBzZWQpKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gaW5pdEJ1aWxkaW4oKSB7XG4gIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgcmVxdWVzdChCVUlMRF9JTl9TQ1JJUFRfU1JDLCB7XG4gICAgY2FjaGU6ICduby1jYWNoZScsXG4gICAgaGVhZGVyczogeyBBY2NlcHQ6ICd0ZXh0L3gtdXNlcnNjcmlwdC1tZXRhLCovKicgfSxcbiAgfSk7XG5cbiAgY29uc3QgcmVzID0gYXdhaXQgY29tbWFuZHMuUGFyc2VTY3JpcHQoe1xuICAgIHVybDogQlVJTERfSU5fU0NSSVBUX1NSQyxcbiAgICBjb2RlOiBkYXRhLFxuICAgIGN1c3RvbTogeyBidWlsZEluOiB0cnVlIH0sXG4gIH0pO1xuICBzeW5jLnN5bmMoKTtcblxuICBpZiAocmVzLndoZXJlLmlkICE9PSAxKSB7XG4gICAgdGhyb3cgYHdyb25nIGlkOiAke3Jlcy53aGVyZS5pZH1gO1xuICB9XG59XG5cbmluaXRpYWxpemUoKCkgPT4ge1xuICBnbG9iYWwuaGFuZGxlQ29tbWFuZE1lc3NhZ2UgPSBoYW5kbGVDb21tYW5kTWVzc2FnZTtcbiAgZ2xvYmFsLmRlZXBDb3B5ID0gZGVlcENvcHk7XG4gIGJyb3dzZXIucnVudGltZS5vbk1lc3NhZ2UuYWRkTGlzdGVuZXIoXG4gICAgSVNfRklSRUZPWCAvLyBpbiBGRiBhIHJlamVjdGVkIFByb21pc2UgdmFsdWUgaXMgdHJhbnNmZXJyZWQgb25seSBpZiBpdCdzIGFuIEVycm9yIG9iamVjdFxuICAgICAgPyAoLi4uYXJncykgPT4gaGFuZGxlQ29tbWFuZE1lc3NhZ2UoLi4uYXJncykuY2F0Y2goZSA9PiAoXG4gICAgICAgIFByb21pc2UucmVqZWN0KGUgaW5zdGFuY2VvZiBFcnJvciA/IGUgOiBuZXcgRXJyb3IoZSkpXG4gICAgICApKSAvLyBEaWRuJ3QgdXNlIGB0aHJvd2AgdG8gYXZvaWQgaW50ZXJydXB0aW9uIGluIGRldnRvb2xzIHdpdGggcGF1c2Utb24tZXhjZXB0aW9uIGVuYWJsZWQuXG4gICAgICA6IGhhbmRsZUNvbW1hbmRNZXNzYWdlLFxuICApO1xuXG4gIC8vIGNoZWNrIGFuZCBpbnN0YWxsIHRoZSBidWlsZC1pbiBzY3JpcHRcbiAgaW5pdEJ1aWxkaW4oKTtcbiAgY29uc29sZS5pbmZvKCdpbml0QnVpbGRpbi4uLicpO1xuICBzZXRUaW1lb3V0KGF1dG9VcGRhdGUsIElTX0RFViA/IDEgOiAyZTQpO1xuICBzeW5jLmluaXRpYWxpemUoKTtcbiAgY2hlY2tSZW1vdmUoKTtcbiAgc2V0SW50ZXJ2YWwoY2hlY2tSZW1vdmUsIFRJTUVPVVRfMjRIT1VSUyk7XG4gIGNvbnN0IGFwaSA9IGdsb2JhbC5jaHJvbWUuZGVjbGFyYXRpdmVDb250ZW50O1xuICBpZiAoYXBpKSB7XG4gICAgLy8gVXNpbmcgZGVjbGFyYXRpdmVDb250ZW50IHRvIHJ1biBjb250ZW50IHNjcmlwdHMgZWFybGllciB0aGFuIGRvY3VtZW50X3N0YXJ0XG4gICAgYXBpLm9uUGFnZUNoYW5nZWQuZ2V0UnVsZXMoYXN5bmMgKFtydWxlXSkgPT4ge1xuICAgICAgY29uc3QgaWQgPSBydWxlPy5pZDtcbiAgICAgIGNvbnN0IG5ld0lkID0gcHJvY2Vzcy5lbnYuSU5JVF9GVU5DX05BTUU7XG4gICAgICBpZiAoaWQgPT09IG5ld0lkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChpZCkge1xuICAgICAgICBhd2FpdCBicm93c2VyLmRlY2xhcmF0aXZlQ29udGVudC5vblBhZ2VDaGFuZ2VkLnJlbW92ZVJ1bGVzKFtpZF0pO1xuICAgICAgfVxuICAgICAgYXBpLm9uUGFnZUNoYW5nZWQuYWRkUnVsZXMoW3tcbiAgICAgICAgaWQ6IG5ld0lkLFxuICAgICAgICBjb25kaXRpb25zOiBbXG4gICAgICAgICAgbmV3IGFwaS5QYWdlU3RhdGVNYXRjaGVyKHtcbiAgICAgICAgICAgIHBhZ2VVcmw6IHsgdXJsQ29udGFpbnM6ICc6Ly8nIH0sIC8vIGVzc2VudGlhbGx5IGxpa2UgPGFsbF91cmxzPlxuICAgICAgICAgIH0pLFxuICAgICAgICBdLFxuICAgICAgICBhY3Rpb25zOiBbXG4gICAgICAgICAgbmV3IGFwaS5SZXF1ZXN0Q29udGVudFNjcmlwdCh7XG4gICAgICAgICAgICBqczogYnJvd3Nlci5ydW50aW1lLmdldE1hbmlmZXN0KCkuY29udGVudF9zY3JpcHRzWzBdLmpzLFxuICAgICAgICAgICAgLy8gTm90IHVzaW5nIGBhbGxGcmFtZXM6dHJ1ZWAgYXMgdGhlcmUncyBubyBpbXByb3ZlbWVudCBpbiBmcmFtZXNcbiAgICAgICAgICB9KSxcbiAgICAgICAgXSxcbiAgICAgIH1dKTtcbiAgICB9KTtcbiAgfVxufSk7XG4iLCJpbXBvcnQgRXZlbnRFbWl0dGVyIGZyb20gJyMvY29tbW9uL2V2ZW50cyc7XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBFdmVudEVtaXR0ZXIoW1xuICAnc2NyaXB0RWRpdCcsXG4gICdzY3JpcHRDaGFuZ2VkJyxcbl0pO1xuIiwiaW1wb3J0IHsgY29tbWFuZHMgfSBmcm9tICcuLi91dGlscy9tZXNzYWdlJztcbmltcG9ydCB7IGdldFNjcmlwdHMgfSBmcm9tICcuLi91dGlscy9kYic7XG5cbmV4cG9ydCBjb25zdCBzY3JpcHQgPSB7XG4gIC8qKlxuICAgKiBVcGRhdGUgYW4gZXhpc3Rpbmcgc2NyaXB0IGlkZW50aWZpZWQgYnkgdGhlIHByb3ZpZGVkIGlkXG4gICAqIEBwYXJhbSB7eyBpZCwgY29kZSwgbWVzc2FnZSwgaXNOZXcsIGNvbmZpZywgY3VzdG9tLCBwcm9wcywgdXBkYXRlIH19IGRhdGFcbiAgICogQHJldHVybiB7UHJvbWlzZTx7IGlzTmV3PywgdXBkYXRlLCB3aGVyZSB9Pn1cbiAgICovXG4gIHVwZGF0ZTogY29tbWFuZHMuUGFyc2VTY3JpcHQsXG4gIC8qKlxuICAgKiBMaXN0IGFsbCBhdmFpbGFibGUgc2NyaXB0cywgd2l0aG91dCBzY3JpcHQgY29kZVxuICAgKiBAcmV0dXJuIHtQcm9taXNlPFZNU2NyaXB0W10+fVxuICAgKi9cbiAgbGlzdDogYXN5bmMgKCkgPT4gZ2V0U2NyaXB0cygpLFxuICAvKipcbiAgICogR2V0IHNjcmlwdCBjb2RlIG9mIGFuIGV4aXN0aW5nIHNjcmlwdFxuICAgKiBAcGFyYW0ge251bWJlcn0gaWRcbiAgICogQHJldHVybiB7UHJvbWlzZTxzdHJpbmc+fVxuICAgKi9cbiAgZ2V0OiBjb21tYW5kcy5HZXRTY3JpcHRDb2RlLFxuICAvKipcbiAgICogUmVtb3ZlIHNjcmlwdFxuICAgKiBAcGFyYW0ge251bWJlcn0gaWRcbiAgICogQHJldHVybiB7UHJvbWlzZTx2b2lkPn1cbiAgICovXG4gIHJlbW92ZTogaWQgPT4gY29tbWFuZHMuTWFya1JlbW92ZWQoeyBpZCwgcmVtb3ZlZDogdHJ1ZSB9KSxcbn07XG4iLCJpbXBvcnQge1xuICBkZWJvdW5jZSwgbm9ybWFsaXplS2V5cywgcmVxdWVzdCwgbm9vcCwgbWFrZVBhdXNlLCBlbnN1cmVBcnJheSwgc2VuZENtZCxcbn0gZnJvbSAnIy9jb21tb24nO1xuaW1wb3J0IHsgVElNRU9VVF9IT1VSIH0gZnJvbSAnIy9jb21tb24vY29uc3RzJztcbmltcG9ydCB7XG4gIGZvckVhY2hFbnRyeSwgb2JqZWN0U2V0LCBvYmplY3RQaWNrLFxufSBmcm9tICcjL2NvbW1vbi9vYmplY3QnO1xuaW1wb3J0IHtcbiAgZ2V0RXZlbnRFbWl0dGVyLCBnZXRPcHRpb24sIHNldE9wdGlvbiwgaG9va09wdGlvbnMsXG59IGZyb20gJy4uL3V0aWxzJztcbmltcG9ydCB7XG4gIHNvcnRTY3JpcHRzLFxuICB1cGRhdGVTY3JpcHRJbmZvLFxufSBmcm9tICcuLi91dGlscy9kYic7XG5pbXBvcnQgeyBzY3JpcHQgYXMgcGx1Z2luU2NyaXB0IH0gZnJvbSAnLi4vcGx1Z2luJztcblxuY29uc3Qgc2VydmljZU5hbWVzID0gW107XG5jb25zdCBzZXJ2aWNlQ2xhc3NlcyA9IFtdO1xuY29uc3Qgc2VydmljZXMgPSB7fTtcbmNvbnN0IGF1dG9TeW5jID0gZGVib3VuY2Uoc3luYywgVElNRU9VVF9IT1VSKTtcbmxldCB3b3JraW5nID0gUHJvbWlzZS5yZXNvbHZlKCk7XG5sZXQgc3luY0NvbmZpZztcblxuZXhwb3J0IGZ1bmN0aW9uIGdldEl0ZW1GaWxlbmFtZSh7IG5hbWUsIHVyaSB9KSB7XG4gIC8vIFdoZW4gZ2V0IG9yIHJlbW92ZSwgY3VycmVudCBuYW1lIHNob3VsZCBiZSBwcmVmZXJlZFxuICBpZiAobmFtZSkgcmV0dXJuIG5hbWU7XG4gIC8vIG90aGVyd2lzZSB1cmkgZGVyaXZlZCBuYW1lIHNob3VsZCBiZSBwcmVmZXJlZFxuICAvLyB1cmkgaXMgYWxyZWFkeSBlbmNvZGVkIGJ5IGBlbmNvZGVGaWxlbmFtZWBcbiAgcmV0dXJuIGB2bUAyLSR7dXJpfWA7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNTY3JpcHRGaWxlKG5hbWUpIHtcbiAgcmV0dXJuIC9edm0oPzpAXFxkKyk/LS8udGVzdChuYW1lKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRVUkkobmFtZSkge1xuICBjb25zdCBpID0gbmFtZS5pbmRleE9mKCctJyk7XG4gIGNvbnN0IFssIHZlcnNpb25dID0gbmFtZS5zbGljZSgwLCBpKS5zcGxpdCgnQCcpO1xuICBpZiAodmVyc2lvbiA9PT0gJzInKSB7XG4gICAgLy8gdXJpIGlzIGVuY29kZWQgYnkgYGVuY29kZWRGaWxlbmFtZWAsIHNvIHdlIHNob3VsZCBub3QgZGVjb2RlIGl0IGhlcmVcbiAgICByZXR1cm4gbmFtZS5zbGljZShpICsgMSk7XG4gIH1cbiAgdHJ5IHtcbiAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KG5hbWUuc2xpY2UoMykpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICByZXR1cm4gbmFtZS5zbGljZSgzKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpbml0Q29uZmlnKCkge1xuICBmdW5jdGlvbiBnZXQoa2V5LCBkZWYpIHtcbiAgICBjb25zdCBrZXlzID0gbm9ybWFsaXplS2V5cyhrZXkpO1xuICAgIGtleXMudW5zaGlmdCgnc3luYycpO1xuICAgIHJldHVybiBnZXRPcHRpb24oa2V5cywgZGVmKTtcbiAgfVxuICBmdW5jdGlvbiBzZXQoa2V5LCB2YWx1ZSkge1xuICAgIGNvbnN0IGtleXMgPSBub3JtYWxpemVLZXlzKGtleSk7XG4gICAga2V5cy51bnNoaWZ0KCdzeW5jJyk7XG4gICAgc2V0T3B0aW9uKGtleXMsIHZhbHVlKTtcbiAgfVxuICBmdW5jdGlvbiBpbml0KCkge1xuICAgIGxldCBjb25maWcgPSBnZXRPcHRpb24oJ3N5bmMnKTtcbiAgICBpZiAoIWNvbmZpZyB8fCAhY29uZmlnLnNlcnZpY2VzKSB7XG4gICAgICBjb25maWcgPSB7XG4gICAgICAgIHNlcnZpY2VzOiB7fSxcbiAgICAgIH07XG4gICAgICBzZXQoW10sIGNvbmZpZyk7XG4gICAgfVxuICB9XG4gIGluaXQoKTtcbiAgcmV0dXJuIHsgZ2V0LCBzZXQgfTtcbn1cbmZ1bmN0aW9uIHNlcnZpY2VDb25maWcobmFtZSkge1xuICBmdW5jdGlvbiBnZXRLZXlzKGtleSkge1xuICAgIGNvbnN0IGtleXMgPSBub3JtYWxpemVLZXlzKGtleSk7XG4gICAga2V5cy51bnNoaWZ0KCdzZXJ2aWNlcycsIG5hbWUpO1xuICAgIHJldHVybiBrZXlzO1xuICB9XG4gIGZ1bmN0aW9uIGdldChrZXksIGRlZikge1xuICAgIHJldHVybiBzeW5jQ29uZmlnLmdldChnZXRLZXlzKGtleSksIGRlZik7XG4gIH1cbiAgZnVuY3Rpb24gc2V0KGtleSwgdmFsKSB7XG4gICAgaWYgKHR5cGVvZiBrZXkgPT09ICdvYmplY3QnKSB7XG4gICAgICBrZXk6OmZvckVhY2hFbnRyeSgoW2ssIHZdKSA9PiB7XG4gICAgICAgIHN5bmNDb25maWcuc2V0KGdldEtleXMoayksIHYpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN5bmNDb25maWcuc2V0KGdldEtleXMoa2V5KSwgdmFsKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gY2xlYXIoKSB7XG4gICAgc3luY0NvbmZpZy5zZXQoZ2V0S2V5cygpLCB7fSk7XG4gIH1cbiAgcmV0dXJuIHsgZ2V0LCBzZXQsIGNsZWFyIH07XG59XG5mdW5jdGlvbiBzZXJ2aWNlU3RhdGUodmFsaWRTdGF0ZXMsIGluaXRpYWxTdGF0ZSwgb25DaGFuZ2UpIHtcbiAgbGV0IHN0YXRlID0gaW5pdGlhbFN0YXRlIHx8IHZhbGlkU3RhdGVzWzBdO1xuICBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIHN0YXRlO1xuICB9XG4gIGZ1bmN0aW9uIHNldChuZXdTdGF0ZSkge1xuICAgIGlmICh2YWxpZFN0YXRlcy5pbmNsdWRlcyhuZXdTdGF0ZSkpIHtcbiAgICAgIHN0YXRlID0gbmV3U3RhdGU7XG4gICAgICBpZiAob25DaGFuZ2UpIG9uQ2hhbmdlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUud2FybignSW52YWxpZCBzdGF0ZTonLCBuZXdTdGF0ZSk7XG4gICAgfVxuICAgIHJldHVybiBnZXQoKTtcbiAgfVxuICBmdW5jdGlvbiBpcyhzdGF0ZXMpIHtcbiAgICByZXR1cm4gZW5zdXJlQXJyYXkoc3RhdGVzKS5pbmNsdWRlcyhzdGF0ZSk7XG4gIH1cbiAgcmV0dXJuIHsgZ2V0LCBzZXQsIGlzIH07XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0U3RhdGVzKCkge1xuICByZXR1cm4gc2VydmljZU5hbWVzLm1hcCgobmFtZSkgPT4ge1xuICAgIGNvbnN0IHNlcnZpY2UgPSBzZXJ2aWNlc1tuYW1lXTtcbiAgICByZXR1cm4ge1xuICAgICAgbmFtZTogc2VydmljZS5uYW1lLFxuICAgICAgZGlzcGxheU5hbWU6IHNlcnZpY2UuZGlzcGxheU5hbWUsXG4gICAgICBhdXRoU3RhdGU6IHNlcnZpY2UuYXV0aFN0YXRlLmdldCgpLFxuICAgICAgc3luY1N0YXRlOiBzZXJ2aWNlLnN5bmNTdGF0ZS5nZXQoKSxcbiAgICAgIGxhc3RTeW5jOiBzZXJ2aWNlLmNvbmZpZy5nZXQoJ21ldGEnLCB7fSkubGFzdFN5bmMsXG4gICAgICBwcm9ncmVzczogc2VydmljZS5wcm9ncmVzcyxcbiAgICAgIHByb3BlcnRpZXM6IHNlcnZpY2UucHJvcGVydGllcyxcbiAgICAgIHVzZXJDb25maWc6IHNlcnZpY2UuZ2V0VXNlckNvbmZpZygpLFxuICAgIH07XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBnZXRTY3JpcHREYXRhKHNjcmlwdCwgc3luY1ZlcnNpb24sIGV4dHJhKSB7XG4gIGxldCBkYXRhO1xuICBpZiAoc3luY1ZlcnNpb24gPT09IDIpIHtcbiAgICBkYXRhID0ge1xuICAgICAgdmVyc2lvbjogc3luY1ZlcnNpb24sXG4gICAgICBjdXN0b206IHNjcmlwdC5jdXN0b20sXG4gICAgICBjb25maWc6IHNjcmlwdC5jb25maWcsXG4gICAgICBwcm9wczogb2JqZWN0UGljayhzY3JpcHQucHJvcHMsIFsnbGFzdFVwZGF0ZWQnXSksXG4gICAgfTtcbiAgfSBlbHNlIGlmIChzeW5jVmVyc2lvbiA9PT0gMSkge1xuICAgIGRhdGEgPSB7XG4gICAgICB2ZXJzaW9uOiBzeW5jVmVyc2lvbixcbiAgICAgIG1vcmU6IHtcbiAgICAgICAgY3VzdG9tOiBzY3JpcHQuY3VzdG9tLFxuICAgICAgICBlbmFibGVkOiBzY3JpcHQuY29uZmlnLmVuYWJsZWQsXG4gICAgICAgIHVwZGF0ZTogc2NyaXB0LmNvbmZpZy5zaG91bGRVcGRhdGUsXG4gICAgICAgIGxhc3RVcGRhdGVkOiBzY3JpcHQucHJvcHMubGFzdFVwZGF0ZWQsXG4gICAgICB9LFxuICAgIH07XG4gIH1cbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24oZGF0YSwgZXh0cmEpO1xufVxuZnVuY3Rpb24gcGFyc2VTY3JpcHREYXRhKHJhdykge1xuICBjb25zdCBkYXRhID0ge307XG4gIHRyeSB7XG4gICAgY29uc3Qgb2JqID0gSlNPTi5wYXJzZShyYXcpO1xuICAgIGRhdGEuY29kZSA9IG9iai5jb2RlO1xuICAgIGlmIChvYmoudmVyc2lvbiA9PT0gMikge1xuICAgICAgZGF0YS5jb25maWcgPSBvYmouY29uZmlnO1xuICAgICAgZGF0YS5jdXN0b20gPSBvYmouY3VzdG9tO1xuICAgICAgZGF0YS5wcm9wcyA9IG9iai5wcm9wcztcbiAgICB9IGVsc2UgaWYgKG9iai52ZXJzaW9uID09PSAxKSB7XG4gICAgICBpZiAob2JqLm1vcmUpIHtcbiAgICAgICAgZGF0YS5jdXN0b20gPSBvYmoubW9yZS5jdXN0b207XG4gICAgICAgIGRhdGEuY29uZmlnID0gb2JqZWN0UHVyaWZ5KHtcbiAgICAgICAgICBlbmFibGVkOiBvYmoubW9yZS5lbmFibGVkLFxuICAgICAgICAgIHNob3VsZFVwZGF0ZTogb2JqLm1vcmUudXBkYXRlLFxuICAgICAgICB9KTtcbiAgICAgICAgZGF0YS5wcm9wcyA9IG9iamVjdFB1cmlmeSh7XG4gICAgICAgICAgbGFzdFVwZGF0ZWQ6IG9iai5tb3JlLmxhc3RVcGRhdGVkLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBkYXRhLmNvZGUgPSByYXc7XG4gIH1cbiAgcmV0dXJuIGRhdGE7XG59XG5cbmZ1bmN0aW9uIG9iamVjdFB1cmlmeShvYmopIHtcbiAgLy8gUmVtb3ZlIGtleXMgd2l0aCB1bmRlZmluZWQgdmFsdWVzXG4gIGlmIChBcnJheS5pc0FycmF5KG9iaikpIHtcbiAgICBvYmouZm9yRWFjaChvYmplY3RQdXJpZnkpO1xuICB9IGVsc2UgaWYgKG9iaiAmJiB0eXBlb2Ygb2JqID09PSAnb2JqZWN0Jykge1xuICAgIG9iajo6Zm9yRWFjaEVudHJ5KChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnKSBkZWxldGUgb2JqW2tleV07XG4gICAgICBlbHNlIG9iamVjdFB1cmlmeSh2YWx1ZSk7XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIG9iajtcbn1cblxuZnVuY3Rpb24gc2VydmljZUZhY3RvcnkoYmFzZSkge1xuICBjb25zdCBTZXJ2aWNlID0gZnVuY3Rpb24gY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5pbml0aWFsaXplKCk7XG4gIH07XG4gIFNlcnZpY2UucHJvdG90eXBlID0gYmFzZTtcbiAgU2VydmljZS5leHRlbmQgPSBleHRlbmRTZXJ2aWNlO1xuICByZXR1cm4gU2VydmljZTtcbn1cbmZ1bmN0aW9uIGV4dGVuZFNlcnZpY2Uob3B0aW9ucykge1xuICByZXR1cm4gc2VydmljZUZhY3RvcnkoT2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKHRoaXMucHJvdG90eXBlKSwgb3B0aW9ucykpO1xufVxuXG5jb25zdCBvblN0YXRlQ2hhbmdlID0gZGVib3VuY2UoKCkgPT4ge1xuICBzZW5kQ21kKCdVcGRhdGVTeW5jJywgZ2V0U3RhdGVzKCkpO1xufSk7XG5cbmV4cG9ydCBjb25zdCBCYXNlU2VydmljZSA9IHNlcnZpY2VGYWN0b3J5KHtcbiAgbmFtZTogJ2Jhc2UnLFxuICBkaXNwbGF5TmFtZTogJ0Jhc2VTZXJ2aWNlJyxcbiAgZGVsYXlUaW1lOiAxMDAwLFxuICB1cmxQcmVmaXg6ICcnLFxuICBtZXRhRmlsZTogJ1Zpb2xlbnRtb25rZXknLFxuICBwcm9wZXJ0aWVzOiB7XG4gICAgYXV0aFR5cGU6ICdvYXV0aCcsXG4gIH0sXG4gIGdldFVzZXJDb25maWc6IG5vb3AsXG4gIHNldFVzZXJDb25maWc6IG5vb3AsXG4gIGluaXRpYWxpemUoKSB7XG4gICAgdGhpcy5wcm9ncmVzcyA9IHtcbiAgICAgIGZpbmlzaGVkOiAwLFxuICAgICAgdG90YWw6IDAsXG4gICAgfTtcbiAgICB0aGlzLmNvbmZpZyA9IHNlcnZpY2VDb25maWcodGhpcy5uYW1lKTtcbiAgICB0aGlzLmF1dGhTdGF0ZSA9IHNlcnZpY2VTdGF0ZShbXG4gICAgICAnaWRsZScsXG4gICAgICAnbm8tYXV0aCcsXG4gICAgICAnaW5pdGlhbGl6aW5nJyxcbiAgICAgICdhdXRob3JpemluZycsIC8vIGluIGNhc2Ugc29tZSBzZXJ2aWNlcyByZXF1aXJlIGFzeW5jaHJvbm91cyByZXF1ZXN0cyB0byBnZXQgYWNjZXNzX3Rva2Vuc1xuICAgICAgJ2F1dGhvcml6ZWQnLFxuICAgICAgJ3VuYXV0aG9yaXplZCcsXG4gICAgICAnZXJyb3InLFxuICAgIF0sIG51bGwsIG9uU3RhdGVDaGFuZ2UpO1xuICAgIHRoaXMuc3luY1N0YXRlID0gc2VydmljZVN0YXRlKFtcbiAgICAgICdpZGxlJyxcbiAgICAgICdyZWFkeScsXG4gICAgICAnc3luY2luZycsXG4gICAgICAnZXJyb3InLFxuICAgIF0sIG51bGwsIG9uU3RhdGVDaGFuZ2UpO1xuICAgIHRoaXMubGFzdEZldGNoID0gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgdGhpcy5zdGFydFN5bmMgPSB0aGlzLnN5bmNGYWN0b3J5KCk7XG4gICAgY29uc3QgZXZlbnRzID0gZ2V0RXZlbnRFbWl0dGVyKCk7XG4gICAgWydvbicsICdvZmYnLCAnZmlyZSddXG4gICAgLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgdGhpc1trZXldID0gKC4uLmFyZ3MpID0+IHsgZXZlbnRzW2tleV0oLi4uYXJncyk7IH07XG4gICAgfSk7XG4gIH0sXG4gIGxvZyguLi5hcmdzKSB7XG4gICAgY29uc29sZS5sb2coLi4uYXJncyk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxuICB9LFxuICBzeW5jRmFjdG9yeSgpIHtcbiAgICBsZXQgcHJvbWlzZTtcbiAgICBsZXQgZGVib3VuY2VkUmVzb2x2ZTtcbiAgICBjb25zdCBzaG91bGRTeW5jID0gKCkgPT4gdGhpcy5hdXRoU3RhdGUuaXMoJ2F1dGhvcml6ZWQnKSAmJiBnZXRDdXJyZW50KCkgPT09IHRoaXMubmFtZTtcbiAgICBjb25zdCBnZXRSZWFkeSA9ICgpID0+IHtcbiAgICAgIGlmICghc2hvdWxkU3luYygpKSByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICB0aGlzLmxvZygnUmVhZHkgdG8gc3luYzonLCB0aGlzLmRpc3BsYXlOYW1lKTtcbiAgICAgIHRoaXMuc3luY1N0YXRlLnNldCgncmVhZHknKTtcbiAgICAgIHdvcmtpbmcgPSB3b3JraW5nLnRoZW4oKCkgPT4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgZGVib3VuY2VkUmVzb2x2ZSA9IGRlYm91bmNlKHJlc29sdmUsIDEwICogMTAwMCk7XG4gICAgICAgIGRlYm91bmNlZFJlc29sdmUoKTtcbiAgICAgIH0pKVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICBpZiAoc2hvdWxkU3luYygpKSByZXR1cm4gdGhpcy5zeW5jKCk7XG4gICAgICAgIHRoaXMuc3luY1N0YXRlLnNldCgnaWRsZScpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7IGNvbnNvbGUuZXJyb3IoZXJyKTsgfSlcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgcHJvbWlzZSA9IG51bGw7XG4gICAgICAgIGRlYm91bmNlZFJlc29sdmUgPSBudWxsO1xuICAgICAgfSk7XG4gICAgICBwcm9taXNlID0gd29ya2luZztcbiAgICB9O1xuICAgIGZ1bmN0aW9uIHN0YXJ0U3luYygpIHtcbiAgICAgIGlmICghcHJvbWlzZSkgZ2V0UmVhZHkoKTtcbiAgICAgIGlmIChkZWJvdW5jZWRSZXNvbHZlKSBkZWJvdW5jZWRSZXNvbHZlKCk7XG4gICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9XG4gICAgcmV0dXJuIHN0YXJ0U3luYztcbiAgfSxcbiAgcHJlcGFyZUhlYWRlcnMoKSB7XG4gICAgdGhpcy5oZWFkZXJzID0ge307XG4gIH0sXG4gIHByZXBhcmUoKSB7XG4gICAgdGhpcy5hdXRoU3RhdGUuc2V0KCdpbml0aWFsaXppbmcnKTtcbiAgICByZXR1cm4gKHRoaXMuaW5pdFRva2VuKCkgPyBQcm9taXNlLnJlc29sdmUodGhpcy51c2VyKCkpIDogUHJvbWlzZS5yZWplY3Qoe1xuICAgICAgdHlwZTogJ25vLWF1dGgnLFxuICAgIH0pKVxuICAgIC50aGVuKCgpID0+IHtcbiAgICAgIHRoaXMuYXV0aFN0YXRlLnNldCgnYXV0aG9yaXplZCcpO1xuICAgIH0sIChlcnIpID0+IHtcbiAgICAgIGlmIChbJ25vLWF1dGgnLCAndW5hdXRob3JpemVkJ10uaW5jbHVkZXMoZXJyPy50eXBlKSkge1xuICAgICAgICB0aGlzLmF1dGhTdGF0ZS5zZXQoZXJyLnR5cGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICB0aGlzLmF1dGhTdGF0ZS5zZXQoJ2Vycm9yJyk7XG4gICAgICB9XG4gICAgICB0aGlzLnN5bmNTdGF0ZS5zZXQoJ2lkbGUnKTtcbiAgICAgIHRocm93IGVycjtcbiAgICB9KTtcbiAgfSxcbiAgY2hlY2tTeW5jKCkge1xuICAgIHJldHVybiB0aGlzLnByZXBhcmUoKVxuICAgIC50aGVuKCgpID0+IHRoaXMuc3RhcnRTeW5jKCkpO1xuICB9LFxuICB1c2VyOiBub29wLFxuICBhY3F1aXJlTG9jazogbm9vcCxcbiAgcmVsZWFzZUxvY2s6IG5vb3AsXG4gIGhhbmRsZU1ldGFFcnJvcihlcnIpIHtcbiAgICB0aHJvdyBlcnI7XG4gIH0sXG4gIGdldE1ldGEoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0KHsgbmFtZTogdGhpcy5tZXRhRmlsZSB9KVxuICAgIC50aGVuKGRhdGEgPT4gSlNPTi5wYXJzZShkYXRhKSlcbiAgICAuY2F0Y2goZXJyID0+IHRoaXMuaGFuZGxlTWV0YUVycm9yKGVycikpXG4gICAgLnRoZW4oZGF0YSA9PiAoe1xuICAgICAgbmFtZTogdGhpcy5tZXRhRmlsZSxcbiAgICAgIGRhdGEsXG4gICAgfSkpO1xuICB9LFxuICBpbml0VG9rZW4oKSB7XG4gICAgdGhpcy5wcmVwYXJlSGVhZGVycygpO1xuICAgIGNvbnN0IHRva2VuID0gdGhpcy5jb25maWcuZ2V0KCd0b2tlbicpO1xuICAgIHRoaXMuaGVhZGVycy5BdXRob3JpemF0aW9uID0gdG9rZW4gPyBgQmVhcmVyICR7dG9rZW59YCA6IG51bGw7XG4gICAgcmV0dXJuICEhdG9rZW47XG4gIH0sXG4gIGxvYWREYXRhKG9wdGlvbnMpIHtcbiAgICBjb25zdCB7IHByb2dyZXNzIH0gPSB0aGlzO1xuICAgIGNvbnN0IHsgZGVsYXkgPSB0aGlzLmRlbGF5VGltZSB9ID0gb3B0aW9ucztcbiAgICBsZXQgbGFzdEZldGNoID0gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgaWYgKGRlbGF5KSB7XG4gICAgICBsYXN0RmV0Y2ggPSB0aGlzLmxhc3RGZXRjaFxuICAgICAgLnRoZW4odHMgPT4gbWFrZVBhdXNlKGRlbGF5IC0gKERhdGUubm93KCkgLSB0cykpKVxuICAgICAgLnRoZW4oKCkgPT4gRGF0ZS5ub3coKSk7XG4gICAgICB0aGlzLmxhc3RGZXRjaCA9IGxhc3RGZXRjaDtcbiAgICB9XG4gICAgcHJvZ3Jlc3MudG90YWwgKz0gMTtcbiAgICBvblN0YXRlQ2hhbmdlKCk7XG4gICAgcmV0dXJuIGxhc3RGZXRjaC50aGVuKCgpID0+IHtcbiAgICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zKTtcbiAgICAgIG9wdGlvbnMuaGVhZGVycyA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuaGVhZGVycywgb3B0aW9ucy5oZWFkZXJzKTtcbiAgICAgIGxldCB7IHVybCB9ID0gb3B0aW9ucztcbiAgICAgIGlmICh1cmwuc3RhcnRzV2l0aCgnLycpKSB1cmwgPSAob3B0aW9ucy5wcmVmaXggPz8gdGhpcy51cmxQcmVmaXgpICsgdXJsO1xuICAgICAgcmV0dXJuIHJlcXVlc3QodXJsLCBvcHRpb25zKTtcbiAgICB9KVxuICAgIC50aGVuKCh7IGRhdGEgfSkgPT4gKHsgZGF0YSB9KSwgZXJyb3IgPT4gKHsgZXJyb3IgfSkpXG4gICAgLnRoZW4oKHsgZGF0YSwgZXJyb3IgfSkgPT4ge1xuICAgICAgcHJvZ3Jlc3MuZmluaXNoZWQgKz0gMTtcbiAgICAgIG9uU3RhdGVDaGFuZ2UoKTtcbiAgICAgIGlmIChlcnJvcikgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH0pO1xuICB9LFxuICBnZXRMb2NhbERhdGEoKSB7XG4gICAgcmV0dXJuIHBsdWdpblNjcmlwdC5saXN0KCk7XG4gIH0sXG4gIGdldFN5bmNEYXRhKCkge1xuICAgIHJldHVybiB0aGlzLmdldE1ldGEoKVxuICAgIC50aGVuKHJlbW90ZU1ldGEgPT4gUHJvbWlzZS5hbGwoW1xuICAgICAgcmVtb3RlTWV0YSxcbiAgICAgIHRoaXMubGlzdCgpLFxuICAgICAgdGhpcy5nZXRMb2NhbERhdGEoKSxcbiAgICBdKSk7XG4gIH0sXG4gIHN5bmMoKSB7XG4gICAgdGhpcy5wcm9ncmVzcyA9IHtcbiAgICAgIGZpbmlzaGVkOiAwLFxuICAgICAgdG90YWw6IDAsXG4gICAgfTtcbiAgICB0aGlzLnN5bmNTdGF0ZS5zZXQoJ3N5bmNpbmcnKTtcbiAgICAvLyBBdm9pZCBzaW11bHRhbmVvdXMgcmVxdWVzdHNcbiAgICByZXR1cm4gdGhpcy5wcmVwYXJlKClcbiAgICAudGhlbigoKSA9PiB0aGlzLmdldFN5bmNEYXRhKCkpXG4gICAgLnRoZW4oZGF0YSA9PiBQcm9taXNlLnJlc29sdmUodGhpcy5hY3F1aXJlTG9jaygpKS50aGVuKCgpID0+IGRhdGEpKVxuICAgIC50aGVuKChbcmVtb3RlTWV0YSwgcmVtb3RlRGF0YSwgbG9jYWxEYXRhXSkgPT4ge1xuICAgICAgY29uc3QgcmVtb3RlTWV0YURhdGEgPSByZW1vdGVNZXRhLmRhdGEgfHwge307XG4gICAgICBjb25zdCByZW1vdGVNZXRhSW5mbyA9IHJlbW90ZU1ldGFEYXRhLmluZm8gfHwge307XG4gICAgICBjb25zdCByZW1vdGVUaW1lc3RhbXAgPSByZW1vdGVNZXRhRGF0YS50aW1lc3RhbXAgfHwgMDtcbiAgICAgIGxldCByZW1vdGVDaGFuZ2VkID0gIXJlbW90ZVRpbWVzdGFtcFxuICAgICAgICB8fCBPYmplY3Qua2V5cyhyZW1vdGVNZXRhSW5mbykubGVuZ3RoICE9PSByZW1vdGVEYXRhLmxlbmd0aDtcbiAgICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgICBjb25zdCBnbG9iYWxMYXN0TW9kaWZpZWQgPSBnZXRPcHRpb24oJ2xhc3RNb2RpZmllZCcpO1xuICAgICAgY29uc3QgcmVtb3RlSXRlbU1hcCA9IHt9O1xuICAgICAgY29uc3QgbG9jYWxNZXRhID0gdGhpcy5jb25maWcuZ2V0KCdtZXRhJywge30pO1xuICAgICAgY29uc3QgZmlyc3RTeW5jID0gIWxvY2FsTWV0YS50aW1lc3RhbXA7XG4gICAgICBjb25zdCBvdXRkYXRlZCA9IGZpcnN0U3luYyB8fCByZW1vdGVUaW1lc3RhbXAgPiBsb2NhbE1ldGEudGltZXN0YW1wO1xuICAgICAgdGhpcy5sb2coJ0ZpcnN0IHN5bmM6JywgZmlyc3RTeW5jKTtcbiAgICAgIHRoaXMubG9nKCdPdXRkYXRlZDonLCBvdXRkYXRlZCwgJygnLCAnbG9jYWw6JywgbG9jYWxNZXRhLnRpbWVzdGFtcCwgJ3JlbW90ZTonLCByZW1vdGVUaW1lc3RhbXAsICcpJyk7XG4gICAgICBjb25zdCBwdXRMb2NhbCA9IFtdO1xuICAgICAgY29uc3QgcHV0UmVtb3RlID0gW107XG4gICAgICBjb25zdCBkZWxSZW1vdGUgPSBbXTtcbiAgICAgIGNvbnN0IGRlbExvY2FsID0gW107XG4gICAgICBjb25zdCB1cGRhdGVMb2NhbCA9IFtdO1xuICAgICAgcmVtb3RlTWV0YURhdGEuaW5mbyA9IHJlbW90ZURhdGEucmVkdWNlKChpbmZvLCBpdGVtKSA9PiB7XG4gICAgICAgIHJlbW90ZUl0ZW1NYXBbaXRlbS51cmldID0gaXRlbTtcbiAgICAgICAgbGV0IGl0ZW1JbmZvID0gcmVtb3RlTWV0YUluZm9baXRlbS51cmldO1xuICAgICAgICBpZiAoIWl0ZW1JbmZvKSB7XG4gICAgICAgICAgaXRlbUluZm8gPSB7fTtcbiAgICAgICAgICByZW1vdGVDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpbmZvW2l0ZW0udXJpXSA9IGl0ZW1JbmZvO1xuICAgICAgICBpZiAoIWl0ZW1JbmZvLm1vZGlmaWVkKSB7XG4gICAgICAgICAgaXRlbUluZm8ubW9kaWZpZWQgPSBub3c7XG4gICAgICAgICAgcmVtb3RlQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGluZm87XG4gICAgICB9LCB7fSk7XG4gICAgICBsb2NhbERhdGEuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICBjb25zdCB7IHByb3BzOiB7IHVyaSwgcG9zaXRpb24sIGxhc3RNb2RpZmllZCB9IH0gPSBpdGVtO1xuICAgICAgICBjb25zdCByZW1vdGVJbmZvID0gcmVtb3RlTWV0YURhdGEuaW5mb1t1cmldO1xuICAgICAgICBjb25zdCByZW1vdGVJdGVtID0gcmVtb3RlSXRlbU1hcFt1cmldO1xuICAgICAgICBpZiAocmVtb3RlSW5mbyAmJiByZW1vdGVJdGVtKSB7XG4gICAgICAgICAgaWYgKGZpcnN0U3luYyB8fCAhbGFzdE1vZGlmaWVkIHx8IHJlbW90ZUluZm8ubW9kaWZpZWQgPiBsYXN0TW9kaWZpZWQpIHtcbiAgICAgICAgICAgIHB1dExvY2FsLnB1c2goeyBsb2NhbDogaXRlbSwgcmVtb3RlOiByZW1vdGVJdGVtLCBpbmZvOiByZW1vdGVJbmZvIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAocmVtb3RlSW5mby5tb2RpZmllZCA8IGxhc3RNb2RpZmllZCkge1xuICAgICAgICAgICAgICBwdXRSZW1vdGUucHVzaCh7IGxvY2FsOiBpdGVtLCByZW1vdGU6IHJlbW90ZUl0ZW0gfSk7XG4gICAgICAgICAgICAgIHJlbW90ZUluZm8ubW9kaWZpZWQgPSBsYXN0TW9kaWZpZWQ7XG4gICAgICAgICAgICAgIHJlbW90ZUNoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJlbW90ZUluZm8ucG9zaXRpb24gIT09IHBvc2l0aW9uKSB7XG4gICAgICAgICAgICAgIGlmIChyZW1vdGVJbmZvLnBvc2l0aW9uICYmIGdsb2JhbExhc3RNb2RpZmllZCA8PSByZW1vdGVUaW1lc3RhbXApIHtcbiAgICAgICAgICAgICAgICB1cGRhdGVMb2NhbC5wdXNoKHsgbG9jYWw6IGl0ZW0sIHJlbW90ZTogcmVtb3RlSXRlbSwgaW5mbzogcmVtb3RlSW5mbyB9KTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZW1vdGVJbmZvLnBvc2l0aW9uID0gcG9zaXRpb247XG4gICAgICAgICAgICAgICAgcmVtb3RlQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgZGVsZXRlIHJlbW90ZUl0ZW1NYXBbdXJpXTtcbiAgICAgICAgfSBlbHNlIGlmIChmaXJzdFN5bmMgfHwgIW91dGRhdGVkIHx8IGxhc3RNb2RpZmllZCA+IHJlbW90ZVRpbWVzdGFtcCkge1xuICAgICAgICAgIHB1dFJlbW90ZS5wdXNoKHsgbG9jYWw6IGl0ZW0gfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGVsTG9jYWwucHVzaCh7IGxvY2FsOiBpdGVtIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJlbW90ZUl0ZW1NYXA6OmZvckVhY2hFbnRyeSgoW3VyaSwgaXRlbV0pID0+IHtcbiAgICAgICAgY29uc3QgaW5mbyA9IHJlbW90ZU1ldGFEYXRhLmluZm9bdXJpXTtcbiAgICAgICAgaWYgKG91dGRhdGVkKSB7XG4gICAgICAgICAgcHV0TG9jYWwucHVzaCh7IHJlbW90ZTogaXRlbSwgaW5mbyB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkZWxSZW1vdGUucHVzaCh7IHJlbW90ZTogaXRlbSB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBjb25zdCBwcm9taXNlUXVldWUgPSBbXG4gICAgICAgIC4uLnB1dExvY2FsLm1hcCgoeyByZW1vdGUsIGluZm8gfSkgPT4ge1xuICAgICAgICAgIHRoaXMubG9nKCdEb3dubG9hZCBzY3JpcHQ6JywgcmVtb3RlLnVyaSk7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KHJlbW90ZSlcbiAgICAgICAgICAudGhlbigocmF3KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gcGFyc2VTY3JpcHREYXRhKHJhdyk7XG4gICAgICAgICAgICAvLyBJbnZhbGlkIGRhdGFcbiAgICAgICAgICAgIGlmICghZGF0YS5jb2RlKSByZXR1cm47XG4gICAgICAgICAgICBpZiAoaW5mby5tb2RpZmllZCkgb2JqZWN0U2V0KGRhdGEsICdwcm9wcy5sYXN0TW9kaWZpZWQnLCBpbmZvLm1vZGlmaWVkKTtcbiAgICAgICAgICAgIGNvbnN0IHBvc2l0aW9uID0gK2luZm8ucG9zaXRpb247XG4gICAgICAgICAgICBpZiAocG9zaXRpb24pIGRhdGEucG9zaXRpb24gPSBwb3NpdGlvbjtcbiAgICAgICAgICAgIGlmICghZ2V0T3B0aW9uKCdzeW5jU2NyaXB0U3RhdHVzJykgJiYgZGF0YS5jb25maWcpIHtcbiAgICAgICAgICAgICAgZGVsZXRlIGRhdGEuY29uZmlnLmVuYWJsZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcGx1Z2luU2NyaXB0LnVwZGF0ZShkYXRhKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSksXG4gICAgICAgIC4uLnB1dFJlbW90ZS5tYXAoKHsgbG9jYWwsIHJlbW90ZSB9KSA9PiB7XG4gICAgICAgICAgdGhpcy5sb2coJ1VwbG9hZCBzY3JpcHQ6JywgbG9jYWwucHJvcHMudXJpKTtcbiAgICAgICAgICByZXR1cm4gcGx1Z2luU2NyaXB0LmdldChsb2NhbC5wcm9wcy5pZClcbiAgICAgICAgICAudGhlbigoY29kZSkgPT4ge1xuICAgICAgICAgICAgLy8gWFhYIHVzZSB2ZXJzaW9uIDEgdG8gYmUgY29tcGF0aWJsZSB3aXRoIFZpb2xlbnRtb25rZXkgb24gb3RoZXIgcGxhdGZvcm1zXG4gICAgICAgICAgICBjb25zdCBkYXRhID0gZ2V0U2NyaXB0RGF0YShsb2NhbCwgMSwgeyBjb2RlIH0pO1xuICAgICAgICAgICAgcmVtb3RlTWV0YURhdGEuaW5mb1tsb2NhbC5wcm9wcy51cmldID0ge1xuICAgICAgICAgICAgICBtb2RpZmllZDogbG9jYWwucHJvcHMubGFzdE1vZGlmaWVkLFxuICAgICAgICAgICAgICBwb3NpdGlvbjogbG9jYWwucHJvcHMucG9zaXRpb24sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmVtb3RlQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wdXQoXG4gICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oe30sIHJlbW90ZSwge1xuICAgICAgICAgICAgICAgIHVyaTogbG9jYWwucHJvcHMudXJpLFxuICAgICAgICAgICAgICAgIG5hbWU6IG51bGwsIC8vIHByZWZlciB1c2luZyB1cmkgb24gUFVUXG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICBKU09OLnN0cmluZ2lmeShkYXRhKSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pLFxuICAgICAgICAuLi5kZWxSZW1vdGUubWFwKCh7IHJlbW90ZSB9KSA9PiB7XG4gICAgICAgICAgdGhpcy5sb2coJ1JlbW92ZSByZW1vdGUgc2NyaXB0OicsIHJlbW90ZS51cmkpO1xuICAgICAgICAgIGRlbGV0ZSByZW1vdGVNZXRhRGF0YS5pbmZvW3JlbW90ZS51cmldO1xuICAgICAgICAgIHJlbW90ZUNoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgIHJldHVybiB0aGlzLnJlbW92ZShyZW1vdGUpO1xuICAgICAgICB9KSxcbiAgICAgICAgLi4uZGVsTG9jYWwubWFwKCh7IGxvY2FsIH0pID0+IHtcbiAgICAgICAgICB0aGlzLmxvZygnUmVtb3ZlIGxvY2FsIHNjcmlwdDonLCBsb2NhbC5wcm9wcy51cmkpO1xuICAgICAgICAgIHJldHVybiBwbHVnaW5TY3JpcHQucmVtb3ZlKGxvY2FsLnByb3BzLmlkKTtcbiAgICAgICAgfSksXG4gICAgICAgIC4uLnVwZGF0ZUxvY2FsLm1hcCgoeyBsb2NhbCwgaW5mbyB9KSA9PiB7XG4gICAgICAgICAgY29uc3QgdXBkYXRlcyA9IHt9O1xuICAgICAgICAgIGlmIChpbmZvLnBvc2l0aW9uKSB7XG4gICAgICAgICAgICB1cGRhdGVzLnByb3BzID0geyBwb3NpdGlvbjogaW5mby5wb3NpdGlvbiB9O1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdXBkYXRlU2NyaXB0SW5mbyhsb2NhbC5wcm9wcy5pZCwgdXBkYXRlcyk7XG4gICAgICAgIH0pLFxuICAgICAgXTtcbiAgICAgIHByb21pc2VRdWV1ZS5wdXNoKFByb21pc2UuYWxsKHByb21pc2VRdWV1ZSkudGhlbigoKSA9PiBzb3J0U2NyaXB0cygpKS50aGVuKChjaGFuZ2VkKSA9PiB7XG4gICAgICAgIGlmICghY2hhbmdlZCkgcmV0dXJuO1xuICAgICAgICByZW1vdGVDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHBsdWdpblNjcmlwdC5saXN0KClcbiAgICAgICAgLnRoZW4oKHNjcmlwdHMpID0+IHtcbiAgICAgICAgICBzY3JpcHRzLmZvckVhY2goKHNjcmlwdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmVtb3RlSW5mbyA9IHJlbW90ZU1ldGFEYXRhLmluZm9bc2NyaXB0LnByb3BzLnVyaV07XG4gICAgICAgICAgICBpZiAocmVtb3RlSW5mbykgcmVtb3RlSW5mby5wb3NpdGlvbiA9IHNjcmlwdC5wcm9wcy5wb3NpdGlvbjtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KSk7XG4gICAgICBwcm9taXNlUXVldWUucHVzaChQcm9taXNlLmFsbChwcm9taXNlUXVldWUpLnRoZW4oKCkgPT4ge1xuICAgICAgICBjb25zdCBwcm9taXNlcyA9IFtdO1xuICAgICAgICBpZiAocmVtb3RlQ2hhbmdlZCkge1xuICAgICAgICAgIHJlbW90ZU1ldGFEYXRhLnRpbWVzdGFtcCA9IERhdGUubm93KCk7XG4gICAgICAgICAgcHJvbWlzZXMucHVzaCh0aGlzLnB1dChyZW1vdGVNZXRhLCBKU09OLnN0cmluZ2lmeShyZW1vdGVNZXRhRGF0YSkpKTtcbiAgICAgICAgfVxuICAgICAgICBsb2NhbE1ldGEudGltZXN0YW1wID0gcmVtb3RlTWV0YURhdGEudGltZXN0YW1wO1xuICAgICAgICBsb2NhbE1ldGEubGFzdFN5bmMgPSBEYXRlLm5vdygpO1xuICAgICAgICB0aGlzLmNvbmZpZy5zZXQoJ21ldGEnLCBsb2NhbE1ldGEpO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xuICAgICAgfSkpO1xuICAgICAgLy8gaWdub3JlIGVycm9ycyB0byBlbnN1cmUgYWxsIHByb21pc2VzIGFyZSBmdWxmaWxsZWRcbiAgICAgIHJldHVybiBQcm9taXNlLmFsbChwcm9taXNlUXVldWUubWFwKHByb21pc2UgPT4gcHJvbWlzZS50aGVuKG5vb3AsIGVyciA9PiBlcnIgfHwgdHJ1ZSkpKVxuICAgICAgLnRoZW4oZXJyb3JzID0+IGVycm9ycy5maWx0ZXIoQm9vbGVhbikpXG4gICAgICAudGhlbigoZXJyb3JzKSA9PiB7IGlmIChlcnJvcnMubGVuZ3RoKSB0aHJvdyBlcnJvcnM7IH0pO1xuICAgIH0pXG4gICAgLnRoZW4oKCkgPT4ge1xuICAgICAgdGhpcy5zeW5jU3RhdGUuc2V0KCdpZGxlJyk7XG4gICAgICB0aGlzLmxvZygnU3luYyBmaW5pc2hlZDonLCB0aGlzLmRpc3BsYXlOYW1lKTtcbiAgICB9LCAoZXJyKSA9PiB7XG4gICAgICB0aGlzLnN5bmNTdGF0ZS5zZXQoJ2Vycm9yJyk7XG4gICAgICB0aGlzLmxvZygnRmFpbGVkIHN5bmNpbmc6JywgdGhpcy5kaXNwbGF5TmFtZSk7XG4gICAgICB0aGlzLmxvZyhlcnIpO1xuICAgIH0pXG4gICAgLnRoZW4oKCkgPT4gUHJvbWlzZS5yZXNvbHZlKHRoaXMucmVsZWFzZUxvY2soKSkuY2F0Y2gobm9vcCkpO1xuICB9LFxufSk7XG5cbmV4cG9ydCBmdW5jdGlvbiByZWdpc3RlcihGYWN0b3J5KSB7XG4gIHNlcnZpY2VDbGFzc2VzLnB1c2goRmFjdG9yeSk7XG59XG5mdW5jdGlvbiBnZXRDdXJyZW50KCkge1xuICByZXR1cm4gc3luY0NvbmZpZy5nZXQoJ2N1cnJlbnQnKTtcbn1cbmZ1bmN0aW9uIGdldFNlcnZpY2UobmFtZSkge1xuICByZXR1cm4gc2VydmljZXNbbmFtZSB8fCBnZXRDdXJyZW50KCldO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGluaXRpYWxpemUoKSB7XG4gIGlmICghc3luY0NvbmZpZykge1xuICAgIHN5bmNDb25maWcgPSBpbml0Q29uZmlnKCk7XG4gICAgc2VydmljZUNsYXNzZXMuZm9yRWFjaCgoRmFjdG9yeSkgPT4ge1xuICAgICAgY29uc3Qgc2VydmljZSA9IG5ldyBGYWN0b3J5KCk7XG4gICAgICBjb25zdCB7IG5hbWUgfSA9IHNlcnZpY2U7XG4gICAgICBzZXJ2aWNlTmFtZXMucHVzaChuYW1lKTtcbiAgICAgIHNlcnZpY2VzW25hbWVdID0gc2VydmljZTtcbiAgICB9KTtcbiAgfVxuICBzeW5jKCk7XG59XG5cbmZ1bmN0aW9uIHN5bmNPbmUoc2VydmljZSkge1xuICBpZiAoc2VydmljZS5zeW5jU3RhdGUuaXMoWydyZWFkeScsICdzeW5jaW5nJ10pKSByZXR1cm47XG4gIGlmIChzZXJ2aWNlLmF1dGhTdGF0ZS5pcyhbJ2lkbGUnLCAnZXJyb3InXSkpIHJldHVybiBzZXJ2aWNlLmNoZWNrU3luYygpO1xuICBpZiAoc2VydmljZS5hdXRoU3RhdGUuaXMoJ2F1dGhvcml6ZWQnKSkgcmV0dXJuIHNlcnZpY2Uuc3RhcnRTeW5jKCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzeW5jKCkge1xuICBjb25zdCBzZXJ2aWNlID0gZ2V0U2VydmljZSgpO1xuICByZXR1cm4gc2VydmljZSAmJiBQcm9taXNlLnJlc29sdmUoc3luY09uZShzZXJ2aWNlKSkudGhlbihhdXRvU3luYyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhdXRob3JpemUoKSB7XG4gIGNvbnN0IHNlcnZpY2UgPSBnZXRTZXJ2aWNlKCk7XG4gIGlmIChzZXJ2aWNlKSBzZXJ2aWNlLmF1dGhvcml6ZSgpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmV2b2tlKCkge1xuICBjb25zdCBzZXJ2aWNlID0gZ2V0U2VydmljZSgpO1xuICBpZiAoc2VydmljZSkgc2VydmljZS5yZXZva2UoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldENvbmZpZyhjb25maWcpIHtcbiAgY29uc3Qgc2VydmljZSA9IGdldFNlcnZpY2UoKTtcbiAgaWYgKHNlcnZpY2UpIHtcbiAgICBzZXJ2aWNlLnNldFVzZXJDb25maWcoY29uZmlnKTtcbiAgICByZXR1cm4gc2VydmljZS5jaGVja1N5bmMoKTtcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gb3BlbkF1dGhQYWdlKHVybCwgcmVkaXJlY3RVcmkpIHtcbiAgdW5yZWdpc3RlcldlYlJlcXVlc3QoKTsgLy8gb3RoZXJ3aXNlIG91ciBuZXcgdGFiSWQgd2lsbCBiZSBpZ25vcmVkXG4gIGJyb3dzZXIud2ViUmVxdWVzdC5vbkJlZm9yZVJlcXVlc3QuYWRkTGlzdGVuZXIob25CZWZvcmVSZXF1ZXN0LCB7XG4gICAgdXJsczogW2Ake3JlZGlyZWN0VXJpfSpgXSxcbiAgICB0eXBlczogWydtYWluX2ZyYW1lJ10sXG4gICAgdGFiSWQ6IChhd2FpdCBicm93c2VyLnRhYnMuY3JlYXRlKHsgdXJsIH0pKS5pZCxcbiAgfSwgWydibG9ja2luZyddKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge2Nocm9tZS53ZWJSZXF1ZXN0LldlYlJlc3BvbnNlRGV0YWlsc30gaW5mb1xuICogQHJldHVybnMge2Nocm9tZS53ZWJSZXF1ZXN0LkJsb2NraW5nUmVzcG9uc2V9XG4gKi9cbmZ1bmN0aW9uIG9uQmVmb3JlUmVxdWVzdChpbmZvKSB7XG4gIGlmIChnZXRTZXJ2aWNlKCkuY2hlY2tBdXRoPy4oaW5mby51cmwpKSB7XG4gICAgYnJvd3Nlci50YWJzLnJlbW92ZShpbmZvLnRhYklkKTtcbiAgICAvLyBJZiB3ZSB1bnJlZ2lzdGVyIHdpdGhvdXQgc2V0VGltZW91dCwgQVBJIHdpbGwgaWdub3JlIHsgY2FuY2VsOiB0cnVlIH1cbiAgICBzZXRUaW1lb3V0KHVucmVnaXN0ZXJXZWJSZXF1ZXN0LCAwKTtcbiAgICByZXR1cm4geyBjYW5jZWw6IHRydWUgfTtcbiAgfVxufVxuXG5mdW5jdGlvbiB1bnJlZ2lzdGVyV2ViUmVxdWVzdCgpIHtcbiAgYnJvd3Nlci53ZWJSZXF1ZXN0Lm9uQmVmb3JlUmVxdWVzdC5yZW1vdmVMaXN0ZW5lcihvbkJlZm9yZVJlcXVlc3QpO1xufVxuXG5ob29rT3B0aW9ucygoZGF0YSkgPT4ge1xuICBjb25zdCB2YWx1ZSA9IGRhdGE/Llsnc3luYy5jdXJyZW50J107XG4gIGlmICh2YWx1ZSkgaW5pdGlhbGl6ZSgpO1xufSk7XG4iLCJpbXBvcnQgeyBsb2FkUXVlcnksIGR1bXBRdWVyeSB9IGZyb20gJy4uL3V0aWxzJztcbmltcG9ydCB7XG4gIGdldFVSSSwgZ2V0SXRlbUZpbGVuYW1lLCBCYXNlU2VydmljZSwgaXNTY3JpcHRGaWxlLCByZWdpc3RlcixcbiAgb3BlbkF1dGhQYWdlLFxufSBmcm9tICcuL2Jhc2UnO1xuXG5jb25zdCBjb25maWcgPSB7XG4gIGNsaWVudF9pZDogJ2YwcTEyenVwMnV5czV3OCcsXG4gIHJlZGlyZWN0X3VyaTogJ2h0dHBzOi8vdmlvbGVudG1vbmtleS5naXRodWIuaW8vYXV0aF9kcm9wYm94Lmh0bWwnLFxufTtcblxuY29uc3QgZXNjUkUgPSAvW1xcdTAwN2YtXFx1ZmZmZl0vZzsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb250cm9sLXJlZ2V4XG5jb25zdCBlc2NGdW5jID0gbSA9PiBgXFxcXHUkeyhtLmNoYXJDb2RlQXQoMCkgKyAweDEwMDAwKS50b1N0cmluZygxNikuc2xpY2UoMSl9YDtcblxuZnVuY3Rpb24ganNvblN0cmluZ2lmeVNhZmUob2JqKSB7XG4gIGNvbnN0IHN0cmluZyA9IEpTT04uc3RyaW5naWZ5KG9iaik7XG4gIHJldHVybiBzdHJpbmcucmVwbGFjZShlc2NSRSwgZXNjRnVuYyk7XG59XG5cbmNvbnN0IERyb3Bib3ggPSBCYXNlU2VydmljZS5leHRlbmQoe1xuICBuYW1lOiAnZHJvcGJveCcsXG4gIGRpc3BsYXlOYW1lOiAnRHJvcGJveCcsXG4gIHVzZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMubG9hZERhdGEoe1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICB1cmw6ICdodHRwczovL2FwaS5kcm9wYm94YXBpLmNvbS8yL3VzZXJzL2dldF9jdXJyZW50X2FjY291bnQnLFxuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGlmIChlcnIuc3RhdHVzID09PSA0MDEpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KHtcbiAgICAgICAgICB0eXBlOiAndW5hdXRob3JpemVkJyxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3Qoe1xuICAgICAgICB0eXBlOiAnZXJyb3InLFxuICAgICAgICBkYXRhOiBlcnIsXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSxcbiAgaGFuZGxlTWV0YUVycm9yKHJlcykge1xuICAgIGlmIChyZXMuc3RhdHVzICE9PSA0MDkpIHRocm93IHJlcztcbiAgfSxcbiAgbGlzdCgpIHtcbiAgICByZXR1cm4gdGhpcy5sb2FkRGF0YSh7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIHVybDogJ2h0dHBzOi8vYXBpLmRyb3Bib3hhcGkuY29tLzIvZmlsZXMvbGlzdF9mb2xkZXInLFxuICAgICAgYm9keToge1xuICAgICAgICBwYXRoOiAnJyxcbiAgICAgIH0sXG4gICAgICByZXNwb25zZVR5cGU6ICdqc29uJyxcbiAgICB9KVxuICAgIC50aGVuKGRhdGEgPT4gKFxuICAgICAgZGF0YS5lbnRyaWVzLmZpbHRlcihpdGVtID0+IGl0ZW1bJy50YWcnXSA9PT0gJ2ZpbGUnICYmIGlzU2NyaXB0RmlsZShpdGVtLm5hbWUpKS5tYXAobm9ybWFsaXplKVxuICAgICkpO1xuICB9LFxuICBnZXQoaXRlbSkge1xuICAgIGNvbnN0IG5hbWUgPSBnZXRJdGVtRmlsZW5hbWUoaXRlbSk7XG4gICAgcmV0dXJuIHRoaXMubG9hZERhdGEoe1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICB1cmw6ICdodHRwczovL2NvbnRlbnQuZHJvcGJveGFwaS5jb20vMi9maWxlcy9kb3dubG9hZCcsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgICdEcm9wYm94LUFQSS1BcmcnOiBqc29uU3RyaW5naWZ5U2FmZSh7XG4gICAgICAgICAgcGF0aDogYC8ke25hbWV9YCxcbiAgICAgICAgfSksXG4gICAgICB9LFxuICAgIH0pO1xuICB9LFxuICBwdXQoaXRlbSwgZGF0YSkge1xuICAgIGNvbnN0IG5hbWUgPSBnZXRJdGVtRmlsZW5hbWUoaXRlbSk7XG4gICAgcmV0dXJuIHRoaXMubG9hZERhdGEoe1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICB1cmw6ICdodHRwczovL2NvbnRlbnQuZHJvcGJveGFwaS5jb20vMi9maWxlcy91cGxvYWQnLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnRHJvcGJveC1BUEktQXJnJzoganNvblN0cmluZ2lmeVNhZmUoe1xuICAgICAgICAgIHBhdGg6IGAvJHtuYW1lfWAsXG4gICAgICAgICAgbW9kZTogJ292ZXJ3cml0ZScsXG4gICAgICAgIH0pLFxuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL29jdGV0LXN0cmVhbScsXG4gICAgICB9LFxuICAgICAgYm9keTogZGF0YSxcbiAgICAgIHJlc3BvbnNlVHlwZTogJ2pzb24nLFxuICAgIH0pXG4gICAgLnRoZW4obm9ybWFsaXplKTtcbiAgfSxcbiAgcmVtb3ZlKGl0ZW0pIHtcbiAgICBjb25zdCBuYW1lID0gZ2V0SXRlbUZpbGVuYW1lKGl0ZW0pO1xuICAgIHJldHVybiB0aGlzLmxvYWREYXRhKHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgdXJsOiAnaHR0cHM6Ly9hcGkuZHJvcGJveGFwaS5jb20vMi9maWxlcy9kZWxldGUnLFxuICAgICAgYm9keToge1xuICAgICAgICBwYXRoOiBgLyR7bmFtZX1gLFxuICAgICAgfSxcbiAgICAgIHJlc3BvbnNlVHlwZTogJ2pzb24nLFxuICAgIH0pXG4gICAgLnRoZW4obm9ybWFsaXplKTtcbiAgfSxcbiAgYXV0aG9yaXplKCkge1xuICAgIGNvbnN0IHBhcmFtcyA9IHtcbiAgICAgIHJlc3BvbnNlX3R5cGU6ICd0b2tlbicsXG4gICAgICBjbGllbnRfaWQ6IGNvbmZpZy5jbGllbnRfaWQsXG4gICAgICByZWRpcmVjdF91cmk6IGNvbmZpZy5yZWRpcmVjdF91cmksXG4gICAgfTtcbiAgICBjb25zdCB1cmwgPSBgaHR0cHM6Ly93d3cuZHJvcGJveC5jb20vb2F1dGgyL2F1dGhvcml6ZT8ke2R1bXBRdWVyeShwYXJhbXMpfWA7XG4gICAgb3BlbkF1dGhQYWdlKHVybCwgY29uZmlnLnJlZGlyZWN0X3VyaSk7XG4gIH0sXG4gIGF1dGhvcml6ZWQocmF3KSB7XG4gICAgY29uc3QgZGF0YSA9IGxvYWRRdWVyeShyYXcpO1xuICAgIGlmIChkYXRhLmFjY2Vzc190b2tlbikge1xuICAgICAgdGhpcy5jb25maWcuc2V0KHtcbiAgICAgICAgdWlkOiBkYXRhLnVpZCxcbiAgICAgICAgdG9rZW46IGRhdGEuYWNjZXNzX3Rva2VuLFxuICAgICAgfSk7XG4gICAgfVxuICB9LFxuICBjaGVja0F1dGgodXJsKSB7XG4gICAgY29uc3QgcmVkaXJlY3RVcmkgPSBgJHtjb25maWcucmVkaXJlY3RfdXJpfSNgO1xuICAgIGlmICh1cmwuc3RhcnRzV2l0aChyZWRpcmVjdFVyaSkpIHtcbiAgICAgIHRoaXMuYXV0aG9yaXplZCh1cmwuc2xpY2UocmVkaXJlY3RVcmkubGVuZ3RoKSk7XG4gICAgICB0aGlzLmNoZWNrU3luYygpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9LFxuICByZXZva2UoKSB7XG4gICAgdGhpcy5jb25maWcuc2V0KHtcbiAgICAgIHVpZDogbnVsbCxcbiAgICAgIHRva2VuOiBudWxsLFxuICAgIH0pO1xuICAgIHJldHVybiB0aGlzLnByZXBhcmUoKTtcbiAgfSxcbn0pO1xucmVnaXN0ZXIoRHJvcGJveCk7XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZShpdGVtKSB7XG4gIHJldHVybiB7XG4gICAgbmFtZTogaXRlbS5uYW1lLFxuICAgIHNpemU6IGl0ZW0uc2l6ZSxcbiAgICB1cmk6IGdldFVSSShpdGVtLm5hbWUpLFxuICAgIC8vIG1vZGlmaWVkOiBuZXcgRGF0ZShpdGVtLnNlcnZlcl9tb2RpZmllZCkuZ2V0VGltZSgpLFxuICAgIC8vIGlzRGVsZXRlZDogaXRlbS5pc19kZWxldGVkLFxuICB9O1xufVxuIiwiLy8gUmVmZXJlbmNlOlxuLy8gLSBodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS9kcml2ZS92My9yZWZlcmVuY2UvZmlsZXNcbi8vIC0gaHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZS9nb29nbGUtYXBpLW5vZGVqcy1jbGllbnRcbmltcG9ydCB7IGdldFVuaXFJZCwgbm9vcCB9IGZyb20gJyMvY29tbW9uJztcbmltcG9ydCB7IG9iamVjdEdldCB9IGZyb20gJyMvY29tbW9uL29iamVjdCc7XG5pbXBvcnQgeyBkdW1wUXVlcnksIG5vdGlmeSB9IGZyb20gJy4uL3V0aWxzJztcbmltcG9ydCB7XG4gIGdldFVSSSwgZ2V0SXRlbUZpbGVuYW1lLCBCYXNlU2VydmljZSwgcmVnaXN0ZXIsIGlzU2NyaXB0RmlsZSxcbiAgb3BlbkF1dGhQYWdlLFxufSBmcm9tICcuL2Jhc2UnO1xuXG5jb25zdCBjb25maWcgPSB7XG4gIGNsaWVudF9pZDogcHJvY2Vzcy5lbnYuU1lOQ19HT09HTEVfQ0xJRU5UX0lELFxuICBjbGllbnRfc2VjcmV0OiBwcm9jZXNzLmVudi5TWU5DX0dPT0dMRV9DTElFTlRfU0VDUkVULFxuICByZWRpcmVjdF91cmk6ICdodHRwczovL3Zpb2xlbnRtb25rZXkuZ2l0aHViLmlvL2F1dGhfZ29vZ2xlZHJpdmUuaHRtbCcsXG4gIHNjb3BlOiAnaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vYXV0aC9kcml2ZS5hcHBkYXRhJyxcbn07XG5jb25zdCBVTkFVVEhPUklaRUQgPSB7IHN0YXR1czogJ1VOQVVUSE9SSVpFRCcgfTtcblxuY29uc3QgR29vZ2xlRHJpdmUgPSBCYXNlU2VydmljZS5leHRlbmQoe1xuICBuYW1lOiAnZ29vZ2xlZHJpdmUnLFxuICBkaXNwbGF5TmFtZTogJ0dvb2dsZSBEcml2ZScsXG4gIHVybFByZWZpeDogJ2h0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL2RyaXZlL3YzJyxcbiAgcmVmcmVzaFRva2VuKCkge1xuICAgIGNvbnN0IHJlZnJlc2hUb2tlbiA9IHRoaXMuY29uZmlnLmdldCgncmVmcmVzaF90b2tlbicpO1xuICAgIGlmICghcmVmcmVzaFRva2VuKSByZXR1cm4gUHJvbWlzZS5yZWplY3QoeyB0eXBlOiAndW5hdXRob3JpemVkJyB9KTtcbiAgICByZXR1cm4gdGhpcy5hdXRob3JpemVkKHtcbiAgICAgIHJlZnJlc2hfdG9rZW46IHJlZnJlc2hUb2tlbixcbiAgICAgIGdyYW50X3R5cGU6ICdyZWZyZXNoX3Rva2VuJyxcbiAgICB9KVxuICAgIC50aGVuKCgpID0+IHRoaXMucHJlcGFyZSgpKTtcbiAgfSxcbiAgdXNlcigpIHtcbiAgICBjb25zdCByZXF1ZXN0VXNlciA9ICgpID0+IHRoaXMubG9hZERhdGEoe1xuICAgICAgdXJsOiBgaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vb2F1dGgyL3YzL3Rva2VuaW5mbz8ke2R1bXBRdWVyeSh7XG4gICAgICAgIGFjY2Vzc190b2tlbjogdGhpcy5jb25maWcuZ2V0KCd0b2tlbicpLFxuICAgICAgfSl9YCxcbiAgICAgIHJlc3BvbnNlVHlwZTogJ2pzb24nLFxuICAgIH0pO1xuICAgIHJldHVybiByZXF1ZXN0VXNlcigpXG4gICAgLnRoZW4oKGluZm8pID0+IHtcbiAgICAgIC8vIElmIGFjY2VzcyB3YXMgZ3JhbnRlZCB3aXRoIGFjY2Vzc190eXBlPW9ubGluZSwgcmV2b2tlIGl0LlxuICAgICAgaWYgKGluZm8uYWNjZXNzX3R5cGUgPT09ICdvbmxpbmUnKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvYWREYXRhKHtcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICB1cmw6IGBodHRwczovL2FjY291bnRzLmdvb2dsZS5jb20vby9vYXV0aDIvcmV2b2tlP3Rva2VuPSR7dGhpcy5jb25maWcuZ2V0KCd0b2tlbicpfWAsXG4gICAgICAgICAgcHJlZml4OiAnJyxcbiAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIG5vdGlmeSh7XG4gICAgICAgICAgICB0aXRsZTogJ1N5bmMgVXBncmFkZWQnLFxuICAgICAgICAgICAgYm9keTogJ1BsZWFzZSByZWF1dGhvcml6ZSBhY2Nlc3MgdG8geW91ciBHb29nbGUgRHJpdmUgdG8gY29tcGxldGUgdGhlIHVwZ3JhZGF0aW9uLicsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCdPbmxpbmUgYWNjZXNzIHJldm9rZWQuJyk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgaWYgKGluZm8uc2NvcGUgIT09IGNvbmZpZy5zY29wZSkgcmV0dXJuIFByb21pc2UucmVqZWN0KFVOQVVUSE9SSVpFRCk7XG4gICAgfSlcbiAgICAuY2F0Y2goKHJlcykgPT4ge1xuICAgICAgaWYgKHJlcyA9PT0gVU5BVVRIT1JJWkVEIHx8IHJlcy5zdGF0dXMgPT09IDQwMCAmJiBvYmplY3RHZXQocmVzLCAnZGF0YS5lcnJvcl9kZXNjcmlwdGlvbicpID09PSAnSW52YWxpZCBWYWx1ZScpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVmcmVzaFRva2VuKCkudGhlbihyZXF1ZXN0VXNlcik7XG4gICAgICB9XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3Qoe1xuICAgICAgICB0eXBlOiAnZXJyb3InLFxuICAgICAgICBkYXRhOiByZXMsXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSxcbiAgZ2V0U3luY0RhdGEoKSB7XG4gICAgY29uc3QgcGFyYW1zID0ge1xuICAgICAgc3BhY2VzOiAnYXBwRGF0YUZvbGRlcicsXG4gICAgICBmaWVsZHM6ICdmaWxlcyhpZCxuYW1lLHNpemUpJyxcbiAgICB9O1xuICAgIHJldHVybiB0aGlzLmxvYWREYXRhKHtcbiAgICAgIHVybDogYC9maWxlcz8ke2R1bXBRdWVyeShwYXJhbXMpfWAsXG4gICAgICByZXNwb25zZVR5cGU6ICdqc29uJyxcbiAgICB9KVxuICAgIC50aGVuKCh7IGZpbGVzIH0pID0+IHtcbiAgICAgIGxldCBtZXRhRmlsZTtcbiAgICAgIGNvbnN0IHJlbW90ZURhdGEgPSBmaWxlcy5maWx0ZXIoKGl0ZW0pID0+IHtcbiAgICAgICAgaWYgKGlzU2NyaXB0RmlsZShpdGVtLm5hbWUpKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgaWYgKCFtZXRhRmlsZSAmJiBpdGVtLm5hbWUgPT09IHRoaXMubWV0YUZpbGUpIHtcbiAgICAgICAgICBtZXRhRmlsZSA9IGl0ZW07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5yZW1vdmUoaXRlbSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfSlcbiAgICAgIC5tYXAobm9ybWFsaXplKVxuICAgICAgLmZpbHRlcigoaXRlbSkgPT4ge1xuICAgICAgICBpZiAoIWl0ZW0uc2l6ZSkge1xuICAgICAgICAgIHRoaXMucmVtb3ZlKGl0ZW0pO1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0pO1xuICAgICAgY29uc3QgbWV0YUl0ZW0gPSBtZXRhRmlsZSA/IG5vcm1hbGl6ZShtZXRhRmlsZSkgOiB7fTtcbiAgICAgIGNvbnN0IGdvdE1ldGEgPSB0aGlzLmdldChtZXRhSXRlbSlcbiAgICAgIC50aGVuKGRhdGEgPT4gSlNPTi5wYXJzZShkYXRhKSlcbiAgICAgIC5jYXRjaChlcnIgPT4gdGhpcy5oYW5kbGVNZXRhRXJyb3IoZXJyKSlcbiAgICAgIC50aGVuKGRhdGEgPT4gT2JqZWN0LmFzc2lnbih7fSwgbWV0YUl0ZW0sIHtcbiAgICAgICAgbmFtZTogdGhpcy5tZXRhRmlsZSxcbiAgICAgICAgdXJpOiBudWxsLFxuICAgICAgICBkYXRhLFxuICAgICAgfSkpO1xuICAgICAgcmV0dXJuIFByb21pc2UuYWxsKFtnb3RNZXRhLCByZW1vdGVEYXRhLCB0aGlzLmdldExvY2FsRGF0YSgpXSk7XG4gICAgfSk7XG4gIH0sXG4gIGF1dGhvcml6ZSgpIHtcbiAgICBjb25zdCBwYXJhbXMgPSB7XG4gICAgICByZXNwb25zZV90eXBlOiAnY29kZScsXG4gICAgICBhY2Nlc3NfdHlwZTogJ29mZmxpbmUnLFxuICAgICAgY2xpZW50X2lkOiBjb25maWcuY2xpZW50X2lkLFxuICAgICAgcmVkaXJlY3RfdXJpOiBjb25maWcucmVkaXJlY3RfdXJpLFxuICAgICAgc2NvcGU6IGNvbmZpZy5zY29wZSxcbiAgICB9O1xuICAgIGlmICghdGhpcy5jb25maWcuZ2V0KCdyZWZyZXNoX3Rva2VuJykpIHBhcmFtcy5wcm9tcHQgPSAnY29uc2VudCc7XG4gICAgY29uc3QgdXJsID0gYGh0dHBzOi8vYWNjb3VudHMuZ29vZ2xlLmNvbS9vL29hdXRoMi92Mi9hdXRoPyR7ZHVtcFF1ZXJ5KHBhcmFtcyl9YDtcbiAgICBvcGVuQXV0aFBhZ2UodXJsLCBjb25maWcucmVkaXJlY3RfdXJpKTtcbiAgfSxcbiAgY2hlY2tBdXRoKHVybCkge1xuICAgIGNvbnN0IHJlZGlyZWN0VXJpID0gYCR7Y29uZmlnLnJlZGlyZWN0X3VyaX0/Y29kZT1gO1xuICAgIGlmICh1cmwuc3RhcnRzV2l0aChyZWRpcmVjdFVyaSkpIHtcbiAgICAgIHRoaXMuYXV0aFN0YXRlLnNldCgnYXV0aG9yaXppbmcnKTtcbiAgICAgIHRoaXMuYXV0aG9yaXplZCh7XG4gICAgICAgIGNvZGU6IGRlY29kZVVSSUNvbXBvbmVudCh1cmwuc3BsaXQoJyMnKVswXS5zbGljZShyZWRpcmVjdFVyaS5sZW5ndGgpKSxcbiAgICAgIH0pXG4gICAgICAudGhlbigoKSA9PiB0aGlzLmNoZWNrU3luYygpKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSxcbiAgcmV2b2tlKCkge1xuICAgIHRoaXMuY29uZmlnLnNldCh7XG4gICAgICB0b2tlbjogbnVsbCxcbiAgICAgIHJlZnJlc2hfdG9rZW46IG51bGwsXG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXMucHJlcGFyZSgpO1xuICB9LFxuICBhdXRob3JpemVkKHBhcmFtcykge1xuICAgIHJldHVybiB0aGlzLmxvYWREYXRhKHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgdXJsOiAnaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vb2F1dGgyL3Y0L3Rva2VuJyxcbiAgICAgIHByZWZpeDogJycsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJyxcbiAgICAgIH0sXG4gICAgICBib2R5OiBkdW1wUXVlcnkoT2JqZWN0LmFzc2lnbih7fSwge1xuICAgICAgICBjbGllbnRfaWQ6IGNvbmZpZy5jbGllbnRfaWQsXG4gICAgICAgIGNsaWVudF9zZWNyZXQ6IGNvbmZpZy5jbGllbnRfc2VjcmV0LFxuICAgICAgICByZWRpcmVjdF91cmk6IGNvbmZpZy5yZWRpcmVjdF91cmksXG4gICAgICAgIGdyYW50X3R5cGU6ICdhdXRob3JpemF0aW9uX2NvZGUnLFxuICAgICAgfSwgcGFyYW1zKSksXG4gICAgICByZXNwb25zZVR5cGU6ICdqc29uJyxcbiAgICB9KVxuICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICBpZiAoZGF0YS5hY2Nlc3NfdG9rZW4pIHtcbiAgICAgICAgY29uc3QgdXBkYXRlID0ge1xuICAgICAgICAgIHRva2VuOiBkYXRhLmFjY2Vzc190b2tlbixcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGRhdGEucmVmcmVzaF90b2tlbikge1xuICAgICAgICAgIHVwZGF0ZS5yZWZyZXNoX3Rva2VuID0gZGF0YS5yZWZyZXNoX3Rva2VuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29uZmlnLnNldCh1cGRhdGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgZGF0YTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcbiAgaGFuZGxlTWV0YUVycm9yOiBub29wLFxuICBsaXN0KCkge1xuICAgIHRocm93IG5ldyBFcnJvcignTm90IHN1cHBvcnRlZCcpO1xuICB9LFxuICBnZXQoeyBpZCB9KSB7XG4gICAgaWYgKCFpZCkgcmV0dXJuIFByb21pc2UucmVqZWN0KCk7XG4gICAgcmV0dXJuIHRoaXMubG9hZERhdGEoe1xuICAgICAgdXJsOiBgL2ZpbGVzLyR7aWR9P2FsdD1tZWRpYWAsXG4gICAgfSk7XG4gIH0sXG4gIHB1dChpdGVtLCBkYXRhKSB7XG4gICAgY29uc3QgbmFtZSA9IGdldEl0ZW1GaWxlbmFtZShpdGVtKTtcbiAgICBjb25zdCB7IGlkIH0gPSBpdGVtO1xuICAgIGNvbnN0IGJvdW5kYXJ5ID0gZ2V0VW5pcUlkKCd2aW9sZW50bW9ua2V5LWlzLWdyZWF0LScpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAnQ29udGVudC1UeXBlJzogYG11bHRpcGFydC9yZWxhdGVkOyBib3VuZGFyeT0ke2JvdW5kYXJ5fWAsXG4gICAgfTtcbiAgICBjb25zdCBtZXRhZGF0YSA9IGlkID8ge1xuICAgICAgbmFtZSxcbiAgICB9IDoge1xuICAgICAgbmFtZSxcbiAgICAgIHBhcmVudHM6IFsnYXBwRGF0YUZvbGRlciddLFxuICAgIH07XG4gICAgY29uc3QgYm9keSA9IFtcbiAgICAgIGAtLSR7Ym91bmRhcnl9YCxcbiAgICAgICdDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9VVRGLTgnLFxuICAgICAgJycsXG4gICAgICBKU09OLnN0cmluZ2lmeShtZXRhZGF0YSksXG4gICAgICBgLS0ke2JvdW5kYXJ5fWAsXG4gICAgICAnQ29udGVudC1UeXBlOiB0ZXh0L3BsYWluJyxcbiAgICAgICcnLFxuICAgICAgZGF0YSxcbiAgICAgIGAtLSR7Ym91bmRhcnl9LS1gLFxuICAgICAgJycsXG4gICAgXS5qb2luKCdcXHJcXG4nKTtcbiAgICBjb25zdCB1cmwgPSBpZFxuICAgICAgPyBgaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vdXBsb2FkL2RyaXZlL3YzL2ZpbGVzLyR7aWR9P3VwbG9hZFR5cGU9bXVsdGlwYXJ0YFxuICAgICAgOiAnaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vdXBsb2FkL2RyaXZlL3YzL2ZpbGVzP3VwbG9hZFR5cGU9bXVsdGlwYXJ0JztcbiAgICByZXR1cm4gdGhpcy5sb2FkRGF0YSh7XG4gICAgICB1cmwsXG4gICAgICBib2R5LFxuICAgICAgaGVhZGVycyxcbiAgICAgIG1ldGhvZDogaWQgPyAnUEFUQ0gnIDogJ1BPU1QnLFxuICAgIH0pO1xuICB9LFxuICByZW1vdmUoeyBpZCB9KSB7XG4gICAgcmV0dXJuIHRoaXMubG9hZERhdGEoe1xuICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgIHVybDogYC9maWxlcy8ke2lkfWAsXG4gICAgfSk7XG4gIH0sXG59KTtcbnJlZ2lzdGVyKEdvb2dsZURyaXZlKTtcblxuZnVuY3Rpb24gbm9ybWFsaXplKGl0ZW0pIHtcbiAgcmV0dXJuIHtcbiAgICBpZDogaXRlbS5pZCxcbiAgICBuYW1lOiBpdGVtLm5hbWUsXG4gICAgc2l6ZTogK2l0ZW0uc2l6ZSxcbiAgICB1cmk6IGdldFVSSShpdGVtLm5hbWUpLFxuICB9O1xufVxuIiwiaW1wb3J0IHtcbiAgaW5pdGlhbGl6ZSxcbiAgc3luYyxcbiAgZ2V0U3RhdGVzLFxuICBhdXRob3JpemUsXG4gIHJldm9rZSxcbiAgc2V0Q29uZmlnLFxufSBmcm9tICcuL2Jhc2UnO1xuaW1wb3J0ICcuL2Ryb3Bib3gnO1xuaW1wb3J0ICcuL29uZWRyaXZlJztcbmltcG9ydCAnLi9nb29nbGVkcml2ZSc7XG5pbXBvcnQgJy4vd2ViZGF2JztcbmltcG9ydCB7IGNvbW1hbmRzIH0gZnJvbSAnLi4vdXRpbHMvbWVzc2FnZSc7XG5cbk9iamVjdC5hc3NpZ24oY29tbWFuZHMsIHtcbiAgU3luY0F1dGhvcml6ZTogYXV0aG9yaXplLFxuICBTeW5jUmV2b2tlOiByZXZva2UsXG4gIFN5bmNTdGFydDogc3luYyxcbiAgU3luY1NldENvbmZpZzogc2V0Q29uZmlnLFxufSk7XG5cbmV4cG9ydCB7XG4gIGluaXRpYWxpemUsXG4gIHN5bmMsXG4gIGdldFN0YXRlcyxcbiAgYXV0aG9yaXplLFxuICByZXZva2UsXG59O1xuIiwiLy8gUmVmZXJlbmNlOiBodHRwczovL2Rldi5vbmVkcml2ZS5jb20vUkVBRE1FLmh0bVxuaW1wb3J0IHsgbm9vcCB9IGZyb20gJyMvY29tbW9uJztcbmltcG9ydCB7IG9iamVjdEdldCB9IGZyb20gJyMvY29tbW9uL29iamVjdCc7XG5pbXBvcnQgeyBkdW1wUXVlcnkgfSBmcm9tICcuLi91dGlscyc7XG5pbXBvcnQge1xuICBnZXRVUkksIGdldEl0ZW1GaWxlbmFtZSwgQmFzZVNlcnZpY2UsIGlzU2NyaXB0RmlsZSwgcmVnaXN0ZXIsXG4gIG9wZW5BdXRoUGFnZSxcbn0gZnJvbSAnLi9iYXNlJztcblxuY29uc3QgY29uZmlnID0ge1xuICBjbGllbnRfaWQ6IHByb2Nlc3MuZW52LlNZTkNfT05FRFJJVkVfQ0xJRU5UX0lELFxuICBjbGllbnRfc2VjcmV0OiBwcm9jZXNzLmVudi5TWU5DX09ORURSSVZFX0NMSUVOVF9TRUNSRVQsXG4gIHJlZGlyZWN0X3VyaTogJ2h0dHBzOi8vdmlvbGVudG1vbmtleS5naXRodWIuaW8vYXV0aF9vbmVkcml2ZS5odG1sJyxcbn07XG5cbmNvbnN0IE9uZURyaXZlID0gQmFzZVNlcnZpY2UuZXh0ZW5kKHtcbiAgbmFtZTogJ29uZWRyaXZlJyxcbiAgZGlzcGxheU5hbWU6ICdPbmVEcml2ZScsXG4gIHVybFByZWZpeDogJ2h0dHBzOi8vYXBpLm9uZWRyaXZlLmNvbS92MS4wJyxcbiAgcmVmcmVzaFRva2VuKCkge1xuICAgIGNvbnN0IHJlZnJlc2hUb2tlbiA9IHRoaXMuY29uZmlnLmdldCgncmVmcmVzaF90b2tlbicpO1xuICAgIHJldHVybiB0aGlzLmF1dGhvcml6ZWQoe1xuICAgICAgcmVmcmVzaF90b2tlbjogcmVmcmVzaFRva2VuLFxuICAgICAgZ3JhbnRfdHlwZTogJ3JlZnJlc2hfdG9rZW4nLFxuICAgIH0pXG4gICAgLnRoZW4oKCkgPT4gdGhpcy5wcmVwYXJlKCkpO1xuICB9LFxuICB1c2VyKCkge1xuICAgIGNvbnN0IHJlcXVlc3RVc2VyID0gKCkgPT4gdGhpcy5sb2FkRGF0YSh7XG4gICAgICB1cmw6ICcvZHJpdmUnLFxuICAgICAgcmVzcG9uc2VUeXBlOiAnanNvbicsXG4gICAgfSk7XG4gICAgcmV0dXJuIHJlcXVlc3RVc2VyKClcbiAgICAuY2F0Y2goKHJlcykgPT4ge1xuICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IDQwMSkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWZyZXNoVG9rZW4oKS50aGVuKHJlcXVlc3RVc2VyKTtcbiAgICAgIH1cbiAgICAgIHRocm93IHJlcztcbiAgICB9KVxuICAgIC5jYXRjaCgocmVzKSA9PiB7XG4gICAgICBpZiAocmVzLnN0YXR1cyA9PT0gNDAwICYmIG9iamVjdEdldChyZXMsICdkYXRhLmVycm9yJykgPT09ICdpbnZhbGlkX2dyYW50Jykge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3Qoe1xuICAgICAgICAgIHR5cGU6ICd1bmF1dGhvcml6ZWQnLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCh7XG4gICAgICAgIHR5cGU6ICdlcnJvcicsXG4gICAgICAgIGRhdGE6IHJlcyxcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9LFxuICBoYW5kbGVNZXRhRXJyb3IocmVzKSB7XG4gICAgaWYgKHJlcy5zdGF0dXMgPT09IDQwNCkge1xuICAgICAgY29uc3QgaGVhZGVyID0gcmVzLmhlYWRlcnMuZ2V0KCdXV1ctQXV0aGVudGljYXRlJyk/LlswXSB8fCAnJztcbiAgICAgIGlmICgvXkJlYXJlciByZWFsbT1cIk9uZURyaXZlQVBJXCIvLnRlc3QoaGVhZGVyKSkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWZyZXNoVG9rZW4oKS50aGVuKCgpID0+IHRoaXMuZ2V0TWV0YSgpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhyb3cgcmVzO1xuICB9LFxuICBsaXN0KCkge1xuICAgIHJldHVybiB0aGlzLmxvYWREYXRhKHtcbiAgICAgIHVybDogJy9kcml2ZS9zcGVjaWFsL2FwcHJvb3QvY2hpbGRyZW4nLFxuICAgICAgcmVzcG9uc2VUeXBlOiAnanNvbicsXG4gICAgfSlcbiAgICAudGhlbihkYXRhID0+IGRhdGEudmFsdWUuZmlsdGVyKGl0ZW0gPT4gaXRlbS5maWxlICYmIGlzU2NyaXB0RmlsZShpdGVtLm5hbWUpKS5tYXAobm9ybWFsaXplKSk7XG4gIH0sXG4gIGdldChpdGVtKSB7XG4gICAgY29uc3QgbmFtZSA9IGdldEl0ZW1GaWxlbmFtZShpdGVtKTtcbiAgICByZXR1cm4gdGhpcy5sb2FkRGF0YSh7XG4gICAgICB1cmw6IGAvZHJpdmUvc3BlY2lhbC9hcHByb290Oi8ke2VuY29kZVVSSUNvbXBvbmVudChuYW1lKX1gLFxuICAgICAgcmVzcG9uc2VUeXBlOiAnanNvbicsXG4gICAgfSlcbiAgICAudGhlbihkYXRhID0+IHRoaXMubG9hZERhdGEoe1xuICAgICAgdXJsOiBkYXRhWydAY29udGVudC5kb3dubG9hZFVybCddLFxuICAgICAgZGVsYXk6IGZhbHNlLFxuICAgIH0pKTtcbiAgfSxcbiAgcHV0KGl0ZW0sIGRhdGEpIHtcbiAgICBjb25zdCBuYW1lID0gZ2V0SXRlbUZpbGVuYW1lKGl0ZW0pO1xuICAgIHJldHVybiB0aGlzLmxvYWREYXRhKHtcbiAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICB1cmw6IGAvZHJpdmUvc3BlY2lhbC9hcHByb290Oi8ke2VuY29kZVVSSUNvbXBvbmVudChuYW1lKX06L2NvbnRlbnRgLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL29jdGV0LXN0cmVhbScsXG4gICAgICB9LFxuICAgICAgYm9keTogZGF0YSxcbiAgICAgIHJlc3BvbnNlVHlwZTogJ2pzb24nLFxuICAgIH0pXG4gICAgLnRoZW4obm9ybWFsaXplKTtcbiAgfSxcbiAgcmVtb3ZlKGl0ZW0pIHtcbiAgICAvLyByZXR1cm4gMjA0XG4gICAgY29uc3QgbmFtZSA9IGdldEl0ZW1GaWxlbmFtZShpdGVtKTtcbiAgICByZXR1cm4gdGhpcy5sb2FkRGF0YSh7XG4gICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgICAgdXJsOiBgL2RyaXZlL3NwZWNpYWwvYXBwcm9vdDovJHtlbmNvZGVVUklDb21wb25lbnQobmFtZSl9YCxcbiAgICB9KVxuICAgIC5jYXRjaChub29wKTtcbiAgfSxcbiAgYXV0aG9yaXplKCkge1xuICAgIGNvbnN0IHBhcmFtcyA9IHtcbiAgICAgIGNsaWVudF9pZDogY29uZmlnLmNsaWVudF9pZCxcbiAgICAgIHNjb3BlOiAnb25lZHJpdmUuYXBwZm9sZGVyIHdsLm9mZmxpbmVfYWNjZXNzJyxcbiAgICAgIHJlc3BvbnNlX3R5cGU6ICdjb2RlJyxcbiAgICAgIHJlZGlyZWN0X3VyaTogY29uZmlnLnJlZGlyZWN0X3VyaSxcbiAgICB9O1xuICAgIGNvbnN0IHVybCA9IGBodHRwczovL2xvZ2luLmxpdmUuY29tL29hdXRoMjBfYXV0aG9yaXplLnNyZj8ke2R1bXBRdWVyeShwYXJhbXMpfWA7XG4gICAgb3BlbkF1dGhQYWdlKHVybCwgY29uZmlnLnJlZGlyZWN0X3VyaSk7XG4gIH0sXG4gIGNoZWNrQXV0aCh1cmwpIHtcbiAgICBjb25zdCByZWRpcmVjdFVyaSA9IGAke2NvbmZpZy5yZWRpcmVjdF91cml9P2NvZGU9YDtcbiAgICBpZiAodXJsLnN0YXJ0c1dpdGgocmVkaXJlY3RVcmkpKSB7XG4gICAgICB0aGlzLmF1dGhTdGF0ZS5zZXQoJ2F1dGhvcml6aW5nJyk7XG4gICAgICB0aGlzLmF1dGhvcml6ZWQoe1xuICAgICAgICBjb2RlOiB1cmwuc2xpY2UocmVkaXJlY3RVcmkubGVuZ3RoKSxcbiAgICAgIH0pXG4gICAgICAudGhlbigoKSA9PiB0aGlzLmNoZWNrU3luYygpKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSxcbiAgcmV2b2tlKCkge1xuICAgIHRoaXMuY29uZmlnLnNldCh7XG4gICAgICB1aWQ6IG51bGwsXG4gICAgICB0b2tlbjogbnVsbCxcbiAgICAgIHJlZnJlc2hfdG9rZW46IG51bGwsXG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXMucHJlcGFyZSgpO1xuICB9LFxuICBhdXRob3JpemVkKHBhcmFtcykge1xuICAgIHJldHVybiB0aGlzLmxvYWREYXRhKHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgdXJsOiAnaHR0cHM6Ly9sb2dpbi5saXZlLmNvbS9vYXV0aDIwX3Rva2VuLnNyZicsXG4gICAgICBwcmVmaXg6ICcnLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcsXG4gICAgICB9LFxuICAgICAgYm9keTogZHVtcFF1ZXJ5KE9iamVjdC5hc3NpZ24oe30sIHtcbiAgICAgICAgY2xpZW50X2lkOiBjb25maWcuY2xpZW50X2lkLFxuICAgICAgICBjbGllbnRfc2VjcmV0OiBjb25maWcuY2xpZW50X3NlY3JldCxcbiAgICAgICAgcmVkaXJlY3RfdXJpOiBjb25maWcucmVkaXJlY3RfdXJpLFxuICAgICAgICBncmFudF90eXBlOiAnYXV0aG9yaXphdGlvbl9jb2RlJyxcbiAgICAgIH0sIHBhcmFtcykpLFxuICAgICAgcmVzcG9uc2VUeXBlOiAnanNvbicsXG4gICAgfSlcbiAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgaWYgKGRhdGEuYWNjZXNzX3Rva2VuKSB7XG4gICAgICAgIHRoaXMuY29uZmlnLnNldCh7XG4gICAgICAgICAgdWlkOiBkYXRhLnVzZXJfaWQsXG4gICAgICAgICAgdG9rZW46IGRhdGEuYWNjZXNzX3Rva2VuLFxuICAgICAgICAgIHJlZnJlc2hfdG9rZW46IGRhdGEucmVmcmVzaF90b2tlbixcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBkYXRhO1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxufSk7XG5yZWdpc3RlcihPbmVEcml2ZSk7XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZShpdGVtKSB7XG4gIHJldHVybiB7XG4gICAgbmFtZTogaXRlbS5uYW1lLFxuICAgIHNpemU6IGl0ZW0uc2l6ZSxcbiAgICB1cmk6IGdldFVSSShpdGVtLm5hbWUpLFxuICAgIC8vIG1vZGlmaWVkOiBuZXcgRGF0ZShpdGVtLmxhc3RNb2RpZmllZERhdGVUaW1lKS5nZXRUaW1lKCksXG4gIH07XG59XG4iLCJpbXBvcnQge1xuICBnZXRVUkksIGdldEl0ZW1GaWxlbmFtZSwgQmFzZVNlcnZpY2UsIGlzU2NyaXB0RmlsZSwgcmVnaXN0ZXIsXG59IGZyb20gJy4vYmFzZSc7XG5cbmNvbnN0IEtFWV9DSElMRFJFTiA9IFN5bWJvbCgnY2hpbGRyZW4nKTtcblxuY2xhc3MgWE5vZGUge1xuICBjb25zdHJ1Y3Rvcihub2RlLCBuc01hcCkge1xuICAgIHRoaXMubm9kZSA9IG5vZGU7XG4gICAgdGhpcy5uc01hcCA9IHsgLi4ubnNNYXAgfTtcbiAgICB0aGlzLnBhcnNlQXR0cnMoKTtcbiAgICB0aGlzLnBhcnNlTmFtZSgpO1xuICB9XG5cbiAgc3RhdGljIGZyb21YTUwoeG1sKSB7XG4gICAgY29uc3QgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpO1xuICAgIGNvbnN0IGRvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoeG1sLCAnYXBwbGljYXRpb24veG1sJyk7XG4gICAgcmV0dXJuIG5ldyBYTm9kZShkb2MpO1xuICB9XG5cbiAgcGFyc2VBdHRycygpIHtcbiAgICBjb25zdCB7IG5vZGUsIG5zTWFwIH0gPSB0aGlzO1xuICAgIGNvbnN0IGF0dHJzID0ge307XG4gICAgY29uc3QgeyBhdHRyaWJ1dGVzIH0gPSBub2RlO1xuICAgIGlmIChhdHRyaWJ1dGVzKSB7XG4gICAgICBmb3IgKGNvbnN0IGF0dHIgb2Ygbm9kZS5hdHRyaWJ1dGVzKSB7XG4gICAgICAgIGNvbnN0IHsgbmFtZSwgdmFsdWUgfSA9IGF0dHI7XG4gICAgICAgIGlmIChuYW1lID09PSAneG1sbnMnKSBuc01hcC4kID0gdmFsdWU7XG4gICAgICAgIGVsc2UgaWYgKG5hbWUuc3RhcnRzV2l0aCgneG1sbnM6JykpIG5zTWFwW25hbWUuc2xpY2UoNildID0gdmFsdWU7XG4gICAgICAgIGF0dHJzW25hbWVdID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuYXR0cnMgPSBhdHRycztcbiAgfVxuXG4gIHBhcnNlTmFtZSgpIHtcbiAgICBjb25zdCB7IG5vZGUsIG5zTWFwIH0gPSB0aGlzO1xuICAgIGlmIChub2RlLm5vZGVUeXBlID09PSAxKSB7XG4gICAgICBsZXQgbmFtZSA9IG5vZGUudGFnTmFtZTtcbiAgICAgIGxldCBucyA9IG5zTWFwLiQ7XG4gICAgICBpZiAobmFtZS5pbmNsdWRlcygnOicpKSB7XG4gICAgICAgIGxldCBwcmVmaXg7XG4gICAgICAgIFtwcmVmaXgsIG5hbWVdID0gbmFtZS5zcGxpdCgnOicpO1xuICAgICAgICBucyA9IG5zTWFwW3ByZWZpeF07XG4gICAgICAgIGlmICghbnMpIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBuYW1lc3BhY2U6ICR7cHJlZml4fWApO1xuICAgICAgfVxuICAgICAgdGhpcy5uYW1lID0gbnMgKyBuYW1lO1xuICAgIH1cbiAgfVxuXG4gIHRleHQoKSB7XG4gICAgY29uc3QgeyBub2RlIH0gPSB0aGlzO1xuICAgIGlmIChub2RlKSByZXR1cm4gKG5vZGUudGV4dENvbnRlbnQgfHwgJycpLnRyaW0oKTtcbiAgfVxuXG4gIGNoaWxkcmVuKCkge1xuICAgIGlmICghdGhpc1tLRVlfQ0hJTERSRU5dKSB7XG4gICAgICBjb25zdCB7IG5vZGUsIG5zTWFwIH0gPSB0aGlzO1xuICAgICAgdGhpc1tLRVlfQ0hJTERSRU5dID0gWy4uLm5vZGUuY2hpbGRyZW5dXG4gICAgICAubWFwKGNoaWxkID0+IG5ldyBYTm9kZShjaGlsZCwgbnNNYXApKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXNbS0VZX0NISUxEUkVOXTtcbiAgfVxuXG4gIG1hcChjYWxsYmFjaykge1xuICAgIHJldHVybiB0aGlzLmNoaWxkcmVuKCkubWFwKGNhbGxiYWNrKTtcbiAgfVxuXG4gIGdldENhbGxiYWNrKGNhbGxiYWNrKSB7XG4gICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHJldHVybiAodGFnTmFtZSA9PiBub2RlID0+IG5vZGUubmFtZSA9PT0gdGFnTmFtZSkoY2FsbGJhY2spO1xuICAgIH1cbiAgICByZXR1cm4gY2FsbGJhY2s7XG4gIH1cblxuICBmaWx0ZXIoY2FsbGJhY2spIHtcbiAgICByZXR1cm4gdGhpcy5jaGlsZHJlbigpLmZpbHRlcih0aGlzLmdldENhbGxiYWNrKGNhbGxiYWNrKSk7XG4gIH1cblxuICBmaW5kKGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIHRoaXMuY2hpbGRyZW4oKS5maW5kKHRoaXMuZ2V0Q2FsbGJhY2soY2FsbGJhY2spKTtcbiAgfVxuXG4gIGF0dHIoa2V5KSB7XG4gICAgcmV0dXJuIHRoaXMuYXR0cnNba2V5XTtcbiAgfVxufVxuXG5jb25zdCBERUZBVUxUX0NPTkZJRyA9IHtcbiAgc2VydmVyVXJsOiAnJyxcbiAgYW5vbnltb3VzOiBmYWxzZSxcbiAgdXNlcm5hbWU6ICcnLFxuICBwYXNzd29yZDogJycsXG59O1xuXG5jb25zdCBXZWJEQVYgPSBCYXNlU2VydmljZS5leHRlbmQoe1xuICBuYW1lOiAnd2ViZGF2JyxcbiAgZGlzcGxheU5hbWU6ICdXZWJEQVYnLFxuICBwcm9wZXJ0aWVzOiB7XG4gICAgYXV0aFR5cGU6ICdwYXNzd29yZCcsXG4gICAgc2VydmVyVXJsOiBudWxsLFxuICB9LFxuICBnZXRVc2VyQ29uZmlnKCkge1xuICAgIGlmICghdGhpcy51c2VyQ29uZmlnKSB7XG4gICAgICB0aGlzLnVzZXJDb25maWcgPSB7XG4gICAgICAgIC4uLkRFRkFVTFRfQ09ORklHLFxuICAgICAgICAuLi50aGlzLmNvbmZpZy5nZXQoJ3VzZXJDb25maWcnKSxcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnVzZXJDb25maWc7XG4gIH0sXG4gIHNldFVzZXJDb25maWcoY29uZmlnKSB7XG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLnVzZXJDb25maWcsIGNvbmZpZyk7XG4gICAgdGhpcy5jb25maWcuc2V0KCd1c2VyQ29uZmlnJywgdGhpcy51c2VyQ29uZmlnKTtcbiAgfSxcbiAgaW5pdFRva2VuKCkge1xuICAgIHRoaXMucHJlcGFyZUhlYWRlcnMoKTtcbiAgICBjb25zdCBjb25maWcgPSB0aGlzLmdldFVzZXJDb25maWcoKTtcbiAgICBsZXQgdXJsID0gY29uZmlnLnNlcnZlclVybD8udHJpbSgpIHx8ICcnO1xuICAgIGlmICghdXJsLmluY2x1ZGVzKCc6Ly8nKSkgdXJsID0gYGh0dHA6Ly8ke3VybH1gO1xuICAgIGlmICghdXJsLmVuZHNXaXRoKCcvJykpIHVybCArPSAnLyc7XG4gICAgdHJ5IHtcbiAgICAgIG5ldyBVUkwodXJsKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1uZXdcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB0aGlzLnByb3BlcnRpZXMuc2VydmVyVXJsID0gbnVsbDtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdGhpcy5wcm9wZXJ0aWVzLnNlcnZlclVybCA9IGAke3VybH1WaW9sZW50bW9ua2V5L2A7XG4gICAgY29uc3QgeyBhbm9ueW1vdXMsIHVzZXJuYW1lLCBwYXNzd29yZCB9ID0gY29uZmlnO1xuICAgIGlmIChhbm9ueW1vdXMpIHJldHVybiB0cnVlO1xuICAgIGlmICghdXNlcm5hbWUgfHwgIXBhc3N3b3JkKSByZXR1cm4gZmFsc2U7XG4gICAgY29uc3QgYXV0aCA9IHdpbmRvdy5idG9hKGAke3VzZXJuYW1lfToke3Bhc3N3b3JkfWApO1xuICAgIHRoaXMuaGVhZGVycy5BdXRob3JpemF0aW9uID0gYEJhc2ljICR7YXV0aH1gO1xuICAgIHJldHVybiB0cnVlO1xuICB9LFxuICBsb2FkRGF0YShvcHRpb25zKSB7XG4gICAgLy8gQnlwYXNzaW5nIGxvZ2luIENTUkYgcHJvdGVjdGlvbiBpbiBOZXh0Y2xvdWQgLyBPd25jbG91ZCBieSBub3Qgc2VuZGluZyBjb29raWVzLlxuICAgIC8vIFdlIGFyZSBub3QgdXNpbmcgd2ViIFVJIGFuZCBjb29raWUgYXV0aGVudGljYXRpb24sIHNvIHdlIGRvbid0IGhhdmUgdG8gd29ycnkgYWJvdXQgdGhhdC5cbiAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3Zpb2xlbnRtb25rZXkvdmlvbGVudG1vbmtleS9pc3N1ZXMvOTc2XG4gICAgcmV0dXJuIEJhc2VTZXJ2aWNlLnByb3RvdHlwZS5sb2FkRGF0YS5jYWxsKHRoaXMsIE9iamVjdC5hc3NpZ24oe1xuICAgICAgY3JlZGVudGlhbHM6ICdvbWl0JyxcbiAgICB9LCBvcHRpb25zKSk7XG4gIH0sXG4gIGhhbmRsZU1ldGFFcnJvcihyZXMpIHtcbiAgICBpZiAoIVtcbiAgICAgIDQwNCwgLy8gRmlsZSBub3QgZXhpc3RzXG4gICAgICA0MDksIC8vIERpcmVjdG9yeSBub3QgZXhpc3RzXG4gICAgXS5pbmNsdWRlcyhyZXMuc3RhdHVzKSkgdGhyb3cgcmVzO1xuICB9LFxuICAvLyBTb21lIFdlYkRBViBzZXJ2ZXJzIGRvIG5vdCBhbGxvdyBMT0NLIC8gVU5MT0NLXG4gIC8qXG4gIGFjcXVpcmVMb2NrKCkge1xuICAgIGNvbnN0IHsgc2VydmVyVXJsIH0gPSB0aGlzLnByb3BlcnRpZXM7XG4gICAgY29uc3QgY3JlYXRlTG9jayA9ICgpID0+IHtcbiAgICAgIHRoaXMubG9nKCdBY3F1aXJlIGxvY2suLi4nKTtcbiAgICAgIHJldHVybiB0aGlzLmxvYWREYXRhKHtcbiAgICAgICAgbWV0aG9kOiAnTE9DSycsXG4gICAgICAgIHVybDogc2VydmVyVXJsLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgVGltZW91dDogYFNlY29uZC0kezMwICogNjB9YCxcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogYFxcXG48P3htbCB2ZXJzaW9uPVwiMS4wXCIgZW5jb2Rpbmc9XCJ1dGYtOFwiID8+XG48RDpsb2NraW5mbyB4bWxuczpEPSdEQVY6Jz5cbiAgPEQ6bG9ja3Njb3BlPjxEOmV4Y2x1c2l2ZS8+PC9EOmxvY2tzY29wZT5cbiAgPEQ6bG9ja3R5cGU+PEQ6d3JpdGUvPjwvRDpsb2NrdHlwZT5cbjwvRDpsb2NraW5mbz5gLFxuICAgICAgfSlcbiAgICAgIC50aGVuKHhtbCA9PiB7XG4gICAgICAgIGNvbnN0IGRvYyA9IFhOb2RlLmZyb21YTUwoeG1sKTtcbiAgICAgICAgY29uc3QgbG9jayA9IGRvYy5maW5kKCdEQVY6cHJvcCcpXG4gICAgICAgIC5maW5kKCdEQVY6bG9ja2Rpc2NvdmVyeScpXG4gICAgICAgIC5maW5kKCdEQVY6YWN0aXZlbG9jaycpXG4gICAgICAgIC5maW5kKCdEQVY6bG9ja3Rva2VuJylcbiAgICAgICAgLmZpbmQoJ0RBVjpocmVmJylcbiAgICAgICAgLnRleHQoKTtcbiAgICAgICAgdGhpcy5sb2coJ0FjcXVpcmVkIGxvY2s6JywgbG9jayk7XG4gICAgICAgIHRoaXMuY29uZmlnLnNldCh7XG4gICAgICAgICAgbG9jayxcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IGxvY2sgPSB0aGlzLmNvbmZpZy5nZXQoJ2xvY2snKTtcbiAgICBpZiAobG9jaykge1xuICAgICAgdGhpcy5sb2coJ1JlZnJlc2ggbG9jazonLCBsb2NrKTtcbiAgICAgIHJldHVybiB0aGlzLmxvYWREYXRhKHtcbiAgICAgICAgbWV0aG9kOiAnTE9DSycsXG4gICAgICAgIHVybDogc2VydmVyVXJsLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgSWY6IGAoPCR7bG9ja30+KWAsXG4gICAgICAgIH0sXG4gICAgICB9KVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICB0aGlzLmxvZygnUmVmcmVzaGVkIGxvY2s6JywgbG9jayk7XG4gICAgICB9LCBlcnIgPT4ge1xuICAgICAgICBpZiAoZXJyLnN0YXR1cyA9PT0gNDEyKSB7XG4gICAgICAgICAgdGhpcy5sb2coJ1JlZnJlc2ggbG9jayBlcnJvcicpO1xuICAgICAgICAgIHRoaXMuY29uZmlnLnNldCh7IGxvY2s6IG51bGwgfSk7XG4gICAgICAgICAgLy8gUHJlY29uZGl0aW9uIEZhaWxlZFxuICAgICAgICAgIHJldHVybiBjcmVhdGVMb2NrKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBjcmVhdGVMb2NrKCk7XG4gIH0sXG4gIHJlbGVhc2VMb2NrKCkge1xuICAgIGNvbnN0IGxvY2sgPSB0aGlzLmNvbmZpZy5nZXQoJ2xvY2snKTtcbiAgICBpZiAobG9jaykge1xuICAgICAgY29uc3QgeyBzZXJ2ZXJVcmwgfSA9IHRoaXMucHJvcGVydGllcztcbiAgICAgIHRoaXMubG9nKCdSZWxlYXNlIGxvY2s6JywgbG9jayk7XG4gICAgICByZXR1cm4gdGhpcy5sb2FkRGF0YSh7XG4gICAgICAgIG1ldGhvZDogJ1VOTE9DSycsXG4gICAgICAgIHVybDogc2VydmVyVXJsLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0xvY2stVG9rZW4nOiBgPCR7bG9ja30+YCxcbiAgICAgICAgfSxcbiAgICAgIH0pXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIHRoaXMubG9nKCdSZWxlYXNlZCBsb2NrJyk7XG4gICAgICB9LCAoKSA9PiB7XG4gICAgICAgIHRoaXMubG9nKCdSZWxlYXNlIGxvY2sgZXJyb3InKTtcbiAgICAgIH0pXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIHRoaXMuY29uZmlnLnNldCh7IGxvY2s6IG51bGwgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG4gICovXG4gIGxpc3QoKSB7XG4gICAgY29uc3QgeyBzZXJ2ZXJVcmwgfSA9IHRoaXMucHJvcGVydGllcztcbiAgICBjb25zdCBta2RpciA9ICgpID0+IHRoaXMubG9hZERhdGEoe1xuICAgICAgbWV0aG9kOiAnTUtDT0wnLFxuICAgICAgdXJsOiBzZXJ2ZXJVcmwsXG4gICAgfSk7XG4gICAgY29uc3QgcmVhZGRpciA9ICgpID0+IHRoaXMubG9hZERhdGEoe1xuICAgICAgbWV0aG9kOiAnUFJPUEZJTkQnLFxuICAgICAgdXJsOiBzZXJ2ZXJVcmwsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIGRlcHRoOiAnMScsXG4gICAgICB9LFxuICAgIH0pXG4gICAgLnRoZW4oKHhtbCkgPT4ge1xuICAgICAgY29uc3QgZG9jID0gWE5vZGUuZnJvbVhNTCh4bWwpO1xuICAgICAgY29uc3QgaXRlbXMgPSBkb2MuY2hpbGRyZW4oKVswXVxuICAgICAgLm1hcCgobm9kZSkgPT4ge1xuICAgICAgICBjb25zdCBwcm9wID0gbm9kZS5maW5kKCdEQVY6cHJvcHN0YXQnKS5maW5kKCdEQVY6cHJvcCcpO1xuICAgICAgICBjb25zdCB0eXBlID0gcHJvcC5maW5kKCdEQVY6cmVzb3VyY2V0eXBlJykuZmluZCgnREFWOmNvbGxlY3Rpb24nKSA/ICdkaXJlY3RvcnknIDogJ2ZpbGUnO1xuICAgICAgICBpZiAodHlwZSA9PT0gJ2ZpbGUnKSB7XG4gICAgICAgICAgbGV0IGRpc3BsYXlOYW1lO1xuICAgICAgICAgIGNvbnN0IGRpc3BsYXlOYW1lTm9kZSA9IHByb3AuZmluZCgnREFWOmRpc3BsYXluYW1lJyk7XG5cbiAgICAgICAgICBpZiAoZGlzcGxheU5hbWVOb2RlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lID0gZGlzcGxheU5hbWVOb2RlLnRleHQoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgaHJlZiA9IG5vZGUuZmluZCgnREFWOmhyZWYnKS50ZXh0KCk7XG4gICAgICAgICAgICBkaXNwbGF5TmFtZSA9IGRlY29kZVVSSUNvbXBvbmVudChocmVmLnN1YnN0cmluZyhocmVmLmxhc3RJbmRleE9mKCcvJykgKyAxKSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGlzU2NyaXB0RmlsZShkaXNwbGF5TmFtZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IHNpemUgPSBwcm9wLmZpbmQoJ0RBVjpnZXRjb250ZW50bGVuZ3RoJyk7XG4gICAgICAgICAgICByZXR1cm4gbm9ybWFsaXplKHtcbiAgICAgICAgICAgICAgbmFtZTogZGlzcGxheU5hbWUsXG4gICAgICAgICAgICAgIHNpemU6IHNpemUgPyArc2l6ZS50ZXh0KCkgOiAwLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfSlcbiAgICAgIC5maWx0ZXIoQm9vbGVhbik7XG4gICAgICByZXR1cm4gaXRlbXM7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlYWRkaXIoKVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBpZiAoZXJyLnN0YXR1cyA9PT0gNDA0KSB7XG4gICAgICAgIHJldHVybiBta2RpcigpLnRoZW4ocmVhZGRpcik7XG4gICAgICB9XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfSk7XG4gIH0sXG4gIGdldChpdGVtKSB7XG4gICAgY29uc3QgbmFtZSA9IGdldEl0ZW1GaWxlbmFtZShpdGVtKTtcbiAgICBjb25zdCB7IHNlcnZlclVybCB9ID0gdGhpcy5wcm9wZXJ0aWVzO1xuICAgIHJldHVybiB0aGlzLmxvYWREYXRhKHtcbiAgICAgIHVybDogc2VydmVyVXJsICsgbmFtZSxcbiAgICB9KTtcbiAgfSxcbiAgcHV0KGl0ZW0sIGRhdGEpIHtcbiAgICBjb25zdCBuYW1lID0gZ2V0SXRlbUZpbGVuYW1lKGl0ZW0pO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAnQ29udGVudC1UeXBlJzogJ3RleHQvcGxhaW4nLFxuICAgIH07XG4gICAgY29uc3QgbG9jayA9IHRoaXMuY29uZmlnLmdldCgnbG9jaycpO1xuICAgIGlmIChsb2NrKSBoZWFkZXJzLklmID0gYCg8JHtsb2NrfT4pYDtcbiAgICBjb25zdCB7IHNlcnZlclVybCB9ID0gdGhpcy5wcm9wZXJ0aWVzO1xuICAgIHJldHVybiB0aGlzLmxvYWREYXRhKHtcbiAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICB1cmw6IHNlcnZlclVybCArIG5hbWUsXG4gICAgICBib2R5OiBkYXRhLFxuICAgICAgaGVhZGVycyxcbiAgICB9KTtcbiAgfSxcbiAgcmVtb3ZlKGl0ZW0pIHtcbiAgICBjb25zdCBuYW1lID0gZ2V0SXRlbUZpbGVuYW1lKGl0ZW0pO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBjb25zdCBsb2NrID0gdGhpcy5jb25maWcuZ2V0KCdsb2NrJyk7XG4gICAgaWYgKGxvY2spIGhlYWRlcnMuSWYgPSBgKDwke2xvY2t9PilgO1xuICAgIGNvbnN0IHsgc2VydmVyVXJsIH0gPSB0aGlzLnByb3BlcnRpZXM7XG4gICAgcmV0dXJuIHRoaXMubG9hZERhdGEoe1xuICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgIHVybDogc2VydmVyVXJsICsgbmFtZSxcbiAgICAgIGhlYWRlcnMsXG4gICAgfSk7XG4gIH0sXG59KTtcbnJlZ2lzdGVyKFdlYkRBVik7XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZShpdGVtKSB7XG4gIHJldHVybiB7XG4gICAgbmFtZTogaXRlbS5uYW1lLFxuICAgIHNpemU6IGl0ZW0uc2l6ZSxcbiAgICB1cmk6IGdldFVSSShpdGVtLm5hbWUpLFxuICB9O1xufVxuIiwiLyogZXNsaW50LWRpc2FibGUgKi9cblxuLy8gcmVmZXIgaHR0cHM6Ly9naXRodWIuY29tL3ZpZGVvLWRldi9obHMuanNcblxuZnVuY3Rpb24gcmVtb3ZlUGFkZGluZyhidWZmZXIpIHtcbiAgY29uc3Qgb3V0cHV0Qnl0ZXMgPSBidWZmZXIuYnl0ZUxlbmd0aDtcbiAgY29uc3QgcGFkZGluZ0J5dGVzID0gb3V0cHV0Qnl0ZXMgJiYgKG5ldyBEYXRhVmlldyhidWZmZXIpKS5nZXRVaW50OChvdXRwdXRCeXRlcyAtIDEpO1xuICBpZiAocGFkZGluZ0J5dGVzKSB7XG4gICAgcmV0dXJuIGJ1ZmZlci5zbGljZSgwLCBvdXRwdXRCeXRlcyAtIHBhZGRpbmdCeXRlcyk7XG4gIH1cbiAgcmV0dXJuIGJ1ZmZlcjtcbn1cblxuZXhwb3J0IGNvbnN0IEFFU0RlY3J5cHRvciA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgIHRoaXMucmNvbiA9IFsweDAsIDB4MSwgMHgyLCAweDQsIDB4OCwgMHgxMCwgMHgyMCwgMHg0MCwgMHg4MCwgMHgxYiwgMHgzNl07XG4gICAgICB0aGlzLnN1Yk1peCA9IFtuZXcgVWludDMyQXJyYXkoMjU2KSwgbmV3IFVpbnQzMkFycmF5KDI1NiksIG5ldyBVaW50MzJBcnJheSgyNTYpLCBuZXcgVWludDMyQXJyYXkoMjU2KV07XG4gICAgICB0aGlzLmludlN1Yk1peCA9IFtuZXcgVWludDMyQXJyYXkoMjU2KSwgbmV3IFVpbnQzMkFycmF5KDI1NiksIG5ldyBVaW50MzJBcnJheSgyNTYpLCBuZXcgVWludDMyQXJyYXkoMjU2KV07XG4gICAgICB0aGlzLnNCb3ggPSBuZXcgVWludDMyQXJyYXkoMjU2KTtcbiAgICAgIHRoaXMuaW52U0JveCA9IG5ldyBVaW50MzJBcnJheSgyNTYpO1xuXG4gICAgICAvLyBDaGFuZ2VzIGR1cmluZyBydW50aW1lXG4gICAgICB0aGlzLmtleSA9IG5ldyBVaW50MzJBcnJheSgwKTtcblxuICAgICAgdGhpcy5pbml0VGFibGUoKTtcbiAgICB9LFxuXG4gICAgLy8gVXNpbmcgdmlldy5nZXRVaW50MzIoKSBhbHNvIHN3YXBzIHRoZSBieXRlIG9yZGVyLlxuICAgIHVpbnQ4QXJyYXlUb1VpbnQzMkFycmF5XyhhcnJheUJ1ZmZlcikge1xuICAgICAgbGV0IHZpZXcgPSBuZXcgRGF0YVZpZXcoYXJyYXlCdWZmZXIpO1xuICAgICAgbGV0IG5ld0FycmF5ID0gbmV3IFVpbnQzMkFycmF5KDQpO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA0OyBpKyspIHtcbiAgICAgICAgbmV3QXJyYXlbaV0gPSB2aWV3LmdldFVpbnQzMihpICogNCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXdBcnJheTtcbiAgICB9LFxuXG4gICAgaW5pdFRhYmxlKCkge1xuICAgICAgbGV0IHNCb3ggPSB0aGlzLnNCb3g7XG4gICAgICBsZXQgaW52U0JveCA9IHRoaXMuaW52U0JveDtcbiAgICAgIGxldCBzdWJNaXggPSB0aGlzLnN1Yk1peDtcbiAgICAgIGxldCBzdWJNaXgwID0gc3ViTWl4WzBdO1xuICAgICAgbGV0IHN1Yk1peDEgPSBzdWJNaXhbMV07XG4gICAgICBsZXQgc3ViTWl4MiA9IHN1Yk1peFsyXTtcbiAgICAgIGxldCBzdWJNaXgzID0gc3ViTWl4WzNdO1xuICAgICAgbGV0IGludlN1Yk1peCA9IHRoaXMuaW52U3ViTWl4O1xuICAgICAgbGV0IGludlN1Yk1peDAgPSBpbnZTdWJNaXhbMF07XG4gICAgICBsZXQgaW52U3ViTWl4MSA9IGludlN1Yk1peFsxXTtcbiAgICAgIGxldCBpbnZTdWJNaXgyID0gaW52U3ViTWl4WzJdO1xuICAgICAgbGV0IGludlN1Yk1peDMgPSBpbnZTdWJNaXhbM107XG5cbiAgICAgIGxldCBkID0gbmV3IFVpbnQzMkFycmF5KDI1Nik7XG4gICAgICBsZXQgeCA9IDA7XG4gICAgICBsZXQgeGkgPSAwO1xuICAgICAgbGV0IGkgPSAwO1xuICAgICAgZm9yIChpID0gMDsgaSA8IDI1NjsgaSsrKSB7XG4gICAgICAgIGlmIChpIDwgMTI4KSB7XG4gICAgICAgICAgZFtpXSA9IGkgPDwgMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkW2ldID0gKGkgPDwgMSkgXiAweDExYjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgMjU2OyBpKyspIHtcbiAgICAgICAgbGV0IHN4ID0geGkgXiAoeGkgPDwgMSkgXiAoeGkgPDwgMikgXiAoeGkgPDwgMykgXiAoeGkgPDwgNCk7XG4gICAgICAgIHN4ID0gKHN4ID4+PiA4KSBeIChzeCAmIDB4ZmYpIF4gMHg2MztcbiAgICAgICAgc0JveFt4XSA9IHN4O1xuICAgICAgICBpbnZTQm94W3N4XSA9IHg7XG5cbiAgICAgICAgLy8gQ29tcHV0ZSBtdWx0aXBsaWNhdGlvblxuICAgICAgICBsZXQgeDIgPSBkW3hdO1xuICAgICAgICBsZXQgeDQgPSBkW3gyXTtcbiAgICAgICAgbGV0IHg4ID0gZFt4NF07XG5cbiAgICAgICAgLy8gQ29tcHV0ZSBzdWIvaW52U3ViIGJ5dGVzLCBtaXggY29sdW1ucyB0YWJsZXNcbiAgICAgICAgbGV0IHQgPSAoZFtzeF0gKiAweDEwMSkgXiAoc3ggKiAweDEwMTAxMDApO1xuICAgICAgICBzdWJNaXgwW3hdID0gKHQgPDwgMjQpIHwgKHQgPj4+IDgpO1xuICAgICAgICBzdWJNaXgxW3hdID0gKHQgPDwgMTYpIHwgKHQgPj4+IDE2KTtcbiAgICAgICAgc3ViTWl4Mlt4XSA9ICh0IDw8IDgpIHwgKHQgPj4+IDI0KTtcbiAgICAgICAgc3ViTWl4M1t4XSA9IHQ7XG5cbiAgICAgICAgLy8gQ29tcHV0ZSBpbnYgc3ViIGJ5dGVzLCBpbnYgbWl4IGNvbHVtbnMgdGFibGVzXG4gICAgICAgIHQgPSAoeDggKiAweDEwMTAxMDEpIF4gKHg0ICogMHgxMDAwMSkgXiAoeDIgKiAweDEwMSkgXiAoeCAqIDB4MTAxMDEwMCk7XG4gICAgICAgIGludlN1Yk1peDBbc3hdID0gKHQgPDwgMjQpIHwgKHQgPj4+IDgpO1xuICAgICAgICBpbnZTdWJNaXgxW3N4XSA9ICh0IDw8IDE2KSB8ICh0ID4+PiAxNik7XG4gICAgICAgIGludlN1Yk1peDJbc3hdID0gKHQgPDwgOCkgfCAodCA+Pj4gMjQpO1xuICAgICAgICBpbnZTdWJNaXgzW3N4XSA9IHQ7XG5cbiAgICAgICAgLy8gQ29tcHV0ZSBuZXh0IGNvdW50ZXJcbiAgICAgICAgaWYgKCF4KSB7XG4gICAgICAgICAgeCA9IHhpID0gMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB4ID0geDIgXiBkW2RbZFt4OCBeIHgyXV1dO1xuICAgICAgICAgIHhpIF49IGRbZFt4aV1dO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIGV4cGFuZEtleShrZXlCdWZmZXIpIHtcbiAgICAgIC8vIGNvbnZlcnQga2V5QnVmZmVyIHRvIFVpbnQzMkFycmF5XG4gICAgICBsZXQga2V5ID0gdGhpcy51aW50OEFycmF5VG9VaW50MzJBcnJheV8oa2V5QnVmZmVyKTtcbiAgICAgIGxldCBzYW1lS2V5ID0gdHJ1ZTtcbiAgICAgIGxldCBvZmZzZXQgPSAwO1xuXG4gICAgICB3aGlsZSAob2Zmc2V0IDwga2V5Lmxlbmd0aCAmJiBzYW1lS2V5KSB7XG4gICAgICAgIHNhbWVLZXkgPSAoa2V5W29mZnNldF0gPT09IHRoaXMua2V5W29mZnNldF0pO1xuICAgICAgICBvZmZzZXQrKztcbiAgICAgIH1cblxuICAgICAgaWYgKHNhbWVLZXkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmtleSA9IGtleTtcbiAgICAgIGxldCBrZXlTaXplID0gdGhpcy5rZXlTaXplID0ga2V5Lmxlbmd0aDtcblxuICAgICAgaWYgKGtleVNpemUgIT09IDQgJiYga2V5U2l6ZSAhPT0gNiAmJiBrZXlTaXplICE9PSA4KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBhZXMga2V5IHNpemU9JyArIGtleVNpemUpO1xuICAgICAgfVxuXG4gICAgICBsZXQga3NSb3dzID0gdGhpcy5rc1Jvd3MgPSAoa2V5U2l6ZSArIDYgKyAxKSAqIDQ7XG4gICAgICBsZXQga3NSb3c7XG4gICAgICBsZXQgaW52S3NSb3c7XG5cbiAgICAgIGxldCBrZXlTY2hlZHVsZSA9IHRoaXMua2V5U2NoZWR1bGUgPSBuZXcgVWludDMyQXJyYXkoa3NSb3dzKTtcbiAgICAgIGxldCBpbnZLZXlTY2hlZHVsZSA9IHRoaXMuaW52S2V5U2NoZWR1bGUgPSBuZXcgVWludDMyQXJyYXkoa3NSb3dzKTtcbiAgICAgIGxldCBzYm94ID0gdGhpcy5zQm94O1xuICAgICAgbGV0IHJjb24gPSB0aGlzLnJjb247XG5cbiAgICAgIGxldCBpbnZTdWJNaXggPSB0aGlzLmludlN1Yk1peDtcbiAgICAgIGxldCBpbnZTdWJNaXgwID0gaW52U3ViTWl4WzBdO1xuICAgICAgbGV0IGludlN1Yk1peDEgPSBpbnZTdWJNaXhbMV07XG4gICAgICBsZXQgaW52U3ViTWl4MiA9IGludlN1Yk1peFsyXTtcbiAgICAgIGxldCBpbnZTdWJNaXgzID0gaW52U3ViTWl4WzNdO1xuXG4gICAgICBsZXQgcHJldjtcbiAgICAgIGxldCB0O1xuXG4gICAgICBmb3IgKGtzUm93ID0gMDsga3NSb3cgPCBrc1Jvd3M7IGtzUm93KyspIHtcbiAgICAgICAgaWYgKGtzUm93IDwga2V5U2l6ZSkge1xuICAgICAgICAgIHByZXYgPSBrZXlTY2hlZHVsZVtrc1Jvd10gPSBrZXlba3NSb3ddO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHQgPSBwcmV2O1xuXG4gICAgICAgIGlmIChrc1JvdyAlIGtleVNpemUgPT09IDApIHtcbiAgICAgICAgICAvLyBSb3Qgd29yZFxuICAgICAgICAgIHQgPSAodCA8PCA4KSB8ICh0ID4+PiAyNCk7XG5cbiAgICAgICAgICAvLyBTdWIgd29yZFxuICAgICAgICAgIHQgPSAoc2JveFt0ID4+PiAyNF0gPDwgMjQpIHwgKHNib3hbKHQgPj4+IDE2KSAmIDB4ZmZdIDw8IDE2KSB8IChzYm94Wyh0ID4+PiA4KSAmIDB4ZmZdIDw8IDgpIHwgc2JveFt0ICYgMHhmZl07XG5cbiAgICAgICAgICAvLyBNaXggUmNvblxuICAgICAgICAgIHQgXj0gcmNvblsoa3NSb3cgLyBrZXlTaXplKSB8IDBdIDw8IDI0O1xuICAgICAgICB9IGVsc2UgaWYgKGtleVNpemUgPiA2ICYmIGtzUm93ICUga2V5U2l6ZSA9PT0gNCkge1xuICAgICAgICAgIC8vIFN1YiB3b3JkXG4gICAgICAgICAgdCA9IChzYm94W3QgPj4+IDI0XSA8PCAyNCkgfCAoc2JveFsodCA+Pj4gMTYpICYgMHhmZl0gPDwgMTYpIHwgKHNib3hbKHQgPj4+IDgpICYgMHhmZl0gPDwgOCkgfCBzYm94W3QgJiAweGZmXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGtleVNjaGVkdWxlW2tzUm93XSA9IHByZXYgPSAoa2V5U2NoZWR1bGVba3NSb3cgLSBrZXlTaXplXSBeIHQpID4+PiAwO1xuICAgICAgfVxuXG4gICAgICBmb3IgKGludktzUm93ID0gMDsgaW52S3NSb3cgPCBrc1Jvd3M7IGludktzUm93KyspIHtcbiAgICAgICAga3NSb3cgPSBrc1Jvd3MgLSBpbnZLc1JvdztcbiAgICAgICAgaWYgKGludktzUm93ICYgMykge1xuICAgICAgICAgIHQgPSBrZXlTY2hlZHVsZVtrc1Jvd107XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdCA9IGtleVNjaGVkdWxlW2tzUm93IC0gNF07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaW52S3NSb3cgPCA0IHx8IGtzUm93IDw9IDQpIHtcbiAgICAgICAgICBpbnZLZXlTY2hlZHVsZVtpbnZLc1Jvd10gPSB0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGludktleVNjaGVkdWxlW2ludktzUm93XSA9IGludlN1Yk1peDBbc2JveFt0ID4+PiAyNF1dIF4gaW52U3ViTWl4MVtzYm94Wyh0ID4+PiAxNikgJiAweGZmXV0gXiBpbnZTdWJNaXgyW3Nib3hbKHQgPj4+IDgpICYgMHhmZl1dIF4gaW52U3ViTWl4M1tzYm94W3QgJiAweGZmXV07XG4gICAgICAgIH1cblxuICAgICAgICBpbnZLZXlTY2hlZHVsZVtpbnZLc1Jvd10gPSBpbnZLZXlTY2hlZHVsZVtpbnZLc1Jvd10gPj4+IDA7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8vIEFkZGluZyB0aGlzIGFzIGEgbWV0aG9kIGdyZWF0bHkgaW1wcm92ZXMgcGVyZm9ybWFuY2UuXG4gICAgbmV0d29ya1RvSG9zdE9yZGVyU3dhcCh3b3JkKSB7XG4gICAgICByZXR1cm4gKHdvcmQgPDwgMjQpIHwgKCh3b3JkICYgMHhmZjAwKSA8PCA4KSB8ICgod29yZCAmIDB4ZmYwMDAwKSA+PiA4KSB8ICh3b3JkID4+PiAyNCk7XG4gICAgfSxcblxuICAgIGRlY3J5cHQoaW5wdXRBcnJheUJ1ZmZlciwgb2Zmc2V0LCBhZXNJViwgcmVtb3ZlUEtDUzdQYWRkaW5nKSB7XG4gICAgICBsZXQgblJvdW5kcyA9IHRoaXMua2V5U2l6ZSArIDY7XG4gICAgICBsZXQgaW52S2V5U2NoZWR1bGUgPSB0aGlzLmludktleVNjaGVkdWxlO1xuICAgICAgbGV0IGludlNCT1ggPSB0aGlzLmludlNCb3g7XG5cbiAgICAgIGxldCBpbnZTdWJNaXggPSB0aGlzLmludlN1Yk1peDtcbiAgICAgIGxldCBpbnZTdWJNaXgwID0gaW52U3ViTWl4WzBdO1xuICAgICAgbGV0IGludlN1Yk1peDEgPSBpbnZTdWJNaXhbMV07XG4gICAgICBsZXQgaW52U3ViTWl4MiA9IGludlN1Yk1peFsyXTtcbiAgICAgIGxldCBpbnZTdWJNaXgzID0gaW52U3ViTWl4WzNdO1xuXG4gICAgICBsZXQgaW5pdFZlY3RvciA9IHRoaXMudWludDhBcnJheVRvVWludDMyQXJyYXlfKGFlc0lWKTtcbiAgICAgIGxldCBpbml0VmVjdG9yMCA9IGluaXRWZWN0b3JbMF07XG4gICAgICBsZXQgaW5pdFZlY3RvcjEgPSBpbml0VmVjdG9yWzFdO1xuICAgICAgbGV0IGluaXRWZWN0b3IyID0gaW5pdFZlY3RvclsyXTtcbiAgICAgIGxldCBpbml0VmVjdG9yMyA9IGluaXRWZWN0b3JbM107XG5cbiAgICAgIGxldCBpbnB1dEludDMyID0gbmV3IEludDMyQXJyYXkoaW5wdXRBcnJheUJ1ZmZlcik7XG4gICAgICBsZXQgb3V0cHV0SW50MzIgPSBuZXcgSW50MzJBcnJheShpbnB1dEludDMyLmxlbmd0aCk7XG5cbiAgICAgIGxldCB0MCwgdDEsIHQyLCB0MztcbiAgICAgIGxldCBzMCwgczEsIHMyLCBzMztcbiAgICAgIGxldCBpbnB1dFdvcmRzMCwgaW5wdXRXb3JkczEsIGlucHV0V29yZHMyLCBpbnB1dFdvcmRzMztcblxuICAgICAgbGV0IGtzUm93LCBpO1xuICAgICAgbGV0IHN3YXBXb3JkID0gdGhpcy5uZXR3b3JrVG9Ib3N0T3JkZXJTd2FwO1xuXG4gICAgICB3aGlsZSAob2Zmc2V0IDwgaW5wdXRJbnQzMi5sZW5ndGgpIHtcbiAgICAgICAgaW5wdXRXb3JkczAgPSBzd2FwV29yZChpbnB1dEludDMyW29mZnNldF0pO1xuICAgICAgICBpbnB1dFdvcmRzMSA9IHN3YXBXb3JkKGlucHV0SW50MzJbb2Zmc2V0ICsgMV0pO1xuICAgICAgICBpbnB1dFdvcmRzMiA9IHN3YXBXb3JkKGlucHV0SW50MzJbb2Zmc2V0ICsgMl0pO1xuICAgICAgICBpbnB1dFdvcmRzMyA9IHN3YXBXb3JkKGlucHV0SW50MzJbb2Zmc2V0ICsgM10pO1xuXG4gICAgICAgIHMwID0gaW5wdXRXb3JkczAgXiBpbnZLZXlTY2hlZHVsZVswXTtcbiAgICAgICAgczEgPSBpbnB1dFdvcmRzMyBeIGludktleVNjaGVkdWxlWzFdO1xuICAgICAgICBzMiA9IGlucHV0V29yZHMyIF4gaW52S2V5U2NoZWR1bGVbMl07XG4gICAgICAgIHMzID0gaW5wdXRXb3JkczEgXiBpbnZLZXlTY2hlZHVsZVszXTtcblxuICAgICAgICBrc1JvdyA9IDQ7XG5cbiAgICAgICAgLy8gSXRlcmF0ZSB0aHJvdWdoIHRoZSByb3VuZHMgb2YgZGVjcnlwdGlvblxuICAgICAgICBmb3IgKGkgPSAxOyBpIDwgblJvdW5kczsgaSsrKSB7XG4gICAgICAgICAgdDAgPSBpbnZTdWJNaXgwW3MwID4+PiAyNF0gXiBpbnZTdWJNaXgxWyhzMSA+PiAxNikgJiAweGZmXSBeIGludlN1Yk1peDJbKHMyID4+IDgpICYgMHhmZl0gXiBpbnZTdWJNaXgzW3MzICYgMHhmZl0gXiBpbnZLZXlTY2hlZHVsZVtrc1Jvd107XG4gICAgICAgICAgdDEgPSBpbnZTdWJNaXgwW3MxID4+PiAyNF0gXiBpbnZTdWJNaXgxWyhzMiA+PiAxNikgJiAweGZmXSBeIGludlN1Yk1peDJbKHMzID4+IDgpICYgMHhmZl0gXiBpbnZTdWJNaXgzW3MwICYgMHhmZl0gXiBpbnZLZXlTY2hlZHVsZVtrc1JvdyArIDFdO1xuICAgICAgICAgIHQyID0gaW52U3ViTWl4MFtzMiA+Pj4gMjRdIF4gaW52U3ViTWl4MVsoczMgPj4gMTYpICYgMHhmZl0gXiBpbnZTdWJNaXgyWyhzMCA+PiA4KSAmIDB4ZmZdIF4gaW52U3ViTWl4M1tzMSAmIDB4ZmZdIF4gaW52S2V5U2NoZWR1bGVba3NSb3cgKyAyXTtcbiAgICAgICAgICB0MyA9IGludlN1Yk1peDBbczMgPj4+IDI0XSBeIGludlN1Yk1peDFbKHMwID4+IDE2KSAmIDB4ZmZdIF4gaW52U3ViTWl4MlsoczEgPj4gOCkgJiAweGZmXSBeIGludlN1Yk1peDNbczIgJiAweGZmXSBeIGludktleVNjaGVkdWxlW2tzUm93ICsgM107XG4gICAgICAgICAgLy8gVXBkYXRlIHN0YXRlXG4gICAgICAgICAgczAgPSB0MDtcbiAgICAgICAgICBzMSA9IHQxO1xuICAgICAgICAgIHMyID0gdDI7XG4gICAgICAgICAgczMgPSB0MztcblxuICAgICAgICAgIGtzUm93ID0ga3NSb3cgKyA0O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2hpZnQgcm93cywgc3ViIGJ5dGVzLCBhZGQgcm91bmQga2V5XG4gICAgICAgIHQwID0gKChpbnZTQk9YW3MwID4+PiAyNF0gPDwgMjQpIF4gKGludlNCT1hbKHMxID4+IDE2KSAmIDB4ZmZdIDw8IDE2KSBeIChpbnZTQk9YWyhzMiA+PiA4KSAmIDB4ZmZdIDw8IDgpIF4gaW52U0JPWFtzMyAmIDB4ZmZdKSBeIGludktleVNjaGVkdWxlW2tzUm93XTtcbiAgICAgICAgdDEgPSAoKGludlNCT1hbczEgPj4+IDI0XSA8PCAyNCkgXiAoaW52U0JPWFsoczIgPj4gMTYpICYgMHhmZl0gPDwgMTYpIF4gKGludlNCT1hbKHMzID4+IDgpICYgMHhmZl0gPDwgOCkgXiBpbnZTQk9YW3MwICYgMHhmZl0pIF4gaW52S2V5U2NoZWR1bGVba3NSb3cgKyAxXTtcbiAgICAgICAgdDIgPSAoKGludlNCT1hbczIgPj4+IDI0XSA8PCAyNCkgXiAoaW52U0JPWFsoczMgPj4gMTYpICYgMHhmZl0gPDwgMTYpIF4gKGludlNCT1hbKHMwID4+IDgpICYgMHhmZl0gPDwgOCkgXiBpbnZTQk9YW3MxICYgMHhmZl0pIF4gaW52S2V5U2NoZWR1bGVba3NSb3cgKyAyXTtcbiAgICAgICAgdDMgPSAoKGludlNCT1hbczMgPj4+IDI0XSA8PCAyNCkgXiAoaW52U0JPWFsoczAgPj4gMTYpICYgMHhmZl0gPDwgMTYpIF4gKGludlNCT1hbKHMxID4+IDgpICYgMHhmZl0gPDwgOCkgXiBpbnZTQk9YW3MyICYgMHhmZl0pIF4gaW52S2V5U2NoZWR1bGVba3NSb3cgKyAzXTtcbiAgICAgICAga3NSb3cgPSBrc1JvdyArIDM7XG5cbiAgICAgICAgLy8gV3JpdGVcbiAgICAgICAgb3V0cHV0SW50MzJbb2Zmc2V0XSA9IHN3YXBXb3JkKHQwIF4gaW5pdFZlY3RvcjApO1xuICAgICAgICBvdXRwdXRJbnQzMltvZmZzZXQgKyAxXSA9IHN3YXBXb3JkKHQzIF4gaW5pdFZlY3RvcjEpO1xuICAgICAgICBvdXRwdXRJbnQzMltvZmZzZXQgKyAyXSA9IHN3YXBXb3JkKHQyIF4gaW5pdFZlY3RvcjIpO1xuICAgICAgICBvdXRwdXRJbnQzMltvZmZzZXQgKyAzXSA9IHN3YXBXb3JkKHQxIF4gaW5pdFZlY3RvcjMpO1xuXG4gICAgICAgIC8vIHJlc2V0IGluaXRWZWN0b3IgdG8gbGFzdCA0IHVuc2lnbmVkIGludFxuICAgICAgICBpbml0VmVjdG9yMCA9IGlucHV0V29yZHMwO1xuICAgICAgICBpbml0VmVjdG9yMSA9IGlucHV0V29yZHMxO1xuICAgICAgICBpbml0VmVjdG9yMiA9IGlucHV0V29yZHMyO1xuICAgICAgICBpbml0VmVjdG9yMyA9IGlucHV0V29yZHMzO1xuXG4gICAgICAgIG9mZnNldCA9IG9mZnNldCArIDQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZW1vdmVQS0NTN1BhZGRpbmcgPyByZW1vdmVQYWRkaW5nKG91dHB1dEludDMyLmJ1ZmZlcikgOiBvdXRwdXRJbnQzMi5idWZmZXI7XG4gICAgfSxcblxuICAgIGRlc3Ryb3koKSB7XG4gICAgICB0aGlzLmtleSA9IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMua2V5U2l6ZSA9IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMua3NSb3dzID0gdW5kZWZpbmVkO1xuXG4gICAgICB0aGlzLnNCb3ggPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLmludlNCb3ggPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLnN1Yk1peCA9IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMuaW52U3ViTWl4ID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5rZXlTY2hlZHVsZSA9IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMuaW52S2V5U2NoZWR1bGUgPSB1bmRlZmluZWQ7XG5cbiAgICAgIHRoaXMucmNvbiA9IHVuZGVmaW5lZDtcbiAgICB9LFxuICB9XG59XG5cbiIsImltcG9ydCBpbml0Q2FjaGUgZnJvbSAnIy9jb21tb24vY2FjaGUnO1xuaW1wb3J0IHsgY29tbWFuZHMgfSBmcm9tICcuL21lc3NhZ2UnO1xuXG5jb25zdCBjYWNoZSA9IGluaXRDYWNoZSh7XG4gIC8qIEtlZXBpbmcgdGhlIGRhdGEgZm9yIG9uZSBob3VyIHNpbmNlIGNocm9tZS5zdG9yYWdlLmxvY2FsIGlzIGluc2FuZWx5IHNsb3cgaW4gQ2hyb21lLFxuICAgICBpdCBjYW4gdGFrZXMgc2Vjb25kcyB0byByZWFkIGl0IHdoZW4gaW5qZWN0aW5nIHRhYnMgd2l0aCBhIGJpZyBzY3JpcHQvdmFsdWUsIHdoaWNoIGRlbGF5c1xuICAgICBhbGwgb3RoZXIgc2NyaXB0cyBpbiB0aGlzIHRhYiBhbmQgdGhleSB3aWxsIG5ldmVyIGJlIGFibGUgdG8gcnVuIGF0IGRvY3VtZW50LXN0YXJ0LiAqL1xuICBsaWZldGltZTogNjAgKiA2MCAqIDEwMDAsXG59KTtcblxuT2JqZWN0LmFzc2lnbihjb21tYW5kcywge1xuICBDYWNoZUxvYWQoZGF0YSkge1xuICAgIHJldHVybiBjYWNoZS5nZXQoZGF0YSkgfHwgbnVsbDtcbiAgfSxcbiAgQ2FjaGVIaXQoZGF0YSkge1xuICAgIGNhY2hlLmhpdChkYXRhLmtleSwgZGF0YS5saWZldGltZSk7XG4gIH0sXG4gIENhY2hlUG9wKGtleSkge1xuICAgIHJldHVybiBjYWNoZS5wb3Aoa2V5KSB8fCBudWxsO1xuICB9LFxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IGNhY2hlO1xuIiwiaW1wb3J0IHsgY29tbWFuZHMgfSBmcm9tICcuL21lc3NhZ2UnO1xuXG5jb25zdCB0ZXh0YXJlYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RleHRhcmVhJyk7XG5sZXQgY2xpcGJvYXJkRGF0YTtcblxuT2JqZWN0LmFzc2lnbihjb21tYW5kcywge1xuICBTZXRDbGlwYm9hcmQoZGF0YSkge1xuICAgIGNsaXBib2FyZERhdGEgPSBkYXRhO1xuICAgIHRleHRhcmVhLmZvY3VzKCk7XG4gICAgY29uc3QgcmV0ID0gZG9jdW1lbnQuZXhlY0NvbW1hbmQoJ2NvcHknLCBmYWxzZSwgbnVsbCk7XG4gICAgaWYgKCFyZXQgJiYgcHJvY2Vzcy5lbnYuREVCVUcpIHtcbiAgICAgIGNvbnNvbGUud2FybignQ29weSBmYWlsZWQhJyk7XG4gICAgfVxuICB9LFxufSk7XG5cbmRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGV4dGFyZWEpO1xuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjb3B5JywgZSA9PiB7XG4gIGUucHJldmVudERlZmF1bHQoKTtcbiAgY29uc3QgeyB0eXBlLCBkYXRhIH0gPSBjbGlwYm9hcmREYXRhO1xuICBlLmNsaXBib2FyZERhdGEuc2V0RGF0YSh0eXBlIHx8ICd0ZXh0L3BsYWluJywgZGF0YSk7XG59KTtcbiIsImltcG9ydCB7XG4gIGNvbXBhcmVWZXJzaW9uLCBpMThuLCBnZXRGdWxsVXJsLCBnZXRTY3JpcHROYW1lLCBpc1JlbW90ZSwgc2VuZENtZCwgdHJ1ZUpvaW4sXG59IGZyb20gJyMvY29tbW9uJztcbmltcG9ydCB7XG4gIENNRF9TQ1JJUFRfQURELCBDTURfU0NSSVBUX1VQREFURSwgSU5KRUNUX1BBR0UsIElOSkVDVF9BVVRPLCBUSU1FT1VUX1dFRUssXG59IGZyb20gJyMvY29tbW9uL2NvbnN0cyc7XG5pbXBvcnQgeyBmb3JFYWNoRW50cnksIGZvckVhY2hLZXksIGZvckVhY2hWYWx1ZSB9IGZyb20gJyMvY29tbW9uL29iamVjdCc7XG5pbXBvcnQgc3RvcmFnZSBmcm9tICcjL2NvbW1vbi9zdG9yYWdlJztcbmltcG9ydCBwbHVnaW5FdmVudHMgZnJvbSAnLi4vcGx1Z2luL2V2ZW50cyc7XG5pbXBvcnQgeyBnZXROYW1lVVJJLCBwYXJzZU1ldGEsIG5ld1NjcmlwdCwgZ2V0RGVmYXVsdEN1c3RvbSB9IGZyb20gJy4vc2NyaXB0JztcbmltcG9ydCB7IHRlc3RTY3JpcHQsIHRlc3RCbGFja2xpc3QgfSBmcm9tICcuL3Rlc3Rlcic7XG5pbXBvcnQgeyBwcmVJbml0aWFsaXplIH0gZnJvbSAnLi9pbml0JztcbmltcG9ydCB7IGNvbW1hbmRzLCBub3RpZnkgfSBmcm9tICcuL21lc3NhZ2UnO1xuaW1wb3J0IHBhdGNoREIgZnJvbSAnLi9wYXRjaC1kYic7XG5pbXBvcnQgeyBzZXRPcHRpb24gfSBmcm9tICcuL29wdGlvbnMnO1xuaW1wb3J0ICcuL3N0b3JhZ2UtZmV0Y2gnO1xuaW1wb3J0IGRhdGFDYWNoZSBmcm9tICcuL2NhY2hlJztcblxuY29uc3Qgc3RvcmUgPSB7fTtcbnN0b3JhZ2UuYmFzZS5zZXREYXRhQ2FjaGUoZGF0YUNhY2hlKTtcbnN0b3JhZ2Uuc2NyaXB0Lm9uRHVtcCA9IChpdGVtKSA9PiB7XG4gIHN0b3JlLnNjcmlwdE1hcFtpdGVtLnByb3BzLmlkXSA9IGl0ZW07XG59O1xuXG5PYmplY3QuYXNzaWduKGNvbW1hbmRzLCB7XG4gIENoZWNrUG9zaXRpb246IHNvcnRTY3JpcHRzLFxuICBDaGVja1JlbW92ZTogY2hlY2tSZW1vdmUsXG4gIC8qKiBAcmV0dXJuIHtWTVNjcmlwdH0gKi9cbiAgR2V0U2NyaXB0OiBnZXRTY3JpcHQsXG4gIC8qKiBAcmV0dXJuIHtQcm9taXNlPHsgaXRlbXM6IFZNU2NyaXB0W10sIHZhbHVlcz8gfT59ICovXG4gIGFzeW5jIEV4cG9ydFppcCh7IHZhbHVlcyB9KSB7XG4gICAgY29uc3Qgc2NyaXB0cyA9IGdldFNjcmlwdHMoKTtcbiAgICBjb25zdCBpZHMgPSBzY3JpcHRzLm1hcChnZXRQcm9wc0lkKTtcbiAgICBjb25zdCBjb2RlTWFwID0gYXdhaXQgc3RvcmFnZS5jb2RlLmdldE11bHRpKGlkcyk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGl0ZW1zOiBzY3JpcHRzLm1hcChzY3JpcHQgPT4gKHsgc2NyaXB0LCBjb2RlOiBjb2RlTWFwW3NjcmlwdC5wcm9wcy5pZF0gfSkpLFxuICAgICAgdmFsdWVzOiB2YWx1ZXMgPyBhd2FpdCBzdG9yYWdlLnZhbHVlLmdldE11bHRpKGlkcykgOiB1bmRlZmluZWQsXG4gICAgfTtcbiAgfSxcbiAgLyoqIEByZXR1cm4ge1Byb21pc2U8c3RyaW5nPn0gKi9cbiAgR2V0U2NyaXB0Q29kZShpZCkge1xuICAgIHJldHVybiBzdG9yYWdlLmNvZGUuZ2V0T25lKGlkKTtcbiAgfSxcbiAgR2V0U2NyaXB0VmVyKG9wdHMpIHtcbiAgICBjb25zdCBzY3JpcHQgPSBnZXRTY3JpcHQob3B0cyk7XG4gICAgcmV0dXJuIHNjcmlwdCAmJiAhc2NyaXB0LmNvbmZpZy5yZW1vdmVkXG4gICAgICA/IHNjcmlwdC5tZXRhLnZlcnNpb25cbiAgICAgIDogbnVsbDtcbiAgfSxcbiAgLyoqIEByZXR1cm4ge1Byb21pc2U8dm9pZD59ICovXG4gIE1hcmtSZW1vdmVkKHsgaWQsIHJlbW92ZWQgfSkge1xuICAgIHJldHVybiB1cGRhdGVTY3JpcHRJbmZvKGlkLCB7XG4gICAgICBjb25maWc6IHsgcmVtb3ZlZDogcmVtb3ZlZCA/IDEgOiAwIH0sXG4gICAgICBwcm9wczogeyBsYXN0TW9kaWZpZWQ6IERhdGUubm93KCkgfSxcbiAgICB9KTtcbiAgfSxcbiAgLyoqIEByZXR1cm4ge1Byb21pc2U8bnVtYmVyPn0gKi9cbiAgTW92ZSh7IGlkLCBvZmZzZXQgfSkge1xuICAgIGNvbnN0IHNjcmlwdCA9IGdldFNjcmlwdEJ5SWQoaWQpO1xuICAgIGNvbnN0IGluZGV4ID0gc3RvcmUuc2NyaXB0cy5pbmRleE9mKHNjcmlwdCk7XG4gICAgc3RvcmUuc2NyaXB0cy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIHN0b3JlLnNjcmlwdHMuc3BsaWNlKGluZGV4ICsgb2Zmc2V0LCAwLCBzY3JpcHQpO1xuICAgIHJldHVybiBub3JtYWxpemVQb3NpdGlvbigpO1xuICB9LFxuICAvKiogQHJldHVybiB7UHJvbWlzZTx2b2lkPn0gKi9cbiAgYXN5bmMgUmVtb3ZlU2NyaXB0KGlkKSB7XG4gICAgY29uc3QgaSA9IHN0b3JlLnNjcmlwdHMuaW5kZXhPZihnZXRTY3JpcHRCeUlkKGlkKSk7XG4gICAgaWYgKGkgPj0gMCkge1xuICAgICAgc3RvcmUuc2NyaXB0cy5zcGxpY2UoaSwgMSk7XG4gICAgICBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgIHN0b3JhZ2Uuc2NyaXB0LnJlbW92ZShpZCksXG4gICAgICAgIHN0b3JhZ2UuY29kZS5yZW1vdmUoaWQpLFxuICAgICAgICBzdG9yYWdlLnZhbHVlLnJlbW92ZShpZCksXG4gICAgICBdKTtcbiAgICB9XG4gICAgcmV0dXJuIHNlbmRDbWQoJ1JlbW92ZVNjcmlwdCcsIGlkKTtcbiAgfSxcbiAgUGFyc2VNZXRhOiBwYXJzZU1ldGEsXG4gIFBhcnNlU2NyaXB0OiBwYXJzZVNjcmlwdCxcbiAgLyoqIEByZXR1cm4ge1Byb21pc2U8dm9pZD59ICovXG4gIFVwZGF0ZVNjcmlwdEluZm8oeyBpZCwgY29uZmlnLCBjdXN0b20gfSkge1xuICAgIHJldHVybiB1cGRhdGVTY3JpcHRJbmZvKGlkLCB7XG4gICAgICBjb25maWcsXG4gICAgICBjdXN0b20sXG4gICAgICBwcm9wczogeyBsYXN0TW9kaWZpZWQ6IERhdGUubm93KCkgfSxcbiAgICB9KTtcbiAgfSxcbiAgLyoqIEByZXR1cm4ge1Byb21pc2U8bnVtYmVyPn0gKi9cbiAgVmFjdXVtOiB2YWN1dW0sXG59KTtcblxucHJlSW5pdGlhbGl6ZS5wdXNoKGFzeW5jICgpID0+IHtcbiAgY29uc3QgeyB2ZXJzaW9uOiBsYXN0VmVyc2lvbiB9ID0gYXdhaXQgYnJvd3Nlci5zdG9yYWdlLmxvY2FsLmdldCgndmVyc2lvbicpO1xuICBjb25zdCB2ZXJzaW9uID0gcHJvY2Vzcy5lbnYuVk1fVkVSO1xuICBpZiAoIWxhc3RWZXJzaW9uKSBhd2FpdCBwYXRjaERCKCk7XG4gIGlmICh2ZXJzaW9uICE9PSBsYXN0VmVyc2lvbikgYnJvd3Nlci5zdG9yYWdlLmxvY2FsLnNldCh7IHZlcnNpb24gfSk7XG4gIGNvbnN0IGRhdGEgPSBhd2FpdCBicm93c2VyLnN0b3JhZ2UubG9jYWwuZ2V0KCk7XG4gIGNvbnN0IHNjcmlwdHMgPSBbXTtcbiAgY29uc3Qgc3RvcmVJbmZvID0ge1xuICAgIGlkOiAwLFxuICAgIHBvc2l0aW9uOiAwLFxuICB9O1xuICBjb25zdCBpZE1hcCA9IHt9O1xuICBjb25zdCB1cmlNYXAgPSB7fTtcbiAgY29uc3QgbW9kcyA9IFtdO1xuICBjb25zdCByZXNVcmxzID0gW107XG4gIC8qKiBAdGhpcyBWTVNjcmlwdEN1c3RvbS5wYXRoTWFwICovXG4gIGNvbnN0IHJlbWVtYmVyVXJsID0gZnVuY3Rpb24gXyh1cmwpIHsgcmVzVXJscy5wdXNoKHRoaXNbdXJsXSB8fCB1cmwpOyB9O1xuICBkYXRhOjpmb3JFYWNoRW50cnkoKFtrZXksIHNjcmlwdF0pID0+IHtcbiAgICBkYXRhQ2FjaGUucHV0KGtleSwgc2NyaXB0KTtcbiAgICBpZiAoa2V5LnN0YXJ0c1dpdGgoc3RvcmFnZS5zY3JpcHQucHJlZml4KSkge1xuICAgICAgLy8ge1xuICAgICAgLy8gICBtZXRhLFxuICAgICAgLy8gICBjdXN0b20sXG4gICAgICAvLyAgIHByb3BzOiB7IGlkLCBwb3NpdGlvbiwgdXJpIH0sXG4gICAgICAvLyAgIGNvbmZpZzogeyBlbmFibGVkLCBzaG91bGRVcGRhdGUgfSxcbiAgICAgIC8vIH1cbiAgICAgIGNvbnN0IGlkID0gZ2V0SW50KGtleS5zbGljZShzdG9yYWdlLnNjcmlwdC5wcmVmaXgubGVuZ3RoKSk7XG4gICAgICBpZiAoIWlkIHx8IGlkTWFwW2lkXSkge1xuICAgICAgICAvLyBJRCBjb25mbGljdHMhXG4gICAgICAgIC8vIFNob3VsZCBub3QgaGFwcGVuLCBkaXNjYXJkIGR1cGxpY2F0ZXMuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlkTWFwW2lkXSA9IHNjcmlwdDtcbiAgICAgIGNvbnN0IHVyaSA9IGdldE5hbWVVUkkoc2NyaXB0KTtcbiAgICAgIGlmICh1cmlNYXBbdXJpXSkge1xuICAgICAgICAvLyBOYW1lc3BhY2UgY29uZmxpY3RzIVxuICAgICAgICAvLyBTaG91bGQgbm90IGhhcHBlbiwgZGlzY2FyZCBkdXBsaWNhdGVzLlxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB1cmlNYXBbdXJpXSA9IHNjcmlwdDtcbiAgICAgIHNjcmlwdC5wcm9wcyA9IHtcbiAgICAgICAgLi4uc2NyaXB0LnByb3BzLFxuICAgICAgICBpZCxcbiAgICAgICAgdXJpLFxuICAgICAgfTtcbiAgICAgIHNjcmlwdC5jdXN0b20gPSB7XG4gICAgICAgIC4uLmdldERlZmF1bHRDdXN0b20oKSxcbiAgICAgICAgLi4uc2NyaXB0LmN1c3RvbSxcbiAgICAgIH07XG4gICAgICBzdG9yZUluZm8uaWQgPSBNYXRoLm1heChzdG9yZUluZm8uaWQsIGlkKTtcbiAgICAgIHN0b3JlSW5mby5wb3NpdGlvbiA9IE1hdGgubWF4KHN0b3JlSW5mby5wb3NpdGlvbiwgZ2V0SW50KHNjcmlwdC5wcm9wcy5wb3NpdGlvbikpO1xuICAgICAgc2NyaXB0cy5wdXNoKHNjcmlwdCk7XG4gICAgICAvLyBsaXN0aW5nIGFsbCBrbm93biByZXNvdXJjZSB1cmxzIGluIG9yZGVyIHRvIHJlbW92ZSB1bnVzZWQgbW9kIGtleXNcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgY3VzdG9tOiB7IHBhdGhNYXAgPSB7fSB9ID0ge30sXG4gICAgICAgIG1ldGEgPSBzY3JpcHQubWV0YSA9IHt9LFxuICAgICAgfSA9IHNjcmlwdDtcbiAgICAgIG1ldGEuZ3JhbnQgPSBbLi4ubmV3IFNldChtZXRhLmdyYW50IHx8IFtdKV07IC8vIGRlZHVwbGljYXRlXG4gICAgICBtZXRhLnJlcXVpcmU/LmZvckVhY2gocmVtZW1iZXJVcmwsIHBhdGhNYXApO1xuICAgICAgT2JqZWN0LnZhbHVlcyhtZXRhLnJlc291cmNlcyB8fCB7fSkuZm9yRWFjaChyZW1lbWJlclVybCwgcGF0aE1hcCk7XG4gICAgICBwYXRoTWFwOjpyZW1lbWJlclVybChtZXRhLmljb24pO1xuICAgIH0gZWxzZSBpZiAoa2V5LnN0YXJ0c1dpdGgoc3RvcmFnZS5tb2QucHJlZml4KSkge1xuICAgICAgbW9kcy5wdXNoKGtleS5zbGljZShzdG9yYWdlLm1vZC5wcmVmaXgubGVuZ3RoKSk7XG4gICAgfVxuICB9KTtcbiAgc3RvcmFnZS5tb2QucmVtb3ZlTXVsdGkobW9kcy5maWx0ZXIodXJsID0+ICFyZXNVcmxzLmluY2x1ZGVzKHVybCkpKTtcbiAgT2JqZWN0LmFzc2lnbihzdG9yZSwge1xuICAgIHNjcmlwdHMsXG4gICAgc3RvcmVJbmZvLFxuICAgIHNjcmlwdE1hcDogc2NyaXB0cy5yZWR1Y2UoKG1hcCwgaXRlbSkgPT4ge1xuICAgICAgbWFwW2l0ZW0ucHJvcHMuaWRdID0gaXRlbTtcbiAgICAgIHJldHVybiBtYXA7XG4gICAgfSwge30pLFxuICB9KTtcbiAgLy8gU3dpdGNoIGRlZmF1bHRJbmplY3RJbnRvIGZyb20gYHBhZ2VgIHRvIGBhdXRvYCB3aGVuIHVwZ3JhZGluZyBWTTIuMTIuNyBvciBvbGRlclxuICBpZiAodmVyc2lvbiAhPT0gbGFzdFZlcnNpb25cbiAgJiYgSVNfRklSRUZPWFxuICAmJiBkYXRhLm9wdGlvbnM/LmRlZmF1bHRJbmplY3RJbnRvID09PSBJTkpFQ1RfUEFHRVxuICAmJiBjb21wYXJlVmVyc2lvbihsYXN0VmVyc2lvbiwgJzIuMTIuNycpIDw9IDApIHtcbiAgICBzZXRPcHRpb24oJ2RlZmF1bHRJbmplY3RJbnRvJywgSU5KRUNUX0FVVE8pO1xuICB9XG4gIGlmIChwcm9jZXNzLmVudi5ERUJVRykge1xuICAgIGNvbnNvbGUubG9nKCdzdG9yZTonLCBzdG9yZSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxuICB9XG4gIHZhY3V1bShkYXRhKTtcbiAgcmV0dXJuIHNvcnRTY3JpcHRzKCk7XG59KTtcblxuLyoqIEByZXR1cm4ge251bWJlcn0gKi9cbmZ1bmN0aW9uIGdldEludCh2YWwpIHtcbiAgcmV0dXJuICt2YWwgfHwgMDtcbn1cblxuLyoqIEByZXR1cm4gez9udW1iZXJ9ICovXG5mdW5jdGlvbiBnZXRQcm9wc0lkKHNjcmlwdCkge1xuICByZXR1cm4gc2NyaXB0Py5wcm9wcy5pZDtcbn1cblxuLyoqIEByZXR1cm4ge3ZvaWR9ICovXG5mdW5jdGlvbiB1cGRhdGVMYXN0TW9kaWZpZWQoKSB7XG4gIHNldE9wdGlvbignbGFzdE1vZGlmaWVkJywgRGF0ZS5ub3coKSk7XG59XG5cbi8qKiBAcmV0dXJuIHtQcm9taXNlPG51bWJlcj59ICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbm9ybWFsaXplUG9zaXRpb24oKSB7XG4gIGNvbnN0IHVwZGF0ZXMgPSBzdG9yZS5zY3JpcHRzLmZpbHRlcigoeyBwcm9wcyB9LCBpbmRleCkgPT4ge1xuICAgIGNvbnN0IHBvc2l0aW9uID0gaW5kZXggKyAxO1xuICAgIGNvbnN0IHJlcyA9IHByb3BzLnBvc2l0aW9uICE9PSBwb3NpdGlvbjtcbiAgICBpZiAocmVzKSBwcm9wcy5wb3NpdGlvbiA9IHBvc2l0aW9uO1xuICAgIHJldHVybiByZXM7XG4gIH0pO1xuICBzdG9yZS5zdG9yZUluZm8ucG9zaXRpb24gPSBzdG9yZS5zY3JpcHRzLmxlbmd0aDtcbiAgaWYgKHVwZGF0ZXMubGVuZ3RoKSB7XG4gICAgYXdhaXQgc3RvcmFnZS5zY3JpcHQuZHVtcCh1cGRhdGVzKTtcbiAgICB1cGRhdGVMYXN0TW9kaWZpZWQoKTtcbiAgfVxuICByZXR1cm4gdXBkYXRlcy5sZW5ndGg7XG59XG5cbi8qKiBAcmV0dXJuIHtQcm9taXNlPG51bWJlcj59ICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc29ydFNjcmlwdHMoKSB7XG4gIHN0b3JlLnNjcmlwdHMuc29ydCgoYSwgYikgPT4gZ2V0SW50KGEucHJvcHMucG9zaXRpb24pIC0gZ2V0SW50KGIucHJvcHMucG9zaXRpb24pKTtcbiAgY29uc3QgY2hhbmdlZCA9IGF3YWl0IG5vcm1hbGl6ZVBvc2l0aW9uKCk7XG4gIHNlbmRDbWQoJ1NjcmlwdHNVcGRhdGVkJywgbnVsbCk7XG4gIHJldHVybiBjaGFuZ2VkO1xufVxuXG4vKiogQHJldHVybiB7P1ZNU2NyaXB0fSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFNjcmlwdEJ5SWQoaWQpIHtcbiAgcmV0dXJuIHN0b3JlLnNjcmlwdE1hcFtpZF07XG59XG5cbi8qKiBAcmV0dXJuIHs/Vk1TY3JpcHR9ICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2NyaXB0KHsgaWQsIHVyaSwgbWV0YSB9KSB7XG4gIGxldCBzY3JpcHQ7XG4gIGlmIChpZCkge1xuICAgIHNjcmlwdCA9IGdldFNjcmlwdEJ5SWQoaWQpO1xuICB9IGVsc2Uge1xuICAgIGlmICghdXJpKSB1cmkgPSBnZXROYW1lVVJJKHsgbWV0YSwgaWQ6ICdAQHNob3VsZC1oYXZlLW5hbWUnIH0pO1xuICAgIHNjcmlwdCA9IHN0b3JlLnNjcmlwdHMuZmluZCgoeyBwcm9wcyB9KSA9PiB1cmkgPT09IHByb3BzLnVyaSk7XG4gIH1cbiAgcmV0dXJuIHNjcmlwdDtcbn1cblxuLyoqIEByZXR1cm4ge1ZNU2NyaXB0W119ICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2NyaXB0cygpIHtcbiAgcmV0dXJuIHN0b3JlLnNjcmlwdHMuZmlsdGVyKHNjcmlwdCA9PiAhc2NyaXB0LmNvbmZpZy5yZW1vdmVkKTtcbn1cblxuLyoqXG4gKiBAZGVzYyBMb2FkIHZhbHVlcyBmb3IgYmF0Y2ggdXBkYXRlcy5cbiAqIEBwYXJhbSB7bnVtYmVyW119IGlkc1xuICogQHJldHVybiB7UHJvbWlzZTxPYmplY3Q+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0VmFsdWVTdG9yZXNCeUlkcyhpZHMpIHtcbiAgcmV0dXJuIHN0b3JhZ2UudmFsdWUuZ2V0TXVsdGkoaWRzKTtcbn1cblxuLyoqXG4gKiBAZGVzYyBEdW1wIHZhbHVlcyBmb3IgYmF0Y2ggdXBkYXRlcy5cbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWx1ZURpY3QgeyBpZDE6IHZhbHVlMSwgaWQyOiB2YWx1ZTIsIC4uLiB9XG4gKiBAcmV0dXJuIHtQcm9taXNlPE9iamVjdD59XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkdW1wVmFsdWVTdG9yZXModmFsdWVEaWN0KSB7XG4gIGlmIChwcm9jZXNzLmVudi5ERUJVRykgY29uc29sZS5pbmZvKCdVcGRhdGUgdmFsdWUgc3RvcmVzJywgdmFsdWVEaWN0KTtcbiAgYXdhaXQgc3RvcmFnZS52YWx1ZS5kdW1wKHZhbHVlRGljdCk7XG4gIHJldHVybiB2YWx1ZURpY3Q7XG59XG5cbmV4cG9ydCBjb25zdCBFTlZfQ0FDSEVfS0VZUyA9ICdjYWNoZUtleXMnO1xuZXhwb3J0IGNvbnN0IEVOVl9SRVFfS0VZUyA9ICdyZXFLZXlzJztcbmV4cG9ydCBjb25zdCBFTlZfVkFMVUVfSURTID0gJ3ZhbHVlSWRzJztcbmNvbnN0IEdNVkFMVUVTX1JFID0gL15HTVtfLl0obGlzdFZhbHVlc3woW2dzXWV0fGRlbGV0ZSlWYWx1ZSkkLztcbmNvbnN0IFJVTl9BVF9SRSA9IC9eZG9jdW1lbnQtKHN0YXJ0fGJvZHl8ZW5kfGlkbGUpJC87XG4vKipcbiAqIEBkZXNjIEdldCBzY3JpcHRzIHRvIGJlIGluamVjdGVkIHRvIHBhZ2Ugd2l0aCBzcGVjaWZpYyBVUkwuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRTY3JpcHRzQnlVUkwodXJsLCBpc1RvcCkge1xuICBjb25zdCBhbGxTY3JpcHRzID0gdGVzdEJsYWNrbGlzdCh1cmwpXG4gICAgPyBbXVxuICAgIDogc3RvcmUuc2NyaXB0cy5maWx0ZXIoc2NyaXB0ID0+IChcbiAgICAgICFzY3JpcHQuY29uZmlnLnJlbW92ZWRcbiAgICAgICYmIChpc1RvcCB8fCAhKHNjcmlwdC5jdXN0b20ubm9mcmFtZXMgPz8gc2NyaXB0Lm1ldGEubm9mcmFtZXMpKVxuICAgICAgJiYgdGVzdFNjcmlwdCh1cmwsIHNjcmlwdClcbiAgICApKTtcbiAgY29uc3QgZGlzYWJsZWRJZHMgPSBbXTtcbiAgLyoqIEBuYW1lc3BhY2UgVk1TY3JpcHRCeVVybERhdGEgKi9cbiAgY29uc3QgW2VudlN0YXJ0LCBlbnZEZWxheWVkXSA9IFswLCAxXS5tYXAoKCkgPT4gKHtcbiAgICBpZHM6IFtdLFxuICAgIC8qKiBAdHlwZSB7KFZNU2NyaXB0ICYgVk1JbmplY3RlZFNjcmlwdClbXX0gKi9cbiAgICBzY3JpcHRzOiBbXSxcbiAgICBbRU5WX0NBQ0hFX0tFWVNdOiBbXSxcbiAgICBbRU5WX1JFUV9LRVlTXTogW10sXG4gICAgW0VOVl9WQUxVRV9JRFNdOiBbXSxcbiAgfSkpO1xuICBhbGxTY3JpcHRzLmZvckVhY2goKHNjcmlwdCkgPT4ge1xuICAgIGNvbnN0IHsgaWQgfSA9IHNjcmlwdC5wcm9wcztcbiAgICBpZiAoIXNjcmlwdC5jb25maWcuZW5hYmxlZCkge1xuICAgICAgZGlzYWJsZWRJZHMucHVzaChpZCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHsgbWV0YSwgY3VzdG9tIH0gPSBzY3JpcHQ7XG4gICAgY29uc3QgeyBwYXRoTWFwID0gYnVpbGRQYXRoTWFwKHNjcmlwdCkgfSA9IGN1c3RvbTtcbiAgICBjb25zdCBydW5BdCA9IGAke2N1c3RvbS5ydW5BdCB8fCBtZXRhLnJ1bkF0IHx8ICcnfWAubWF0Y2goUlVOX0FUX1JFKT8uWzFdIHx8ICdlbmQnO1xuICAgIGNvbnN0IGVudiA9IHJ1bkF0ID09PSAnc3RhcnQnIHx8IHJ1bkF0ID09PSAnYm9keScgPyBlbnZTdGFydCA6IGVudkRlbGF5ZWQ7XG4gICAgZW52Lmlkcy5wdXNoKGlkKTtcbiAgICBpZiAobWV0YS5ncmFudC5zb21lKEdNVkFMVUVTX1JFLnRlc3QsIEdNVkFMVUVTX1JFKSkge1xuICAgICAgZW52W0VOVl9WQUxVRV9JRFNdLnB1c2goaWQpO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IFtsaXN0LCBuYW1lXSBvZiBbXG4gICAgICBbbWV0YS5yZXF1aXJlLCBFTlZfUkVRX0tFWVNdLFxuICAgICAgW09iamVjdC52YWx1ZXMobWV0YS5yZXNvdXJjZXMpLCBFTlZfQ0FDSEVfS0VZU10sXG4gICAgXSkge1xuICAgICAgbGlzdC5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgIGtleSA9IHBhdGhNYXBba2V5XSB8fCBrZXk7XG4gICAgICAgIGlmICghZW52U3RhcnRbbmFtZV0uaW5jbHVkZXMoa2V5KSkge1xuICAgICAgICAgIGVudltuYW1lXS5wdXNoKGtleSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICAvKiogQG5hbWVzcGFjZSBWTUluamVjdGVkU2NyaXB0ICovXG4gICAgZW52LnNjcmlwdHMucHVzaCh7IC4uLnNjcmlwdCwgcnVuQXQgfSk7XG4gIH0pO1xuICBpZiAoZW52RGVsYXllZC5pZHMubGVuZ3RoKSB7XG4gICAgZW52RGVsYXllZC5wcm9taXNlID0gcmVhZEVudmlyb25tZW50RGF0YShlbnZEZWxheWVkKTtcbiAgfVxuICAvKiogQG5hbWVzcGFjZSBWTVNjcmlwdEJ5VXJsRGF0YSAqL1xuICByZXR1cm4ge1xuICAgIC4uLmVudlN0YXJ0LFxuICAgIC4uLmF3YWl0IHJlYWRFbnZpcm9ubWVudERhdGEoZW52U3RhcnQpLFxuICAgIGRpc2FibGVkSWRzLFxuICAgIGVudkRlbGF5ZWQsXG4gIH07XG59XG5cbi8qKlxuICogT2JqZWN0IGtleXMgPT0gYXJlYXMgaW4gYHN0b3JhZ2VgIG1vZHVsZS5cbiAqIEBuYW1lc3BhY2UgVk1TY3JpcHRCeVVybERhdGFcbiAqL1xuY29uc3QgU1RPUkFHRV9ST1VURVMgPSBPYmplY3QuZW50cmllcyh7XG4gIGNhY2hlOiBFTlZfQ0FDSEVfS0VZUyxcbiAgY29kZTogJ2lkcycsXG4gIHJlcXVpcmU6IEVOVl9SRVFfS0VZUyxcbiAgdmFsdWU6IEVOVl9WQUxVRV9JRFMsXG59KTtcbmNvbnN0IHJldHJpZWRTdG9yYWdlS2V5cyA9IHt9O1xuXG5hc3luYyBmdW5jdGlvbiByZWFkRW52aXJvbm1lbnREYXRhKGVudiwgaXNSZXRyeSkge1xuICBjb25zdCBrZXlzID0gW107XG4gIFNUT1JBR0VfUk9VVEVTLmZvckVhY2goKFthcmVhLCBzcmNJZHNdKSA9PiB7XG4gICAgZW52W3NyY0lkc10uZm9yRWFjaChpZCA9PiB7XG4gICAgICBrZXlzLnB1c2goc3RvcmFnZVthcmVhXS5nZXRLZXkoaWQpKTtcbiAgICB9KTtcbiAgfSk7XG4gIGNvbnN0IGRhdGEgPSBhd2FpdCBzdG9yYWdlLmJhc2UuZ2V0TXVsdGkoa2V5cyk7XG4gIGZvciAoY29uc3QgW2FyZWEsIHNyY0lkc10gb2YgU1RPUkFHRV9ST1VURVMpIHtcbiAgICBlbnZbYXJlYV0gPSB7fTtcbiAgICBmb3IgKGNvbnN0IGlkIG9mIGVudltzcmNJZHNdKSB7XG4gICAgICBjb25zdCB2YWwgPSBkYXRhW3N0b3JhZ2VbYXJlYV0uZ2V0S2V5KGlkKV07XG4gICAgICBlbnZbYXJlYV1baWRdID0gdmFsO1xuICAgICAgaWYgKHZhbCA9PSBudWxsICYmIGFyZWEgIT09ICd2YWx1ZScgJiYgcmV0cmllZFN0b3JhZ2VLZXlzW2FyZWEgKyBpZF0gIT09IDIpIHtcbiAgICAgICAgY29uc3QgZXJyID0gYFRoZSBcIiR7YXJlYX1cIiBzdG9yYWdlIGlzIG1pc3NpbmcgXCIke2lkfVwiIWA7XG4gICAgICAgIGNvbnN0IGVycjIgPSAnVmFjdXVtaW5nIGRpZCBub3QgaGVscC4gUGxlYXNlIHJlaW5zdGFsbCB0aGUgYWZmZWN0ZWQgc2NyaXB0cy4nO1xuICAgICAgICByZXRyaWVkU3RvcmFnZUtleXNbYXJlYSArIGlkXSA9IGlzUmV0cnkgPyAyIDogMTtcbiAgICAgICAgaWYgKCFpc1JldHJ5KSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKGVyciwgJ1ZhY3V1bWluZy4uLicpO1xuICAgICAgICAgIGlmIChhd2FpdCB2YWN1dW0oKSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlYWRFbnZpcm9ubWVudERhdGEoZW52LCB0cnVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZS5lcnJvcihlcnIsIGVycjIpO1xuICAgICAgICBub3RpZnkoeyB0aXRsZTogZXJyLCBib2R5OiBlcnIyIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gZW52O1xufVxuXG4vKipcbiAqIEBkZXNjIEdldCBkYXRhIGZvciBkYXNoYm9hcmQuXG4gKiBAcmV0dXJuIHtQcm9taXNlPHsgc2NyaXB0czogVk1TY3JpcHRbXSwgY2FjaGU6IE9iamVjdCB9Pn1cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldERhdGEoaWRzKSB7XG4gIGNvbnN0IHNjcmlwdHMgPSBpZHMgPyBpZHMubWFwKGdldFNjcmlwdEJ5SWQpIDogc3RvcmUuc2NyaXB0cztcbiAgcmV0dXJuIHtcbiAgICBzY3JpcHRzLFxuICAgIGNhY2hlOiBhd2FpdCBnZXRJY29uQ2FjaGUoc2NyaXB0cyksXG4gIH07XG59XG5cbmZ1bmN0aW9uIGdldEljb25DYWNoZShzY3JpcHRzKSB7XG4gIGNvbnN0IGljb25VcmxzID0gW107XG4gIHNjcmlwdHMuZm9yRWFjaCgoc2NyaXB0KSA9PiB7XG4gICAgY29uc3QgeyBpY29uIH0gPSBzY3JpcHQubWV0YTtcbiAgICBpZiAoaXNSZW1vdGUoaWNvbikpIHtcbiAgICAgIGljb25VcmxzLnB1c2goc2NyaXB0LmN1c3RvbS5wYXRoTWFwPy5baWNvbl0gfHwgaWNvbik7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGljb25VcmxzLmxlbmd0aFxuICAgID8gc3RvcmFnZS5jYWNoZS5nZXRNdWx0aShpY29uVXJscywgdW5kZWZpbmVkLCBzdG9yYWdlLmNhY2hlLm1ha2VEYXRhVXJpKVxuICAgIDoge307XG59XG5cbi8qKiBAcmV0dXJuIHtudW1iZXJ9ICovXG5leHBvcnQgZnVuY3Rpb24gY2hlY2tSZW1vdmUoeyBmb3JjZSB9ID0ge30pIHtcbiAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgY29uc3QgdG9SZW1vdmUgPSBzdG9yZS5zY3JpcHRzLmZpbHRlcihzY3JpcHQgPT4gc2NyaXB0LmNvbmZpZy5yZW1vdmVkICYmIChcbiAgICBmb3JjZSB8fCBub3cgLSBnZXRJbnQoc2NyaXB0LnByb3BzLmxhc3RNb2RpZmllZCkgPiBUSU1FT1VUX1dFRUtcbiAgKSk7XG4gIGlmICh0b1JlbW92ZS5sZW5ndGgpIHtcbiAgICBzdG9yZS5zY3JpcHRzID0gc3RvcmUuc2NyaXB0cy5maWx0ZXIoc2NyaXB0ID0+ICFzY3JpcHQuY29uZmlnLnJlbW92ZWQpO1xuICAgIGNvbnN0IGlkcyA9IHRvUmVtb3ZlLm1hcChnZXRQcm9wc0lkKTtcbiAgICBzdG9yYWdlLnNjcmlwdC5yZW1vdmVNdWx0aShpZHMpO1xuICAgIHN0b3JhZ2UuY29kZS5yZW1vdmVNdWx0aShpZHMpO1xuICAgIHN0b3JhZ2UudmFsdWUucmVtb3ZlTXVsdGkoaWRzKTtcbiAgfVxuICByZXR1cm4gdG9SZW1vdmUubGVuZ3RoO1xufVxuXG4vKiogQHJldHVybiB7c3RyaW5nfSAqL1xuZnVuY3Rpb24gZ2V0VVVJRCgpIHtcbiAgY29uc3Qgcm5kID0gbmV3IFVpbnQxNkFycmF5KDgpO1xuICB3aW5kb3cuY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhybmQpO1xuICAvLyB4eHh4eHh4eC14eHh4LU14eHgtTnh4eC14eHh4eHh4eHh4eHhcbiAgLy8gV2UncmUgdXNpbmcgVVVJRHY0IHZhcmlhbnQgMSBzbyBOPTQgYW5kIE09OFxuICAvLyBTZWUgZm9ybWF0X3V1aWRfdjNvcjUgaW4gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9yZmMvcmZjNDEyMi50eHRcbiAgcm5kWzNdID0gcm5kWzNdICYgMHgwRkZGIHwgMHg0MDAwOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWJpdHdpc2VcbiAgcm5kWzRdID0gcm5kWzRdICYgMHgzRkZGIHwgMHg4MDAwOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWJpdHdpc2VcbiAgcmV0dXJuICcwMS0yLTMtNC01NjcnLnJlcGxhY2UoL1xcZC9nLCBpID0+IChybmRbaV0gKyAweDFfMDAwMCkudG9TdHJpbmcoMTYpLnNsaWNlKC00KSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtWTVNjcmlwdH0gc2NyaXB0XG4gKiBAcGFyYW0ge3N0cmluZ30gY29kZVxuICogQHJldHVybiB7UHJvbWlzZTxWTVNjcmlwdFtdPn1cbiAqL1xuYXN5bmMgZnVuY3Rpb24gc2F2ZVNjcmlwdChzY3JpcHQsIGNvZGUpIHtcbiAgY29uc3QgY29uZmlnID0gc2NyaXB0LmNvbmZpZyB8fCB7fTtcbiAgY29uZmlnLmVuYWJsZWQgPSBnZXRJbnQoY29uZmlnLmVuYWJsZWQpO1xuICBjb25maWcuc2hvdWxkVXBkYXRlID0gZ2V0SW50KGNvbmZpZy5zaG91bGRVcGRhdGUpO1xuICBjb25zdCBwcm9wcyA9IHNjcmlwdC5wcm9wcyB8fCB7fTtcbiAgbGV0IG9sZFNjcmlwdDtcbiAgaWYgKCFwcm9wcy5pZCkge1xuICAgIHN0b3JlLnN0b3JlSW5mby5pZCArPSAxO1xuICAgIHByb3BzLmlkID0gc3RvcmUuc3RvcmVJbmZvLmlkO1xuICB9IGVsc2Uge1xuICAgIG9sZFNjcmlwdCA9IHN0b3JlLnNjcmlwdE1hcFtwcm9wcy5pZF07XG4gIH1cbiAgcHJvcHMudXJpID0gZ2V0TmFtZVVSSShzY3JpcHQpO1xuICBwcm9wcy51dWlkID0gcHJvcHMudXVpZCB8fCBjcnlwdG8ucmFuZG9tVVVJRD8uKCkgfHwgZ2V0VVVJRCgpO1xuICAvLyBEbyBub3QgYWxsb3cgc2NyaXB0IHdpdGggc2FtZSBuYW1lIGFuZCBuYW1lc3BhY2VcbiAgaWYgKHN0b3JlLnNjcmlwdHMuc29tZSgoeyBwcm9wczogeyBpZCwgdXJpIH0gPSB7fSB9KSA9PiBwcm9wcy5pZCAhPT0gaWQgJiYgcHJvcHMudXJpID09PSB1cmkpKSB7XG4gICAgdGhyb3cgaTE4bignbXNnTmFtZXNwYWNlQ29uZmxpY3QnKTtcbiAgfVxuICBpZiAob2xkU2NyaXB0KSB7XG4gICAgc2NyaXB0LmNvbmZpZyA9IHsgLi4ub2xkU2NyaXB0LmNvbmZpZywgLi4uY29uZmlnIH07XG4gICAgc2NyaXB0LnByb3BzID0geyAuLi5vbGRTY3JpcHQucHJvcHMsIC4uLnByb3BzIH07XG4gICAgY29uc3QgaW5kZXggPSBzdG9yZS5zY3JpcHRzLmluZGV4T2Yob2xkU2NyaXB0KTtcbiAgICBzdG9yZS5zY3JpcHRzW2luZGV4XSA9IHNjcmlwdDtcbiAgfSBlbHNlIHtcbiAgICBpZiAoIXByb3BzLnBvc2l0aW9uKSB7XG4gICAgICBzdG9yZS5zdG9yZUluZm8ucG9zaXRpb24gKz0gMTtcbiAgICAgIHByb3BzLnBvc2l0aW9uID0gc3RvcmUuc3RvcmVJbmZvLnBvc2l0aW9uO1xuICAgIH0gZWxzZSBpZiAoc3RvcmUuc3RvcmVJbmZvLnBvc2l0aW9uIDwgcHJvcHMucG9zaXRpb24pIHtcbiAgICAgIHN0b3JlLnN0b3JlSW5mby5wb3NpdGlvbiA9IHByb3BzLnBvc2l0aW9uO1xuICAgIH1cbiAgICBzY3JpcHQuY29uZmlnID0gY29uZmlnO1xuICAgIHNjcmlwdC5wcm9wcyA9IHByb3BzO1xuICAgIHN0b3JlLnNjcmlwdHMucHVzaChzY3JpcHQpO1xuICB9XG4gIHJldHVybiBQcm9taXNlLmFsbChbXG4gICAgc3RvcmFnZS5zY3JpcHQuZHVtcChzY3JpcHQpLFxuICAgIHN0b3JhZ2UuY29kZS5zZXQocHJvcHMuaWQsIGNvZGUpLFxuICBdKTtcbn1cblxuLyoqIEByZXR1cm4ge1Byb21pc2U8dm9pZD59ICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlU2NyaXB0SW5mbyhpZCwgZGF0YSkge1xuICBjb25zdCBzY3JpcHQgPSBzdG9yZS5zY3JpcHRNYXBbaWRdO1xuICBpZiAoIXNjcmlwdCkgdGhyb3cgbnVsbDtcbiAgc2NyaXB0LnByb3BzID0geyAuLi5zY3JpcHQucHJvcHMsIC4uLmRhdGEucHJvcHMgfTtcbiAgc2NyaXB0LmNvbmZpZyA9IHsgLi4uc2NyaXB0LmNvbmZpZywgLi4uZGF0YS5jb25maWcgfTtcbiAgc2NyaXB0LmN1c3RvbSA9IHsgLi4uc2NyaXB0LmN1c3RvbSwgLi4uZGF0YS5jdXN0b20gfTtcbiAgYXdhaXQgc3RvcmFnZS5zY3JpcHQuZHVtcChzY3JpcHQpO1xuICByZXR1cm4gc2VuZENtZChDTURfU0NSSVBUX1VQREFURSwgeyB3aGVyZTogeyBpZCB9LCB1cGRhdGU6IHNjcmlwdCB9KTtcbn1cblxuLyoqIEByZXR1cm4ge1Byb21pc2U8eyBpc05ldz8sIHVwZGF0ZSwgd2hlcmUgfT59ICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcGFyc2VTY3JpcHQoc3JjKSB7XG4gIGNvbnN0IG1ldGEgPSBwYXJzZU1ldGEoc3JjLmNvZGUpO1xuICBpZiAoIW1ldGEubmFtZSkgdGhyb3cgYCR7aTE4bignbXNnSW52YWxpZFNjcmlwdCcpfVxcbiR7aTE4bignbGFiZWxOb05hbWUnKX1gO1xuICBjb25zdCByZXN1bHQgPSB7XG4gICAgdXBkYXRlOiB7XG4gICAgICBtZXNzYWdlOiBzcmMubWVzc2FnZSA9PSBudWxsID8gaTE4bignbXNnVXBkYXRlZCcpIDogc3JjLm1lc3NhZ2UgfHwgJycsXG4gICAgfSxcbiAgfTtcbiAgbGV0IGNtZCA9IENNRF9TQ1JJUFRfVVBEQVRFO1xuICBsZXQgc2NyaXB0O1xuICBjb25zdCBvbGRTY3JpcHQgPSBhd2FpdCBnZXRTY3JpcHQoeyBpZDogc3JjLmlkLCBtZXRhIH0pO1xuICBpZiAob2xkU2NyaXB0KSB7XG4gICAgaWYgKHNyYy5pc05ldykgdGhyb3cgaTE4bignbXNnTmFtZXNwYWNlQ29uZmxpY3QnKTtcbiAgICBzY3JpcHQgPSB7IC4uLm9sZFNjcmlwdCB9O1xuICB9IGVsc2Uge1xuICAgICh7IHNjcmlwdCB9ID0gbmV3U2NyaXB0KCkpO1xuICAgIGNtZCA9IENNRF9TQ1JJUFRfQUREO1xuICAgIHJlc3VsdC5pc05ldyA9IHRydWU7XG4gICAgcmVzdWx0LnVwZGF0ZS5tZXNzYWdlID0gaTE4bignbXNnSW5zdGFsbGVkJyk7XG4gIH1cbiAgc2NyaXB0LmNvbmZpZyA9IHtcbiAgICAuLi5zY3JpcHQuY29uZmlnLFxuICAgIC4uLnNyYy5jb25maWcsXG4gICAgcmVtb3ZlZDogMCwgLy8gZm9yY2UgcmVzZXQgYHJlbW92ZWRgIHNpbmNlIHRoaXMgaXMgYW4gaW5zdGFsbGF0aW9uXG4gIH07XG4gIHNjcmlwdC5jdXN0b20gPSB7XG4gICAgLi4uc2NyaXB0LmN1c3RvbSxcbiAgICAuLi5zcmMuY3VzdG9tLFxuICB9O1xuICBzY3JpcHQucHJvcHMgPSB7XG4gICAgLi4uc2NyaXB0LnByb3BzLFxuICAgIGxhc3RNb2RpZmllZDogRGF0ZS5ub3coKSxcbiAgICBsYXN0VXBkYXRlZDogRGF0ZS5ub3coKSxcbiAgICAuLi5zcmMucHJvcHMsXG4gIH07XG4gIHNjcmlwdC5tZXRhID0gbWV0YTtcbiAgaWYgKCFtZXRhLmhvbWVwYWdlVVJMICYmICFzY3JpcHQuY3VzdG9tLmhvbWVwYWdlVVJMICYmIGlzUmVtb3RlKHNyYy5mcm9tKSkge1xuICAgIHNjcmlwdC5jdXN0b20uaG9tZXBhZ2VVUkwgPSBzcmMuZnJvbTtcbiAgfVxuICBpZiAoaXNSZW1vdGUoc3JjLnVybCkpIHNjcmlwdC5jdXN0b20ubGFzdEluc3RhbGxVUkwgPSBzcmMudXJsO1xuICBpZiAoc3JjLnBvc2l0aW9uKSBzY3JpcHQucHJvcHMucG9zaXRpb24gPSArc3JjLnBvc2l0aW9uO1xuICBidWlsZFBhdGhNYXAoc2NyaXB0LCBzcmMudXJsKTtcbiAgYXdhaXQgc2F2ZVNjcmlwdChzY3JpcHQsIHNyYy5jb2RlKTtcbiAgZmV0Y2hSZXNvdXJjZXMoc2NyaXB0LCBzcmMpO1xuICBPYmplY3QuYXNzaWduKHJlc3VsdC51cGRhdGUsIHNjcmlwdCwgc3JjLnVwZGF0ZSk7XG4gIHJlc3VsdC53aGVyZSA9IHsgaWQ6IHNjcmlwdC5wcm9wcy5pZCB9O1xuICBzZW5kQ21kKGNtZCwgcmVzdWx0KTtcbiAgcGx1Z2luRXZlbnRzLmVtaXQoJ3NjcmlwdENoYW5nZWQnLCByZXN1bHQpO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKiogQHJldHVybiB7T2JqZWN0fSAqL1xuZnVuY3Rpb24gYnVpbGRQYXRoTWFwKHNjcmlwdCwgYmFzZSkge1xuICBjb25zdCB7IG1ldGEgfSA9IHNjcmlwdDtcbiAgY29uc3QgYmFzZVVybCA9IGJhc2UgfHwgc2NyaXB0LmN1c3RvbS5sYXN0SW5zdGFsbFVSTDtcbiAgY29uc3QgcGF0aE1hcCA9IGJhc2VVcmwgPyBbXG4gICAgLi4ubWV0YS5yZXF1aXJlLFxuICAgIC4uLk9iamVjdC52YWx1ZXMobWV0YS5yZXNvdXJjZXMpLFxuICAgIG1ldGEuaWNvbixcbiAgXS5yZWR1Y2UoKG1hcCwga2V5KSA9PiB7XG4gICAgaWYgKGtleSkge1xuICAgICAgY29uc3QgZnVsbFVybCA9IGdldEZ1bGxVcmwoa2V5LCBiYXNlVXJsKTtcbiAgICAgIGlmIChmdWxsVXJsICE9PSBrZXkpIG1hcFtrZXldID0gZnVsbFVybDtcbiAgICB9XG4gICAgcmV0dXJuIG1hcDtcbiAgfSwge30pIDoge307XG4gIHNjcmlwdC5jdXN0b20ucGF0aE1hcCA9IHBhdGhNYXA7XG4gIHJldHVybiBwYXRoTWFwO1xufVxuXG4vKiogQHJldHVybiB7UHJvbWlzZTw/c3RyaW5nPn0gcmVzb2x2ZXMgdG8gZXJyb3IgdGV4dCBpZiBgcmVzb3VyY2VDYWNoZWAgaXMgYWJzZW50ICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZmV0Y2hSZXNvdXJjZXMoc2NyaXB0LCByZXNvdXJjZUNhY2hlLCByZXFPcHRpb25zKSB7XG4gIGNvbnN0IHsgY3VzdG9tOiB7IHBhdGhNYXAgfSwgbWV0YSB9ID0gc2NyaXB0O1xuICBjb25zdCBzbmF0Y2ggPSAodXJsLCB0eXBlLCB2YWxpZGF0b3IpID0+IHtcbiAgICB1cmwgPSBwYXRoTWFwW3VybF0gfHwgdXJsO1xuICAgIGNvbnN0IGNvbnRlbnRzID0gcmVzb3VyY2VDYWNoZT8uW3R5cGVdPy5bdXJsXTtcbiAgICByZXR1cm4gY29udGVudHMgIT0gbnVsbCAmJiAhdmFsaWRhdG9yXG4gICAgICA/IHN0b3JhZ2VbdHlwZV0uc2V0KHVybCwgY29udGVudHMpICYmIG51bGxcbiAgICAgIDogc3RvcmFnZVt0eXBlXS5mZXRjaCh1cmwsIHJlcU9wdGlvbnMsIHZhbGlkYXRvcikuY2F0Y2goZXJyID0+IGVycik7XG4gIH07XG4gIGNvbnN0IGVycm9ycyA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAuLi5tZXRhLnJlcXVpcmUubWFwKHVybCA9PiBzbmF0Y2godXJsLCAncmVxdWlyZScpKSxcbiAgICAuLi5PYmplY3QudmFsdWVzKG1ldGEucmVzb3VyY2VzKS5tYXAodXJsID0+IHNuYXRjaCh1cmwsICdjYWNoZScpKSxcbiAgICBpc1JlbW90ZShtZXRhLmljb24pICYmIHNuYXRjaChtZXRhLmljb24sICdjYWNoZScsIHZhbGlkYXRlSW1hZ2UpLFxuICBdKTtcbiAgaWYgKCFyZXNvdXJjZUNhY2hlPy5pZ25vcmVEZXBzRXJyb3JzKSB7XG4gICAgY29uc3QgZXJyb3IgPSBlcnJvcnMubWFwKGZvcm1hdEh0dHBFcnJvcik6OnRydWVKb2luKCdcXG4nKTtcbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIGNvbnN0IG1lc3NhZ2UgPSBpMThuKCdtc2dFcnJvckZldGNoaW5nUmVzb3VyY2UnKTtcbiAgICAgIHNlbmRDbWQoQ01EX1NDUklQVF9VUERBVEUsIHtcbiAgICAgICAgdXBkYXRlOiB7IGVycm9yLCBtZXNzYWdlIH0sXG4gICAgICAgIHdoZXJlOiB7IGlkOiBzY3JpcHQucHJvcHMuaWQgfSxcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGAke21lc3NhZ2V9XFxuJHtlcnJvcn1gO1xuICAgIH1cbiAgfVxufVxuXG4vKiogQHJldHVybiB7UHJvbWlzZTx2b2lkPn0gcmVzb2x2ZXMgb24gc3VjY2VzcywgcmVqZWN0cyBvbiBlcnJvciAqL1xuZnVuY3Rpb24gdmFsaWRhdGVJbWFnZSh1cmwsIGJ1ZiwgdHlwZSkge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGNvbnN0IGJsb2JVcmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKG5ldyBCbG9iKFtidWZdLCB7IHR5cGUgfSkpO1xuICAgIGNvbnN0IG9uRG9uZSA9IChlKSA9PiB7XG4gICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKGJsb2JVcmwpO1xuICAgICAgaWYgKGUudHlwZSA9PT0gJ2xvYWQnKSByZXNvbHZlKCk7XG4gICAgICBlbHNlIHJlamVjdChgSU1BR0VfRVJST1I6ICR7dXJsfWApO1xuICAgIH07XG4gICAgY29uc3QgaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcbiAgICBpbWFnZS5vbmxvYWQgPSBvbkRvbmU7XG4gICAgaW1hZ2Uub25lcnJvciA9IG9uRG9uZTtcbiAgICBpbWFnZS5zcmMgPSBibG9iVXJsO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gZm9ybWF0SHR0cEVycm9yKGUpIHtcbiAgcmV0dXJuIGUgJiYgW2Uuc3RhdHVzICYmIGBIVFRQJHtlLnN0YXR1c31gLCBlLnVybF06OnRydWVKb2luKCcgJykgfHwgZTtcbn1cblxubGV0IF92YWN1dW1pbmc7XG4vKipcbiAqIEBwYXJhbSB7T2JqZWN0fSBbZGF0YV1cbiAqIEByZXR1cm4ge1Byb21pc2U8bnVtYmVyPn1cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHZhY3V1bShkYXRhKSB7XG4gIGlmIChfdmFjdXVtaW5nKSByZXR1cm4gX3ZhY3V1bWluZztcbiAgbGV0IG51bUZpeGVzID0gMDtcbiAgbGV0IHJlc29sdmVTZWxmO1xuICBfdmFjdXVtaW5nID0gbmV3IFByb21pc2UociA9PiB7IHJlc29sdmVTZWxmID0gcjsgfSk7XG4gIGNvbnN0IHJlc3VsdCA9IHt9O1xuICBjb25zdCB0b0ZldGNoID0gW107XG4gIGNvbnN0IGtleXNUb1JlbW92ZSA9IFtdO1xuICBjb25zdCB2YWx1ZUtleXMgPSB7fTtcbiAgY29uc3QgY2FjaGVLZXlzID0ge307XG4gIGNvbnN0IHJlcXVpcmVLZXlzID0ge307XG4gIGNvbnN0IGNvZGVLZXlzID0ge307XG4gIGNvbnN0IG1hcHBpbmdzID0gW1xuICAgIFtzdG9yYWdlLnZhbHVlLCB2YWx1ZUtleXNdLFxuICAgIFtzdG9yYWdlLmNhY2hlLCBjYWNoZUtleXNdLFxuICAgIFtzdG9yYWdlLnJlcXVpcmUsIHJlcXVpcmVLZXlzXSxcbiAgICBbc3RvcmFnZS5jb2RlLCBjb2RlS2V5c10sXG4gIF07XG4gIGlmICghZGF0YSkgZGF0YSA9IGF3YWl0IGJyb3dzZXIuc3RvcmFnZS5sb2NhbC5nZXQoKTtcbiAgZGF0YTo6Zm9yRWFjaEtleSgoa2V5KSA9PiB7XG4gICAgbWFwcGluZ3Muc29tZSgoW3N1YnN0b3JlLCBtYXBdKSA9PiB7XG4gICAgICBjb25zdCB7IHByZWZpeCB9ID0gc3Vic3RvcmU7XG4gICAgICBpZiAoa2V5LnN0YXJ0c1dpdGgocHJlZml4KSkge1xuICAgICAgICAvLyAtMSBmb3IgdW50b3VjaGVkLCAxIGZvciB0b3VjaGVkLCAyIGZvciBtaXNzaW5nXG4gICAgICAgIG1hcFtrZXkuc2xpY2UocHJlZml4Lmxlbmd0aCldID0gLTE7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0pO1xuICB9KTtcbiAgY29uc3QgdG91Y2ggPSAob2JqLCBrZXksIHNjcmlwdElkKSA9PiB7XG4gICAgaWYgKG9ialtrZXldIDwgMCkge1xuICAgICAgb2JqW2tleV0gPSAxO1xuICAgIH0gZWxzZSBpZiAoIW9ialtrZXldKSB7XG4gICAgICBvYmpba2V5XSA9IDIgKyBzY3JpcHRJZDtcbiAgICB9XG4gIH07XG4gIHN0b3JlLnNjcmlwdHMuZm9yRWFjaCgoc2NyaXB0KSA9PiB7XG4gICAgY29uc3QgeyBpZCB9ID0gc2NyaXB0LnByb3BzO1xuICAgIHRvdWNoKGNvZGVLZXlzLCBpZCwgaWQpO1xuICAgIHRvdWNoKHZhbHVlS2V5cywgaWQsIGlkKTtcbiAgICBpZiAoIXNjcmlwdC5jdXN0b20ucGF0aE1hcCkgYnVpbGRQYXRoTWFwKHNjcmlwdCk7XG4gICAgY29uc3QgeyBwYXRoTWFwIH0gPSBzY3JpcHQuY3VzdG9tO1xuICAgIHNjcmlwdC5tZXRhLnJlcXVpcmUuZm9yRWFjaCgodXJsKSA9PiB7XG4gICAgICB0b3VjaChyZXF1aXJlS2V5cywgcGF0aE1hcFt1cmxdIHx8IHVybCwgaWQpO1xuICAgIH0pO1xuICAgIHNjcmlwdC5tZXRhLnJlc291cmNlczo6Zm9yRWFjaFZhbHVlKCh1cmwpID0+IHtcbiAgICAgIHRvdWNoKGNhY2hlS2V5cywgcGF0aE1hcFt1cmxdIHx8IHVybCwgaWQpO1xuICAgIH0pO1xuICAgIGNvbnN0IHsgaWNvbiB9ID0gc2NyaXB0Lm1ldGE7XG4gICAgaWYgKGlzUmVtb3RlKGljb24pKSB7XG4gICAgICBjb25zdCBmdWxsVXJsID0gcGF0aE1hcFtpY29uXSB8fCBpY29uO1xuICAgICAgdG91Y2goY2FjaGVLZXlzLCBmdWxsVXJsLCBpZCk7XG4gICAgfVxuICB9KTtcbiAgbWFwcGluZ3MuZm9yRWFjaCgoW3N1YnN0b3JlLCBtYXBdKSA9PiB7XG4gICAgbWFwOjpmb3JFYWNoRW50cnkoKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgaWYgKHZhbHVlIDwgMCkge1xuICAgICAgICAvLyByZWR1bmRhbnQgdmFsdWVcbiAgICAgICAga2V5c1RvUmVtb3ZlLnB1c2goc3Vic3RvcmUuZ2V0S2V5KGtleSkpO1xuICAgICAgICBudW1GaXhlcyArPSAxO1xuICAgICAgfSBlbHNlIGlmICh2YWx1ZSA+PSAyICYmIHN1YnN0b3JlLmZldGNoKSB7XG4gICAgICAgIC8vIG1pc3NpbmcgcmVzb3VyY2VcbiAgICAgICAga2V5c1RvUmVtb3ZlLnB1c2goc3RvcmFnZS5tb2QuZ2V0S2V5KGtleSkpO1xuICAgICAgICB0b0ZldGNoLnB1c2goc3Vic3RvcmUuZmV0Y2goa2V5KS5jYXRjaChlcnIgPT4gYCR7XG4gICAgICAgICAgZ2V0U2NyaXB0TmFtZShnZXRTY3JpcHRCeUlkKHZhbHVlIC0gMikpXG4gICAgICAgIH06ICR7XG4gICAgICAgICAgZm9ybWF0SHR0cEVycm9yKGVycilcbiAgICAgICAgfWApKTtcbiAgICAgICAgbnVtRml4ZXMgKz0gMTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG4gIGlmIChudW1GaXhlcykge1xuICAgIGF3YWl0IHN0b3JhZ2UuYmFzZS5yZW1vdmVNdWx0aShrZXlzVG9SZW1vdmUpOyAvLyBSZW1vdmluZyBgbW9kYCBiZWZvcmUgZmV0Y2hpbmdcbiAgICByZXN1bHQuZXJyb3JzID0gKGF3YWl0IFByb21pc2UuYWxsKHRvRmV0Y2gpKS5maWx0ZXIoQm9vbGVhbik7XG4gIH1cbiAgX3ZhY3V1bWluZyA9IG51bGw7XG4gIHJlc3VsdC5maXhlcyA9IG51bUZpeGVzO1xuICByZXNvbHZlU2VsZihyZXN1bHQpO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKiogQHR5cGVkZWYgVk1TY3JpcHRcbiAqIEBwcm9wZXJ0eSB7Vk1TY3JpcHRDb25maWd9IGNvbmZpZ1xuICogQHByb3BlcnR5IHtWTVNjcmlwdEN1c3RvbX0gY3VzdG9tXG4gKiBAcHJvcGVydHkge1ZNU2NyaXB0TWV0YX0gbWV0YVxuICogQHByb3BlcnR5IHtWTVNjcmlwdFByb3BzfSBwcm9wc1xuICovXG4vKiogQHR5cGVkZWYgVk1TY3JpcHRDb25maWcgKlxuICogQHByb3BlcnR5IHtCb29sZWFufSBlbmFibGVkIC0gc3RvcmVkIGFzIDAgb3IgMVxuICogQHByb3BlcnR5IHtCb29sZWFufSByZW1vdmVkIC0gc3RvcmVkIGFzIDAgb3IgMVxuICogQHByb3BlcnR5IHtCb29sZWFufSBzaG91bGRVcGRhdGUgLSBzdG9yZWQgYXMgMCBvciAxXG4gKiBAcHJvcGVydHkge0Jvb2xlYW4gfCBudWxsfSBub3RpZnlVcGRhdGVzIC0gc3RvcmVkIGFzIDAgb3IgMSBvciBudWxsIChkZWZhdWx0KSB3aGljaCBtZWFucyBcInVzZSBnbG9iYWwgc2V0dGluZ1wiXG4gKi9cbi8qKiBAdHlwZWRlZiBWTVNjcmlwdEN1c3RvbSAqXG4gKiBAcHJvcGVydHkge3N0cmluZ30gbmFtZVxuICogQHByb3BlcnR5IHtzdHJpbmd9IGRvd25sb2FkVVJMXG4gKiBAcHJvcGVydHkge3N0cmluZ30gaG9tZXBhZ2VVUkxcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBsYXN0SW5zdGFsbFVSTFxuICogQHByb3BlcnR5IHtzdHJpbmd9IHVwZGF0ZVVSTFxuICogQHByb3BlcnR5IHsnYXV0bycgfCAncGFnZScgfCAnY29udGVudCd9IGluamVjdEludG9cbiAqIEBwcm9wZXJ0eSB7bnVsbCB8IDEgfCAwfSBub2ZyYW1lcyAtIG51bGwgb3IgYWJzZW5jZSA9PSBkZWZhdWx0IChzY3JpcHQncyB2YWx1ZSlcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nW119IGV4Y2x1ZGVcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nW119IGV4Y2x1ZGVNYXRjaFxuICogQHByb3BlcnR5IHtzdHJpbmdbXX0gaW5jbHVkZVxuICogQHByb3BlcnR5IHtzdHJpbmdbXX0gbWF0Y2hcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gb3JpZ0V4Y2x1ZGVcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gb3JpZ0V4Y2x1ZGVNYXRjaFxuICogQHByb3BlcnR5IHtib29sZWFufSBvcmlnSW5jbHVkZVxuICogQHByb3BlcnR5IHtib29sZWFufSBvcmlnTWF0Y2hcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBwYXRoTWFwXG4gKiBAcHJvcGVydHkge1ZNU2NyaXB0UnVuQXR9IHJ1bkF0XG4gKi9cbi8qKiBAdHlwZWRlZiBWTVNjcmlwdE1ldGEgKlxuICogQHByb3BlcnR5IHtzdHJpbmd9IGRlc2NyaXB0aW9uXG4gKiBAcHJvcGVydHkge3N0cmluZ30gZG93bmxvYWRVUkxcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nW119IGV4Y2x1ZGVcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nW119IGV4Y2x1ZGVNYXRjaFxuICogQHByb3BlcnR5IHtzdHJpbmdbXX0gZ3JhbnRcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBob21lcGFnZVVSTFxuICogQHByb3BlcnR5IHtzdHJpbmd9IGljb25cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nW119IGluY2x1ZGVcbiAqIEBwcm9wZXJ0eSB7J2F1dG8nIHwgJ3BhZ2UnIHwgJ2NvbnRlbnQnfSBpbmplY3RJbnRvXG4gKiBAcHJvcGVydHkge3N0cmluZ1tdfSBtYXRjaFxuICogQHByb3BlcnR5IHtzdHJpbmd9IG5hbWVzcGFjZVxuICogQHByb3BlcnR5IHtzdHJpbmd9IG5hbWVcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gbm9mcmFtZXNcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nW119IHJlcXVpcmVcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSByZXNvdXJjZXNcbiAqIEBwcm9wZXJ0eSB7Vk1TY3JpcHRSdW5BdH0gcnVuQXRcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBzdXBwb3J0VVJMXG4gKiBAcHJvcGVydHkge3N0cmluZ30gdmVyc2lvblxuICovXG4vKiogQHR5cGVkZWYgVk1TY3JpcHRQcm9wcyAqXG4gKiBAcHJvcGVydHkge251bWJlcn0gaWRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBsYXN0TW9kaWZpZWRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBsYXN0VXBkYXRlZFxuICogQHByb3BlcnR5IHtudW1iZXJ9IHBvc2l0aW9uXG4gKiBAcHJvcGVydHkge3N0cmluZ30gdXJpXG4gKiBAcHJvcGVydHkge3N0cmluZ30gdXVpZFxuICovXG4vKipcbiAqIEB0eXBlZGVmIHtcbiAgICdkb2N1bWVudC1zdGFydCcgfCAnZG9jdW1lbnQtYm9keScgfCAnZG9jdW1lbnQtZW5kJyB8ICdkb2N1bWVudC1pZGxlJ1xuIH0gVk1TY3JpcHRSdW5BdFxuICovXG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRFdmVudEVtaXR0ZXIoKSB7XG4gIGNvbnN0IGV2ZW50cyA9IHt9O1xuICByZXR1cm4geyBvbiwgb2ZmLCBmaXJlIH07XG5cbiAgZnVuY3Rpb24gb24odHlwZSwgZnVuYykge1xuICAgIGxldCBsaXN0ID0gZXZlbnRzW3R5cGVdO1xuICAgIGlmICghbGlzdCkge1xuICAgICAgbGlzdCA9IFtdO1xuICAgICAgZXZlbnRzW3R5cGVdID0gbGlzdDtcbiAgICB9XG4gICAgbGlzdC5wdXNoKGZ1bmMpO1xuICB9XG4gIGZ1bmN0aW9uIG9mZih0eXBlLCBmdW5jKSB7XG4gICAgY29uc3QgbGlzdCA9IGV2ZW50c1t0eXBlXTtcbiAgICBpZiAobGlzdCkge1xuICAgICAgY29uc3QgaSA9IGxpc3QuaW5kZXhPZihmdW5jKTtcbiAgICAgIGlmIChpID49IDApIGxpc3Quc3BsaWNlKGksIDEpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBmaXJlKHR5cGUsIGRhdGEpIHtcbiAgICBjb25zdCBsaXN0ID0gZXZlbnRzW3R5cGVdO1xuICAgIGlmIChsaXN0KSB7XG4gICAgICBsaXN0LmZvckVhY2goKGZ1bmMpID0+IHtcbiAgICAgICAgZnVuYyhkYXRhLCB0eXBlKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgcG9zdEluaXRpYWxpemUgfSBmcm9tICcuL2luaXQnO1xuaW1wb3J0IHsgY29tbWFuZHMgfSBmcm9tICcuL21lc3NhZ2UnO1xuXG5wb3N0SW5pdGlhbGl6ZS5wdXNoKCgpID0+IHtcbiAgYnJvd3Nlci5jb21tYW5kcy5vbkNvbW1hbmQuYWRkTGlzdGVuZXIoKGNtZCkgPT4ge1xuICAgIGlmIChjbWQgPT09ICduZXdTY3JpcHQnKSB7XG4gICAgICBjb21tYW5kcy5PcGVuRWRpdG9yKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHJvdXRlID0gY21kID09PSAnc2V0dGluZ3MnID8gYCMke2NtZH1gIDogJyc7XG4gICAgICBjb21tYW5kcy5UYWJPcGVuKHsgdXJsOiBgL29wdGlvbnMvaW5kZXguaHRtbCR7cm91dGV9YCB9KTtcbiAgICB9XG4gIH0pO1xufSk7XG4iLCJpbXBvcnQgeyBpMThuLCBub29wIH0gZnJvbSAnIy9jb21tb24nO1xuaW1wb3J0IHsgSU5KRUNUQUJMRV9UQUJfVVJMX1JFIH0gZnJvbSAnIy9jb21tb24vY29uc3RzJztcbmltcG9ydCB7IG9iamVjdFBpY2sgfSBmcm9tICcjL2NvbW1vbi9vYmplY3QnO1xuaW1wb3J0IGNhY2hlIGZyb20gJy4vY2FjaGUnO1xuaW1wb3J0IHsgcG9zdEluaXRpYWxpemUgfSBmcm9tICcuL2luaXQnO1xuaW1wb3J0IHsgY29tbWFuZHMsIGZvckVhY2hUYWIgfSBmcm9tICcuL21lc3NhZ2UnO1xuaW1wb3J0IHsgZ2V0T3B0aW9uLCBob29rT3B0aW9ucyB9IGZyb20gJy4vb3B0aW9ucyc7XG5pbXBvcnQgeyB0ZXN0QmxhY2tsaXN0IH0gZnJvbSAnLi90ZXN0ZXInO1xuXG4vLyBzdG9yaW5nIGluIGBjYWNoZWAgb25seSBmb3IgdGhlIGR1cmF0aW9uIG9mIHBhZ2UgbG9hZCBpbiBjYXNlIHRoZXJlIGFyZSAyKyBpZGVudGljYWwgdXJsc1xuY29uc3QgQ0FDSEVfRFVSQVRJT04gPSAxMDAwO1xuXG5PYmplY3QuYXNzaWduKGNvbW1hbmRzLCB7XG4gIGFzeW5jIEdldEltYWdlRGF0YSh1cmwpIHtcbiAgICBjb25zdCBrZXkgPSBgR2V0SW1hZ2VEYXRhOiR7dXJsfWA7XG4gICAgcmV0dXJuIGNhY2hlLmdldChrZXkpXG4gICAgICB8fCBjYWNoZS5wdXQoa2V5LCBsb2FkSW1hZ2VEYXRhKHVybCwgeyBiYXNlNjQ6IHRydWUgfSkuY2F0Y2gobm9vcCksIENBQ0hFX0RVUkFUSU9OKTtcbiAgfSxcbiAgU2V0QmFkZ2U6IHNldEJhZGdlLFxufSk7XG5cbi8vIEZpcmVmb3ggQW5kcm9pZCBkb2VzIG5vdCBzdXBwb3J0IHN1Y2ggQVBJcywgdXNlIG5vb3BcblxuY29uc3QgYnJvd3NlckFjdGlvbiA9ICgoKSA9PiB7XG4gIGNvbnN0IHsgY2hyb21lIH0gPSBnbG9iYWw7XG4gIC8vIFVzaW5nIGBjaHJvbWVgIG5hbWVzcGFjZSBpbiBvcmRlciB0byBza2lwIG91ciBicm93c2VyLmpzIHBvbHlmaWxsIGluIENocm9tZVxuICBjb25zdCBhcGkgPSBjaHJvbWUuYnJvd3NlckFjdGlvbjtcbiAgLy8gU3VwcHJlc3MgdGhlIFwibm8gdGFiIGlkXCIgZXJyb3Igd2hlbiBzZXR0aW5nIGFuIGljb24vYmFkZ2UgYXMgaXQgY2Fubm90IGJlIHJlbGlhYmx5IHByZXZlbnRlZFxuICBjb25zdCBpZ25vcmVFcnJvcnMgPSAoKSA9PiBjaHJvbWUucnVudGltZS5sYXN0RXJyb3I7XG4gIC8vIFNvbWUgbWV0aG9kcyBsaWtlIHNldEJhZGdlVGV4dCBhZGRlZCBjYWxsYmFja3Mgb25seSBpbiBDaHJvbWUgNjcrLlxuICBjb25zdCBtYWtlTWV0aG9kID0gZm4gPT4gKC4uLmFyZ3MpID0+IHtcbiAgICB0cnkge1xuICAgICAgYXBpOjpmbiguLi5hcmdzLCBpZ25vcmVFcnJvcnMpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGFwaTo6Zm4oLi4uYXJncyk7XG4gICAgfVxuICB9O1xuICByZXR1cm4gb2JqZWN0UGljayhhcGksIFtcbiAgICAnc2V0SWNvbicsXG4gICAgJ3NldEJhZGdlVGV4dCcsXG4gICAgJ3NldEJhZGdlQmFja2dyb3VuZENvbG9yJyxcbiAgICAnc2V0VGl0bGUnLFxuICBdLCBmbiA9PiAoZm4gPyBtYWtlTWV0aG9kKGZuKSA6IG5vb3ApKTtcbn0pKCk7XG5cbmNvbnN0IGJhZGdlcyA9IHt9O1xuY29uc3QgS0VZX0lTX0FQUExJRUQgPSAnaXNBcHBsaWVkJztcbmNvbnN0IEtFWV9TSE9XX0JBREdFID0gJ3Nob3dCYWRnZSc7XG5jb25zdCBLRVlfQkFER0VfQ09MT1IgPSAnYmFkZ2VDb2xvcic7XG5jb25zdCBLRVlfQkFER0VfQ09MT1JfQkxPQ0tFRCA9ICdiYWRnZUNvbG9yQmxvY2tlZCc7XG4vKiogQHR5cGUgYm9vbGVhbiAqL1xubGV0IGlzQXBwbGllZDtcbi8qKiBAdHlwZSBWTUJhZGdlTW9kZSAqL1xubGV0IHNob3dCYWRnZTtcbi8qKiBAdHlwZSBzdHJpbmcgKi9cbmxldCBiYWRnZUNvbG9yO1xuLyoqIEB0eXBlIHN0cmluZyAqL1xubGV0IGJhZGdlQ29sb3JCbG9ja2VkO1xuLyoqIEB0eXBlIHN0cmluZyAqL1xubGV0IHRpdGxlQmxhY2tsaXN0ZWQ7XG4vKiogQHR5cGUgc3RyaW5nICovXG5sZXQgdGl0bGVOb25pbmplY3RhYmxlO1xuXG4vLyBXZSdsbCBjYWNoZSB0aGUgaWNvbiBkYXRhIGluIENocm9tZSBhcyBpdCBkb2Vzbid0IGNhY2hlIHRoZSBkYXRhIGFuZCB0YWtlcyB1cCB0byA0MG1zXG4vLyBpbiBvdXIgYmFja2dyb3VuZCBwYWdlIGNvbnRleHQgdG8gc2V0IHRoZSA0IGljb24gc2l6ZXMgZm9yIGVhY2ggbmV3IHRhYiBvcGVuZWRcbmNvbnN0IGljb25DYWNoZSA9ICFJU19GSVJFRk9YICYmIHt9O1xuXG5ob29rT3B0aW9ucygoY2hhbmdlcykgPT4ge1xuICBsZXQgdjtcbiAgY29uc3Qgam9icyA9IFtdO1xuICBpZiAoKHYgPSBjaGFuZ2VzW0tFWV9JU19BUFBMSUVEXSkgIT0gbnVsbCkge1xuICAgIGlzQXBwbGllZCA9IHY7XG4gICAgc2V0SWNvbigpOyAvLyBjaGFuZ2UgdGhlIGRlZmF1bHQgaWNvblxuICAgIGpvYnMucHVzaChzZXRJY29uKTsgLy8gY2hhbmdlIHRoZSBjdXJyZW50IHRhYnMnIGljb25zXG4gIH1cbiAgaWYgKCh2ID0gY2hhbmdlc1tLRVlfU0hPV19CQURHRV0pICE9IG51bGwpIHtcbiAgICBzaG93QmFkZ2UgPSB2O1xuICAgIGpvYnMucHVzaCh1cGRhdGVCYWRnZSk7XG4gIH1cbiAgaWYgKCh2ID0gY2hhbmdlc1tLRVlfQkFER0VfQ09MT1JdKSAmJiAoYmFkZ2VDb2xvciA9IHYpXG4gIHx8ICh2ID0gY2hhbmdlc1tLRVlfQkFER0VfQ09MT1JfQkxPQ0tFRF0pICYmIChiYWRnZUNvbG9yQmxvY2tlZCA9IHYpKSB7XG4gICAgam9icy5wdXNoKHVwZGF0ZUJhZGdlQ29sb3IpO1xuICB9XG4gIGlmICgnYmxhY2tsaXN0JyBpbiBjaGFuZ2VzKSB7XG4gICAgam9icy5wdXNoKHVwZGF0ZVN0YXRlKTtcbiAgfVxuICBpZiAoam9icy5sZW5ndGgpIHtcbiAgICBmb3JFYWNoVGFiKHRhYiA9PiBqb2JzLmZvckVhY2goZm4gPT4gZm4odGFiKSkpO1xuICB9XG59KTtcblxucG9zdEluaXRpYWxpemUucHVzaCgoKSA9PiB7XG4gIGlzQXBwbGllZCA9IGdldE9wdGlvbihLRVlfSVNfQVBQTElFRCk7XG4gIHNob3dCYWRnZSA9IGdldE9wdGlvbihLRVlfU0hPV19CQURHRSk7XG4gIGJhZGdlQ29sb3IgPSBnZXRPcHRpb24oS0VZX0JBREdFX0NPTE9SKTtcbiAgYmFkZ2VDb2xvckJsb2NrZWQgPSBnZXRPcHRpb24oS0VZX0JBREdFX0NPTE9SX0JMT0NLRUQpO1xuICB0aXRsZUJsYWNrbGlzdGVkID0gaTE4bignZmFpbHVyZVJlYXNvbkJsYWNrbGlzdGVkJyk7XG4gIHRpdGxlTm9uaW5qZWN0YWJsZSA9IGkxOG4oJ2ZhaWx1cmVSZWFzb25Ob25pbmplY3RhYmxlJyk7XG4gIGZvckVhY2hUYWIodXBkYXRlU3RhdGUpO1xuICBpZiAoIWlzQXBwbGllZCkgc2V0SWNvbigpOyAvLyBzZXRzIHRoZSBkaW1tZWQgaWNvbiBhcyBkZWZhdWx0XG59KTtcblxuYnJvd3Nlci50YWJzLm9uUmVtb3ZlZC5hZGRMaXN0ZW5lcigoaWQpID0+IHtcbiAgZGVsZXRlIGJhZGdlc1tpZF07XG59KTtcblxuYnJvd3Nlci50YWJzLm9uVXBkYXRlZC5hZGRMaXN0ZW5lcigodGFiSWQsIGluZm8sIHRhYikgPT4ge1xuICBjb25zdCB7IHVybCB9ID0gaW5mbztcbiAgaWYgKGluZm8uc3RhdHVzID09PSAnbG9hZGluZydcbiAgICAgIC8vIGF0IGxlYXN0IGFib3V0Om5ld3RhYiBpbiBGaXJlZm94IG1heSBvcGVuIHdpdGhvdXQgJ2xvYWRpbmcnIHN0YXR1c1xuICAgICAgfHwgaW5mby5mYXZJY29uVXJsICYmIHRhYi51cmwuc3RhcnRzV2l0aCgnYWJvdXQ6JykpIHtcbiAgICB1cGRhdGVTdGF0ZSh0YWIsIHVybCk7XG4gIH1cbn0pO1xuXG5mdW5jdGlvbiBzZXRCYWRnZShpZHMsIHsgdGFiLCBmcmFtZUlkIH0pIHtcbiAgY29uc3QgdGFiSWQgPSB0YWIuaWQ7XG4gIGNvbnN0IGRhdGEgPSBiYWRnZXNbdGFiSWRdIHx8IHt9O1xuICBpZiAoIWRhdGEuaWRNYXAgfHwgZnJhbWVJZCA9PT0gMCkge1xuICAgIC8vIDEpIGtlZXBpbmcgZGF0YSBvYmplY3QgdG8gcHJlc2VydmUgZGF0YS5ibG9ja2VkXG4gICAgLy8gMikgJ3RvdGFsJyBhbmQgJ3VuaXF1ZScgbXVzdCBtYXRjaCBzaG93QmFkZ2UgaW4gb3B0aW9ucy1kZWZhdWx0cy5qc1xuICAgIGRhdGEudG90YWwgPSAwO1xuICAgIGRhdGEudW5pcXVlID0gMDtcbiAgICBkYXRhLmlkTWFwID0ge307XG4gICAgYmFkZ2VzW3RhYklkXSA9IGRhdGE7XG4gIH1cbiAgZGF0YS50b3RhbCArPSBpZHMubGVuZ3RoO1xuICBpZiAoaWRzKSB7XG4gICAgaWRzLmZvckVhY2goKGlkKSA9PiB7XG4gICAgICBkYXRhLmlkTWFwW2lkXSA9IDE7XG4gICAgfSk7XG4gICAgZGF0YS51bmlxdWUgPSBPYmplY3Qua2V5cyhkYXRhLmlkTWFwKS5sZW5ndGg7XG4gIH1cbiAgdXBkYXRlQmFkZ2VDb2xvcih0YWIsIGRhdGEpO1xuICB1cGRhdGVCYWRnZSh0YWIsIGRhdGEpO1xufVxuXG5mdW5jdGlvbiB1cGRhdGVCYWRnZSh0YWIsIGRhdGEgPSBiYWRnZXNbdGFiLmlkXSkge1xuICBpZiAoZGF0YSkge1xuICAgIGJyb3dzZXJBY3Rpb24uc2V0QmFkZ2VUZXh0KHtcbiAgICAgIHRleHQ6IGAke2RhdGFbc2hvd0JhZGdlXSB8fCAnJ31gLFxuICAgICAgdGFiSWQ6IHRhYi5pZCxcbiAgICB9KTtcbiAgfVxufVxuXG5mdW5jdGlvbiB1cGRhdGVCYWRnZUNvbG9yKHRhYiwgZGF0YSA9IGJhZGdlc1t0YWIuaWRdKSB7XG4gIGlmIChkYXRhKSB7XG4gICAgYnJvd3NlckFjdGlvbi5zZXRCYWRnZUJhY2tncm91bmRDb2xvcih7XG4gICAgICBjb2xvcjogZGF0YS5ibG9ja2VkID8gYmFkZ2VDb2xvckJsb2NrZWQgOiBiYWRnZUNvbG9yLFxuICAgICAgdGFiSWQ6IHRhYi5pZCxcbiAgICB9KTtcbiAgfVxufVxuXG4vLyBDaHJvbWUgNzkrIHVzZXMgcGVuZGluZ1VybCB3aGlsZSB0aGUgdGFiIGNvbm5lY3RzIHRvIHRoZSBuZXdseSBuYXZpZ2F0ZWQgVVJMXG4vLyBodHRwczovL2dyb3Vwcy5nb29nbGUuY29tL2EvY2hyb21pdW0ub3JnL2ZvcnVtLyMhdG9waWMvY2hyb21pdW0tZXh0ZW5zaW9ucy81enVfUFQwYXJsc1xuZnVuY3Rpb24gdXBkYXRlU3RhdGUodGFiLCB1cmwgPSB0YWIucGVuZGluZ1VybCB8fCB0YWIudXJsKSB7XG4gIGNvbnN0IHRhYklkID0gdGFiLmlkO1xuICBjb25zdCBpbmplY3RhYmxlID0gSU5KRUNUQUJMRV9UQUJfVVJMX1JFLnRlc3QodXJsKTtcbiAgY29uc3QgYmxhY2tsaXN0ZWQgPSBpbmplY3RhYmxlID8gdGVzdEJsYWNrbGlzdCh1cmwpIDogdW5kZWZpbmVkO1xuICBjb25zdCB0aXRsZSA9IGJsYWNrbGlzdGVkICYmIHRpdGxlQmxhY2tsaXN0ZWQgfHwgIWluamVjdGFibGUgJiYgdGl0bGVOb25pbmplY3RhYmxlIHx8ICcnO1xuICAvLyBpZiB0aGUgdXNlciB1bmJsYWNrbGlzdGVkIHRoaXMgcHJldmlvdXNseSBibG9ja2VkIHRhYiBpbiBzZXR0aW5ncyxcbiAgLy8gYnV0IGRpZG4ndCByZWxvYWQgdGhlIHRhYiB5ZXQsIHdlIG5lZWQgdG8gcmVzdG9yZSB0aGUgaWNvbiBhbmQgdGhlIHRpdGxlXG4gIGlmICh0aXRsZSB8fCAoYmFkZ2VzW3RhYklkXSB8fCB7fSkuYmxvY2tlZCkge1xuICAgIGJyb3dzZXJBY3Rpb24uc2V0VGl0bGUoeyB0aXRsZSwgdGFiSWQgfSk7XG4gICAgY29uc3QgZGF0YSA9IHRpdGxlID8geyBibG9ja2VkOiB0cnVlIH0gOiB7fTtcbiAgICBiYWRnZXNbdGFiSWRdID0gZGF0YTtcbiAgICBzZXRJY29uKHRhYiwgZGF0YSk7XG4gICAgdXBkYXRlQmFkZ2UodGFiLCBkYXRhKTtcbiAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBzZXRJY29uKHRhYiA9IHt9LCBkYXRhID0ge30pIHtcbiAgLy8gbW9kZXJuIENocm9tZSBhbmQgRmlyZWZveCB1c2UgMTYvMzIsIG90aGVyIGJyb3dzZXJzIG1heSBzdGlsbCB1c2UgMTkvMzggKGUuZy4gVml2YWxkaSlcbiAgY29uc3QgbW9kID0gZGF0YS5ibG9ja2VkICYmICdiJyB8fCAhaXNBcHBsaWVkICYmICd3JyB8fCAnJztcbiAgY29uc3QgaWNvbkRhdGEgPSB7fTtcbiAgZm9yIChjb25zdCBuIG9mIFsxNiwgMTksIDMyLCAzOF0pIHtcbiAgICBjb25zdCBwYXRoID0gYC9wdWJsaWMvaW1hZ2VzL2ljb24ke259JHttb2R9LnBuZ2A7XG4gICAgbGV0IGljb24gPSBpY29uQ2FjaGUgPyBpY29uQ2FjaGVbcGF0aF0gOiBwYXRoO1xuICAgIGlmICghaWNvbikge1xuICAgICAgaWNvbiA9IGF3YWl0IGxvYWRJbWFnZURhdGEocGF0aCk7XG4gICAgICBpY29uQ2FjaGVbcGF0aF0gPSBpY29uO1xuICAgIH1cbiAgICBpY29uRGF0YVtuXSA9IGljb247XG4gIH1cbiAgYnJvd3NlckFjdGlvbi5zZXRJY29uKHtcbiAgICB0YWJJZDogdGFiLmlkLFxuICAgIFtpY29uQ2FjaGUgPyAnaW1hZ2VEYXRhJyA6ICdwYXRoJ106IGljb25EYXRhLFxuICB9KTtcbn1cblxuZnVuY3Rpb24gbG9hZEltYWdlRGF0YShwYXRoLCB7IGJhc2U2NCB9ID0ge30pIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBjb25zdCBpbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICBpbWcuc3JjID0gcGF0aDtcbiAgICBpbWcub25sb2FkID0gKCkgPT4ge1xuICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSBpbWc7XG4gICAgICBpZiAoIXdpZHRoKSB7IC8vIEZGIHJlcG9ydHMgMCBmb3IgU1ZHXG4gICAgICAgIHJlc29sdmUocGF0aCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICBjYW52YXMud2lkdGggPSB3aWR0aDtcbiAgICAgIGNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICBjdHguZHJhd0ltYWdlKGltZywgMCwgMCwgd2lkdGgsIGhlaWdodCk7XG4gICAgICByZXNvbHZlKGJhc2U2NCA/IGNhbnZhcy50b0RhdGFVUkwoKSA6IGN0eC5nZXRJbWFnZURhdGEoMCwgMCwgd2lkdGgsIGhlaWdodCkpO1xuICAgIH07XG4gICAgaW1nLm9uZXJyb3IgPSByZWplY3Q7XG4gIH0pO1xufVxuIiwiZXhwb3J0IHsgZGVmYXVsdCBhcyBjYWNoZSB9IGZyb20gJy4vY2FjaGUnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBnZXRFdmVudEVtaXR0ZXIgfSBmcm9tICcuL2V2ZW50cyc7XG5leHBvcnQgKiBmcm9tICcuL21lc3NhZ2UnO1xuZXhwb3J0ICogZnJvbSAnLi9vcHRpb25zJztcbmV4cG9ydCAqIGZyb20gJy4vc2VhcmNoJztcbiIsImV4cG9ydCBjb25zdCBleHRlbnNpb25Sb290ID0gYnJvd3Nlci5ydW50aW1lLmdldFVSTCgnLycpO1xuXG5leHBvcnQgY29uc3QgcHJlSW5pdGlhbGl6ZSA9IFtdO1xuZXhwb3J0IGNvbnN0IHBvc3RJbml0aWFsaXplID0gW107XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpbml0aWFsaXplKG1haW4pIHtcbiAgY29uc3QgcnVuID0gaW5pdCA9PiAodHlwZW9mIGluaXQgPT09ICdmdW5jdGlvbicgPyBpbml0KCkgOiBpbml0KTtcbiAgYXdhaXQgUHJvbWlzZS5hbGwocHJlSW5pdGlhbGl6ZS5tYXAocnVuKSk7XG4gIGF3YWl0IHJ1bihtYWluKTtcbiAgYXdhaXQgUHJvbWlzZS5hbGwocG9zdEluaXRpYWxpemUubWFwKHJ1bikpO1xuICBwcmVJbml0aWFsaXplLmxlbmd0aCA9IDA7XG4gIHBvc3RJbml0aWFsaXplLmxlbmd0aCA9IDA7XG59XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuLyoqXG4gKiBjcmVkaXRzXG4gKiBodHRwczovL2dpdGh1Yi5jb20vTW9tbzcwNzU3NzA0NS9tM3U4LWRvd25sb2FkZXJcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9zaGVsbHZvbi96aC1kb3dubG9hZGVyXG4gKi9cblxuaW1wb3J0IGpCaW5hcnkgZnJvbSAnamJpbmFyeSc7XG5pbXBvcnQgTVBFR1RTIGZyb20gJ21wZWd0c190b19tcDQvbXBlZ3RzX3RvX21wNC9tcGVndHMnO1xuaW1wb3J0IG1wZWd0c190b19tcDQgZnJvbSAnbXBlZ3RzX3RvX21wNC9tcGVndHNfdG9fbXA0L2luZGV4JzsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBjYW1lbGNhc2VcbmltcG9ydCB7IEFFU0RlY3J5cHRvciB9IGZyb20gJy4vYWVzLWRlY3J5cHRvcic7XG5cbmxldCB0c0xpc3QgPSBbXTtcbmxldCBzdGF0dXNMaXN0ID0gW107XG5sZXQgbWVkaWFGaWxlTGlzdCA9IFtdO1xuXG4vLyBBRVMg6KeG6aKR6Kej5a+G6YWN572uXG5jb25zdCBBRVMgPSB7XG4gIG1ldGhvZDogJycsIC8vIOWKoOWvhueul+azlVxuICB1cmk6ICcnLCAvLyBrZXkg5omA5Zyo5paH5Lu26Lev5b6EXG4gIGl2OiAnJywgLy8g5YGP56e75YC8XG4gIGtleTogJycsIC8vIOenmOmSpVxuICBkZWNyeXB0b3I6IG51bGwsIC8vIOino+eggeWZqOWvueixoVxuICBzdHJpbmdUb0J1ZmZlcjogZnVuY3Rpb24gKHN0cikge1xuICAgIHJldHVybiBuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUoc3RyKVxuICB9LFxufVxuXG5leHBvcnQgY29uc3QgZG93bmxvYWRNM3U4ID0gZnVuY3Rpb24gKG9wdHMpIHtcbiAgLy8gY2xlYXJcbiAgdHNMaXN0ID0gW107XG4gIHN0YXR1c0xpc3QgPSBbXTtcbiAgbWVkaWFGaWxlTGlzdCA9IFtdO1xuXG4gIGNvbnN0IG0zdTggPSBvcHRzLmRhdGFbMF07XG4gIGNvbnN0IGJhc2VVcmwgPSBvcHRzLnVybDtcbiAgbGV0IGxpbWl0ID0gNTtcbiAgbTN1OC5zcGxpdCgnXFxuJykuZm9yRWFjaCgobGluZSkgPT4ge1xuICAgIGlmIChsaW1pdCA+IDAgJiYgdHNMaXN0Lmxlbmd0aCA+PSBsaW1pdCkgcmV0dXJuO1xuICAgIGlmIChsaW5lLnRvTG93ZXJDYXNlKCkuaW5kZXhPZignLnRzJykgPiAtMSkge1xuICAgICAgdHNMaXN0LnB1c2godHNVcmwobGluZSwgYmFzZVVybCkpO1xuICAgICAgc3RhdHVzTGlzdC5wdXNoKHtcbiAgICAgICAgdGl0bGU6IGxpbmUsXG4gICAgICAgIHN0YXR1czogJ2luaXQnLFxuICAgICAgfSlcbiAgICB9XG4gIH0pXG5cbiAgLy8gY29uc29sZS5sb2coJ3RzTGlzdCcsIHRzTGlzdCk7XG5cbiAgaWYgKG0zdTguaW5kZXhPZignI0VYVC1YLUtFWScpID4gLTEpIHtcbiAgICAvLyDop4bpopEgQUVTIOWKoOWvhlxuICAgIEFFUy5tZXRob2QgPSAobTN1OC5tYXRjaCgvKC4qTUVUSE9EPShbXixcXHNdKykpLykgfHwgWycnLCAnJywgJyddKVsyXVxuICAgIEFFUy51cmkgPSAobTN1OC5tYXRjaCgvKC4qVVJJPVwiKFteXCJdKykpXCIvKSB8fCBbJycsICcnLCAnJ10pWzJdXG4gICAgQUVTLnVyaSA9IHRzVXJsKEFFUy51cmksIGJhc2VVcmwpXG4gICAgQUVTLml2ID0gKG0zdTgubWF0Y2goLyguKklWPShbXixcXHNdKykpLykgfHwgWycnLCAnJywgJyddKVsyXVxuICAgIEFFUy5pdiA9IEFFUy5pdiA/IEFFUy5zdHJpbmdUb0J1ZmZlcihBRVMuaXYpIDogJydcblxuICAgIC8vIOWFiOS4i+i9veenmOmSpVxuICAgIGdldEFFUygoKSA9PiB7XG4gICAgICBkb3dubG9hZFRTKG9wdHMpO1xuICAgIH0pO1xuICB9IGVsc2UgaWYgKHRzTGlzdC5sZW5ndGggPiAwKSB7XG4gICAgLy8g5aaC5p6c6KeG6aKR5rKh5Yqg5a+G77yM5YiZ55u05o6l5LiL6L2954mH5q61XG4gICAgZG93bmxvYWRUUyhvcHRzKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zb2xlLmluZm8oJ2VtcHR5IG0zdTghJylcbiAgfVxufVxuXG5jb25zdCBnZXRBRVMgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgYWpheCh7XG4gICAgdXJsOiBBRVMudXJpLFxuICAgIHN1Y2Nlc3M6IChrZXkpID0+IHtcbiAgICAgIEFFUy5rZXkgPSBrZXlcbiAgICAgIEFFUy5kZWNyeXB0b3IgPSBuZXcgQUVTRGVjcnlwdG9yKClcbiAgICAgIEFFUy5kZWNyeXB0b3IuY29uc3RydWN0b3IoKVxuICAgICAgQUVTLmRlY3J5cHRvci5leHBhbmRLZXkoQUVTLmtleSk7XG4gICAgICBjYWxsYmFjaygpXG4gICAgfSxcbiAgICBmYWlsOiAoKSA9PiB7XG4gICAgICBjb25zb2xlLmluZm8oJ+inhumikeW3sui/m+ihjOWumuWItuWMluWKoOWvhicpXG4gICAgfSxcbiAgfSlcbn1cblxuY29uc3QgdHNVcmwgPSBmdW5jdGlvbiAodHNVcmksIGJhc2VVUkwpIHtcbiAgaWYgKHRzVXJpLnN0YXJ0c1dpdGgoJ2h0dHAnKSkge1xuICAgIHJldHVybiB0c1VyaVxuICB9IGVsc2UgaWYgKHRzVXJpWzBdID09PSAnLycpIHtcbiAgICBsZXQgZG9tYWluID0gYmFzZVVSTC5zcGxpdCgnLycpXG4gICAgcmV0dXJuIGRvbWFpblswXSArICcvLycgKyBkb21haW5bMl0gKyB0c1VyaVxuICB9IGVsc2Uge1xuICAgIGxldCBkb21haW4gPSBiYXNlVVJMLnNwbGl0KCcvJylcbiAgICBkb21haW4ucG9wKClcbiAgICByZXR1cm4gZG9tYWluLmpvaW4oJy8nKSArICcvJyArIHRzVXJpXG4gIH1cbn1cblxuLy8gdHMg54mH5q6155qEIEFFUyDop6PnoIFcbmNvbnN0IGRlY3J5cHRUcyA9IGZ1bmN0aW9uIChkYXRhLCBpbmRleCkge1xuICBsZXQgaXYgPSBBRVMuaXYgfHwgbmV3IFVpbnQ4QXJyYXkoWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIGluZGV4XSlcbiAgcmV0dXJuIEFFUy5kZWNyeXB0b3IuZGVjcnlwdChkYXRhLCAwLCBpdi5idWZmZXIgfHwgaXYsIHRydWUpXG59XG5cbi8vIOS4i+i9veWIhueJh1xuY29uc3QgZG93bmxvYWRUUyA9IGZ1bmN0aW9uIChvcHRzKSB7XG4gIGxldCBpbmRleCA9IDA7XG4gIGxldCByZXRyeSA9IDA7XG4gIGxldCBkb3dubG9hZCA9ICgpID0+IHtcbiAgICBjb25zdCBpID0gaW5kZXg7XG4gICAgaW5kZXgrKztcbiAgICBpZiAoaSA+PSB0c0xpc3QubGVuZ3RoKSB7XG4gICAgICAvLyBhbGwgc3VjY1xuICAgICAgY29uc3QgcHJvY0xpc3QgPSBzdGF0dXNMaXN0LmZpbHRlcihzID0+IFsnc3VjYycsICdsb2FkaW5nJ10uaW5jbHVkZXMocy5zdGF0dXMpKTtcbiAgICAgIGlmIChwcm9jTGlzdC5sZW5ndGggPT09IHRzTGlzdC5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAocmV0cnkgPCA1KSB7XG4gICAgICAgIC8vIHJldHJ5IGFnYWluXG4gICAgICAgIHJldHJ5ICsrO1xuICAgICAgICBpbmRleCA9IDA7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4gZG93bmxvYWQoKSwgMTAwMCk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdyZXRyeScsIHJldHJ5LCBwcm9jTGlzdC5sZW5ndGgpXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zb2xlLmxvZygnZG93bmxvYWQnLCBpKTtcbiAgICBpZiAoc3RhdHVzTGlzdFtpXSAmJiBbJ2Vycm9yJywgJ2luaXQnXS5pbmNsdWRlcyhzdGF0dXNMaXN0W2ldLnN0YXR1cykpIHtcbiAgICAgIHN0YXR1c0xpc3RbaV0uc3RhdHVzID0gJ2xvYWRpbmcnXG4gICAgICBhamF4KHtcbiAgICAgICAgdXJsOiB0c0xpc3RbaV0sXG4gICAgICAgIHN1Y2Nlc3M6IChkYXRhKSA9PiB7XG4gICAgICAgICAgc3RhdHVzTGlzdFtpXS5zdGF0dXMgPSAnc3VjYydcbiAgICAgICAgICBkZWFsVFMoZGF0YSwgaSwgb3B0cywgKCkgPT4ge1xuICAgICAgICAgICAgb3B0cy5vbnByb2dyZXNzKG1lZGlhRmlsZUxpc3QubGVuZ3RoIC8gdHNMaXN0Lmxlbmd0aClcbiAgICAgICAgICAgIGRvd25sb2FkKClcbiAgICAgICAgICB9KVxuICAgICAgICB9LFxuICAgICAgICBmYWlsOiAoZSkgPT4ge1xuICAgICAgICAgIC8vIGxldCBlcnIgPSBlLnN0YXR1c1RleHRcbiAgICAgICAgICBjb25zb2xlLmxvZyh7IGUsIGkgfSk7XG4gICAgICAgICAgLy8gdG9kbzogcmV0cnlcbiAgICAgICAgICBzdGF0dXNMaXN0W2ldLnN0YXR1cyA9ICdlcnJvcidcbiAgICAgICAgICBkb3dubG9hZCgpO1xuICAgICAgICB9XG4gICAgICB9KVxuICAgIH0gZWxzZSB7IC8vIOi3s+i/h+W3sue7j+aIkOWKn+eahOeJh+autVxuICAgICAgZG93bmxvYWQoKVxuICAgIH1cbiAgfVxuXG4gIC8vIOW5tuihjCBO57q/56iL5LiL6L29XG4gIGZvciAobGV0IGlpID0gMDsgaWkgPCAzOyBpaSsrKSB7XG4gICAgZG93bmxvYWQoKVxuICB9XG59XG5cbmNvbnN0IG1wNEJ5SmJpbmFyeSA9IChkYXRhQ2h1bmtzLCBjYWxsYmFjaykgPT4ge1xuICBjb25zdCBibG9iID0gbmV3IEJsb2IoZGF0YUNodW5rcy5tYXAoZGF0YSA9PiBuZXcgVWludDhBcnJheShkYXRhKSksIHsgdHlwZTogJ3ZpZGVvL21wMnQnIH0pO1xuICBqQmluYXJ5LmxvYWQoYmxvYiwgTVBFR1RTLCAoZXJyLCBtcGVndHMpID0+IHtcbiAgICBpZiAoZXJyKSBjb25zb2xlLmxvZyh7IGVyciB9KTtcbiAgICBjb25zdCBzdGFydCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgIGNvbnN0IG1wNE9iaiA9IG1wZWd0c190b19tcDQobXBlZ3RzKTtcbiAgICBjb25zb2xlLmxvZyhgQ29udmVydGVkIGZpbmlzaGVkLCB0aW1lIGVsYXBzZWQ6ICR7bmV3IERhdGUoKS5nZXRUaW1lKCkgLSBzdGFydH1tc2ApO1xuICAgIGNvbnN0IGRhdGEgPSB7IGRvd25sb2FkTGluazogbXA0T2JqLnRvVVJJKCd2aWRlby9tcDQnKSB9O1xuICAgIGNhbGxiYWNrKGRhdGEpO1xuICB9KTtcbn07XG5cbi8vIOWkhOeQhiB0cyDniYfmrrXvvIxBRVMg6Kej5a+G44CBbXA0IOi9rOeggVxuY29uc3QgZGVhbFRTID0gZnVuY3Rpb24gKHJhd0RhdGEsIGluZGV4LCBvcHRzLCBjYWxsYmFjaykge1xuICBjb25zdCBkYXRhID0gQUVTLnVyaSA/IGRlY3J5cHRUcyhyYXdEYXRhLCBpbmRleCkgOiByYXdEYXRhXG4gIG1lZGlhRmlsZUxpc3RbaW5kZXhdID0gZGF0YTtcbiAgaWYgKG1lZGlhRmlsZUxpc3QuZmlsdGVyKG0gPT4gbSB8fCBmYWxzZSkubGVuZ3RoID09PSB0c0xpc3QubGVuZ3RoKSB7XG4gICAgbXA0QnlKYmluYXJ5KG1lZGlhRmlsZUxpc3QsIHJlcyA9PiB7XG4gICAgICBjaHJvbWUuZG93bmxvYWRzLmRvd25sb2FkKHtcbiAgICAgICAgdXJsOiByZXMuZG93bmxvYWRMaW5rLFxuICAgICAgICBmaWxlbmFtZTogb3B0cy5maWxlTmFtZSxcbiAgICAgIH0sIGRvd25sb2FkSWQgPT4ge1xuICAgICAgICBvcHRzLm9ubG9hZCgpXG4gICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwocmVzLmRvd25sb2FkTGluayk7XG4gICAgICB9KTtcbiAgICB9KVxuICB9XG4gIGNhbGxiYWNrICYmIGNhbGxiYWNrKClcbn1cblxuY29uc3QgYWpheCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICBsZXQgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gIHhoci5yZXNwb25zZVR5cGUgPSAnYXJyYXlidWZmZXInO1xuXG4gIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHhoci5yZWFkeVN0YXRlID09PSA0KSB7XG4gICAgICBsZXQgc3RhdHVzID0geGhyLnN0YXR1cztcbiAgICAgIGlmIChzdGF0dXMgPj0gMjAwICYmIHN0YXR1cyA8IDMwMCkge1xuICAgICAgICBvcHRpb25zLnN1Y2Nlc3MgJiYgb3B0aW9ucy5zdWNjZXNzKHhoci5yZXNwb25zZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvcHRpb25zLmZhaWwgJiYgb3B0aW9ucy5mYWlsKHN0YXR1cyk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHhoci5vcGVuKFwiR0VUXCIsIG9wdGlvbnMudXJsLCB0cnVlKTtcbiAgeGhyLnNlbmQobnVsbCk7XG59IiwiaW1wb3J0IHsgZGVmYXVsdEltYWdlLCBpMThuLCBub29wIH0gZnJvbSAnIy9jb21tb24nO1xuXG5leHBvcnQgY29uc3QgY29tbWFuZHMgPSB7fTtcblxuZXhwb3J0IGZ1bmN0aW9uIG5vdGlmeShvcHRpb25zKSB7XG4gIGJyb3dzZXIubm90aWZpY2F0aW9ucy5jcmVhdGUob3B0aW9ucy5pZCB8fCAnVmlvbGVudE1vbmtleScsIHtcbiAgICB0eXBlOiAnYmFzaWMnLFxuICAgIGljb25Vcmw6IGRlZmF1bHRJbWFnZSxcbiAgICB0aXRsZTogYCR7b3B0aW9ucy50aXRsZX0gLSAke2kxOG4oJ2V4dE5hbWUnKX1gLFxuICAgIG1lc3NhZ2U6IG9wdGlvbnMuYm9keSxcbiAgICBpc0NsaWNrYWJsZTogb3B0aW9ucy5pc0NsaWNrYWJsZSxcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBicm9hZGNhc3QoZGF0YSkge1xuICBmb3JFYWNoVGFiKCh0YWIpID0+IHtcbiAgICBicm93c2VyLnRhYnMuc2VuZE1lc3NhZ2UodGFiLmlkLCBkYXRhKVxuICAgIC5jYXRjaChub29wKTtcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZW5kTWVzc2FnZU9ySWdub3JlKC4uLmFyZ3MpIHtcbiAgcmV0dXJuIGJyb3dzZXIucnVudGltZS5zZW5kTWVzc2FnZSguLi5hcmdzKS5jYXRjaChub29wKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZvckVhY2hUYWIoY2FsbGJhY2spIHtcbiAgY29uc3QgdGFicyA9IGF3YWl0IGJyb3dzZXIudGFicy5xdWVyeSh7fSk7XG4gIGxldCBpID0gMDtcbiAgZm9yIChjb25zdCB0YWIgb2YgdGFicykge1xuICAgIGNhbGxiYWNrKHRhYik7XG4gICAgaSArPSAxO1xuICAgIC8vIHdlJ2xsIHJ1biBhdCBtb3N0IHRoaXMgbWFueSB0YWJzIGluIG9uZSBldmVudCBsb29wIGN5Y2xlXG4gICAgLy8gYmVjYXVzZSBodW5kcmVkcyBvZiB0YWJzIHdvdWxkIG1ha2Ugb3VyIGV4dGVuc2lvbiBwcm9jZXNzIHVucmVzcG9uc2l2ZSxcbiAgICAvLyB0aGUgc2FtZSBwcm9jZXNzIHVzZWQgYnkgb3VyIG93biBwYWdlcyBsaWtlIHRoZSBiYWNrZ3JvdW5kIHBhZ2UsIGRhc2hib2FyZCwgb3IgcG9wdXBzXG4gICAgaWYgKGkgJSAyMCA9PT0gMCkgYXdhaXQgbmV3IFByb21pc2Uoc2V0VGltZW91dCk7XG4gIH1cbn1cbiIsImltcG9ydCB7IGkxOG4sIGRlZmF1bHRJbWFnZSwgc2VuZFRhYkNtZCB9IGZyb20gJyMvY29tbW9uJztcbmltcG9ydCB7IGNvbW1hbmRzIH0gZnJvbSAnLi9tZXNzYWdlJztcblxuY29uc3Qgb3BlbmVycyA9IHt9O1xuXG5PYmplY3QuYXNzaWduKGNvbW1hbmRzLCB7XG4gIC8qKiBAcmV0dXJuIHtQcm9taXNlPHN0cmluZz59ICovXG4gIGFzeW5jIE5vdGlmaWNhdGlvbihkYXRhLCBzcmMsIGJnRXh0cmFzKSB7XG4gICAgY29uc3Qgbm90aWZpY2F0aW9uSWQgPSBhd2FpdCBicm93c2VyLm5vdGlmaWNhdGlvbnMuY3JlYXRlKHtcbiAgICAgIHR5cGU6ICdiYXNpYycsXG4gICAgICB0aXRsZTogZGF0YS50aXRsZSB8fCAoSVNfRklSRUZPWCA/IGkxOG4oJ2V4dE5hbWUnKSA6ICcnKSwgLy8gQ2hyb21lIGFscmVhZHkgc2hvd3MgdGhlIG5hbWVcbiAgICAgIG1lc3NhZ2U6IGRhdGEudGV4dCxcbiAgICAgIGljb25Vcmw6IGRhdGEuaW1hZ2UgfHwgZGVmYXVsdEltYWdlLFxuICAgIH0pO1xuICAgIG9wZW5lcnNbbm90aWZpY2F0aW9uSWRdID0gYmdFeHRyYXM/Lm9uQ2xpY2sgfHwgc3JjLnRhYi5pZDtcbiAgICByZXR1cm4gbm90aWZpY2F0aW9uSWQ7XG4gIH0sXG4gIFJlbW92ZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25JZCkge1xuICAgIHJldHVybiBicm93c2VyLm5vdGlmaWNhdGlvbnMuY2xlYXIobm90aWZpY2F0aW9uSWQpO1xuICB9LFxufSk7XG5cbmJyb3dzZXIubm90aWZpY2F0aW9ucy5vbkNsaWNrZWQuYWRkTGlzdGVuZXIoKGlkKSA9PiB7XG4gIGNvbnN0IG9wZW5lcklkID0gb3BlbmVyc1tpZF07XG4gIGlmIChvcGVuZXJJZCA+PSAwKSB7XG4gICAgc2VuZFRhYkNtZChvcGVuZXJJZCwgJ05vdGlmaWNhdGlvbkNsaWNrJywgaWQpO1xuICB9XG4gIGlmICh0eXBlb2Ygb3BlbmVySWQgPT09ICdmdW5jdGlvbicpIHtcbiAgICBvcGVuZXJJZCgpO1xuICB9XG59KTtcblxuYnJvd3Nlci5ub3RpZmljYXRpb25zLm9uQ2xvc2VkLmFkZExpc3RlbmVyKChpZCkgPT4ge1xuICBjb25zdCBvcGVuZXJJZCA9IG9wZW5lcnNbaWRdO1xuICBkZWxldGUgb3BlbmVyc1tpZF07XG4gIGlmIChvcGVuZXJJZCA+PSAwKSB7XG4gICAgc2VuZFRhYkNtZChvcGVuZXJJZCwgJ05vdGlmaWNhdGlvbkNsb3NlJywgaWQpO1xuICB9XG59KTtcbiIsImltcG9ydCB7XG4gIGRlYm91bmNlLCBlbnN1cmVBcnJheSwgaW5pdEhvb2tzLCBub3JtYWxpemVLZXlzLFxufSBmcm9tICcjL2NvbW1vbic7XG5pbXBvcnQgeyBtYXBFbnRyeSwgb2JqZWN0R2V0LCBvYmplY3RTZXQgfSBmcm9tICcjL2NvbW1vbi9vYmplY3QnO1xuaW1wb3J0IGRlZmF1bHRzIGZyb20gJyMvY29tbW9uL29wdGlvbnMtZGVmYXVsdHMnO1xuaW1wb3J0IHsgcHJlSW5pdGlhbGl6ZSB9IGZyb20gJy4vaW5pdCc7XG5pbXBvcnQgeyBjb21tYW5kcyB9IGZyb20gJy4vbWVzc2FnZSc7XG5cbk9iamVjdC5hc3NpZ24oY29tbWFuZHMsIHtcbiAgLyoqIEByZXR1cm4ge09iamVjdH0gKi9cbiAgR2V0QWxsT3B0aW9ucygpIHtcbiAgICByZXR1cm4gY29tbWFuZHMuR2V0T3B0aW9ucyhkZWZhdWx0cyk7XG4gIH0sXG4gIC8qKiBAcmV0dXJuIHtPYmplY3R9ICovXG4gIEdldE9wdGlvbnMoZGF0YSkge1xuICAgIHJldHVybiBkYXRhOjptYXBFbnRyeSgoW2tleV0pID0+IGdldE9wdGlvbihrZXkpKTtcbiAgfSxcbiAgLyoqIEByZXR1cm4ge3ZvaWR9ICovXG4gIFNldE9wdGlvbnMoZGF0YSkge1xuICAgIGVuc3VyZUFycmF5KGRhdGEpLmZvckVhY2goaXRlbSA9PiBzZXRPcHRpb24oaXRlbS5rZXksIGl0ZW0udmFsdWUpKTtcbiAgfSxcbn0pO1xuXG5sZXQgY2hhbmdlcyA9IHt9O1xuY29uc3QgaG9va3MgPSBpbml0SG9va3MoKTtcbmNvbnN0IGNhbGxIb29rc0xhdGVyID0gZGVib3VuY2UoY2FsbEhvb2tzLCAxMDApO1xuXG5sZXQgb3B0aW9ucyA9IHt9O1xubGV0IGluaXRQZW5kaW5nID0gYnJvd3Nlci5zdG9yYWdlLmxvY2FsLmdldCgnb3B0aW9ucycpXG4udGhlbigoeyBvcHRpb25zOiBkYXRhIH0pID0+IHtcbiAgaWYgKGRhdGEgJiYgdHlwZW9mIGRhdGEgPT09ICdvYmplY3QnKSBvcHRpb25zID0gZGF0YTtcbiAgaWYgKHByb2Nlc3MuZW52LkRFQlVHKSB7XG4gICAgY29uc29sZS5sb2coJ29wdGlvbnM6Jywgb3B0aW9ucyk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxuICB9XG4gIGlmICghb2JqZWN0R2V0KG9wdGlvbnMsICd2ZXJzaW9uJykpIHtcbiAgICBzZXRPcHRpb24oJ3ZlcnNpb24nLCAxKTtcbiAgfVxuICBpbml0UGVuZGluZyA9IG51bGw7XG59KTtcbnByZUluaXRpYWxpemUucHVzaChpbml0UGVuZGluZyk7XG5cbmZ1bmN0aW9uIGZpcmVDaGFuZ2Uoa2V5cywgdmFsdWUpIHtcbiAgLy8gRmxhdHRlbmluZyBrZXkgcGF0aCBzbyB0aGUgc3Vic2NyaWJlcnMgY2FuIHVwZGF0ZSBuZXN0ZWQgdmFsdWVzIHdpdGhvdXQgb3ZlcndyaXRpbmcgdGhlIHBhcmVudFxuICBjb25zdCBrZXkgPSBrZXlzLmpvaW4oJy4nKTtcbiAgLy8gRW5zdXJpbmcgdGhlIGNvcnJlY3Qgb3JkZXIgd2hlbiB1cGRhdGVzIHdlcmUgbWl4ZWQgbGlrZSB0aGlzOiBmb28uYmFyPTE7IGZvbz17YmFyOjJ9OyBmb28uYmFyPTNcbiAgZGVsZXRlIGNoYW5nZXNba2V5XTtcbiAgY2hhbmdlc1trZXldID0gdmFsdWU7XG4gIGNhbGxIb29rc0xhdGVyKCk7XG59XG5cbmZ1bmN0aW9uIGNhbGxIb29rcygpIHtcbiAgaG9va3MuZmlyZShjaGFuZ2VzKTtcbiAgY2hhbmdlcyA9IHt9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0T3B0aW9uKGtleSwgZGVmKSB7XG4gIGNvbnN0IGtleXMgPSBub3JtYWxpemVLZXlzKGtleSk7XG4gIGNvbnN0IG1haW5LZXkgPSBrZXlzWzBdO1xuICBsZXQgdmFsdWUgPSBvcHRpb25zW21haW5LZXldO1xuICBpZiAodmFsdWUgPT0gbnVsbCkgdmFsdWUgPSBkZWZhdWx0c1ttYWluS2V5XTtcbiAgaWYgKHZhbHVlID09IG51bGwpIHZhbHVlID0gZGVmO1xuICByZXR1cm4ga2V5cy5sZW5ndGggPiAxID8gb2JqZWN0R2V0KHZhbHVlLCBrZXlzLnNsaWNlKDEpLCBkZWYpIDogdmFsdWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXREZWZhdWx0T3B0aW9uKGtleSkge1xuICByZXR1cm4gb2JqZWN0R2V0KGRlZmF1bHRzLCBrZXkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0T3B0aW9uKGtleSwgdmFsdWUpIHtcbiAgaWYgKGluaXRQZW5kaW5nKSB7XG4gICAgaW5pdFBlbmRpbmcudGhlbigoKSA9PiB7XG4gICAgICBzZXRPcHRpb24oa2V5LCB2YWx1ZSk7XG4gICAgfSk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IGtleXMgPSBub3JtYWxpemVLZXlzKGtleSk7XG4gIGNvbnN0IG9wdGlvbktleSA9IGtleXMuam9pbignLicpO1xuICBsZXQgb3B0aW9uVmFsdWUgPSB2YWx1ZTtcbiAgY29uc3QgbWFpbktleSA9IGtleXNbMF07XG4gIGlmIChtYWluS2V5IGluIGRlZmF1bHRzKSB7XG4gICAgaWYgKGtleXMubGVuZ3RoID4gMSkge1xuICAgICAgb3B0aW9uVmFsdWUgPSBvYmplY3RTZXQoZ2V0T3B0aW9uKG1haW5LZXkpLCBrZXlzLnNsaWNlKDEpLCB2YWx1ZSk7XG4gICAgfVxuICAgIG9wdGlvbnNbbWFpbktleV0gPSBvcHRpb25WYWx1ZTtcbiAgICBicm93c2VyLnN0b3JhZ2UubG9jYWwuc2V0KHsgb3B0aW9ucyB9KTtcbiAgICBmaXJlQ2hhbmdlKGtleXMsIHZhbHVlKTtcbiAgICBpZiAocHJvY2Vzcy5lbnYuREVCVUcpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdPcHRpb25zIHVwZGF0ZWQ6Jywgb3B0aW9uS2V5LCB2YWx1ZSwgb3B0aW9ucyk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY29uc3QgaG9va09wdGlvbnMgPSBob29rcy5ob29rO1xuIiwiaW1wb3J0IHsgcGFyc2VNZXRhIH0gZnJvbSAnLi9zY3JpcHQnO1xuaW1wb3J0IHN0b3JhZ2UgZnJvbSAnIy9jb21tb24vc3RvcmFnZSc7XG5cbmV4cG9ydCBkZWZhdWx0ICgpID0+IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgY29uc29sZS5pbmZvKCdVcGdyYWRlIGRhdGFiYXNlLi4uJyk7XG4gIGluaXQoKTtcbiAgZnVuY3Rpb24gaW5pdCgpIHtcbiAgICBjb25zdCByZXEgPSBpbmRleGVkREIub3BlbignVmlvbGVudG1vbmtleScsIDEpO1xuICAgIHJlcS5vbnN1Y2Nlc3MgPSAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICB0cmFuc2Zvcm0ocmVxLnJlc3VsdCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgLy8gVGhpcyBzaG91bGQgbm90IGhhcHBlbiwgYnV0IGRpZCBoYXBwZW4gaW4gRmlyZWZveC5cbiAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICB9XG4gICAgfTtcbiAgICByZXEub25lcnJvciA9IHJlamVjdDtcbiAgICByZXEub251cGdyYWRlbmVlZGVkID0gKCkgPT4ge1xuICAgICAgLy8gTm8gYXZhaWxhYmxlIHVwZ3JhZGF0aW9uXG4gICAgICByZWplY3QoKTtcbiAgICB9O1xuICB9XG4gIGZ1bmN0aW9uIHRyYW5zZm9ybShkYikge1xuICAgIGNvbnN0IHR4ID0gZGIudHJhbnNhY3Rpb24oWydzY3JpcHRzJywgJ3JlcXVpcmUnLCAnY2FjaGUnLCAndmFsdWVzJ10pO1xuICAgIGNvbnN0IHVwZGF0ZXMgPSB7fTtcbiAgICBsZXQgcHJvY2Vzc2luZyA9IDM7XG4gICAgY29uc3QgZG9uZSA9ICgpID0+IHtcbiAgICAgIHByb2Nlc3NpbmcgLT0gMTtcbiAgICAgIGlmICghcHJvY2Vzc2luZykgcmVzb2x2ZShicm93c2VyLnN0b3JhZ2UubG9jYWwuc2V0KHVwZGF0ZXMpKTtcbiAgICB9O1xuICAgIGNvbnN0IGdldEFsbCA9IChzdG9yZU5hbWUsIGNhbGxiYWNrKSA9PiB7XG4gICAgICBjb25zdCByZXEgPSB0eC5vYmplY3RTdG9yZShzdG9yZU5hbWUpLmdldEFsbCgpO1xuICAgICAgcmVxLm9uc3VjY2VzcyA9ICgpID0+IGNhbGxiYWNrKHJlcS5yZXN1bHQpO1xuICAgICAgcmVxLm9uZXJyb3IgPSByZWplY3Q7XG4gICAgfTtcbiAgICBnZXRBbGwoJ3NjcmlwdHMnLCAoYWxsU2NyaXB0cykgPT4ge1xuICAgICAgY29uc3QgdXJpTWFwID0ge307XG4gICAgICBhbGxTY3JpcHRzLmZvckVhY2goKHNjcmlwdCkgPT4ge1xuICAgICAgICBjb25zdCB7IGNvZGUsIGlkLCB1cmkgfSA9IHNjcmlwdDtcbiAgICAgICAgdXBkYXRlc1tgJHtzdG9yYWdlLnNjcmlwdC5wcmVmaXh9JHtpZH1gXSA9IHRyYW5zZm9ybVNjcmlwdChzY3JpcHQpO1xuICAgICAgICB1cGRhdGVzW2Ake3N0b3JhZ2UuY29kZS5wcmVmaXh9JHtpZH1gXSA9IGNvZGU7XG4gICAgICAgIHVyaU1hcFt1cmldID0gaWQ7XG4gICAgICB9KTtcbiAgICAgIGdldEFsbCgndmFsdWVzJywgKGFsbFZhbHVlcykgPT4ge1xuICAgICAgICBhbGxWYWx1ZXMuZm9yRWFjaCgoeyB1cmksIHZhbHVlcyB9KSA9PiB7XG4gICAgICAgICAgY29uc3QgaWQgPSB1cmlNYXBbdXJpXTtcbiAgICAgICAgICBpZiAoaWQpIHVwZGF0ZXNbYCR7c3RvcmFnZS52YWx1ZS5wcmVmaXh9JHtpZH1gXSA9IHZhbHVlcztcbiAgICAgICAgfSk7XG4gICAgICAgIGRvbmUoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGdldEFsbCgnY2FjaGUnLCAoYWxsQ2FjaGUpID0+IHtcbiAgICAgIGFsbENhY2hlLmZvckVhY2goKHsgdXJpLCBkYXRhIH0pID0+IHtcbiAgICAgICAgdXBkYXRlc1tgJHtzdG9yYWdlLmNhY2hlLnByZWZpeH0ke3VyaX1gXSA9IGRhdGE7XG4gICAgICB9KTtcbiAgICAgIGRvbmUoKTtcbiAgICB9KTtcbiAgICBnZXRBbGwoJ3JlcXVpcmUnLCAoYWxsUmVxdWlyZSkgPT4ge1xuICAgICAgYWxsUmVxdWlyZS5mb3JFYWNoKCh7IHVyaSwgY29kZSB9KSA9PiB7XG4gICAgICAgIHVwZGF0ZXNbYCR7c3RvcmFnZS5yZXF1aXJlLnByZWZpeH0ke3VyaX1gXSA9IGNvZGU7XG4gICAgICB9KTtcbiAgICAgIGRvbmUoKTtcbiAgICB9KTtcbiAgfVxuICBmdW5jdGlvbiB0cmFuc2Zvcm1TY3JpcHQoc2NyaXB0KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1ldGE6IHBhcnNlTWV0YShzY3JpcHQuY29kZSksXG4gICAgICBjdXN0b206IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICBvcmlnSW5jbHVkZTogdHJ1ZSxcbiAgICAgICAgb3JpZ0V4Y2x1ZGU6IHRydWUsXG4gICAgICAgIG9yaWdNYXRjaDogdHJ1ZSxcbiAgICAgICAgb3JpZ0V4Y2x1ZGVNYXRjaDogdHJ1ZSxcbiAgICAgIH0sIHNjcmlwdC5jdXN0b20pLFxuICAgICAgcHJvcHM6IHtcbiAgICAgICAgaWQ6IHNjcmlwdC5pZCxcbiAgICAgICAgdXJpOiBzY3JpcHQudXJpLFxuICAgICAgICBwb3NpdGlvbjogc2NyaXB0LnBvc2l0aW9uLFxuICAgICAgfSxcbiAgICAgIGNvbmZpZzoge1xuICAgICAgICBlbmFibGVkOiBzY3JpcHQuZW5hYmxlZCxcbiAgICAgICAgc2hvdWxkVXBkYXRlOiBzY3JpcHQudXBkYXRlLFxuICAgICAgfSxcbiAgICB9O1xuICB9XG59KVxuLy8gSWdub3JlIGVycm9yXG4uY2F0Y2goKCkgPT4ge30pO1xuIiwiaW1wb3J0IHsgZ2V0QWN0aXZlVGFiLCBzZW5kVGFiQ21kIH0gZnJvbSAnIy9jb21tb24nO1xuaW1wb3J0IGNhY2hlIGZyb20gJy4vY2FjaGUnO1xuaW1wb3J0IHsgZ2V0RGF0YSB9IGZyb20gJy4vZGInO1xuaW1wb3J0IHsgcG9zdEluaXRpYWxpemUgfSBmcm9tICcuL2luaXQnO1xuaW1wb3J0IHsgY29tbWFuZHMgfSBmcm9tICcuL21lc3NhZ2UnO1xuXG5leHBvcnQgY29uc3QgcG9wdXBUYWJzID0ge307IC8vIHsgdGFiSWQ6IDEgfVxuXG5wb3N0SW5pdGlhbGl6ZS5wdXNoKCgpID0+IHtcbiAgYnJvd3Nlci5ydW50aW1lLm9uQ29ubmVjdC5hZGRMaXN0ZW5lcihvblBvcHVwT3BlbmVkKTtcbiAgYnJvd3Nlci53ZWJSZXF1ZXN0Lm9uQmVmb3JlUmVxdWVzdC5hZGRMaXN0ZW5lcihwcmVmZXRjaFNldFBvcHVwLCB7XG4gICAgdXJsczogW2Jyb3dzZXIucnVudGltZS5nZXRVUkwoYnJvd3Nlci5ydW50aW1lLmdldE1hbmlmZXN0KCkuYnJvd3Nlcl9hY3Rpb24uZGVmYXVsdF9wb3B1cCldLFxuICAgIHR5cGVzOiBbJ21haW5fZnJhbWUnXSxcbiAgfSk7XG59KTtcblxuZnVuY3Rpb24gb25Qb3B1cE9wZW5lZChwb3J0KSB7XG4gIGNvbnN0IHRhYklkID0gK3BvcnQubmFtZTtcbiAgcG9wdXBUYWJzW3RhYklkXSA9IDE7XG4gIHNlbmRUYWJDbWQodGFiSWQsICdQb3B1cFNob3duJywgdHJ1ZSk7XG4gIHBvcnQub25EaXNjb25uZWN0LmFkZExpc3RlbmVyKG9uUG9wdXBDbG9zZWQpO1xuICBkZWxldGUgY29tbWFuZHMuU2V0UG9wdXA7XG59XG5cbmZ1bmN0aW9uIG9uUG9wdXBDbG9zZWQoeyBuYW1lIH0pIHtcbiAgZGVsZXRlIHBvcHVwVGFic1tuYW1lXTtcbiAgc2VuZFRhYkNtZCgrbmFtZSwgJ1BvcHVwU2hvd24nLCBmYWxzZSk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHByZWZldGNoU2V0UG9wdXAoKSB7XG4gIGNvbnN0IHRhYklkID0gKGF3YWl0IGdldEFjdGl2ZVRhYigpKS5pZDtcbiAgc2VuZFRhYkNtZCh0YWJJZCwgJ1BvcHVwU2hvd24nLCB0cnVlKTtcbiAgY29tbWFuZHMuU2V0UG9wdXAgPSBhc3luYyAoZGF0YSwgc3JjKSA9PiB7XG4gICAgT2JqZWN0LmFzc2lnbihkYXRhLCBhd2FpdCBnZXREYXRhKGRhdGEuaWRzKSk7XG4gICAgY2FjaGUucHV0KCdTZXRQb3B1cCcsIE9iamVjdC5hc3NpZ24oeyBbc3JjLmZyYW1lSWRdOiBbZGF0YSwgc3JjXSB9LCBjYWNoZS5nZXQoJ1NldFBvcHVwJykpKTtcbiAgfTtcbn1cbiIsImltcG9ydCB7IGdldFNjcmlwdE5hbWUsIGdldFVuaXFJZCB9IGZyb20gJyMvY29tbW9uJztcbmltcG9ydCB7XG4gIElOSkVDVF9BVVRPLCBJTkpFQ1RfQ09OVEVOVCwgSU5KRUNUX01BUFBJTkcsXG4gIElOSkVDVEFCTEVfVEFCX1VSTF9SRSwgTUVUQUJMT0NLX1JFLFxufSBmcm9tICcjL2NvbW1vbi9jb25zdHMnO1xuaW1wb3J0IGluaXRDYWNoZSBmcm9tICcjL2NvbW1vbi9jYWNoZSc7XG5pbXBvcnQgeyBmb3JFYWNoRW50cnksIG9iamVjdFBpY2ssIG9iamVjdFNldCB9IGZyb20gJyMvY29tbW9uL29iamVjdCc7XG5pbXBvcnQgc3RvcmFnZSBmcm9tICcjL2NvbW1vbi9zdG9yYWdlJztcbmltcG9ydCB1YSBmcm9tICcjL2NvbW1vbi91YSc7XG5pbXBvcnQgeyBnZXRTY3JpcHRzQnlVUkwsIEVOVl9DQUNIRV9LRVlTLCBFTlZfUkVRX0tFWVMsIEVOVl9WQUxVRV9JRFMgfSBmcm9tICcuL2RiJztcbmltcG9ydCB7IGV4dGVuc2lvblJvb3QsIHBvc3RJbml0aWFsaXplIH0gZnJvbSAnLi9pbml0JztcbmltcG9ydCB7IGNvbW1hbmRzIH0gZnJvbSAnLi9tZXNzYWdlJztcbmltcG9ydCB7IGdldE9wdGlvbiwgaG9va09wdGlvbnMgfSBmcm9tICcuL29wdGlvbnMnO1xuXG5jb25zdCBBUElfQ09ORklHID0ge1xuICB1cmxzOiBbJyo6Ly8qLyonXSwgLy8gYCpgIHNjaGVtZSBtYXRjaGVzIG9ubHkgaHR0cCBhbmQgaHR0cHNcbiAgdHlwZXM6IFsnbWFpbl9mcmFtZScsICdzdWJfZnJhbWUnXSxcbn07XG5jb25zdCBUSU1FX0FGVEVSX1NFTkQgPSAxMGUzOyAvLyBsb25nZXIgYXMgZXN0YWJsaXNoaW5nIGNvbm5lY3Rpb24gdG8gc2l0ZXMgbWF5IHRha2UgdGltZVxuY29uc3QgVElNRV9BRlRFUl9SRUNFSVZFID0gMWUzOyAvLyBzaG9ydGVyIGFzIHJlc3BvbnNlIGJvZHkgd2lsbCBiZSBjb21pbmcgdmVyeSBzb29uXG5jb25zdCBUSU1FX0tFRVBfREFUQSA9IDYwZTM7IC8vIDEwMG1zIHNob3VsZCBiZSBlbm91Z2ggYnV0IHRoZSB0YWIgbWF5IGhhbmcgb3IgZ2V0IHBhdXNlZCBpbiBkZWJ1Z2dlclxuY29uc3QgY2FjaGVDb2RlID0gaW5pdENhY2hlKHsgbGlmZXRpbWU6IFRJTUVfS0VFUF9EQVRBIH0pO1xuY29uc3QgY2FjaGUgPSBpbml0Q2FjaGUoe1xuICBsaWZldGltZTogVElNRV9LRUVQX0RBVEEsXG4gIG9uRGlzcG9zZTogYXN5bmMgcHJvbWlzZSA9PiB7XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHByb21pc2U7XG4gICAgY29uc3QgcmNzID0gYXdhaXQgZGF0YT8ucmNzUHJvbWlzZTtcbiAgICByY3M/LnVucmVnaXN0ZXIoKTtcbiAgfSxcbn0pO1xuY29uc3QgSU5KRUNUX0lOVE8gPSAnaW5qZWN0SW50byc7XG4vLyBLRVlfWFhYIGZvciBob29rZWQgb3B0aW9uc1xuY29uc3QgS0VZX0VYUE9TRSA9ICdleHBvc2UnO1xuY29uc3QgS0VZX0RFRl9JTkpFQ1RfSU5UTyA9ICdkZWZhdWx0SW5qZWN0SW50byc7XG5jb25zdCBLRVlfSVNfQVBQTElFRCA9ICdpc0FwcGxpZWQnO1xuY29uc3QgS0VZX1hIUl9JTkpFQ1QgPSAneGhySW5qZWN0JztcbmNvbnN0IGV4cG9zZSA9IHt9O1xubGV0IGlzQXBwbGllZDtcbmxldCBpbmplY3RJbnRvO1xubGV0IHhockluamVjdDtcbmhvb2tPcHRpb25zKG9uT3B0aW9uQ2hhbmdlZCk7XG5wb3N0SW5pdGlhbGl6ZS5wdXNoKCgpID0+IHtcbiAgZm9yIChjb25zdCBrZXkgb2YgW0tFWV9FWFBPU0UsIEtFWV9ERUZfSU5KRUNUX0lOVE8sIEtFWV9JU19BUFBMSUVELCBLRVlfWEhSX0lOSkVDVF0pIHtcbiAgICBvbk9wdGlvbkNoYW5nZWQoeyBba2V5XTogZ2V0T3B0aW9uKGtleSkgfSk7XG4gIH1cbn0pO1xuXG5PYmplY3QuYXNzaWduKGNvbW1hbmRzLCB7XG4gIGFzeW5jIEluamVjdGlvbkZlZWRiYWNrKHsgZmVlZElkLCBmZWVkYmFjaywgZm9yY2VDb250ZW50IH0sIHNyYykge1xuICAgIGZlZWRiYWNrLmZvckVhY2gocHJvY2Vzc0ZlZWRiYWNrLCBzcmMpO1xuICAgIGlmIChmZWVkSWQpIHtcbiAgICAgIC8vIGNhY2hlIGNsZWFudXAgd2hlbiBnZXREYXRhRkYgb3V0cnVucyBHZXRJbmplY3RlZFxuICAgICAgY2FjaGUuZGVsKGZlZWRJZC5jYWNoZUtleSk7XG4gICAgICAvLyBlbnZEZWxheWVkXG4gICAgICBjb25zdCBlbnYgPSBhd2FpdCBjYWNoZS5wb3AoZmVlZElkLmVudktleSk7XG4gICAgICBpZiAoZW52KSB7XG4gICAgICAgIGVudi5mb3JjZUNvbnRlbnQgPSBmb3JjZUNvbnRlbnQ7XG4gICAgICAgIGVudi5zY3JpcHRzLm1hcChwcmVwYXJlU2NyaXB0LCBlbnYpLmZpbHRlcihCb29sZWFuKS5mb3JFYWNoKHByb2Nlc3NGZWVkYmFjaywgc3JjKTtcbiAgICAgICAgcmV0dXJuIG9iamVjdFBpY2soZW52LCBbJ2NhY2hlJywgJ3NjcmlwdHMnXSk7XG4gICAgICB9XG4gICAgfVxuICB9LFxufSk7XG5cbi8qKiBAdGhpcyB7Y2hyb21lLnJ1bnRpbWUuTWVzc2FnZVNlbmRlcn0gKi9cbmZ1bmN0aW9uIHByb2Nlc3NGZWVkYmFjayhba2V5LCBuZWVkc0luamVjdGlvbl0pIHtcbiAgY29uc3QgY29kZSA9IGNhY2hlQ29kZS5wb3Aoa2V5KTtcbiAgLy8gc2VlIFRJTUVfS0VFUF9EQVRBIGNvbW1lbnRcbiAgaWYgKG5lZWRzSW5qZWN0aW9uICYmIGNvZGUpIHtcbiAgICBicm93c2VyLnRhYnMuZXhlY3V0ZVNjcmlwdCh0aGlzLnRhYi5pZCwge1xuICAgICAgY29kZSxcbiAgICAgIGZyYW1lSWQ6IHRoaXMuZnJhbWVJZCxcbiAgICAgIHJ1bkF0OiAnZG9jdW1lbnRfc3RhcnQnLFxuICAgIH0pO1xuICB9XG59XG5cbmNvbnN0IHByb3BzVG9DbGVhciA9IHtcbiAgW3N0b3JhZ2UuY2FjaGUucHJlZml4XTogRU5WX0NBQ0hFX0tFWVMsXG4gIFtzdG9yYWdlLmNvZGUucHJlZml4XTogdHJ1ZSxcbiAgW3N0b3JhZ2UucmVxdWlyZS5wcmVmaXhdOiBFTlZfUkVRX0tFWVMsXG4gIFtzdG9yYWdlLnNjcmlwdC5wcmVmaXhdOiB0cnVlLFxuICBbc3RvcmFnZS52YWx1ZS5wcmVmaXhdOiBFTlZfVkFMVUVfSURTLFxufTtcblxuYnJvd3Nlci5zdG9yYWdlLm9uQ2hhbmdlZC5hZGRMaXN0ZW5lcihhc3luYyBjaGFuZ2VzID0+IHtcbiAgY29uc3QgZGJLZXlzID0gT2JqZWN0LmtleXMoY2hhbmdlcyk7XG4gIGNvbnN0IGNhY2hlVmFsdWVzID0gYXdhaXQgUHJvbWlzZS5hbGwoY2FjaGUuZ2V0VmFsdWVzKCkpO1xuICBjb25zdCBkaXJ0eSA9IGNhY2hlVmFsdWVzLnNvbWUoZGF0YSA9PiBkYXRhLmluamVjdFxuICAgICYmIGRiS2V5cy5zb21lKChrZXkpID0+IHtcbiAgICAgIGNvbnN0IHByZWZpeCA9IGtleS5zbGljZSgwLCBrZXkuaW5kZXhPZignOicpICsgMSk7XG4gICAgICBjb25zdCBwcm9wID0gcHJvcHNUb0NsZWFyW3ByZWZpeF07XG4gICAgICBrZXkgPSBrZXkuc2xpY2UocHJlZml4Lmxlbmd0aCk7XG4gICAgICByZXR1cm4gcHJvcCA9PT0gdHJ1ZVxuICAgICAgICB8fCBkYXRhW3Byb3BdPy5pbmNsdWRlcyhwcmVmaXggPT09IHN0b3JhZ2UudmFsdWUucHJlZml4ID8gK2tleSA6IGtleSk7XG4gICAgfSkpO1xuICBpZiAoZGlydHkpIHtcbiAgICBjYWNoZS5kZXN0cm95KCk7XG4gIH1cbn0pO1xuXG5mdW5jdGlvbiBub3JtYWxpemVSZWFsbSh2YWx1ZSkge1xuICByZXR1cm4gSU5KRUNUX01BUFBJTkc6Omhhc093blByb3BlcnR5KHZhbHVlKVxuICAgID8gdmFsdWVcbiAgICA6IGluamVjdEludG8gfHwgSU5KRUNUX0FVVE87XG59XG5cbmZ1bmN0aW9uIG9uT3B0aW9uQ2hhbmdlZChjaGFuZ2VzKSB7XG4gIGNoYW5nZXM6OmZvckVhY2hFbnRyeSgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgc3dpdGNoIChrZXkpIHtcbiAgICBjYXNlIEtFWV9ERUZfSU5KRUNUX0lOVE86XG4gICAgICBpbmplY3RJbnRvID0gbm9ybWFsaXplUmVhbG0odmFsdWUpO1xuICAgICAgY2FjaGUuZGVzdHJveSgpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBLRVlfWEhSX0lOSkVDVDpcbiAgICAgIHRvZ2dsZVhockluamVjdCh2YWx1ZSk7XG4gICAgICBjYWNoZS5kZXN0cm95KCk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIEtFWV9JU19BUFBMSUVEOlxuICAgICAgdG9nZ2xlUHJlaW5qZWN0KHZhbHVlKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgS0VZX0VYUE9TRTpcbiAgICAgIHZhbHVlOjpmb3JFYWNoRW50cnkoKFtzaXRlLCBpc0V4cG9zZWRdKSA9PiB7XG4gICAgICAgIGV4cG9zZVtkZWNvZGVVUklDb21wb25lbnQoc2l0ZSldID0gaXNFeHBvc2VkO1xuICAgICAgfSk7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgaWYgKGtleS5pbmNsdWRlcygnLicpKSB7IC8vIHVzZWQgYnkgYGV4cG9zZS51cmxgXG4gICAgICAgIG9uT3B0aW9uQ2hhbmdlZChvYmplY3RTZXQoe30sIGtleSwgdmFsdWUpKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufVxuXG4vKiogQHJldHVybiB7UHJvbWlzZTxPYmplY3Q+fSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEluamVjdGVkU2NyaXB0cyh1cmwsIHRhYklkLCBmcmFtZUlkLCBmb3JjZUNvbnRlbnQpIHtcbiAgY29uc3Qga2V5ID0gZ2V0S2V5KHVybCwgIWZyYW1lSWQpO1xuICByZXR1cm4gY2FjaGUucG9wKGtleSkgfHwgcHJlcGFyZShrZXksIHVybCwgdGFiSWQsIGZyYW1lSWQsIGZvcmNlQ29udGVudCk7XG59XG5cbmZ1bmN0aW9uIGdldEtleSh1cmwsIGlzVG9wKSB7XG4gIHJldHVybiBpc1RvcCA/IHVybCA6IGAtJHt1cmx9YDtcbn1cblxuZnVuY3Rpb24gdG9nZ2xlUHJlaW5qZWN0KGVuYWJsZSkge1xuICBpc0FwcGxpZWQgPSBlbmFibGU7XG4gIC8vIFVzaW5nIG9uU2VuZEhlYWRlcnMgYmVjYXVzZSBvbkhlYWRlcnNSZWNlaXZlZCBpbiBGaXJlZm94IGZpcmVzICphZnRlciogY29udGVudCBzY3JpcHRzLlxuICAvLyBBbmQgZXZlbiBpbiBDaHJvbWUgYSBzaXRlIG1heSBiZSBzbyBmYXN0IHRoYXQgcHJlaW5qZWN0IG9uIG9uSGVhZGVyc1JlY2VpdmVkIHdvbid0IGJlIHVzZWZ1bC5cbiAgY29uc3Qgb25PZmYgPSBgJHtlbmFibGUgPyAnYWRkJyA6ICdyZW1vdmUnfUxpc3RlbmVyYDtcbiAgY29uc3QgY29uZmlnID0gZW5hYmxlID8gQVBJX0NPTkZJRyA6IHVuZGVmaW5lZDtcbiAgYnJvd3Nlci53ZWJSZXF1ZXN0Lm9uU2VuZEhlYWRlcnNbb25PZmZdKG9uU2VuZEhlYWRlcnMsIGNvbmZpZyk7XG4gIGlmICghaXNBcHBsaWVkIHx8ICF4aHJJbmplY3QpIHsgLy8gd2lsbCBiZSByZWdpc3RlcmVkIGluIHRvZ2dsZVhockluamVjdFxuICAgIGJyb3dzZXIud2ViUmVxdWVzdC5vbkhlYWRlcnNSZWNlaXZlZFtvbk9mZl0ob25IZWFkZXJzUmVjZWl2ZWQsIGNvbmZpZyk7XG4gIH1cbiAgY2FjaGUuZGVzdHJveSgpO1xufVxuXG5mdW5jdGlvbiB0b2dnbGVYaHJJbmplY3QoZW5hYmxlKSB7XG4gIHhockluamVjdCA9IGVuYWJsZTtcbiAgYnJvd3Nlci53ZWJSZXF1ZXN0Lm9uSGVhZGVyc1JlY2VpdmVkLnJlbW92ZUxpc3RlbmVyKG9uSGVhZGVyc1JlY2VpdmVkKTtcbiAgaWYgKGVuYWJsZSkge1xuICAgIGJyb3dzZXIud2ViUmVxdWVzdC5vbkhlYWRlcnNSZWNlaXZlZC5hZGRMaXN0ZW5lcihvbkhlYWRlcnNSZWNlaXZlZCwgQVBJX0NPTkZJRywgW1xuICAgICAgJ2Jsb2NraW5nJyxcbiAgICAgICdyZXNwb25zZUhlYWRlcnMnLFxuICAgICAgYnJvd3Nlci53ZWJSZXF1ZXN0Lk9uSGVhZGVyc1JlY2VpdmVkT3B0aW9ucy5FWFRSQV9IRUFERVJTLFxuICAgIF0uZmlsdGVyKEJvb2xlYW4pKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBvblNlbmRIZWFkZXJzKHsgdXJsLCB0YWJJZCwgZnJhbWVJZCB9KSB7XG4gIGlmICghSU5KRUNUQUJMRV9UQUJfVVJMX1JFLnRlc3QodXJsKSkgcmV0dXJuO1xuICBjb25zdCBpc1RvcCA9ICFmcmFtZUlkO1xuICBjb25zdCBrZXkgPSBnZXRLZXkodXJsLCBpc1RvcCk7XG4gIGlmICghY2FjaGUuaGFzKGtleSkpIHtcbiAgICAvLyBHZXRJbmplY3RlZCBtZXNzYWdlIHdpbGwgYmUgc2VudCBzb29uIGJ5IHRoZSBjb250ZW50IHNjcmlwdFxuICAgIC8vIGFuZCBpdCBtYXkgZWFzaWx5IGhhcHBlbiB3aGlsZSBnZXRTY3JpcHRzQnlVUkwgaXMgc3RpbGwgd2FpdGluZyBmb3IgYnJvd3Nlci5zdG9yYWdlXG4gICAgLy8gc28gd2UnbGwgbGV0IEdldEluamVjdGVkIGF3YWl0IHRoaXMgcGVuZGluZyBkYXRhIGJ5IHN0b3JpbmcgUHJvbWlzZSBpbiB0aGUgY2FjaGVcbiAgICBjYWNoZS5wdXQoa2V5LCBwcmVwYXJlKGtleSwgdXJsLCB0YWJJZCwgZnJhbWVJZCksIFRJTUVfQUZURVJfU0VORCk7XG4gIH1cbn1cblxuLyoqIEBwYXJhbSB7Y2hyb21lLndlYlJlcXVlc3QuV2ViUmVzcG9uc2VIZWFkZXJzRGV0YWlsc30gaW5mbyAqL1xuZnVuY3Rpb24gb25IZWFkZXJzUmVjZWl2ZWQoaW5mbykge1xuICBjb25zdCBrZXkgPSBnZXRLZXkoaW5mby51cmwsICFpbmZvLmZyYW1lSWQpO1xuICBjb25zdCBkYXRhID0geGhySW5qZWN0ICYmIGNhY2hlLmdldChrZXkpO1xuICBjYWNoZS5oaXQoa2V5LCBUSU1FX0FGVEVSX1JFQ0VJVkUpO1xuICByZXR1cm4gZGF0YT8uaW5qZWN0ICYmIHByZXBhcmVYaHJCbG9iKGluZm8sIGRhdGEpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Y2hyb21lLndlYlJlcXVlc3QuV2ViUmVzcG9uc2VIZWFkZXJzRGV0YWlsc30gaW5mb1xuICogQHBhcmFtIHtWTUdldEluamVjdGVkRGF0YUNvbnRhaW5lcn0gZGF0YVxuICovXG5mdW5jdGlvbiBwcmVwYXJlWGhyQmxvYih7IHVybCwgcmVzcG9uc2VIZWFkZXJzIH0sIGRhdGEpIHtcbiAgaWYgKHVybC5zdGFydHNXaXRoKCdodHRwczonKSAmJiBkZXRlY3RTdHJpY3RDc3AocmVzcG9uc2VIZWFkZXJzKSkge1xuICAgIGZvcmNlQ29udGVudEluamVjdGlvbihkYXRhKTtcbiAgfVxuICBjb25zdCBibG9iVXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChuZXcgQmxvYihbXG4gICAgSlNPTi5zdHJpbmdpZnkoZGF0YS5pbmplY3QpLFxuICBdKSk7XG4gIHJlc3BvbnNlSGVhZGVycy5wdXNoKHtcbiAgICBuYW1lOiAnU2V0LUNvb2tpZScsXG4gICAgdmFsdWU6IGBcIiR7cHJvY2Vzcy5lbnYuSU5JVF9GVU5DX05BTUV9XCI9JHtibG9iVXJsLnNwbGl0KCcvJykucG9wKCl9OyBTYW1lU2l0ZT1MYXhgLFxuICB9KTtcbiAgc2V0VGltZW91dChVUkwucmV2b2tlT2JqZWN0VVJMLCBUSU1FX0tFRVBfREFUQSwgYmxvYlVybCk7XG4gIHJldHVybiB7IHJlc3BvbnNlSGVhZGVycyB9O1xufVxuXG5mdW5jdGlvbiBwcmVwYXJlKGtleSwgdXJsLCB0YWJJZCwgZnJhbWVJZCwgZm9yY2VDb250ZW50KSB7XG4gIC8qKiBAbmFtZXNwYWNlIFZNR2V0SW5qZWN0ZWREYXRhQ29udGFpbmVyICovXG4gIGNvbnN0IHJlcyA9IHtcbiAgICAvKiogQG5hbWVzcGFjZSBWTUdldEluamVjdGVkRGF0YSAqL1xuICAgIGluamVjdDoge1xuICAgICAgZXhwb3NlOiAhZnJhbWVJZFxuICAgICAgICAmJiB1cmwuc3RhcnRzV2l0aCgnaHR0cHM6Ly8nKVxuICAgICAgICAmJiBleHBvc2VbdXJsLnNwbGl0KCcvJywgMylbMl1dLFxuICAgIH0sXG4gIH07XG4gIHJldHVybiBpc0FwcGxpZWRcbiAgICA/IHByZXBhcmVTY3JpcHRzKHJlcywga2V5LCB1cmwsIHRhYklkLCBmcmFtZUlkLCBmb3JjZUNvbnRlbnQpXG4gICAgOiByZXM7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHByZXBhcmVTY3JpcHRzKHJlcywgY2FjaGVLZXksIHVybCwgdGFiSWQsIGZyYW1lSWQsIGZvcmNlQ29udGVudCkge1xuICBjb25zdCBkYXRhID0gYXdhaXQgZ2V0U2NyaXB0c0J5VVJMKHVybCwgIWZyYW1lSWQpO1xuICBjb25zdCB7IGVudkRlbGF5ZWQsIHNjcmlwdHMgfSA9IGRhdGE7XG4gIGNvbnN0IGlzTGF0ZSA9IGZvcmNlQ29udGVudCAhPSBudWxsO1xuICBkYXRhLmZvcmNlQ29udGVudCA9IGZvcmNlQ29udGVudDtcbiAgY29uc3QgZmVlZGJhY2sgPSBzY3JpcHRzLm1hcChwcmVwYXJlU2NyaXB0LCBkYXRhKS5maWx0ZXIoQm9vbGVhbik7XG4gIGNvbnN0IG1vcmUgPSBlbnZEZWxheWVkLnByb21pc2U7XG4gIGNvbnN0IGVudktleSA9IGdldFVuaXFJZChgJHt0YWJJZH06JHtmcmFtZUlkfTpgKTtcbiAgY29uc3QgeyBpbmplY3QgfSA9IHJlcztcbiAgLyoqIEBuYW1lc3BhY2UgVk1HZXRJbmplY3RlZERhdGEgKi9cbiAgT2JqZWN0LmFzc2lnbihpbmplY3QsIHtcbiAgICBzY3JpcHRzLFxuICAgIFtJTkpFQ1RfSU5UT106IGluamVjdEludG8sXG4gICAgY2FjaGU6IGRhdGEuY2FjaGUsXG4gICAgZmVlZElkOiB7XG4gICAgICBjYWNoZUtleSwgLy8gSW5qZWN0aW9uRmVlZGJhY2sgY2FjaGUga2V5IGZvciBjbGVhbnVwIHdoZW4gZ2V0RGF0YUZGIG91dHJ1bnMgR2V0SW5qZWN0ZWRcbiAgICAgIGVudktleSwgLy8gSW5qZWN0aW9uRmVlZGJhY2sgY2FjaGUga2V5IGZvciBlbnZEZWxheWVkXG4gICAgfSxcbiAgICBoYXNNb3JlOiAhIW1vcmUsIC8vIHRlbGxzIGNvbnRlbnQgYnJpZGdlIHRvIGV4cGVjdCBlbnZEZWxheWVkXG4gICAgZm9yY2VDb250ZW50OiBmb3JjZUNvbnRlbnQgfHwgKCAvLyBUcnlpbmcgdG8gc2tpcCBwYWdlIHNhbmRib3ggd2hlbiB4aHJJbmplY3QgaXMgb246XG4gICAgICBmZWVkYmFjay5sZW5ndGggPT09IHNjcmlwdHMubGVuZ3RoIC8vIC4uLndoZW4gYWxsIGBlbnZTdGFydGAgc2NyaXB0cyBhcmUgYGNvbnRlbnRgLFxuICAgICAgJiYgZW52RGVsYXllZC5zY3JpcHRzLmV2ZXJ5KHNjciA9PiBpc0NvbnRlbnRSZWFsbShzY3IsIGZvcmNlQ29udGVudCkpIC8vIGFuZCBgZW52RGVsYXllZGAgdG9vLlxuICAgICksXG4gICAgaWRzOiBkYXRhLmRpc2FibGVkSWRzLCAvLyBjb250ZW50IGJyaWRnZSBhZGRzIHRoZSBhY3R1YWxseSBydW5uaW5nIGlkcyBhbmQgc2VuZHMgdmlhIFNldFBvcHVwXG4gICAgaW5mbzoge1xuICAgICAgdWEsXG4gICAgfSxcbiAgfSk7XG4gIC8qKiBAbmFtZXNwYWNlIFZNR2V0SW5qZWN0ZWREYXRhQ29udGFpbmVyICovXG4gIE9iamVjdC5hc3NpZ24ocmVzLCB7XG4gICAgZmVlZGJhY2ssXG4gICAgdmFsT3BJZHM6IFsuLi5kYXRhW0VOVl9WQUxVRV9JRFNdLCAuLi5lbnZEZWxheWVkW0VOVl9WQUxVRV9JRFNdXSxcbiAgICByY3NQcm9taXNlOiAhaXNMYXRlICYmICF4aHJJbmplY3QgJiYgSVNfRklSRUZPWFxuICAgICAgPyByZWdpc3RlclNjcmlwdERhdGFGRihpbmplY3QsIHVybCwgISFmcmFtZUlkKVxuICAgICAgOiBudWxsLFxuICB9KTtcbiAgaWYgKG1vcmUpIGNhY2hlLnB1dChlbnZLZXksIG1vcmUpO1xuICBjYWNoZS5wdXQoY2FjaGVLZXksIHJlcyk7IC8vIG5lY2Vzc2FyeSBmb3IgdGhlIHN5bmNocm9ub3VzIG9uSGVhZGVyc1JlY2VpdmVkXG4gIHJldHVybiByZXM7XG59XG5cbi8qKiBAdGhpcyB7Vk1TY3JpcHRCeVVybERhdGF9ICovXG5mdW5jdGlvbiBwcmVwYXJlU2NyaXB0KHNjcmlwdCkge1xuICBjb25zdCB7IGN1c3RvbSwgbWV0YSwgcHJvcHMgfSA9IHNjcmlwdDtcbiAgY29uc3QgeyBpZCB9ID0gcHJvcHM7XG4gIGNvbnN0IHsgZm9yY2VDb250ZW50LCByZXF1aXJlLCB2YWx1ZSB9ID0gdGhpcztcbiAgY29uc3QgY29kZSA9IHRoaXMuY29kZVtpZF07XG4gIGNvbnN0IGRhdGFLZXkgPSBnZXRVbmlxSWQoJ1ZNaW4nKTtcbiAgY29uc3QgZGlzcGxheU5hbWUgPSBnZXRTY3JpcHROYW1lKHNjcmlwdCk7XG4gIGNvbnN0IG5hbWUgPSBlbmNvZGVVUklDb21wb25lbnQoZGlzcGxheU5hbWUucmVwbGFjZSgvWyMmJywvOjs/QD0rXS9nLCByZXBsYWNlV2l0aEZ1bGxXaWR0aEZvcm0pKTtcbiAgY29uc3QgaXNDb250ZW50ID0gaXNDb250ZW50UmVhbG0oc2NyaXB0LCBmb3JjZUNvbnRlbnQpO1xuICBjb25zdCBwYXRoTWFwID0gY3VzdG9tLnBhdGhNYXAgfHwge307XG4gIGNvbnN0IHJlcXMgPSBtZXRhLnJlcXVpcmU/Lm1hcChrZXkgPT4gcmVxdWlyZVtwYXRoTWFwW2tleV0gfHwga2V5XSkuZmlsdGVyKEJvb2xlYW4pO1xuICAvLyB0cnlpbmcgdG8gYXZvaWQgcHJvZ3Jlc3NpdmUgc3RyaW5nIGNvbmNhdGVuYXRpb24gb2YgcG90ZW50aWFsbHkgaHVnZSBjb2RlIHNsaWNlc1xuICAvLyBhZGRpbmcgYDtgIG9uIGEgbmV3IGxpbmUgaW4gY2FzZSBzb21lIHJlcXVpcmVkIHNjcmlwdCBlbmRzIHdpdGggYSBsaW5lIGNvbW1lbnRcbiAgY29uc3QgcmVxc1NsaWNlcyA9IHJlcXMgPyBbXS5jb25jYXQoLi4ucmVxcy5tYXAocmVxID0+IFtyZXEsICdcXG47J10pKSA6IFtdO1xuICBjb25zdCBoYXNSZXFzID0gcmVxc1NsaWNlcy5sZW5ndGg7XG4gIGNvbnN0IGluamVjdGVkQ29kZSA9IFtcbiAgICAvLyBoaWRpbmcgbW9kdWxlIGludGVyZmFjZSBmcm9tIEByZXF1aXJlJ2Qgc2NyaXB0cyBzbyB0aGV5IGRvbid0IG1pc3Rha2VubHkgdXNlIGl0XG4gICAgYHdpbmRvdy4ke2RhdGFLZXl9PWZ1bmN0aW9uKCR7ZGF0YUtleX0pe3RyeXt3aXRoKHRoaXMpKChkZWZpbmUsbW9kdWxlLGV4cG9ydHMpPT57YCxcbiAgICAuLi5yZXFzU2xpY2VzLFxuICAgIC8vIGFkZGluZyBhIG5lc3RlZCBJSUZFIHRvIHN1cHBvcnQgJ3VzZSBzdHJpY3QnIGluIHRoZSBjb2RlIHdoZW4gdGhlcmUgYXJlIEByZXF1aXJlc1xuICAgIGhhc1JlcXMgPyAnKCgpPT57JyA6ICcnLFxuICAgIGNvZGUsXG4gICAgLy8gYWRkaW5nIGEgbmV3IGxpbmUgaW4gY2FzZSB0aGUgY29kZSBlbmRzIHdpdGggYSBsaW5lIGNvbW1lbnRcbiAgICBjb2RlLmVuZHNXaXRoKCdcXG4nKSA/ICcnIDogJ1xcbicsXG4gICAgaGFzUmVxcyA/ICd9KSgpJyA6ICcnLFxuICAgIC8vIDAgYXQgdGhlIGVuZCB0byBzdXBwcmVzcyBlcnJvcnMgYWJvdXQgbm9uLWNsb25lYWJsZSByZXN1bHQgb2YgZXhlY3V0ZVNjcmlwdCBpbiBGRlxuICAgIGB9KSgpfWNhdGNoKGUpeyR7ZGF0YUtleX0oZSl9fTswYCxcbiAgICAvLyBGaXJlZm94IGxpc3RzIC51c2VyLmpzIGFtb25nIG91ciBvd24gY29udGVudCBzY3JpcHRzIHNvIGEgc3BhY2UgYXQgc3RhcnQgd2lsbCBncm91cCB0aGVtXG4gICAgYFxcbi8vIyBzb3VyY2VVUkw9JHtleHRlbnNpb25Sb290fSR7SVNfRklSRUZPWCA/ICclMjAnIDogJyd9JHtuYW1lfS51c2VyLmpzIyR7aWR9YCxcbiAgXS5qb2luKCcnKTtcbiAgY2FjaGVDb2RlLnB1dChkYXRhS2V5LCBpbmplY3RlZENvZGUsIFRJTUVfS0VFUF9EQVRBKTtcbiAgLyoqIEBuYW1lc3BhY2UgVk1JbmplY3RlZFNjcmlwdCAqL1xuICBPYmplY3QuYXNzaWduKHNjcmlwdCwge1xuICAgIGRhdGFLZXksXG4gICAgZGlzcGxheU5hbWUsXG4gICAgLy8gY29kZSB3aWxsIGJlIGB0cnVlYCBpZiB0aGUgZGVzaXJlZCByZWFsbSBpcyBQQUdFIHdoaWNoIGlzIG5vdCBpbmplY3RhYmxlXG4gICAgY29kZTogaXNDb250ZW50ID8gJycgOiBmb3JjZUNvbnRlbnQgfHwgaW5qZWN0ZWRDb2RlLFxuICAgIG1ldGFTdHI6IGNvZGUubWF0Y2goTUVUQUJMT0NLX1JFKVsxXSB8fCAnJyxcbiAgICB2YWx1ZXM6IHZhbHVlW2lkXSB8fCBudWxsLFxuICB9KTtcbiAgcmV0dXJuIGlzQ29udGVudCAmJiBbZGF0YUtleSwgdHJ1ZV07XG59XG5cbmZ1bmN0aW9uIHJlcGxhY2VXaXRoRnVsbFdpZHRoRm9ybShzKSB7XG4gIC8vIGZ1bGx3aWR0aCByYW5nZSBzdGFydHMgYXQgMHhGRjAwLCBub3JtYWwgcmFuZ2Ugc3RhcnRzIGF0IHNwYWNlIGNoYXIgY29kZSAweDIwXG4gIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKHMuY2hhckNvZGVBdCgwKSAtIDB4MjAgKyAweEZGMDApO1xufVxuXG5jb25zdCByZXNvbHZlRGF0YUNvZGVTdHIgPSBgKCR7ZnVuY3Rpb24gXyhkYXRhKSB7XG4gIC8qIGBmdW5jdGlvbmAgaXMgcmVxdWlyZWQgdG8gY29tcGlsZSBgdGhpc2AsIGFuZCBgdGhpc2AgaXMgcmVxdWlyZWQgYmVjYXVzZSBvdXIgc2FmZS1nbG9iYWxzXG4gICAqIHNoYWRvd3MgYHdpbmRvd2Agc28gaXRzIG5hbWUgaXMgbWluaWZpZWQgYW5kIGhlbmNlIGluYWNjZXNzaWJsZSBoZXJlICovXG4gIGNvbnN0IHsgdm1SZXNvbHZlIH0gPSB0aGlzO1xuICBpZiAodm1SZXNvbHZlKSB7XG4gICAgdm1SZXNvbHZlKGRhdGEpO1xuICB9IGVsc2Uge1xuICAgIC8vIHJ1bm5pbmcgZWFybGllciB0aGFuIHRoZSBtYWluIGNvbnRlbnQgc2NyaXB0IGZvciB3aGF0ZXZlciByZWFzb25cbiAgICB0aGlzLnZtRGF0YSA9IGRhdGE7XG4gIH1cbn19KWA7XG5cbi8vIFRPRE86IHJld29yayB0aGUgd2hvbGUgdGhpbmcgdG8gcmVnaXN0ZXIgc2NyaXB0cyBpbmRpdmlkdWFsbHkgd2l0aCByZWFsIGBtYXRjaGVzYFxuZnVuY3Rpb24gcmVnaXN0ZXJTY3JpcHREYXRhRkYoaW5qZWN0LCB1cmwsIGFsbEZyYW1lcykge1xuICByZXR1cm4gYnJvd3Nlci5jb250ZW50U2NyaXB0cz8ucmVnaXN0ZXIoe1xuICAgIGFsbEZyYW1lcyxcbiAgICBqczogW3tcbiAgICAgIGNvZGU6IGAke3Jlc29sdmVEYXRhQ29kZVN0cn0oJHtKU09OLnN0cmluZ2lmeShpbmplY3QpfSlgLFxuICAgIH1dLFxuICAgIG1hdGNoZXM6IHVybC5zcGxpdCgnIycsIDEpLFxuICAgIHJ1bkF0OiAnZG9jdW1lbnRfc3RhcnQnLFxuICB9KTtcbn1cblxuLyoqIEBwYXJhbSB7Y2hyb21lLndlYlJlcXVlc3QuSHR0cEhlYWRlcltdfSByZXNwb25zZUhlYWRlcnMgKi9cbmZ1bmN0aW9uIGRldGVjdFN0cmljdENzcChyZXNwb25zZUhlYWRlcnMpIHtcbiAgcmV0dXJuIHJlc3BvbnNlSGVhZGVycy5zb21lKCh7IG5hbWUsIHZhbHVlIH0pID0+IChcbiAgICAvXmNvbnRlbnQtc2VjdXJpdHktcG9saWN5JC9pLnRlc3QobmFtZSlcbiAgICAmJiAvXi4oPyEuKid1bnNhZmUtaW5saW5lJykvLnRlc3QoIC8vIHRydWUgaWYgbm90IGVtcHR5IGFuZCB3aXRob3V0ICd1bnNhZmUtaW5saW5lJ1xuICAgICAgdmFsdWUubWF0Y2goLyg/Ol58OylcXHMqc2NyaXB0LXNyYy1lbGVtXFxzW147XSsvKVxuICAgICAgfHwgdmFsdWUubWF0Y2goLyg/Ol58OylcXHMqc2NyaXB0LXNyY1xcc1teO10rLylcbiAgICAgIHx8IHZhbHVlLm1hdGNoKC8oPzpefDspXFxzKmRlZmF1bHQtc3JjXFxzW147XSsvKVxuICAgICAgfHwgJycsXG4gICAgKVxuICApKTtcbn1cblxuLyoqIEBwYXJhbSB7Vk1HZXRJbmplY3RlZERhdGFDb250YWluZXJ9IGRhdGEgKi9cbmZ1bmN0aW9uIGZvcmNlQ29udGVudEluamVjdGlvbihkYXRhKSB7XG4gIC8qKiBAdHlwZSBWTUdldEluamVjdGVkRGF0YSAqL1xuICBjb25zdCBpbmplY3QgPSBkYXRhLmluamVjdDtcbiAgaW5qZWN0LmZvcmNlQ29udGVudCA9IHRydWU7XG4gIGluamVjdC5zY3JpcHRzLmZvckVhY2goc2NyID0+IHtcbiAgICAvLyBXaGVuIHNjcmlwdCB3YW50cyBgcGFnZWAsIHRoZSByZXN1bHQgYmVsb3cgd2lsbCBiZSBgdHJ1ZWAgc28gdGhlIHNjcmlwdCBnb2VzIGludG8gYGZhaWxlZElkc2BcbiAgICBzY3IuY29kZSA9ICFpc0NvbnRlbnRSZWFsbShzY3IsIHRydWUpIHx8ICcnO1xuICAgIGRhdGEuZmVlZGJhY2sucHVzaChbc2NyLmRhdGFLZXksIHRydWVdKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGlzQ29udGVudFJlYWxtKHNjciwgZm9yY2VDb250ZW50KSB7XG4gIGNvbnN0IHJlYWxtID0gc2NyW0lOSkVDVF9JTlRPXSB8fCAoXG4gICAgc2NyW0lOSkVDVF9JTlRPXSA9IG5vcm1hbGl6ZVJlYWxtKHNjci5jdXN0b21bSU5KRUNUX0lOVE9dIHx8IHNjci5tZXRhW0lOSkVDVF9JTlRPXSlcbiAgKTtcbiAgcmV0dXJuIHJlYWxtID09PSBJTkpFQ1RfQ09OVEVOVCB8fCBmb3JjZUNvbnRlbnQgJiYgcmVhbG0gPT09IElOSkVDVF9BVVRPO1xufVxuIiwiaW1wb3J0IHtcbiAgYmxvYjJiYXNlNjQsIGJ1ZmZlcjJzdHJpbmcsIGdldFVuaXFJZCwgcmVxdWVzdCwgaTE4biwgaXNFbXB0eSwgbm9vcCwgc2VuZFRhYkNtZCxcbiAgc3RyaW5nMnVpbnQ4YXJyYXksXG59IGZyb20gJyMvY29tbW9uJztcbmltcG9ydCB7IGZvckVhY2hFbnRyeSwgb2JqZWN0UGljayB9IGZyb20gJyMvY29tbW9uL29iamVjdCc7XG5pbXBvcnQgdWEgZnJvbSAnIy9jb21tb24vdWEnO1xuaW1wb3J0IGNhY2hlIGZyb20gJy4vY2FjaGUnO1xuaW1wb3J0IHsgaXNVc2VyU2NyaXB0LCBwYXJzZU1ldGEgfSBmcm9tICcuL3NjcmlwdCc7XG5pbXBvcnQgeyBleHRlbnNpb25Sb290IH0gZnJvbSAnLi9pbml0JztcbmltcG9ydCB7IGNvbW1hbmRzIH0gZnJvbSAnLi9tZXNzYWdlJztcbmltcG9ydCB7IGRvd25sb2FkTTN1OCB9IGZyb20gJy4vbTN1OCc7XG5cbmNvbnN0IFZNX1ZFUklGWSA9ICdWTS1WZXJpZnknO1xuY29uc3QgQ09ORklSTV9VUkxfQkFTRSA9IGAke2V4dGVuc2lvblJvb3R9Y29uZmlybS9pbmRleC5odG1sI2A7XG4vKiogQHR5cGUge09iamVjdDxzdHJpbmcsVk1IdHRwUmVxdWVzdD59ICovXG5jb25zdCByZXF1ZXN0cyA9IHt9O1xuY29uc3QgZG93bmxvYWRzID0ge307XG5jb25zdCB2ZXJpZnkgPSB7fTtcbmNvbnN0IHRhYlJlcXVlc3RzID0ge307XG5jb25zdCB7IGNocm9tZSB9ID0gZ2xvYmFsO1xubGV0IGVuY29kZXI7XG5cbmlmIChjaHJvbWUpIHtcbiAgY2hyb21lLmRvd25sb2Fkcy5vbkNoYW5nZWQuYWRkTGlzdGVuZXIoZXZ0ID0+IHtcbiAgICBjb25zb2xlLmluZm8oJ2Rvd25sb2FkcyBvbkNoYW5nZWQnLCBldnQpO1xuICAgIGlmICghZG93bmxvYWRzW2V2dC5pZF0pIHJldHVybjtcbiAgICBjb25zdCB7IHJlcSwgc3JjIH0gPSBkb3dubG9hZHNbZXZ0LmlkXTtcbiAgICBjb25zdCB7IHRhYjogeyBpZDogdGFiSWQgfSwgZnJhbWVJZCB9ID0gc3JjO1xuXG4gICAgaWYgKGV2dC5zdGF0ZT8uY3VycmVudCA9PT0gJ2NvbXBsZXRlJykge1xuICAgICAgc2VuZFRhYkNtZCh0YWJJZCwgJ0h0dHBSZXF1ZXN0ZWQnLCB7XG4gICAgICAgIHR5cGU6ICdsb2FkJywgaWQ6IHJlcS5pZCwgZG93bmxvYWRJZDogZXZ0LmlkLFxuICAgICAgfSwgeyBmcmFtZUlkIH0pO1xuICAgIH0gZWxzZSBpZiAoZXZ0LnN0YXRlPy5jdXJyZW50ID09PSAnaW50ZXJydXB0ZWQnKSB7XG4gICAgICBzZW5kVGFiQ21kKHRhYklkLCAnSHR0cFJlcXVlc3RlZCcsIHtcbiAgICAgICAgdHlwZTogJ2Vycm9yJywgaWQ6IHJlcS5pZCwgZG93bmxvYWRJZDogZXZ0LmlkLFxuICAgICAgfSwgeyBmcmFtZUlkIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGRlbGV0ZSBkb3dubG9hZHNbZXZ0LmlkXTtcbiAgICBkZWxldGUgcmVxdWVzdHNbcmVxLmlkXTtcbiAgfSk7XG59XG5cbk9iamVjdC5hc3NpZ24oY29tbWFuZHMsIHtcbiAgQ29uZmlybUluc3RhbGw6IGNvbmZpcm1JbnN0YWxsLFxuICBhc3luYyBDaGVja0luc3RhbGxlclRhYih0YWJJZCwgc3JjKSB7XG4gICAgY29uc3QgdGFiID0gSVNfRklSRUZPWCAmJiAoc3JjLnVybCB8fCAnJykuc3RhcnRzV2l0aCgnZmlsZTonKVxuICAgICAgJiYgYXdhaXQgYnJvd3Nlci50YWJzLmdldCh0YWJJZCkuY2F0Y2gobm9vcCk7XG4gICAgcmV0dXJuIHRhYiAmJiAodGFiLnBlbmRpbmdVcmwgfHwgdGFiLnVybCB8fCAnJykuc3RhcnRzV2l0aChDT05GSVJNX1VSTF9CQVNFKTtcbiAgfSxcbiAgLyoqIEByZXR1cm4ge3ZvaWR9ICovXG4gIEh0dHBSZXF1ZXN0KG9wdHMsIHNyYykge1xuICAgIGNvbnN0IHsgdGFiOiB7IGlkOiB0YWJJZCB9LCBmcmFtZUlkIH0gPSBzcmM7XG4gICAgY29uc3QgeyBpZCwgZXZlbnRzVG9Ob3RpZnkgfSA9IG9wdHM7XG5cbiAgICBjb25zb2xlLmluZm8oJ3JlcSBvcHRzJywgb3B0cyk7XG5cbiAgICBpZiAob3B0cy50eXBlID09PSAnbTN1OCcpIHtcbiAgICAgIGNvbnN0IGRvd25sb2FkSWQgPSBpZDsgLy8gYSBmYWtlIG9uZVxuICAgICAgb3B0cy5vbnByb2dyZXNzID0gKHByb2dyZXNzKSA9PiB7XG4gICAgICAgIGlmIChldmVudHNUb05vdGlmeT8uaW5jbHVkZXMoJ3Byb2dyZXNzJykpIHtcbiAgICAgICAgICBzZW5kVGFiQ21kKHRhYklkLCAnSHR0cFJlcXVlc3RlZCcsIHsgdHlwZTogJ3Byb2dyZXNzJywgaWQsIGRvd25sb2FkSWQsIHByb2dyZXNzIH0sIHsgZnJhbWVJZCB9KTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIG9wdHMub25sb2FkID0gKCkgPT4ge1xuICAgICAgICBzZW5kVGFiQ21kKHRhYklkLCAnSHR0cFJlcXVlc3RlZCcsIHsgdHlwZTogJ2xvYWQnLCBpZCwgZG93bmxvYWRJZCB9LCB7IGZyYW1lSWQgfSk7XG4gICAgICB9O1xuICAgICAgb3B0cy5vbmVycm9yID0gKGVycm9yKSA9PiB7XG4gICAgICAgIHNlbmRUYWJDbWQodGFiSWQsICdIdHRwUmVxdWVzdGVkJywgeyB0eXBlOiAnZXJyb3InLCBpZCwgZG93bmxvYWRJZCwgZXJyb3IgfSwgeyBmcmFtZUlkIH0pO1xuICAgICAgfTtcbiAgICAgIHJldHVybiBkb3dubG9hZE0zdTgob3B0cyk7XG4gICAgfVxuXG4gICAgLy8gaWYgKCFvcHRzLmhlYWRlcnMuUmVmZXJlciAmJiAhb3B0cy5oZWFkZXJzWydVc2VyLUFnZW50J10pIHtcbiAgICAvLyAgIC8vIGNvbnNvbGUuaW5mbyhvcHRzKTtcbiAgICAvLyAgIGxldCBoZWFkZXJzID0gW107XG4gICAgLy8gICBpZiAob3B0cy5oZWFkZXJzKSB7XG4gICAgLy8gICAgIGhlYWRlcnMgPSBPYmplY3Qua2V5cyhvcHRzLmhlYWRlcnMpLm1hcChuYW1lID0+ICh7IG5hbWUsIHZhbHVlOiBvcHRzLmhlYWRlcnNbbmFtZV0gfSkpO1xuICAgIC8vICAgfVxuICAgIC8vICAgcmV0dXJuIGNocm9tZS5kb3dubG9hZHMuZG93bmxvYWQoe1xuICAgIC8vICAgICB1cmw6IG9wdHMudXJsLFxuICAgIC8vICAgICBoZWFkZXJzLFxuICAgIC8vICAgICBmaWxlbmFtZTogb3B0cy5maWxlTmFtZSxcbiAgICAvLyAgIH0sIGRvd25sb2FkSWQgPT4ge1xuICAgIC8vICAgICByZXF1ZXN0c1tpZF0gPSB7IGlkLCBkb3dubG9hZElkLCB0YWJJZCwgZXZlbnRzVG9Ob3RpZnksIHhocjogbnVsbCB9O1xuICAgIC8vICAgICBkb3dubG9hZHNbZG93bmxvYWRJZF0gPSB7IHJlcTogcmVxdWVzdHNbaWRdLCBvcHRzLCBzcmMgfTtcbiAgICAvLyAgICAgaWYgKGV2ZW50c1RvTm90aWZ5Py5pbmNsdWRlcygncHJvZ3Jlc3MnKSkge1xuICAgIC8vICAgICAgIHNlbmRUYWJDbWQodGFiSWQsICdIdHRwUmVxdWVzdGVkJywgeyB0eXBlOiAncHJvZ3Jlc3MnLCBpZCwgZG93bmxvYWRJZCB9LCB7IGZyYW1lSWQgfSk7XG4gICAgLy8gICAgIH1cbiAgICAvLyAgIH0pO1xuICAgIC8vIH1cblxuICAgIHJlcXVlc3RzW2lkXSA9IHtcbiAgICAgIGlkLFxuICAgICAgdGFiSWQsXG4gICAgICBldmVudHNUb05vdGlmeSxcbiAgICAgIHhocjogbmV3IFhNTEh0dHBSZXF1ZXN0KCksXG4gICAgfTtcbiAgICAodGFiUmVxdWVzdHNbdGFiSWRdIHx8ICh0YWJSZXF1ZXN0c1t0YWJJZF0gPSB7fSkpW2lkXSA9IDE7XG4gICAgaHR0cFJlcXVlc3Qob3B0cywgc3JjLCByZXMgPT4gcmVxdWVzdHNbaWRdICYmIChcbiAgICAgIHNlbmRUYWJDbWQodGFiSWQsICdIdHRwUmVxdWVzdGVkJywgcmVzLCB7IGZyYW1lSWQgfSlcbiAgICApKTtcbiAgfSxcbiAgLyoqIEByZXR1cm4ge3ZvaWR9ICovXG4gIEFib3J0UmVxdWVzdChpZCkge1xuICAgIGNvbnN0IHJlcSA9IHJlcXVlc3RzW2lkXTtcbiAgICBpZiAocmVxKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgICAgIGlmIChjaHJvbWUpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICAgICAgIGNocm9tZS5kb3dubG9hZHMuY2FuY2VsKHJlcS5pZCk7XG4gICAgICAgIGRlbGV0ZSByZXF1ZXN0c1tyZXEuaWRdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVxLnhoci5hYm9ydCgpO1xuICAgICAgICBjbGVhclJlcXVlc3QocmVxKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIFJldm9rZUJsb2IodXJsKSB7XG4gICAgY29uc3QgdGltZXIgPSBjYWNoZS5wb3AoYHhockJsb2I6JHt1cmx9YCk7XG4gICAgaWYgKHRpbWVyKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgICAgVVJMLnJldm9rZU9iamVjdFVSTCh1cmwpO1xuICAgIH1cbiAgfSxcbn0pO1xuXG5jb25zdCBzcGVjaWFsSGVhZGVycyA9IFtcbiAgJ3VzZXItYWdlbnQnLFxuICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL0dsb3NzYXJ5L0ZvcmJpZGRlbl9oZWFkZXJfbmFtZVxuICAvLyBodHRwczovL2NzLmNocm9taXVtLm9yZy8/cT1maWxlOmNjK3N5bWJvbDpJc0ZvcmJpZGRlbkhlYWRlciU1Q2JcbiAgJ2FjY2VwdC1jaGFyc2V0JyxcbiAgJ2FjY2VwdC1lbmNvZGluZycsXG4gICdhY2Nlc3MtY29udHJvbC1yZXF1ZXN0LWhlYWRlcnMnLFxuICAnYWNjZXNzLWNvbnRyb2wtcmVxdWVzdC1tZXRob2QnLFxuICAnY29ubmVjdGlvbicsXG4gICdjb250ZW50LWxlbmd0aCcsXG4gICdjb29raWUnLFxuICAnY29va2llMicsXG4gICdkYXRlJyxcbiAgJ2RudCcsXG4gICdleHBlY3QnLFxuICAnaG9zdCcsXG4gICdrZWVwLWFsaXZlJyxcbiAgJ29yaWdpbicsXG4gICdyZWZlcmVyJyxcbiAgJ3RlJyxcbiAgJ3RyYWlsZXInLFxuICAndHJhbnNmZXItZW5jb2RpbmcnLFxuICAndXBncmFkZScsXG4gICd2aWEnLFxuXTtcbi8vIGNvbnN0IHRhc2tzID0ge307XG5jb25zdCBIZWFkZXJJbmplY3RvciA9ICgoKSA9PiB7XG4gIC8qKiBAdHlwZSBjaHJvbWUud2ViUmVxdWVzdC5SZXF1ZXN0RmlsdGVyICovXG4gIGNvbnN0IGFwaUZpbHRlciA9IHtcbiAgICB1cmxzOiBbJzxhbGxfdXJscz4nXSxcbiAgICB0eXBlczogWyd4bWxodHRwcmVxdWVzdCddLFxuICB9O1xuICBjb25zdCBFWFRSQV9IRUFERVJTID0gW1xuICAgIGJyb3dzZXIud2ViUmVxdWVzdC5PbkJlZm9yZVNlbmRIZWFkZXJzT3B0aW9ucy5FWFRSQV9IRUFERVJTLFxuICBdLmZpbHRlcihCb29sZWFuKTtcbiAgY29uc3QgaGVhZGVyc1RvSW5qZWN0ID0ge307XG4gIC8qKiBAcGFyYW0ge2Nocm9tZS53ZWJSZXF1ZXN0Lkh0dHBIZWFkZXJ9IGhlYWRlciAqL1xuICBjb25zdCBpc1ZtVmVyaWZ5ID0gaGVhZGVyID0+IGhlYWRlci5uYW1lID09PSBWTV9WRVJJRlk7XG4gIGNvbnN0IGlzTm90Q29va2llID0gaGVhZGVyID0+ICEvXmNvb2tpZTI/JC9pLnRlc3QoaGVhZGVyLm5hbWUpO1xuICBjb25zdCBpc1NlbmRhYmxlID0gaGVhZGVyID0+IGhlYWRlci5uYW1lICE9PSBWTV9WRVJJRlk7XG4gIGNvbnN0IGlzU2VuZGFibGVBbm9uID0gaGVhZGVyID0+IGlzU2VuZGFibGUoaGVhZGVyKSAmJiBpc05vdENvb2tpZShoZWFkZXIpO1xuICBjb25zdCBSRV9TRVRfQ09PS0lFID0gL15zZXQtY29va2llMj8kL2k7XG4gIGNvbnN0IFJFX1NFVF9DT09LSUVfVkFMVUUgPSAvXlxccyooPzpfXyhTZWN1cmV8SG9zdCktKT8oW149XFxzXSspXFxzKj1cXHMqKFwiKT8oWyEjLStcXC0tOjwtW1xcXS1+XSopXFwzKC4qKS87XG4gIGNvbnN0IFJFX1NFVF9DT09LSUVfQVRUUiA9IC9cXHMqOz9cXHMqKFxcdyspKD86PShcIik/KFshIy0rXFwtLTo8LVtcXF0tfl0qKVxcMik/L3k7XG4gIGNvbnN0IFNBTUVfU0lURV9NQVAgPSB7XG4gICAgc3RyaWN0OiAnc3RyaWN0JyxcbiAgICBsYXg6ICdsYXgnLFxuICAgIG5vbmU6ICdub19yZXN0cmljdGlvbicsXG4gIH07XG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaGVhZGVyVmFsdWVcbiAgICogQHBhcmFtIHtWTUh0dHBSZXF1ZXN0fSByZXFcbiAgICogQHBhcmFtIHtzdHJpbmd9IHVybFxuICAgKi9cbiAgY29uc3Qgc2V0Q29va2llSW5TdG9yZSA9IChoZWFkZXJWYWx1ZSwgcmVxLCB1cmwpID0+IHtcbiAgICBsZXQgbSA9IFJFX1NFVF9DT09LSUVfVkFMVUUuZXhlYyhoZWFkZXJWYWx1ZSk7XG4gICAgaWYgKG0pIHtcbiAgICAgIGNvbnN0IFssIHByZWZpeCwgbmFtZSwgLCB2YWx1ZSwgb3B0U3RyXSA9IG07XG4gICAgICBjb25zdCBvcHQgPSB7fTtcbiAgICAgIGNvbnN0IGlzSG9zdCA9IHByZWZpeCA9PT0gJ0hvc3QnO1xuICAgICAgUkVfU0VUX0NPT0tJRV9BVFRSLmxhc3RJbmRleCA9IDA7XG4gICAgICB3aGlsZSAoKG0gPSBSRV9TRVRfQ09PS0lFX0FUVFIuZXhlYyhvcHRTdHIpKSkge1xuICAgICAgICBvcHRbbVsxXS50b0xvd2VyQ2FzZSgpXSA9IG1bM107XG4gICAgICB9XG4gICAgICBjb25zdCBzYW1lU2l0ZSA9IG9wdC5zYW1lU2l0ZT8udG9Mb3dlckNhc2UoKTtcbiAgICAgIGJyb3dzZXIuY29va2llcy5zZXQoe1xuICAgICAgICB1cmwsXG4gICAgICAgIG5hbWUsXG4gICAgICAgIHZhbHVlLFxuICAgICAgICBkb21haW46IGlzSG9zdCA/IHVuZGVmaW5lZCA6IG9wdC5kb21haW4sXG4gICAgICAgIGV4cGlyYXRpb25EYXRlOiBNYXRoLm1heCgwLCArbmV3IERhdGUob3B0WydtYXgtYWdlJ10gKiAxMDAwIHx8IG9wdC5leHBpcmVzKSkgfHwgdW5kZWZpbmVkLFxuICAgICAgICBodHRwT25seTogJ2h0dHBvbmx5JyBpbiBvcHQsXG4gICAgICAgIHBhdGg6IGlzSG9zdCA/ICcvJyA6IG9wdC5wYXRoLFxuICAgICAgICBzYW1lU2l0ZTogU0FNRV9TSVRFX01BUFtzYW1lU2l0ZV0sXG4gICAgICAgIHNlY3VyZTogdXJsLnN0YXJ0c1dpdGgoJ2h0dHBzOicpICYmICghIXByZWZpeCB8fCBzYW1lU2l0ZSA9PT0gJ25vbmUnIHx8ICdzZWN1cmUnIGluIG9wdCksXG4gICAgICAgIHN0b3JlSWQ6IHJlcS5zdG9yZUlkLFxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuICBjb25zdCBhcGlFdmVudHMgPSB7XG4gICAgb25CZWZvcmVTZW5kSGVhZGVyczoge1xuICAgICAgb3B0aW9uczogWydyZXF1ZXN0SGVhZGVycycsICdibG9ja2luZycsIC4uLkVYVFJBX0hFQURFUlNdLFxuICAgICAgLyoqIEBwYXJhbSB7Y2hyb21lLndlYlJlcXVlc3QuV2ViUmVxdWVzdEhlYWRlcnNEZXRhaWxzfSBkZXRhaWxzICovXG4gICAgICBsaXN0ZW5lcih7IHJlcXVlc3RIZWFkZXJzOiBoZWFkZXJzLCByZXF1ZXN0SWQgfSkge1xuICAgICAgICAvLyBvbmx5IHRoZSBmaXJzdCBjYWxsIGR1cmluZyBhIHJlZGlyZWN0L2F1dGggY2hhaW4gd2lsbCBoYXZlIFZNLVZlcmlmeSBoZWFkZXJcbiAgICAgICAgY29uc3QgcmVxSWQgPSBoZWFkZXJzLmZpbmQoaXNWbVZlcmlmeSk/LnZhbHVlIHx8IHZlcmlmeVtyZXF1ZXN0SWRdO1xuICAgICAgICBjb25zdCByZXEgPSByZXFJZCAmJiByZXF1ZXN0c1tyZXFJZF07XG4gICAgICAgIGlmIChyZXFJZCAmJiByZXEpIHtcbiAgICAgICAgICB2ZXJpZnlbcmVxdWVzdElkXSA9IHJlcUlkO1xuICAgICAgICAgIHJlcS5jb3JlSWQgPSByZXF1ZXN0SWQ7XG4gICAgICAgICAgaGVhZGVycyA9IChyZXEubm9OYXRpdmVDb29raWUgPyBoZWFkZXJzLmZpbHRlcihpc05vdENvb2tpZSkgOiBoZWFkZXJzKVxuICAgICAgICAgIC5jb25jYXQoaGVhZGVyc1RvSW5qZWN0W3JlcUlkXSB8fCBbXSlcbiAgICAgICAgICAuZmlsdGVyKHJlcS5hbm9ueW1vdXMgPyBpc1NlbmRhYmxlQW5vbiA6IGlzU2VuZGFibGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHJlcXVlc3RIZWFkZXJzOiBoZWFkZXJzIH07XG4gICAgICB9LFxuICAgIH0sXG4gICAgb25IZWFkZXJzUmVjZWl2ZWQ6IHtcbiAgICAgIG9wdGlvbnM6IFsncmVzcG9uc2VIZWFkZXJzJywgJ2Jsb2NraW5nJywgLi4uRVhUUkFfSEVBREVSU10sXG4gICAgICAvKiogQHBhcmFtIHtjaHJvbWUud2ViUmVxdWVzdC5XZWJSZXF1ZXN0SGVhZGVyc0RldGFpbHN9IGRldGFpbHMgKi9cbiAgICAgIGxpc3RlbmVyKHsgcmVzcG9uc2VIZWFkZXJzOiBoZWFkZXJzLCByZXF1ZXN0SWQsIHVybCB9KSB7XG4gICAgICAgIGNvbnN0IHJlcSA9IHJlcXVlc3RzW3ZlcmlmeVtyZXF1ZXN0SWRdXTtcbiAgICAgICAgaWYgKHJlcSkge1xuICAgICAgICAgIGlmIChyZXEuYW5vbnltb3VzIHx8IHJlcS5zdG9yZUlkKSB7XG4gICAgICAgICAgICBoZWFkZXJzID0gaGVhZGVycy5maWx0ZXIoaCA9PiAoXG4gICAgICAgICAgICAgICFSRV9TRVRfQ09PS0lFLnRlc3QoaC5uYW1lKVxuICAgICAgICAgICAgICB8fCAhcmVxLnN0b3JlSWRcbiAgICAgICAgICAgICAgfHwgc2V0Q29va2llSW5TdG9yZShoLnZhbHVlLCByZXEsIHVybClcbiAgICAgICAgICAgICkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXEucmVzcG9uc2VIZWFkZXJzID0gaGVhZGVycy5tYXAoZW5jb2RlV2ViUmVxdWVzdEhlYWRlcikuam9pbignJyk7XG4gICAgICAgICAgcmV0dXJuIHsgcmVzcG9uc2VIZWFkZXJzOiBoZWFkZXJzIH07XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgfSxcbiAgfTtcbiAgLy8gQ2hyb21lIDc0LTkxIG5lZWRzIGFuIGV4dHJhSGVhZGVycyBsaXN0ZW5lciBhdCB0YWIgbG9hZCBzdGFydCwgaHR0cHM6Ly9jcmJ1Zy5jb20vMTA3NDI4MlxuICAvLyBXZSdyZSBhdHRhY2hpbmcgYSBuby1vcCBpbiBub24tYmxvY2tpbmcgbW9kZSBzbyBpdCdzIHZlcnkgbGlnaHR3ZWlnaHQgYW5kIGZhc3QuXG4gIGlmICh1YS5jaHJvbWUgPj0gNzQgJiYgdWEuY2hyb21lIDw9IDkxKSB7XG4gICAgYnJvd3Nlci53ZWJSZXF1ZXN0Lm9uQmVmb3JlU2VuZEhlYWRlcnMuYWRkTGlzdGVuZXIobm9vcCwgYXBpRmlsdGVyLCBbJ2V4dHJhSGVhZGVycyddKTtcbiAgfVxuICByZXR1cm4ge1xuICAgIGFkZChyZXFJZCwgaGVhZGVycykge1xuICAgICAgLy8gbmVlZCB0byBzZXQgdGhlIGVudHJ5IGV2ZW4gaWYgaXQncyBlbXB0eSBbXSBzbyB0aGF0ICdpZicgY2hlY2sgaW4gZGVsKCkgcnVucyBvbmx5IG9uY2VcbiAgICAgIGhlYWRlcnNUb0luamVjdFtyZXFJZF0gPSBoZWFkZXJzO1xuICAgICAgLy8gbmVlZCB0aGUgbGlzdGVuZXIgdG8gZ2V0IHRoZSByZXF1ZXN0SWRcbiAgICAgIGFwaUV2ZW50czo6Zm9yRWFjaEVudHJ5KChbbmFtZSwgeyBsaXN0ZW5lciwgb3B0aW9ucyB9XSkgPT4ge1xuICAgICAgICBicm93c2VyLndlYlJlcXVlc3RbbmFtZV0uYWRkTGlzdGVuZXIobGlzdGVuZXIsIGFwaUZpbHRlciwgb3B0aW9ucyk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGRlbChyZXFJZCkge1xuICAgICAgaWYgKHJlcUlkIGluIGhlYWRlcnNUb0luamVjdCkge1xuICAgICAgICBkZWxldGUgaGVhZGVyc1RvSW5qZWN0W3JlcUlkXTtcbiAgICAgICAgaWYgKGlzRW1wdHkoaGVhZGVyc1RvSW5qZWN0KSkge1xuICAgICAgICAgIGFwaUV2ZW50czo6Zm9yRWFjaEVudHJ5KChbbmFtZSwgeyBsaXN0ZW5lciB9XSkgPT4ge1xuICAgICAgICAgICAgYnJvd3Nlci53ZWJSZXF1ZXN0W25hbWVdLnJlbW92ZUxpc3RlbmVyKGxpc3RlbmVyKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gIH07XG59KSgpO1xuXG4vKiAxTUIgdGFrZXMgfjIwbXMgdG8gZW5jb2RlL2RlY29kZSBzbyBpdCBkb2Vzbid0IGJsb2NrIHRoZSBwcm9jZXNzIG9mIHRoZSBleHRlbnNpb24gYW5kIHdlYiBwYWdlLFxuICogd2hpY2ggbGV0cyB1cyBhbmQgdGhlbSBiZSByZXNwb25zaXZlIHRvIG90aGVyIGV2ZW50cyBvciB1c2VyIGlucHV0LiAqL1xuY29uc3QgQ0hVTktfU0laRSA9IDFlNjtcblxuYXN5bmMgZnVuY3Rpb24gYmxvYjJjaHVuayhyZXNwb25zZSwgaW5kZXgpIHtcbiAgcmV0dXJuIGJsb2IyYmFzZTY0KHJlc3BvbnNlLCBpbmRleCAqIENIVU5LX1NJWkUsIENIVU5LX1NJWkUpO1xufVxuXG5mdW5jdGlvbiBibG9iMm9iamVjdFVybChyZXNwb25zZSkge1xuICBjb25zdCB1cmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKHJlc3BvbnNlKTtcbiAgY2FjaGUucHV0KGB4aHJCbG9iOiR7dXJsfWAsIHNldFRpbWVvdXQoY29tbWFuZHMuUmV2b2tlQmxvYiwgNjBlMywgdXJsKSwgNjFlMyk7XG4gIHJldHVybiB1cmw7XG59XG5cbi8qKiBAcGFyYW0ge1ZNSHR0cFJlcXVlc3R9IHJlcSAqL1xuZnVuY3Rpb24geGhyQ2FsbGJhY2tXcmFwcGVyKHJlcSkge1xuICBsZXQgbGFzdFByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKTtcbiAgbGV0IGNvbnRlbnRUeXBlO1xuICBsZXQgZGF0YVNpemU7XG4gIGxldCBudW1DaHVua3M7XG4gIGxldCByZXNwb25zZTtcbiAgbGV0IHJlc3BvbnNlVGV4dDtcbiAgbGV0IHJlc3BvbnNlSGVhZGVycztcbiAgbGV0IHNlbnQgPSBmYWxzZTtcbiAgY29uc3QgeyBpZCwgYmxvYmJlZCwgY2h1bmtlZCwgeGhyIH0gPSByZXE7XG4gIC8vIENocm9tZSBlbmNvZGVzIG1lc3NhZ2VzIHRvIFVURjggc28gdGhleSBjYW4gZ3JvdyB1cCB0byA0eCBidXQgNjRNQiBpcyB0aGUgbWVzc2FnZSBzaXplIGxpbWl0XG4gIGNvbnN0IGdldENodW5rID0gYmxvYmJlZCAmJiBibG9iMm9iamVjdFVybCB8fCBjaHVua2VkICYmIGJsb2IyY2h1bms7XG4gIGNvbnN0IGdldFJlc3BvbnNlSGVhZGVycyA9ICgpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gcmVxLnJlc3BvbnNlSGVhZGVycyB8fCB4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCk7XG4gICAgaWYgKHJlc3BvbnNlSGVhZGVycyAhPT0gaGVhZGVycykge1xuICAgICAgcmVzcG9uc2VIZWFkZXJzID0gaGVhZGVycztcbiAgICAgIHJldHVybiB7IHJlc3BvbnNlSGVhZGVycyB9O1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIChldnQpID0+IHtcbiAgICBjb25zdCB0eXBlID0gZXZ0LnR5cGU7XG4gICAgaWYgKCFjb250ZW50VHlwZSkge1xuICAgICAgY29udGVudFR5cGUgPSB4aHIuZ2V0UmVzcG9uc2VIZWFkZXIoJ0NvbnRlbnQtVHlwZScpIHx8ICdhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0nO1xuICAgIH1cbiAgICBpZiAoeGhyLnJlc3BvbnNlICE9PSByZXNwb25zZSkge1xuICAgICAgcmVzcG9uc2UgPSB4aHIucmVzcG9uc2U7XG4gICAgICBzZW50ID0gZmFsc2U7XG4gICAgICB0cnkge1xuICAgICAgICByZXNwb25zZVRleHQgPSB4aHIucmVzcG9uc2VUZXh0O1xuICAgICAgICBpZiAocmVzcG9uc2VUZXh0ID09PSByZXNwb25zZSkgcmVzcG9uc2VUZXh0ID0gWydzYW1lJ107XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIC8vIGlnbm9yZSBpZiByZXNwb25zZVRleHQgaXMgdW5yZWFjaGFibGVcbiAgICAgIH1cbiAgICAgIGlmICgoYmxvYmJlZCB8fCBjaHVua2VkKSAmJiByZXNwb25zZSkge1xuICAgICAgICBkYXRhU2l6ZSA9IHJlc3BvbnNlLnNpemU7XG4gICAgICAgIG51bUNodW5rcyA9IGNodW5rZWQgJiYgTWF0aC5jZWlsKGRhdGFTaXplIC8gQ0hVTktfU0laRSkgfHwgMTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3Qgc2hvdWxkTm90aWZ5ID0gcmVxLmV2ZW50c1RvTm90aWZ5LmluY2x1ZGVzKHR5cGUpO1xuICAgIC8vIG9ubHkgc2VuZCByZXNwb25zZSB3aGVuIFhIUiBpcyBjb21wbGV0ZVxuICAgIGNvbnN0IHNob3VsZFNlbmRSZXNwb25zZSA9IHhoci5yZWFkeVN0YXRlID09PSA0ICYmIHNob3VsZE5vdGlmeSAmJiAhc2VudDtcbiAgICBsYXN0UHJvbWlzZSA9IGxhc3RQcm9taXNlLnRoZW4oYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKHNob3VsZFNlbmRSZXNwb25zZSAmJiBibG9iYmVkICYmIHJlcS5maWxlTmFtZSAmJiBjaHJvbWUpIHtcbiAgICAgICAgc2VudCA9IHRydWU7XG4gICAgICAgIGNvbnN0IGJsb2JVcmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKHJlc3BvbnNlKTtcbiAgICAgICAgcmV0dXJuIGNocm9tZS5kb3dubG9hZHMuZG93bmxvYWQoe1xuICAgICAgICAgIHVybDogYmxvYlVybCxcbiAgICAgICAgICBmaWxlbmFtZTogcmVxLmZpbGVOYW1lLFxuICAgICAgICB9LCBkb3dubG9hZElkID0+IHtcbiAgICAgICAgICByZXEuY2Ioe1xuICAgICAgICAgICAgYmxvYmJlZCxcbiAgICAgICAgICAgIGNodW5rZWQsXG4gICAgICAgICAgICBjb250ZW50VHlwZSxcbiAgICAgICAgICAgIGRhdGFTaXplLFxuICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgZGF0YTogeyBmaW5hbFVybDogeGhyLnJlc3BvbnNlVVJMLCByZXNwb25zZTogJycsIHJlc3BvbnNlVGV4dDogZG93bmxvYWRJZCB9LFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwoYmxvYlVybCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBhd2FpdCByZXEuY2Ioe1xuICAgICAgICBibG9iYmVkLFxuICAgICAgICBjaHVua2VkLFxuICAgICAgICBjb250ZW50VHlwZSxcbiAgICAgICAgZGF0YVNpemUsXG4gICAgICAgIGlkLFxuICAgICAgICBudW1DaHVua3MsXG4gICAgICAgIHR5cGUsXG4gICAgICAgIGRhdGE6IHNob3VsZE5vdGlmeSAmJiB7XG4gICAgICAgICAgZmluYWxVcmw6IHhoci5yZXNwb25zZVVSTCxcbiAgICAgICAgICAuLi5nZXRSZXNwb25zZUhlYWRlcnMoKSxcbiAgICAgICAgICAuLi5vYmplY3RQaWNrKHhociwgWydyZWFkeVN0YXRlJywgJ3N0YXR1cycsICdzdGF0dXNUZXh0J10pLFxuICAgICAgICAgIC4uLignbG9hZGVkJyBpbiBldnQpICYmIG9iamVjdFBpY2soZXZ0LCBbJ2xlbmd0aENvbXB1dGFibGUnLCAnbG9hZGVkJywgJ3RvdGFsJ10pLFxuICAgICAgICAgIHJlc3BvbnNlOiBzaG91bGRTZW5kUmVzcG9uc2VcbiAgICAgICAgICAgID8gbnVtQ2h1bmtzICYmIGF3YWl0IGdldENodW5rKHJlc3BvbnNlLCAwKSB8fCByZXNwb25zZVxuICAgICAgICAgICAgOiBudWxsLFxuICAgICAgICAgIHJlc3BvbnNlVGV4dDogc2hvdWxkU2VuZFJlc3BvbnNlXG4gICAgICAgICAgICA/IHJlc3BvbnNlVGV4dFxuICAgICAgICAgICAgOiBudWxsLFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgICBpZiAoc2hvdWxkU2VuZFJlc3BvbnNlKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgbnVtQ2h1bmtzOyBpICs9IDEpIHtcbiAgICAgICAgICBhd2FpdCByZXEuY2Ioe1xuICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICBjaHVuazoge1xuICAgICAgICAgICAgICBwb3M6IGkgKiBDSFVOS19TSVpFLFxuICAgICAgICAgICAgICBkYXRhOiBhd2FpdCBnZXRDaHVuayhyZXNwb25zZSwgaSksXG4gICAgICAgICAgICAgIGxhc3Q6IGkgKyAxID09PSBudW1DaHVua3MsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAodHlwZSA9PT0gJ2xvYWRlbmQnKSB7XG4gICAgICAgIGNsZWFyUmVxdWVzdChyZXEpO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xufVxuXG5mdW5jdGlvbiBpc1NwZWNpYWxIZWFkZXIobG93ZXJIZWFkZXIpIHtcbiAgcmV0dXJuIHNwZWNpYWxIZWFkZXJzLmluY2x1ZGVzKGxvd2VySGVhZGVyKVxuICAgIHx8IGxvd2VySGVhZGVyLnN0YXJ0c1dpdGgoJ3Byb3h5LScpXG4gICAgfHwgbG93ZXJIZWFkZXIuc3RhcnRzV2l0aCgnc2VjLScpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzXG4gKiBAcGFyYW0ge2Nocm9tZS5ydW50aW1lLk1lc3NhZ2VTZW5kZXIgfCBicm93c2VyLnJ1bnRpbWUuTWVzc2FnZVNlbmRlcn0gc3JjXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYlxuICovXG5hc3luYyBmdW5jdGlvbiBodHRwUmVxdWVzdChvcHRzLCBzcmMsIGNiKSB7XG4gIGNvbnN0IHsgdGFiIH0gPSBzcmM7XG4gIGNvbnN0IHsgaW5jb2duaXRvIH0gPSB0YWI7XG4gIGNvbnN0IHsgYW5vbnltb3VzLCBpZCwgb3ZlcnJpZGVNaW1lVHlwZSwgeGhyVHlwZSwgdXJsIH0gPSBvcHRzO1xuICBjb25zdCByZXEgPSByZXF1ZXN0c1tpZF07XG4gIGlmICghcmVxIHx8IHJlcS5jYikgcmV0dXJuO1xuICByZXEuY2IgPSBjYjtcbiAgcmVxLmZpbGVOYW1lID0gb3B0cy5maWxlTmFtZTtcbiAgcmVxLmFub255bW91cyA9IGFub255bW91cztcbiAgY29uc3QgeyB4aHIgfSA9IHJlcTtcbiAgY29uc3Qgdm1IZWFkZXJzID0gW107XG4gIC8vIEZpcmVmb3ggY2FuIHNlbmQgQmxvYi9BcnJheUJ1ZmZlciBkaXJlY3RseVxuICBjb25zdCBjaHVua2VkID0gIUlTX0ZJUkVGT1ggJiYgaW5jb2duaXRvO1xuICBjb25zdCBibG9iYmVkID0geGhyVHlwZSAmJiAhSVNfRklSRUZPWCAmJiAhaW5jb2duaXRvO1xuICBjb25zdCBbYm9keSwgY29udGVudFR5cGVdID0gZGVjb2RlQm9keShvcHRzLmRhdGEpO1xuICAvLyBDaHJvbWUgY2FuJ3QgZmV0Y2ggQmxvYiBVUkwgaW4gaW5jb2duaXRvIHNvIHdlIHVzZSBjaHVua3NcbiAgcmVxLmJsb2JiZWQgPSBibG9iYmVkO1xuICByZXEuY2h1bmtlZCA9IGNodW5rZWQ7XG4gIC8vIEZpcmVmb3ggZG9lc24ndCBzZW5kIGNvb2tpZXMsIGh0dHBzOi8vZ2l0aHViLmNvbS92aW9sZW50bW9ua2V5L3Zpb2xlbnRtb25rZXkvaXNzdWVzLzYwNlxuICAvLyBCb3RoIENocm9tZSAmIEZGIG5lZWQgZXhwbGljaXQgcm91dGluZyBvZiBjb29raWVzIGluIGNvbnRhaW5lcnMgb3IgaW5jb2duaXRvXG4gIGxldCBzaG91bGRTZW5kQ29va2llcyA9ICFhbm9ueW1vdXMgJiYgKGluY29nbml0byB8fCBJU19GSVJFRk9YKTtcbiAgeGhyLm9wZW4ob3B0cy5tZXRob2QgfHwgJ0dFVCcsIHVybCwgdHJ1ZSwgb3B0cy51c2VyIHx8ICcnLCBvcHRzLnBhc3N3b3JkIHx8ICcnKTtcbiAgeGhyLnNldFJlcXVlc3RIZWFkZXIoVk1fVkVSSUZZLCBpZCk7XG4gIGlmIChjb250ZW50VHlwZSkgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ0NvbnRlbnQtVHlwZScsIGNvbnRlbnRUeXBlKTtcbiAgb3B0cy5oZWFkZXJzOjpmb3JFYWNoRW50cnkoKFtuYW1lLCB2YWx1ZV0pID0+IHtcbiAgICBjb25zdCBsb3dlck5hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKGlzU3BlY2lhbEhlYWRlcihsb3dlck5hbWUpKSB7XG4gICAgICB2bUhlYWRlcnMucHVzaCh7IG5hbWUsIHZhbHVlIH0pO1xuICAgIH0gZWxzZSBpZiAoIWxvd2VyTmFtZS5zdGFydHNXaXRoKCd2bS0nKSkge1xuICAgICAgLy8gYFZNLWAgaGVhZGVycyBhcmUgcmVzZXJ2ZWRcbiAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKG5hbWUsIHZhbHVlKTtcbiAgICB9XG4gICAgaWYgKGxvd2VyTmFtZSA9PT0gJ2Nvb2tpZScpIHtcbiAgICAgIHNob3VsZFNlbmRDb29raWVzID0gZmFsc2U7XG4gICAgfVxuICB9KTtcbiAgeGhyLnJlc3BvbnNlVHlwZSA9IChjaHVua2VkIHx8IGJsb2JiZWQpICYmICdibG9iJyB8fCB4aHJUeXBlIHx8ICd0ZXh0JztcbiAgeGhyLnRpbWVvdXQgPSBNYXRoLm1heCgwLCBNYXRoLm1pbigweDdGRkZfRkZGRiwgb3B0cy50aW1lb3V0KSkgfHwgMDtcbiAgaWYgKG92ZXJyaWRlTWltZVR5cGUpIHhoci5vdmVycmlkZU1pbWVUeXBlKG92ZXJyaWRlTWltZVR5cGUpO1xuICBpZiAoc2hvdWxkU2VuZENvb2tpZXMpIHtcbiAgICByZXEubm9OYXRpdmVDb29raWUgPSB0cnVlO1xuICAgIGZvciAoY29uc3Qgc3RvcmUgb2YgYXdhaXQgYnJvd3Nlci5jb29raWVzLmdldEFsbENvb2tpZVN0b3JlcygpKSB7XG4gICAgICBpZiAoc3RvcmUudGFiSWRzLmluY2x1ZGVzKHRhYi5pZCkpIHtcbiAgICAgICAgaWYgKElTX0ZJUkVGT1ggPyBzdG9yZS5pZCAhPT0gJ2ZpcmVmb3gtZGVmYXVsdCcgOiBzdG9yZS5pZCAhPT0gJzAnKSB7XG4gICAgICAgICAgLyogQ29va2llIHJvdXRpbmcuIEZvciB0aGUgbWFpbiBzdG9yZSB3ZSByZWx5IG9uIHRoZSBicm93c2VyLlxuICAgICAgICAgICAqIFRoZSBpZHMgYXJlIGhhcmQtY29kZWQgYXMgYHN0b3Jlc2AgbWF5IG9taXQgdGhlIG1haW4gc3RvcmUgaWYgbm8gc3VjaCB0YWJzIGFyZSBvcGVuLiAqL1xuICAgICAgICAgIHJlcS5zdG9yZUlkID0gc3RvcmUuaWQ7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCkgLyAxMDAwO1xuICAgIGNvbnN0IGNvb2tpZXMgPSAoYXdhaXQgYnJvd3Nlci5jb29raWVzLmdldEFsbCh7XG4gICAgICB1cmwsXG4gICAgICBzdG9yZUlkOiByZXEuc3RvcmVJZCxcbiAgICAgIC4uLnVhLmZpcmVmb3ggPj0gNTkgJiYgeyBmaXJzdFBhcnR5RG9tYWluOiBudWxsIH0sXG4gICAgfSkpLmZpbHRlcihjID0+IGMuc2Vzc2lvbiB8fCBjLmV4cGlyYXRpb25EYXRlID4gbm93KTsgLy8gRkYgcmVwb3J0cyBleHBpcmVkIGNvb2tpZXMhXG4gICAgaWYgKGNvb2tpZXMubGVuZ3RoKSB7XG4gICAgICB2bUhlYWRlcnMucHVzaCh7XG4gICAgICAgIG5hbWU6ICdjb29raWUnLFxuICAgICAgICB2YWx1ZTogY29va2llcy5tYXAoYyA9PiBgJHtjLm5hbWV9PSR7Yy52YWx1ZX07YCkuam9pbignICcpLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIEhlYWRlckluamVjdG9yLmFkZChpZCwgdm1IZWFkZXJzKTtcbiAgY29uc3QgY2FsbGJhY2sgPSB4aHJDYWxsYmFja1dyYXBwZXIocmVxKTtcbiAgcmVxLmV2ZW50c1RvTm90aWZ5LmZvckVhY2goZXZ0ID0+IHsgeGhyW2BvbiR7ZXZ0fWBdID0gY2FsbGJhY2s7IH0pO1xuICB4aHIub25sb2FkZW5kID0gY2FsbGJhY2s7IC8vIGFsd2F5cyBzZW5kIGl0IGZvciB0aGUgaW50ZXJuYWwgY2xlYW51cFxuICB4aHIuc2VuZChib2R5KTtcbn1cblxuLyoqIEBwYXJhbSB7Vk1IdHRwUmVxdWVzdH0gcmVxICovXG5mdW5jdGlvbiBjbGVhclJlcXVlc3QocmVxKSB7XG4gIGlmIChyZXEuY29yZUlkKSBkZWxldGUgdmVyaWZ5W3JlcS5jb3JlSWRdO1xuICBkZWxldGUgcmVxdWVzdHNbcmVxLmlkXTtcbiAgZGVsZXRlICh0YWJSZXF1ZXN0c1tyZXEudGFiSWRdIHx8IHt9KVtyZXEuaWRdO1xuICBIZWFkZXJJbmplY3Rvci5kZWwocmVxLmlkKTtcbn1cblxuLyoqIFBvbHlmaWxsIGZvciBDaHJvbWUncyBpbmFiaWxpdHkgdG8gc2VuZCBjb21wbGV4IHR5cGVzIG92ZXIgZXh0ZW5zaW9uIG1lc3NhZ2luZyAqL1xuZnVuY3Rpb24gZGVjb2RlQm9keShbYm9keSwgdHlwZSwgd2FzQmxvYl0pIHtcbiAgaWYgKHR5cGUgPT09ICdxdWVyeScpIHtcbiAgICB0eXBlID0gJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCc7XG4gIH0gZWxzZSBpZiAodHlwZSkge1xuICAgIC8vIDV4IHRpbWVzIGZhc3RlciB0aGFuIGZldGNoKCkgd2hpY2ggd2FzdGVzIHRpbWUgb24gaW50ZXItcHJvY2VzcyBjb21tdW5pY2F0aW9uXG4gICAgY29uc3QgcmVzID0gc3RyaW5nMnVpbnQ4YXJyYXkoYXRvYihib2R5LnNsaWNlKGJvZHkuaW5kZXhPZignLCcpICsgMSkpKTtcbiAgICBpZiAoIXdhc0Jsb2IpIHtcbiAgICAgIHR5cGUgPSBib2R5Lm1hdGNoKC9eZGF0YTooLis/KTtiYXNlNjQvKVsxXS5yZXBsYWNlKC8oYm91bmRhcnk9KVteO10rLyxcbiAgICAgICAgLy8gdXNpbmcgYSBmdW5jdGlvbiBzbyBpdCBydW5zIG9ubHkgaWYgXCJib3VuZGFyeVwiIHdhcyBmb3VuZFxuICAgICAgICAoXywgcDEpID0+IHAxICsgU3RyaW5nLmZyb21DaGFyQ29kZSguLi5yZXMuc2xpY2UoMiwgcmVzLmluZGV4T2YoMTMpKSkpO1xuICAgIH1cbiAgICBib2R5ID0gcmVzO1xuICB9XG4gIHJldHVybiBbYm9keSwgdHlwZV07XG59XG5cbi8vIFdhdGNoIFVSTCByZWRpcmVjdHNcbi8vIGJyb3dzZXIud2ViUmVxdWVzdC5vbkJlZm9yZVJlZGlyZWN0LmFkZExpc3RlbmVyKGRldGFpbHMgPT4ge1xuLy8gICBjb25zdCByZXFJZCA9IHZlcmlmeVtkZXRhaWxzLnJlcXVlc3RJZF07XG4vLyAgIGlmIChyZXFJZCkge1xuLy8gICAgIGNvbnN0IHJlcSA9IHJlcXVlc3RzW3JlcUlkXTtcbi8vICAgICBpZiAocmVxKSByZXEuZmluYWxVcmwgPSBkZXRhaWxzLnJlZGlyZWN0VXJsO1xuLy8gICB9XG4vLyB9LCB7XG4vLyAgIHVybHM6IFsnPGFsbF91cmxzPiddLFxuLy8gICB0eXBlczogWyd4bWxodHRwcmVxdWVzdCddLFxuLy8gfSk7XG5cbi8vIHRhc2tzIGFyZSBub3QgbmVjZXNzYXJ5IG5vdywgdHVybmVkIG9mZlxuLy8gU3RvcCByZWRpcmVjdHNcbi8vIGJyb3dzZXIud2ViUmVxdWVzdC5vbkhlYWRlcnNSZWNlaXZlZC5hZGRMaXN0ZW5lcihkZXRhaWxzID0+IHtcbi8vICAgY29uc3QgdGFzayA9IHRhc2tzW2RldGFpbHMucmVxdWVzdElkXTtcbi8vICAgaWYgKHRhc2spIHtcbi8vICAgICBkZWxldGUgdGFza3NbZGV0YWlscy5yZXF1ZXN0SWRdO1xuLy8gICAgIGlmICh0YXNrID09PSAnR2V0LUxvY2F0aW9uJyAmJiBbMzAxLCAzMDIsIDMwM10uaW5jbHVkZXMoZGV0YWlscy5zdGF0dXNDb2RlKSkge1xuLy8gICAgICAgY29uc3QgbG9jYXRpb25IZWFkZXIgPSBkZXRhaWxzLnJlc3BvbnNlSGVhZGVycy5maW5kKFxuLy8gICAgICAgICBoZWFkZXIgPT4gaGVhZGVyLm5hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ2xvY2F0aW9uJyk7XG4vLyAgICAgICBjb25zdCBiYXNlNjQgPSBsb2NhdGlvbkhlYWRlciAmJiBsb2NhdGlvbkhlYWRlci52YWx1ZTtcbi8vICAgICAgIHJldHVybiB7XG4vLyAgICAgICAgIHJlZGlyZWN0VXJsOiBgZGF0YTp0ZXh0L3BsYWluO2NoYXJzZXQ9dXRmLTgsJHtiYXNlNjQgfHwgJyd9YCxcbi8vICAgICAgIH07XG4vLyAgICAgfVxuLy8gICB9XG4vLyB9LCB7XG4vLyAgIHVybHM6IFsnPGFsbF91cmxzPiddLFxuLy8gICB0eXBlczogWyd4bWxodHRwcmVxdWVzdCddLFxuLy8gfSwgWydibG9ja2luZycsICdyZXNwb25zZUhlYWRlcnMnXSk7XG4vLyBicm93c2VyLndlYlJlcXVlc3Qub25Db21wbGV0ZWQuYWRkTGlzdGVuZXIoZGV0YWlscyA9PiB7XG4vLyAgIGRlbGV0ZSB0YXNrc1tkZXRhaWxzLnJlcXVlc3RJZF07XG4vLyB9LCB7XG4vLyAgIHVybHM6IFsnPGFsbF91cmxzPiddLFxuLy8gICB0eXBlczogWyd4bWxodHRwcmVxdWVzdCddLFxuLy8gfSk7XG4vLyBicm93c2VyLndlYlJlcXVlc3Qub25FcnJvck9jY3VycmVkLmFkZExpc3RlbmVyKGRldGFpbHMgPT4ge1xuLy8gICBkZWxldGUgdGFza3NbZGV0YWlscy5yZXF1ZXN0SWRdO1xuLy8gfSwge1xuLy8gICB1cmxzOiBbJzxhbGxfdXJscz4nXSxcbi8vICAgdHlwZXM6IFsneG1saHR0cHJlcXVlc3QnXSxcbi8vIH0pO1xuXG5hc3luYyBmdW5jdGlvbiBjb25maXJtSW5zdGFsbCh7IGNvZGUsIGZyb20sIHVybCB9LCB7IHRhYiA9IHt9IH0pIHtcbiAgaWYgKCFjb2RlKSBjb2RlID0gKGF3YWl0IHJlcXVlc3QodXJsKSkuZGF0YTtcbiAgLy8gVE9ETzogZGlzcGxheSB0aGUgZXJyb3IgaW4gVUlcbiAgaWYgKCFpc1VzZXJTY3JpcHQoY29kZSkpIHRocm93IGkxOG4oJ21zZ0ludmFsaWRTY3JpcHQnKTtcbiAgY2FjaGUucHV0KHVybCwgY29kZSwgMzAwMCk7XG4gIGNvbnN0IGNvbmZpcm1LZXkgPSBnZXRVbmlxSWQoKTtcbiAgY29uc3QgeyBhY3RpdmUsIGlkOiB0YWJJZCwgaW5jb2duaXRvIH0gPSB0YWI7XG4gIC8vIE5vdCB0ZXN0aW5nIHRhYi5wZW5kaW5nVXJsIGJlY2F1c2UgaXQgd2lsbCBiZSBhbHdheXMgZXF1YWwgdG8gYHVybGBcbiAgY29uc3QgY2FuUmVwbGFjZUN1clRhYiA9ICghaW5jb2duaXRvIHx8IElTX0ZJUkVGT1gpICYmIChcbiAgICB1cmwgPT09IGZyb21cbiAgICB8fCBjYWNoZS5oYXMoYGF1dG9jbG9zZToke3RhYklkfWApXG4gICAgfHwgL14oY2hyb21lOlxcL1xcLyhuZXd0YWJ8c3RhcnRwYWdlKVxcL3xhYm91dDooaG9tZXxuZXd0YWIpKSQvLnRlc3QoZnJvbSkpO1xuICAvKiogQG5hbWVzcGFjZSBWTUNvbmZpcm1DYWNoZSAqL1xuICBjYWNoZS5wdXQoYGNvbmZpcm0tJHtjb25maXJtS2V5fWAsIHsgaW5jb2duaXRvLCB1cmwsIGZyb20sIHRhYklkLCBmZjogdWEuZmlyZWZveCB9KTtcbiAgY29uc3QgY29uZmlybVVybCA9IENPTkZJUk1fVVJMX0JBU0UgKyBjb25maXJtS2V5O1xuICBjb25zdCB7IHdpbmRvd0lkIH0gPSBjYW5SZXBsYWNlQ3VyVGFiXG4gICAgPyBhd2FpdCBicm93c2VyLnRhYnMudXBkYXRlKHRhYklkLCB7IHVybDogY29uZmlybVVybCB9KVxuICAgIDogYXdhaXQgY29tbWFuZHMuVGFiT3Blbih7IHVybDogY29uZmlybVVybCwgYWN0aXZlOiAhIWFjdGl2ZSB9LCB7IHRhYiB9KTtcbiAgaWYgKGFjdGl2ZSAmJiB3aW5kb3dJZCAhPT0gdGFiLndpbmRvd0lkKSB7XG4gICAgYXdhaXQgYnJvd3Nlci53aW5kb3dzLnVwZGF0ZSh3aW5kb3dJZCwgeyBmb2N1c2VkOiB0cnVlIH0pO1xuICB9XG59XG5cbmNvbnN0IHdoaXRlbGlzdFJlID0gbmV3IFJlZ0V4cChgXmh0dHBzOi8vKCR7XG4gIFtcbiAgICAnZ3JlYXN5Zm9ya1xcXFwub3JnL3NjcmlwdHMvJS9jb2RlLycsXG4gICAgJ29wZW51c2VyanNcXFxcLm9yZy9pbnN0YWxsLyUvJyxcbiAgICAnZ2l0aHViXFxcXC5jb20vJS8lL3Jhdy8lLycsXG4gICAgJ2dpdGh1YlxcXFwuY29tLyUvJS9yZWxlYXNlcy8lL2Rvd25sb2FkLycsXG4gICAgJ3Jhd1xcXFwuZ2l0aHVidXNlcmNvbnRlbnRcXFxcLmNvbSgvJSl7M30vJyxcbiAgICAnZ2lzdFxcXFwuZ2l0aHViXFxcXC5jb20vLio/LycsXG4gIF0uam9pbignfCcpXG59KSU/XFxcXC51c2VyXFxcXC5qcyhbPyNdfCQpYC5yZXBsYWNlKC8lL2csICdbXi9dKicpKTtcblxuY29uc3QgYmxhY2tsaXN0UmUgPSBuZXcgUmVnRXhwKGBeaHR0cHM6Ly8oJHtcbiAgW1xuICAgICcoZ2lzdFxcXFwuKT9naXRodWJcXFxcLmNvbScsXG4gICAgJ2dyZWFzeWZvcmtcXFxcLm9yZycsXG4gICAgJ29wZW51c2VyanNcXFxcLm9yZycsXG4gIF0uam9pbignfCcpXG59KS9gKTtcblxuY29uc3QgcmVzb2x2ZVZpcnR1YWxVcmwgPSB1cmwgPT4gKFxuICBgJHtleHRlbnNpb25Sb290fW9wdGlvbnMvaW5kZXguaHRtbCNzY3JpcHRzLyR7K3VybC5zcGxpdCgnIycpWzFdfWBcbik7XG4vLyBGRiBjYW4ndCBpbnRlcmNlcHQgdmlydHVhbCAudXNlci5qcyBVUkwgdmlhIHdlYlJlcXVlc3QsIHNvIHdlIHJlZGlyZWN0IGl0IGV4cGxpY2l0bHlcbmNvbnN0IHZpcnR1YWxVcmxSZSA9IElTX0ZJUkVGT1ggJiYgbmV3IFJlZ0V4cCgoXG4gIGBeKHZpZXctc291cmNlOik/KCR7ZXh0ZW5zaW9uUm9vdC5yZXBsYWNlKCc6Ly8nLCAnJCYpPycpfVteL10qXFxcXC51c2VyXFxcXC5qcyNcXFxcZCtgXG4pKTtcbmNvbnN0IG1heWJlUmVkaXJlY3RWaXJ0dWFsVXJsRkYgPSB2aXJ0dWFsVXJsUmUgJiYgKCh0YWJJZCwgc3JjKSA9PiB7XG4gIGlmICh2aXJ0dWFsVXJsUmUudGVzdChzcmMpKSB7XG4gICAgYnJvd3Nlci50YWJzLnVwZGF0ZSh0YWJJZCwgeyB1cmw6IHJlc29sdmVWaXJ0dWFsVXJsKHNyYykgfSk7XG4gIH1cbn0pO1xuaWYgKHZpcnR1YWxVcmxSZSkge1xuICBjb25zdCBsaXN0ZW5lciA9ICh0YWJJZCwgeyB1cmwgfSkgPT4gdXJsICYmIG1heWJlUmVkaXJlY3RWaXJ0dWFsVXJsRkYodGFiSWQsIHVybCk7XG4gIGNvbnN0IGFwaUV2ZW50ID0gYnJvd3Nlci50YWJzLm9uVXBkYXRlZDtcbiAgY29uc3QgYWRkTGlzdGVuZXIgPSBhcGlFdmVudC5hZGRMaXN0ZW5lci5iaW5kKGFwaUV2ZW50LCBsaXN0ZW5lcik7XG4gIHRyeSB7IGFkZExpc3RlbmVyKHsgcHJvcGVydGllczogWyd1cmwnXSB9KTsgfSBjYXRjaCAoZSkgeyBhZGRMaXN0ZW5lcigpOyB9XG59XG5cbmJyb3dzZXIudGFicy5vbkNyZWF0ZWQuYWRkTGlzdGVuZXIoKHRhYikgPT4ge1xuICBjb25zdCB7IGlkLCB0aXRsZSwgdXJsIH0gPSB0YWI7XG4gIC8qIERldGVybWluaW5nIGlmIHRoaXMgdGFiIGNhbiBiZSBhdXRvLWNsb3NlZCAocmVwbGFjZWQsIGFjdHVhbGx5KS5cbiAgICAgRkY+PTY4IGFsbG93cyByZWFkaW5nIGZpbGU6IFVSTCBvbmx5IGluIHRoZSB0YWIncyBjb250ZW50IHNjcmlwdCBzbyB0aGUgdGFiIG11c3Qgc3RheSBvcGVuLiAqL1xuICBpZiAoKCF1cmwuc3RhcnRzV2l0aCgnZmlsZTonKSB8fCB1YS5maXJlZm94IDwgNjgpXG4gICAgICAmJiAvXFwudXNlclxcLmpzKFs/I118JCkvLnRlc3QodGFiLnBlbmRpbmdVcmwgfHwgdXJsKSkge1xuICAgIGNhY2hlLnB1dChgYXV0b2Nsb3NlOiR7aWR9YCwgdHJ1ZSwgMTBlMyk7XG4gIH1cbiAgaWYgKHZpcnR1YWxVcmxSZSAmJiB1cmwgPT09ICdhYm91dDpibGFuaycpIHtcbiAgICBtYXliZVJlZGlyZWN0VmlydHVhbFVybEZGKGlkLCB0aXRsZSk7XG4gIH1cbn0pO1xuXG5icm93c2VyLndlYlJlcXVlc3Qub25CZWZvcmVSZXF1ZXN0LmFkZExpc3RlbmVyKChyZXEpID0+IHtcbiAgY29uc3QgeyBtZXRob2QsIHRhYklkLCB1cmwgfSA9IHJlcTtcbiAgaWYgKG1ldGhvZCAhPT0gJ0dFVCcpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgLy8gb3BlbiBhIHJlYWwgVVJMIGZvciBzaW1wbGlmaWVkIHVzZXJzY3JpcHQgVVJMIGxpc3RlZCBpbiBkZXZ0b29scyBvZiB0aGUgd2ViIHBhZ2VcbiAgaWYgKHVybC5zdGFydHNXaXRoKGV4dGVuc2lvblJvb3QpKSB7XG4gICAgcmV0dXJuIHsgcmVkaXJlY3RVcmw6IHJlc29sdmVWaXJ0dWFsVXJsKHVybCkgfTtcbiAgfVxuICBpZiAoIWNhY2hlLmhhcyhgYnlwYXNzOiR7dXJsfWApXG4gICYmICghYmxhY2tsaXN0UmUudGVzdCh1cmwpIHx8IHdoaXRlbGlzdFJlLnRlc3QodXJsKSkpIHtcbiAgICBtYXliZUluc3RhbGxVc2VySnModGFiSWQsIHVybCk7XG4gICAgcmV0dXJuIHsgcmVkaXJlY3RVcmw6ICdqYXZhc2NyaXB0OnZvaWQgMCcgfTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1zY3JpcHQtdXJsXG4gIH1cbn0sIHtcbiAgdXJsczogW1xuICAgIC8vIDEuICo6Ly8gY29tcHJpc2VzIG9ubHkgaHR0cC9odHRwc1xuICAgIC8vIDIuIHRoZSBBUEkgaWdub3JlcyAjaGFzaCBwYXJ0XG4gICAgLy8gMy4gRmlyZWZveDogb25CZWZvcmVSZXF1ZXN0IGRvZXMgbm90IHdvcmsgd2l0aCBmaWxlOi8vIG9yIG1vei1leHRlbnNpb246Ly9cbiAgICAnKjovLyovKi51c2VyLmpzJyxcbiAgICAnKjovLyovKi51c2VyLmpzPyonLFxuICAgICdmaWxlOi8vKi8qLnVzZXIuanMnLFxuICAgICdmaWxlOi8vKi8qLnVzZXIuanM/KicsXG4gICAgYCR7ZXh0ZW5zaW9uUm9vdH0qLnVzZXIuanNgLFxuICBdLFxuICB0eXBlczogWydtYWluX2ZyYW1lJ10sXG59LCBbJ2Jsb2NraW5nJ10pO1xuXG5hc3luYyBmdW5jdGlvbiBtYXliZUluc3RhbGxVc2VySnModGFiSWQsIHVybCkge1xuICBjb25zdCB7IGRhdGE6IGNvZGUgfSA9IGF3YWl0IHJlcXVlc3QodXJsKS5jYXRjaChub29wKSB8fCB7fTtcbiAgaWYgKGNvZGUgJiYgcGFyc2VNZXRhKGNvZGUpLm5hbWUpIHtcbiAgICBjb25zdCB0YWIgPSB0YWJJZCA+PSAwICYmIGF3YWl0IGJyb3dzZXIudGFicy5nZXQodGFiSWQpIHx8IHt9O1xuICAgIGNvbmZpcm1JbnN0YWxsKHsgY29kZSwgdXJsLCBmcm9tOiB0YWIudXJsIH0sIHsgdGFiIH0pO1xuICB9IGVsc2Uge1xuICAgIGNhY2hlLnB1dChgYnlwYXNzOiR7dXJsfWAsIHRydWUsIDEwZTMpO1xuICAgIGlmICh0YWJJZCA+PSAwKSBicm93c2VyLnRhYnMudXBkYXRlKHRhYklkLCB7IHVybCB9KTtcbiAgfVxufVxuXG4vLyBJbiBGaXJlZm94IHdpdGggcHJvZHVjdGlvbiBjb2RlIG9mIFZpb2xlbnRtb25rZXksIHNjcmlwdHMgY2FuIGJlIGluamVjdGVkIGJlZm9yZSBgdGFicy5vblVwZGF0ZWRgIGlzIGZpcmVkLlxuLy8gUmVmOiBodHRwczovL2dpdGh1Yi5jb20vdmlvbGVudG1vbmtleS92aW9sZW50bW9ua2V5L2lzc3Vlcy8xMjU1XG5cbmJyb3dzZXIudGFicy5vblJlbW92ZWQuYWRkTGlzdGVuZXIoKHRhYklkKSA9PiB7XG4gIGNsZWFyUmVxdWVzdHNCeVRhYklkKHRhYklkKTtcbn0pO1xuXG5leHBvcnQgZnVuY3Rpb24gY2xlYXJSZXF1ZXN0c0J5VGFiSWQodGFiSWQpIHtcbiAgY29uc3Qgc2V0ID0gdGFiUmVxdWVzdHNbdGFiSWRdO1xuICBpZiAoc2V0KSB7XG4gICAgZGVsZXRlIHRhYlJlcXVlc3RzW3RhYklkXTtcbiAgICBzZXQ6OmZvckVhY2hFbnRyeSgoW2lkXSkgPT4gY29tbWFuZHMuQWJvcnRSZXF1ZXN0KGlkKSk7XG4gIH1cbn1cblxuLyoqXG4gKiBJbWl0YXRpbmcgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvQVBJL1hNTEh0dHBSZXF1ZXN0L2dldEFsbFJlc3BvbnNlSGVhZGVyc1xuICogUGVyIHRoZSBzcGVjaWZpY2F0aW9uIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM3MjMwIHRoZSBoZWFkZXIgbmFtZSBpcyB3aXRoaW4gQVNDSUksXG4gKiBidXQgd2UnbGwgdHJ5IGVuY29kaW5nIGl0LCBpZiBuZWNlc3NhcnksIHRvIGhhbmRsZSBpbnZhbGlkIHNlcnZlciByZXNwb25zZXMuXG4gKi9cbmZ1bmN0aW9uIGVuY29kZVdlYlJlcXVlc3RIZWFkZXIoeyBuYW1lLCB2YWx1ZSwgYmluYXJ5VmFsdWUgfSkge1xuICByZXR1cm4gYCR7c3RyaW5nMmJ5dGVTdHJpbmcobmFtZSl9OiAke1xuICAgIGJpbmFyeVZhbHVlXG4gICAgICA/IGJ1ZmZlcjJzdHJpbmcoYmluYXJ5VmFsdWUpXG4gICAgICA6IHN0cmluZzJieXRlU3RyaW5nKHZhbHVlKVxuICB9XFxyXFxuYDtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgVVRGOC1lbmNvZGVkIGJpbmFyeSBzdHJpbmcgaS5lLiBvbmUgYnl0ZSBwZXIgY2hhcmFjdGVyLlxuICogUmV0dXJucyB0aGUgb3JpZ2luYWwgc3RyaW5nIGluIGNhc2UgaXQgd2FzIGFscmVhZHkgd2l0aGluIEFTQ0lJLlxuICovXG5mdW5jdGlvbiBzdHJpbmcyYnl0ZVN0cmluZyhzdHIpIHtcbiAgaWYgKCEvW1xcdTAwODAtXFx1RkZGRl0vLnRlc3Qoc3RyKSkgcmV0dXJuIHN0cjtcbiAgaWYgKCFlbmNvZGVyKSBlbmNvZGVyID0gbmV3IFRleHRFbmNvZGVyKCk7XG4gIHJldHVybiBidWZmZXIyc3RyaW5nKGVuY29kZXIuZW5jb2RlKHN0cikpO1xufVxuXG4vKiogQHR5cGVkZWYge3tcbiAgYW5vbnltb3VzOiBib29sZWFuXG4gIGJsb2JiZWQ6IGJvb2xlYW5cbiAgY2I6IGZ1bmN0aW9uKE9iamVjdClcbiAgY2h1bmtlZDogYm9vbGVhblxuICBjb3JlSWQ6IG51bWJlclxuICBldmVudHNUb05vdGlmeTogc3RyaW5nW11cbiAgaWQ6IG51bWJlclxuICBub05hdGl2ZUNvb2tpZTogYm9vbGVhblxuICByZXNwb25zZUhlYWRlcnM6IHN0cmluZ1xuICBzdG9yZUlkOiBzdHJpbmdcbiAgdGFiSWQ6IG51bWJlclxuICB4aHI6IFhNTEh0dHBSZXF1ZXN0XG59fSBWTUh0dHBSZXF1ZXN0ICovXG4iLCJpbXBvcnQgeyBnZXRVbmlxSWQsIGVuY29kZUZpbGVuYW1lIH0gZnJvbSAnIy9jb21tb24nO1xuaW1wb3J0IHsgTUVUQUJMT0NLX1JFIH0gZnJvbSAnIy9jb21tb24vY29uc3RzJztcbmltcG9ydCB7IG1hcEVudHJ5IH0gZnJvbSAnIy9jb21tb24vb2JqZWN0JztcbmltcG9ydCB7IGNvbW1hbmRzIH0gZnJvbSAnLi9tZXNzYWdlJztcbmltcG9ydCB7IGdldE9wdGlvbiB9IGZyb20gJy4vb3B0aW9ucyc7XG5pbXBvcnQgY2FjaGUgZnJvbSAnLi9jYWNoZSc7XG5cbk9iamVjdC5hc3NpZ24oY29tbWFuZHMsIHtcbiAgLyoqIEByZXR1cm4ge3N0cmluZ30gKi9cbiAgQ2FjaGVOZXdTY3JpcHQoZGF0YSkge1xuICAgIGNvbnN0IGlkID0gZ2V0VW5pcUlkKCk7XG4gICAgY2FjaGUucHV0KGBuZXctJHtpZH1gLCBuZXdTY3JpcHQoZGF0YSkpO1xuICAgIHJldHVybiBpZDtcbiAgfSxcbiAgLyoqIEByZXR1cm4ge1ZNU2NyaXB0fSAqL1xuICBOZXdTY3JpcHQoaWQpIHtcbiAgICByZXR1cm4gaWQgJiYgY2FjaGUuZ2V0KGBuZXctJHtpZH1gKSB8fCBuZXdTY3JpcHQoKTtcbiAgfSxcbiAgUGFyc2VNZXRhOiBwYXJzZU1ldGEsXG59KTtcblxuZXhwb3J0IGZ1bmN0aW9uIGlzVXNlclNjcmlwdCh0ZXh0KSB7XG4gIGlmICgvXlxccyo8Ly50ZXN0KHRleHQpKSByZXR1cm4gZmFsc2U7IC8vIEhUTUxcbiAgaWYgKHRleHQuaW5kZXhPZignLy8gPT1Vc2VyU2NyaXB0PT0nKSA8IDApIHJldHVybiBmYWxzZTsgLy8gTGFjayBvZiBtZXRhIGJsb2NrXG4gIHJldHVybiB0cnVlO1xufVxuXG5jb25zdCBhcnJheVR5cGUgPSB7XG4gIGRlZmF1bHQ6ICgpID0+IFtdLFxuICB0cmFuc2Zvcm06IChyZXMsIHZhbCkgPT4ge1xuICAgIHJlcy5wdXNoKHZhbCk7XG4gICAgcmV0dXJuIHJlcztcbiAgfSxcbn07XG5jb25zdCBkZWZhdWx0VHlwZSA9IHtcbiAgZGVmYXVsdDogKCkgPT4gbnVsbCxcbiAgdHJhbnNmb3JtOiAocmVzLCB2YWwpID0+IChyZXMgPT0gbnVsbCA/IHZhbCA6IHJlcyksXG59O1xuY29uc3QgbWV0YVR5cGVzID0ge1xuICBpbmNsdWRlOiBhcnJheVR5cGUsXG4gIGV4Y2x1ZGU6IGFycmF5VHlwZSxcbiAgbWF0Y2g6IGFycmF5VHlwZSxcbiAgZXhjbHVkZU1hdGNoOiBhcnJheVR5cGUsXG4gIHJlcXVpcmU6IGFycmF5VHlwZSxcbiAgcmVzb3VyY2U6IHtcbiAgICBkZWZhdWx0OiAoKSA9PiAoe30pLFxuICAgIHRyYW5zZm9ybTogKHJlcywgdmFsKSA9PiB7XG4gICAgICBjb25zdCBwYWlyID0gdmFsLm1hdGNoKC9eKFxcd1xcUyopXFxzKyguKikvKTtcbiAgICAgIGlmIChwYWlyKSByZXNbcGFpclsxXV0gPSBwYWlyWzJdO1xuICAgICAgcmV0dXJuIHJlcztcbiAgICB9LFxuICB9LFxuICBncmFudDogYXJyYXlUeXBlLFxuICBub2ZyYW1lczoge1xuICAgIGRlZmF1bHQ6ICgpID0+IGZhbHNlLFxuICAgIHRyYW5zZm9ybTogKCkgPT4gdHJ1ZSxcbiAgfSxcbn07XG5jb25zdCBtZXRhT3B0aW9uYWxUeXBlcyA9IHtcbiAgYW50aWZlYXR1cmU6IGFycmF5VHlwZSxcbiAgY29tcGF0aWJsZTogYXJyYXlUeXBlLFxuICBjb25uZWN0OiBhcnJheVR5cGUsXG59O1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlTWV0YShjb2RlKSB7XG4gIC8vIGluaXRpYWxpemUgbWV0YVxuICBjb25zdCBtZXRhID0gbWV0YVR5cGVzOjptYXBFbnRyeSgoWywgdmFsdWVdKSA9PiB2YWx1ZS5kZWZhdWx0KCkpO1xuICBjb25zdCBtZXRhQm9keSA9IGNvZGUubWF0Y2goTUVUQUJMT0NLX1JFKVsxXSB8fCAnJztcbiAgbWV0YUJvZHkucmVwbGFjZSgvKD86XnxcXG4pXFxzKlxcL1xcL1xceDIwKEBcXFMrKSguKikvZywgKF9tYXRjaCwgcmF3S2V5LCByYXdWYWx1ZSkgPT4ge1xuICAgIGNvbnN0IFtrZXlOYW1lLCBsb2NhbGVdID0gcmF3S2V5LnNsaWNlKDEpLnNwbGl0KCc6Jyk7XG4gICAgY29uc3QgY2FtZWxLZXkgPSBrZXlOYW1lLnJlcGxhY2UoL1stX10oXFx3KS9nLCAobSwgZykgPT4gZy50b1VwcGVyQ2FzZSgpKTtcbiAgICBjb25zdCBrZXkgPSBsb2NhbGUgPyBgJHtjYW1lbEtleX06JHtsb2NhbGUudG9Mb3dlckNhc2UoKX1gIDogY2FtZWxLZXk7XG4gICAgY29uc3QgdmFsID0gcmF3VmFsdWUudHJpbSgpO1xuICAgIGNvbnN0IG1ldGFUeXBlID0gbWV0YVR5cGVzW2tleV0gfHwgbWV0YU9wdGlvbmFsVHlwZXNba2V5XSB8fCBkZWZhdWx0VHlwZTtcbiAgICBsZXQgb2xkVmFsdWUgPSBtZXRhW2tleV07XG4gICAgaWYgKHR5cGVvZiBvbGRWYWx1ZSA9PT0gJ3VuZGVmaW5lZCcpIG9sZFZhbHVlID0gbWV0YVR5cGUuZGVmYXVsdCgpO1xuICAgIG1ldGFba2V5XSA9IG1ldGFUeXBlLnRyYW5zZm9ybShvbGRWYWx1ZSwgdmFsKTtcbiAgfSk7XG4gIG1ldGEucmVzb3VyY2VzID0gbWV0YS5yZXNvdXJjZTtcbiAgZGVsZXRlIG1ldGEucmVzb3VyY2U7XG4gIC8vIEBob21lcGFnZVVSTDogY29tcGF0aWJsZSB3aXRoIEBob21lcGFnZVxuICBpZiAoIW1ldGEuaG9tZXBhZ2VVUkwgJiYgbWV0YS5ob21lcGFnZSkgbWV0YS5ob21lcGFnZVVSTCA9IG1ldGEuaG9tZXBhZ2U7XG4gIHJldHVybiBtZXRhO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGVmYXVsdEN1c3RvbSgpIHtcbiAgcmV0dXJuIHtcbiAgICBvcmlnSW5jbHVkZTogdHJ1ZSxcbiAgICBvcmlnRXhjbHVkZTogdHJ1ZSxcbiAgICBvcmlnTWF0Y2g6IHRydWUsXG4gICAgb3JpZ0V4Y2x1ZGVNYXRjaDogdHJ1ZSxcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG5ld1NjcmlwdChkYXRhKSB7XG4gIGNvbnN0IHN0YXRlID0ge1xuICAgIHVybDogJyo6Ly8qLyonLFxuICAgIG5hbWU6ICcnLFxuICAgIGRhdGU6IG5ldyBEYXRlKCkudG9Mb2NhbGVTdHJpbmcoKSxcbiAgICAuLi5kYXRhLFxuICB9O1xuICBjb25zdCBjb2RlID0gZ2V0T3B0aW9uKCdzY3JpcHRUZW1wbGF0ZScpXG4gIC5yZXBsYWNlKC97eyhcXHcrKX19L2csIChzdHIsIG5hbWUpID0+IHtcbiAgICBjb25zdCB2YWx1ZSA9IHN0YXRlW25hbWVdO1xuICAgIHJldHVybiB2YWx1ZSA9PSBudWxsID8gc3RyIDogdmFsdWU7XG4gIH0pO1xuICBjb25zdCBzY3JpcHQgPSB7XG4gICAgY3VzdG9tOiBnZXREZWZhdWx0Q3VzdG9tKCksXG4gICAgY29uZmlnOiB7XG4gICAgICBlbmFibGVkOiAxLFxuICAgICAgc2hvdWxkVXBkYXRlOiAxLFxuICAgIH0sXG4gICAgbWV0YTogcGFyc2VNZXRhKGNvZGUpLFxuICAgIHByb3BzOiB7fSxcbiAgfTtcbiAgcmV0dXJuIHsgc2NyaXB0LCBjb2RlIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXROYW1lVVJJKHNjcmlwdCkge1xuICBjb25zdCBucyA9IHNjcmlwdC5tZXRhLm5hbWVzcGFjZSB8fCAnJztcbiAgY29uc3QgbmFtZSA9IHNjcmlwdC5tZXRhLm5hbWUgfHwgJyc7XG4gIGxldCBuYW1lVVJJID0gZW5jb2RlRmlsZW5hbWUoYCR7bnN9XFxuJHtuYW1lfVxcbmApO1xuICBpZiAoIW5zICYmICFuYW1lKSBuYW1lVVJJICs9IHNjcmlwdC5wcm9wcy5pZCB8fCAnJztcbiAgcmV0dXJuIG5hbWVVUkk7XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gbG9hZFF1ZXJ5KHN0cmluZykge1xuICByZXR1cm4gc3RyaW5nLnNwbGl0KCcmJykucmVkdWNlKChkYXRhLCBwaWVjZSkgPT4ge1xuICAgIGNvbnN0IFtrZXksIHZhbF0gPSBwaWVjZS5zcGxpdCgnPScpLm1hcChkZWNvZGVVUklDb21wb25lbnQpO1xuICAgIGRhdGFba2V5XSA9IHZhbDtcbiAgICByZXR1cm4gZGF0YTtcbiAgfSwge30pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZHVtcFF1ZXJ5KGRpY3QpIHtcbiAgcmV0dXJuIE9iamVjdC5lbnRyaWVzKGRpY3QpXG4gIC5tYXAoa2V5VmFsID0+IGtleVZhbC5tYXAoZW5jb2RlVVJJQ29tcG9uZW50KS5qb2luKCc9JykpXG4gIC5qb2luKCcmJyk7XG59XG4iLCJpbXBvcnQgeyByZXF1ZXN0IH0gZnJvbSAnIy9jb21tb24nO1xuaW1wb3J0IHN0b3JhZ2UgZnJvbSAnIy9jb21tb24vc3RvcmFnZSc7XG5cbi8qKiBAdHlwZSB7IGZ1bmN0aW9uKHVybCwgb3B0aW9ucywgY2hlY2spOiBQcm9taXNlPHZvaWQ+IH0gb3IgdGhyb3dzIG9uIGVycm9yICovXG5zdG9yYWdlLmNhY2hlLmZldGNoID0gY2FjaGVPckZldGNoKHtcbiAgaW5pdChvcHRpb25zKSB7XG4gICAgcmV0dXJuIHsgLi4ub3B0aW9ucywgcmVzcG9uc2VUeXBlOiAnYmxvYicgfTtcbiAgfSxcbiAgYXN5bmMgdHJhbnNmb3JtKHJlc3BvbnNlLCB1cmwsIG9wdGlvbnMsIGNoZWNrKSB7XG4gICAgY29uc3QgW3R5cGUsIGJvZHldID0gYXdhaXQgc3RvcmFnZS5jYWNoZS5tYWtlUmF3KHJlc3BvbnNlLCB0cnVlKTtcbiAgICBhd2FpdCBjaGVjaz8uKHVybCwgcmVzcG9uc2UuZGF0YSwgdHlwZSk7XG4gICAgcmV0dXJuIGAke3R5cGV9LCR7Ym9keX1gO1xuICB9LFxufSk7XG5cbi8qKiBAdHlwZSB7IGZ1bmN0aW9uKHVybCwgb3B0aW9ucyk6IFByb21pc2U8dm9pZD4gfSBvciB0aHJvd3Mgb24gZXJyb3IgKi9cbnN0b3JhZ2UucmVxdWlyZS5mZXRjaCA9IGNhY2hlT3JGZXRjaCh7XG4gIHRyYW5zZm9ybTogKHsgZGF0YSB9LCB1cmwpID0+IChcbiAgICAvXlxccyo8Ly50ZXN0KGRhdGEpXG4gICAgICA/IFByb21pc2UucmVqZWN0KGBOT1RfSlM6ICR7dXJsfSBcIiR7ZGF0YS5zbGljZSgwLCAxMDApLnRyaW0oKS5yZXBsYWNlKC9cXHN7Mix9L2csICcgJyl9XCJgKVxuICAgICAgOiBkYXRhXG4gICksXG59KTtcblxuZnVuY3Rpb24gY2FjaGVPckZldGNoKGhhbmRsZXJzID0ge30pIHtcbiAgY29uc3QgcmVxdWVzdHMgPSB7fTtcbiAgY29uc3QgeyBpbml0LCB0cmFuc2Zvcm0gfSA9IGhhbmRsZXJzO1xuICAvKiogQHRoaXMgVk1TdG9yYWdlQmFzZSAqL1xuICByZXR1cm4gZnVuY3Rpb24gY2FjaGVPckZldGNoSGFuZGxlciguLi5hcmdzKSB7XG4gICAgY29uc3QgW3VybF0gPSBhcmdzO1xuICAgIGNvbnN0IHByb21pc2UgPSByZXF1ZXN0c1t1cmxdIHx8IChyZXF1ZXN0c1t1cmxdID0gdGhpczo6ZG9GZXRjaCguLi5hcmdzKSk7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH07XG4gIC8qKiBAdGhpcyBWTVN0b3JhZ2VCYXNlICovXG4gIGFzeW5jIGZ1bmN0aW9uIGRvRmV0Y2goLi4uYXJncykge1xuICAgIGNvbnN0IFt1cmwsIG9wdGlvbnNdID0gYXJncztcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzID0gYXdhaXQgcmVxdWVzdCh1cmwsIGluaXQ/LihvcHRpb25zKSB8fCBvcHRpb25zKTtcbiAgICAgIGlmIChhd2FpdCBpc01vZGlmaWVkKHJlcywgdXJsKSkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB0cmFuc2Zvcm0gPyBhd2FpdCB0cmFuc2Zvcm0ocmVzLCAuLi5hcmdzKSA6IHJlcy5kYXRhO1xuICAgICAgICBhd2FpdCB0aGlzLnNldCh1cmwsIHJlc3VsdCk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuREVCVUcpIGNvbnNvbGUuZXJyb3IoYEVycm9yIGZldGNoaW5nOiAke3VybH1gLCBlcnIpO1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBkZWxldGUgcmVxdWVzdHNbdXJsXTtcbiAgICB9XG4gIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gaXNNb2RpZmllZCh7IGhlYWRlcnMgfSwgdXJsKSB7XG4gIGNvbnN0IG1vZCA9IGhlYWRlcnMuZ2V0KCdldGFnJylcbiAgfHwgK25ldyBEYXRlKGhlYWRlcnMuZ2V0KCdsYXN0LW1vZGlmaWVkJykpXG4gIHx8ICtuZXcgRGF0ZShoZWFkZXJzLmdldCgnZGF0ZScpKTtcbiAgaWYgKCFtb2QgfHwgbW9kICE9PSBhd2FpdCBzdG9yYWdlLm1vZC5nZXRPbmUodXJsKSkge1xuICAgIGlmIChtb2QpIGF3YWl0IHN0b3JhZ2UubW9kLnNldCh1cmwsIG1vZCk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn1cbiIsImltcG9ydCB7IGdldEFjdGl2ZVRhYiwgbm9vcCwgc2VuZFRhYkNtZCwgZ2V0RnVsbFVybCB9IGZyb20gJyMvY29tbW9uJztcbmltcG9ydCB7IGRlZXBDb3B5IH0gZnJvbSAnIy9jb21tb24vb2JqZWN0JztcbmltcG9ydCB1YSBmcm9tICcjL2NvbW1vbi91YSc7XG5pbXBvcnQgeyBleHRlbnNpb25Sb290IH0gZnJvbSAnLi9pbml0JztcbmltcG9ydCB7IGNvbW1hbmRzIH0gZnJvbSAnLi9tZXNzYWdlJztcbmltcG9ydCB7IGdldE9wdGlvbiB9IGZyb20gJy4vb3B0aW9ucyc7XG5cbmNvbnN0IG9wZW5lcnMgPSB7fTtcblxuT2JqZWN0LmFzc2lnbihjb21tYW5kcywge1xuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtwYXRoSWRdIC0gcGF0aCBvciBpZCB0byBhZGQgdG8gI3NjcmlwdHMgcm91dGUgaW4gZGFzaGJvYXJkLFxuICAgICBpZiBhYnNlbnQgYSBuZXcgc2NyaXB0IHdpbGwgYmUgY3JlYXRlZCBmb3IgYWN0aXZlIHRhYidzIFVSTFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx7aWQ6IG51bWJlcn0+fVxuICAgKi9cbiAgYXN5bmMgT3BlbkVkaXRvcihwYXRoSWQpIHtcbiAgICBpZiAoIXBhdGhJZCkge1xuICAgICAgY29uc3QgeyB0YWIsIGRvbWFpbiB9ID0gYXdhaXQgY29tbWFuZHMuR2V0VGFiRG9tYWluKCk7XG4gICAgICBjb25zdCBpZCA9IGRvbWFpbiAmJiBjb21tYW5kcy5DYWNoZU5ld1NjcmlwdCh7XG4gICAgICAgIHVybDogKHRhYi5wZW5kaW5nVXJsIHx8IHRhYi51cmwpLnNwbGl0KC9bIz9dLylbMF0sXG4gICAgICAgIG5hbWU6IGAke2dldE9wdGlvbignc2NyaXB0VGVtcGxhdGVFZGl0ZWQnKSA/ICcnIDogJy0gJ30ke2RvbWFpbn1gLFxuICAgICAgfSk7XG4gICAgICBwYXRoSWQgPSBgX25ldyR7aWQgPyBgLyR7aWR9YCA6ICcnfWA7XG4gICAgfVxuICAgIGNvbnN0IHVybCA9IGAke2V4dGVuc2lvblJvb3R9b3B0aW9ucy9pbmRleC5odG1sI3NjcmlwdHMvJHtwYXRoSWR9YDtcbiAgICAvLyBGaXJlZm94IHVudGlsIHY1NiBkb2Vzbid0IHN1cHBvcnQgbW96LWV4dGVuc2lvbjovLyBwYXR0ZXJuIGluIGJyb3dzZXIudGFicy5xdWVyeSgpXG4gICAgZm9yIChjb25zdCB2aWV3IG9mIGJyb3dzZXIuZXh0ZW5zaW9uLmdldFZpZXdzKCkpIHtcbiAgICAgIGlmICh2aWV3LmxvY2F0aW9uLmhyZWYgPT09IHVybCkge1xuICAgICAgICAvLyBkZWVwLWNvcHlpbmcgdG8gYXZvaWQgZGVhZCBvYmplY3RzXG4gICAgICAgIGNvbnN0IHRhYiA9IGRlZXBDb3B5KGF3YWl0IHZpZXcuYnJvd3Nlci50YWJzLmdldEN1cnJlbnQoKSk7XG4gICAgICAgIGJyb3dzZXIudGFicy51cGRhdGUodGFiLmlkLCB7IGFjdGl2ZTogdHJ1ZSB9KTtcbiAgICAgICAgYnJvd3Nlci53aW5kb3dzLnVwZGF0ZSh0YWIud2luZG93SWQsIHsgZm9jdXNlZDogdHJ1ZSB9KTtcbiAgICAgICAgcmV0dXJuIHRhYjtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNvbW1hbmRzLlRhYk9wZW4oeyB1cmwsIG1heWJlSW5XaW5kb3c6IHRydWUgfSk7XG4gIH0sXG4gIC8qKiBAcmV0dXJuIHtQcm9taXNlPHsgaWQ6IG51bWJlciB9IHwgY2hyb21lLnRhYnMuVGFiPn0gbmV3IHRhYiBpcyByZXR1cm5lZCBmb3IgaW50ZXJuYWwgY2FsbHMgKi9cbiAgYXN5bmMgVGFiT3Blbih7XG4gICAgdXJsLFxuICAgIGFjdGl2ZSA9IHRydWUsXG4gICAgY29udGFpbmVyLFxuICAgIGluc2VydCA9IHRydWUsXG4gICAgbWF5YmVJbldpbmRvdyA9IGZhbHNlLFxuICAgIHBpbm5lZCxcbiAgfSwgc3JjID0ge30pIHtcbiAgICAvLyBzcmMudGFiIG1heSBiZSBhYnNlbnQgd2hlbiBpbnZva2VkIGZyb20gcG9wdXAgKGUuZy4gZWRpdC9jcmVhdGUgYnV0dG9ucylcbiAgICBjb25zdCBzcmNUYWIgPSBzcmMudGFiIHx8IGF3YWl0IGdldEFjdGl2ZVRhYigpIHx8IHt9O1xuICAgIC8vIHNyYy51cmwgbWF5IGJlIGFic2VudCB3aGVuIGludm9rZWQgZGlyZWN0bHkgYXMgY29tbWFuZHMuVGFiT3BlblxuICAgIGNvbnN0IHNyY1VybCA9IHNyYy51cmw7XG4gICAgY29uc3QgaXNJbnRlcm5hbCA9ICFzcmNVcmwgfHwgc3JjVXJsLnN0YXJ0c1dpdGgoZXh0ZW5zaW9uUm9vdCk7XG4gICAgLy8gb25seSBpbmNvZ25pdG8gc3RvcmVJZCBtYXkgYmUgc3BlY2lmaWVkIHdoZW4gb3BlbmluZyBpbiBhbiBpbmNvZ25pdG8gd2luZG93XG4gICAgY29uc3QgeyBpbmNvZ25pdG8sIHdpbmRvd0lkIH0gPSBzcmNUYWI7XG4gICAgLy8gQ2hyb21lIGNhbid0IG9wZW4gY2hyb21lLXh4eDogVVJMcyBpbiBpbmNvZ25pdG8gd2luZG93c1xuICAgIGxldCBzdG9yZUlkID0gc3JjVGFiLmNvb2tpZVN0b3JlSWQ7XG4gICAgaWYgKHN0b3JlSWQgJiYgIWluY29nbml0bykge1xuICAgICAgc3RvcmVJZCA9IGdldENvbnRhaW5lcklkKGlzSW50ZXJuYWwgPyAwIDogY29udGFpbmVyKSB8fCBzdG9yZUlkO1xuICAgIH1cbiAgICBpZiAoc3RvcmVJZCkgc3RvcmVJZCA9IHsgY29va2llU3RvcmVJZDogc3RvcmVJZCB9O1xuICAgIC8vIFVSTCBuZWVkcyB0byBiZSBleHBhbmRlZCBmb3IgYGNhbk9wZW5JbmNvZ25pdG9gIGJlbG93XG4gICAgaWYgKCEvXlstXFx3XSs6Ly50ZXN0KHVybCkpIHtcbiAgICAgIHVybCA9IGlzSW50ZXJuYWxcbiAgICAgICAgPyBicm93c2VyLnJ1bnRpbWUuZ2V0VVJMKHVybClcbiAgICAgICAgOiBnZXRGdWxsVXJsKHVybCwgc3JjVXJsKTtcbiAgICB9XG4gICAgY29uc3QgY2FuT3BlbkluY29nbml0byA9ICFpbmNvZ25pdG8gfHwgSVNfRklSRUZPWCB8fCAhL14oY2hyb21lWy1cXHddKik6Ly50ZXN0KHVybCk7XG4gICAgbGV0IG5ld1RhYjtcbiAgICBpZiAobWF5YmVJbldpbmRvd1xuICAgICAgICAmJiBicm93c2VyLndpbmRvd3NcbiAgICAgICAgJiYgZ2V0T3B0aW9uKCdlZGl0b3JXaW5kb3cnKVxuICAgICAgICAvKiBjb29raWVTdG9yZUlkIGluIHdpbmRvd3MuY3JlYXRlKCkgaXMgc3VwcG9ydGVkIHNpbmNlIEZGNjQgaHR0cHM6Ly9idWd6aWwubGEvMTM5MzU3MFxuICAgICAgICAgKiBhbmQgYSB3b3JrYXJvdW5kIGlzIHRvbyBjb252b2x1dGVkIHRvIGFkZCBpdCBmb3Igc3VjaCBhbiBhbmNpZW50IHZlcnNpb24gKi9cbiAgICAgICAgJiYgKCFzdG9yZUlkIHx8IHVhLmZpcmVmb3ggPj0gNjQpKSB7XG4gICAgICBjb25zdCB3bmRPcHRzID0ge1xuICAgICAgICB1cmwsXG4gICAgICAgIGluY29nbml0bzogY2FuT3BlbkluY29nbml0byAmJiBpbmNvZ25pdG8sXG4gICAgICAgIC4uLmdldE9wdGlvbignZWRpdG9yV2luZG93U2ltcGxlJykgJiYgeyB0eXBlOiAncG9wdXAnIH0sXG4gICAgICAgIC4uLiFJU19GSVJFRk9YICYmIHsgZm9jdXNlZDogISFhY3RpdmUgfSwgLy8gRkYgZG9lc24ndCBzdXBwb3J0IHRoaXNcbiAgICAgICAgLi4uc3RvcmVJZCxcbiAgICAgIH07XG4gICAgICBjb25zdCBwb3MgPSBnZXRPcHRpb24oJ2VkaXRvcldpbmRvd1BvcycpO1xuICAgICAgY29uc3QgaGFzUG9zID0gcG9zICYmICd0b3AnIGluIHBvcztcbiAgICAgIGNvbnN0IHduZCA9IGF3YWl0IGJyb3dzZXIud2luZG93cy5jcmVhdGUoeyAuLi53bmRPcHRzLCAuLi5wb3MgfSkuY2F0Y2goaGFzUG9zICYmIG5vb3ApXG4gICAgICAgIHx8IGhhc1BvcyAmJiBhd2FpdCBicm93c2VyLndpbmRvd3MuY3JlYXRlKHduZE9wdHMpO1xuICAgICAgbmV3VGFiID0gd25kLnRhYnNbMF07XG4gICAgfVxuICAgIGlmICghbmV3VGFiKSB7XG4gICAgICBuZXdUYWIgPSBhd2FpdCBicm93c2VyLnRhYnMuY3JlYXRlKHtcbiAgICAgICAgdXJsLFxuICAgICAgICAvLyBub3JtYWxpemluZyBhcyBib29sZWFuIGJlY2F1c2UgdGhlIEFQSSByZXF1aXJlcyBzdHJpY3QgdHlwZXNcbiAgICAgICAgYWN0aXZlOiAhIWFjdGl2ZSxcbiAgICAgICAgcGlubmVkOiAhIXBpbm5lZCxcbiAgICAgICAgLi4uc3RvcmVJZCxcbiAgICAgICAgLi4uY2FuT3BlbkluY29nbml0byAmJiB7XG4gICAgICAgICAgd2luZG93SWQsXG4gICAgICAgICAgLi4uaW5zZXJ0ICYmIHsgaW5kZXg6IHNyY1RhYi5pbmRleCArIDEgfSxcbiAgICAgICAgICAuLi51YS5vcGVuZXJUYWJJZFN1cHBvcnRlZCAmJiB7IG9wZW5lclRhYklkOiBzcmNUYWIuaWQgfSxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zdCB7IGlkIH0gPSBuZXdUYWI7XG4gICAgaWYgKGFjdGl2ZSAmJiBuZXdUYWIud2luZG93SWQgIT09IHdpbmRvd0lkKSB7XG4gICAgICBhd2FpdCBicm93c2VyLndpbmRvd3MudXBkYXRlKG5ld1RhYi53aW5kb3dJZCwgeyBmb2N1c2VkOiB0cnVlIH0pO1xuICAgIH1cbiAgICBvcGVuZXJzW2lkXSA9IHNyY1RhYi5pZDtcbiAgICByZXR1cm4gaXNJbnRlcm5hbCA/IG5ld1RhYiA6IHsgaWQgfTtcbiAgfSxcbiAgLyoqIEByZXR1cm4ge3ZvaWR9ICovXG4gIFRhYkNsb3NlKHsgaWQgfSA9IHt9LCBzcmMpIHtcbiAgICBjb25zdCB0YWJJZCA9IGlkIHx8IHNyYz8udGFiPy5pZDtcbiAgICBpZiAodGFiSWQgPj0gMCkgYnJvd3Nlci50YWJzLnJlbW92ZSh0YWJJZCk7XG4gIH0sXG4gIFRhYkZvY3VzKF8sIHNyYykge1xuICAgIGJyb3dzZXIudGFicy51cGRhdGUoc3JjLnRhYi5pZCwgeyBhY3RpdmU6IHRydWUgfSkuY2F0Y2gobm9vcCk7XG4gICAgYnJvd3Nlci53aW5kb3dzLnVwZGF0ZShzcmMudGFiLndpbmRvd0lkLCB7IGZvY3VzZWQ6IHRydWUgfSkuY2F0Y2gobm9vcCk7XG4gIH0sXG59KTtcblxuLy8gRmlyZWZveCBBbmRyb2lkIGRvZXMgbm90IHN1cHBvcnQgYG9wZW5lclRhYklkYCBmaWVsZCwgaXQgZmFpbHMgaWYgdGhpcyBmaWVsZCBpcyBwYXNzZWRcbi8vIFhYWCBvcGVuZXJUYWJJZCBzZWVtcyBidWdneSBvbiBDaHJvbWUsIGh0dHBzOi8vY3JidWcuY29tLzk2NzE1MFxuLy8gSXQgc2VlbXMgdG8gZG8gbm90aGluZyBldmVuIHNldCBzdWNjZXNzZnVsbHkgd2l0aCBgYnJvd3Nlci50YWJzLnVwZGF0ZWAuXG51YS5yZWFkeS50aGVuKCgpID0+IHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModWEsIHtcbiAgICBvcGVuZXJUYWJJZFN1cHBvcnRlZDoge1xuICAgICAgdmFsdWU6ICFJU19GSVJFRk9YIHx8IHVhLmZpcmVmb3ggPj0gNTcgJiYgdWEub3MgIT09ICdhbmRyb2lkJyxcbiAgICB9LFxuICB9KTtcbn0pO1xuXG5icm93c2VyLnRhYnMub25SZW1vdmVkLmFkZExpc3RlbmVyKChpZCkgPT4ge1xuICBjb25zdCBvcGVuZXJJZCA9IG9wZW5lcnNbaWRdO1xuICBpZiAob3BlbmVySWQgPj0gMCkge1xuICAgIHNlbmRUYWJDbWQob3BlbmVySWQsICdUYWJDbG9zZWQnLCBpZCk7XG4gICAgZGVsZXRlIG9wZW5lcnNbaWRdO1xuICB9XG59KTtcblxuZnVuY3Rpb24gZ2V0Q29udGFpbmVySWQoaW5kZXgpIHtcbiAgcmV0dXJuIGluZGV4ID09PSAwICYmICdmaXJlZm94LWRlZmF1bHQnXG4gICAgICAgICB8fCBpbmRleCA+IDAgJiYgYGZpcmVmb3gtY29udGFpbmVyLSR7aW5kZXh9YDtcbn1cbiIsImltcG9ydCB7IHBvc3RJbml0aWFsaXplIH0gZnJvbSAnLi9pbml0JztcbmltcG9ydCB7IGdldERlZmF1bHRPcHRpb24sIGdldE9wdGlvbiwgc2V0T3B0aW9uIH0gZnJvbSAnLi9vcHRpb25zJztcblxuZXhwb3J0IGNvbnN0IFNDUklQVF9URU1QTEFURSA9ICdzY3JpcHRUZW1wbGF0ZSc7XG5jb25zdCBTQ1JJUFRfVEVNUExBVEVfRURJVEVEID0gYCR7U0NSSVBUX1RFTVBMQVRFfUVkaXRlZGA7XG5jb25zdCBJTklUSUFMX1RFTVBMQVRFID0gYFxcXG4vLyA9PVVzZXJTY3JpcHQ9PVxuLy8gQG5hbWUgTmV3IFNjcmlwdFxuLy8gQG5hbWVzcGFjZSBWaW9sZW50bW9ua2V5IFNjcmlwdHNcbi8vIEBtYXRjaCB7e3VybH19XG4vLyBAZ3JhbnQgbm9uZVxuLy8gPT0vVXNlclNjcmlwdD09XG5gO1xuXG5wb3N0SW5pdGlhbGl6ZS5wdXNoKCgpID0+IHtcbiAgbGV0IGVkaXRlZCA9IGdldE9wdGlvbihTQ1JJUFRfVEVNUExBVEVfRURJVEVEKTtcbiAgLy8gUHJlc2VydmUgYW4gZWRpdGVkIHRlbXBsYXRlXG4gIGlmIChlZGl0ZWQpIHJldHVybjtcbiAgY29uc3QgdGVtcGxhdGUgPSBnZXRPcHRpb24oU0NSSVBUX1RFTVBMQVRFKTtcbiAgLy8gV2hlbiB1cGRhdGluZyBmcm9tIGFuIG9sZCB2ZXJzaW9uLCBzZXQgdGhlIGVkaXRlZCBmbGFnIHJldHJvYWN0aXZlbHlcbiAgaWYgKGVkaXRlZCA9PSBudWxsKSB7XG4gICAgZWRpdGVkID0gdGVtcGxhdGUgIT09IElOSVRJQUxfVEVNUExBVEU7XG4gICAgaWYgKGVkaXRlZCkgc2V0T3B0aW9uKFNDUklQVF9URU1QTEFURV9FRElURUQsIHRydWUpO1xuICAgIGVsc2UgcmVzZXRTY3JpcHRUZW1wbGF0ZSgpO1xuICAvLyBXaGVuIHVwZGF0aW5nIFZNLCB1cGRhdGUgdG8gdGhlIG5ldyBkZWZhdWx0IHRlbXBsYXRlXG4gIH0gZWxzZSBpZiAodGVtcGxhdGUgIT09IGdldERlZmF1bHRPcHRpb24oU0NSSVBUX1RFTVBMQVRFKSkge1xuICAgIHJlc2V0U2NyaXB0VGVtcGxhdGUoKTtcbiAgfVxufSk7XG5cbmV4cG9ydCBmdW5jdGlvbiByZXNldFNjcmlwdFRlbXBsYXRlKGNoYW5nZXMgPSB7fSkge1xuICBjb25zdCBkZWZhdWx0VGVtcGxhdGUgPSBnZXREZWZhdWx0T3B0aW9uKFNDUklQVF9URU1QTEFURSk7XG4gIGxldCB0ZW1wbGF0ZSA9IGNoYW5nZXNbU0NSSVBUX1RFTVBMQVRFXTtcbiAgaWYgKCF0ZW1wbGF0ZSkge1xuICAgIHRlbXBsYXRlID0gZGVmYXVsdFRlbXBsYXRlO1xuICAgIGNoYW5nZXNbU0NSSVBUX1RFTVBMQVRFXSA9IHRlbXBsYXRlO1xuICAgIHNldE9wdGlvbihTQ1JJUFRfVEVNUExBVEUsIHRlbXBsYXRlKTtcbiAgfVxuICBjb25zdCBlZGl0ZWQgPSB0ZW1wbGF0ZSAhPT0gZGVmYXVsdFRlbXBsYXRlO1xuICBpZiAoZWRpdGVkICE9PSBjaGFuZ2VzW1NDUklQVF9URU1QTEFURV9FRElURURdKSB7XG4gICAgY2hhbmdlc1tTQ1JJUFRfVEVNUExBVEVfRURJVEVEXSA9IGVkaXRlZDtcbiAgICBzZXRPcHRpb24oU0NSSVBUX1RFTVBMQVRFX0VESVRFRCwgZWRpdGVkKTtcbiAgfVxufVxuIiwiaW1wb3J0ICogYXMgdGxkIGZyb20gJyMvY29tbW9uL3RsZCc7XG5pbXBvcnQgY2FjaGUgZnJvbSAnLi9jYWNoZSc7XG5pbXBvcnQgeyBwb3N0SW5pdGlhbGl6ZSB9IGZyb20gJy4vaW5pdCc7XG5pbXBvcnQgeyBjb21tYW5kcyB9IGZyb20gJy4vbWVzc2FnZSc7XG5pbXBvcnQgeyBnZXRPcHRpb24sIGhvb2tPcHRpb25zIH0gZnJvbSAnLi9vcHRpb25zJztcblxuT2JqZWN0LmFzc2lnbihjb21tYW5kcywge1xuICBUZXN0QmxhY2tsaXN0OiB0ZXN0QmxhY2tsaXN0LFxufSk7XG5cbnBvc3RJbml0aWFsaXplLnB1c2gocmVzZXRCbGFja2xpc3QpO1xuXG50bGQuaW5pdFRMRCh0cnVlKTtcblxuY29uc3QgUkVfTUFUQ0hfUEFSVFMgPSAvKC4qPyk6XFwvXFwvKFteL10qKVxcLyguKikvO1xubGV0IGJsYWNrbGlzdFJ1bGVzID0gW107XG5ob29rT3B0aW9ucygoY2hhbmdlcykgPT4ge1xuICBpZiAoJ2JsYWNrbGlzdCcgaW4gY2hhbmdlcykgcmVzZXRCbGFja2xpc3QoY2hhbmdlcy5ibGFja2xpc3QgfHwgJycpO1xufSk7XG5jb25zdCBSRV9IVFRQX09SX0hUVFBTID0gL15odHRwcz8kL2k7XG5cbi8qXG4gU2ltcGxlIEZJRk8gcXVldWUgZm9yIHRoZSByZXN1bHRzIG9mIHRlc3RCbGFja2xpc3QsIGNhY2hlZCBzZXBhcmF0ZWx5IGZyb20gdGhlIG1haW4gfGNhY2hlfFxuIGJlY2F1c2UgdGhlIGJsYWNrbGlzdCBpcyB1cGRhdGVkIG9ubHkgb25jZSBpbiBhIHdoaWxlIHNvIGl0cyBlbnRyaWVzIHdvdWxkIGJlIGNyb3dkaW5nXG4gdGhlIG1haW4gY2FjaGUgYW5kIHJlZHVjaW5nIGl0cyBwZXJmb3JtYW5jZSAob2JqZWN0cyB3aXRoIGxvdHMgb2Yga2V5cyBhcmUgc2xvdyB0byBhY2Nlc3MpLlxuXG4gV2UgYWxzbyBkb24ndCBuZWVkIHRvIGF1dG8tZXhwaXJlIHRoZSBlbnRyaWVzIGFmdGVyIGEgdGltZW91dC5cbiBUaGUgb25seSBsaW1pdCB3ZSdyZSBjb25jZXJuZWQgd2l0aCBpcyB0aGUgb3ZlcmFsbCBtZW1vcnkgdXNlZC5cbiBUaGUgbGltaXQgaXMgc3BlY2lmaWVkIGluIHRoZSBhbW91bnQgb2YgdW5pY29kZSBjaGFyYWN0ZXJzIChzdHJpbmcgbGVuZ3RoKSBmb3Igc2ltcGxpY2l0eS5cbiBEaXNyZWdhcmRpbmcgZGVkdXBsaWNhdGlvbiBkdWUgdG8gaW50ZXJuaW5nLCB0aGUgYWN0dWFsIG1lbW9yeSB1c2VkIGlzIGFwcHJveGltYXRlbHkgdHdpY2UgYXMgYmlnOlxuIDIgKiBrZXlMZW5ndGggKyBvYmplY3RTdHJ1Y3R1cmVPdmVyaGVhZCAqIG9iamVjdENvdW50XG4qL1xuY29uc3QgTUFYX0JMX0NBQ0hFX0xFTkdUSCA9IDEwMGUzO1xubGV0IGJsQ2FjaGUgPSB7fTtcbmxldCBibENhY2hlU2l6ZSA9IDA7XG5cbmZ1bmN0aW9uIHRlc3RSdWxlcyh1cmwsIHJ1bGVzLCBwcmVmaXgsIHJ1bGVCdWlsZGVyKSB7XG4gIHJldHVybiBydWxlcy5zb21lKHJ1bGUgPT4ge1xuICAgIGNvbnN0IGtleSA9IGAke3ByZWZpeH06JHtydWxlfWA7XG4gICAgY29uc3QgbWF0Y2hlciA9IGNhY2hlLmdldChrZXkpIHx8IGNhY2hlLnB1dChrZXksIHJ1bGVCdWlsZGVyKHJ1bGUpKTtcbiAgICByZXR1cm4gbWF0Y2hlci50ZXN0KHVybCk7XG4gIH0pO1xufVxuXG4vKipcbiAqIFRlc3QgZ2xvYiBydWxlcyBsaWtlIGBAaW5jbHVkZWAgYW5kIGBAZXhjbHVkZWAuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0ZXN0R2xvYih1cmwsIHJ1bGVzKSB7XG4gIHJldHVybiB0ZXN0UnVsZXModXJsLCBydWxlcywgJ3JlJywgYXV0b1JlZyk7XG59XG5cbi8qKlxuICogVGVzdCBtYXRjaCBydWxlcyBsaWtlIGBAbWF0Y2hgIGFuZCBgQGV4Y2x1ZGVfbWF0Y2hgLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdGVzdE1hdGNoKHVybCwgcnVsZXMpIHtcbiAgcmV0dXJuIHRlc3RSdWxlcyh1cmwsIHJ1bGVzLCAnbWF0Y2gnLCBtYXRjaFRlc3Rlcik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0ZXN0U2NyaXB0KHVybCwgc2NyaXB0KSB7XG4gIGNhY2hlLmJhdGNoKHRydWUpO1xuICBjb25zdCB7IGN1c3RvbSwgbWV0YSB9ID0gc2NyaXB0O1xuICBjb25zdCBtYXQgPSBtZXJnZUxpc3RzKGN1c3RvbS5vcmlnTWF0Y2ggJiYgbWV0YS5tYXRjaCwgY3VzdG9tLm1hdGNoKTtcbiAgY29uc3QgaW5jID0gbWVyZ2VMaXN0cyhjdXN0b20ub3JpZ0luY2x1ZGUgJiYgbWV0YS5pbmNsdWRlLCBjdXN0b20uaW5jbHVkZSk7XG4gIGNvbnN0IGV4YyA9IG1lcmdlTGlzdHMoY3VzdG9tLm9yaWdFeGNsdWRlICYmIG1ldGEuZXhjbHVkZSwgY3VzdG9tLmV4Y2x1ZGUpO1xuICBjb25zdCBleGNNYXQgPSBtZXJnZUxpc3RzKGN1c3RvbS5vcmlnRXhjbHVkZU1hdGNoICYmIG1ldGEuZXhjbHVkZU1hdGNoLCBjdXN0b20uZXhjbHVkZU1hdGNoKTtcbiAgLy8gbWF0Y2ggYWxsIGlmIG5vIEBtYXRjaCBvciBAaW5jbHVkZSBydWxlXG4gIGxldCBvayA9ICFtYXQubGVuZ3RoICYmICFpbmMubGVuZ3RoO1xuICAvLyBAbWF0Y2hcbiAgb2sgPSBvayB8fCB0ZXN0TWF0Y2godXJsLCBtYXQpO1xuICAvLyBAaW5jbHVkZVxuICBvayA9IG9rIHx8IHRlc3RHbG9iKHVybCwgaW5jKTtcbiAgLy8gQGV4Y2x1ZGUtbWF0Y2hcbiAgb2sgPSBvayAmJiAhdGVzdE1hdGNoKHVybCwgZXhjTWF0KTtcbiAgLy8gQGV4Y2x1ZGVcbiAgb2sgPSBvayAmJiAhdGVzdEdsb2IodXJsLCBleGMpO1xuICBjYWNoZS5iYXRjaChmYWxzZSk7XG4gIHJldHVybiBvaztcbn1cblxuZnVuY3Rpb24gbWVyZ2VMaXN0cyguLi5hcmdzKSB7XG4gIHJldHVybiBhcmdzLnJlZHVjZSgocmVzLCBpdGVtKSA9PiAoaXRlbSA/IHJlcy5jb25jYXQoaXRlbSkgOiByZXMpLCBbXSk7XG59XG5cbmZ1bmN0aW9uIHN0cjJSRShzdHIpIHtcbiAgY29uc3QgcmUgPSBzdHIucmVwbGFjZSgvKFsuPytbXFxde30oKXxeJF0pL2csICdcXFxcJDEnKS5yZXBsYWNlKC9cXCovZywgJy4qPycpO1xuICByZXR1cm4gcmU7XG59XG5cbmZ1bmN0aW9uIGJpbmRSRShyZSkge1xuICByZXR1cm4gcmUudGVzdC5iaW5kKHJlKTtcbn1cblxuZnVuY3Rpb24gYXV0b1JlZyhzdHIpIHtcbiAgLy8gcmVnZXhwIG1vZGU6IGNhc2UtaW5zZW5zaXRpdmUgcGVyIEdNIGRvY3VtZW50YXRpb25cbiAgaWYgKHN0ci5sZW5ndGggPiAxICYmIHN0clswXSA9PT0gJy8nICYmIHN0cltzdHIubGVuZ3RoIC0gMV0gPT09ICcvJykge1xuICAgIGxldCByZTtcbiAgICB0cnkgeyByZSA9IG5ldyBSZWdFeHAoc3RyLnNsaWNlKDEsIC0xKSwgJ2knKTsgfSBjYXRjaCAoZSkgeyAvKiBpZ25vcmUgKi8gfVxuICAgIHJldHVybiB7IHRlc3Q6IHJlID8gYmluZFJFKHJlKSA6ICgpID0+IGZhbHNlIH07XG4gIH1cbiAgLy8gZ2xvYiBtb2RlOiBjYXNlLWluc2Vuc2l0aXZlIHRvIG1hdGNoIEdNNCAmIFRhbXBlcm1vbmtleSBidWdnZWQgYmVoYXZpb3JcbiAgY29uc3QgcmVTdHIgPSBzdHIyUkUoc3RyLnRvTG93ZXJDYXNlKCkpO1xuICBpZiAodGxkLmlzUmVhZHkoKSAmJiBzdHIuaW5jbHVkZXMoJy50bGQvJykpIHtcbiAgICBjb25zdCByZVRsZFN0ciA9IHJlU3RyLnJlcGxhY2UoJ1xcXFwudGxkLycsICcoKD86XFxcXC5bLVxcXFx3XSspKykvJyk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRlc3Q6ICh0c3RyKSA9PiB7XG4gICAgICAgIGNvbnN0IG1hdGNoZXMgPSB0c3RyLnRvTG93ZXJDYXNlKCkubWF0Y2gocmVUbGRTdHIpO1xuICAgICAgICBpZiAobWF0Y2hlcykge1xuICAgICAgICAgIGNvbnN0IHN1ZmZpeCA9IG1hdGNoZXNbMV0uc2xpY2UoMSk7XG4gICAgICAgICAgaWYgKHRsZC5nZXRQdWJsaWNTdWZmaXgoc3VmZml4KSA9PT0gc3VmZml4KSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9LFxuICAgIH07XG4gIH1cbiAgY29uc3QgcmUgPSBuZXcgUmVnRXhwKGBeJHtyZVN0cn0kYCwgJ2knKTsgLy8gU3RyaW5nIHdpdGggd2lsZGNhcmRzXG4gIHJldHVybiB7IHRlc3Q6IGJpbmRSRShyZSkgfTtcbn1cblxuZnVuY3Rpb24gbWF0Y2hTY2hlbWUocnVsZSwgZGF0YSkge1xuICAvLyBleGFjdCBtYXRjaFxuICBpZiAocnVsZSA9PT0gZGF0YSkgcmV0dXJuIDE7XG4gIC8vICogPSBodHRwIHwgaHR0cHNcbiAgLy8gc3VwcG9ydCBodHRwKlxuICBpZiAoW1xuICAgICcqJyxcbiAgICAnaHR0cConLFxuICBdLmluY2x1ZGVzKHJ1bGUpICYmIFJFX0hUVFBfT1JfSFRUUFMudGVzdChkYXRhKSkgcmV0dXJuIDE7XG4gIHJldHVybiAwO1xufVxuXG5jb25zdCBSRV9TVFJfQU5ZID0gJyg/OnwuKj9cXFxcLiknO1xuY29uc3QgUkVfU1RSX1RMRCA9ICcoKD86XFxcXC5bLVxcXFx3XSspKyknO1xuZnVuY3Rpb24gaG9zdE1hdGNoZXIocnVsZSkge1xuICAvLyAqIG1hdGNoZXMgYWxsXG4gIGlmIChydWxlID09PSAnKicpIHtcbiAgICByZXR1cm4gKCkgPT4gMTtcbiAgfVxuICAvLyAqLmV4YW1wbGUuY29tXG4gIC8vIHd3dy5nb29nbGUuKlxuICAvLyB3d3cuZ29vZ2xlLnRsZFxuICBjb25zdCBydWxlTEMgPSBydWxlLnRvTG93ZXJDYXNlKCk7IC8vIGhvc3QgbWF0Y2hpbmcgaXMgY2FzZS1pbnNlbnNpdGl2ZVxuICBsZXQgcHJlZml4ID0gJyc7XG4gIGxldCBiYXNlID0gcnVsZUxDO1xuICBsZXQgc3VmZml4ID0gJyc7XG4gIGlmIChydWxlLnN0YXJ0c1dpdGgoJyouJykpIHtcbiAgICBiYXNlID0gYmFzZS5zbGljZSgyKTtcbiAgICBwcmVmaXggPSBSRV9TVFJfQU5ZO1xuICB9XG4gIGlmICh0bGQuaXNSZWFkeSgpICYmIHJ1bGUuZW5kc1dpdGgoJy50bGQnKSkge1xuICAgIGJhc2UgPSBiYXNlLnNsaWNlKDAsIC00KTtcbiAgICBzdWZmaXggPSBSRV9TVFJfVExEO1xuICB9XG4gIGNvbnN0IHJlID0gbmV3IFJlZ0V4cChgXiR7cHJlZml4fSR7c3RyMlJFKGJhc2UpfSR7c3VmZml4fSRgKTtcbiAgcmV0dXJuIChkYXRhKSA9PiB7XG4gICAgLy8gZXhhY3QgbWF0Y2gsIGNhc2UtaW5zZW5zaXRpdmVcbiAgICBkYXRhID0gZGF0YS50b0xvd2VyQ2FzZSgpO1xuICAgIGlmIChydWxlTEMgPT09IGRhdGEpIHJldHVybiAxO1xuICAgIC8vIGZ1bGwgY2hlY2tcbiAgICBjb25zdCBtYXRjaGVzID0gZGF0YS5tYXRjaChyZSk7XG4gICAgaWYgKG1hdGNoZXMpIHtcbiAgICAgIGNvbnN0IFssIHRsZFN0cl0gPSBtYXRjaGVzO1xuICAgICAgaWYgKCF0bGRTdHIpIHJldHVybiAxO1xuICAgICAgY29uc3QgdGxkU3VmZml4ID0gdGxkU3RyLnNsaWNlKDEpO1xuICAgICAgcmV0dXJuIHRsZC5nZXRQdWJsaWNTdWZmaXgodGxkU3VmZml4KSA9PT0gdGxkU3VmZml4O1xuICAgIH1cbiAgICByZXR1cm4gMDtcbiAgfTtcbn1cblxuZnVuY3Rpb24gcGF0aE1hdGNoZXIocnVsZSkge1xuICBjb25zdCBpSGFzaCA9IHJ1bGUuaW5kZXhPZignIycpO1xuICBsZXQgaVF1ZXJ5ID0gcnVsZS5pbmRleE9mKCc/Jyk7XG4gIGxldCBzdHJSZSA9IHN0cjJSRShydWxlKTtcbiAgaWYgKGlRdWVyeSA+IGlIYXNoKSBpUXVlcnkgPSAtMTtcbiAgaWYgKGlIYXNoIDwgMCkge1xuICAgIGlmIChpUXVlcnkgPCAwKSBzdHJSZSA9IGBeJHtzdHJSZX0oPzpbPyNdfCQpYDtcbiAgICBlbHNlIHN0clJlID0gYF4ke3N0clJlfSg/OiN8JClgO1xuICB9XG4gIHJldHVybiBiaW5kUkUobmV3IFJlZ0V4cChzdHJSZSkpO1xufVxuXG5mdW5jdGlvbiBtYXRjaFRlc3RlcihydWxlKSB7XG4gIGxldCB0ZXN0O1xuICBpZiAocnVsZSA9PT0gJzxhbGxfdXJscz4nKSB7XG4gICAgdGVzdCA9ICgpID0+IHRydWU7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgcnVsZVBhcnRzID0gcnVsZS5tYXRjaChSRV9NQVRDSF9QQVJUUyk7XG4gICAgaWYgKHJ1bGVQYXJ0cykge1xuICAgICAgY29uc3QgbWF0Y2hIb3N0ID0gaG9zdE1hdGNoZXIocnVsZVBhcnRzWzJdKTtcbiAgICAgIGNvbnN0IG1hdGNoUGF0aCA9IHBhdGhNYXRjaGVyKHJ1bGVQYXJ0c1szXSk7XG4gICAgICB0ZXN0ID0gKHVybCkgPT4ge1xuICAgICAgICBjb25zdCBwYXJ0cyA9IHVybC5tYXRjaChSRV9NQVRDSF9QQVJUUyk7XG4gICAgICAgIHJldHVybiAhIXJ1bGVQYXJ0cyAmJiAhIXBhcnRzXG4gICAgICAgICAgJiYgbWF0Y2hTY2hlbWUocnVsZVBhcnRzWzFdLCBwYXJ0c1sxXSlcbiAgICAgICAgICAmJiBtYXRjaEhvc3QocGFydHNbMl0pXG4gICAgICAgICAgJiYgbWF0Y2hQYXRoKHBhcnRzWzNdKTtcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIElnbm9yZSBpbnZhbGlkIG1hdGNoIHJ1bGVzXG4gICAgICB0ZXN0ID0gKCkgPT4gZmFsc2U7XG4gICAgfVxuICB9XG4gIHJldHVybiB7IHRlc3QgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRlc3RCbGFja2xpc3QodXJsKSB7XG4gIGxldCByZXMgPSBibENhY2hlW3VybF07XG4gIGlmIChyZXMgPT09IHVuZGVmaW5lZCkge1xuICAgIGNvbnN0IHJ1bGUgPSBibGFja2xpc3RSdWxlcy5maW5kKCh7IHRlc3QgfSkgPT4gdGVzdCh1cmwpKTtcbiAgICByZXMgPSBydWxlPy5yZWplY3QgJiYgcnVsZS50ZXh0O1xuICAgIHVwZGF0ZUJsYWNrbGlzdENhY2hlKHVybCwgcmVzIHx8IGZhbHNlKTtcbiAgfVxuICByZXR1cm4gcmVzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVzZXRCbGFja2xpc3QobGlzdCkge1xuICBjYWNoZS5iYXRjaCh0cnVlKTtcbiAgY29uc3QgcnVsZXMgPSBsaXN0ID09IG51bGwgPyBnZXRPcHRpb24oJ2JsYWNrbGlzdCcpIDogbGlzdDtcbiAgaWYgKHByb2Nlc3MuZW52LkRFQlVHKSB7XG4gICAgY29uc29sZS5pbmZvKCdSZXNldCBibGFja2xpc3Q6JywgcnVsZXMpO1xuICB9XG4gIC8vIFhYWCBjb21wYXRpYmxlIHdpdGgge0FycmF5fSBsaXN0IGluIHYyLjYuMS1cbiAgYmxhY2tsaXN0UnVsZXMgPSAoQXJyYXkuaXNBcnJheShydWxlcykgPyBydWxlcyA6IChydWxlcyB8fCAnJykuc3BsaXQoJ1xcbicpKVxuICAubWFwKCh0ZXh0KSA9PiB7XG4gICAgdGV4dCA9IHRleHQudHJpbSgpO1xuICAgIGlmICghdGV4dCB8fCB0ZXh0LnN0YXJ0c1dpdGgoJyMnKSkgcmV0dXJuIG51bGw7XG4gICAgY29uc3QgbW9kZSA9IHRleHQuc3RhcnRzV2l0aCgnQCcpICYmIHRleHQuc3BsaXQoL1xccy8sIDEpWzBdO1xuICAgIGNvbnN0IHJ1bGUgPSBtb2RlID8gdGV4dC5zbGljZShtb2RlLmxlbmd0aCArIDEpLnRyaW0oKSA6IHRleHQ7XG4gICAgY29uc3QgcmVqZWN0ID0gbW9kZSAhPT0gJ0BpbmNsdWRlJyAmJiBtb2RlICE9PSAnQG1hdGNoJzsgLy8gQGluY2x1ZGUgYW5kIEBtYXRjaCA9IHdoaXRlbGlzdFxuICAgIGNvbnN0IHsgdGVzdCB9ID0gbW9kZSA9PT0gJ0BpbmNsdWRlJyB8fCBtb2RlID09PSAnQGV4Y2x1ZGUnICYmIGF1dG9SZWcocnVsZSlcbiAgICAgIHx8ICFtb2RlICYmICFydWxlLmluY2x1ZGVzKCcvJykgJiYgbWF0Y2hUZXN0ZXIoYCo6Ly8ke3J1bGV9LypgKSAvLyBkb21haW5cbiAgICAgIHx8IG1hdGNoVGVzdGVyKHJ1bGUpOyAvLyBAbWF0Y2ggYW5kIEBleGNsdWRlLW1hdGNoXG4gICAgcmV0dXJuIHsgcmVqZWN0LCB0ZXN0LCB0ZXh0IH07XG4gIH0pXG4gIC5maWx0ZXIoQm9vbGVhbik7XG4gIGJsQ2FjaGUgPSB7fTtcbiAgYmxDYWNoZVNpemUgPSAwO1xuICBjYWNoZS5iYXRjaChmYWxzZSk7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUJsYWNrbGlzdENhY2hlKGtleSwgdmFsdWUpIHtcbiAgYmxDYWNoZVtrZXldID0gdmFsdWU7XG4gIGJsQ2FjaGVTaXplICs9IGtleS5sZW5ndGg7XG4gIGlmIChibENhY2hlU2l6ZSA+IE1BWF9CTF9DQUNIRV9MRU5HVEgpIHtcbiAgICBPYmplY3Qua2V5cyhibENhY2hlKVxuICAgIC5zb21lKChrKSA9PiB7XG4gICAgICBibENhY2hlU2l6ZSAtPSBrLmxlbmd0aDtcbiAgICAgIGRlbGV0ZSBibENhY2hlW2tdO1xuICAgICAgLy8gcmVkdWNlIHRoZSBjYWNoZSB0byA3NSUgc28gdGhhdCB0aGlzIGZ1bmN0aW9uIGRvZXNuJ3QgcnVuIHRvbyBvZnRlbi5cbiAgICAgIHJldHVybiBibENhY2hlU2l6ZSA8IE1BWF9CTF9DQUNIRV9MRU5HVEggKiAzIC8gNDtcbiAgICB9KTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgZ2V0U2NyaXB0TmFtZSwgaTE4biwgcmVxdWVzdCwgY29tcGFyZVZlcnNpb24sIHNlbmRDbWQsIHRydWVKb2luIH0gZnJvbSAnIy9jb21tb24nO1xuaW1wb3J0IHsgQ01EX1NDUklQVF9VUERBVEUsIElTX0RFViB9IGZyb20gJyMvY29tbW9uL2NvbnN0cyc7XG5pbXBvcnQgeyBmZXRjaFJlc291cmNlcywgZ2V0U2NyaXB0QnlJZCwgZ2V0U2NyaXB0cywgcGFyc2VTY3JpcHQgfSBmcm9tICcuL2RiJztcbmltcG9ydCB7IHBhcnNlTWV0YSB9IGZyb20gJy4vc2NyaXB0JztcbmltcG9ydCB7IGdldE9wdGlvbiwgc2V0T3B0aW9uIH0gZnJvbSAnLi9vcHRpb25zJztcbmltcG9ydCB7IGNvbW1hbmRzIH0gZnJvbSAnLi9tZXNzYWdlJztcblxuT2JqZWN0LmFzc2lnbihjb21tYW5kcywge1xuICAvKiogQHJldHVybiB7UHJvbWlzZTx0cnVlPz59ICovXG4gIGFzeW5jIENoZWNrVXBkYXRlKGlkKSB7XG4gICAgY29uc3Qgc2NyaXB0ID0gZ2V0U2NyaXB0QnlJZChpZCk7XG4gICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IGNoZWNrQWxsQW5kTm90aWZ5KFtzY3JpcHRdKTtcbiAgICByZXR1cm4gcmVzdWx0c1swXTtcbiAgfSxcbiAgLyoqIEByZXR1cm4ge1Byb21pc2U8Ym9vbGVhbj59ICovXG4gIGFzeW5jIENoZWNrVXBkYXRlQWxsKCkge1xuICAgIHNldE9wdGlvbignbGFzdFVwZGF0ZScsIERhdGUubm93KCkpO1xuICAgIGNvbnN0IHRvVXBkYXRlID0gZ2V0U2NyaXB0cygpLmZpbHRlcihpdGVtID0+IGl0ZW0uY29uZmlnLnNob3VsZFVwZGF0ZSk7XG4gICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IGNoZWNrQWxsQW5kTm90aWZ5KHRvVXBkYXRlKTtcbiAgICByZXR1cm4gcmVzdWx0cy5pbmNsdWRlcyh0cnVlKTtcbiAgfSxcbn0pO1xuXG5hc3luYyBmdW5jdGlvbiBjaGVja0FsbEFuZE5vdGlmeShzY3JpcHRzKSB7XG4gIGNvbnN0IG5vdGVzID0gW107XG4gIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbChzY3JpcHRzLm1hcChpdGVtID0+IGNoZWNrVXBkYXRlKGl0ZW0sIG5vdGVzKSkpO1xuICBpZiAobm90ZXMubGVuZ3RoID09PSAxKSB7XG4gICAgbm90aWZ5KG5vdGVzWzBdKTtcbiAgfSBlbHNlIGlmIChub3Rlcy5sZW5ndGgpIHtcbiAgICBub3RpZnkoe1xuICAgICAgLy8gRkYgZG9lc24ndCBzaG93IG5vdGlmaWNhdGlvbnMgb2YgdHlwZTonbGlzdCcgc28gd2UnbGwgdXNlIGB0ZXh0YCBldmVyeXdoZXJlXG4gICAgICB0ZXh0OiBub3Rlcy5tYXAobiA9PiBuLnRleHQpLmpvaW4oJ1xcbicpLFxuICAgICAgb25DbGljazogYnJvd3Nlci5ydW50aW1lLm9wZW5PcHRpb25zUGFnZSxcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0cztcbn1cblxuY29uc3QgcHJvY2Vzc2VzID0ge307XG5cbi8vIHJlc29sdmVzIHRvIHRydWUgaWYgc3VjY2Vzc2Z1bGx5IHVwZGF0ZWRcbmZ1bmN0aW9uIGNoZWNrVXBkYXRlKHNjcmlwdCwgbm90ZXMpIHtcbiAgY29uc3QgeyBpZCB9ID0gc2NyaXB0LnByb3BzO1xuICBjb25zdCBwcm9taXNlID0gcHJvY2Vzc2VzW2lkXSB8fCAocHJvY2Vzc2VzW2lkXSA9IGRvQ2hlY2tVcGRhdGUoc2NyaXB0LCBub3RlcykpO1xuICByZXR1cm4gcHJvbWlzZTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gZG9DaGVja1VwZGF0ZShzY3JpcHQsIG5vdGVzKSB7XG4gIGNvbnN0IHsgaWQgfSA9IHNjcmlwdC5wcm9wcztcbiAgbGV0IG1zZ09rO1xuICBsZXQgbXNnRXJyO1xuICBsZXQgcmVzb3VyY2VPcHRzO1xuICB0cnkge1xuICAgIGNvbnN0IHsgdXBkYXRlIH0gPSBhd2FpdCBwYXJzZVNjcmlwdCh7XG4gICAgICBpZCxcbiAgICAgIGNvZGU6IGF3YWl0IGRvd25sb2FkVXBkYXRlKHNjcmlwdCksXG4gICAgICB1cGRhdGU6IHsgY2hlY2tpbmc6IGZhbHNlIH0sXG4gICAgfSk7XG4gICAgbXNnT2sgPSBpMThuKCdtc2dTY3JpcHRVcGRhdGVkJywgW2dldFNjcmlwdE5hbWUodXBkYXRlKV0pO1xuICAgIHJlc291cmNlT3B0cyA9IHsgY2FjaGU6ICduby1jYWNoZScgfTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBjYXRjaCAodXBkYXRlKSB7XG4gICAgbXNnRXJyID0gdXBkYXRlLmVycm9yO1xuICAgIC8vIEVpdGhlciBwcm9jZWVkIHdpdGggbm9ybWFsIGZldGNoIG9uIG5vLXVwZGF0ZSBvciBza2lwIGl0IGFsdG9nZXRoZXIgb24gZXJyb3JcbiAgICByZXNvdXJjZU9wdHMgPSAhdXBkYXRlLmVycm9yICYmICF1cGRhdGUuY2hlY2tpbmcgJiYge307XG4gICAgaWYgKHByb2Nlc3MuZW52LkRFQlVHKSBjb25zb2xlLmVycm9yKHVwZGF0ZSk7XG4gIH0gZmluYWxseSB7XG4gICAgaWYgKHJlc291cmNlT3B0cyAmJiAhSVNfREVWKSB7IC8vIERFVueKtuaAgeS4jeabtOaWsHJlc291cmNlXG4gICAgICBtc2dFcnIgPSBhd2FpdCBmZXRjaFJlc291cmNlcyhzY3JpcHQsIG51bGwsIHJlc291cmNlT3B0cyk7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuREVCVUcgJiYgbXNnRXJyKSBjb25zb2xlLmVycm9yKG1zZ0Vycik7XG4gICAgfVxuICAgIGlmIChjYW5Ob3RpZnkoc2NyaXB0KSAmJiAobXNnT2sgfHwgbXNnRXJyKSkge1xuICAgICAgbm90ZXMucHVzaCh7XG4gICAgICAgIHNjcmlwdCxcbiAgICAgICAgdGV4dDogW21zZ09rLCBtc2dFcnJdOjp0cnVlSm9pbignXFxuJyksXG4gICAgICB9KTtcbiAgICB9XG4gICAgZGVsZXRlIHByb2Nlc3Nlc1tpZF07XG4gIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gZG93bmxvYWRVcGRhdGUoeyBwcm9wczogeyBpZCB9LCBtZXRhLCBjdXN0b20gfSkge1xuICBjb25zdCBkb3dubG9hZFVSTCA9IGN1c3RvbS5kb3dubG9hZFVSTCB8fCBtZXRhLmRvd25sb2FkVVJMIHx8IGN1c3RvbS5sYXN0SW5zdGFsbFVSTDtcbiAgbGV0IHVwZGF0ZVVSTCA9IGN1c3RvbS51cGRhdGVVUkwgfHwgbWV0YS51cGRhdGVVUkwgfHwgZG93bmxvYWRVUkw7XG4gIGlmIChJU19ERVYgJiYgdXBkYXRlVVJMKSB7XG4gICAgaWYgKG1ldGEuZGV2KSB7XG4gICAgICBjb25zdCB1cmxzID0gdXBkYXRlVVJMLnNwbGl0KCcvJyk7XG4gICAgICB1cGRhdGVVUkwgPSBgaHR0cDovLzEyNy4wLjAuMToke21ldGEuZGV2fS8ke3VybHNbdXJscy5sZW5ndGggLSAxXX1gO1xuICAgIH0gZWxzZSB7XG4gICAgICB1cGRhdGVVUkwgPSBudWxsO1xuICAgIH1cbiAgICAvLyBjb25zb2xlLmluZm8oJ2Rvd25sb2FkVXBkYXRlJywgaWQsIHVwZGF0ZVVSTCk7XG4gIH1cbiAgaWYgKCF1cGRhdGVVUkwpIHRocm93IGZhbHNlO1xuICBsZXQgZXJyb3JNZXNzYWdlO1xuICBjb25zdCB1cGRhdGUgPSB7fTtcbiAgY29uc3QgcmVzdWx0ID0geyB1cGRhdGUsIHdoZXJlOiB7IGlkIH0gfTtcbiAgYW5ub3VuY2UoaTE4bignbXNnQ2hlY2tpbmdGb3JVcGRhdGUnKSk7XG4gIHRyeSB7XG4gICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCByZXF1ZXN0KHVwZGF0ZVVSTCwge1xuICAgICAgLy8gVE9ETzogZG8gYSBIRUFEIHJlcXVlc3QgZmlyc3QgdG8gZ2V0IEVUYWcgaGVhZGVyIGFuZCBjb21wYXJlIHRvIHN0b3JhZ2UubW9kXG4gICAgICBjYWNoZTogJ25vLWNhY2hlJyxcbiAgICAgIGhlYWRlcnM6IHsgQWNjZXB0OiAndGV4dC94LXVzZXJzY3JpcHQtbWV0YSwqLyonIH0sXG4gICAgfSk7XG4gICAgY29uc3QgeyB2ZXJzaW9uIH0gPSBwYXJzZU1ldGEoZGF0YSk7XG4gICAgaWYgKElTX0RFVikge1xuICAgICAgaWYgKG1ldGEudmVyc2lvbiA9PT0gdmVyc2lvbikgdGhyb3cgZmFsc2U7XG4gICAgICBjb25zb2xlLmluZm8oJ3VwZGF0ZScsIG1ldGEubmFtZSwgdmVyc2lvbiwgY29tcGFyZVZlcnNpb24obWV0YS52ZXJzaW9uLCB2ZXJzaW9uKSk7XG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG4gICAgaWYgKGNvbXBhcmVWZXJzaW9uKG1ldGEudmVyc2lvbiwgdmVyc2lvbikgPj0gMCkge1xuICAgICAgYW5ub3VuY2UoaTE4bignbXNnTm9VcGRhdGUnKSwgeyBjaGVja2luZzogZmFsc2UgfSk7XG4gICAgfSBlbHNlIGlmICghZG93bmxvYWRVUkwpIHtcbiAgICAgIGFubm91bmNlKGkxOG4oJ21zZ05ld1ZlcnNpb24nKSwgeyBjaGVja2luZzogZmFsc2UgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFubm91bmNlKGkxOG4oJ21zZ1VwZGF0aW5nJykpO1xuICAgICAgZXJyb3JNZXNzYWdlID0gaTE4bignbXNnRXJyb3JGZXRjaGluZ1NjcmlwdCcpO1xuICAgICAgcmV0dXJuIChhd2FpdCByZXF1ZXN0KGRvd25sb2FkVVJMLCB7IGNhY2hlOiAnbm8tY2FjaGUnIH0pKS5kYXRhO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBpZiAocHJvY2Vzcy5lbnYuREVCVUcpIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgIGFubm91bmNlKGVycm9yTWVzc2FnZSB8fCBpMThuKCdtc2dFcnJvckZldGNoaW5nVXBkYXRlSW5mbycpLCB7IGVycm9yIH0pO1xuICB9XG4gIHRocm93IHVwZGF0ZTtcbiAgZnVuY3Rpb24gYW5ub3VuY2UobWVzc2FnZSwgeyBlcnJvciwgY2hlY2tpbmcgPSAhZXJyb3IgfSA9IHt9KSB7XG4gICAgT2JqZWN0LmFzc2lnbih1cGRhdGUsIHtcbiAgICAgIG1lc3NhZ2UsXG4gICAgICBjaGVja2luZyxcbiAgICAgIGVycm9yOiBlcnJvciA/IGAke2kxOG4oJ2dlbmVyaWNFcnJvcicpfSAke2Vycm9yLnN0YXR1c30sICR7ZXJyb3IudXJsfWAgOiBudWxsLFxuICAgICAgLy8gYG51bGxgIGlzIHRyYW5zZmVyYWJsZSBpbiBDaHJvbWUgdW5saWtlIGB1bmRlZmluZWRgXG4gICAgfSk7XG4gICAgc2VuZENtZChDTURfU0NSSVBUX1VQREFURSwgcmVzdWx0KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjYW5Ob3RpZnkoc2NyaXB0KSB7XG4gIGNvbnN0IGFsbG93ZWQgPSBnZXRPcHRpb24oJ25vdGlmeVVwZGF0ZXMnKTtcbiAgcmV0dXJuIGdldE9wdGlvbignbm90aWZ5VXBkYXRlc0dsb2JhbCcpXG4gICAgPyBhbGxvd2VkXG4gICAgOiBzY3JpcHQuY29uZmlnLm5vdGlmeVVwZGF0ZXMgPz8gYWxsb3dlZDtcbn1cblxuZnVuY3Rpb24gbm90aWZ5KHtcbiAgc2NyaXB0LFxuICB0ZXh0LFxuICBvbkNsaWNrID0gKCkgPT4gY29tbWFuZHMuT3BlbkVkaXRvcihzY3JpcHQucHJvcHMuaWQpLFxufSkge1xuICBjb21tYW5kcy5Ob3RpZmljYXRpb24oe1xuICAgIHRleHQsXG4gICAgLy8gRkYgZG9lc24ndCBzaG93IHRoZSBuYW1lIG9mIHRoZSBleHRlbnNpb24gaW4gdGhlIHRpdGxlIG9mIHRoZSBub3RpZmljYXRpb25cbiAgICB0aXRsZTogSVNfRklSRUZPWCA/IGAke2kxOG4oJ3RpdGxlU2NyaXB0VXBkYXRlZCcpfSAtICR7aTE4bignZXh0TmFtZScpfWAgOiAnJyxcbiAgfSwgdW5kZWZpbmVkLCB7XG4gICAgb25DbGljayxcbiAgfSk7XG59XG4iLCJpbXBvcnQgeyBpc0VtcHR5LCBzZW5kVGFiQ21kIH0gZnJvbSAnIy9jb21tb24nO1xuaW1wb3J0IHsgZm9yRWFjaEVudHJ5LCBmb3JFYWNoS2V5LCBvYmplY3RTZXQgfSBmcm9tICcjL2NvbW1vbi9vYmplY3QnO1xuaW1wb3J0IHsgZ2V0U2NyaXB0LCBnZXRWYWx1ZVN0b3Jlc0J5SWRzLCBkdW1wVmFsdWVTdG9yZXMgfSBmcm9tICcuL2RiJztcbmltcG9ydCB7IGNvbW1hbmRzIH0gZnJvbSAnLi9tZXNzYWdlJztcblxuY29uc3Qgb3BlbmVycyA9IHt9OyAvLyB7IHNjcmlwdElkOiB7IHRhYklkOiB7IGZyYW1lSWQ6IDEsIC4uLiB9LCAuLi4gfSB9XG5sZXQgY2FjaGUgPSB7fTsgLy8geyBzY3JpcHRJZDogeyBrZXk6IHsgbGFzdDogdmFsdWUsIHRhYklkOiB7IGZyYW1lSWQ6IHZhbHVlIH0gfSB9IH1cbmxldCB1cGRhdGVTY2hlZHVsZWQ7XG5cbk9iamVjdC5hc3NpZ24oY29tbWFuZHMsIHtcbiAgLyoqIEByZXR1cm4ge1Byb21pc2U8T2JqZWN0Pn0gKi9cbiAgYXN5bmMgR2V0VmFsdWVTdG9yZShpZCkge1xuICAgIGNvbnN0IHN0b3JlcyA9IGF3YWl0IGdldFZhbHVlU3RvcmVzQnlJZHMoW2lkXSk7XG4gICAgcmV0dXJuIHN0b3Jlc1tpZF0gfHwge307XG4gIH0sXG4gIC8qKiBAcGFyYW0ge3sgd2hlcmUsIHN0b3JlIH1bXX0gZGF0YVxuICAgKiBAcmV0dXJuIHtQcm9taXNlPHZvaWQ+fSAqL1xuICBhc3luYyBTZXRWYWx1ZVN0b3JlcyhkYXRhKSB7XG4gICAgLy8gVmFsdWUgc3RvcmUgd2lsbCBiZSByZXBsYWNlZCBzb29uLlxuICAgIGNvbnN0IHN0b3JlcyA9IGRhdGEucmVkdWNlKChyZXMsIHsgd2hlcmUsIHN0b3JlIH0pID0+IHtcbiAgICAgIGNvbnN0IGlkID0gd2hlcmUuaWQgfHwgZ2V0U2NyaXB0KHdoZXJlKT8ucHJvcHMuaWQ7XG4gICAgICBpZiAoaWQpIHJlc1tpZF0gPSBzdG9yZTtcbiAgICAgIHJldHVybiByZXM7XG4gICAgfSwge30pO1xuICAgIGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgIGR1bXBWYWx1ZVN0b3JlcyhzdG9yZXMpLFxuICAgICAgYnJvYWRjYXN0VmFsdWVTdG9yZXMoZ3JvdXBTdG9yZXNCeUZyYW1lKHN0b3JlcykpLFxuICAgIF0pO1xuICB9LFxuICAvKiogQHJldHVybiB7dm9pZH0gKi9cbiAgVXBkYXRlVmFsdWUoeyBpZCwga2V5LCB2YWx1ZSA9IG51bGwgfSwgc3JjKSB7XG4gICAgb2JqZWN0U2V0KGNhY2hlLCBbaWQsIGtleSwgJ2xhc3QnXSwgdmFsdWUpO1xuICAgIG9iamVjdFNldChjYWNoZSwgW2lkLCBrZXksIHNyYy50YWIuaWQsIHNyYy5mcmFtZUlkXSwgdmFsdWUpO1xuICAgIHVwZGF0ZUxhdGVyKCk7XG4gIH0sXG59KTtcblxuYnJvd3Nlci50YWJzLm9uUmVtb3ZlZC5hZGRMaXN0ZW5lcihyZXNldFZhbHVlT3BlbmVyKTtcbmJyb3dzZXIudGFicy5vblJlcGxhY2VkLmFkZExpc3RlbmVyKChhZGRlZElkLCByZW1vdmVkSWQpID0+IHJlc2V0VmFsdWVPcGVuZXIocmVtb3ZlZElkKSk7XG5cbmV4cG9ydCBmdW5jdGlvbiByZXNldFZhbHVlT3BlbmVyKHRhYklkKSB7XG4gIG9wZW5lcnM6OmZvckVhY2hFbnRyeSgoW2lkLCBvcGVuZXJUYWJzXSkgPT4ge1xuICAgIGlmICh0YWJJZCBpbiBvcGVuZXJUYWJzKSB7XG4gICAgICBkZWxldGUgb3BlbmVyVGFic1t0YWJJZF07XG4gICAgICBpZiAoaXNFbXB0eShvcGVuZXJUYWJzKSkgZGVsZXRlIG9wZW5lcnNbaWRdO1xuICAgIH1cbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRWYWx1ZU9wZW5lcih0YWJJZCwgZnJhbWVJZCwgc2NyaXB0SWRzKSB7XG4gIHNjcmlwdElkcy5mb3JFYWNoKChpZCkgPT4ge1xuICAgIG9iamVjdFNldChvcGVuZXJzLCBbaWQsIHRhYklkLCBmcmFtZUlkXSwgMSk7XG4gIH0pO1xufVxuXG5hc3luYyBmdW5jdGlvbiB1cGRhdGVMYXRlcigpIHtcbiAgd2hpbGUgKCF1cGRhdGVTY2hlZHVsZWQpIHtcbiAgICB1cGRhdGVTY2hlZHVsZWQgPSB0cnVlO1xuICAgIGF3YWl0IDA7XG4gICAgY29uc3QgY3VycmVudENhY2hlID0gY2FjaGU7XG4gICAgY2FjaGUgPSB7fTtcbiAgICBhd2FpdCBkb1VwZGF0ZShjdXJyZW50Q2FjaGUpO1xuICAgIHVwZGF0ZVNjaGVkdWxlZCA9IGZhbHNlO1xuICAgIGlmIChpc0VtcHR5KGNhY2hlKSkgYnJlYWs7XG4gIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gZG9VcGRhdGUoY3VycmVudENhY2hlKSB7XG4gIGNvbnN0IGlkcyA9IE9iamVjdC5rZXlzKGN1cnJlbnRDYWNoZSk7XG4gIGNvbnN0IHZhbHVlU3RvcmVzID0gYXdhaXQgZ2V0VmFsdWVTdG9yZXNCeUlkcyhpZHMpO1xuICBpZHMuZm9yRWFjaCgoaWQpID0+IHtcbiAgICBjdXJyZW50Q2FjaGVbaWRdOjpmb3JFYWNoRW50cnkoKFtrZXksIHsgbGFzdCB9XSkgPT4ge1xuICAgICAgb2JqZWN0U2V0KHZhbHVlU3RvcmVzLCBbaWQsIGtleV0sIGxhc3QgfHwgdW5kZWZpbmVkKTtcbiAgICB9KTtcbiAgfSk7XG4gIGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICBkdW1wVmFsdWVTdG9yZXModmFsdWVTdG9yZXMpLFxuICAgIGJyb2FkY2FzdFZhbHVlU3RvcmVzKGdyb3VwQ2FjaGVCeUZyYW1lKGN1cnJlbnRDYWNoZSksIHsgcGFydGlhbDogdHJ1ZSB9KSxcbiAgXSk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGJyb2FkY2FzdFZhbHVlU3RvcmVzKHRhYkZyYW1lRGF0YSwgeyBwYXJ0aWFsIH0gPSB7fSkge1xuICBjb25zdCB0YXNrcyA9IFtdO1xuICBmb3IgKGNvbnN0IFt0YWJJZCwgZnJhbWVzXSBvZiBPYmplY3QuZW50cmllcyh0YWJGcmFtZURhdGEpKSB7XG4gICAgZm9yIChjb25zdCBbZnJhbWVJZCwgZnJhbWVEYXRhXSBvZiBPYmplY3QuZW50cmllcyhmcmFtZXMpKSB7XG4gICAgICBpZiAoIWlzRW1wdHkoZnJhbWVEYXRhKSkge1xuICAgICAgICBpZiAocGFydGlhbCkgZnJhbWVEYXRhLnBhcnRpYWwgPSB0cnVlO1xuICAgICAgICB0YXNrcy5wdXNoKHNlbmRUYWJDbWQoK3RhYklkLCAnVXBkYXRlZFZhbHVlcycsIGZyYW1lRGF0YSwgeyBmcmFtZUlkOiArZnJhbWVJZCB9KSk7XG4gICAgICAgIGlmICh0YXNrcy5sZW5ndGggPT09IDIwKSBhd2FpdCBQcm9taXNlLmFsbCh0YXNrcy5zcGxpY2UoMCkpOyAvLyB0aHJvdHRsaW5nXG4gICAgICB9XG4gICAgfVxuICB9XG4gIGF3YWl0IFByb21pc2UuYWxsKHRhc2tzKTtcbn1cblxuLy8gUmV0dXJucyBwZXIgdGFiL2ZyYW1lIGRhdGEgd2l0aCBvbmx5IHRoZSBjaGFuZ2VkIHZhbHVlc1xuZnVuY3Rpb24gZ3JvdXBDYWNoZUJ5RnJhbWUoY2FjaGVEYXRhKSB7XG4gIGNvbnN0IHRvU2VuZCA9IHt9O1xuICBjYWNoZURhdGE6OmZvckVhY2hFbnRyeSgoW2lkLCBzY3JpcHREYXRhXSkgPT4ge1xuICAgIGNvbnN0IGRhdGFFbnRyaWVzID0gT2JqZWN0LmVudHJpZXMoc2NyaXB0RGF0YSk7XG4gICAgb3BlbmVyc1tpZF06OmZvckVhY2hFbnRyeSgoW3RhYklkLCBmcmFtZXNdKSA9PiB7XG4gICAgICBmcmFtZXM6OmZvckVhY2hLZXkoKGZyYW1lSWQpID0+IHtcbiAgICAgICAgZGF0YUVudHJpZXMuZm9yRWFjaCgoW2tleSwgaGlzdG9yeV0pID0+IHtcbiAgICAgICAgICAvLyBTa2lwcGluZyB0aGlzIGZyYW1lIGlmIGl0cyBsYXN0IHJlY29yZGVkIHZhbHVlIGlzIGlkZW50aWNhbFxuICAgICAgICAgIGlmIChoaXN0b3J5Lmxhc3QgIT09IGhpc3RvcnlbdGFiSWRdPy5bZnJhbWVJZF0pIHtcbiAgICAgICAgICAgIG9iamVjdFNldCh0b1NlbmQsIFt0YWJJZCwgZnJhbWVJZCwgaWQsIGtleV0sIGhpc3RvcnkubGFzdCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcbiAgcmV0dXJuIHRvU2VuZDtcbn1cblxuLy8gUmV0dXJucyBwZXIgdGFiL2ZyYW1lIGRhdGFcbmZ1bmN0aW9uIGdyb3VwU3RvcmVzQnlGcmFtZShzdG9yZXMpIHtcbiAgY29uc3QgdG9TZW5kID0ge307XG4gIHN0b3Jlczo6Zm9yRWFjaEVudHJ5KChbaWQsIHN0b3JlXSkgPT4ge1xuICAgIG9wZW5lcnNbaWRdOjpmb3JFYWNoRW50cnkoKFt0YWJJZCwgZnJhbWVzXSkgPT4ge1xuICAgICAgZnJhbWVzOjpmb3JFYWNoS2V5KGZyYW1lSWQgPT4ge1xuICAgICAgICBvYmplY3RTZXQodG9TZW5kLCBbdGFiSWQsIGZyYW1lSWQsIGlkXSwgc3RvcmUpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuICByZXR1cm4gdG9TZW5kO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRXZlbnRFbWl0dGVyIHtcbiAgY29uc3RydWN0b3IoYWxsb3dlZCkge1xuICAgIHRoaXMuZXZlbnRzID0ge307XG4gICAgdGhpcy5hbGxvd2VkID0gYWxsb3dlZDtcbiAgfVxuXG4gIGNoZWNrVHlwZSh0eXBlKSB7XG4gICAgaWYgKHRoaXMuYWxsb3dlZCAmJiAhdGhpcy5hbGxvd2VkLmluY2x1ZGVzKHR5cGUpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gZXZlbnQgdHlwZTogJHt0eXBlfWApO1xuICAgIH1cbiAgfVxuXG4gIG9uKHR5cGUsIGhhbmRsZSkge1xuICAgIHRoaXMuY2hlY2tUeXBlKHR5cGUpO1xuICAgIGNvbnN0IHsgZXZlbnRzIH0gPSB0aGlzO1xuICAgIGxldCBoYW5kbGVycyA9IGV2ZW50c1t0eXBlXTtcbiAgICBpZiAoIWhhbmRsZXJzKSB7XG4gICAgICBoYW5kbGVycyA9IFtdO1xuICAgICAgZXZlbnRzW3R5cGVdID0gaGFuZGxlcnM7XG4gICAgfVxuICAgIHJldHVybiAoKSA9PiB0aGlzLm9mZih0eXBlLCBoYW5kbGUpO1xuICB9XG5cbiAgb2ZmKHR5cGUsIGhhbmRsZSkge1xuICAgIHRoaXMuY2hlY2tUeXBlKHR5cGUpO1xuICAgIGNvbnN0IGhhbmRsZXJzID0gdGhpcy5ldmVudHNbdHlwZV07XG4gICAgaWYgKGhhbmRsZXJzKSB7XG4gICAgICBjb25zdCBpID0gaGFuZGxlcnMuaW5kZXhPZihoYW5kbGUpO1xuICAgICAgaWYgKGkgPj0gMCkgaGFuZGxlcnMuc3BsaWNlKGksIDEpO1xuICAgIH1cbiAgfVxuXG4gIGVtaXQodHlwZSwgZGF0YSkge1xuICAgIHRoaXMuY2hlY2tUeXBlKHR5cGUpO1xuICAgIGNvbnN0IGhhbmRsZXJzID0gdGhpcy5ldmVudHNbdHlwZV07XG4gICAgaWYgKGhhbmRsZXJzKSB7XG4gICAgICBjb25zdCBldnQgPSB7XG4gICAgICAgIHR5cGUsXG4gICAgICAgIGRhdGEsXG4gICAgICAgIGRlZmF1bHRQcmV2ZW50ZWQ6IGZhbHNlLFxuICAgICAgICBwcmV2ZW50RGVmYXVsdCgpIHtcbiAgICAgICAgICBldnQuZGVmYXVsdFByZXZlbnRlZCA9IHRydWU7XG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgICAgaGFuZGxlcnMuc29tZSgoaGFuZGxlKSA9PiB7XG4gICAgICAgIGhhbmRsZShldnQpO1xuICAgICAgICByZXR1cm4gZXZ0LmRlZmF1bHRQcmV2ZW50ZWQ7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB0bGRqcyBmcm9tICd0bGRqcyc7XG4vLyBpbXBvcnQgeyBmcm9tVXNlclNldHRpbmdzIH0gZnJvbSAndGxkanMnO1xuLy8gaW1wb3J0IFRyaWUgZnJvbSAndGxkanMvbGliL3N1ZmZpeC10cmllJztcbi8vIGltcG9ydCB7IHJlcXVlc3QgfSBmcm9tICcjL2NvbW1vbic7XG5cbi8vIGxldCB0bGRqcztcblxuLy8gZXhwb3J0IGZ1bmN0aW9uIGluaXRUTEQocmVtb3RlKSB7XG4vLyAgIC8vIFRMRCBydWxlcyBhcmUgdG9vIGxhcmdlIHRvIGJlIHBhY2tlZCwgZG93bmxvYWQgdGhlbSBhdCBydW50aW1lLlxuLy8gICBjb25zdCB1cmwgPSAnaHR0cHM6Ly92aW9sZW50bW9ua2V5LnRvcC9zdGF0aWMvdGxkLXJ1bGVzLmpzb24nO1xuLy8gICBjb25zdCBrZXkgPSAnZGF0OnRsZFJ1bGVzJztcbi8vICAgYnJvd3Nlci5zdG9yYWdlLmxvY2FsLmdldChrZXkpXG4vLyAgIC50aGVuKCh7IFtrZXldOiB0bGRSdWxlcyB9KSA9PiB7XG4vLyAgICAgaWYgKHRsZFJ1bGVzKSByZXR1cm4gdGxkUnVsZXM7XG4vLyAgICAgaWYgKCFyZW1vdGUpIHJldHVybiBQcm9taXNlLnJlamVjdCgnaWdub3JlIFRMRCcpO1xuLy8gICAgIHJldHVybiByZXF1ZXN0KHVybCwgeyByZXNwb25zZVR5cGU6ICdqc29uJyB9KVxuLy8gICAgIC50aGVuKCh7IGRhdGE6IHJ1bGVzIH0pID0+IHtcbi8vICAgICAgIGNvbnNvbGUuaW5mbygnRG93bmxvYWRlZCBwdWJsaWMgc3VmZml4IGRhdGEnKTtcbi8vICAgICAgIHJldHVybiBicm93c2VyLnN0b3JhZ2UubG9jYWwuc2V0KHsgW2tleV06IHJ1bGVzIH0pXG4vLyAgICAgICAudGhlbigoKSA9PiBydWxlcyk7XG4vLyAgICAgfSk7XG4vLyAgIH0pXG4vLyAgIC50aGVuKHRsZFJ1bGVzID0+IHtcbi8vICAgICBjb25zb2xlLmluZm8oJ0luaXRpYWxpemVkIFRMRCcpO1xuLy8gICAgIHRsZGpzID0gZnJvbVVzZXJTZXR0aW5ncyh7IHJ1bGVzOiBUcmllLmZyb21Kc29uKHRsZFJ1bGVzKSB9KTtcbi8vICAgfSlcbi8vICAgLmNhdGNoKGVyciA9PiB7XG4vLyAgICAgaWYgKHByb2Nlc3MuZW52LkRFQlVHKSBjb25zb2xlLmVycm9yKGVycik7XG4vLyAgICAgY29uc29sZS5pbmZvKCdGYWlsZWQgaW5pdGlhbGl6aW5nIFRMRCcpO1xuLy8gICB9KTtcbi8vIH1cbmV4cG9ydCBmdW5jdGlvbiBpbml0VExEKCkge31cblxuZnVuY3Rpb24gZXhwb3J0TWV0aG9kKGtleSkge1xuICByZXR1cm4gKC4uLmFyZ3MpID0+IHRsZGpzICYmIHRsZGpzW2tleV0oLi4uYXJncyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1JlYWR5KCkge1xuICByZXR1cm4gISF0bGRqcztcbn1cblxuZXhwb3J0IGNvbnN0IGdldERvbWFpbiA9IGV4cG9ydE1ldGhvZCgnZ2V0RG9tYWluJyk7XG5leHBvcnQgY29uc3QgZ2V0U3ViZG9tYWluID0gZXhwb3J0TWV0aG9kKCdnZXRTdWJkb21haW4nKTtcbmV4cG9ydCBjb25zdCBnZXRQdWJsaWNTdWZmaXggPSBleHBvcnRNZXRob2QoJ2dldFB1YmxpY1N1ZmZpeCcpO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==