{ /* eslint-disable no-unused-vars */

/**
 * This file is used by entire `src` except `injected`.
 * `global` is used instead of WebPack's polyfill which we disable in webpack.conf.js.
 * `safeCall` is used by our modified babel-plugin-safe-bind.js.
 * Standard globals are extracted for better minification and marginally improved lookup speed.
 * Not exporting NodeJS built-in globals as this file is imported in the test scripts.
 */
const global = function _() {
  return this || globalThis; // eslint-disable-line no-undef
}();

const {
  Boolean,
  Error,
  Object,
  Promise,
  document,
  window
} = global;
const PromiseSafe = Promise; // alias used by browser.js

const ErrorSafe = Error; // alias used by browser.js

const {
  hasOwnProperty,
  toString: objectToString
} = {};
const safeCall = Object.call.bind(Object.call);
const IS_FIREFOX = !global.chrome.app;/******/ (function(modules) { // webpackBootstrap
/******/ 	// install a JSONP callback for chunk loading
/******/ 	function webpackJsonpCallback(data) {
/******/ 		var chunkIds = data[0];
/******/ 		var moreModules = data[1];
/******/ 		var executeModules = data[2];
/******/
/******/ 		// add "moreModules" to the modules object,
/******/ 		// then flag all "chunkIds" as loaded and fire callback
/******/ 		var moduleId, chunkId, i = 0, resolves = [];
/******/ 		for(;i < chunkIds.length; i++) {
/******/ 			chunkId = chunkIds[i];
/******/ 			if(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {
/******/ 				resolves.push(installedChunks[chunkId][0]);
/******/ 			}
/******/ 			installedChunks[chunkId] = 0;
/******/ 		}
/******/ 		for(moduleId in moreModules) {
/******/ 			if(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {
/******/ 				modules[moduleId] = moreModules[moduleId];
/******/ 			}
/******/ 		}
/******/ 		if(parentJsonpFunction) parentJsonpFunction(data);
/******/
/******/ 		while(resolves.length) {
/******/ 			resolves.shift()();
/******/ 		}
/******/
/******/ 		// add entry modules from loaded chunk to deferred list
/******/ 		deferredModules.push.apply(deferredModules, executeModules || []);
/******/
/******/ 		// run deferred modules when all chunks ready
/******/ 		return checkDeferredModules();
/******/ 	};
/******/ 	function checkDeferredModules() {
/******/ 		var result;
/******/ 		for(var i = 0; i < deferredModules.length; i++) {
/******/ 			var deferredModule = deferredModules[i];
/******/ 			var fulfilled = true;
/******/ 			for(var j = 1; j < deferredModule.length; j++) {
/******/ 				var depId = deferredModule[j];
/******/ 				if(installedChunks[depId] !== 0) fulfilled = false;
/******/ 			}
/******/ 			if(fulfilled) {
/******/ 				deferredModules.splice(i--, 1);
/******/ 				result = __webpack_require__(__webpack_require__.s = deferredModule[0]);
/******/ 			}
/******/ 		}
/******/
/******/ 		return result;
/******/ 	}
/******/
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// object to store loaded and loading chunks
/******/ 	// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 	// Promise = chunk loading, 0 = chunk loaded
/******/ 	var installedChunks = {
/******/ 		"background/index": 0
/******/ 	};
/******/
/******/ 	var deferredModules = [];
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	var jsonpArray = window["webpackJsonp"] = window["webpackJsonp"] || [];
/******/ 	var oldJsonpFunction = jsonpArray.push.bind(jsonpArray);
/******/ 	jsonpArray.push = webpackJsonpCallback;
/******/ 	jsonpArray = jsonpArray.slice();
/******/ 	for(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);
/******/ 	var parentJsonpFunction = oldJsonpFunction;
/******/
/******/
/******/ 	// add entry module to deferred list
/******/ 	deferredModules.push(["./src/background/index.js","public/lib/tldjs","common"]);
/******/ 	// run deferred modules when ready
/******/ 	return checkDeferredModules();
/******/ })
/************************************************************************/
/******/ ({

/***/ "./node_modules/base64-js/index.js":
/*!*****************************************!*\
  !*** ./node_modules/base64-js/index.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.byteLength = byteLength
exports.toByteArray = toByteArray
exports.fromByteArray = fromByteArray

var lookup = []
var revLookup = []
var Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array

var code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'
for (var i = 0, len = code.length; i < len; ++i) {
  lookup[i] = code[i]
  revLookup[code.charCodeAt(i)] = i
}

// Support decoding URL-safe base64 strings, as Node.js does.
// See: https://en.wikipedia.org/wiki/Base64#URL_applications
revLookup['-'.charCodeAt(0)] = 62
revLookup['_'.charCodeAt(0)] = 63

function getLens (b64) {
  var len = b64.length

  if (len % 4 > 0) {
    throw new Error('Invalid string. Length must be a multiple of 4')
  }

  // Trim off extra bytes after placeholder bytes are found
  // See: https://github.com/beatgammit/base64-js/issues/42
  var validLen = b64.indexOf('=')
  if (validLen === -1) validLen = len

  var placeHoldersLen = validLen === len
    ? 0
    : 4 - (validLen % 4)

  return [validLen, placeHoldersLen]
}

// base64 is 4/3 + up to two characters of the original data
function byteLength (b64) {
  var lens = getLens(b64)
  var validLen = lens[0]
  var placeHoldersLen = lens[1]
  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen
}

function _byteLength (b64, validLen, placeHoldersLen) {
  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen
}

function toByteArray (b64) {
  var tmp
  var lens = getLens(b64)
  var validLen = lens[0]
  var placeHoldersLen = lens[1]

  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))

  var curByte = 0

  // if there are placeholders, only get up to the last complete 4 chars
  var len = placeHoldersLen > 0
    ? validLen - 4
    : validLen

  var i
  for (i = 0; i < len; i += 4) {
    tmp =
      (revLookup[b64.charCodeAt(i)] << 18) |
      (revLookup[b64.charCodeAt(i + 1)] << 12) |
      (revLookup[b64.charCodeAt(i + 2)] << 6) |
      revLookup[b64.charCodeAt(i + 3)]
    arr[curByte++] = (tmp >> 16) & 0xFF
    arr[curByte++] = (tmp >> 8) & 0xFF
    arr[curByte++] = tmp & 0xFF
  }

  if (placeHoldersLen === 2) {
    tmp =
      (revLookup[b64.charCodeAt(i)] << 2) |
      (revLookup[b64.charCodeAt(i + 1)] >> 4)
    arr[curByte++] = tmp & 0xFF
  }

  if (placeHoldersLen === 1) {
    tmp =
      (revLookup[b64.charCodeAt(i)] << 10) |
      (revLookup[b64.charCodeAt(i + 1)] << 4) |
      (revLookup[b64.charCodeAt(i + 2)] >> 2)
    arr[curByte++] = (tmp >> 8) & 0xFF
    arr[curByte++] = tmp & 0xFF
  }

  return arr
}

function tripletToBase64 (num) {
  return lookup[num >> 18 & 0x3F] +
    lookup[num >> 12 & 0x3F] +
    lookup[num >> 6 & 0x3F] +
    lookup[num & 0x3F]
}

function encodeChunk (uint8, start, end) {
  var tmp
  var output = []
  for (var i = start; i < end; i += 3) {
    tmp =
      ((uint8[i] << 16) & 0xFF0000) +
      ((uint8[i + 1] << 8) & 0xFF00) +
      (uint8[i + 2] & 0xFF)
    output.push(tripletToBase64(tmp))
  }
  return output.join('')
}

function fromByteArray (uint8) {
  var tmp
  var len = uint8.length
  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes
  var parts = []
  var maxChunkLength = 16383 // must be multiple of 3

  // go through the array every three bytes, we'll deal with trailing stuff later
  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {
    parts.push(encodeChunk(
      uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)
    ))
  }

  // pad the end with zeros, but make sure to not forget the extra bytes
  if (extraBytes === 1) {
    tmp = uint8[len - 1]
    parts.push(
      lookup[tmp >> 2] +
      lookup[(tmp << 4) & 0x3F] +
      '=='
    )
  } else if (extraBytes === 2) {
    tmp = (uint8[len - 2] << 8) + uint8[len - 1]
    parts.push(
      lookup[tmp >> 10] +
      lookup[(tmp >> 4) & 0x3F] +
      lookup[(tmp << 2) & 0x3F] +
      '='
    )
  }

  return parts.join('')
}


/***/ }),

/***/ "./node_modules/buffer/index.js":
/*!**************************************!*\
  !*** ./node_modules/buffer/index.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
/* eslint-disable no-proto */



var base64 = __webpack_require__(/*! base64-js */ "./node_modules/base64-js/index.js")
var ieee754 = __webpack_require__(/*! ieee754 */ "./node_modules/ieee754/index.js")
var isArray = __webpack_require__(/*! isarray */ "./node_modules/isarray/index.js")

exports.Buffer = Buffer
exports.SlowBuffer = SlowBuffer
exports.INSPECT_MAX_BYTES = 50

/**
 * If `Buffer.TYPED_ARRAY_SUPPORT`:
 *   === true    Use Uint8Array implementation (fastest)
 *   === false   Use Object implementation (most compatible, even IE6)
 *
 * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,
 * Opera 11.6+, iOS 4.2+.
 *
 * Due to various browser bugs, sometimes the Object implementation will be used even
 * when the browser supports typed arrays.
 *
 * Note:
 *
 *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,
 *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.
 *
 *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.
 *
 *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of
 *     incorrect length in some situations.

 * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they
 * get the Object implementation, which is slower but behaves correctly.
 */
Buffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined
  ? global.TYPED_ARRAY_SUPPORT
  : typedArraySupport()

/*
 * Export kMaxLength after typed array support is determined.
 */
exports.kMaxLength = kMaxLength()

function typedArraySupport () {
  try {
    var arr = new Uint8Array(1)
    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}
    return arr.foo() === 42 && // typed array instances can be augmented
        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`
        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`
  } catch (e) {
    return false
  }
}

function kMaxLength () {
  return Buffer.TYPED_ARRAY_SUPPORT
    ? 0x7fffffff
    : 0x3fffffff
}

function createBuffer (that, length) {
  if (kMaxLength() < length) {
    throw new RangeError('Invalid typed array length')
  }
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    // Return an augmented `Uint8Array` instance, for best performance
    that = new Uint8Array(length)
    that.__proto__ = Buffer.prototype
  } else {
    // Fallback: Return an object instance of the Buffer class
    if (that === null) {
      that = new Buffer(length)
    }
    that.length = length
  }

  return that
}

/**
 * The Buffer constructor returns instances of `Uint8Array` that have their
 * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of
 * `Uint8Array`, so the returned instances will have all the node `Buffer` methods
 * and the `Uint8Array` methods. Square bracket notation works as expected -- it
 * returns a single octet.
 *
 * The `Uint8Array` prototype remains unmodified.
 */

function Buffer (arg, encodingOrOffset, length) {
  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {
    return new Buffer(arg, encodingOrOffset, length)
  }

  // Common case.
  if (typeof arg === 'number') {
    if (typeof encodingOrOffset === 'string') {
      throw new Error(
        'If encoding is specified then the first argument must be a string'
      )
    }
    return allocUnsafe(this, arg)
  }
  return from(this, arg, encodingOrOffset, length)
}

Buffer.poolSize = 8192 // not used by this implementation

// TODO: Legacy, not needed anymore. Remove in next major version.
Buffer._augment = function (arr) {
  arr.__proto__ = Buffer.prototype
  return arr
}

function from (that, value, encodingOrOffset, length) {
  if (typeof value === 'number') {
    throw new TypeError('"value" argument must not be a number')
  }

  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {
    return fromArrayBuffer(that, value, encodingOrOffset, length)
  }

  if (typeof value === 'string') {
    return fromString(that, value, encodingOrOffset)
  }

  return fromObject(that, value)
}

/**
 * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError
 * if value is a number.
 * Buffer.from(str[, encoding])
 * Buffer.from(array)
 * Buffer.from(buffer)
 * Buffer.from(arrayBuffer[, byteOffset[, length]])
 **/
Buffer.from = function (value, encodingOrOffset, length) {
  return from(null, value, encodingOrOffset, length)
}

if (Buffer.TYPED_ARRAY_SUPPORT) {
  Buffer.prototype.__proto__ = Uint8Array.prototype
  Buffer.__proto__ = Uint8Array
  if (typeof Symbol !== 'undefined' && Symbol.species &&
      Buffer[Symbol.species] === Buffer) {
    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97
    Object.defineProperty(Buffer, Symbol.species, {
      value: null,
      configurable: true
    })
  }
}

function assertSize (size) {
  if (typeof size !== 'number') {
    throw new TypeError('"size" argument must be a number')
  } else if (size < 0) {
    throw new RangeError('"size" argument must not be negative')
  }
}

function alloc (that, size, fill, encoding) {
  assertSize(size)
  if (size <= 0) {
    return createBuffer(that, size)
  }
  if (fill !== undefined) {
    // Only pay attention to encoding if it's a string. This
    // prevents accidentally sending in a number that would
    // be interpretted as a start offset.
    return typeof encoding === 'string'
      ? createBuffer(that, size).fill(fill, encoding)
      : createBuffer(that, size).fill(fill)
  }
  return createBuffer(that, size)
}

/**
 * Creates a new filled Buffer instance.
 * alloc(size[, fill[, encoding]])
 **/
Buffer.alloc = function (size, fill, encoding) {
  return alloc(null, size, fill, encoding)
}

function allocUnsafe (that, size) {
  assertSize(size)
  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)
  if (!Buffer.TYPED_ARRAY_SUPPORT) {
    for (var i = 0; i < size; ++i) {
      that[i] = 0
    }
  }
  return that
}

/**
 * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.
 * */
Buffer.allocUnsafe = function (size) {
  return allocUnsafe(null, size)
}
/**
 * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.
 */
Buffer.allocUnsafeSlow = function (size) {
  return allocUnsafe(null, size)
}

function fromString (that, string, encoding) {
  if (typeof encoding !== 'string' || encoding === '') {
    encoding = 'utf8'
  }

  if (!Buffer.isEncoding(encoding)) {
    throw new TypeError('"encoding" must be a valid string encoding')
  }

  var length = byteLength(string, encoding) | 0
  that = createBuffer(that, length)

  var actual = that.write(string, encoding)

  if (actual !== length) {
    // Writing a hex string, for example, that contains invalid characters will
    // cause everything after the first invalid character to be ignored. (e.g.
    // 'abxxcd' will be treated as 'ab')
    that = that.slice(0, actual)
  }

  return that
}

function fromArrayLike (that, array) {
  var length = array.length < 0 ? 0 : checked(array.length) | 0
  that = createBuffer(that, length)
  for (var i = 0; i < length; i += 1) {
    that[i] = array[i] & 255
  }
  return that
}

function fromArrayBuffer (that, array, byteOffset, length) {
  array.byteLength // this throws if `array` is not a valid ArrayBuffer

  if (byteOffset < 0 || array.byteLength < byteOffset) {
    throw new RangeError('\'offset\' is out of bounds')
  }

  if (array.byteLength < byteOffset + (length || 0)) {
    throw new RangeError('\'length\' is out of bounds')
  }

  if (byteOffset === undefined && length === undefined) {
    array = new Uint8Array(array)
  } else if (length === undefined) {
    array = new Uint8Array(array, byteOffset)
  } else {
    array = new Uint8Array(array, byteOffset, length)
  }

  if (Buffer.TYPED_ARRAY_SUPPORT) {
    // Return an augmented `Uint8Array` instance, for best performance
    that = array
    that.__proto__ = Buffer.prototype
  } else {
    // Fallback: Return an object instance of the Buffer class
    that = fromArrayLike(that, array)
  }
  return that
}

function fromObject (that, obj) {
  if (Buffer.isBuffer(obj)) {
    var len = checked(obj.length) | 0
    that = createBuffer(that, len)

    if (that.length === 0) {
      return that
    }

    obj.copy(that, 0, 0, len)
    return that
  }

  if (obj) {
    if ((typeof ArrayBuffer !== 'undefined' &&
        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {
      if (typeof obj.length !== 'number' || isnan(obj.length)) {
        return createBuffer(that, 0)
      }
      return fromArrayLike(that, obj)
    }

    if (obj.type === 'Buffer' && isArray(obj.data)) {
      return fromArrayLike(that, obj.data)
    }
  }

  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')
}

function checked (length) {
  // Note: cannot use `length < kMaxLength()` here because that fails when
  // length is NaN (which is otherwise coerced to zero.)
  if (length >= kMaxLength()) {
    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +
                         'size: 0x' + kMaxLength().toString(16) + ' bytes')
  }
  return length | 0
}

function SlowBuffer (length) {
  if (+length != length) { // eslint-disable-line eqeqeq
    length = 0
  }
  return Buffer.alloc(+length)
}

Buffer.isBuffer = function isBuffer (b) {
  return !!(b != null && b._isBuffer)
}

Buffer.compare = function compare (a, b) {
  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {
    throw new TypeError('Arguments must be Buffers')
  }

  if (a === b) return 0

  var x = a.length
  var y = b.length

  for (var i = 0, len = Math.min(x, y); i < len; ++i) {
    if (a[i] !== b[i]) {
      x = a[i]
      y = b[i]
      break
    }
  }

  if (x < y) return -1
  if (y < x) return 1
  return 0
}

Buffer.isEncoding = function isEncoding (encoding) {
  switch (String(encoding).toLowerCase()) {
    case 'hex':
    case 'utf8':
    case 'utf-8':
    case 'ascii':
    case 'latin1':
    case 'binary':
    case 'base64':
    case 'ucs2':
    case 'ucs-2':
    case 'utf16le':
    case 'utf-16le':
      return true
    default:
      return false
  }
}

Buffer.concat = function concat (list, length) {
  if (!isArray(list)) {
    throw new TypeError('"list" argument must be an Array of Buffers')
  }

  if (list.length === 0) {
    return Buffer.alloc(0)
  }

  var i
  if (length === undefined) {
    length = 0
    for (i = 0; i < list.length; ++i) {
      length += list[i].length
    }
  }

  var buffer = Buffer.allocUnsafe(length)
  var pos = 0
  for (i = 0; i < list.length; ++i) {
    var buf = list[i]
    if (!Buffer.isBuffer(buf)) {
      throw new TypeError('"list" argument must be an Array of Buffers')
    }
    buf.copy(buffer, pos)
    pos += buf.length
  }
  return buffer
}

function byteLength (string, encoding) {
  if (Buffer.isBuffer(string)) {
    return string.length
  }
  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&
      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {
    return string.byteLength
  }
  if (typeof string !== 'string') {
    string = '' + string
  }

  var len = string.length
  if (len === 0) return 0

  // Use a for loop to avoid recursion
  var loweredCase = false
  for (;;) {
    switch (encoding) {
      case 'ascii':
      case 'latin1':
      case 'binary':
        return len
      case 'utf8':
      case 'utf-8':
      case undefined:
        return utf8ToBytes(string).length
      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return len * 2
      case 'hex':
        return len >>> 1
      case 'base64':
        return base64ToBytes(string).length
      default:
        if (loweredCase) return utf8ToBytes(string).length // assume utf8
        encoding = ('' + encoding).toLowerCase()
        loweredCase = true
    }
  }
}
Buffer.byteLength = byteLength

function slowToString (encoding, start, end) {
  var loweredCase = false

  // No need to verify that "this.length <= MAX_UINT32" since it's a read-only
  // property of a typed array.

  // This behaves neither like String nor Uint8Array in that we set start/end
  // to their upper/lower bounds if the value passed is out of range.
  // undefined is handled specially as per ECMA-262 6th Edition,
  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.
  if (start === undefined || start < 0) {
    start = 0
  }
  // Return early if start > this.length. Done here to prevent potential uint32
  // coercion fail below.
  if (start > this.length) {
    return ''
  }

  if (end === undefined || end > this.length) {
    end = this.length
  }

  if (end <= 0) {
    return ''
  }

  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.
  end >>>= 0
  start >>>= 0

  if (end <= start) {
    return ''
  }

  if (!encoding) encoding = 'utf8'

  while (true) {
    switch (encoding) {
      case 'hex':
        return hexSlice(this, start, end)

      case 'utf8':
      case 'utf-8':
        return utf8Slice(this, start, end)

      case 'ascii':
        return asciiSlice(this, start, end)

      case 'latin1':
      case 'binary':
        return latin1Slice(this, start, end)

      case 'base64':
        return base64Slice(this, start, end)

      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return utf16leSlice(this, start, end)

      default:
        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)
        encoding = (encoding + '').toLowerCase()
        loweredCase = true
    }
  }
}

// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect
// Buffer instances.
Buffer.prototype._isBuffer = true

function swap (b, n, m) {
  var i = b[n]
  b[n] = b[m]
  b[m] = i
}

Buffer.prototype.swap16 = function swap16 () {
  var len = this.length
  if (len % 2 !== 0) {
    throw new RangeError('Buffer size must be a multiple of 16-bits')
  }
  for (var i = 0; i < len; i += 2) {
    swap(this, i, i + 1)
  }
  return this
}

Buffer.prototype.swap32 = function swap32 () {
  var len = this.length
  if (len % 4 !== 0) {
    throw new RangeError('Buffer size must be a multiple of 32-bits')
  }
  for (var i = 0; i < len; i += 4) {
    swap(this, i, i + 3)
    swap(this, i + 1, i + 2)
  }
  return this
}

Buffer.prototype.swap64 = function swap64 () {
  var len = this.length
  if (len % 8 !== 0) {
    throw new RangeError('Buffer size must be a multiple of 64-bits')
  }
  for (var i = 0; i < len; i += 8) {
    swap(this, i, i + 7)
    swap(this, i + 1, i + 6)
    swap(this, i + 2, i + 5)
    swap(this, i + 3, i + 4)
  }
  return this
}

Buffer.prototype.toString = function toString () {
  var length = this.length | 0
  if (length === 0) return ''
  if (arguments.length === 0) return utf8Slice(this, 0, length)
  return slowToString.apply(this, arguments)
}

Buffer.prototype.equals = function equals (b) {
  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')
  if (this === b) return true
  return Buffer.compare(this, b) === 0
}

Buffer.prototype.inspect = function inspect () {
  var str = ''
  var max = exports.INSPECT_MAX_BYTES
  if (this.length > 0) {
    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')
    if (this.length > max) str += ' ... '
  }
  return '<Buffer ' + str + '>'
}

Buffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {
  if (!Buffer.isBuffer(target)) {
    throw new TypeError('Argument must be a Buffer')
  }

  if (start === undefined) {
    start = 0
  }
  if (end === undefined) {
    end = target ? target.length : 0
  }
  if (thisStart === undefined) {
    thisStart = 0
  }
  if (thisEnd === undefined) {
    thisEnd = this.length
  }

  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {
    throw new RangeError('out of range index')
  }

  if (thisStart >= thisEnd && start >= end) {
    return 0
  }
  if (thisStart >= thisEnd) {
    return -1
  }
  if (start >= end) {
    return 1
  }

  start >>>= 0
  end >>>= 0
  thisStart >>>= 0
  thisEnd >>>= 0

  if (this === target) return 0

  var x = thisEnd - thisStart
  var y = end - start
  var len = Math.min(x, y)

  var thisCopy = this.slice(thisStart, thisEnd)
  var targetCopy = target.slice(start, end)

  for (var i = 0; i < len; ++i) {
    if (thisCopy[i] !== targetCopy[i]) {
      x = thisCopy[i]
      y = targetCopy[i]
      break
    }
  }

  if (x < y) return -1
  if (y < x) return 1
  return 0
}

// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,
// OR the last index of `val` in `buffer` at offset <= `byteOffset`.
//
// Arguments:
// - buffer - a Buffer to search
// - val - a string, Buffer, or number
// - byteOffset - an index into `buffer`; will be clamped to an int32
// - encoding - an optional encoding, relevant is val is a string
// - dir - true for indexOf, false for lastIndexOf
function bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {
  // Empty buffer means no match
  if (buffer.length === 0) return -1

  // Normalize byteOffset
  if (typeof byteOffset === 'string') {
    encoding = byteOffset
    byteOffset = 0
  } else if (byteOffset > 0x7fffffff) {
    byteOffset = 0x7fffffff
  } else if (byteOffset < -0x80000000) {
    byteOffset = -0x80000000
  }
  byteOffset = +byteOffset  // Coerce to Number.
  if (isNaN(byteOffset)) {
    // byteOffset: it it's undefined, null, NaN, "foo", etc, search whole buffer
    byteOffset = dir ? 0 : (buffer.length - 1)
  }

  // Normalize byteOffset: negative offsets start from the end of the buffer
  if (byteOffset < 0) byteOffset = buffer.length + byteOffset
  if (byteOffset >= buffer.length) {
    if (dir) return -1
    else byteOffset = buffer.length - 1
  } else if (byteOffset < 0) {
    if (dir) byteOffset = 0
    else return -1
  }

  // Normalize val
  if (typeof val === 'string') {
    val = Buffer.from(val, encoding)
  }

  // Finally, search either indexOf (if dir is true) or lastIndexOf
  if (Buffer.isBuffer(val)) {
    // Special case: looking for empty string/buffer always fails
    if (val.length === 0) {
      return -1
    }
    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)
  } else if (typeof val === 'number') {
    val = val & 0xFF // Search for a byte value [0-255]
    if (Buffer.TYPED_ARRAY_SUPPORT &&
        typeof Uint8Array.prototype.indexOf === 'function') {
      if (dir) {
        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)
      } else {
        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)
      }
    }
    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)
  }

  throw new TypeError('val must be string, number or Buffer')
}

function arrayIndexOf (arr, val, byteOffset, encoding, dir) {
  var indexSize = 1
  var arrLength = arr.length
  var valLength = val.length

  if (encoding !== undefined) {
    encoding = String(encoding).toLowerCase()
    if (encoding === 'ucs2' || encoding === 'ucs-2' ||
        encoding === 'utf16le' || encoding === 'utf-16le') {
      if (arr.length < 2 || val.length < 2) {
        return -1
      }
      indexSize = 2
      arrLength /= 2
      valLength /= 2
      byteOffset /= 2
    }
  }

  function read (buf, i) {
    if (indexSize === 1) {
      return buf[i]
    } else {
      return buf.readUInt16BE(i * indexSize)
    }
  }

  var i
  if (dir) {
    var foundIndex = -1
    for (i = byteOffset; i < arrLength; i++) {
      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {
        if (foundIndex === -1) foundIndex = i
        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize
      } else {
        if (foundIndex !== -1) i -= i - foundIndex
        foundIndex = -1
      }
    }
  } else {
    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength
    for (i = byteOffset; i >= 0; i--) {
      var found = true
      for (var j = 0; j < valLength; j++) {
        if (read(arr, i + j) !== read(val, j)) {
          found = false
          break
        }
      }
      if (found) return i
    }
  }

  return -1
}

Buffer.prototype.includes = function includes (val, byteOffset, encoding) {
  return this.indexOf(val, byteOffset, encoding) !== -1
}

Buffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {
  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)
}

Buffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {
  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)
}

function hexWrite (buf, string, offset, length) {
  offset = Number(offset) || 0
  var remaining = buf.length - offset
  if (!length) {
    length = remaining
  } else {
    length = Number(length)
    if (length > remaining) {
      length = remaining
    }
  }

  // must be an even number of digits
  var strLen = string.length
  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')

  if (length > strLen / 2) {
    length = strLen / 2
  }
  for (var i = 0; i < length; ++i) {
    var parsed = parseInt(string.substr(i * 2, 2), 16)
    if (isNaN(parsed)) return i
    buf[offset + i] = parsed
  }
  return i
}

function utf8Write (buf, string, offset, length) {
  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)
}

function asciiWrite (buf, string, offset, length) {
  return blitBuffer(asciiToBytes(string), buf, offset, length)
}

function latin1Write (buf, string, offset, length) {
  return asciiWrite(buf, string, offset, length)
}

function base64Write (buf, string, offset, length) {
  return blitBuffer(base64ToBytes(string), buf, offset, length)
}

function ucs2Write (buf, string, offset, length) {
  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)
}

Buffer.prototype.write = function write (string, offset, length, encoding) {
  // Buffer#write(string)
  if (offset === undefined) {
    encoding = 'utf8'
    length = this.length
    offset = 0
  // Buffer#write(string, encoding)
  } else if (length === undefined && typeof offset === 'string') {
    encoding = offset
    length = this.length
    offset = 0
  // Buffer#write(string, offset[, length][, encoding])
  } else if (isFinite(offset)) {
    offset = offset | 0
    if (isFinite(length)) {
      length = length | 0
      if (encoding === undefined) encoding = 'utf8'
    } else {
      encoding = length
      length = undefined
    }
  // legacy write(string, encoding, offset, length) - remove in v0.13
  } else {
    throw new Error(
      'Buffer.write(string, encoding, offset[, length]) is no longer supported'
    )
  }

  var remaining = this.length - offset
  if (length === undefined || length > remaining) length = remaining

  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {
    throw new RangeError('Attempt to write outside buffer bounds')
  }

  if (!encoding) encoding = 'utf8'

  var loweredCase = false
  for (;;) {
    switch (encoding) {
      case 'hex':
        return hexWrite(this, string, offset, length)

      case 'utf8':
      case 'utf-8':
        return utf8Write(this, string, offset, length)

      case 'ascii':
        return asciiWrite(this, string, offset, length)

      case 'latin1':
      case 'binary':
        return latin1Write(this, string, offset, length)

      case 'base64':
        // Warning: maxLength not taken into account in base64Write
        return base64Write(this, string, offset, length)

      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return ucs2Write(this, string, offset, length)

      default:
        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)
        encoding = ('' + encoding).toLowerCase()
        loweredCase = true
    }
  }
}

Buffer.prototype.toJSON = function toJSON () {
  return {
    type: 'Buffer',
    data: Array.prototype.slice.call(this._arr || this, 0)
  }
}

function base64Slice (buf, start, end) {
  if (start === 0 && end === buf.length) {
    return base64.fromByteArray(buf)
  } else {
    return base64.fromByteArray(buf.slice(start, end))
  }
}

function utf8Slice (buf, start, end) {
  end = Math.min(buf.length, end)
  var res = []

  var i = start
  while (i < end) {
    var firstByte = buf[i]
    var codePoint = null
    var bytesPerSequence = (firstByte > 0xEF) ? 4
      : (firstByte > 0xDF) ? 3
      : (firstByte > 0xBF) ? 2
      : 1

    if (i + bytesPerSequence <= end) {
      var secondByte, thirdByte, fourthByte, tempCodePoint

      switch (bytesPerSequence) {
        case 1:
          if (firstByte < 0x80) {
            codePoint = firstByte
          }
          break
        case 2:
          secondByte = buf[i + 1]
          if ((secondByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)
            if (tempCodePoint > 0x7F) {
              codePoint = tempCodePoint
            }
          }
          break
        case 3:
          secondByte = buf[i + 1]
          thirdByte = buf[i + 2]
          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)
            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {
              codePoint = tempCodePoint
            }
          }
          break
        case 4:
          secondByte = buf[i + 1]
          thirdByte = buf[i + 2]
          fourthByte = buf[i + 3]
          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)
            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {
              codePoint = tempCodePoint
            }
          }
      }
    }

    if (codePoint === null) {
      // we did not generate a valid codePoint so insert a
      // replacement char (U+FFFD) and advance only 1 byte
      codePoint = 0xFFFD
      bytesPerSequence = 1
    } else if (codePoint > 0xFFFF) {
      // encode to utf16 (surrogate pair dance)
      codePoint -= 0x10000
      res.push(codePoint >>> 10 & 0x3FF | 0xD800)
      codePoint = 0xDC00 | codePoint & 0x3FF
    }

    res.push(codePoint)
    i += bytesPerSequence
  }

  return decodeCodePointsArray(res)
}

// Based on http://stackoverflow.com/a/22747272/680742, the browser with
// the lowest limit is Chrome, with 0x10000 args.
// We go 1 magnitude less, for safety
var MAX_ARGUMENTS_LENGTH = 0x1000

function decodeCodePointsArray (codePoints) {
  var len = codePoints.length
  if (len <= MAX_ARGUMENTS_LENGTH) {
    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()
  }

  // Decode in chunks to avoid "call stack size exceeded".
  var res = ''
  var i = 0
  while (i < len) {
    res += String.fromCharCode.apply(
      String,
      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)
    )
  }
  return res
}

function asciiSlice (buf, start, end) {
  var ret = ''
  end = Math.min(buf.length, end)

  for (var i = start; i < end; ++i) {
    ret += String.fromCharCode(buf[i] & 0x7F)
  }
  return ret
}

function latin1Slice (buf, start, end) {
  var ret = ''
  end = Math.min(buf.length, end)

  for (var i = start; i < end; ++i) {
    ret += String.fromCharCode(buf[i])
  }
  return ret
}

function hexSlice (buf, start, end) {
  var len = buf.length

  if (!start || start < 0) start = 0
  if (!end || end < 0 || end > len) end = len

  var out = ''
  for (var i = start; i < end; ++i) {
    out += toHex(buf[i])
  }
  return out
}

function utf16leSlice (buf, start, end) {
  var bytes = buf.slice(start, end)
  var res = ''
  for (var i = 0; i < bytes.length; i += 2) {
    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)
  }
  return res
}

Buffer.prototype.slice = function slice (start, end) {
  var len = this.length
  start = ~~start
  end = end === undefined ? len : ~~end

  if (start < 0) {
    start += len
    if (start < 0) start = 0
  } else if (start > len) {
    start = len
  }

  if (end < 0) {
    end += len
    if (end < 0) end = 0
  } else if (end > len) {
    end = len
  }

  if (end < start) end = start

  var newBuf
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    newBuf = this.subarray(start, end)
    newBuf.__proto__ = Buffer.prototype
  } else {
    var sliceLen = end - start
    newBuf = new Buffer(sliceLen, undefined)
    for (var i = 0; i < sliceLen; ++i) {
      newBuf[i] = this[i + start]
    }
  }

  return newBuf
}

/*
 * Need to make sure that buffer isn't trying to write out of bounds.
 */
function checkOffset (offset, ext, length) {
  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')
  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')
}

Buffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  var val = this[offset]
  var mul = 1
  var i = 0
  while (++i < byteLength && (mul *= 0x100)) {
    val += this[offset + i] * mul
  }

  return val
}

Buffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) {
    checkOffset(offset, byteLength, this.length)
  }

  var val = this[offset + --byteLength]
  var mul = 1
  while (byteLength > 0 && (mul *= 0x100)) {
    val += this[offset + --byteLength] * mul
  }

  return val
}

Buffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 1, this.length)
  return this[offset]
}

Buffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 2, this.length)
  return this[offset] | (this[offset + 1] << 8)
}

Buffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 2, this.length)
  return (this[offset] << 8) | this[offset + 1]
}

Buffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)

  return ((this[offset]) |
      (this[offset + 1] << 8) |
      (this[offset + 2] << 16)) +
      (this[offset + 3] * 0x1000000)
}

Buffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset] * 0x1000000) +
    ((this[offset + 1] << 16) |
    (this[offset + 2] << 8) |
    this[offset + 3])
}

Buffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  var val = this[offset]
  var mul = 1
  var i = 0
  while (++i < byteLength && (mul *= 0x100)) {
    val += this[offset + i] * mul
  }
  mul *= 0x80

  if (val >= mul) val -= Math.pow(2, 8 * byteLength)

  return val
}

Buffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  var i = byteLength
  var mul = 1
  var val = this[offset + --i]
  while (i > 0 && (mul *= 0x100)) {
    val += this[offset + --i] * mul
  }
  mul *= 0x80

  if (val >= mul) val -= Math.pow(2, 8 * byteLength)

  return val
}

Buffer.prototype.readInt8 = function readInt8 (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 1, this.length)
  if (!(this[offset] & 0x80)) return (this[offset])
  return ((0xff - this[offset] + 1) * -1)
}

Buffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 2, this.length)
  var val = this[offset] | (this[offset + 1] << 8)
  return (val & 0x8000) ? val | 0xFFFF0000 : val
}

Buffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 2, this.length)
  var val = this[offset + 1] | (this[offset] << 8)
  return (val & 0x8000) ? val | 0xFFFF0000 : val
}

Buffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset]) |
    (this[offset + 1] << 8) |
    (this[offset + 2] << 16) |
    (this[offset + 3] << 24)
}

Buffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset] << 24) |
    (this[offset + 1] << 16) |
    (this[offset + 2] << 8) |
    (this[offset + 3])
}

Buffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)
  return ieee754.read(this, offset, true, 23, 4)
}

Buffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)
  return ieee754.read(this, offset, false, 23, 4)
}

Buffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 8, this.length)
  return ieee754.read(this, offset, true, 52, 8)
}

Buffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 8, this.length)
  return ieee754.read(this, offset, false, 52, 8)
}

function checkInt (buf, value, offset, ext, max, min) {
  if (!Buffer.isBuffer(buf)) throw new TypeError('"buffer" argument must be a Buffer instance')
  if (value > max || value < min) throw new RangeError('"value" argument is out of bounds')
  if (offset + ext > buf.length) throw new RangeError('Index out of range')
}

Buffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) {
    var maxBytes = Math.pow(2, 8 * byteLength) - 1
    checkInt(this, value, offset, byteLength, maxBytes, 0)
  }

  var mul = 1
  var i = 0
  this[offset] = value & 0xFF
  while (++i < byteLength && (mul *= 0x100)) {
    this[offset + i] = (value / mul) & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) {
    var maxBytes = Math.pow(2, 8 * byteLength) - 1
    checkInt(this, value, offset, byteLength, maxBytes, 0)
  }

  var i = byteLength - 1
  var mul = 1
  this[offset + i] = value & 0xFF
  while (--i >= 0 && (mul *= 0x100)) {
    this[offset + i] = (value / mul) & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)
  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)
  this[offset] = (value & 0xff)
  return offset + 1
}

function objectWriteUInt16 (buf, value, offset, littleEndian) {
  if (value < 0) value = 0xffff + value + 1
  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {
    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>
      (littleEndian ? i : 1 - i) * 8
  }
}

Buffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value & 0xff)
    this[offset + 1] = (value >>> 8)
  } else {
    objectWriteUInt16(this, value, offset, true)
  }
  return offset + 2
}

Buffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value >>> 8)
    this[offset + 1] = (value & 0xff)
  } else {
    objectWriteUInt16(this, value, offset, false)
  }
  return offset + 2
}

function objectWriteUInt32 (buf, value, offset, littleEndian) {
  if (value < 0) value = 0xffffffff + value + 1
  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {
    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff
  }
}

Buffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset + 3] = (value >>> 24)
    this[offset + 2] = (value >>> 16)
    this[offset + 1] = (value >>> 8)
    this[offset] = (value & 0xff)
  } else {
    objectWriteUInt32(this, value, offset, true)
  }
  return offset + 4
}

Buffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value >>> 24)
    this[offset + 1] = (value >>> 16)
    this[offset + 2] = (value >>> 8)
    this[offset + 3] = (value & 0xff)
  } else {
    objectWriteUInt32(this, value, offset, false)
  }
  return offset + 4
}

Buffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) {
    var limit = Math.pow(2, 8 * byteLength - 1)

    checkInt(this, value, offset, byteLength, limit - 1, -limit)
  }

  var i = 0
  var mul = 1
  var sub = 0
  this[offset] = value & 0xFF
  while (++i < byteLength && (mul *= 0x100)) {
    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {
      sub = 1
    }
    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) {
    var limit = Math.pow(2, 8 * byteLength - 1)

    checkInt(this, value, offset, byteLength, limit - 1, -limit)
  }

  var i = byteLength - 1
  var mul = 1
  var sub = 0
  this[offset + i] = value & 0xFF
  while (--i >= 0 && (mul *= 0x100)) {
    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {
      sub = 1
    }
    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)
  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)
  if (value < 0) value = 0xff + value + 1
  this[offset] = (value & 0xff)
  return offset + 1
}

Buffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value & 0xff)
    this[offset + 1] = (value >>> 8)
  } else {
    objectWriteUInt16(this, value, offset, true)
  }
  return offset + 2
}

Buffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value >>> 8)
    this[offset + 1] = (value & 0xff)
  } else {
    objectWriteUInt16(this, value, offset, false)
  }
  return offset + 2
}

Buffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value & 0xff)
    this[offset + 1] = (value >>> 8)
    this[offset + 2] = (value >>> 16)
    this[offset + 3] = (value >>> 24)
  } else {
    objectWriteUInt32(this, value, offset, true)
  }
  return offset + 4
}

Buffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)
  if (value < 0) value = 0xffffffff + value + 1
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value >>> 24)
    this[offset + 1] = (value >>> 16)
    this[offset + 2] = (value >>> 8)
    this[offset + 3] = (value & 0xff)
  } else {
    objectWriteUInt32(this, value, offset, false)
  }
  return offset + 4
}

function checkIEEE754 (buf, value, offset, ext, max, min) {
  if (offset + ext > buf.length) throw new RangeError('Index out of range')
  if (offset < 0) throw new RangeError('Index out of range')
}

function writeFloat (buf, value, offset, littleEndian, noAssert) {
  if (!noAssert) {
    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)
  }
  ieee754.write(buf, value, offset, littleEndian, 23, 4)
  return offset + 4
}

Buffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {
  return writeFloat(this, value, offset, true, noAssert)
}

Buffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {
  return writeFloat(this, value, offset, false, noAssert)
}

function writeDouble (buf, value, offset, littleEndian, noAssert) {
  if (!noAssert) {
    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)
  }
  ieee754.write(buf, value, offset, littleEndian, 52, 8)
  return offset + 8
}

Buffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {
  return writeDouble(this, value, offset, true, noAssert)
}

Buffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {
  return writeDouble(this, value, offset, false, noAssert)
}

// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)
Buffer.prototype.copy = function copy (target, targetStart, start, end) {
  if (!start) start = 0
  if (!end && end !== 0) end = this.length
  if (targetStart >= target.length) targetStart = target.length
  if (!targetStart) targetStart = 0
  if (end > 0 && end < start) end = start

  // Copy 0 bytes; we're done
  if (end === start) return 0
  if (target.length === 0 || this.length === 0) return 0

  // Fatal error conditions
  if (targetStart < 0) {
    throw new RangeError('targetStart out of bounds')
  }
  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')
  if (end < 0) throw new RangeError('sourceEnd out of bounds')

  // Are we oob?
  if (end > this.length) end = this.length
  if (target.length - targetStart < end - start) {
    end = target.length - targetStart + start
  }

  var len = end - start
  var i

  if (this === target && start < targetStart && targetStart < end) {
    // descending copy from end
    for (i = len - 1; i >= 0; --i) {
      target[i + targetStart] = this[i + start]
    }
  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {
    // ascending copy from start
    for (i = 0; i < len; ++i) {
      target[i + targetStart] = this[i + start]
    }
  } else {
    Uint8Array.prototype.set.call(
      target,
      this.subarray(start, start + len),
      targetStart
    )
  }

  return len
}

// Usage:
//    buffer.fill(number[, offset[, end]])
//    buffer.fill(buffer[, offset[, end]])
//    buffer.fill(string[, offset[, end]][, encoding])
Buffer.prototype.fill = function fill (val, start, end, encoding) {
  // Handle string cases:
  if (typeof val === 'string') {
    if (typeof start === 'string') {
      encoding = start
      start = 0
      end = this.length
    } else if (typeof end === 'string') {
      encoding = end
      end = this.length
    }
    if (val.length === 1) {
      var code = val.charCodeAt(0)
      if (code < 256) {
        val = code
      }
    }
    if (encoding !== undefined && typeof encoding !== 'string') {
      throw new TypeError('encoding must be a string')
    }
    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {
      throw new TypeError('Unknown encoding: ' + encoding)
    }
  } else if (typeof val === 'number') {
    val = val & 255
  }

  // Invalid ranges are not set to a default, so can range check early.
  if (start < 0 || this.length < start || this.length < end) {
    throw new RangeError('Out of range index')
  }

  if (end <= start) {
    return this
  }

  start = start >>> 0
  end = end === undefined ? this.length : end >>> 0

  if (!val) val = 0

  var i
  if (typeof val === 'number') {
    for (i = start; i < end; ++i) {
      this[i] = val
    }
  } else {
    var bytes = Buffer.isBuffer(val)
      ? val
      : utf8ToBytes(new Buffer(val, encoding).toString())
    var len = bytes.length
    for (i = 0; i < end - start; ++i) {
      this[i + start] = bytes[i % len]
    }
  }

  return this
}

// HELPER FUNCTIONS
// ================

var INVALID_BASE64_RE = /[^+\/0-9A-Za-z-_]/g

function base64clean (str) {
  // Node strips out invalid characters like \n and \t from the string, base64-js does not
  str = stringtrim(str).replace(INVALID_BASE64_RE, '')
  // Node converts strings with length < 2 to ''
  if (str.length < 2) return ''
  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not
  while (str.length % 4 !== 0) {
    str = str + '='
  }
  return str
}

function stringtrim (str) {
  if (str.trim) return str.trim()
  return str.replace(/^\s+|\s+$/g, '')
}

function toHex (n) {
  if (n < 16) return '0' + n.toString(16)
  return n.toString(16)
}

function utf8ToBytes (string, units) {
  units = units || Infinity
  var codePoint
  var length = string.length
  var leadSurrogate = null
  var bytes = []

  for (var i = 0; i < length; ++i) {
    codePoint = string.charCodeAt(i)

    // is surrogate component
    if (codePoint > 0xD7FF && codePoint < 0xE000) {
      // last char was a lead
      if (!leadSurrogate) {
        // no lead yet
        if (codePoint > 0xDBFF) {
          // unexpected trail
          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
          continue
        } else if (i + 1 === length) {
          // unpaired lead
          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
          continue
        }

        // valid lead
        leadSurrogate = codePoint

        continue
      }

      // 2 leads in a row
      if (codePoint < 0xDC00) {
        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
        leadSurrogate = codePoint
        continue
      }

      // valid surrogate pair
      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000
    } else if (leadSurrogate) {
      // valid bmp char, but last char was a lead
      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
    }

    leadSurrogate = null

    // encode utf8
    if (codePoint < 0x80) {
      if ((units -= 1) < 0) break
      bytes.push(codePoint)
    } else if (codePoint < 0x800) {
      if ((units -= 2) < 0) break
      bytes.push(
        codePoint >> 0x6 | 0xC0,
        codePoint & 0x3F | 0x80
      )
    } else if (codePoint < 0x10000) {
      if ((units -= 3) < 0) break
      bytes.push(
        codePoint >> 0xC | 0xE0,
        codePoint >> 0x6 & 0x3F | 0x80,
        codePoint & 0x3F | 0x80
      )
    } else if (codePoint < 0x110000) {
      if ((units -= 4) < 0) break
      bytes.push(
        codePoint >> 0x12 | 0xF0,
        codePoint >> 0xC & 0x3F | 0x80,
        codePoint >> 0x6 & 0x3F | 0x80,
        codePoint & 0x3F | 0x80
      )
    } else {
      throw new Error('Invalid code point')
    }
  }

  return bytes
}

function asciiToBytes (str) {
  var byteArray = []
  for (var i = 0; i < str.length; ++i) {
    // Node's code seems to be doing this and not & 0x7F..
    byteArray.push(str.charCodeAt(i) & 0xFF)
  }
  return byteArray
}

function utf16leToBytes (str, units) {
  var c, hi, lo
  var byteArray = []
  for (var i = 0; i < str.length; ++i) {
    if ((units -= 2) < 0) break

    c = str.charCodeAt(i)
    hi = c >> 8
    lo = c % 256
    byteArray.push(lo)
    byteArray.push(hi)
  }

  return byteArray
}

function base64ToBytes (str) {
  return base64.toByteArray(base64clean(str))
}

function blitBuffer (src, dst, offset, length) {
  for (var i = 0; i < length; ++i) {
    if ((i + offset >= dst.length) || (i >= src.length)) break
    dst[i + offset] = src[i]
  }
  return i
}

function isnan (val) {
  return val !== val // eslint-disable-line no-self-compare
}


/***/ }),

/***/ "./node_modules/ieee754/index.js":
/*!***************************************!*\
  !*** ./node_modules/ieee754/index.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports) {

exports.read = function (buffer, offset, isLE, mLen, nBytes) {
  var e, m
  var eLen = (nBytes * 8) - mLen - 1
  var eMax = (1 << eLen) - 1
  var eBias = eMax >> 1
  var nBits = -7
  var i = isLE ? (nBytes - 1) : 0
  var d = isLE ? -1 : 1
  var s = buffer[offset + i]

  i += d

  e = s & ((1 << (-nBits)) - 1)
  s >>= (-nBits)
  nBits += eLen
  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}

  m = e & ((1 << (-nBits)) - 1)
  e >>= (-nBits)
  nBits += mLen
  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}

  if (e === 0) {
    e = 1 - eBias
  } else if (e === eMax) {
    return m ? NaN : ((s ? -1 : 1) * Infinity)
  } else {
    m = m + Math.pow(2, mLen)
    e = e - eBias
  }
  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)
}

exports.write = function (buffer, value, offset, isLE, mLen, nBytes) {
  var e, m, c
  var eLen = (nBytes * 8) - mLen - 1
  var eMax = (1 << eLen) - 1
  var eBias = eMax >> 1
  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)
  var i = isLE ? 0 : (nBytes - 1)
  var d = isLE ? 1 : -1
  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0

  value = Math.abs(value)

  if (isNaN(value) || value === Infinity) {
    m = isNaN(value) ? 1 : 0
    e = eMax
  } else {
    e = Math.floor(Math.log(value) / Math.LN2)
    if (value * (c = Math.pow(2, -e)) < 1) {
      e--
      c *= 2
    }
    if (e + eBias >= 1) {
      value += rt / c
    } else {
      value += rt * Math.pow(2, 1 - eBias)
    }
    if (value * c >= 2) {
      e++
      c /= 2
    }

    if (e + eBias >= eMax) {
      m = 0
      e = eMax
    } else if (e + eBias >= 1) {
      m = ((value * c) - 1) * Math.pow(2, mLen)
      e = e + eBias
    } else {
      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)
      e = 0
    }
  }

  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}

  e = (e << mLen) | m
  eLen += mLen
  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}

  buffer[offset + i - d] |= s * 128
}


/***/ }),

/***/ "./node_modules/isarray/index.js":
/*!***************************************!*\
  !*** ./node_modules/isarray/index.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports) {

var toString = {}.toString;

module.exports = Array.isArray || function (arr) {
  return toString.call(arr) == '[object Array]';
};


/***/ }),

/***/ "./node_modules/jbinary/dist/browser/jbinary.js":
/*!******************************************************!*\
  !*** ./node_modules/jbinary/dist/browser/jbinary.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

!function(e){var i=this; true?module.exports=e(i,__webpack_require__(/*! jdataview */ "./node_modules/jdataview/dist/node/jdataview.js")):undefined}(function(h,i){"use strict";var o,u,n=h.document;"atob"in h&&"btoa"in h||(o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1],h.btoa||(h.btoa=function(t){for(var e,i,n,r=t.length,a=0,s="";a<r;){if(e=255&t.charCodeAt(a++),a==r){s+=o.charAt(e>>2),s+=o.charAt((3&e)<<4),s+="==";break}if(i=t.charCodeAt(a++),a==r){s+=o.charAt(e>>2),s+=o.charAt((3&e)<<4|(240&i)>>4),s+=o.charAt((15&i)<<2),s+="=";break}n=t.charCodeAt(a++),s+=o.charAt(e>>2),s+=o.charAt((3&e)<<4|(240&i)>>4),s+=o.charAt((15&i)<<2|(192&n)>>6),s+=o.charAt(63&n)}return s}),h.atob||(h.atob=function(t){for(var e,i,n,r,a=t.length,s=0,o="";s<a;){for(;e=u[255&t.charCodeAt(s++)],s<a&&-1==e;);if(-1==e)break;for(;i=u[255&t.charCodeAt(s++)],s<a&&-1==i;);if(-1==i)break;o+=String.fromCharCode(e<<2|(48&i)>>4);do{if(61==(n=255&t.charCodeAt(s++)))return o}while(n=u[n],s<a&&-1==n);if(-1==n)break;o+=String.fromCharCode((15&i)<<4|(60&n)>>2);do{if(61==(r=255&t.charCodeAt(s++)))return o}while(r=u[r],s<a&&-1==r);if(-1==r)break;o+=String.fromCharCode((3&n)<<6|r)}return o}));var c=h.Promise||function(t){this.then=t};function f(t,e){return e&&t instanceof e}function r(t){for(var e=1,i=arguments.length;e<i;++e){var n,r=arguments[e];for(n in r)void 0!==r[n]&&(t[n]=r[n])}return t}function l(t){return arguments[0]=e(t),r.apply(null,arguments)}function a(t,e,i){return f(i,Function)?i.call(t,e.contexts[0]):i}function t(s){return function(){var t=arguments,e=t.length-1,r=s.length-1,i=t[e];if(t.length=1+r,!f(i,Function)){var a=this;return new c(function(i,n){t[r]=function(t,e){return t?n(t):i(e)},s.apply(a,t)})}t[e]=void 0,t[r]=i,s.apply(this,t)}}function s(t,e){return f(t,s)?t.as(e):(f(t,i)||(t=new i(t,void 0,void 0,e?e["jBinary.littleEndian"]:void 0)),f(this,s)?(this.view=t,this.view.seek(0),this.contexts=[],this.as(e,!0)):new s(t,e))}var e=(e=Object.create)||function(t){function e(){}return e.prototype=t,new e},p=s.prototype,y=p.typeSet={};p.toValue=function(t){return a(this,this,t)},p._named=function(t,e,i){return t.displayName=e+" @ "+(void 0!==i?i:this.view.tell()),t};var d=Object.defineProperty;if(1,d)try{d({},"x",{})}catch(t){d=void 0}else d=function(t,e,i,n){n&&(t[e]=i.value)};var v="jBinary.Cache",b=0;function g(t){return l(g.prototype,t)}function w(i){return l(w.prototype,i,{createProperty:function(t){var e=(i.createProperty||w.prototype.createProperty).apply(this,arguments);return e.getBaseType&&(e.baseType=e.binary.getType(e.getBaseType(e.binary.contexts[0]))),e}})}p._getCached=function(t,e,i){if(t.hasOwnProperty(this.cacheKey))return t[this.cacheKey];e=e.call(this,t);return d(t,this.cacheKey,{value:e},i),e},p.getContext=function(e){switch(typeof e){case"undefined":e=0;case"number":return this.contexts[e];case"string":return this.getContext(function(t){return e in t});case"function":for(var t=0,i=this.contexts.length;t<i;t++){var n=this.contexts[t];if(e.call(this,n))return n}}},p.inContext=function(t,e){this.contexts.unshift(t);e=e.call(this);return this.contexts.shift(),e},g.prototype={inherit:function(n,a){var r,s=this;function t(t,e){var i=s[t];i&&(r=r||l(s),e.call(r,i),r[t]=null)}return t("params",function(t){for(var e=0,i=t.length;e<i;e++)this[t[e]]=n[e]}),t("setParams",function(t){t.apply(this,n)}),t("typeParams",function(t){for(var e=0,i=t.length;e<i;e++){var n=t[e],r=this[n];r&&(this[n]=a(r))}}),t("resolve",function(t){t.call(this,a)}),r||s},createProperty:function(t){return l(this,{binary:t,view:t.view})},toValue:function(t,e){return!1!==e&&"string"==typeof t?this.binary.getContext(t)[t]:a(this,this.binary,t)}},w.prototype=l((s.Type=g).prototype,{setParams:function(){this.baseType&&(this.typeParams=["baseType"].concat(this.typeParams||[]))},baseRead:function(){return this.binary.read(this.baseType)},baseWrite:function(t){return this.binary.write(this.baseType,t)}}),r(w.prototype,{read:w.prototype.baseRead,write:w.prototype.baseWrite}),s.Template=w,p.as=function(t,e){e=e?this:l(this);return e.typeSet=(t=t||y)===y||y.isPrototypeOf(t)?t:l(y,t),e.cacheKey=v,e.cacheKey=e._getCached(t,function(){return v+"."+ ++b},!0),e},p.seek=function(t,e){if(t=this.toValue(t),void 0===e)return this.view.seek(t);var i=this.view.tell();this.view.seek(t);e=e.call(this);return this.view.seek(i),e},p.tell=function(){return this.view.tell()},p.skip=function(t,e){return this.seek(this.tell()+this.toValue(t),e)},p.slice=function(t,e,i){return new s(this.view.slice(t,e,i),this.typeSet)},p._getType=function(t,e){switch(typeof t){case"string":if(!(t in this.typeSet))throw new ReferenceError("Unknown type: "+t);return this._getType(this.typeSet[t],e);case"number":return this._getType(y.bitfield,[t]);case"object":if(f(t,g)){var i=this;return t.inherit(e||[],function(t){return i.getType(t)})}return f(t,Array)?this._getCached(t,function(t){return this.getType(t[0],t.slice(1))},!0):this._getCached(t,function(t){return this.getType(y.object,[t])},!1)}},p.getType=function(t,e){e=this._getType(t,e);return e&&!f(t,g)&&(e.name="object"==typeof t?f(t,Array)?t[0]+"("+t.slice(1).join(", ")+")":"object":String(t)),e},p._action=function(t,e,i){if(void 0!==t){t=this.getType(t);var n=this._named(function(){return i.call(this,t.createProperty(this),this.contexts[0])},"["+t.name+"]",e);return void 0!==e?this.seek(e,n):n.call(this)}},p.read=function(t,e){return this._action(t,e,function(t,e){return t.read(e)})},p.readAll=function(){return this.read("jBinary.all",0)},p.write=function(t,n,e){return this._action(t,e,function(t,e){var i=this.tell();return t.write(n,e),this.tell()-i})},p.writeAll=function(t){return this.write("jBinary.all",t,0)},function(t,e){for(var i=0,n=e.length;i<n;i++){var r=e[i];y[r.toLowerCase()]=l(t,{dataType:r})}}(g({params:["littleEndian"],read:function(){return this.view["get"+this.dataType](void 0,this.littleEndian)},write:function(t){this.view["write"+this.dataType](t,this.littleEndian)}}),["Uint8","Uint16","Uint32","Uint64","Int8","Int16","Int32","Int64","Float32","Float64","Char"]),r(y,{byte:y.uint8,float:y.float32,double:y.float64}),y.array=w({params:["baseType","length"],read:function(){var t=this.toValue(this.length);if(this.baseType===y.uint8)return this.view.getBytes(t,void 0,!0,!0);if(void 0!==t)for(var e=new Array(t),i=0;i<t;i++)e[i]=this.baseRead();else{var n=this.view.byteLength;for(e=[];this.binary.tell()<n;)e.push(this.baseRead())}return e},write:function(t){if(this.baseType===y.uint8)return this.view.writeBytes(t);for(var e=0,i=t.length;e<i;e++)this.baseWrite(t[e])}}),y.binary=w({params:["length","typeSet"],read:function(){var t=this.binary.tell(),e=this.binary.skip(this.toValue(this.length));return new s(this.view.slice(t,e),this.typeSet)},write:function(t){this.binary.write("blob",t.read("blob",0))}}),y.bitfield=g({params:["bitSize"],read:function(){return this.view.getUnsigned(this.bitSize)},write:function(t){this.view.writeUnsigned(t,this.bitSize)}}),y.blob=g({params:["length"],read:function(){return this.view.getBytes(this.toValue(this.length))},write:function(t){this.view.writeBytes(t,!0)}}),y.const=w({params:["baseType","value","strict"],read:function(){var t=this.baseRead();if(this.strict&&t!==this.value){if(f(this.strict,Function))return this.strict(t);throw new TypeError("Unexpected value ("+t+" !== "+this.value+").")}return t},write:function(t){this.baseWrite(this.strict||void 0===t?this.value:t)}}),y.enum=w({params:["baseType","matches"],setParams:function(t,e){for(var i in this.backMatches={},e)this.backMatches[e[i]]=i},read:function(){var t=this.baseRead();return t in this.matches?this.matches[t]:t},write:function(t){this.baseWrite(t in this.backMatches?this.backMatches[t]:t)}}),y.extend=g({setParams:function(){this.parts=arguments},resolve:function(t){for(var e=this.parts,i=e.length,n=new Array(i),r=0;r<i;r++)n[r]=t(e[r]);this.parts=n},read:function(){var i=this.parts,n=this.binary.read(i[0]);return this.binary.inContext(n,function(){for(var t=1,e=i.length;t<e;t++)r(n,this.read(i[t]))}),n},write:function(i){var n=this.parts;this.binary.inContext(i,function(){for(var t=0,e=n.length;t<e;t++)this.write(n[t],i)})}}),y.if=w({params:["condition","trueType","falseType"],typeParams:["trueType","falseType"],getBaseType:function(t){return this.toValue(this.condition)?this.trueType:this.falseType}}),y.if_not=y.ifNot=w({setParams:function(t,e,i){this.baseType=["if",t,i,e]}}),y.lazy=w({marker:"jBinary.Lazy",params:["innerType","length"],getBaseType:function(){return["binary",this.length,this.binary.typeSet]},read:function(){var e=function(t){return 0===arguments.length?"value"in e?e.value:e.value=e.binary.read(e.innerType):r(e,{wasChanged:!0,value:t}).value};return e[this.marker]=!0,r(e,{binary:r(this.baseRead(),{contexts:this.binary.contexts.slice()}),innerType:this.innerType})},write:function(t){t.wasChanged||!t[this.marker]?this.binary.write(this.innerType,t()):this.baseWrite(t.binary)}}),y.object=g({params:["structure","proto"],resolve:function(t){var e,i={};for(e in this.structure)i[e]=f(this.structure[e],Function)?this.structure[e]:t(this.structure[e]);this.structure=i},read:function(){var i=this,n=this.structure,r=this.proto?l(this.proto):{};return this.binary.inContext(r,function(){for(var e in n)this._named(function(){var t=f(n[e],Function)?n[e].call(i,r):this.read(n[e]);void 0!==t&&(r[e]=t)},e).call(this)}),r},write:function(e){var i=this,n=this.structure;this.binary.inContext(e,function(){for(var t in n)this._named(function(){f(n[t],Function)?e[t]=n[t].call(i,e):this.write(n[t],e[t])},t).call(this)})}}),y.skip=g({params:["length"],read:function(){this.view.skip(this.toValue(this.length))},write:function(){this.read()}}),y.string=w({params:["length","encoding"],read:function(){return this.view.getString(this.toValue(this.length),void 0,this.encoding)},write:function(t){this.view.writeString(t,this.encoding)}}),y.string0=g({params:["length","encoding"],read:function(){var t=this.view;if(void 0!==(n=this.length))return t.getString(n,void 0,this.encoding).replace(/\0.*$/,"");for(var e=t.tell(),i=0,n=t.byteLength-e;i<n&&t.getUint8();)i++;e=t.getString(i,e,this.encoding);return i<n&&t.skip(1),e},write:function(t){var e=this.view,i=void 0===this.length?1:this.length-t.length;e.writeString(t,void 0,this.encoding),0<i&&(e.writeUint8(0),e.skip(i-1))}});s.loadData=t(function(t,e){var i;if(f(t,h.Blob))if("FileReader"in h)(a=new FileReader).onload=a.onerror=function(){e(this.error,this.result)},a.readAsArrayBuffer(t);else{var n,r,a=new FileReaderSync;try{r=a.readAsArrayBuffer(t)}catch(t){n=t}finally{e(n,r)}}else if(0,"string"!=typeof t)e(new TypeError("Unsupported source type."));else if(r=t.match(/^data:(.+?)(;base64)?,(.*)$/))try{var s=r[2],o=r[3];e(null,(s?atob:decodeURIComponent)(o))}catch(t){e(t)}else"XMLHttpRequest"in h?((o=new XMLHttpRequest).open("GET",t,!0),"responseType"in o?o.responseType="arraybuffer":"overrideMimeType"in o?o.overrideMimeType("text/plain; charset=x-user-defined"):o.setRequestHeader("Accept-Charset","x-user-defined"),"onload"in o||(o.onreadystatechange=function(){4===this.readyState&&this.onload()}),i=function(t){e(new Error(t))},o.onload=function(){if(0!==this.status&&200!==this.status)return i("HTTP Error #"+this.status+": "+this.statusText);"response"in this||(this.response=new VBArray(this.responseBody).toArray()),e(null,this.response)},o.onerror=function(){i("Network error.")},o.send(null)):e(new TypeError("Unsupported source type."))}),(s.load=t(function(t,e,i){var n=s.loadData(t);s.load.getTypeSet(t,e,function(e){n.then(function(t){i(null,new s(t,e))},i)})})).getTypeSet=function(t,e,i){i(e)},p._toURI="URL"in h&&"createObjectURL"in URL?function(t){var e=this.seek(0,function(){return this.view.getBytes()});return URL.createObjectURL(new Blob([e],{type:t}))}:function(t){var e=this.seek(0,function(){return this.view.getString(void 0,void 0,"binary")});return"data:"+t+";base64,"+btoa(e)},p._mimeType=function(t){return t||this.typeSet["jBinary.mimeType"]||"application/octet-stream"};var m;p.toURI=function(t){return this._toURI(this._mimeType(t))};return n&&((m=s.downloader=n.createElement("a")).style.display="none"),p.saveAs=t(function(t,e,i){"string"==typeof t?("msSaveBlob"in navigator?navigator.msSaveBlob(new Blob([this.read("blob",0)],{type:this._mimeType(e)}),t):n?(m.parentNode||n.body.appendChild(m),m.href=this.toURI(e),m.download=t,m.click(),m.href=m.download=""):i(new TypeError("Saving from Web Worker is not supported.")),i()):i(new TypeError("Unsupported storage type."))}),s});
//# sourceMappingURL=jbinary.js.map

/***/ }),

/***/ "./node_modules/jdataview/dist/node/jdataview.js":
/*!*******************************************************!*\
  !*** ./node_modules/jdataview/dist/node/jdataview.js ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(Buffer) {!function(factory) {
    var global = this;
    module.exports = factory(global);
}(function(global) {
    "use strict";
    function is(obj, Ctor) {
        return "object" != typeof obj || null === obj ? !1 : obj.constructor === Ctor || Object.prototype.toString.call(obj) === "[object " + Ctor.name + "]";
    }
    function arrayFrom(arrayLike, forceCopy) {
        return !forceCopy && is(arrayLike, Array) ? arrayLike : Array.prototype.slice.call(arrayLike);
    }
    function defined(value, defaultValue) {
        return void 0 !== value ? value : defaultValue;
    }
    function jDataView(buffer, byteOffset, byteLength, littleEndian) {
        if (jDataView.is(buffer)) {
            var result = buffer.slice(byteOffset, byteOffset + byteLength);
            return result._littleEndian = defined(littleEndian, result._littleEndian), result;
        }
        if (!jDataView.is(this)) return new jDataView(buffer, byteOffset, byteLength, littleEndian);
        if (this.buffer = buffer = jDataView.wrapBuffer(buffer), this._isArrayBuffer = compatibility.ArrayBuffer && is(buffer, ArrayBuffer), 
        this._isPixelData = !1, this._isDataView = compatibility.DataView && this._isArrayBuffer, 
        this._isNodeBuffer =  true && compatibility.NodeBuffer && is(buffer, Buffer), !this._isNodeBuffer && !this._isArrayBuffer && !is(buffer, Array)) throw new TypeError("jDataView buffer has an incompatible type");
        this._littleEndian = !!littleEndian;
        var bufferLength = "byteLength" in buffer ? buffer.byteLength : buffer.length;
        this.byteOffset = byteOffset = defined(byteOffset, 0), this.byteLength = byteLength = defined(byteLength, bufferLength - byteOffset), 
        this._offset = this._bitOffset = 0, this._isDataView ? this._view = new DataView(buffer, byteOffset, byteLength) : this._checkBounds(byteOffset, byteLength, bufferLength), 
        this._engineAction = this._isDataView ? this._dataViewAction : this._isNodeBuffer ? this._nodeBufferAction : this._isArrayBuffer ? this._arrayBufferAction : this._arrayAction;
    }
    function getCharCodes(string) {
        if (compatibility.NodeBuffer) return new Buffer(string, "binary");
        for (var Type = compatibility.ArrayBuffer ? Uint8Array : Array, codes = new Type(string.length), i = 0, length = string.length; length > i; i++) codes[i] = 255 & string.charCodeAt(i);
        return codes;
    }
    function pow2(n) {
        return n >= 0 && 31 > n ? 1 << n : pow2[n] || (pow2[n] = Math.pow(2, n));
    }
    function Uint64(lo, hi) {
        this.lo = lo, this.hi = hi;
    }
    function Int64() {
        Uint64.apply(this, arguments);
    }
    var compatibility = {
        NodeBuffer:  true && "Buffer" in global,
        DataView: "DataView" in global,
        ArrayBuffer: "ArrayBuffer" in global,
        PixelData: !1
    }, TextEncoder = global.TextEncoder, TextDecoder = global.TextDecoder;
    compatibility.NodeBuffer && !function(buffer) {
        try {
            buffer.writeFloatLE(1/0, 0);
        } catch (e) {
            compatibility.NodeBuffer = !1;
        }
    }(new Buffer(4));
    var dataTypes = {
        Int8: 1,
        Int16: 2,
        Int32: 4,
        Uint8: 1,
        Uint16: 2,
        Uint32: 4,
        Float32: 4,
        Float64: 8
    };
    jDataView.wrapBuffer = function(buffer) {
        switch (typeof buffer) {
          case "number":
            if (compatibility.NodeBuffer) buffer = new Buffer(buffer), buffer.fill(0); else if (compatibility.ArrayBuffer) buffer = new Uint8Array(buffer).buffer; else {
                buffer = new Array(buffer);
                for (var i = 0; i < buffer.length; i++) buffer[i] = 0;
            }
            return buffer;

          case "string":
            buffer = getCharCodes(buffer);

          default:
            return "length" in buffer && !(compatibility.NodeBuffer && is(buffer, Buffer) || compatibility.ArrayBuffer && is(buffer, ArrayBuffer)) && (compatibility.NodeBuffer ? buffer = new Buffer(buffer) : compatibility.ArrayBuffer ? is(buffer, ArrayBuffer) || (buffer = new Uint8Array(buffer).buffer, 
            is(buffer, ArrayBuffer) || (buffer = new Uint8Array(arrayFrom(buffer, !0)).buffer)) : buffer = arrayFrom(buffer)), 
            buffer;
        }
    }, jDataView.is = function(view) {
        return view && view.jDataView;
    }, jDataView.from = function() {
        return new jDataView(arguments);
    }, jDataView.Uint64 = Uint64, Uint64.prototype = {
        valueOf: function() {
            return this.lo + pow2(32) * this.hi;
        },
        toString: function() {
            return Number.prototype.toString.apply(this.valueOf(), arguments);
        }
    }, Uint64.fromNumber = function(number) {
        var hi = Math.floor(number / pow2(32)), lo = number - hi * pow2(32);
        return new Uint64(lo, hi);
    }, jDataView.Int64 = Int64, Int64.prototype = "create" in Object ? Object.create(Uint64.prototype) : new Uint64(), 
    Int64.prototype.valueOf = function() {
        return this.hi < pow2(31) ? Uint64.prototype.valueOf.apply(this, arguments) : -(pow2(32) - this.lo + pow2(32) * (pow2(32) - 1 - this.hi));
    }, Int64.fromNumber = function(number) {
        var lo, hi;
        if (number >= 0) {
            var unsigned = Uint64.fromNumber(number);
            lo = unsigned.lo, hi = unsigned.hi;
        } else hi = Math.floor(number / pow2(32)), lo = number - hi * pow2(32), hi += pow2(32);
        return new Int64(lo, hi);
    };
    var proto = jDataView.prototype = {
        compatibility: compatibility,
        jDataView: !0,
        _checkBounds: function(byteOffset, byteLength, maxLength) {
            if ("number" != typeof byteOffset) throw new TypeError("Offset is not a number.");
            if ("number" != typeof byteLength) throw new TypeError("Size is not a number.");
            if (0 > byteLength) throw new RangeError("Length is negative.");
            if (0 > byteOffset || byteOffset + byteLength > defined(maxLength, this.byteLength)) throw new RangeError("Offsets are out of bounds.");
        },
        _action: function(type, isReadAction, byteOffset, littleEndian, value) {
            return this._engineAction(type, isReadAction, defined(byteOffset, this._offset), defined(littleEndian, this._littleEndian), value);
        },
        _dataViewAction: function(type, isReadAction, byteOffset, littleEndian, value) {
            return this._offset = byteOffset + dataTypes[type], isReadAction ? this._view["get" + type](byteOffset, littleEndian) : this._view["set" + type](byteOffset, value, littleEndian);
        },
        _arrayBufferAction: function(type, isReadAction, byteOffset, littleEndian, value) {
            var typedArray, size = dataTypes[type], TypedArray = global[type + "Array"];
            if (littleEndian = defined(littleEndian, this._littleEndian), 1 === size || (this.byteOffset + byteOffset) % size === 0 && littleEndian) return typedArray = new TypedArray(this.buffer, this.byteOffset + byteOffset, 1), 
            this._offset = byteOffset + size, isReadAction ? typedArray[0] : typedArray[0] = value;
            var bytes = new Uint8Array(isReadAction ? this.getBytes(size, byteOffset, littleEndian, !0) : size);
            return typedArray = new TypedArray(bytes.buffer, 0, 1), isReadAction ? typedArray[0] : (typedArray[0] = value, 
            void this._setBytes(byteOffset, bytes, littleEndian));
        },
        _arrayAction: function(type, isReadAction, byteOffset, littleEndian, value) {
            return isReadAction ? this["_get" + type](byteOffset, littleEndian) : this["_set" + type](byteOffset, value, littleEndian);
        },
        _getBytes: function(length, byteOffset, littleEndian) {
            littleEndian = defined(littleEndian, this._littleEndian), byteOffset = defined(byteOffset, this._offset), 
            length = defined(length, this.byteLength - byteOffset), this._checkBounds(byteOffset, length), 
            byteOffset += this.byteOffset, this._offset = byteOffset - this.byteOffset + length;
            var result = this._isArrayBuffer ? new Uint8Array(this.buffer, byteOffset, length) : (this.buffer.slice || Array.prototype.slice).call(this.buffer, byteOffset, byteOffset + length);
            return littleEndian || 1 >= length ? result : arrayFrom(result).reverse();
        },
        getBytes: function(length, byteOffset, littleEndian, toArray) {
            var result = this._getBytes(length, byteOffset, defined(littleEndian, !0));
            return toArray ? arrayFrom(result) : result;
        },
        _setBytes: function(byteOffset, bytes, littleEndian) {
            var length = bytes.length;
            if (0 !== length) {
                if (littleEndian = defined(littleEndian, this._littleEndian), byteOffset = defined(byteOffset, this._offset), 
                this._checkBounds(byteOffset, length), !littleEndian && length > 1 && (bytes = arrayFrom(bytes, !0).reverse()), 
                byteOffset += this.byteOffset, this._isArrayBuffer) new Uint8Array(this.buffer, byteOffset, length).set(bytes); else if (this._isNodeBuffer) new Buffer(bytes).copy(this.buffer, byteOffset); else for (var i = 0; length > i; i++) this.buffer[byteOffset + i] = bytes[i];
                this._offset = byteOffset - this.byteOffset + length;
            }
        },
        setBytes: function(byteOffset, bytes, littleEndian) {
            this._setBytes(byteOffset, bytes, defined(littleEndian, !0));
        },
        getString: function(byteLength, byteOffset, encoding) {
            if (this._isNodeBuffer) return byteOffset = defined(byteOffset, this._offset), byteLength = defined(byteLength, this.byteLength - byteOffset), 
            this._checkBounds(byteOffset, byteLength), this._offset = byteOffset + byteLength, 
            this.buffer.toString(encoding || "binary", this.byteOffset + byteOffset, this.byteOffset + this._offset);
            var bytes = this._getBytes(byteLength, byteOffset, !0);
            if (encoding = "utf8" === encoding ? "utf-8" : encoding || "binary", TextDecoder && "binary" !== encoding) return new TextDecoder(encoding).decode(this._isArrayBuffer ? bytes : new Uint8Array(bytes));
            var string = "";
            byteLength = bytes.length;
            for (var i = 0; byteLength > i; i++) string += String.fromCharCode(bytes[i]);
            return "utf-8" === encoding && (string = decodeURIComponent(escape(string))), string;
        },
        setString: function(byteOffset, subString, encoding) {
            if (this._isNodeBuffer) return byteOffset = defined(byteOffset, this._offset), this._checkBounds(byteOffset, subString.length), 
            void (this._offset = byteOffset + this.buffer.write(subString, this.byteOffset + byteOffset, encoding || "binary"));
            encoding = "utf8" === encoding ? "utf-8" : encoding || "binary";
            var bytes;
            TextEncoder && "binary" !== encoding ? bytes = new TextEncoder(encoding).encode(subString) : ("utf-8" === encoding && (subString = unescape(encodeURIComponent(subString))), 
            bytes = getCharCodes(subString)), this._setBytes(byteOffset, bytes, !0);
        },
        getChar: function(byteOffset) {
            return this.getString(1, byteOffset);
        },
        setChar: function(byteOffset, character) {
            this.setString(byteOffset, character);
        },
        tell: function() {
            return this._offset;
        },
        seek: function(byteOffset) {
            return this._checkBounds(byteOffset, 0), this._offset = byteOffset;
        },
        skip: function(byteLength) {
            return this.seek(this._offset + byteLength);
        },
        slice: function(start, end, forceCopy) {
            function normalizeOffset(offset, byteLength) {
                return 0 > offset ? offset + byteLength : offset;
            }
            return start = normalizeOffset(start, this.byteLength), end = normalizeOffset(defined(end, this.byteLength), this.byteLength), 
            forceCopy ? new jDataView(this.getBytes(end - start, start, !0, !0), void 0, void 0, this._littleEndian) : new jDataView(this.buffer, this.byteOffset + start, end - start, this._littleEndian);
        },
        alignBy: function(byteCount) {
            return this._bitOffset = 0, 1 !== defined(byteCount, 1) ? this.skip(byteCount - (this._offset % byteCount || byteCount)) : this._offset;
        },
        _getFloat64: function(byteOffset, littleEndian) {
            var b = this._getBytes(8, byteOffset, littleEndian), sign = 1 - 2 * (b[7] >> 7), exponent = ((b[7] << 1 & 255) << 3 | b[6] >> 4) - 1023, mantissa = (15 & b[6]) * pow2(48) + b[5] * pow2(40) + b[4] * pow2(32) + b[3] * pow2(24) + b[2] * pow2(16) + b[1] * pow2(8) + b[0];
            return 1024 === exponent ? 0 !== mantissa ? 0/0 : 1/0 * sign : -1023 === exponent ? sign * mantissa * pow2(-1074) : sign * (1 + mantissa * pow2(-52)) * pow2(exponent);
        },
        _getFloat32: function(byteOffset, littleEndian) {
            var b = this._getBytes(4, byteOffset, littleEndian), sign = 1 - 2 * (b[3] >> 7), exponent = (b[3] << 1 & 255 | b[2] >> 7) - 127, mantissa = (127 & b[2]) << 16 | b[1] << 8 | b[0];
            return 128 === exponent ? 0 !== mantissa ? 0/0 : 1/0 * sign : -127 === exponent ? sign * mantissa * pow2(-149) : sign * (1 + mantissa * pow2(-23)) * pow2(exponent);
        },
        _get64: function(Type, byteOffset, littleEndian) {
            littleEndian = defined(littleEndian, this._littleEndian), byteOffset = defined(byteOffset, this._offset);
            for (var parts = littleEndian ? [ 0, 4 ] : [ 4, 0 ], i = 0; 2 > i; i++) parts[i] = this.getUint32(byteOffset + parts[i], littleEndian);
            return this._offset = byteOffset + 8, new Type(parts[0], parts[1]);
        },
        getInt64: function(byteOffset, littleEndian) {
            return this._get64(Int64, byteOffset, littleEndian);
        },
        getUint64: function(byteOffset, littleEndian) {
            return this._get64(Uint64, byteOffset, littleEndian);
        },
        _getInt32: function(byteOffset, littleEndian) {
            var b = this._getBytes(4, byteOffset, littleEndian);
            return b[3] << 24 | b[2] << 16 | b[1] << 8 | b[0];
        },
        _getUint32: function(byteOffset, littleEndian) {
            return this._getInt32(byteOffset, littleEndian) >>> 0;
        },
        _getInt16: function(byteOffset, littleEndian) {
            return this._getUint16(byteOffset, littleEndian) << 16 >> 16;
        },
        _getUint16: function(byteOffset, littleEndian) {
            var b = this._getBytes(2, byteOffset, littleEndian);
            return b[1] << 8 | b[0];
        },
        _getInt8: function(byteOffset) {
            return this._getUint8(byteOffset) << 24 >> 24;
        },
        _getUint8: function(byteOffset) {
            return this._getBytes(1, byteOffset)[0];
        },
        _getBitRangeData: function(bitLength, byteOffset) {
            var startBit = (defined(byteOffset, this._offset) << 3) + this._bitOffset, endBit = startBit + bitLength, start = startBit >>> 3, end = endBit + 7 >>> 3, b = this._getBytes(end - start, start, !0), wideValue = 0;
            (this._bitOffset = 7 & endBit) && (this._bitOffset -= 8);
            for (var i = 0, length = b.length; length > i; i++) wideValue = wideValue << 8 | b[i];
            return {
                start: start,
                bytes: b,
                wideValue: wideValue
            };
        },
        getSigned: function(bitLength, byteOffset) {
            var shift = 32 - bitLength;
            return this.getUnsigned(bitLength, byteOffset) << shift >> shift;
        },
        getUnsigned: function(bitLength, byteOffset) {
            var value = this._getBitRangeData(bitLength, byteOffset).wideValue >>> -this._bitOffset;
            return 32 > bitLength ? value & ~(-1 << bitLength) : value;
        },
        _setBinaryFloat: function(byteOffset, value, mantSize, expSize, littleEndian) {
            var exponent, mantissa, signBit = 0 > value ? 1 : 0, eMax = ~(-1 << expSize - 1), eMin = 1 - eMax;
            0 > value && (value = -value), 0 === value ? (exponent = 0, mantissa = 0) : isNaN(value) ? (exponent = 2 * eMax + 1, 
            mantissa = 1) : 1/0 === value ? (exponent = 2 * eMax + 1, mantissa = 0) : (exponent = Math.floor(Math.log(value) / Math.LN2), 
            exponent >= eMin && eMax >= exponent ? (mantissa = Math.floor((value * pow2(-exponent) - 1) * pow2(mantSize)), 
            exponent += eMax) : (mantissa = Math.floor(value / pow2(eMin - mantSize)), exponent = 0));
            for (var b = []; mantSize >= 8; ) b.push(mantissa % 256), mantissa = Math.floor(mantissa / 256), 
            mantSize -= 8;
            for (exponent = exponent << mantSize | mantissa, expSize += mantSize; expSize >= 8; ) b.push(255 & exponent), 
            exponent >>>= 8, expSize -= 8;
            b.push(signBit << expSize | exponent), this._setBytes(byteOffset, b, littleEndian);
        },
        _setFloat32: function(byteOffset, value, littleEndian) {
            this._setBinaryFloat(byteOffset, value, 23, 8, littleEndian);
        },
        _setFloat64: function(byteOffset, value, littleEndian) {
            this._setBinaryFloat(byteOffset, value, 52, 11, littleEndian);
        },
        _set64: function(Type, byteOffset, value, littleEndian) {
            "object" != typeof value && (value = Type.fromNumber(value)), littleEndian = defined(littleEndian, this._littleEndian), 
            byteOffset = defined(byteOffset, this._offset);
            var parts = littleEndian ? {
                lo: 0,
                hi: 4
            } : {
                lo: 4,
                hi: 0
            };
            for (var partName in parts) this.setUint32(byteOffset + parts[partName], value[partName], littleEndian);
            this._offset = byteOffset + 8;
        },
        setInt64: function(byteOffset, value, littleEndian) {
            this._set64(Int64, byteOffset, value, littleEndian);
        },
        setUint64: function(byteOffset, value, littleEndian) {
            this._set64(Uint64, byteOffset, value, littleEndian);
        },
        _setUint32: function(byteOffset, value, littleEndian) {
            this._setBytes(byteOffset, [ 255 & value, value >>> 8 & 255, value >>> 16 & 255, value >>> 24 ], littleEndian);
        },
        _setUint16: function(byteOffset, value, littleEndian) {
            this._setBytes(byteOffset, [ 255 & value, value >>> 8 & 255 ], littleEndian);
        },
        _setUint8: function(byteOffset, value) {
            this._setBytes(byteOffset, [ 255 & value ]);
        },
        setUnsigned: function(byteOffset, value, bitLength) {
            var data = this._getBitRangeData(bitLength, byteOffset), wideValue = data.wideValue, b = data.bytes;
            wideValue &= ~(~(-1 << bitLength) << -this._bitOffset), wideValue |= (32 > bitLength ? value & ~(-1 << bitLength) : value) << -this._bitOffset;
            for (var i = b.length - 1; i >= 0; i--) b[i] = 255 & wideValue, wideValue >>>= 8;
            this._setBytes(data.start, b, !0);
        }
    }, nodeNaming = {
        Int8: "Int8",
        Int16: "Int16",
        Int32: "Int32",
        Uint8: "UInt8",
        Uint16: "UInt16",
        Uint32: "UInt32",
        Float32: "Float",
        Float64: "Double"
    };
    proto._nodeBufferAction = function(type, isReadAction, byteOffset, littleEndian, value) {
        this._offset = byteOffset + dataTypes[type];
        var nodeName = nodeNaming[type] + ("Int8" === type || "Uint8" === type ? "" : littleEndian ? "LE" : "BE");
        return byteOffset += this.byteOffset, isReadAction ? this.buffer["read" + nodeName](byteOffset) : this.buffer["write" + nodeName](value, byteOffset);
    };
    for (var type in dataTypes) !function(type) {
        proto["get" + type] = function(byteOffset, littleEndian) {
            return this._action(type, !0, byteOffset, littleEndian);
        }, proto["set" + type] = function(byteOffset, value, littleEndian) {
            this._action(type, !1, byteOffset, littleEndian, value);
        };
    }(type);
    proto._setInt32 = proto._setUint32, proto._setInt16 = proto._setUint16, proto._setInt8 = proto._setUint8, 
    proto.setSigned = proto.setUnsigned;
    for (var method in proto) "set" === method.slice(0, 3) && !function(type) {
        proto["write" + type] = function() {
            Array.prototype.unshift.call(arguments, void 0), this["set" + type].apply(this, arguments);
        };
    }(method.slice(3));
    return jDataView;
});
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../buffer/index.js */ "./node_modules/buffer/index.js").Buffer))

/***/ }),

/***/ "./node_modules/mpegts_to_mp4/mpegts_to_mp4/adts.js":
/*!**********************************************************!*\
  !*** ./node_modules/mpegts_to_mp4/mpegts_to_mp4/adts.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (root, factory) {
    if (true) {
        // AMD. Register as an anonymous module.
        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
    } else {}
}(this, function () {
	'use strict';

	return {
		ADTSPacket: {
			_start: function () { return this.binary.tell() },
			_syncWord: ['const', 12, 0xfff, true],
			version: ['enum', 1, ['mpeg-4', 'mpeg-2']],
			layer: ['const', 2, 0],
			isProtectionAbsent: 1,
			profileMinusOne: 2, // http://wiki.multimedia.cx/index.php?title=MPEG-4_Audio#Audio_Object_Types minus one
			samplingFreq: ['enum', 4, [96000, 88200, 64000, 48000, 44100, 32000, 24000, 22050, 16000, 12000, 11025, 8000, 7350]], // http://wiki.multimedia.cx/index.php?title=MPEG-4_Audio#Sampling_Frequencies
			_privateStream: 1,
			channelConfig: 3, // http://wiki.multimedia.cx/index.php?title=MPEG-4_Audio#Channel_Configurations
			_reserved: 4, // originality, home, copyrighted, copyright start bits
			frameLength: 13,
			bufferFullness: 11,
			aacFramesCountMinusOne: 2,
			data: ['blob', function (context) { return context.frameLength - (this.binary.tell() - context._start) }]
		}
	};
}));

/***/ }),

/***/ "./node_modules/mpegts_to_mp4/mpegts_to_mp4/h264.js":
/*!**********************************************************!*\
  !*** ./node_modules/mpegts_to_mp4/mpegts_to_mp4/h264.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (root, factory) {
    if (true) {
        // AMD. Register as an anonymous module.
        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! jbinary */ "./node_modules/jbinary/dist/browser/jbinary.js")], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
    } else {}
}(this, function (jBinary) {
	'use strict';

	return {
		ExpGolomb: jBinary.Type({
			params: ['isSigned'],
			read: function () {
				var count = 0;
				while (!this.binary.read(1)) count++;
				var value = (1 << count) | this.binary.read(count);
				return this.isSigned ? (value & 1 ? -(value >> 1) : value >> 1) : value - 1;
			},
			write: function (value) {
				if (this.isSigned) {
					value <<= 1;
					if (value <= 0) {
						value = -value | 1;
					}
				} else {
					value++;
				}
				var length = value.toString(2).length;
				this.binary.write(length - 1, 0);
				this.binary.write(length, value);
			}
		}),

		Optional: jBinary.Template({
		    params: ['baseType'],
			read: function () {
				if (this.binary.read(1)) return this.baseRead();
			},
			write: function (value) {
				this.binary.write(value != null ? 1 : 0);
				if (value != null) {
					this.baseWrite(value);
				}
			}
		}),

		ScalingList: jBinary.Template({
			setParams: function (size) {
				this.baseType = ['array', { /* TODO: implement scaling list */ }, size];
			}
		}),

		SPS: [
			'extend',
			{
				profile_idc: 'uint8',
				constraint_set_flags: ['array', 1, 8],
				level_idc: 'uint8',
				seq_parameter_set_id: 'ExpGolomb'
			},
			['if', function (context) { return [100, 110, 122, 244, 44, 83, 86, 118].indexOf(context.profile_idc) >= 0 }, {
				chroma_format: ['enum', 'ExpGolomb', ['MONO', 'YUV420', 'YUV422', 'YUV444']],
				separate_color_plane_flag: ['if', function (context) { return context.chroma_format === 'YUV444' }, 1],
				bit_depth_luma_minus8: 'ExpGolomb',
				bit_depth_chroma_minus8: 'ExpGolomb',
				qpprime_y_zero_transform_bypass_flag: 1,
				scaling_matrix: ['Optional', {
					scalingList4x4: ['array', ['ScalingList', 16], 6],
					scalingList8x8: ['array', ['ScalingList', 64], function () { return this.binary.getContext(1).chroma_format !== 'YUV444' ? 2 : 6 }]
				}]
			}],
			{
				log2_max_frame_num_minus4: 'ExpGolomb',
				pic_order_cnt_type: 'ExpGolomb',
				pic_order: ['if_not', 'pic_order_cnt_type', {log2_max_pic_order_cnt_lsb_minus4: 'ExpGolomb'}, [
					'if',
					function (context) { return context.pic_order_cnt_type === 1 },
					{
						delta_pic_order_always_zero_flag: 1,
						offset_for_non_ref_pic: ['ExpGolomb', true],
						offset_for_top_to_bottom_field: ['ExpGolomb', true],
						_num_ref_frames_in_pic_order_cnt_cycle: jBinary.Template({
							baseType: 'ExpGolomb',
							write: function (value, context) { this.baseWrite(context.offset_for_ref_frame.length) }
						}),
						offset_for_ref_frame: ['array', ['ExpGolomb', true], function (context) { return context._num_ref_frames_in_pic_order_cnt_cycle }]
					}
				]],
				max_num_ref_frames: 'ExpGolomb',
				gaps_in_frame_num_value_allowed_flag: 1,
				pic_width_in_mbs_minus_1: 'ExpGolomb',
				pic_height_in_map_units_minus_1: 'ExpGolomb',
				frame_mbs_only_flag: 1,
				mb_adaptive_frame_field_flag: ['if_not', 'frame_mbs_only_flag', 1],
				direct_8x8_inference_flag: 1,
				frame_cropping: ['Optional', {
					left: 'ExpGolomb',
					right: 'ExpGolomb',
					top: 'ExpGolomb',
					bottom: 'ExpGolomb'
				}]
				// TODO: add VUI parameters
			}
		],

		NALUnit: jBinary.Type({
			read: function () {
				var sync = this.binary.read(['blob', 3]); // [0, 0, 1] or [0, 0, 0, 1]
				if (sync[2] === 0) this.binary.skip(1);
				var end = this.binary.view.byteLength, pos = this.binary.tell();
				var bytes = this.binary.skip(0, function () { return this.view.getBytes() });
				for (var i = 1, length = bytes.length - 3; i < length; i++) {
					if (bytes[i] === 0 && bytes[i + 1] === 0 && (bytes[i + 2] === 1 || (bytes[i + 2] === 0 && bytes[i + 3] === 1))) {
						end = pos + i;
						break;
					}
				}
				var data = this.binary.read(['blob', end - pos]);
				// TODO: ideally there should be Annex.B conversion from [0, 0, 3, X=0..3] to [0, 0, X]
				return data;
			}
		})
	};
}));

/***/ }),

/***/ "./node_modules/mpegts_to_mp4/mpegts_to_mp4/index.js":
/*!***********************************************************!*\
  !*** ./node_modules/mpegts_to_mp4/mpegts_to_mp4/index.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (root, factory) {
    if (true) {
        // AMD. Register as an anonymous module.
        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! jdataview */ "./node_modules/jdataview/dist/node/jdataview.js"), __webpack_require__(/*! jbinary */ "./node_modules/jbinary/dist/browser/jbinary.js"), __webpack_require__(/*! ./mp4 */ "./node_modules/mpegts_to_mp4/mpegts_to_mp4/mp4.js"), __webpack_require__(/*! ./h264 */ "./node_modules/mpegts_to_mp4/mpegts_to_mp4/h264.js"), __webpack_require__(/*! ./pes */ "./node_modules/mpegts_to_mp4/mpegts_to_mp4/pes.js"), __webpack_require__(/*! ./adts */ "./node_modules/mpegts_to_mp4/mpegts_to_mp4/adts.js")], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
    } else {}
}(this, function (jDataView, jBinary, MP4, H264, PES, ADTS) {
	'use strict';


	/**
	 * Copied from mux.js => https://github.com/videojs/mux.js/blob/957441d44307a47d801af3db5c51072ed241f8c2/lib/codecs/h264.js#L266
	 * Expunge any "Emulation Prevention" bytes from a "Raw Byte
	 * Sequence Payload"
	 * @param data {Uint8Array} the bytes of a RBSP from a NAL
	 * unit
	 * @return {Uint8Array} the RBSP without any Emulation
	 * Prevention Bytes
	 */
	var discardEmulationPreventionBytes = function(data) {
		var
		length = data.byteLength,
		emulationPreventionBytesPositions = [],
		i = 0,
		newLength, newData;

		// Find all `Emulation Prevention Bytes`
		while (i < length - 2) {
		if (data[i] === 0 && data[i + 1] === 0 && data[i + 2] === 0x03) {
			emulationPreventionBytesPositions.push(i + 2);
			i += 2;
		} else {
			i++;
		}
		}

		// If no Emulation Prevention Bytes were found just return the original
		// array
		if (emulationPreventionBytesPositions.length === 0) {
		return data;
		}

		// Create a new array to hold the NAL unit data
		newLength = length - emulationPreventionBytesPositions.length;
		newData = new Uint8Array(newLength);
		var sourceIndex = 0;

		for (i = 0; i < newLength; sourceIndex++, i++) {
		if (sourceIndex === emulationPreventionBytesPositions[0]) {
			// Skip this byte
			sourceIndex++;
			// Remove this position index
			emulationPreventionBytesPositions.shift();
		}
		newData[i] = data[sourceIndex];
		}

		return newData;
	};


	return function (mpegts) {
		var packets = mpegts.read('File');
		
		// extracting and concatenating raw stream parts
		var stream = new jDataView(mpegts.view.byteLength);
		for (var i = 0, length = packets.length; i < length; i++) {
			var packet = packets[i], adaptation = packet.adaptationField, payload = packet.payload;
			if (payload && payload._rawStream) {
				stream.writeBytes(payload._rawStream);
			}
		}
		
		var pesStream = new jBinary(stream.slice(0, stream.tell()), PES),
			audioStream = new jBinary(stream.byteLength, ADTS),
			samples = [],
			audioSamples = [];

		stream = new jDataView(stream.byteLength);
		
		while (pesStream.tell() < pesStream.view.byteLength) {
			var packet = pesStream.read('PESPacket');

			if (packet.streamId === 0xC0) {
				// 0xC0 means we have got first audio stream
				audioStream.write('blob', packet.data);
			} else
			if (packet.streamId === 0xE0) {
				var nalStream = new jBinary(packet.data, H264),
					pts = packet.pts,
					dts = packet.dts,
					curSample = {offset: stream.tell(), pts: pts, dts: dts !== undefined ? dts : pts};
				
				samples.push(curSample);
				
				// collecting info from H.264 NAL units
				while (nalStream.tell() < nalStream.view.byteLength) {
					var nalUnit = nalStream.read('NALUnit');
					switch (nalUnit[0] & 0x1F) {
						case 7:
							if (!sps) {
								var sps = nalUnit;
								// remove Emulation Prevention Bytes to get correct width & height
								// See http://blog.51cto.com/danielllf/1758115
								var spsInfo = new jBinary(discardEmulationPreventionBytes(sps.subarray(1)), H264).read('SPS');
								var width = (spsInfo.pic_width_in_mbs_minus_1 + 1) * 16;
								var height = (2 - spsInfo.frame_mbs_only_flag) * (spsInfo.pic_height_in_map_units_minus_1 + 1) * 16;
								var cropping = spsInfo.frame_cropping;
								if (cropping) {
									width -= 2 * (cropping.left + cropping.right);
									height -= 2 * (cropping.top + cropping.bottom);
								}
							}
							break;

						case 8:
							if (!pps) {
								var pps = nalUnit;
							}
							break;

						case 5:
							curSample.isIDR = true;
						/* falls through */
						default:
							stream.writeUint32(nalUnit.length);
							stream.writeBytes(nalUnit);
					}
				}
			}
		}
		
		samples.push({offset: stream.tell()});

		var sizes = [],
			dtsDiffs = [],
			accessIndexes = [],
			pts_dts_Diffs = [],
			current = samples[0],
			frameRate = {sum: 0, count: 0},
			duration = 0;
		
		// calculating PTS/DTS differences and collecting keyframes
		
		for (var i = 0, length = samples.length - 1; i < length; i++) {
			var next = samples[i + 1];
			sizes.push(next.offset - current.offset);
			var dtsDiff = next.dts - current.dts;
			if (dtsDiff) {
				dtsDiffs.push({sample_count: 1, sample_delta: dtsDiff});
				duration += dtsDiff;
				frameRate.sum += dtsDiff;
				frameRate.count++;
			} else {
				dtsDiffs.length++;
			}
			if (current.isIDR) {
				accessIndexes.push(i + 1);
			}
			pts_dts_Diffs.push({
				first_chunk: pts_dts_Diffs.length + 1,
				sample_count: 1,
				sample_offset: current.dtsFix = current.pts - current.dts
			});
			current = next;
		}
		
		frameRate = Math.round(frameRate.sum / frameRate.count);
		
		for (var i = 0, length = dtsDiffs.length; i < length; i++) {
			if (dtsDiffs[i] === undefined) {
				dtsDiffs[i] = {first_chunk: i + 1, sample_count: 1, sample_delta: frameRate};
				duration += frameRate;
				//samples[i + 1].dts = samples[i].dts + frameRate;
			}
		}

		// checking if DTS differences are same everywhere to pack them into one item
		
		var dtsDiffsSame = true;
		
		for (var i = 1, length = dtsDiffs.length; i < length; i++) {
			if (dtsDiffs[i].sample_delta !== dtsDiffs[0].sample_delta) {
				dtsDiffsSame = false;
				break;
			}
		}
		
		if (dtsDiffsSame) {
			dtsDiffs = [{first_chunk: 1, sample_count: sizes.length, sample_delta: dtsDiffs[0].sample_delta}];
		}

		// building audio metadata

		var audioStart = stream.tell(),
			audioSize = audioStream.tell(),
			audioSizes = [],
			audioHeader,
			maxAudioSize = 0;
			
		audioStream.seek(0);
		
		while (audioStream.tell() < audioSize) {
			audioHeader = audioStream.read('ADTSPacket');
			audioSizes.push(audioHeader.data.length);
			if (audioHeader.data.length > maxAudioSize) {
				maxAudioSize = audioHeader.data.length;
			}
			stream.writeBytes(audioHeader.data);
		}

		// generating resulting MP4

		var mp4 = new jBinary(stream.byteLength, MP4);
		
		var trak = [{
			atoms: {
				tkhd: [{
					version: 0,
					flags: 15,
					track_ID: 1,
					duration: duration,
					layer: 0,
					alternate_group: 0,
					volume: 1,
					matrix: {
						a: 1, b: 0, x: 0,
						c: 0, d: 1, y: 0,
						u: 0, v: 0, w: 1
					},
					dimensions: {
						horz: width,
						vert: height
					}
				}],
				mdia: [{
					atoms: {
						mdhd: [{
							version: 0,
							flags: 0,
							timescale: 90000,
							duration: duration,
							lang: 'und'
						}],
						hdlr: [{
							version: 0,
							flags: 0,
							handler_type: 'vide',
							name: 'VideoHandler'
						}],
						minf: [{
							atoms: {
								vmhd: [{
									version: 0,
									flags: 1,
									graphicsmode: 0,
									opcolor: {r: 0, g: 0, b: 0}
								}],
								dinf: [{
									atoms: {
										dref: [{
											version: 0,
											flags: 0,
											entries: [{
												type: 'url ',
												version: 0,
												flags: 1,
												location: ''
											}]
										}]
									}
								}],
								stbl: [{
									atoms: {
										stsd: [{
											version: 0,
											flags: 0,
											entries: [{
												type: 'avc1',
												data_reference_index: 1,
												dimensions: {
													horz: width,
													vert: height
												},
												resolution: {
													horz: 72,
													vert: 72
												},
												frame_count: 1,
												compressorname: '',
												depth: 24,
												atoms: {
													avcC: [{
														version: 1,
														profileIndication: spsInfo.profile_idc,
														profileCompatibility: parseInt(spsInfo.constraint_set_flags.join(''), 2),
														levelIndication: spsInfo.level_idc,
														lengthSizeMinusOne: 3,
														seqParamSets: [sps],
														pictParamSets: [pps]
													}]
												}
											}]
										}],
										stts: [{
											version: 0,
											flags: 0,
											entries: dtsDiffs
										}],
										stss: [{
											version: 0,
											flags: 0,
											entries: accessIndexes
										}],
										ctts: [{
											version: 0,
											flags: 0,
											entries: pts_dts_Diffs
										}],
										stsc: [{
											version: 0,
											flags: 0,
											entries: [{
												first_chunk: 1,
												samples_per_chunk: sizes.length,
												sample_description_index: 1
											}]
										}],
										stsz: [{
											version: 0,
											flags: 0,
											sample_size: 0,
											sample_count: sizes.length,
											sample_sizes: sizes
										}],
										stco: [{
											version: 0,
											flags: 0,
											entries: [0x28]
										}]
									}
								}]
							}
						}]
					}
				}]
			}
		}];

		if (audioSize > 0) {
			trak.push({
				atoms: {
					tkhd: [{
						version: 0,
						flags: 15,
						track_ID: 2,
						duration: duration,
						layer: 0,
						alternate_group: 1,
						volume: 1,
						matrix: {
							a: 1, b: 0, x: 0,
							c: 0, d: 1, y: 0,
							u: 0, v: 0, w: 1
						},
						dimensions: {
							horz: 0,
							vert: 0
						}
					}],
					mdia: [{
						atoms: {
							mdhd: [{
								version: 0,
								flags: 0,
								timescale: 90000,
								duration: duration,
								lang: 'eng'
							}],
							hdlr: [{
								version: 0,
								flags: 0,
								handler_type: 'soun',
								name: 'SoundHandler'
							}],
							minf: [{
								atoms: {
									smhd: [{
										version: 0,
										flags: 0,
										balance: 0
									}],
									dinf: [{
										atoms: {
											dref: [{
												version: 0,
												flags: 0,
												entries: [{
													type: 'url ',
													version: 0,
													flags: 1,
													location: ''
												}]
											}]
										}
									}],
									stbl: [{
										atoms: {
											stsd: [{
												version: 0,
												flags: 0,
												entries: [{
													type: 'mp4a',
													data_reference_index: 1,
													channelcount: 2,
													samplesize: 16,
													samplerate: 22050,
													atoms: {
														esds: [{
															version: 0,
															flags: 0,
															sections: [
																{
																	descriptor_type: 3,
																	ext_type: 128,
																	length: 34,
																	es_id: 2,
																	stream_priority: 0
																},
																{
																	descriptor_type: 4,
																	ext_type: 128,
																	length: 20,
																	type: 'mpeg4_audio',
																	stream_type: 'audio',
																	upstream_flag: 0,
																	buffer_size: 0,
																	maxBitrate: Math.round(maxAudioSize / (duration / 90000 / audioSizes.length)),
																	avgBitrate: Math.round((stream.tell() - audioStart) / (duration / 90000))
																},
																{
																	descriptor_type: 5,
																	ext_type: 128,
																	length: 2,
																	audio_profile: audioHeader.profileMinusOne + 1,
																	sampling_freq: audioHeader.samplingFreq,
																	channelConfig: audioHeader.channelConfig
																},
																{
																	descriptor_type: 6,
																	ext_type: 128,
																	length: 1,
																	sl: 2
																}
															]
														}]
													}
												}]
											}],
											stts: [{
												version: 0,
												flags: 0,
												entries: [{
													sample_count: audioSizes.length,
													sample_delta: Math.round(duration / audioSizes.length)
												}]
											}],
											stsc: [{
												version: 0,
												flags: 0,
												entries: [{
													first_chunk: 1,
													samples_per_chunk: audioSizes.length,
													sample_description_index: 1
												}]
											}],
											stsz: [{
												version: 0,
												flags: 0,
												sample_size: 0,
												sample_count: audioSizes.length,
												sample_sizes: audioSizes
											}],
											stco: [{
												version: 0,
												flags: 0,
												entries: [0x28 + audioStart]
											}]
										}
									}]
								}
							}]
						}
					}]
				}
			});
		};
		
		var creationTime = new Date();

		mp4.write('File', {
			ftyp: [{
				major_brand: 'isom',
				minor_version: 512,
				compatible_brands: ['isom', 'iso2', 'avc1', 'mp41']
			}],
			mdat: [{
				_rawData: stream.getBytes(stream.tell(), 0)
			}],
			moov: [{
				atoms: {
					mvhd: [{
						version: 0,
						flags: 0,
						creation_time: creationTime,
						modification_time: creationTime,
						timescale: 90000,
						duration: duration,
						rate: 1,
						volume: 1,
						matrix: {
							a: 1, b: 0, x: 0,
							c: 0, d: 1, y: 0,
							u: 0, v: 0, w: 1
						},
						next_track_ID: 2
					}],
					trak: trak
				}
			}]
		});
		
		return mp4.slice(0, mp4.tell());
	};
}));

/***/ }),

/***/ "./node_modules/mpegts_to_mp4/mpegts_to_mp4/mp4.js":
/*!*********************************************************!*\
  !*** ./node_modules/mpegts_to_mp4/mpegts_to_mp4/mp4.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (root, factory) {
    if (true) {
        // AMD. Register as an anonymous module.
        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! jbinary */ "./node_modules/jbinary/dist/browser/jbinary.js")], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
    } else {}
}(this, function (jBinary) {
	'use strict';

	var timeBasis = new Date(1970, 0, 1) - new Date(1904, 0, 1);

	function atomFilter(type) {
		return function (atom) {
			return atom.type === type;
		};
	}

	return {
		ShortName: ['string0', 4],
		
		Rate: ['FixedPoint', 'int32', 16],

		Dimensions: jBinary.Template({
			setParams: function (itemType) {
				this.baseType = {
					horz: itemType,
					vert: itemType
				};
			}
		}),

		BoxHeader: {
			_begin: function () {
				return this.binary.tell();
			},
			_size: jBinary.Template({
				baseType: 'uint32',
				write: function (value, context) {
					var size = context.size;
					this.baseWrite(size ? (size < Math.pow(2, 32) ? size : 1) : 0);
				}
			}),
			type: 'ShortName',
			size: jBinary.Type({
				read: function (context) {
					var _size = context._size;
					switch (_size) {
						case 0: return this.binary.view.byteLength - this.binary.tell() + 8;
						case 1: return this.binary.read('uint64');
						default: return _size;
					}
				},
				write: function (value) {
					if (value >= Math.pow(2, 32)) {
						this.binary.write('uint64', value);
					}
				}
			}),
			_end: function (context) {
				return context._begin + context.size;
			}
		},

		FullBox: ['extend', 'BoxHeader', {
			version: 'uint8',
			flags: 24
		}],

		Box: jBinary.Type({
			read: function () {
				var header = this.binary.skip(0, function () {
					return this.read('BoxHeader');
				});
				var box = this.binary.read(header.type) || header;
				if (box === header) console.log(header.type);
				this.binary.seek(header._end);
				return box;
			},
			write: function (box) {
				this.binary.write(box.type, box);
				var size = this.binary.tell() - box._begin;
				this.binary.seek(box._begin, function () {
					this.write('uint32', size);
				});
			}
		}),

		Time: jBinary.Template({
			params: ['baseType'],
			read: function () {
				var intTime = this.baseRead();
				if (intTime) {
					return new Date(intTime + timeBasis);
				}
			},
			write: function (time) {
				this.baseWrite((time - timeBasis) >>> 0);
			}
		}),

		FixedPoint: jBinary.Template({
			params: ['baseType'],
			setParams: function (baseType, shift) {
				this.coef = 1 << shift;
			},
			read: function () {
				return this.baseRead() / this.coef;
			},
			write: function (value) {
				this.baseWrite(value * this.coef);
			}
		}),

		Atoms: jBinary.Type({
			params: ['end'],
			read: function () {
				var atoms = {}, end = this.toValue(this.end) || this.binary.getContext('_end')._end;
				while (this.binary.tell() < end) {
					var item = this.binary.read('Box');
					(atoms[item.type] || (atoms[item.type] = [])).push(item);
				}
				return atoms;
			},
			write: function (parent) {
				for (var type in parent) {
					var atoms = parent[type];
					for (var i = 0, length = atoms.length; i < length; i++) {
						atoms[i].type = type;
						this.binary.write('Box', atoms[i]);
					}
				}
			}
		}),

		ChildAtoms: {
			atoms: 'Atoms'
		},

		MultiBox: ['extend', 'BoxHeader', 'ChildAtoms'],

		TransformationMatrix: {
			a: ['FixedPoint', 'uint32', 16],
			b: ['FixedPoint', 'uint32', 16],
			u: ['FixedPoint', 'uint32', 30],
			c: ['FixedPoint', 'uint32', 16],
			d: ['FixedPoint', 'uint32', 16],
			v: ['FixedPoint', 'uint32', 30],
			x: ['FixedPoint', 'uint32', 16],
			y: ['FixedPoint', 'uint32', 16],
			w: ['FixedPoint', 'uint32', 30]
		},

		Volume: ['FixedPoint', 'uint16', 8],

		FBVersionable: jBinary.Template({
			setParams: function (type0, type1) {
				this.baseType = ['if', 'version', type1, type0];
			}
		}),

		FBUint: ['FBVersionable', 'uint32', 'uint64'],

		FBTime: ['Time', 'FBUint'],

		TimestampBox: ['extend', 'FullBox', {
			creation_time: 'FBTime',
			modification_time: 'FBTime'
		}],

		DurationBox: ['extend', 'TimestampBox', {
			timescale: 'uint32',
			duration: 'FBUint'
		}],

		ftyp: ['extend', 'BoxHeader', {
			major_brand: 'ShortName',
			minor_version: 'uint32',
			compatible_brands: ['array', 'ShortName', function () { return (this.binary.getContext(1)._end - this.binary.tell()) / 4 }]
		}],

		free: 'BoxHeader',

		RawData: {
			_rawData: ['blob', function () { return this.binary.getContext('_end')._end - this.binary.tell() }]
		},

		mdat: ['extend', 'BoxHeader', 'RawData'],

		ParamSets: jBinary.Template({
			setParams: function (numType) {
				this.baseType = ['DynamicArray', numType, jBinary.Template({
					baseType: {
						length: 'uint16',
						paramSet: ['blob', 'length']
					},
					read: function () {
						return this.baseRead().paramSet;
					},
					write: function (paramSet) {
						this.baseWrite({
							length: paramSet.length,
							paramSet: paramSet
						});
					}
				})];
			}
		}),

		avcC: ['extend', 'BoxHeader', {
			version: ['const', 'uint8', 1],
			profileIndication: 'uint8',
			profileCompatibility: 'uint8',
			levelIndication: 'uint8',
			_reserved: ['const', 6, -1],
			lengthSizeMinusOne: 2,
			_reserved2: ['const', 3, -1],
			seqParamSets: ['ParamSets', 5],
			pictParamSets: ['ParamSets', 'uint8']
		}],

		moov: 'MultiBox',

		mvhd: ['extend', 'DurationBox', {
			rate: 'Rate',
			volume: 'Volume',
			_reserved: ['skip', 10],
			matrix: 'TransformationMatrix',
			_reserved2: ['skip', 24],
			next_track_ID: 'uint32'
		}],

		trak: 'MultiBox',

		tkhd: ['extend', 'TimestampBox', {
			track_ID: 'uint32',
			_reserved: ['skip', 4],
			duration: 'FBUint',
			_reserved2: ['skip', 8],
			layer: 'int16',
			alternate_group: 'uint16',
			volume: 'Volume',
			_reserved3: ['skip', 2],
			matrix: 'TransformationMatrix',
			dimensions: ['Dimensions', 'Rate']
		}],

		tref: 'MultiBox',

		TrackReferenceTypeBox: ['extend', 'BoxHeader', {
			track_IDs: ['array', 'uint32', function () { return (this.binary.getContext(1)._end - this.binary.tell()) / 4 }]
		}],

		hint: 'TrackReferenceTypeBox',

		cdsc: 'TrackReferenceTypeBox',

		hind: 'TrackReferenceTypeBox',

		mdia: 'MultiBox',

		mdhd: ['extend', 'DurationBox', {
			_padding: 1,
			lang: jBinary.Type({
				read: function () {
					return String.fromCharCode.apply(
						String,
						this.binary.read(['array', 5, 3]).map(function (code) { return code + 0x60 })
					);
				},
				write: function (value) {
					for (var i = 0; i < 3; i++) {
						this.binary.write(5, value.charCodeAt(i) - 0x60);
					}
				}
			}),
			_reserved: ['skip', 2]
		}],

		hdlr: ['extend', 'FullBox', {
			_reserved: ['skip', 4],
			handler_type: 'ShortName',
			_set_handler_type: function (context) {
				this.binary.getContext(atomFilter('trak'))._handler_type = context.handler_type;
			},
			_reserved2: ['skip', 12],
			name: 'string0'
		}],

		minf: 'MultiBox',

		vmhd: ['extend', 'FullBox', {
			graphicsmode: 'uint16',
			opcolor: {
				r: 'uint16',
				g: 'uint16',
				b: 'uint16'
			}
		}],

		smhd: ['extend', 'FullBox', {
			balance: ['FixedPoint', 'int16', 8],
			_reserved: ['skip', 2]
		}],

		hmhd: ['extend', 'FullBox', {
			maxPDUsize: 'uint16',
			avgPDUsize: 'uint16',
			maxbitrate: 'uint32',
			avgbitrate: 'uint32',
			_reserved: ['skip', 4]
		}],

		stbl: 'MultiBox',

		SampleEntry: ['extend', 'BoxHeader', {
			_reserved: ['skip', 6],
			data_reference_index: 'uint16'
		}],

		btrt: ['extend', 'BoxHeader', {
			bufferSizeDB: 'uint32',
			maxBitrate: 'uint32',
			avgBitrate: 'uint32'
		}],

		metx: ['extend', 'SampleEntry', {
			content_encoding: 'string0',
			namespace: 'string0',
			schema_location: 'string0',
			bitratebox: 'btrt'
		}],

		mett: ['extend', 'SampleEntry', {
			content_encoding: 'string0',
			mime_format: 'string0',
			bitratebox: 'btrt'
		}],

		pasp: ['extend', 'BoxHeader', {
			spacing: ['Dimensions', 'uint32']
		}],

		ClapInnerFormat: ['Dimensions', {
			N: 'uint32',
			D: 'uint32'
		}],

		clap: ['extend', 'BoxHeader', {
			cleanAperture: 'ClapInnerFormat',
			off: 'ClapInnerFormat'
		}],

		VisualSampleEntry: ['extend', 'SampleEntry', {
			_reserved: ['skip', 16],
			dimensions: ['Dimensions', 'uint16'],
			resolution: ['Dimensions', 'Rate'],
			_reserved2: ['skip', 4],
			frame_count: ['const', 'uint16', 1],
			compressorname: jBinary.Template({
				baseType: {
					length: 'uint8',
					string: ['string', 'length'],
					_skip: ['skip', function (context) { return 32 - 1 - context.length }]
				},
				read: function () {
					return this.baseRead().string;
				},
				write: function (value) {
					this.baseWrite({
						length: value.length,
						string: value
					});
				}
			}),
			depth: 'uint16',
			_reserved3: ['const', 'int16', -1]
		}, jBinary.Type({
			setParams: function () {
				this.optional = {
					cleanaperture: 'clap',
					pixelaspectratio: 'pasp'
				};
			},
			read: function () {
				var extension = {};

				for (var propName in this.optional) {
					var type = this.optional[propName];
					var atom = this.binary.skip(0, function () { return this.read('BoxHeader') });
					if (atom.type === type) {
						extension[propName] = this.binary.read(type);
					}
				}

				return extension;
			},
			write: function (box) {
				for (var propName in this.optional) {
					var value = box[propName];
					if (value) {
						this.binary.write(this.optional[propName], value);
					}
				}
			}
		}), 'ChildAtoms'],

		AudioSampleEntry: ['extend', 'SampleEntry', {
			_reserved: ['skip', 8],
			channelcount: 'uint16',
			samplesize: 'uint16',
			_reserved2: ['skip', 4],
			samplerate: 'Rate'
		}, 'ChildAtoms'],

		DynamicArray: jBinary.Template({
			setParams: function (lengthType, itemType) {
				this.baseType = {
					length: lengthType,
					array: ['array', itemType, 'length']
				};
			},
			read: function () {
				return this.baseRead().array;
			},
			write: function (array) {
				this.baseWrite({
					length: array.length,
					array: array
				});
			}
		}),

		ArrayBox: jBinary.Template({
			setParams: function (entryType) {
				this.baseType = ['extend', 'FullBox', {
					entries: ['DynamicArray', 'uint32', entryType]
				}];
			}
		}),

		stsd: ['ArrayBox', jBinary.Template({
			getBaseType: function () {
				return {soun: 'AudioSampleEntry', vide: 'VisualSampleEntry', meta: 'Box'}[this.binary.getContext(atomFilter('trak'))._handler_type] || 'SampleEntry';
			},
			write: function (value) {
				var pos = this.binary.tell();
				this.baseWrite(value);
				var size = this.binary.tell() - pos;
				this.binary.seek(pos, function () { this.write('uint32', size) });
			}
		})],

		stdp: ['extend', 'FullBox', {
			priorities: ['array', 'uint16', function () { return this.binary.getContext(atomFilter('stbl'))._sample_count }]
		}],

		stsl: ['extend', 'FullBox', {
			_reserved: 7,
			constraint_flag: 'bool',
			scale_method: ['enum', 'uint8', [false, 'fill', 'hidden', 'meet', 'slice-x', 'slice-y']],
			display_center: ['Dimensions', 'int16']
		}],

		stts: ['ArrayBox', {
			sample_count: 'uint32',
			sample_delta: 'uint32'
		}],

		ctts: ['ArrayBox', {
			sample_count: 'uint32',
			sample_offset: 'uint32'
		}],

		stss: ['ArrayBox', 'uint32'],

		stsh: ['ArrayBox', {
			shadowed_sample_number: 'uint32',
			sync_sample_number: 'uint32'
		}],

		ExtendedBoolean: ['enum', 2, [undefined, true, false]],

		sdtp: ['extend', 'FullBox', {
			dependencies: ['array', {
				_reserved: 2,
				sample_depends_on: 'ExtendedBoolean',
				sample_is_depended_on: 'ExtendedBoolean',
				sample_has_redundancy: 'ExtendedBoolean'
			}, function () { return this.binary.getContext(atomFilter('stbl'))._sample_count }]
		}],

		edts: 'MultiBox',

		elst: ['ArrayBox', {
			segment_duration: 'FBUint',
			media_time: ['FBVersionable', 'int32', 'int64'],
			media_rate: 'Rate'
		}],

		dinf: 'MultiBox',

		'url ': ['extend', 'FullBox', {
			location: 'string0'
		}],

		'urn ': ['extend', 'FullBox', {
			name: 'string0',
			location: 'string0'
		}],

		dref: ['ArrayBox', 'Box'],

		stsz: ['extend', 'FullBox', {
			sample_size: 'uint32',
			sample_count: 'uint32',
			_sample_count_to_stbl: function (context) {
				this.binary.getContext(atomFilter('stbl'))._sample_count = context.sample_count;
			},
			sample_sizes: ['if_not', 'sample_size',
				['array', 'uint32', 'sample_count']
			]
		}],

		stz2: ['extend', 'FullBox', {
			_reserved: ['skip', 3],
			field_size: 'uint8',
			sample_count: 'uint32',
			_sample_count_to_stbl: function (context) {
				this.binary.getContext(atomFilter('stbl'))._sample_count = context.sample_count;
			},
			sample_sizes: [
				'array',
				jBinary.Template({
					getBaseType: function (context) { return context.field_size }
				}),
				'sample_count'
			]
		}],

		stsc: ['ArrayBox', {
			first_chunk: 'uint32',
			samples_per_chunk: 'uint32',
			sample_description_index: 'uint32'
		}],

		stco: ['ArrayBox', 'uint32'],

		co64: ['ArrayBox', 'uint64'],

		padb: ['extend', 'FullBox', {
			pads: ['DynamicArray', 'uint32', jBinary.Template({
				baseType: {
					_skip: ['const', 1, 0],
					pad: 3
				},
				read: function () {
					return this.baseRead().pad;
				},
				write: function (pad) {
					this.baseWrite({pad: pad});
				}
			})]
		}],

		subs: ['ArrayBox', {
			sample_delta: 'uint32',
			subsamples: ['DynamicArray', 'uint16', {
				subsample_size: ['FBVersionable', 'uint16', 'uint32'],
				subsample_priority: 'uint8',
				discardable: 'uint8',
				_reserved: ['skip', 4]
			}]
		}],

		mvex: 'MultiBox',

		mehd: ['extend', 'FullBox', {
			fragment_duration: 'FBUint'
		}],

		esds_section: ['extend', {
			descriptor_type: 'uint8',
			ext_type: jBinary.Type({
				read: function () {
					var next_byte = this.binary.read('uint8');
					if (next_byte === 0x80 || next_byte === 0x81 || next_byte === 0xFE) {
						this.binary.skip(2);
						return next_byte;
					} else {
						this.binary.skip(-1);
					}
				},
				write: function (filler) {
					if (filler !== undefined) this.binary.write('blob', [filler, filler, filler]);
				}
			}),
			length: 'uint8'
		}, jBinary.Template({
			getBaseType: function (context) {
				switch (context.descriptor_type) {
					case 3: return {
						es_id: 'uint16',
						stream_priority: 'uint8'
					};

					case 4: return {
						type: ['enum', 'uint8', {
							1: 'v1',
							2: 'v2',
							32: 'mpeg4_video',
							33: 'mpeg4_avc_sps',
							34: 'mpeg4_avc_pps',
							64: 'mpeg4_audio',
							96: 'mpeg2_simple_video',
							97: 'mpeg2_main_video',
							98: 'mpeg2_snr_video',
							99: 'mpeg2_spatial_video',
							100: 'mpeg2_high_video',
							101: 'mpeg2_422_video',
							102: 'mpeg4_adts_main',
							103: 'mpeg4_adts_low_complexity',
							104: 'mpeg4_adts_scaleable_sampling',
							105: 'mpeg2_adts_main',
							106: 'mpeg1_video',
							107: 'mpeg1_adts',
							108: 'jpeg_video',
							192: 'private_audio',
							208: 'private_video',
							224: 'pcm_little_endian_audio',
							225: 'vorbis_audio',
							226: 'dolby_v3_audio',
							227: 'alaw_audio',
							228: 'mulaw_audio',
							229: 'adpcm_audio',
							230: 'pcm_big_endian_audio',
							240: 'yv12_video',
							241: 'h264_video',
							242: 'h263_video',
							243: 'h261_video'
						}],
						stream_type: ['enum', 6, [
							null,
							'object',
							'clock',
							'scene',
							'visual',
							'audio',
							'mpeg-7',
							'ipmp',
							'oci',
							'mpeg-java'
						]],
						upstream_flag: 1,
						_reserved: ['const', 1, 1],
						buffer_size: 24,
						maxBitrate: 'uint32',
						avgBitrate: 'uint32'
					};

					case 5: return {
						audio_profile: ['enum', 5, [
							null,
							'aac-main',
							'aac-lc',
							'aac-ssr',
							'aac-ltp',
							'sbr',
							'aac-scalable',
							'twinvq',
							'celp',
							'hxvc',
							null,
							null,
							'ttsi',
							'main-synthesis',
							'wavetable-synthesis',
							'general-midi',
							'algorithmic-synthesis-and-audio-effects',
							'er-aac-lc',
							'reserved',
							'er-aac-ltp',
							'er-aac-scalable',
							'er-twinvq',
							'er-bsac',
							'er-aac-ld',
							'er-celp',
							'er-hvxc',
							'er-hiln',
							'er-parametric',
							'ssc',
							'ps',
							'mpeg-surround'
						]],
						sampling_freq: jBinary.Type({
							setParams: function () {
								this.freqList = [96000, 88200, 64000, 48000, 44100, 32000, 24000, 22050, 16000, 12000, 11025, 8000, 7350];
							},
							read: function () {
								var freqIndex = this.binary.read(4);
								return freqIndex !== 15 ? this.freqList[freqIndex] : this.binary.read(24);
							},
							write: function (value) {
								var freqIndex = this.freqList.indexOf(value);
								if (freqIndex !== -1) {
									this.binary.write(4, freqIndex);
								} else {
									this.binary.write(4, 15);
									this.binary.write(24, value);
								}
							}
						}),
						channelConfig: 4,
						frameLength: ['enum', 1, [1024, 960]],
						dependsOnCoreCoder: 1,
						extensionFlag: 1
					};

					case 6: return {
						sl: ['const', 'uint8', 2]
					};
				}
			}
		})],

		esds: ['extend', 'FullBox', {
			sections: jBinary.Template({
				baseType: 'esds_section',
				read: function () {
					var end = this.binary.getContext('_end')._end, sections = [];
					while (this.binary.tell() < end) {
						sections.push(this.baseRead());
					}
					return sections;
				},
				write: function (sections) {
					for (var i = 0, length = sections.length; i < length; i++) {
						this.baseWrite(sections[i]);
					}
				}
			})
		}],

		File: ['Atoms', function () { return this.binary.view.byteLength }]
	};
}));


/***/ }),

/***/ "./node_modules/mpegts_to_mp4/mpegts_to_mp4/mpegts.js":
/*!************************************************************!*\
  !*** ./node_modules/mpegts_to_mp4/mpegts_to_mp4/mpegts.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (root, factory) {
    if (true) {
        // AMD. Register as an anonymous module.
        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! jbinary */ "./node_modules/jbinary/dist/browser/jbinary.js")], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
    } else {}
}(this, function (jBinary) {
	'use strict';

	return {
		PCR: {
			pts: 33,
			_reserved: 6,
			extension: 9
		},

		DynamicArray: jBinary.Template({
			setParams: function (lengthType, itemType) {
				this.baseType = {
					length: lengthType,
					array: ['array', itemType, 'length']
				};
			},
			read: function () {
				return this.baseRead().array;
			},
			write: function (array) {
				this.baseWrite({
					length: array.length,
					array: array
				});
			}
		}),

		Field: ['DynamicArray', 'uint8', 'uint8'],

		Flag: jBinary.Template({
			baseType: 1,
			params: ['dependentField'],
			write: function (value, context) {
				this.baseWrite(this.dependentField in context ? 1 : 0);
			}
		}),

		FlagDependent: jBinary.Template({
			params: ['flagField', 'baseType'],
			read: function () {
				return this.binary.read(['if', this.flagField, this.baseType]);
			}
		}),

		AdaptationField: {
			length: 'uint8',
			_endOf: function (context) { return this.binary.tell() + context.length },
			discontinuity: 1,
			randomAccess: 1,
			priority: 1,
			_hasPCR: ['Flag', 'pcr'],
			_hasOPCR: ['Flag', 'opcr'],
			_hasSplicingPoint: ['Flag', 'spliceCountdown'],
			_hasTransportPrivateData: ['Flag', 'privateData'],
			_hasExtension: ['Flag', 'extension'],
			pcr: ['FlagDependent', '_hasPCR', 'PCR'],
			opcr: ['FlagDependent', '_hasOPCR', 'PCR'],
			spliceCountdown: ['FlagDependent', '_hasSplicingPoint', 'uint8'],
			privateData: ['FlagDependent', '_hasTransportPrivateData', 'Field'],
			extension: ['FlagDependent', '_hasExtension', 'Field'],
			_toEnd: function (context) { this.binary.seek(context._endOf) }
		},

		ES: {
			_rawStream: ['blob', function () { return this.binary.getContext(1)._endof - this.binary.tell() }]
		},

		PATItem: ['array', {
			programNumber: 'uint16',
			_reserved: 3,
			pid: 13
		}, function (context) { return context._dataLength / 4 }],

		PMTHeader: {
			_reserved: 3,
			pcrPID: 13,
			_reserved2: 4,
			programDescriptors: ['DynamicArray', 12, 'uint8']
		},

		PMTItem: {
			streamType: 'uint8',
			_reserved: 3,
			elementaryPID: 13,
			_reserved2: 4,
			esInfo: ['DynamicArray', 12, 'uint8']
		},

		PrivateSection: ['extend', {
			pointerField: ['if', 'payloadStart', 'uint8'],
			tableId: ['enum', 'uint8', ['PAT', 'CAT', 'PMT']],
			isLongSection: 1,
			isPrivate: 1,
			_reserved: 2,
			_sectionLength: 12
		}, ['if', 'isLongSection', {
				tableIdExt: 'uint16',
				_reserved: 2,
				versionNumber: 5,
				currentNextIndicator: 1,
				sectionNumber: 'uint8',
				lastSectionNumber: 'uint8',

				_dataLength: function () { return this.binary.getContext(1)._sectionLength - 9 },

				data: jBinary.Type({
					read: function (header) {
						var data, file = this.binary.getContext(3), dataLength = header._dataLength;

						switch (this.binary.getContext(1).tableId) {
							case 'PAT':
								data = this.binary.read('PATItem');

								if (header.sectionNumber == 0) {
									file.pat = {};
								}

								for (var i = 0; i < data.length; i++) {
									file.pat[data[i].pid] = data[i];
								}

								break;

							case 'PMT':
								data = this.binary.read('PMTHeader');

								data.mappings = [];

								dataLength -= 4 + data.programDescriptors.length;

								while (dataLength > 0) {
									var mapping = this.binary.read('PMTItem');
									data.mappings.push(mapping);
									dataLength -= 5 + mapping.esInfo.length;
								}

								if (header.sectionNumber == 0) {
									file.pmt = {};
								}

								for (var i = 0; i < data.mappings.length; i++) {
									var mapping = data.mappings[i];
									file.pmt[mapping.elementaryPID] = mapping;
								}

								break;
						}

						return data;
					}
				}),

				crc32: 'uint32'
			},
			['blob', '_sectionLength']
		]],

		Packet: {
			_startof: function () { return this.binary.tell() },
			_endof: function (context) { return context._startof + 188 },

			_syncByte: ['const', 'uint8', 0x47, true],

			transportError: 1,
			payloadStart: 1,
			transportPriority: 1,
			pid: 13,

			scramblingControl: 2,
			_hasAdaptationField: ['Flag', 'adaptationField'],
			_hasPayload: ['Flag', 'payload'],
			contCounter: 4,

			adaptationField: ['FlagDependent', '_hasAdaptationField', 'AdaptationField'],

			payload: ['FlagDependent', '_hasPayload', jBinary.Template({
				getBaseType: function (context) {
					var pid = context.pid, file = this.binary.getContext(1);
					if (pid < 2 || pid in file.pat) {
						return 'PrivateSection';
					}
					if (pid in file.pmt) {
						return 'ES';
					}
				}
			})],

			_toEnd: function (context) { this.binary.seek(context._endof) }
		},

		File: jBinary.Template({
			baseType: ['array', 'Packet'],
			read: function () {
				this.pat = {};
				this.pmt = {};
				var self = this;
				return this.binary.inContext(this, function () {
					return self.baseRead();
				});
			},
			write: function (packets) {
				var self = this;
				this.binary.inContext(this, function () {
					self.baseWrite(packets);
				});
			}
		})
	};
}));

/***/ }),

/***/ "./node_modules/mpegts_to_mp4/mpegts_to_mp4/pes.js":
/*!*********************************************************!*\
  !*** ./node_modules/mpegts_to_mp4/mpegts_to_mp4/pes.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (root, factory) {
    if (true) {
        // AMD. Register as an anonymous module.
        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! jbinary */ "./node_modules/jbinary/dist/browser/jbinary.js")], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
    } else {}
}(this, function (jBinary) {
	'use strict';

	return {
		Flag: jBinary.Template({
			baseType: 1,
			params: ['dependentField'],
			write: function (value, context) {
				this.baseWrite(this.dependentField in context ? 1 : 0);
			}
		}),

		FlagDependent: jBinary.Template({
			params: ['flagField', 'baseType'],
			read: function () {
				return this.binary.read(['if', this.flagField, this.baseType]);
			}
		}),

		PESTimeStamp: jBinary.Template({
			setParams: function (prefix) {
				var skipBit = ['const', 1, 1, true];
				this.baseType = {
					_prefix: ['const', 4, prefix, true],
					hiPart: 3,
					_skip1: skipBit,
					midPart: 15,
					_skip2: skipBit,
					loPart: 15,
					_skip3: skipBit
				};
			},
			read: function () {
				var parts = this.baseRead();
				return parts.loPart | (parts.midPart << 15) | (parts.hiPart << 30);
			},
			write: function (value) {
				this.baseWrite({
					hiPart: value >>> 30,
					midPart: (value >>> 15) & ~(-1 << 15),
					loPart: value & ~(-1 << 15)
				});
			}
		}),

		PESPacket: ['extend', {
			_startCode0: ['const', 'uint8', 0, true],
			_startCode1: ['const', 'uint8', 0, true],
			_startCode2: ['const', 'uint8', 1, true],
			streamId: 'uint8',
			length: 'uint16',
			_end: function (context) {
				var pos = this.binary.tell(), length = context.length;

				if (length) {
					pos += length;
					if (pos > this.view.byteLength - 4) {
						return pos;
					}
					var bytes = this.binary.read(['blob', 4], pos);
					if (bytes[0] === 0 && bytes[1] === 0 && bytes[2] === 1 && (bytes[3] & 0x80)) {
						return pos;
					}
					pos -= length;
				}

				/*
				not sure if it correctly covers cases where `length`==0
				(according to specification, it may be written as zero for video streams of undefined length)
				but should work for H.264 streams since NAL unit types always have clear highest bit (`forbidden_zero_bit`)
				*/
				var fileEnd = this.view.byteLength, bytes = this.binary.read('blob', pos);
				for (var i = 0; i < bytes.length - 4; i++) {
					if (bytes[i] === 0 && bytes[i + 1] === 0 && bytes[i + 2] === 1 && (bytes[i + 3] & 0x80)) {
						return pos + i;
					}
				}
				return fileEnd;
			}
		}, jBinary.Template({
			baseType: {
				_marker: ['const', 2, 2, true],
				scramblingControl: ['enum', 2, ['not_scrambled']],
				priority: 1,
				dataAlignmentIndicator: 1,
				hasCopyright: 1,
				isOriginal: 1,
				_hasPTS: ['Flag', 'pts'],
				_hasDTS: ['Flag', 'dts'],
				_hasESCR: ['Flag', 'escr'],
				_hasESRate: ['Flag', 'esRate'],
				dsmTrickMode: 1,
				_hasAdditionalCopyInfo: ['Flag', 'additionalCopyInfo'],
				_hasPESCRC: ['Flag', 'pesCRC'],
				_hasExtension: ['Flag', 'extension'],
				dataLength: 'uint8',
				_headerEnd: function (context) { return this.binary.tell() + context.dataLength },
				pts: ['FlagDependent', '_hasPTS', ['if', '_hasDTS', ['PESTimeStamp', 3], ['PESTimeStamp', 2]]],
				dts: ['FlagDependent', '_hasDTS', ['PESTimeStamp', 1]],
				_toHeaderEnd: function (context) { this.binary.seek(context._headerEnd) }
			},
			read: function () {
				var pos = this.binary.tell();
				try {
					return this.baseRead();
				} catch (e) {
					this.binary.seek(pos);
					this.binary.view.alignBy();
				}
			}
		}), {
			data: ['blob', function () { return this.binary.getContext('_end')._end - this.binary.tell() }]
		}]
	};
}));

/***/ }),

/***/ "./node_modules/node-libs-browser/node_modules/punycode/punycode.js":
/*!**************************************************************************!*\
  !*** ./node_modules/node-libs-browser/node_modules/punycode/punycode.js ***!
  \**************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {var __WEBPACK_AMD_DEFINE_RESULT__;/*! https://mths.be/punycode v1.4.1 by @mathias */
;(function(root) {

	/** Detect free variables */
	var freeExports =  true && exports &&
		!exports.nodeType && exports;
	var freeModule =  true && module &&
		!module.nodeType && module;
	var freeGlobal = typeof global == 'object' && global;
	if (
		freeGlobal.global === freeGlobal ||
		freeGlobal.window === freeGlobal ||
		freeGlobal.self === freeGlobal
	) {
		root = freeGlobal;
	}

	/**
	 * The `punycode` object.
	 * @name punycode
	 * @type Object
	 */
	var punycode,

	/** Highest positive signed 32-bit float value */
	maxInt = 2147483647, // aka. 0x7FFFFFFF or 2^31-1

	/** Bootstring parameters */
	base = 36,
	tMin = 1,
	tMax = 26,
	skew = 38,
	damp = 700,
	initialBias = 72,
	initialN = 128, // 0x80
	delimiter = '-', // '\x2D'

	/** Regular expressions */
	regexPunycode = /^xn--/,
	regexNonASCII = /[^\x20-\x7E]/, // unprintable ASCII chars + non-ASCII chars
	regexSeparators = /[\x2E\u3002\uFF0E\uFF61]/g, // RFC 3490 separators

	/** Error messages */
	errors = {
		'overflow': 'Overflow: input needs wider integers to process',
		'not-basic': 'Illegal input >= 0x80 (not a basic code point)',
		'invalid-input': 'Invalid input'
	},

	/** Convenience shortcuts */
	baseMinusTMin = base - tMin,
	floor = Math.floor,
	stringFromCharCode = String.fromCharCode,

	/** Temporary variable */
	key;

	/*--------------------------------------------------------------------------*/

	/**
	 * A generic error utility function.
	 * @private
	 * @param {String} type The error type.
	 * @returns {Error} Throws a `RangeError` with the applicable error message.
	 */
	function error(type) {
		throw new RangeError(errors[type]);
	}

	/**
	 * A generic `Array#map` utility function.
	 * @private
	 * @param {Array} array The array to iterate over.
	 * @param {Function} callback The function that gets called for every array
	 * item.
	 * @returns {Array} A new array of values returned by the callback function.
	 */
	function map(array, fn) {
		var length = array.length;
		var result = [];
		while (length--) {
			result[length] = fn(array[length]);
		}
		return result;
	}

	/**
	 * A simple `Array#map`-like wrapper to work with domain name strings or email
	 * addresses.
	 * @private
	 * @param {String} domain The domain name or email address.
	 * @param {Function} callback The function that gets called for every
	 * character.
	 * @returns {Array} A new string of characters returned by the callback
	 * function.
	 */
	function mapDomain(string, fn) {
		var parts = string.split('@');
		var result = '';
		if (parts.length > 1) {
			// In email addresses, only the domain name should be punycoded. Leave
			// the local part (i.e. everything up to `@`) intact.
			result = parts[0] + '@';
			string = parts[1];
		}
		// Avoid `split(regex)` for IE8 compatibility. See #17.
		string = string.replace(regexSeparators, '\x2E');
		var labels = string.split('.');
		var encoded = map(labels, fn).join('.');
		return result + encoded;
	}

	/**
	 * Creates an array containing the numeric code points of each Unicode
	 * character in the string. While JavaScript uses UCS-2 internally,
	 * this function will convert a pair of surrogate halves (each of which
	 * UCS-2 exposes as separate characters) into a single code point,
	 * matching UTF-16.
	 * @see `punycode.ucs2.encode`
	 * @see <https://mathiasbynens.be/notes/javascript-encoding>
	 * @memberOf punycode.ucs2
	 * @name decode
	 * @param {String} string The Unicode input string (UCS-2).
	 * @returns {Array} The new array of code points.
	 */
	function ucs2decode(string) {
		var output = [],
		    counter = 0,
		    length = string.length,
		    value,
		    extra;
		while (counter < length) {
			value = string.charCodeAt(counter++);
			if (value >= 0xD800 && value <= 0xDBFF && counter < length) {
				// high surrogate, and there is a next character
				extra = string.charCodeAt(counter++);
				if ((extra & 0xFC00) == 0xDC00) { // low surrogate
					output.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);
				} else {
					// unmatched surrogate; only append this code unit, in case the next
					// code unit is the high surrogate of a surrogate pair
					output.push(value);
					counter--;
				}
			} else {
				output.push(value);
			}
		}
		return output;
	}

	/**
	 * Creates a string based on an array of numeric code points.
	 * @see `punycode.ucs2.decode`
	 * @memberOf punycode.ucs2
	 * @name encode
	 * @param {Array} codePoints The array of numeric code points.
	 * @returns {String} The new Unicode string (UCS-2).
	 */
	function ucs2encode(array) {
		return map(array, function(value) {
			var output = '';
			if (value > 0xFFFF) {
				value -= 0x10000;
				output += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);
				value = 0xDC00 | value & 0x3FF;
			}
			output += stringFromCharCode(value);
			return output;
		}).join('');
	}

	/**
	 * Converts a basic code point into a digit/integer.
	 * @see `digitToBasic()`
	 * @private
	 * @param {Number} codePoint The basic numeric code point value.
	 * @returns {Number} The numeric value of a basic code point (for use in
	 * representing integers) in the range `0` to `base - 1`, or `base` if
	 * the code point does not represent a value.
	 */
	function basicToDigit(codePoint) {
		if (codePoint - 48 < 10) {
			return codePoint - 22;
		}
		if (codePoint - 65 < 26) {
			return codePoint - 65;
		}
		if (codePoint - 97 < 26) {
			return codePoint - 97;
		}
		return base;
	}

	/**
	 * Converts a digit/integer into a basic code point.
	 * @see `basicToDigit()`
	 * @private
	 * @param {Number} digit The numeric value of a basic code point.
	 * @returns {Number} The basic code point whose value (when used for
	 * representing integers) is `digit`, which needs to be in the range
	 * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is
	 * used; else, the lowercase form is used. The behavior is undefined
	 * if `flag` is non-zero and `digit` has no uppercase form.
	 */
	function digitToBasic(digit, flag) {
		//  0..25 map to ASCII a..z or A..Z
		// 26..35 map to ASCII 0..9
		return digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);
	}

	/**
	 * Bias adaptation function as per section 3.4 of RFC 3492.
	 * https://tools.ietf.org/html/rfc3492#section-3.4
	 * @private
	 */
	function adapt(delta, numPoints, firstTime) {
		var k = 0;
		delta = firstTime ? floor(delta / damp) : delta >> 1;
		delta += floor(delta / numPoints);
		for (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {
			delta = floor(delta / baseMinusTMin);
		}
		return floor(k + (baseMinusTMin + 1) * delta / (delta + skew));
	}

	/**
	 * Converts a Punycode string of ASCII-only symbols to a string of Unicode
	 * symbols.
	 * @memberOf punycode
	 * @param {String} input The Punycode string of ASCII-only symbols.
	 * @returns {String} The resulting string of Unicode symbols.
	 */
	function decode(input) {
		// Don't use UCS-2
		var output = [],
		    inputLength = input.length,
		    out,
		    i = 0,
		    n = initialN,
		    bias = initialBias,
		    basic,
		    j,
		    index,
		    oldi,
		    w,
		    k,
		    digit,
		    t,
		    /** Cached calculation results */
		    baseMinusT;

		// Handle the basic code points: let `basic` be the number of input code
		// points before the last delimiter, or `0` if there is none, then copy
		// the first basic code points to the output.

		basic = input.lastIndexOf(delimiter);
		if (basic < 0) {
			basic = 0;
		}

		for (j = 0; j < basic; ++j) {
			// if it's not a basic code point
			if (input.charCodeAt(j) >= 0x80) {
				error('not-basic');
			}
			output.push(input.charCodeAt(j));
		}

		// Main decoding loop: start just after the last delimiter if any basic code
		// points were copied; start at the beginning otherwise.

		for (index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {

			// `index` is the index of the next character to be consumed.
			// Decode a generalized variable-length integer into `delta`,
			// which gets added to `i`. The overflow checking is easier
			// if we increase `i` as we go, then subtract off its starting
			// value at the end to obtain `delta`.
			for (oldi = i, w = 1, k = base; /* no condition */; k += base) {

				if (index >= inputLength) {
					error('invalid-input');
				}

				digit = basicToDigit(input.charCodeAt(index++));

				if (digit >= base || digit > floor((maxInt - i) / w)) {
					error('overflow');
				}

				i += digit * w;
				t = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);

				if (digit < t) {
					break;
				}

				baseMinusT = base - t;
				if (w > floor(maxInt / baseMinusT)) {
					error('overflow');
				}

				w *= baseMinusT;

			}

			out = output.length + 1;
			bias = adapt(i - oldi, out, oldi == 0);

			// `i` was supposed to wrap around from `out` to `0`,
			// incrementing `n` each time, so we'll fix that now:
			if (floor(i / out) > maxInt - n) {
				error('overflow');
			}

			n += floor(i / out);
			i %= out;

			// Insert `n` at position `i` of the output
			output.splice(i++, 0, n);

		}

		return ucs2encode(output);
	}

	/**
	 * Converts a string of Unicode symbols (e.g. a domain name label) to a
	 * Punycode string of ASCII-only symbols.
	 * @memberOf punycode
	 * @param {String} input The string of Unicode symbols.
	 * @returns {String} The resulting Punycode string of ASCII-only symbols.
	 */
	function encode(input) {
		var n,
		    delta,
		    handledCPCount,
		    basicLength,
		    bias,
		    j,
		    m,
		    q,
		    k,
		    t,
		    currentValue,
		    output = [],
		    /** `inputLength` will hold the number of code points in `input`. */
		    inputLength,
		    /** Cached calculation results */
		    handledCPCountPlusOne,
		    baseMinusT,
		    qMinusT;

		// Convert the input in UCS-2 to Unicode
		input = ucs2decode(input);

		// Cache the length
		inputLength = input.length;

		// Initialize the state
		n = initialN;
		delta = 0;
		bias = initialBias;

		// Handle the basic code points
		for (j = 0; j < inputLength; ++j) {
			currentValue = input[j];
			if (currentValue < 0x80) {
				output.push(stringFromCharCode(currentValue));
			}
		}

		handledCPCount = basicLength = output.length;

		// `handledCPCount` is the number of code points that have been handled;
		// `basicLength` is the number of basic code points.

		// Finish the basic string - if it is not empty - with a delimiter
		if (basicLength) {
			output.push(delimiter);
		}

		// Main encoding loop:
		while (handledCPCount < inputLength) {

			// All non-basic code points < n have been handled already. Find the next
			// larger one:
			for (m = maxInt, j = 0; j < inputLength; ++j) {
				currentValue = input[j];
				if (currentValue >= n && currentValue < m) {
					m = currentValue;
				}
			}

			// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,
			// but guard against overflow
			handledCPCountPlusOne = handledCPCount + 1;
			if (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {
				error('overflow');
			}

			delta += (m - n) * handledCPCountPlusOne;
			n = m;

			for (j = 0; j < inputLength; ++j) {
				currentValue = input[j];

				if (currentValue < n && ++delta > maxInt) {
					error('overflow');
				}

				if (currentValue == n) {
					// Represent delta as a generalized variable-length integer
					for (q = delta, k = base; /* no condition */; k += base) {
						t = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);
						if (q < t) {
							break;
						}
						qMinusT = q - t;
						baseMinusT = base - t;
						output.push(
							stringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))
						);
						q = floor(qMinusT / baseMinusT);
					}

					output.push(stringFromCharCode(digitToBasic(q, 0)));
					bias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);
					delta = 0;
					++handledCPCount;
				}
			}

			++delta;
			++n;

		}
		return output.join('');
	}

	/**
	 * Converts a Punycode string representing a domain name or an email address
	 * to Unicode. Only the Punycoded parts of the input will be converted, i.e.
	 * it doesn't matter if you call it on a string that has already been
	 * converted to Unicode.
	 * @memberOf punycode
	 * @param {String} input The Punycoded domain name or email address to
	 * convert to Unicode.
	 * @returns {String} The Unicode representation of the given Punycode
	 * string.
	 */
	function toUnicode(input) {
		return mapDomain(input, function(string) {
			return regexPunycode.test(string)
				? decode(string.slice(4).toLowerCase())
				: string;
		});
	}

	/**
	 * Converts a Unicode string representing a domain name or an email address to
	 * Punycode. Only the non-ASCII parts of the domain name will be converted,
	 * i.e. it doesn't matter if you call it with a domain that's already in
	 * ASCII.
	 * @memberOf punycode
	 * @param {String} input The domain name or email address to convert, as a
	 * Unicode string.
	 * @returns {String} The Punycode representation of the given domain name or
	 * email address.
	 */
	function toASCII(input) {
		return mapDomain(input, function(string) {
			return regexNonASCII.test(string)
				? 'xn--' + encode(string)
				: string;
		});
	}

	/*--------------------------------------------------------------------------*/

	/** Define the public API */
	punycode = {
		/**
		 * A string representing the current Punycode.js version number.
		 * @memberOf punycode
		 * @type String
		 */
		'version': '1.4.1',
		/**
		 * An object of methods to convert from JavaScript's internal character
		 * representation (UCS-2) to Unicode code points, and back.
		 * @see <https://mathiasbynens.be/notes/javascript-encoding>
		 * @memberOf punycode
		 * @type Object
		 */
		'ucs2': {
			'decode': ucs2decode,
			'encode': ucs2encode
		},
		'decode': decode,
		'encode': encode,
		'toASCII': toASCII,
		'toUnicode': toUnicode
	};

	/** Expose `punycode` */
	// Some AMD build optimizers, like r.js, check for specific condition patterns
	// like the following:
	if (
		true
	) {
		!(__WEBPACK_AMD_DEFINE_RESULT__ = (function() {
			return punycode;
		}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}

}(this));

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../webpack/buildin/module.js */ "./node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./node_modules/querystring-es3/decode.js":
/*!************************************************!*\
  !*** ./node_modules/querystring-es3/decode.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.



// If obj.hasOwnProperty has been overridden, then calling
// obj.hasOwnProperty(prop) will break.
// See: https://github.com/joyent/node/issues/1707
function hasOwnProperty(obj, prop) {
  return Object.prototype.hasOwnProperty.call(obj, prop);
}

module.exports = function(qs, sep, eq, options) {
  sep = sep || '&';
  eq = eq || '=';
  var obj = {};

  if (typeof qs !== 'string' || qs.length === 0) {
    return obj;
  }

  var regexp = /\+/g;
  qs = qs.split(sep);

  var maxKeys = 1000;
  if (options && typeof options.maxKeys === 'number') {
    maxKeys = options.maxKeys;
  }

  var len = qs.length;
  // maxKeys <= 0 means that we should not limit keys count
  if (maxKeys > 0 && len > maxKeys) {
    len = maxKeys;
  }

  for (var i = 0; i < len; ++i) {
    var x = qs[i].replace(regexp, '%20'),
        idx = x.indexOf(eq),
        kstr, vstr, k, v;

    if (idx >= 0) {
      kstr = x.substr(0, idx);
      vstr = x.substr(idx + 1);
    } else {
      kstr = x;
      vstr = '';
    }

    k = decodeURIComponent(kstr);
    v = decodeURIComponent(vstr);

    if (!hasOwnProperty(obj, k)) {
      obj[k] = v;
    } else if (isArray(obj[k])) {
      obj[k].push(v);
    } else {
      obj[k] = [obj[k], v];
    }
  }

  return obj;
};

var isArray = Array.isArray || function (xs) {
  return Object.prototype.toString.call(xs) === '[object Array]';
};


/***/ }),

/***/ "./node_modules/querystring-es3/encode.js":
/*!************************************************!*\
  !*** ./node_modules/querystring-es3/encode.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.



var stringifyPrimitive = function(v) {
  switch (typeof v) {
    case 'string':
      return v;

    case 'boolean':
      return v ? 'true' : 'false';

    case 'number':
      return isFinite(v) ? v : '';

    default:
      return '';
  }
};

module.exports = function(obj, sep, eq, name) {
  sep = sep || '&';
  eq = eq || '=';
  if (obj === null) {
    obj = undefined;
  }

  if (typeof obj === 'object') {
    return map(objectKeys(obj), function(k) {
      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;
      if (isArray(obj[k])) {
        return map(obj[k], function(v) {
          return ks + encodeURIComponent(stringifyPrimitive(v));
        }).join(sep);
      } else {
        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));
      }
    }).join(sep);

  }

  if (!name) return '';
  return encodeURIComponent(stringifyPrimitive(name)) + eq +
         encodeURIComponent(stringifyPrimitive(obj));
};

var isArray = Array.isArray || function (xs) {
  return Object.prototype.toString.call(xs) === '[object Array]';
};

function map (xs, f) {
  if (xs.map) return xs.map(f);
  var res = [];
  for (var i = 0; i < xs.length; i++) {
    res.push(f(xs[i], i));
  }
  return res;
}

var objectKeys = Object.keys || function (obj) {
  var res = [];
  for (var key in obj) {
    if (Object.prototype.hasOwnProperty.call(obj, key)) res.push(key);
  }
  return res;
};


/***/ }),

/***/ "./node_modules/querystring-es3/index.js":
/*!***********************************************!*\
  !*** ./node_modules/querystring-es3/index.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.decode = exports.parse = __webpack_require__(/*! ./decode */ "./node_modules/querystring-es3/decode.js");
exports.encode = exports.stringify = __webpack_require__(/*! ./encode */ "./node_modules/querystring-es3/encode.js");


/***/ }),

/***/ "./node_modules/url/url.js":
/*!*********************************!*\
  !*** ./node_modules/url/url.js ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.



var punycode = __webpack_require__(/*! punycode */ "./node_modules/node-libs-browser/node_modules/punycode/punycode.js");
var util = __webpack_require__(/*! ./util */ "./node_modules/url/util.js");

exports.parse = urlParse;
exports.resolve = urlResolve;
exports.resolveObject = urlResolveObject;
exports.format = urlFormat;

exports.Url = Url;

function Url() {
  this.protocol = null;
  this.slashes = null;
  this.auth = null;
  this.host = null;
  this.port = null;
  this.hostname = null;
  this.hash = null;
  this.search = null;
  this.query = null;
  this.pathname = null;
  this.path = null;
  this.href = null;
}

// Reference: RFC 3986, RFC 1808, RFC 2396

// define these here so at least they only have to be
// compiled once on the first module load.
var protocolPattern = /^([a-z0-9.+-]+:)/i,
    portPattern = /:[0-9]*$/,

    // Special case for a simple path URL
    simplePathPattern = /^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,

    // RFC 2396: characters reserved for delimiting URLs.
    // We actually just auto-escape these.
    delims = ['<', '>', '"', '`', ' ', '\r', '\n', '\t'],

    // RFC 2396: characters not allowed for various reasons.
    unwise = ['{', '}', '|', '\\', '^', '`'].concat(delims),

    // Allowed by RFCs, but cause of XSS attacks.  Always escape these.
    autoEscape = ['\''].concat(unwise),
    // Characters that are never ever allowed in a hostname.
    // Note that any invalid chars are also handled, but these
    // are the ones that are *expected* to be seen, so we fast-path
    // them.
    nonHostChars = ['%', '/', '?', ';', '#'].concat(autoEscape),
    hostEndingChars = ['/', '?', '#'],
    hostnameMaxLen = 255,
    hostnamePartPattern = /^[+a-z0-9A-Z_-]{0,63}$/,
    hostnamePartStart = /^([+a-z0-9A-Z_-]{0,63})(.*)$/,
    // protocols that can allow "unsafe" and "unwise" chars.
    unsafeProtocol = {
      'javascript': true,
      'javascript:': true
    },
    // protocols that never have a hostname.
    hostlessProtocol = {
      'javascript': true,
      'javascript:': true
    },
    // protocols that always contain a // bit.
    slashedProtocol = {
      'http': true,
      'https': true,
      'ftp': true,
      'gopher': true,
      'file': true,
      'http:': true,
      'https:': true,
      'ftp:': true,
      'gopher:': true,
      'file:': true
    },
    querystring = __webpack_require__(/*! querystring */ "./node_modules/querystring-es3/index.js");

function urlParse(url, parseQueryString, slashesDenoteHost) {
  if (url && util.isObject(url) && url instanceof Url) return url;

  var u = new Url;
  u.parse(url, parseQueryString, slashesDenoteHost);
  return u;
}

Url.prototype.parse = function(url, parseQueryString, slashesDenoteHost) {
  if (!util.isString(url)) {
    throw new TypeError("Parameter 'url' must be a string, not " + typeof url);
  }

  // Copy chrome, IE, opera backslash-handling behavior.
  // Back slashes before the query string get converted to forward slashes
  // See: https://code.google.com/p/chromium/issues/detail?id=25916
  var queryIndex = url.indexOf('?'),
      splitter =
          (queryIndex !== -1 && queryIndex < url.indexOf('#')) ? '?' : '#',
      uSplit = url.split(splitter),
      slashRegex = /\\/g;
  uSplit[0] = uSplit[0].replace(slashRegex, '/');
  url = uSplit.join(splitter);

  var rest = url;

  // trim before proceeding.
  // This is to support parse stuff like "  http://foo.com  \n"
  rest = rest.trim();

  if (!slashesDenoteHost && url.split('#').length === 1) {
    // Try fast path regexp
    var simplePath = simplePathPattern.exec(rest);
    if (simplePath) {
      this.path = rest;
      this.href = rest;
      this.pathname = simplePath[1];
      if (simplePath[2]) {
        this.search = simplePath[2];
        if (parseQueryString) {
          this.query = querystring.parse(this.search.substr(1));
        } else {
          this.query = this.search.substr(1);
        }
      } else if (parseQueryString) {
        this.search = '';
        this.query = {};
      }
      return this;
    }
  }

  var proto = protocolPattern.exec(rest);
  if (proto) {
    proto = proto[0];
    var lowerProto = proto.toLowerCase();
    this.protocol = lowerProto;
    rest = rest.substr(proto.length);
  }

  // figure out if it's got a host
  // user@server is *always* interpreted as a hostname, and url
  // resolution will treat //foo/bar as host=foo,path=bar because that's
  // how the browser resolves relative URLs.
  if (slashesDenoteHost || proto || rest.match(/^\/\/[^@\/]+@[^@\/]+/)) {
    var slashes = rest.substr(0, 2) === '//';
    if (slashes && !(proto && hostlessProtocol[proto])) {
      rest = rest.substr(2);
      this.slashes = true;
    }
  }

  if (!hostlessProtocol[proto] &&
      (slashes || (proto && !slashedProtocol[proto]))) {

    // there's a hostname.
    // the first instance of /, ?, ;, or # ends the host.
    //
    // If there is an @ in the hostname, then non-host chars *are* allowed
    // to the left of the last @ sign, unless some host-ending character
    // comes *before* the @-sign.
    // URLs are obnoxious.
    //
    // ex:
    // http://a@b@c/ => user:a@b host:c
    // http://a@b?@c => user:a host:c path:/?@c

    // v0.12 TODO(isaacs): This is not quite how Chrome does things.
    // Review our test case against browsers more comprehensively.

    // find the first instance of any hostEndingChars
    var hostEnd = -1;
    for (var i = 0; i < hostEndingChars.length; i++) {
      var hec = rest.indexOf(hostEndingChars[i]);
      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))
        hostEnd = hec;
    }

    // at this point, either we have an explicit point where the
    // auth portion cannot go past, or the last @ char is the decider.
    var auth, atSign;
    if (hostEnd === -1) {
      // atSign can be anywhere.
      atSign = rest.lastIndexOf('@');
    } else {
      // atSign must be in auth portion.
      // http://a@b/c@d => host:b auth:a path:/c@d
      atSign = rest.lastIndexOf('@', hostEnd);
    }

    // Now we have a portion which is definitely the auth.
    // Pull that off.
    if (atSign !== -1) {
      auth = rest.slice(0, atSign);
      rest = rest.slice(atSign + 1);
      this.auth = decodeURIComponent(auth);
    }

    // the host is the remaining to the left of the first non-host char
    hostEnd = -1;
    for (var i = 0; i < nonHostChars.length; i++) {
      var hec = rest.indexOf(nonHostChars[i]);
      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))
        hostEnd = hec;
    }
    // if we still have not hit it, then the entire thing is a host.
    if (hostEnd === -1)
      hostEnd = rest.length;

    this.host = rest.slice(0, hostEnd);
    rest = rest.slice(hostEnd);

    // pull out port.
    this.parseHost();

    // we've indicated that there is a hostname,
    // so even if it's empty, it has to be present.
    this.hostname = this.hostname || '';

    // if hostname begins with [ and ends with ]
    // assume that it's an IPv6 address.
    var ipv6Hostname = this.hostname[0] === '[' &&
        this.hostname[this.hostname.length - 1] === ']';

    // validate a little.
    if (!ipv6Hostname) {
      var hostparts = this.hostname.split(/\./);
      for (var i = 0, l = hostparts.length; i < l; i++) {
        var part = hostparts[i];
        if (!part) continue;
        if (!part.match(hostnamePartPattern)) {
          var newpart = '';
          for (var j = 0, k = part.length; j < k; j++) {
            if (part.charCodeAt(j) > 127) {
              // we replace non-ASCII char with a temporary placeholder
              // we need this to make sure size of hostname is not
              // broken by replacing non-ASCII by nothing
              newpart += 'x';
            } else {
              newpart += part[j];
            }
          }
          // we test again with ASCII char only
          if (!newpart.match(hostnamePartPattern)) {
            var validParts = hostparts.slice(0, i);
            var notHost = hostparts.slice(i + 1);
            var bit = part.match(hostnamePartStart);
            if (bit) {
              validParts.push(bit[1]);
              notHost.unshift(bit[2]);
            }
            if (notHost.length) {
              rest = '/' + notHost.join('.') + rest;
            }
            this.hostname = validParts.join('.');
            break;
          }
        }
      }
    }

    if (this.hostname.length > hostnameMaxLen) {
      this.hostname = '';
    } else {
      // hostnames are always lower case.
      this.hostname = this.hostname.toLowerCase();
    }

    if (!ipv6Hostname) {
      // IDNA Support: Returns a punycoded representation of "domain".
      // It only converts parts of the domain name that
      // have non-ASCII characters, i.e. it doesn't matter if
      // you call it with a domain that already is ASCII-only.
      this.hostname = punycode.toASCII(this.hostname);
    }

    var p = this.port ? ':' + this.port : '';
    var h = this.hostname || '';
    this.host = h + p;
    this.href += this.host;

    // strip [ and ] from the hostname
    // the host field still retains them, though
    if (ipv6Hostname) {
      this.hostname = this.hostname.substr(1, this.hostname.length - 2);
      if (rest[0] !== '/') {
        rest = '/' + rest;
      }
    }
  }

  // now rest is set to the post-host stuff.
  // chop off any delim chars.
  if (!unsafeProtocol[lowerProto]) {

    // First, make 100% sure that any "autoEscape" chars get
    // escaped, even if encodeURIComponent doesn't think they
    // need to be.
    for (var i = 0, l = autoEscape.length; i < l; i++) {
      var ae = autoEscape[i];
      if (rest.indexOf(ae) === -1)
        continue;
      var esc = encodeURIComponent(ae);
      if (esc === ae) {
        esc = escape(ae);
      }
      rest = rest.split(ae).join(esc);
    }
  }


  // chop off from the tail first.
  var hash = rest.indexOf('#');
  if (hash !== -1) {
    // got a fragment string.
    this.hash = rest.substr(hash);
    rest = rest.slice(0, hash);
  }
  var qm = rest.indexOf('?');
  if (qm !== -1) {
    this.search = rest.substr(qm);
    this.query = rest.substr(qm + 1);
    if (parseQueryString) {
      this.query = querystring.parse(this.query);
    }
    rest = rest.slice(0, qm);
  } else if (parseQueryString) {
    // no query string, but parseQueryString still requested
    this.search = '';
    this.query = {};
  }
  if (rest) this.pathname = rest;
  if (slashedProtocol[lowerProto] &&
      this.hostname && !this.pathname) {
    this.pathname = '/';
  }

  //to support http.request
  if (this.pathname || this.search) {
    var p = this.pathname || '';
    var s = this.search || '';
    this.path = p + s;
  }

  // finally, reconstruct the href based on what has been validated.
  this.href = this.format();
  return this;
};

// format a parsed object into a url string
function urlFormat(obj) {
  // ensure it's an object, and not a string url.
  // If it's an obj, this is a no-op.
  // this way, you can call url_format() on strings
  // to clean up potentially wonky urls.
  if (util.isString(obj)) obj = urlParse(obj);
  if (!(obj instanceof Url)) return Url.prototype.format.call(obj);
  return obj.format();
}

Url.prototype.format = function() {
  var auth = this.auth || '';
  if (auth) {
    auth = encodeURIComponent(auth);
    auth = auth.replace(/%3A/i, ':');
    auth += '@';
  }

  var protocol = this.protocol || '',
      pathname = this.pathname || '',
      hash = this.hash || '',
      host = false,
      query = '';

  if (this.host) {
    host = auth + this.host;
  } else if (this.hostname) {
    host = auth + (this.hostname.indexOf(':') === -1 ?
        this.hostname :
        '[' + this.hostname + ']');
    if (this.port) {
      host += ':' + this.port;
    }
  }

  if (this.query &&
      util.isObject(this.query) &&
      Object.keys(this.query).length) {
    query = querystring.stringify(this.query);
  }

  var search = this.search || (query && ('?' + query)) || '';

  if (protocol && protocol.substr(-1) !== ':') protocol += ':';

  // only the slashedProtocols get the //.  Not mailto:, xmpp:, etc.
  // unless they had them to begin with.
  if (this.slashes ||
      (!protocol || slashedProtocol[protocol]) && host !== false) {
    host = '//' + (host || '');
    if (pathname && pathname.charAt(0) !== '/') pathname = '/' + pathname;
  } else if (!host) {
    host = '';
  }

  if (hash && hash.charAt(0) !== '#') hash = '#' + hash;
  if (search && search.charAt(0) !== '?') search = '?' + search;

  pathname = pathname.replace(/[?#]/g, function(match) {
    return encodeURIComponent(match);
  });
  search = search.replace('#', '%23');

  return protocol + host + pathname + search + hash;
};

function urlResolve(source, relative) {
  return urlParse(source, false, true).resolve(relative);
}

Url.prototype.resolve = function(relative) {
  return this.resolveObject(urlParse(relative, false, true)).format();
};

function urlResolveObject(source, relative) {
  if (!source) return relative;
  return urlParse(source, false, true).resolveObject(relative);
}

Url.prototype.resolveObject = function(relative) {
  if (util.isString(relative)) {
    var rel = new Url();
    rel.parse(relative, false, true);
    relative = rel;
  }

  var result = new Url();
  var tkeys = Object.keys(this);
  for (var tk = 0; tk < tkeys.length; tk++) {
    var tkey = tkeys[tk];
    result[tkey] = this[tkey];
  }

  // hash is always overridden, no matter what.
  // even href="" will remove it.
  result.hash = relative.hash;

  // if the relative url is empty, then there's nothing left to do here.
  if (relative.href === '') {
    result.href = result.format();
    return result;
  }

  // hrefs like //foo/bar always cut to the protocol.
  if (relative.slashes && !relative.protocol) {
    // take everything except the protocol from relative
    var rkeys = Object.keys(relative);
    for (var rk = 0; rk < rkeys.length; rk++) {
      var rkey = rkeys[rk];
      if (rkey !== 'protocol')
        result[rkey] = relative[rkey];
    }

    //urlParse appends trailing / to urls like http://www.example.com
    if (slashedProtocol[result.protocol] &&
        result.hostname && !result.pathname) {
      result.path = result.pathname = '/';
    }

    result.href = result.format();
    return result;
  }

  if (relative.protocol && relative.protocol !== result.protocol) {
    // if it's a known url protocol, then changing
    // the protocol does weird things
    // first, if it's not file:, then we MUST have a host,
    // and if there was a path
    // to begin with, then we MUST have a path.
    // if it is file:, then the host is dropped,
    // because that's known to be hostless.
    // anything else is assumed to be absolute.
    if (!slashedProtocol[relative.protocol]) {
      var keys = Object.keys(relative);
      for (var v = 0; v < keys.length; v++) {
        var k = keys[v];
        result[k] = relative[k];
      }
      result.href = result.format();
      return result;
    }

    result.protocol = relative.protocol;
    if (!relative.host && !hostlessProtocol[relative.protocol]) {
      var relPath = (relative.pathname || '').split('/');
      while (relPath.length && !(relative.host = relPath.shift()));
      if (!relative.host) relative.host = '';
      if (!relative.hostname) relative.hostname = '';
      if (relPath[0] !== '') relPath.unshift('');
      if (relPath.length < 2) relPath.unshift('');
      result.pathname = relPath.join('/');
    } else {
      result.pathname = relative.pathname;
    }
    result.search = relative.search;
    result.query = relative.query;
    result.host = relative.host || '';
    result.auth = relative.auth;
    result.hostname = relative.hostname || relative.host;
    result.port = relative.port;
    // to support http.request
    if (result.pathname || result.search) {
      var p = result.pathname || '';
      var s = result.search || '';
      result.path = p + s;
    }
    result.slashes = result.slashes || relative.slashes;
    result.href = result.format();
    return result;
  }

  var isSourceAbs = (result.pathname && result.pathname.charAt(0) === '/'),
      isRelAbs = (
          relative.host ||
          relative.pathname && relative.pathname.charAt(0) === '/'
      ),
      mustEndAbs = (isRelAbs || isSourceAbs ||
                    (result.host && relative.pathname)),
      removeAllDots = mustEndAbs,
      srcPath = result.pathname && result.pathname.split('/') || [],
      relPath = relative.pathname && relative.pathname.split('/') || [],
      psychotic = result.protocol && !slashedProtocol[result.protocol];

  // if the url is a non-slashed url, then relative
  // links like ../.. should be able
  // to crawl up to the hostname, as well.  This is strange.
  // result.protocol has already been set by now.
  // Later on, put the first path part into the host field.
  if (psychotic) {
    result.hostname = '';
    result.port = null;
    if (result.host) {
      if (srcPath[0] === '') srcPath[0] = result.host;
      else srcPath.unshift(result.host);
    }
    result.host = '';
    if (relative.protocol) {
      relative.hostname = null;
      relative.port = null;
      if (relative.host) {
        if (relPath[0] === '') relPath[0] = relative.host;
        else relPath.unshift(relative.host);
      }
      relative.host = null;
    }
    mustEndAbs = mustEndAbs && (relPath[0] === '' || srcPath[0] === '');
  }

  if (isRelAbs) {
    // it's absolute.
    result.host = (relative.host || relative.host === '') ?
                  relative.host : result.host;
    result.hostname = (relative.hostname || relative.hostname === '') ?
                      relative.hostname : result.hostname;
    result.search = relative.search;
    result.query = relative.query;
    srcPath = relPath;
    // fall through to the dot-handling below.
  } else if (relPath.length) {
    // it's relative
    // throw away the existing file, and take the new path instead.
    if (!srcPath) srcPath = [];
    srcPath.pop();
    srcPath = srcPath.concat(relPath);
    result.search = relative.search;
    result.query = relative.query;
  } else if (!util.isNullOrUndefined(relative.search)) {
    // just pull out the search.
    // like href='?foo'.
    // Put this after the other two cases because it simplifies the booleans
    if (psychotic) {
      result.hostname = result.host = srcPath.shift();
      //occationaly the auth can get stuck only in host
      //this especially happens in cases like
      //url.resolveObject('mailto:local1@domain1', 'local2@domain2')
      var authInHost = result.host && result.host.indexOf('@') > 0 ?
                       result.host.split('@') : false;
      if (authInHost) {
        result.auth = authInHost.shift();
        result.host = result.hostname = authInHost.shift();
      }
    }
    result.search = relative.search;
    result.query = relative.query;
    //to support http.request
    if (!util.isNull(result.pathname) || !util.isNull(result.search)) {
      result.path = (result.pathname ? result.pathname : '') +
                    (result.search ? result.search : '');
    }
    result.href = result.format();
    return result;
  }

  if (!srcPath.length) {
    // no path at all.  easy.
    // we've already handled the other stuff above.
    result.pathname = null;
    //to support http.request
    if (result.search) {
      result.path = '/' + result.search;
    } else {
      result.path = null;
    }
    result.href = result.format();
    return result;
  }

  // if a url ENDs in . or .., then it must get a trailing slash.
  // however, if it ends in anything else non-slashy,
  // then it must NOT get a trailing slash.
  var last = srcPath.slice(-1)[0];
  var hasTrailingSlash = (
      (result.host || relative.host || srcPath.length > 1) &&
      (last === '.' || last === '..') || last === '');

  // strip single dots, resolve double dots to parent dir
  // if the path tries to go above the root, `up` ends up > 0
  var up = 0;
  for (var i = srcPath.length; i >= 0; i--) {
    last = srcPath[i];
    if (last === '.') {
      srcPath.splice(i, 1);
    } else if (last === '..') {
      srcPath.splice(i, 1);
      up++;
    } else if (up) {
      srcPath.splice(i, 1);
      up--;
    }
  }

  // if the path is allowed to go above the root, restore leading ..s
  if (!mustEndAbs && !removeAllDots) {
    for (; up--; up) {
      srcPath.unshift('..');
    }
  }

  if (mustEndAbs && srcPath[0] !== '' &&
      (!srcPath[0] || srcPath[0].charAt(0) !== '/')) {
    srcPath.unshift('');
  }

  if (hasTrailingSlash && (srcPath.join('/').substr(-1) !== '/')) {
    srcPath.push('');
  }

  var isAbsolute = srcPath[0] === '' ||
      (srcPath[0] && srcPath[0].charAt(0) === '/');

  // put the host back
  if (psychotic) {
    result.hostname = result.host = isAbsolute ? '' :
                                    srcPath.length ? srcPath.shift() : '';
    //occationaly the auth can get stuck only in host
    //this especially happens in cases like
    //url.resolveObject('mailto:local1@domain1', 'local2@domain2')
    var authInHost = result.host && result.host.indexOf('@') > 0 ?
                     result.host.split('@') : false;
    if (authInHost) {
      result.auth = authInHost.shift();
      result.host = result.hostname = authInHost.shift();
    }
  }

  mustEndAbs = mustEndAbs || (result.host && srcPath.length);

  if (mustEndAbs && !isAbsolute) {
    srcPath.unshift('');
  }

  if (!srcPath.length) {
    result.pathname = null;
    result.path = null;
  } else {
    result.pathname = srcPath.join('/');
  }

  //to support request.http
  if (!util.isNull(result.pathname) || !util.isNull(result.search)) {
    result.path = (result.pathname ? result.pathname : '') +
                  (result.search ? result.search : '');
  }
  result.auth = relative.auth || result.auth;
  result.slashes = result.slashes || relative.slashes;
  result.href = result.format();
  return result;
};

Url.prototype.parseHost = function() {
  var host = this.host;
  var port = portPattern.exec(host);
  if (port) {
    port = port[0];
    if (port !== ':') {
      this.port = port.substr(1);
    }
    host = host.substr(0, host.length - port.length);
  }
  if (host) this.hostname = host;
};


/***/ }),

/***/ "./node_modules/url/util.js":
/*!**********************************!*\
  !*** ./node_modules/url/util.js ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


module.exports = {
  isString: function(arg) {
    return typeof(arg) === 'string';
  },
  isObject: function(arg) {
    return typeof(arg) === 'object' && arg !== null;
  },
  isNull: function(arg) {
    return arg === null;
  },
  isNullOrUndefined: function(arg) {
    return arg == null;
  }
};


/***/ }),

/***/ "./node_modules/webpack/buildin/module.js":
/*!***********************************!*\
  !*** (webpack)/buildin/module.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = function(module) {
	if (!module.webpackPolyfill) {
		module.deprecate = function() {};
		module.paths = [];
		// module.parent = undefined by default
		if (!module.children) module.children = [];
		Object.defineProperty(module, "loaded", {
			enumerable: true,
			get: function() {
				return module.l;
			}
		});
		Object.defineProperty(module, "id", {
			enumerable: true,
			get: function() {
				return module.i;
			}
		});
		module.webpackPolyfill = 1;
	}
	return module;
};


/***/ }),

/***/ "./src/background/index.js":
/*!*********************************!*\
  !*** ./src/background/index.js ***!
  \*********************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common_browser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./src/common/browser */ "./src/common/browser.js");
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common_browser__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_Users_ZhaoJun_Desktop_violentmonkey_src_common_browser__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./src/common */ "./src/common/index.js");
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common_consts__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./src/common/consts */ "./src/common/consts.js");
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/common/object */ "./src/common/object.js");
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common_tld__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./src/common/tld */ "./src/common/tld.js");
/* harmony import */ var _sync__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./sync */ "./src/background/sync/index.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./utils */ "./src/background/utils/index.js");
/* harmony import */ var _utils_db__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./utils/db */ "./src/background/utils/db.js");
/* harmony import */ var _utils_init__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./utils/init */ "./src/background/utils/init.js");
/* harmony import */ var _utils_options__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./utils/options */ "./src/background/utils/options.js");
/* harmony import */ var _utils_popup_tracker__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./utils/popup-tracker */ "./src/background/utils/popup-tracker.js");
/* harmony import */ var _utils_preinject__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./utils/preinject */ "./src/background/utils/preinject.js");
/* harmony import */ var _utils_template_hook__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./utils/template-hook */ "./src/background/utils/template-hook.js");
/* harmony import */ var _utils_values__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./utils/values */ "./src/background/utils/values.js");
/* harmony import */ var _utils_requests__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./utils/requests */ "./src/background/utils/requests.js");
/* harmony import */ var _utils_clipboard__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./utils/clipboard */ "./src/background/utils/clipboard.js");
/* harmony import */ var _utils_hotkeys__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./utils/hotkeys */ "./src/background/utils/hotkeys.js");
/* harmony import */ var _utils_icon__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./utils/icon */ "./src/background/utils/icon.js");
/* harmony import */ var _utils_notifications__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./utils/notifications */ "./src/background/utils/notifications.js");
/* harmony import */ var _utils_script__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./utils/script */ "./src/background/utils/script.js");
/* harmony import */ var _utils_tabs__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./utils/tabs */ "./src/background/utils/tabs.js");
/* harmony import */ var _utils_tester__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./utils/tester */ "./src/background/utils/tester.js");
/* harmony import */ var _utils_update__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./utils/update */ "./src/background/utils/update.js");























Object(_utils_options__WEBPACK_IMPORTED_MODULE_9__["hookOptions"])(changes => {
  if ('autoUpdate' in changes) {
    autoUpdate();
  }

  if (_utils_template_hook__WEBPACK_IMPORTED_MODULE_12__["SCRIPT_TEMPLATE"] in changes) {
    Object(_utils_template_hook__WEBPACK_IMPORTED_MODULE_12__["resetScriptTemplate"])(changes);
  }

  Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["sendCmd"])('UpdateOptions', changes);
});
Object.assign(_utils__WEBPACK_IMPORTED_MODULE_6__["commands"], {
  /** @return {Promise<{ scripts: VMScript[], cache: Object, sync: Object }>} */
  async GetData(ids) {
    const data = await Object(_utils_db__WEBPACK_IMPORTED_MODULE_7__["getData"])(ids);
    data.sync = _sync__WEBPACK_IMPORTED_MODULE_5__["getStates"]();
    return data;
  },

  /** @return {Promise<Object>} */
  async GetInjected({
    url,
    forceContent
  }, src) {
    const {
      frameId,
      tab
    } = src;
    const tabId = tab.id;
    if (!url) url = src.url || tab.url;

    if (!frameId) {
      Object(_utils_values__WEBPACK_IMPORTED_MODULE_13__["resetValueOpener"])(tabId);
      Object(_utils_requests__WEBPACK_IMPORTED_MODULE_14__["clearRequestsByTabId"])(tabId);
    }

    const res = await Object(_utils_preinject__WEBPACK_IMPORTED_MODULE_11__["getInjectedScripts"])(url, tabId, frameId, forceContent);
    const {
      feedback,
      inject,
      valOpIds
    } = res;
    inject.isPopupShown = _utils_popup_tracker__WEBPACK_IMPORTED_MODULE_10__["popupTabs"][tabId]; // Injecting known content scripts without waiting for InjectionFeedback message.
    // Running in a separate task because it may take a long time to serialize data.

    if (feedback.length) {
      setTimeout(_utils__WEBPACK_IMPORTED_MODULE_6__["commands"].InjectionFeedback, 0, {
        feedback
      }, src);
    }

    Object(_utils_values__WEBPACK_IMPORTED_MODULE_13__["addValueOpener"])(tabId, frameId, valOpIds);
    return inject;
  },

  /** @return {Promise<Object>} */
  async GetTabDomain() {
    const tab = (await Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["getActiveTab"])()) || {};
    const url = tab.pendingUrl || tab.url || '';
    const host = url.match(/^https?:\/\/([^/]+)|$/)[1];
    return {
      tab,
      domain: host && _Users_ZhaoJun_Desktop_violentmonkey_src_common_tld__WEBPACK_IMPORTED_MODULE_4__["getDomain"](host) || host
    };
  },

  /**
   * Timers in content scripts are shared with the web page so it can clear them.
   * await sendCmd('SetTimeout', 100) in injected/content
   * await bridge.send('SetTimeout', 100) in injected/web
   */
  SetTimeout(ms) {
    return ms > 0 && Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["makePause"])(ms);
  }

}); // commands to sync unconditionally regardless of the returned value from the handler

const commandsToSync = ['MarkRemoved', 'Move', 'ParseScript', 'RemoveScript', 'UpdateScriptInfo']; // commands to sync only if the handler returns a truthy value

const commandsToSyncIfTruthy = ['CheckRemove', 'CheckUpdate', 'CheckUpdateAll'];

async function handleCommandMessage(req, src) {
  var _commands$cmd;

  const {
    cmd
  } = req;
  const res = await ((_commands$cmd = _utils__WEBPACK_IMPORTED_MODULE_6__["commands"][cmd]) == null ? void 0 : _commands$cmd.call(_utils__WEBPACK_IMPORTED_MODULE_6__["commands"], req.data, src));

  if (commandsToSync.includes(cmd) || res && commandsToSyncIfTruthy.includes(cmd)) {
    _sync__WEBPACK_IMPORTED_MODULE_5__["sync"]();
  } // `undefined` is not transferable, but `null` is


  return res != null ? res : null;
}

function autoUpdate() {
  const interval = _Users_ZhaoJun_Desktop_violentmonkey_src_common_consts__WEBPACK_IMPORTED_MODULE_2__["IS_DEV"] ? 1000 : (+Object(_utils_options__WEBPACK_IMPORTED_MODULE_9__["getOption"])('autoUpdate') || 0) * _Users_ZhaoJun_Desktop_violentmonkey_src_common_consts__WEBPACK_IMPORTED_MODULE_2__["TIMEOUT_24HOURS"];
  if (!interval) return;
  let elapsed = Date.now() - Object(_utils_options__WEBPACK_IMPORTED_MODULE_9__["getOption"])('lastUpdate');

  if (elapsed >= interval) {
    handleCommandMessage({
      cmd: 'CheckUpdateAll'
    });
    elapsed = 0;
  }

  clearTimeout(autoUpdate.timer);
  autoUpdate.timer = setTimeout(autoUpdate, Math.min(_Users_ZhaoJun_Desktop_violentmonkey_src_common_consts__WEBPACK_IMPORTED_MODULE_2__["TIMEOUT_MAX"], interval - elapsed));
}

async function initBuildin() {
  const {
    data
  } = await Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["request"])(_Users_ZhaoJun_Desktop_violentmonkey_src_common_consts__WEBPACK_IMPORTED_MODULE_2__["BUILD_IN_SCRIPT_SRC"], {
    cache: 'no-cache',
    headers: {
      Accept: 'text/x-userscript-meta,*/*'
    }
  });
  const res = await _utils__WEBPACK_IMPORTED_MODULE_6__["commands"].ParseScript({
    url: _Users_ZhaoJun_Desktop_violentmonkey_src_common_consts__WEBPACK_IMPORTED_MODULE_2__["BUILD_IN_SCRIPT_SRC"],
    code: data,
    custom: {
      buildIn: true
    }
  });
  _sync__WEBPACK_IMPORTED_MODULE_5__["sync"]();

  if (res.where.id !== 1) {
    throw `wrong id: ${res.where.id}`;
  }
}

Object(_utils_init__WEBPACK_IMPORTED_MODULE_8__["initialize"])(() => {
  global.handleCommandMessage = handleCommandMessage;
  global.deepCopy = _Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_3__["deepCopy"];
  browser.runtime.onMessage.addListener(IS_FIREFOX // in FF a rejected Promise value is transferred only if it's an Error object
  ? (...args) => handleCommandMessage(...args).catch(e => Promise.reject(e instanceof Error ? e : new Error(e))) // Didn't use `throw` to avoid interruption in devtools with pause-on-exception enabled.
  : handleCommandMessage); // check and install the build-in script

  initBuildin();
  console.info('initBuildin...');
  setTimeout(autoUpdate, _Users_ZhaoJun_Desktop_violentmonkey_src_common_consts__WEBPACK_IMPORTED_MODULE_2__["IS_DEV"] ? 1 : 2e4);
  _sync__WEBPACK_IMPORTED_MODULE_5__["initialize"]();
  Object(_utils_db__WEBPACK_IMPORTED_MODULE_7__["checkRemove"])();
  setInterval(_utils_db__WEBPACK_IMPORTED_MODULE_7__["checkRemove"], _Users_ZhaoJun_Desktop_violentmonkey_src_common_consts__WEBPACK_IMPORTED_MODULE_2__["TIMEOUT_24HOURS"]);
  const api = global.chrome.declarativeContent;

  if (api) {
    // Using declarativeContent to run content scripts earlier than document_start
    api.onPageChanged.getRules(async ([rule]) => {
      const id = rule == null ? void 0 : rule.id;
      const newId = "Violentmonkey:XNavUxoUszE=";

      if (id === newId) {
        return;
      }

      if (id) {
        await browser.declarativeContent.onPageChanged.removeRules([id]);
      }

      api.onPageChanged.addRules([{
        id: newId,
        conditions: [new api.PageStateMatcher({
          pageUrl: {
            urlContains: '://'
          } // essentially like <all_urls>

        })],
        actions: [new api.RequestContentScript({
          js: browser.runtime.getManifest().content_scripts[0].js // Not using `allFrames:true` as there's no improvement in frames

        })]
      }]);
    });
  }
});

/***/ }),

/***/ "./src/background/plugin/events.js":
/*!*****************************************!*\
  !*** ./src/background/plugin/events.js ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common_events__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./src/common/events */ "./src/common/events.js");

/* harmony default export */ __webpack_exports__["default"] = (new _Users_ZhaoJun_Desktop_violentmonkey_src_common_events__WEBPACK_IMPORTED_MODULE_0__["default"](['scriptEdit', 'scriptChanged']));

/***/ }),

/***/ "./src/background/plugin/index.js":
/*!****************************************!*\
  !*** ./src/background/plugin/index.js ***!
  \****************************************/
/*! exports provided: script */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "script", function() { return script; });
/* harmony import */ var _utils_message__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/message */ "./src/background/utils/message.js");
/* harmony import */ var _utils_db__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/db */ "./src/background/utils/db.js");


const script = {
  /**
   * Update an existing script identified by the provided id
   * @param {{ id, code, message, isNew, config, custom, props, update }} data
   * @return {Promise<{ isNew?, update, where }>}
   */
  update: _utils_message__WEBPACK_IMPORTED_MODULE_0__["commands"].ParseScript,

  /**
   * List all available scripts, without script code
   * @return {Promise<VMScript[]>}
   */
  list: async () => Object(_utils_db__WEBPACK_IMPORTED_MODULE_1__["getScripts"])(),

  /**
   * Get script code of an existing script
   * @param {number} id
   * @return {Promise<string>}
   */
  get: _utils_message__WEBPACK_IMPORTED_MODULE_0__["commands"].GetScriptCode,

  /**
   * Remove script
   * @param {number} id
   * @return {Promise<void>}
   */
  remove: id => _utils_message__WEBPACK_IMPORTED_MODULE_0__["commands"].MarkRemoved({
    id,
    removed: true
  })
};

/***/ }),

/***/ "./src/background/sync/base.js":
/*!*************************************!*\
  !*** ./src/background/sync/base.js ***!
  \*************************************/
/*! exports provided: getItemFilename, isScriptFile, getURI, getStates, BaseService, register, initialize, sync, authorize, revoke, setConfig, openAuthPage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getItemFilename", function() { return getItemFilename; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isScriptFile", function() { return isScriptFile; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getURI", function() { return getURI; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getStates", function() { return getStates; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BaseService", function() { return BaseService; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "register", function() { return register; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "initialize", function() { return initialize; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "sync", function() { return sync; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "authorize", function() { return authorize; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "revoke", function() { return revoke; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setConfig", function() { return setConfig; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "openAuthPage", function() { return openAuthPage; });
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./src/common */ "./src/common/index.js");
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common_consts__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./src/common/consts */ "./src/common/consts.js");
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./src/common/object */ "./src/common/object.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils */ "./src/background/utils/index.js");
/* harmony import */ var _utils_db__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/db */ "./src/background/utils/db.js");
/* harmony import */ var _plugin__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../plugin */ "./src/background/plugin/index.js");






const serviceNames = [];
const serviceClasses = [];
const services = {};
const autoSync = Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["debounce"])(sync, _Users_ZhaoJun_Desktop_violentmonkey_src_common_consts__WEBPACK_IMPORTED_MODULE_1__["TIMEOUT_HOUR"]);
let working = Promise.resolve();
let syncConfig;
function getItemFilename({
  name,
  uri
}) {
  // When get or remove, current name should be prefered
  if (name) return name; // otherwise uri derived name should be prefered
  // uri is already encoded by `encodeFilename`

  return `vm@2-${uri}`;
}
function isScriptFile(name) {
  return /^vm(?:@\d+)?-/.test(name);
}
function getURI(name) {
  const i = name.indexOf('-');
  const [, version] = name.slice(0, i).split('@');

  if (version === '2') {
    // uri is encoded by `encodedFilename`, so we should not decode it here
    return name.slice(i + 1);
  }

  try {
    return decodeURIComponent(name.slice(3));
  } catch (err) {
    return name.slice(3);
  }
}

function initConfig() {
  function get(key, def) {
    const keys = Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["normalizeKeys"])(key);
    keys.unshift('sync');
    return Object(_utils__WEBPACK_IMPORTED_MODULE_3__["getOption"])(keys, def);
  }

  function set(key, value) {
    const keys = Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["normalizeKeys"])(key);
    keys.unshift('sync');
    Object(_utils__WEBPACK_IMPORTED_MODULE_3__["setOption"])(keys, value);
  }

  function init() {
    let config = Object(_utils__WEBPACK_IMPORTED_MODULE_3__["getOption"])('sync');

    if (!config || !config.services) {
      config = {
        services: {}
      };
      set([], config);
    }
  }

  init();
  return {
    get,
    set
  };
}

function serviceConfig(name) {
  function getKeys(key) {
    const keys = Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["normalizeKeys"])(key);
    keys.unshift('services', name);
    return keys;
  }

  function get(key, def) {
    return syncConfig.get(getKeys(key), def);
  }

  function set(key, val) {
    if (typeof key === 'object') {
      safeCall(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_2__["forEachEntry"], key, ([k, v]) => {
        syncConfig.set(getKeys(k), v);
      });
    } else {
      syncConfig.set(getKeys(key), val);
    }
  }

  function clear() {
    syncConfig.set(getKeys(), {});
  }

  return {
    get,
    set,
    clear
  };
}

function serviceState(validStates, initialState, onChange) {
  let state = initialState || validStates[0];

  function get() {
    return state;
  }

  function set(newState) {
    if (validStates.includes(newState)) {
      state = newState;
      if (onChange) onChange();
    } else {
      console.warn('Invalid state:', newState);
    }

    return get();
  }

  function is(states) {
    return Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["ensureArray"])(states).includes(state);
  }

  return {
    get,
    set,
    is
  };
}

function getStates() {
  return serviceNames.map(name => {
    const service = services[name];
    return {
      name: service.name,
      displayName: service.displayName,
      authState: service.authState.get(),
      syncState: service.syncState.get(),
      lastSync: service.config.get('meta', {}).lastSync,
      progress: service.progress,
      properties: service.properties,
      userConfig: service.getUserConfig()
    };
  });
}

function getScriptData(script, syncVersion, extra) {
  let data;

  if (syncVersion === 2) {
    data = {
      version: syncVersion,
      custom: script.custom,
      config: script.config,
      props: Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_2__["objectPick"])(script.props, ['lastUpdated'])
    };
  } else if (syncVersion === 1) {
    data = {
      version: syncVersion,
      more: {
        custom: script.custom,
        enabled: script.config.enabled,
        update: script.config.shouldUpdate,
        lastUpdated: script.props.lastUpdated
      }
    };
  }

  return Object.assign(data, extra);
}

function parseScriptData(raw) {
  const data = {};

  try {
    const obj = JSON.parse(raw);
    data.code = obj.code;

    if (obj.version === 2) {
      data.config = obj.config;
      data.custom = obj.custom;
      data.props = obj.props;
    } else if (obj.version === 1) {
      if (obj.more) {
        data.custom = obj.more.custom;
        data.config = objectPurify({
          enabled: obj.more.enabled,
          shouldUpdate: obj.more.update
        });
        data.props = objectPurify({
          lastUpdated: obj.more.lastUpdated
        });
      }
    }
  } catch (e) {
    data.code = raw;
  }

  return data;
}

function objectPurify(obj) {
  // Remove keys with undefined values
  if (Array.isArray(obj)) {
    obj.forEach(objectPurify);
  } else if (obj && typeof obj === 'object') {
    safeCall(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_2__["forEachEntry"], obj, ([key, value]) => {
      if (typeof value === 'undefined') delete obj[key];else objectPurify(value);
    });
  }

  return obj;
}

function serviceFactory(base) {
  const Service = function constructor() {
    this.initialize();
  };

  Service.prototype = base;
  Service.extend = extendService;
  return Service;
}

function extendService(options) {
  return serviceFactory(Object.assign(Object.create(this.prototype), options));
}

const onStateChange = Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["debounce"])(() => {
  Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["sendCmd"])('UpdateSync', getStates());
});
const BaseService = serviceFactory({
  name: 'base',
  displayName: 'BaseService',
  delayTime: 1000,
  urlPrefix: '',
  metaFile: 'Violentmonkey',
  properties: {
    authType: 'oauth'
  },
  getUserConfig: _Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["noop"],
  setUserConfig: _Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["noop"],

  initialize() {
    this.progress = {
      finished: 0,
      total: 0
    };
    this.config = serviceConfig(this.name);
    this.authState = serviceState(['idle', 'no-auth', 'initializing', 'authorizing', // in case some services require asynchronous requests to get access_tokens
    'authorized', 'unauthorized', 'error'], null, onStateChange);
    this.syncState = serviceState(['idle', 'ready', 'syncing', 'error'], null, onStateChange);
    this.lastFetch = Promise.resolve();
    this.startSync = this.syncFactory();
    const events = Object(_utils__WEBPACK_IMPORTED_MODULE_3__["getEventEmitter"])();
    ['on', 'off', 'fire'].forEach(key => {
      this[key] = (...args) => {
        events[key](...args);
      };
    });
  },

  log(...args) {
    console.log(...args); // eslint-disable-line no-console
  },

  syncFactory() {
    let promise;
    let debouncedResolve;

    const shouldSync = () => this.authState.is('authorized') && getCurrent() === this.name;

    const getReady = () => {
      if (!shouldSync()) return Promise.resolve();
      this.log('Ready to sync:', this.displayName);
      this.syncState.set('ready');
      working = working.then(() => new Promise(resolve => {
        debouncedResolve = Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["debounce"])(resolve, 10 * 1000);
        debouncedResolve();
      })).then(() => {
        if (shouldSync()) return this.sync();
        this.syncState.set('idle');
      }).catch(err => {
        console.error(err);
      }).then(() => {
        promise = null;
        debouncedResolve = null;
      });
      promise = working;
    };

    function startSync() {
      if (!promise) getReady();
      if (debouncedResolve) debouncedResolve();
      return promise;
    }

    return startSync;
  },

  prepareHeaders() {
    this.headers = {};
  },

  prepare() {
    this.authState.set('initializing');
    return (this.initToken() ? Promise.resolve(this.user()) : Promise.reject({
      type: 'no-auth'
    })).then(() => {
      this.authState.set('authorized');
    }, err => {
      if (['no-auth', 'unauthorized'].includes(err == null ? void 0 : err.type)) {
        this.authState.set(err.type);
      } else {
        console.error(err);
        this.authState.set('error');
      }

      this.syncState.set('idle');
      throw err;
    });
  },

  checkSync() {
    return this.prepare().then(() => this.startSync());
  },

  user: _Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["noop"],
  acquireLock: _Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["noop"],
  releaseLock: _Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["noop"],

  handleMetaError(err) {
    throw err;
  },

  getMeta() {
    return this.get({
      name: this.metaFile
    }).then(data => JSON.parse(data)).catch(err => this.handleMetaError(err)).then(data => ({
      name: this.metaFile,
      data
    }));
  },

  initToken() {
    this.prepareHeaders();
    const token = this.config.get('token');
    this.headers.Authorization = token ? `Bearer ${token}` : null;
    return !!token;
  },

  loadData(options) {
    const {
      progress
    } = this;
    const {
      delay = this.delayTime
    } = options;
    let lastFetch = Promise.resolve();

    if (delay) {
      lastFetch = this.lastFetch.then(ts => Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["makePause"])(delay - (Date.now() - ts))).then(() => Date.now());
      this.lastFetch = lastFetch;
    }

    progress.total += 1;
    onStateChange();
    return lastFetch.then(() => {
      var _options$prefix;

      options = Object.assign({}, options);
      options.headers = Object.assign({}, this.headers, options.headers);
      let {
        url
      } = options;
      if (url.startsWith('/')) url = ((_options$prefix = options.prefix) != null ? _options$prefix : this.urlPrefix) + url;
      return Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["request"])(url, options);
    }).then(({
      data
    }) => ({
      data
    }), error => ({
      error
    })).then(({
      data,
      error
    }) => {
      progress.finished += 1;
      onStateChange();
      if (error) return Promise.reject(error);
      return data;
    });
  },

  getLocalData() {
    return _plugin__WEBPACK_IMPORTED_MODULE_5__["script"].list();
  },

  getSyncData() {
    return this.getMeta().then(remoteMeta => Promise.all([remoteMeta, this.list(), this.getLocalData()]));
  },

  sync() {
    this.progress = {
      finished: 0,
      total: 0
    };
    this.syncState.set('syncing'); // Avoid simultaneous requests

    return this.prepare().then(() => this.getSyncData()).then(data => Promise.resolve(this.acquireLock()).then(() => data)).then(([remoteMeta, remoteData, localData]) => {
      const remoteMetaData = remoteMeta.data || {};
      const remoteMetaInfo = remoteMetaData.info || {};
      const remoteTimestamp = remoteMetaData.timestamp || 0;
      let remoteChanged = !remoteTimestamp || Object.keys(remoteMetaInfo).length !== remoteData.length;
      const now = Date.now();
      const globalLastModified = Object(_utils__WEBPACK_IMPORTED_MODULE_3__["getOption"])('lastModified');
      const remoteItemMap = {};
      const localMeta = this.config.get('meta', {});
      const firstSync = !localMeta.timestamp;
      const outdated = firstSync || remoteTimestamp > localMeta.timestamp;
      this.log('First sync:', firstSync);
      this.log('Outdated:', outdated, '(', 'local:', localMeta.timestamp, 'remote:', remoteTimestamp, ')');
      const putLocal = [];
      const putRemote = [];
      const delRemote = [];
      const delLocal = [];
      const updateLocal = [];
      remoteMetaData.info = remoteData.reduce((info, item) => {
        remoteItemMap[item.uri] = item;
        let itemInfo = remoteMetaInfo[item.uri];

        if (!itemInfo) {
          itemInfo = {};
          remoteChanged = true;
        }

        info[item.uri] = itemInfo;

        if (!itemInfo.modified) {
          itemInfo.modified = now;
          remoteChanged = true;
        }

        return info;
      }, {});
      localData.forEach(item => {
        const {
          props: {
            uri,
            position,
            lastModified
          }
        } = item;
        const remoteInfo = remoteMetaData.info[uri];
        const remoteItem = remoteItemMap[uri];

        if (remoteInfo && remoteItem) {
          if (firstSync || !lastModified || remoteInfo.modified > lastModified) {
            putLocal.push({
              local: item,
              remote: remoteItem,
              info: remoteInfo
            });
          } else {
            if (remoteInfo.modified < lastModified) {
              putRemote.push({
                local: item,
                remote: remoteItem
              });
              remoteInfo.modified = lastModified;
              remoteChanged = true;
            }

            if (remoteInfo.position !== position) {
              if (remoteInfo.position && globalLastModified <= remoteTimestamp) {
                updateLocal.push({
                  local: item,
                  remote: remoteItem,
                  info: remoteInfo
                });
              } else {
                remoteInfo.position = position;
                remoteChanged = true;
              }
            }
          }

          delete remoteItemMap[uri];
        } else if (firstSync || !outdated || lastModified > remoteTimestamp) {
          putRemote.push({
            local: item
          });
        } else {
          delLocal.push({
            local: item
          });
        }
      });
      safeCall(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_2__["forEachEntry"], remoteItemMap, ([uri, item]) => {
        const info = remoteMetaData.info[uri];

        if (outdated) {
          putLocal.push({
            remote: item,
            info
          });
        } else {
          delRemote.push({
            remote: item
          });
        }
      });
      const promiseQueue = [...putLocal.map(({
        remote,
        info
      }) => {
        this.log('Download script:', remote.uri);
        return this.get(remote).then(raw => {
          const data = parseScriptData(raw); // Invalid data

          if (!data.code) return;
          if (info.modified) Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_2__["objectSet"])(data, 'props.lastModified', info.modified);
          const position = +info.position;
          if (position) data.position = position;

          if (!Object(_utils__WEBPACK_IMPORTED_MODULE_3__["getOption"])('syncScriptStatus') && data.config) {
            delete data.config.enabled;
          }

          return _plugin__WEBPACK_IMPORTED_MODULE_5__["script"].update(data);
        });
      }), ...putRemote.map(({
        local,
        remote
      }) => {
        this.log('Upload script:', local.props.uri);
        return _plugin__WEBPACK_IMPORTED_MODULE_5__["script"].get(local.props.id).then(code => {
          // XXX use version 1 to be compatible with Violentmonkey on other platforms
          const data = getScriptData(local, 1, {
            code
          });
          remoteMetaData.info[local.props.uri] = {
            modified: local.props.lastModified,
            position: local.props.position
          };
          remoteChanged = true;
          return this.put(Object.assign({}, remote, {
            uri: local.props.uri,
            name: null // prefer using uri on PUT

          }), JSON.stringify(data));
        });
      }), ...delRemote.map(({
        remote
      }) => {
        this.log('Remove remote script:', remote.uri);
        delete remoteMetaData.info[remote.uri];
        remoteChanged = true;
        return this.remove(remote);
      }), ...delLocal.map(({
        local
      }) => {
        this.log('Remove local script:', local.props.uri);
        return _plugin__WEBPACK_IMPORTED_MODULE_5__["script"].remove(local.props.id);
      }), ...updateLocal.map(({
        local,
        info
      }) => {
        const updates = {};

        if (info.position) {
          updates.props = {
            position: info.position
          };
        }

        return Object(_utils_db__WEBPACK_IMPORTED_MODULE_4__["updateScriptInfo"])(local.props.id, updates);
      })];
      promiseQueue.push(Promise.all(promiseQueue).then(() => Object(_utils_db__WEBPACK_IMPORTED_MODULE_4__["sortScripts"])()).then(changed => {
        if (!changed) return;
        remoteChanged = true;
        return _plugin__WEBPACK_IMPORTED_MODULE_5__["script"].list().then(scripts => {
          scripts.forEach(script => {
            const remoteInfo = remoteMetaData.info[script.props.uri];
            if (remoteInfo) remoteInfo.position = script.props.position;
          });
        });
      }));
      promiseQueue.push(Promise.all(promiseQueue).then(() => {
        const promises = [];

        if (remoteChanged) {
          remoteMetaData.timestamp = Date.now();
          promises.push(this.put(remoteMeta, JSON.stringify(remoteMetaData)));
        }

        localMeta.timestamp = remoteMetaData.timestamp;
        localMeta.lastSync = Date.now();
        this.config.set('meta', localMeta);
        return Promise.all(promises);
      })); // ignore errors to ensure all promises are fulfilled

      return Promise.all(promiseQueue.map(promise => promise.then(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["noop"], err => err || true))).then(errors => errors.filter(Boolean)).then(errors => {
        if (errors.length) throw errors;
      });
    }).then(() => {
      this.syncState.set('idle');
      this.log('Sync finished:', this.displayName);
    }, err => {
      this.syncState.set('error');
      this.log('Failed syncing:', this.displayName);
      this.log(err);
    }).then(() => Promise.resolve(this.releaseLock()).catch(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["noop"]));
  }

});
function register(Factory) {
  serviceClasses.push(Factory);
}

function getCurrent() {
  return syncConfig.get('current');
}

function getService(name) {
  return services[name || getCurrent()];
}

function initialize() {
  if (!syncConfig) {
    syncConfig = initConfig();
    serviceClasses.forEach(Factory => {
      const service = new Factory();
      const {
        name
      } = service;
      serviceNames.push(name);
      services[name] = service;
    });
  }

  sync();
}

function syncOne(service) {
  if (service.syncState.is(['ready', 'syncing'])) return;
  if (service.authState.is(['idle', 'error'])) return service.checkSync();
  if (service.authState.is('authorized')) return service.startSync();
}

function sync() {
  const service = getService();
  return service && Promise.resolve(syncOne(service)).then(autoSync);
}
function authorize() {
  const service = getService();
  if (service) service.authorize();
}
function revoke() {
  const service = getService();
  if (service) service.revoke();
}
function setConfig(config) {
  const service = getService();

  if (service) {
    service.setUserConfig(config);
    return service.checkSync();
  }
}
async function openAuthPage(url, redirectUri) {
  unregisterWebRequest(); // otherwise our new tabId will be ignored

  browser.webRequest.onBeforeRequest.addListener(onBeforeRequest, {
    urls: [`${redirectUri}*`],
    types: ['main_frame'],
    tabId: (await browser.tabs.create({
      url
    })).id
  }, ['blocking']);
}
/**
 * @param {chrome.webRequest.WebResponseDetails} info
 * @returns {chrome.webRequest.BlockingResponse}
 */

function onBeforeRequest(info) {
  var _getService$checkAuth, _getService;

  if ((_getService$checkAuth = (_getService = getService()).checkAuth) == null ? void 0 : _getService$checkAuth.call(_getService, info.url)) {
    browser.tabs.remove(info.tabId); // If we unregister without setTimeout, API will ignore { cancel: true }

    setTimeout(unregisterWebRequest, 0);
    return {
      cancel: true
    };
  }
}

function unregisterWebRequest() {
  browser.webRequest.onBeforeRequest.removeListener(onBeforeRequest);
}

Object(_utils__WEBPACK_IMPORTED_MODULE_3__["hookOptions"])(data => {
  const value = data == null ? void 0 : data['sync.current'];
  if (value) initialize();
});

/***/ }),

/***/ "./src/background/sync/dropbox.js":
/*!****************************************!*\
  !*** ./src/background/sync/dropbox.js ***!
  \****************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils */ "./src/background/utils/index.js");
/* harmony import */ var _base__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./base */ "./src/background/sync/base.js");


const config = {
  client_id: 'f0q12zup2uys5w8',
  redirect_uri: 'https://violentmonkey.github.io/auth_dropbox.html'
};
const escRE = /[\u007f-\uffff]/g; // eslint-disable-line no-control-regex

const escFunc = m => `\\u${(m.charCodeAt(0) + 0x10000).toString(16).slice(1)}`;

function jsonStringifySafe(obj) {
  const string = JSON.stringify(obj);
  return string.replace(escRE, escFunc);
}

const Dropbox = _base__WEBPACK_IMPORTED_MODULE_1__["BaseService"].extend({
  name: 'dropbox',
  displayName: 'Dropbox',

  user() {
    return this.loadData({
      method: 'POST',
      url: 'https://api.dropboxapi.com/2/users/get_current_account'
    }).catch(err => {
      if (err.status === 401) {
        return Promise.reject({
          type: 'unauthorized'
        });
      }

      return Promise.reject({
        type: 'error',
        data: err
      });
    });
  },

  handleMetaError(res) {
    if (res.status !== 409) throw res;
  },

  list() {
    return this.loadData({
      method: 'POST',
      url: 'https://api.dropboxapi.com/2/files/list_folder',
      body: {
        path: ''
      },
      responseType: 'json'
    }).then(data => data.entries.filter(item => item['.tag'] === 'file' && Object(_base__WEBPACK_IMPORTED_MODULE_1__["isScriptFile"])(item.name)).map(normalize));
  },

  get(item) {
    const name = Object(_base__WEBPACK_IMPORTED_MODULE_1__["getItemFilename"])(item);
    return this.loadData({
      method: 'POST',
      url: 'https://content.dropboxapi.com/2/files/download',
      headers: {
        'Dropbox-API-Arg': jsonStringifySafe({
          path: `/${name}`
        })
      }
    });
  },

  put(item, data) {
    const name = Object(_base__WEBPACK_IMPORTED_MODULE_1__["getItemFilename"])(item);
    return this.loadData({
      method: 'POST',
      url: 'https://content.dropboxapi.com/2/files/upload',
      headers: {
        'Dropbox-API-Arg': jsonStringifySafe({
          path: `/${name}`,
          mode: 'overwrite'
        }),
        'Content-Type': 'application/octet-stream'
      },
      body: data,
      responseType: 'json'
    }).then(normalize);
  },

  remove(item) {
    const name = Object(_base__WEBPACK_IMPORTED_MODULE_1__["getItemFilename"])(item);
    return this.loadData({
      method: 'POST',
      url: 'https://api.dropboxapi.com/2/files/delete',
      body: {
        path: `/${name}`
      },
      responseType: 'json'
    }).then(normalize);
  },

  authorize() {
    const params = {
      response_type: 'token',
      client_id: config.client_id,
      redirect_uri: config.redirect_uri
    };
    const url = `https://www.dropbox.com/oauth2/authorize?${Object(_utils__WEBPACK_IMPORTED_MODULE_0__["dumpQuery"])(params)}`;
    Object(_base__WEBPACK_IMPORTED_MODULE_1__["openAuthPage"])(url, config.redirect_uri);
  },

  authorized(raw) {
    const data = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["loadQuery"])(raw);

    if (data.access_token) {
      this.config.set({
        uid: data.uid,
        token: data.access_token
      });
    }
  },

  checkAuth(url) {
    const redirectUri = `${config.redirect_uri}#`;

    if (url.startsWith(redirectUri)) {
      this.authorized(url.slice(redirectUri.length));
      this.checkSync();
      return true;
    }
  },

  revoke() {
    this.config.set({
      uid: null,
      token: null
    });
    return this.prepare();
  }

});
Object(_base__WEBPACK_IMPORTED_MODULE_1__["register"])(Dropbox);

function normalize(item) {
  return {
    name: item.name,
    size: item.size,
    uri: Object(_base__WEBPACK_IMPORTED_MODULE_1__["getURI"])(item.name) // modified: new Date(item.server_modified).getTime(),
    // isDeleted: item.is_deleted,

  };
}

/***/ }),

/***/ "./src/background/sync/googledrive.js":
/*!********************************************!*\
  !*** ./src/background/sync/googledrive.js ***!
  \********************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./src/common */ "./src/common/index.js");
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./src/common/object */ "./src/common/object.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils */ "./src/background/utils/index.js");
/* harmony import */ var _base__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./base */ "./src/background/sync/base.js");
// Reference:
// - https://developers.google.com/drive/v3/reference/files
// - https://github.com/google/google-api-nodejs-client




const config = {
  client_id: undefined,
  client_secret: undefined,
  redirect_uri: 'https://violentmonkey.github.io/auth_googledrive.html',
  scope: 'https://www.googleapis.com/auth/drive.appdata'
};
const UNAUTHORIZED = {
  status: 'UNAUTHORIZED'
};
const GoogleDrive = _base__WEBPACK_IMPORTED_MODULE_3__["BaseService"].extend({
  name: 'googledrive',
  displayName: 'Google Drive',
  urlPrefix: 'https://www.googleapis.com/drive/v3',

  refreshToken() {
    const refreshToken = this.config.get('refresh_token');
    if (!refreshToken) return Promise.reject({
      type: 'unauthorized'
    });
    return this.authorized({
      refresh_token: refreshToken,
      grant_type: 'refresh_token'
    }).then(() => this.prepare());
  },

  user() {
    const requestUser = () => this.loadData({
      url: `https://www.googleapis.com/oauth2/v3/tokeninfo?${Object(_utils__WEBPACK_IMPORTED_MODULE_2__["dumpQuery"])({
        access_token: this.config.get('token')
      })}`,
      responseType: 'json'
    });

    return requestUser().then(info => {
      // If access was granted with access_type=online, revoke it.
      if (info.access_type === 'online') {
        return this.loadData({
          method: 'POST',
          url: `https://accounts.google.com/o/oauth2/revoke?token=${this.config.get('token')}`,
          prefix: '',
          headers: {
            'Content-Type': 'application/x-www-form-urlencoded'
          }
        }).then(() => {
          Object(_utils__WEBPACK_IMPORTED_MODULE_2__["notify"])({
            title: 'Sync Upgraded',
            body: 'Please reauthorize access to your Google Drive to complete the upgradation.'
          });
          return Promise.reject('Online access revoked.');
        });
      }

      if (info.scope !== config.scope) return Promise.reject(UNAUTHORIZED);
    }).catch(res => {
      if (res === UNAUTHORIZED || res.status === 400 && Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_1__["objectGet"])(res, 'data.error_description') === 'Invalid Value') {
        return this.refreshToken().then(requestUser);
      }

      return Promise.reject({
        type: 'error',
        data: res
      });
    });
  },

  getSyncData() {
    const params = {
      spaces: 'appDataFolder',
      fields: 'files(id,name,size)'
    };
    return this.loadData({
      url: `/files?${Object(_utils__WEBPACK_IMPORTED_MODULE_2__["dumpQuery"])(params)}`,
      responseType: 'json'
    }).then(({
      files
    }) => {
      let metaFile;
      const remoteData = files.filter(item => {
        if (Object(_base__WEBPACK_IMPORTED_MODULE_3__["isScriptFile"])(item.name)) return true;

        if (!metaFile && item.name === this.metaFile) {
          metaFile = item;
        } else {
          this.remove(item);
        }

        return false;
      }).map(normalize).filter(item => {
        if (!item.size) {
          this.remove(item);
          return false;
        }

        return true;
      });
      const metaItem = metaFile ? normalize(metaFile) : {};
      const gotMeta = this.get(metaItem).then(data => JSON.parse(data)).catch(err => this.handleMetaError(err)).then(data => Object.assign({}, metaItem, {
        name: this.metaFile,
        uri: null,
        data
      }));
      return Promise.all([gotMeta, remoteData, this.getLocalData()]);
    });
  },

  authorize() {
    const params = {
      response_type: 'code',
      access_type: 'offline',
      client_id: config.client_id,
      redirect_uri: config.redirect_uri,
      scope: config.scope
    };
    if (!this.config.get('refresh_token')) params.prompt = 'consent';
    const url = `https://accounts.google.com/o/oauth2/v2/auth?${Object(_utils__WEBPACK_IMPORTED_MODULE_2__["dumpQuery"])(params)}`;
    Object(_base__WEBPACK_IMPORTED_MODULE_3__["openAuthPage"])(url, config.redirect_uri);
  },

  checkAuth(url) {
    const redirectUri = `${config.redirect_uri}?code=`;

    if (url.startsWith(redirectUri)) {
      this.authState.set('authorizing');
      this.authorized({
        code: decodeURIComponent(url.split('#')[0].slice(redirectUri.length))
      }).then(() => this.checkSync());
      return true;
    }
  },

  revoke() {
    this.config.set({
      token: null,
      refresh_token: null
    });
    return this.prepare();
  },

  authorized(params) {
    return this.loadData({
      method: 'POST',
      url: 'https://www.googleapis.com/oauth2/v4/token',
      prefix: '',
      headers: {
        'Content-Type': 'application/x-www-form-urlencoded'
      },
      body: Object(_utils__WEBPACK_IMPORTED_MODULE_2__["dumpQuery"])(Object.assign({}, {
        client_id: config.client_id,
        client_secret: config.client_secret,
        redirect_uri: config.redirect_uri,
        grant_type: 'authorization_code'
      }, params)),
      responseType: 'json'
    }).then(data => {
      if (data.access_token) {
        const update = {
          token: data.access_token
        };

        if (data.refresh_token) {
          update.refresh_token = data.refresh_token;
        }

        this.config.set(update);
      } else {
        throw data;
      }
    });
  },

  handleMetaError: _Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["noop"],

  list() {
    throw new Error('Not supported');
  },

  get({
    id
  }) {
    if (!id) return Promise.reject();
    return this.loadData({
      url: `/files/${id}?alt=media`
    });
  },

  put(item, data) {
    const name = Object(_base__WEBPACK_IMPORTED_MODULE_3__["getItemFilename"])(item);
    const {
      id
    } = item;
    const boundary = Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["getUniqId"])('violentmonkey-is-great-');
    const headers = {
      'Content-Type': `multipart/related; boundary=${boundary}`
    };
    const metadata = id ? {
      name
    } : {
      name,
      parents: ['appDataFolder']
    };
    const body = [`--${boundary}`, 'Content-Type: application/json; charset=UTF-8', '', JSON.stringify(metadata), `--${boundary}`, 'Content-Type: text/plain', '', data, `--${boundary}--`, ''].join('\r\n');
    const url = id ? `https://www.googleapis.com/upload/drive/v3/files/${id}?uploadType=multipart` : 'https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart';
    return this.loadData({
      url,
      body,
      headers,
      method: id ? 'PATCH' : 'POST'
    });
  },

  remove({
    id
  }) {
    return this.loadData({
      method: 'DELETE',
      url: `/files/${id}`
    });
  }

});
Object(_base__WEBPACK_IMPORTED_MODULE_3__["register"])(GoogleDrive);

function normalize(item) {
  return {
    id: item.id,
    name: item.name,
    size: +item.size,
    uri: Object(_base__WEBPACK_IMPORTED_MODULE_3__["getURI"])(item.name)
  };
}

/***/ }),

/***/ "./src/background/sync/index.js":
/*!**************************************!*\
  !*** ./src/background/sync/index.js ***!
  \**************************************/
/*! exports provided: initialize, sync, getStates, authorize, revoke */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base */ "./src/background/sync/base.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "initialize", function() { return _base__WEBPACK_IMPORTED_MODULE_0__["initialize"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "sync", function() { return _base__WEBPACK_IMPORTED_MODULE_0__["sync"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "getStates", function() { return _base__WEBPACK_IMPORTED_MODULE_0__["getStates"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "authorize", function() { return _base__WEBPACK_IMPORTED_MODULE_0__["authorize"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "revoke", function() { return _base__WEBPACK_IMPORTED_MODULE_0__["revoke"]; });

/* harmony import */ var _dropbox__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./dropbox */ "./src/background/sync/dropbox.js");
/* harmony import */ var _onedrive__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./onedrive */ "./src/background/sync/onedrive.js");
/* harmony import */ var _googledrive__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./googledrive */ "./src/background/sync/googledrive.js");
/* harmony import */ var _webdav__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./webdav */ "./src/background/sync/webdav.js");
/* harmony import */ var _utils_message__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/message */ "./src/background/utils/message.js");






Object.assign(_utils_message__WEBPACK_IMPORTED_MODULE_5__["commands"], {
  SyncAuthorize: _base__WEBPACK_IMPORTED_MODULE_0__["authorize"],
  SyncRevoke: _base__WEBPACK_IMPORTED_MODULE_0__["revoke"],
  SyncStart: _base__WEBPACK_IMPORTED_MODULE_0__["sync"],
  SyncSetConfig: _base__WEBPACK_IMPORTED_MODULE_0__["setConfig"]
});


/***/ }),

/***/ "./src/background/sync/onedrive.js":
/*!*****************************************!*\
  !*** ./src/background/sync/onedrive.js ***!
  \*****************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./src/common */ "./src/common/index.js");
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./src/common/object */ "./src/common/object.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils */ "./src/background/utils/index.js");
/* harmony import */ var _base__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./base */ "./src/background/sync/base.js");
// Reference: https://dev.onedrive.com/README.htm




const config = {
  client_id: undefined,
  client_secret: undefined,
  redirect_uri: 'https://violentmonkey.github.io/auth_onedrive.html'
};
const OneDrive = _base__WEBPACK_IMPORTED_MODULE_3__["BaseService"].extend({
  name: 'onedrive',
  displayName: 'OneDrive',
  urlPrefix: 'https://api.onedrive.com/v1.0',

  refreshToken() {
    const refreshToken = this.config.get('refresh_token');
    return this.authorized({
      refresh_token: refreshToken,
      grant_type: 'refresh_token'
    }).then(() => this.prepare());
  },

  user() {
    const requestUser = () => this.loadData({
      url: '/drive',
      responseType: 'json'
    });

    return requestUser().catch(res => {
      if (res.status === 401) {
        return this.refreshToken().then(requestUser);
      }

      throw res;
    }).catch(res => {
      if (res.status === 400 && Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_1__["objectGet"])(res, 'data.error') === 'invalid_grant') {
        return Promise.reject({
          type: 'unauthorized'
        });
      }

      return Promise.reject({
        type: 'error',
        data: res
      });
    });
  },

  handleMetaError(res) {
    if (res.status === 404) {
      var _res$headers$get;

      const header = ((_res$headers$get = res.headers.get('WWW-Authenticate')) == null ? void 0 : _res$headers$get[0]) || '';

      if (/^Bearer realm="OneDriveAPI"/.test(header)) {
        return this.refreshToken().then(() => this.getMeta());
      }

      return;
    }

    throw res;
  },

  list() {
    return this.loadData({
      url: '/drive/special/approot/children',
      responseType: 'json'
    }).then(data => data.value.filter(item => item.file && Object(_base__WEBPACK_IMPORTED_MODULE_3__["isScriptFile"])(item.name)).map(normalize));
  },

  get(item) {
    const name = Object(_base__WEBPACK_IMPORTED_MODULE_3__["getItemFilename"])(item);
    return this.loadData({
      url: `/drive/special/approot:/${encodeURIComponent(name)}`,
      responseType: 'json'
    }).then(data => this.loadData({
      url: data['@content.downloadUrl'],
      delay: false
    }));
  },

  put(item, data) {
    const name = Object(_base__WEBPACK_IMPORTED_MODULE_3__["getItemFilename"])(item);
    return this.loadData({
      method: 'PUT',
      url: `/drive/special/approot:/${encodeURIComponent(name)}:/content`,
      headers: {
        'Content-Type': 'application/octet-stream'
      },
      body: data,
      responseType: 'json'
    }).then(normalize);
  },

  remove(item) {
    // return 204
    const name = Object(_base__WEBPACK_IMPORTED_MODULE_3__["getItemFilename"])(item);
    return this.loadData({
      method: 'DELETE',
      url: `/drive/special/approot:/${encodeURIComponent(name)}`
    }).catch(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["noop"]);
  },

  authorize() {
    const params = {
      client_id: config.client_id,
      scope: 'onedrive.appfolder wl.offline_access',
      response_type: 'code',
      redirect_uri: config.redirect_uri
    };
    const url = `https://login.live.com/oauth20_authorize.srf?${Object(_utils__WEBPACK_IMPORTED_MODULE_2__["dumpQuery"])(params)}`;
    Object(_base__WEBPACK_IMPORTED_MODULE_3__["openAuthPage"])(url, config.redirect_uri);
  },

  checkAuth(url) {
    const redirectUri = `${config.redirect_uri}?code=`;

    if (url.startsWith(redirectUri)) {
      this.authState.set('authorizing');
      this.authorized({
        code: url.slice(redirectUri.length)
      }).then(() => this.checkSync());
      return true;
    }
  },

  revoke() {
    this.config.set({
      uid: null,
      token: null,
      refresh_token: null
    });
    return this.prepare();
  },

  authorized(params) {
    return this.loadData({
      method: 'POST',
      url: 'https://login.live.com/oauth20_token.srf',
      prefix: '',
      headers: {
        'Content-Type': 'application/x-www-form-urlencoded'
      },
      body: Object(_utils__WEBPACK_IMPORTED_MODULE_2__["dumpQuery"])(Object.assign({}, {
        client_id: config.client_id,
        client_secret: config.client_secret,
        redirect_uri: config.redirect_uri,
        grant_type: 'authorization_code'
      }, params)),
      responseType: 'json'
    }).then(data => {
      if (data.access_token) {
        this.config.set({
          uid: data.user_id,
          token: data.access_token,
          refresh_token: data.refresh_token
        });
      } else {
        throw data;
      }
    });
  }

});
Object(_base__WEBPACK_IMPORTED_MODULE_3__["register"])(OneDrive);

function normalize(item) {
  return {
    name: item.name,
    size: item.size,
    uri: Object(_base__WEBPACK_IMPORTED_MODULE_3__["getURI"])(item.name) // modified: new Date(item.lastModifiedDateTime).getTime(),

  };
}

/***/ }),

/***/ "./src/background/sync/webdav.js":
/*!***************************************!*\
  !*** ./src/background/sync/webdav.js ***!
  \***************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/extends.js");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _base__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./base */ "./src/background/sync/base.js");


const KEY_CHILDREN = Symbol('children');

class XNode {
  constructor(node, nsMap) {
    this.node = node;
    this.nsMap = _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, nsMap);
    this.parseAttrs();
    this.parseName();
  }

  static fromXML(xml) {
    const parser = new DOMParser();
    const doc = parser.parseFromString(xml, 'application/xml');
    return new XNode(doc);
  }

  parseAttrs() {
    const {
      node,
      nsMap
    } = this;
    const attrs = {};
    const {
      attributes
    } = node;

    if (attributes) {
      for (const attr of node.attributes) {
        const {
          name,
          value
        } = attr;
        if (name === 'xmlns') nsMap.$ = value;else if (name.startsWith('xmlns:')) nsMap[name.slice(6)] = value;
        attrs[name] = value;
      }
    }

    this.attrs = attrs;
  }

  parseName() {
    const {
      node,
      nsMap
    } = this;

    if (node.nodeType === 1) {
      let name = node.tagName;
      let ns = nsMap.$;

      if (name.includes(':')) {
        let prefix;
        [prefix, name] = name.split(':');
        ns = nsMap[prefix];
        if (!ns) throw new Error(`Unknown namespace: ${prefix}`);
      }

      this.name = ns + name;
    }
  }

  text() {
    const {
      node
    } = this;
    if (node) return (node.textContent || '').trim();
  }

  children() {
    if (!this[KEY_CHILDREN]) {
      const {
        node,
        nsMap
      } = this;
      this[KEY_CHILDREN] = [...node.children].map(child => new XNode(child, nsMap));
    }

    return this[KEY_CHILDREN];
  }

  map(callback) {
    return this.children().map(callback);
  }

  getCallback(callback) {
    if (typeof callback === 'string') {
      return (tagName => node => node.name === tagName)(callback);
    }

    return callback;
  }

  filter(callback) {
    return this.children().filter(this.getCallback(callback));
  }

  find(callback) {
    return this.children().find(this.getCallback(callback));
  }

  attr(key) {
    return this.attrs[key];
  }

}

const DEFAULT_CONFIG = {
  serverUrl: '',
  anonymous: false,
  username: '',
  password: ''
};
const WebDAV = _base__WEBPACK_IMPORTED_MODULE_1__["BaseService"].extend({
  name: 'webdav',
  displayName: 'WebDAV',
  properties: {
    authType: 'password',
    serverUrl: null
  },

  getUserConfig() {
    if (!this.userConfig) {
      this.userConfig = _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, DEFAULT_CONFIG, {}, this.config.get('userConfig'));
    }

    return this.userConfig;
  },

  setUserConfig(config) {
    Object.assign(this.userConfig, config);
    this.config.set('userConfig', this.userConfig);
  },

  initToken() {
    var _config$serverUrl;

    this.prepareHeaders();
    const config = this.getUserConfig();
    let url = ((_config$serverUrl = config.serverUrl) == null ? void 0 : _config$serverUrl.trim()) || '';
    if (!url.includes('://')) url = `http://${url}`;
    if (!url.endsWith('/')) url += '/';

    try {
      new URL(url); // eslint-disable-line no-new
    } catch (e) {
      this.properties.serverUrl = null;
      return false;
    }

    this.properties.serverUrl = `${url}Violentmonkey/`;
    const {
      anonymous,
      username,
      password
    } = config;
    if (anonymous) return true;
    if (!username || !password) return false;
    const auth = window.btoa(`${username}:${password}`);
    this.headers.Authorization = `Basic ${auth}`;
    return true;
  },

  loadData(options) {
    // Bypassing login CSRF protection in Nextcloud / Owncloud by not sending cookies.
    // We are not using web UI and cookie authentication, so we don't have to worry about that.
    // See https://github.com/violentmonkey/violentmonkey/issues/976
    return _base__WEBPACK_IMPORTED_MODULE_1__["BaseService"].prototype.loadData.call(this, Object.assign({
      credentials: 'omit'
    }, options));
  },

  handleMetaError(res) {
    if (![404, // File not exists
    409 // Directory not exists
    ].includes(res.status)) throw res;
  },

  // Some WebDAV servers do not allow LOCK / UNLOCK

  /*
  acquireLock() {
    const { serverUrl } = this.properties;
    const createLock = () => {
      this.log('Acquire lock...');
      return this.loadData({
        method: 'LOCK',
        url: serverUrl,
        headers: {
          Timeout: `Second-${30 * 60}`,
        },
        body: `\
  <?xml version="1.0" encoding="utf-8" ?>
  <D:lockinfo xmlns:D='DAV:'>
  <D:lockscope><D:exclusive/></D:lockscope>
  <D:locktype><D:write/></D:locktype>
  </D:lockinfo>`,
      })
      .then(xml => {
        const doc = XNode.fromXML(xml);
        const lock = doc.find('DAV:prop')
        .find('DAV:lockdiscovery')
        .find('DAV:activelock')
        .find('DAV:locktoken')
        .find('DAV:href')
        .text();
        this.log('Acquired lock:', lock);
        this.config.set({
          lock,
        });
      });
    };
    const lock = this.config.get('lock');
    if (lock) {
      this.log('Refresh lock:', lock);
      return this.loadData({
        method: 'LOCK',
        url: serverUrl,
        headers: {
          If: `(<${lock}>)`,
        },
      })
      .then(() => {
        this.log('Refreshed lock:', lock);
      }, err => {
        if (err.status === 412) {
          this.log('Refresh lock error');
          this.config.set({ lock: null });
          // Precondition Failed
          return createLock();
        }
        throw err;
      });
    }
    return createLock();
  },
  releaseLock() {
    const lock = this.config.get('lock');
    if (lock) {
      const { serverUrl } = this.properties;
      this.log('Release lock:', lock);
      return this.loadData({
        method: 'UNLOCK',
        url: serverUrl,
        headers: {
          'Lock-Token': `<${lock}>`,
        },
      })
      .then(() => {
        this.log('Released lock');
      }, () => {
        this.log('Release lock error');
      })
      .then(() => {
        this.config.set({ lock: null });
      });
    }
  },
  */
  list() {
    const {
      serverUrl
    } = this.properties;

    const mkdir = () => this.loadData({
      method: 'MKCOL',
      url: serverUrl
    });

    const readdir = () => this.loadData({
      method: 'PROPFIND',
      url: serverUrl,
      headers: {
        depth: '1'
      }
    }).then(xml => {
      const doc = XNode.fromXML(xml);
      const items = doc.children()[0].map(node => {
        const prop = node.find('DAV:propstat').find('DAV:prop');
        const type = prop.find('DAV:resourcetype').find('DAV:collection') ? 'directory' : 'file';

        if (type === 'file') {
          let displayName;
          const displayNameNode = prop.find('DAV:displayname');

          if (displayNameNode !== undefined) {
            displayName = displayNameNode.text();
          } else {
            const href = node.find('DAV:href').text();
            displayName = decodeURIComponent(href.substring(href.lastIndexOf('/') + 1));
          }

          if (Object(_base__WEBPACK_IMPORTED_MODULE_1__["isScriptFile"])(displayName)) {
            const size = prop.find('DAV:getcontentlength');
            return normalize({
              name: displayName,
              size: size ? +size.text() : 0
            });
          }
        }

        return null;
      }).filter(Boolean);
      return items;
    });

    return readdir().catch(err => {
      if (err.status === 404) {
        return mkdir().then(readdir);
      }

      throw err;
    });
  },

  get(item) {
    const name = Object(_base__WEBPACK_IMPORTED_MODULE_1__["getItemFilename"])(item);
    const {
      serverUrl
    } = this.properties;
    return this.loadData({
      url: serverUrl + name
    });
  },

  put(item, data) {
    const name = Object(_base__WEBPACK_IMPORTED_MODULE_1__["getItemFilename"])(item);
    const headers = {
      'Content-Type': 'text/plain'
    };
    const lock = this.config.get('lock');
    if (lock) headers.If = `(<${lock}>)`;
    const {
      serverUrl
    } = this.properties;
    return this.loadData({
      method: 'PUT',
      url: serverUrl + name,
      body: data,
      headers
    });
  },

  remove(item) {
    const name = Object(_base__WEBPACK_IMPORTED_MODULE_1__["getItemFilename"])(item);
    const headers = {};
    const lock = this.config.get('lock');
    if (lock) headers.If = `(<${lock}>)`;
    const {
      serverUrl
    } = this.properties;
    return this.loadData({
      method: 'DELETE',
      url: serverUrl + name,
      headers
    });
  }

});
Object(_base__WEBPACK_IMPORTED_MODULE_1__["register"])(WebDAV);

function normalize(item) {
  return {
    name: item.name,
    size: item.size,
    uri: Object(_base__WEBPACK_IMPORTED_MODULE_1__["getURI"])(item.name)
  };
}

/***/ }),

/***/ "./src/background/utils/aes-decryptor.js":
/*!***********************************************!*\
  !*** ./src/background/utils/aes-decryptor.js ***!
  \***********************************************/
/*! exports provided: AESDecryptor */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AESDecryptor", function() { return AESDecryptor; });
/* eslint-disable */
// refer https://github.com/video-dev/hls.js
function removePadding(buffer) {
  const outputBytes = buffer.byteLength;
  const paddingBytes = outputBytes && new DataView(buffer).getUint8(outputBytes - 1);

  if (paddingBytes) {
    return buffer.slice(0, outputBytes - paddingBytes);
  }

  return buffer;
}

const AESDecryptor = function () {
  return {
    constructor() {
      this.rcon = [0x0, 0x1, 0x2, 0x4, 0x8, 0x10, 0x20, 0x40, 0x80, 0x1b, 0x36];
      this.subMix = [new Uint32Array(256), new Uint32Array(256), new Uint32Array(256), new Uint32Array(256)];
      this.invSubMix = [new Uint32Array(256), new Uint32Array(256), new Uint32Array(256), new Uint32Array(256)];
      this.sBox = new Uint32Array(256);
      this.invSBox = new Uint32Array(256); // Changes during runtime

      this.key = new Uint32Array(0);
      this.initTable();
    },

    // Using view.getUint32() also swaps the byte order.
    uint8ArrayToUint32Array_(arrayBuffer) {
      let view = new DataView(arrayBuffer);
      let newArray = new Uint32Array(4);

      for (let i = 0; i < 4; i++) {
        newArray[i] = view.getUint32(i * 4);
      }

      return newArray;
    },

    initTable() {
      let sBox = this.sBox;
      let invSBox = this.invSBox;
      let subMix = this.subMix;
      let subMix0 = subMix[0];
      let subMix1 = subMix[1];
      let subMix2 = subMix[2];
      let subMix3 = subMix[3];
      let invSubMix = this.invSubMix;
      let invSubMix0 = invSubMix[0];
      let invSubMix1 = invSubMix[1];
      let invSubMix2 = invSubMix[2];
      let invSubMix3 = invSubMix[3];
      let d = new Uint32Array(256);
      let x = 0;
      let xi = 0;
      let i = 0;

      for (i = 0; i < 256; i++) {
        if (i < 128) {
          d[i] = i << 1;
        } else {
          d[i] = i << 1 ^ 0x11b;
        }
      }

      for (i = 0; i < 256; i++) {
        let sx = xi ^ xi << 1 ^ xi << 2 ^ xi << 3 ^ xi << 4;
        sx = sx >>> 8 ^ sx & 0xff ^ 0x63;
        sBox[x] = sx;
        invSBox[sx] = x; // Compute multiplication

        let x2 = d[x];
        let x4 = d[x2];
        let x8 = d[x4]; // Compute sub/invSub bytes, mix columns tables

        let t = d[sx] * 0x101 ^ sx * 0x1010100;
        subMix0[x] = t << 24 | t >>> 8;
        subMix1[x] = t << 16 | t >>> 16;
        subMix2[x] = t << 8 | t >>> 24;
        subMix3[x] = t; // Compute inv sub bytes, inv mix columns tables

        t = x8 * 0x1010101 ^ x4 * 0x10001 ^ x2 * 0x101 ^ x * 0x1010100;
        invSubMix0[sx] = t << 24 | t >>> 8;
        invSubMix1[sx] = t << 16 | t >>> 16;
        invSubMix2[sx] = t << 8 | t >>> 24;
        invSubMix3[sx] = t; // Compute next counter

        if (!x) {
          x = xi = 1;
        } else {
          x = x2 ^ d[d[d[x8 ^ x2]]];
          xi ^= d[d[xi]];
        }
      }
    },

    expandKey(keyBuffer) {
      // convert keyBuffer to Uint32Array
      let key = this.uint8ArrayToUint32Array_(keyBuffer);
      let sameKey = true;
      let offset = 0;

      while (offset < key.length && sameKey) {
        sameKey = key[offset] === this.key[offset];
        offset++;
      }

      if (sameKey) {
        return;
      }

      this.key = key;
      let keySize = this.keySize = key.length;

      if (keySize !== 4 && keySize !== 6 && keySize !== 8) {
        throw new Error('Invalid aes key size=' + keySize);
      }

      let ksRows = this.ksRows = (keySize + 6 + 1) * 4;
      let ksRow;
      let invKsRow;
      let keySchedule = this.keySchedule = new Uint32Array(ksRows);
      let invKeySchedule = this.invKeySchedule = new Uint32Array(ksRows);
      let sbox = this.sBox;
      let rcon = this.rcon;
      let invSubMix = this.invSubMix;
      let invSubMix0 = invSubMix[0];
      let invSubMix1 = invSubMix[1];
      let invSubMix2 = invSubMix[2];
      let invSubMix3 = invSubMix[3];
      let prev;
      let t;

      for (ksRow = 0; ksRow < ksRows; ksRow++) {
        if (ksRow < keySize) {
          prev = keySchedule[ksRow] = key[ksRow];
          continue;
        }

        t = prev;

        if (ksRow % keySize === 0) {
          // Rot word
          t = t << 8 | t >>> 24; // Sub word

          t = sbox[t >>> 24] << 24 | sbox[t >>> 16 & 0xff] << 16 | sbox[t >>> 8 & 0xff] << 8 | sbox[t & 0xff]; // Mix Rcon

          t ^= rcon[ksRow / keySize | 0] << 24;
        } else if (keySize > 6 && ksRow % keySize === 4) {
          // Sub word
          t = sbox[t >>> 24] << 24 | sbox[t >>> 16 & 0xff] << 16 | sbox[t >>> 8 & 0xff] << 8 | sbox[t & 0xff];
        }

        keySchedule[ksRow] = prev = (keySchedule[ksRow - keySize] ^ t) >>> 0;
      }

      for (invKsRow = 0; invKsRow < ksRows; invKsRow++) {
        ksRow = ksRows - invKsRow;

        if (invKsRow & 3) {
          t = keySchedule[ksRow];
        } else {
          t = keySchedule[ksRow - 4];
        }

        if (invKsRow < 4 || ksRow <= 4) {
          invKeySchedule[invKsRow] = t;
        } else {
          invKeySchedule[invKsRow] = invSubMix0[sbox[t >>> 24]] ^ invSubMix1[sbox[t >>> 16 & 0xff]] ^ invSubMix2[sbox[t >>> 8 & 0xff]] ^ invSubMix3[sbox[t & 0xff]];
        }

        invKeySchedule[invKsRow] = invKeySchedule[invKsRow] >>> 0;
      }
    },

    // Adding this as a method greatly improves performance.
    networkToHostOrderSwap(word) {
      return word << 24 | (word & 0xff00) << 8 | (word & 0xff0000) >> 8 | word >>> 24;
    },

    decrypt(inputArrayBuffer, offset, aesIV, removePKCS7Padding) {
      let nRounds = this.keySize + 6;
      let invKeySchedule = this.invKeySchedule;
      let invSBOX = this.invSBox;
      let invSubMix = this.invSubMix;
      let invSubMix0 = invSubMix[0];
      let invSubMix1 = invSubMix[1];
      let invSubMix2 = invSubMix[2];
      let invSubMix3 = invSubMix[3];
      let initVector = this.uint8ArrayToUint32Array_(aesIV);
      let initVector0 = initVector[0];
      let initVector1 = initVector[1];
      let initVector2 = initVector[2];
      let initVector3 = initVector[3];
      let inputInt32 = new Int32Array(inputArrayBuffer);
      let outputInt32 = new Int32Array(inputInt32.length);
      let t0, t1, t2, t3;
      let s0, s1, s2, s3;
      let inputWords0, inputWords1, inputWords2, inputWords3;
      let ksRow, i;
      let swapWord = this.networkToHostOrderSwap;

      while (offset < inputInt32.length) {
        inputWords0 = swapWord(inputInt32[offset]);
        inputWords1 = swapWord(inputInt32[offset + 1]);
        inputWords2 = swapWord(inputInt32[offset + 2]);
        inputWords3 = swapWord(inputInt32[offset + 3]);
        s0 = inputWords0 ^ invKeySchedule[0];
        s1 = inputWords3 ^ invKeySchedule[1];
        s2 = inputWords2 ^ invKeySchedule[2];
        s3 = inputWords1 ^ invKeySchedule[3];
        ksRow = 4; // Iterate through the rounds of decryption

        for (i = 1; i < nRounds; i++) {
          t0 = invSubMix0[s0 >>> 24] ^ invSubMix1[s1 >> 16 & 0xff] ^ invSubMix2[s2 >> 8 & 0xff] ^ invSubMix3[s3 & 0xff] ^ invKeySchedule[ksRow];
          t1 = invSubMix0[s1 >>> 24] ^ invSubMix1[s2 >> 16 & 0xff] ^ invSubMix2[s3 >> 8 & 0xff] ^ invSubMix3[s0 & 0xff] ^ invKeySchedule[ksRow + 1];
          t2 = invSubMix0[s2 >>> 24] ^ invSubMix1[s3 >> 16 & 0xff] ^ invSubMix2[s0 >> 8 & 0xff] ^ invSubMix3[s1 & 0xff] ^ invKeySchedule[ksRow + 2];
          t3 = invSubMix0[s3 >>> 24] ^ invSubMix1[s0 >> 16 & 0xff] ^ invSubMix2[s1 >> 8 & 0xff] ^ invSubMix3[s2 & 0xff] ^ invKeySchedule[ksRow + 3]; // Update state

          s0 = t0;
          s1 = t1;
          s2 = t2;
          s3 = t3;
          ksRow = ksRow + 4;
        } // Shift rows, sub bytes, add round key


        t0 = invSBOX[s0 >>> 24] << 24 ^ invSBOX[s1 >> 16 & 0xff] << 16 ^ invSBOX[s2 >> 8 & 0xff] << 8 ^ invSBOX[s3 & 0xff] ^ invKeySchedule[ksRow];
        t1 = invSBOX[s1 >>> 24] << 24 ^ invSBOX[s2 >> 16 & 0xff] << 16 ^ invSBOX[s3 >> 8 & 0xff] << 8 ^ invSBOX[s0 & 0xff] ^ invKeySchedule[ksRow + 1];
        t2 = invSBOX[s2 >>> 24] << 24 ^ invSBOX[s3 >> 16 & 0xff] << 16 ^ invSBOX[s0 >> 8 & 0xff] << 8 ^ invSBOX[s1 & 0xff] ^ invKeySchedule[ksRow + 2];
        t3 = invSBOX[s3 >>> 24] << 24 ^ invSBOX[s0 >> 16 & 0xff] << 16 ^ invSBOX[s1 >> 8 & 0xff] << 8 ^ invSBOX[s2 & 0xff] ^ invKeySchedule[ksRow + 3];
        ksRow = ksRow + 3; // Write

        outputInt32[offset] = swapWord(t0 ^ initVector0);
        outputInt32[offset + 1] = swapWord(t3 ^ initVector1);
        outputInt32[offset + 2] = swapWord(t2 ^ initVector2);
        outputInt32[offset + 3] = swapWord(t1 ^ initVector3); // reset initVector to last 4 unsigned int

        initVector0 = inputWords0;
        initVector1 = inputWords1;
        initVector2 = inputWords2;
        initVector3 = inputWords3;
        offset = offset + 4;
      }

      return removePKCS7Padding ? removePadding(outputInt32.buffer) : outputInt32.buffer;
    },

    destroy() {
      this.key = undefined;
      this.keySize = undefined;
      this.ksRows = undefined;
      this.sBox = undefined;
      this.invSBox = undefined;
      this.subMix = undefined;
      this.invSubMix = undefined;
      this.keySchedule = undefined;
      this.invKeySchedule = undefined;
      this.rcon = undefined;
    }

  };
};

/***/ }),

/***/ "./src/background/utils/cache.js":
/*!***************************************!*\
  !*** ./src/background/utils/cache.js ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common_cache__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./src/common/cache */ "./src/common/cache.js");
/* harmony import */ var _message__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./message */ "./src/background/utils/message.js");


const cache = Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common_cache__WEBPACK_IMPORTED_MODULE_0__["default"])({
  /* Keeping the data for one hour since chrome.storage.local is insanely slow in Chrome,
     it can takes seconds to read it when injecting tabs with a big script/value, which delays
     all other scripts in this tab and they will never be able to run at document-start. */
  lifetime: 60 * 60 * 1000
});
Object.assign(_message__WEBPACK_IMPORTED_MODULE_1__["commands"], {
  CacheLoad(data) {
    return cache.get(data) || null;
  },

  CacheHit(data) {
    cache.hit(data.key, data.lifetime);
  },

  CachePop(key) {
    return cache.pop(key) || null;
  }

});
/* harmony default export */ __webpack_exports__["default"] = (cache);

/***/ }),

/***/ "./src/background/utils/clipboard.js":
/*!*******************************************!*\
  !*** ./src/background/utils/clipboard.js ***!
  \*******************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _message__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./message */ "./src/background/utils/message.js");

const textarea = document.createElement('textarea');
let clipboardData;
Object.assign(_message__WEBPACK_IMPORTED_MODULE_0__["commands"], {
  SetClipboard(data) {
    clipboardData = data;
    textarea.focus();
    const ret = document.execCommand('copy', false, null);

    if (!ret && false) {
      console.warn('Copy failed!');
    }
  }

});
document.body.appendChild(textarea);
document.addEventListener('copy', e => {
  e.preventDefault();
  const {
    type,
    data
  } = clipboardData;
  e.clipboardData.setData(type || 'text/plain', data);
});

/***/ }),

/***/ "./src/background/utils/db.js":
/*!************************************!*\
  !*** ./src/background/utils/db.js ***!
  \************************************/
/*! exports provided: normalizePosition, sortScripts, getScriptById, getScript, getScripts, getValueStoresByIds, dumpValueStores, ENV_CACHE_KEYS, ENV_REQ_KEYS, ENV_VALUE_IDS, getScriptsByURL, getData, checkRemove, updateScriptInfo, parseScript, fetchResources, vacuum */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "normalizePosition", function() { return normalizePosition; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "sortScripts", function() { return sortScripts; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getScriptById", function() { return getScriptById; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getScript", function() { return getScript; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getScripts", function() { return getScripts; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getValueStoresByIds", function() { return getValueStoresByIds; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "dumpValueStores", function() { return dumpValueStores; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ENV_CACHE_KEYS", function() { return ENV_CACHE_KEYS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ENV_REQ_KEYS", function() { return ENV_REQ_KEYS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ENV_VALUE_IDS", function() { return ENV_VALUE_IDS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getScriptsByURL", function() { return getScriptsByURL; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getData", function() { return getData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "checkRemove", function() { return checkRemove; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "updateScriptInfo", function() { return updateScriptInfo; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "parseScript", function() { return parseScript; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "fetchResources", function() { return fetchResources; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "vacuum", function() { return vacuum; });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/extends.js");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./src/common */ "./src/common/index.js");
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common_consts__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./src/common/consts */ "./src/common/consts.js");
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/common/object */ "./src/common/object.js");
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./src/common/storage */ "./src/common/storage.js");
/* harmony import */ var _plugin_events__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../plugin/events */ "./src/background/plugin/events.js");
/* harmony import */ var _script__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./script */ "./src/background/utils/script.js");
/* harmony import */ var _tester__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./tester */ "./src/background/utils/tester.js");
/* harmony import */ var _init__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./init */ "./src/background/utils/init.js");
/* harmony import */ var _message__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./message */ "./src/background/utils/message.js");
/* harmony import */ var _patch_db__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./patch-db */ "./src/background/utils/patch-db.js");
/* harmony import */ var _options__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./options */ "./src/background/utils/options.js");
/* harmony import */ var _storage_fetch__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./storage-fetch */ "./src/background/utils/storage-fetch.js");
/* harmony import */ var _cache__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./cache */ "./src/background/utils/cache.js");














const store = {};
_Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__["default"].base.setDataCache(_cache__WEBPACK_IMPORTED_MODULE_13__["default"]);

_Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__["default"].script.onDump = item => {
  store.scriptMap[item.props.id] = item;
};

Object.assign(_message__WEBPACK_IMPORTED_MODULE_9__["commands"], {
  CheckPosition: sortScripts,
  CheckRemove: checkRemove,

  /** @return {VMScript} */
  GetScript: getScript,

  /** @return {Promise<{ items: VMScript[], values? }>} */
  async ExportZip({
    values
  }) {
    const scripts = getScripts();
    const ids = scripts.map(getPropsId);
    const codeMap = await _Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__["default"].code.getMulti(ids);
    return {
      items: scripts.map(script => ({
        script,
        code: codeMap[script.props.id]
      })),
      values: values ? await _Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__["default"].value.getMulti(ids) : undefined
    };
  },

  /** @return {Promise<string>} */
  GetScriptCode(id) {
    return _Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__["default"].code.getOne(id);
  },

  GetScriptVer(opts) {
    const script = getScript(opts);
    return script && !script.config.removed ? script.meta.version : null;
  },

  /** @return {Promise<void>} */
  MarkRemoved({
    id,
    removed
  }) {
    return updateScriptInfo(id, {
      config: {
        removed: removed ? 1 : 0
      },
      props: {
        lastModified: Date.now()
      }
    });
  },

  /** @return {Promise<number>} */
  Move({
    id,
    offset
  }) {
    const script = getScriptById(id);
    const index = store.scripts.indexOf(script);
    store.scripts.splice(index, 1);
    store.scripts.splice(index + offset, 0, script);
    return normalizePosition();
  },

  /** @return {Promise<void>} */
  async RemoveScript(id) {
    const i = store.scripts.indexOf(getScriptById(id));

    if (i >= 0) {
      store.scripts.splice(i, 1);
      await Promise.all([_Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__["default"].script.remove(id), _Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__["default"].code.remove(id), _Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__["default"].value.remove(id)]);
    }

    return Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["sendCmd"])('RemoveScript', id);
  },

  ParseMeta: _script__WEBPACK_IMPORTED_MODULE_6__["parseMeta"],
  ParseScript: parseScript,

  /** @return {Promise<void>} */
  UpdateScriptInfo({
    id,
    config,
    custom
  }) {
    return updateScriptInfo(id, {
      config,
      custom,
      props: {
        lastModified: Date.now()
      }
    });
  },

  /** @return {Promise<number>} */
  Vacuum: vacuum
});
_init__WEBPACK_IMPORTED_MODULE_8__["preInitialize"].push(async () => {
  var _data$options;

  const {
    version: lastVersion
  } = await browser.storage.local.get('version');
  const version = "2.13.0.12";
  if (!lastVersion) await Object(_patch_db__WEBPACK_IMPORTED_MODULE_10__["default"])();
  if (version !== lastVersion) browser.storage.local.set({
    version
  });
  const data = await browser.storage.local.get();
  const scripts = [];
  const storeInfo = {
    id: 0,
    position: 0
  };
  const idMap = {};
  const uriMap = {};
  const mods = [];
  const resUrls = [];
  /** @this VMScriptCustom.pathMap */

  const rememberUrl = function _(url) {
    resUrls.push(this[url] || url);
  };

  safeCall(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_3__["forEachEntry"], data, ([key, script]) => {
    _cache__WEBPACK_IMPORTED_MODULE_13__["default"].put(key, script);

    if (key.startsWith(_Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__["default"].script.prefix)) {
      var _meta$require;

      // {
      //   meta,
      //   custom,
      //   props: { id, position, uri },
      //   config: { enabled, shouldUpdate },
      // }
      const id = getInt(key.slice(_Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__["default"].script.prefix.length));

      if (!id || idMap[id]) {
        // ID conflicts!
        // Should not happen, discard duplicates.
        return;
      }

      idMap[id] = script;
      const uri = Object(_script__WEBPACK_IMPORTED_MODULE_6__["getNameURI"])(script);

      if (uriMap[uri]) {
        // Namespace conflicts!
        // Should not happen, discard duplicates.
        return;
      }

      uriMap[uri] = script;
      script.props = _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, script.props, {
        id,
        uri
      });
      script.custom = _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, Object(_script__WEBPACK_IMPORTED_MODULE_6__["getDefaultCustom"])(), {}, script.custom);
      storeInfo.id = Math.max(storeInfo.id, id);
      storeInfo.position = Math.max(storeInfo.position, getInt(script.props.position));
      scripts.push(script); // listing all known resource urls in order to remove unused mod keys

      const {
        custom: {
          pathMap = {}
        } = {},
        meta = script.meta = {}
      } = script;
      meta.grant = [...new Set(meta.grant || [])]; // deduplicate

      (_meta$require = meta.require) == null ? void 0 : _meta$require.forEach(rememberUrl, pathMap);
      Object.values(meta.resources || {}).forEach(rememberUrl, pathMap);
      safeCall(rememberUrl, pathMap, meta.icon);
    } else if (key.startsWith(_Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__["default"].mod.prefix)) {
      mods.push(key.slice(_Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__["default"].mod.prefix.length));
    }
  });
  _Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__["default"].mod.removeMulti(mods.filter(url => !resUrls.includes(url)));
  Object.assign(store, {
    scripts,
    storeInfo,
    scriptMap: scripts.reduce((map, item) => {
      map[item.props.id] = item;
      return map;
    }, {})
  }); // Switch defaultInjectInto from `page` to `auto` when upgrading VM2.12.7 or older

  if (version !== lastVersion && IS_FIREFOX && ((_data$options = data.options) == null ? void 0 : _data$options.defaultInjectInto) === _Users_ZhaoJun_Desktop_violentmonkey_src_common_consts__WEBPACK_IMPORTED_MODULE_2__["INJECT_PAGE"] && Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["compareVersion"])(lastVersion, '2.12.7') <= 0) {
    Object(_options__WEBPACK_IMPORTED_MODULE_11__["setOption"])('defaultInjectInto', _Users_ZhaoJun_Desktop_violentmonkey_src_common_consts__WEBPACK_IMPORTED_MODULE_2__["INJECT_AUTO"]);
  }

  if (false) {}

  vacuum(data);
  return sortScripts();
});
/** @return {number} */

function getInt(val) {
  return +val || 0;
}
/** @return {?number} */


function getPropsId(script) {
  return script == null ? void 0 : script.props.id;
}
/** @return {void} */


function updateLastModified() {
  Object(_options__WEBPACK_IMPORTED_MODULE_11__["setOption"])('lastModified', Date.now());
}
/** @return {Promise<number>} */


async function normalizePosition() {
  const updates = store.scripts.filter(({
    props
  }, index) => {
    const position = index + 1;
    const res = props.position !== position;
    if (res) props.position = position;
    return res;
  });
  store.storeInfo.position = store.scripts.length;

  if (updates.length) {
    await _Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__["default"].script.dump(updates);
    updateLastModified();
  }

  return updates.length;
}
/** @return {Promise<number>} */

async function sortScripts() {
  store.scripts.sort((a, b) => getInt(a.props.position) - getInt(b.props.position));
  const changed = await normalizePosition();
  Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["sendCmd"])('ScriptsUpdated', null);
  return changed;
}
/** @return {?VMScript} */

function getScriptById(id) {
  return store.scriptMap[id];
}
/** @return {?VMScript} */

function getScript({
  id,
  uri,
  meta
}) {
  let script;

  if (id) {
    script = getScriptById(id);
  } else {
    if (!uri) uri = Object(_script__WEBPACK_IMPORTED_MODULE_6__["getNameURI"])({
      meta,
      id: '@@should-have-name'
    });
    script = store.scripts.find(({
      props
    }) => uri === props.uri);
  }

  return script;
}
/** @return {VMScript[]} */

function getScripts() {
  return store.scripts.filter(script => !script.config.removed);
}
/**
 * @desc Load values for batch updates.
 * @param {number[]} ids
 * @return {Promise<Object>}
 */

function getValueStoresByIds(ids) {
  return _Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__["default"].value.getMulti(ids);
}
/**
 * @desc Dump values for batch updates.
 * @param {Object} valueDict { id1: value1, id2: value2, ... }
 * @return {Promise<Object>}
 */

async function dumpValueStores(valueDict) {
  if (false) {}
  await _Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__["default"].value.dump(valueDict);
  return valueDict;
}
const ENV_CACHE_KEYS = 'cacheKeys';
const ENV_REQ_KEYS = 'reqKeys';
const ENV_VALUE_IDS = 'valueIds';
const GMVALUES_RE = /^GM[_.](listValues|([gs]et|delete)Value)$/;
const RUN_AT_RE = /^document-(start|body|end|idle)$/;
/**
 * @desc Get scripts to be injected to page with specific URL.
 */

async function getScriptsByURL(url, isTop) {
  const allScripts = Object(_tester__WEBPACK_IMPORTED_MODULE_7__["testBlacklist"])(url) ? [] : store.scripts.filter(script => {
    var _script$custom$nofram;

    return !script.config.removed && (isTop || !((_script$custom$nofram = script.custom.noframes) != null ? _script$custom$nofram : script.meta.noframes)) && Object(_tester__WEBPACK_IMPORTED_MODULE_7__["testScript"])(url, script);
  });
  const disabledIds = [];
  /** @namespace VMScriptByUrlData */

  const [envStart, envDelayed] = [0, 1].map(() => ({
    ids: [],

    /** @type {(VMScript & VMInjectedScript)[]} */
    scripts: [],
    [ENV_CACHE_KEYS]: [],
    [ENV_REQ_KEYS]: [],
    [ENV_VALUE_IDS]: []
  }));
  allScripts.forEach(script => {
    var _$match;

    const {
      id
    } = script.props;

    if (!script.config.enabled) {
      disabledIds.push(id);
      return;
    }

    const {
      meta,
      custom
    } = script;
    const {
      pathMap = buildPathMap(script)
    } = custom;
    const runAt = ((_$match = `${custom.runAt || meta.runAt || ''}`.match(RUN_AT_RE)) == null ? void 0 : _$match[1]) || 'end';
    const env = runAt === 'start' || runAt === 'body' ? envStart : envDelayed;
    env.ids.push(id);

    if (meta.grant.some(GMVALUES_RE.test, GMVALUES_RE)) {
      env[ENV_VALUE_IDS].push(id);
    }

    for (const [list, name] of [[meta.require, ENV_REQ_KEYS], [Object.values(meta.resources), ENV_CACHE_KEYS]]) {
      list.forEach(key => {
        key = pathMap[key] || key;

        if (!envStart[name].includes(key)) {
          env[name].push(key);
        }
      });
    }
    /** @namespace VMInjectedScript */


    env.scripts.push(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, script, {
      runAt
    }));
  });

  if (envDelayed.ids.length) {
    envDelayed.promise = readEnvironmentData(envDelayed);
  }
  /** @namespace VMScriptByUrlData */


  return _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, envStart, {}, (await readEnvironmentData(envStart)), {
    disabledIds,
    envDelayed
  });
}
/**
 * Object keys == areas in `storage` module.
 * @namespace VMScriptByUrlData
 */

const STORAGE_ROUTES = Object.entries({
  cache: ENV_CACHE_KEYS,
  code: 'ids',
  require: ENV_REQ_KEYS,
  value: ENV_VALUE_IDS
});
const retriedStorageKeys = {};

async function readEnvironmentData(env, isRetry) {
  const keys = [];
  STORAGE_ROUTES.forEach(([area, srcIds]) => {
    env[srcIds].forEach(id => {
      keys.push(_Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__["default"][area].getKey(id));
    });
  });
  const data = await _Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__["default"].base.getMulti(keys);

  for (const [area, srcIds] of STORAGE_ROUTES) {
    env[area] = {};

    for (const id of env[srcIds]) {
      const val = data[_Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__["default"][area].getKey(id)];
      env[area][id] = val;

      if (val == null && area !== 'value' && retriedStorageKeys[area + id] !== 2) {
        const err = `The "${area}" storage is missing "${id}"!`;
        const err2 = 'Vacuuming did not help. Please reinstall the affected scripts.';
        retriedStorageKeys[area + id] = isRetry ? 2 : 1;

        if (!isRetry) {
          console.warn(err, 'Vacuuming...');

          if (await vacuum()) {
            return readEnvironmentData(env, true);
          }
        }

        console.error(err, err2);
        Object(_message__WEBPACK_IMPORTED_MODULE_9__["notify"])({
          title: err,
          body: err2
        });
      }
    }
  }

  return env;
}
/**
 * @desc Get data for dashboard.
 * @return {Promise<{ scripts: VMScript[], cache: Object }>}
 */


async function getData(ids) {
  const scripts = ids ? ids.map(getScriptById) : store.scripts;
  return {
    scripts,
    cache: await getIconCache(scripts)
  };
}

function getIconCache(scripts) {
  const iconUrls = [];
  scripts.forEach(script => {
    const {
      icon
    } = script.meta;

    if (Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["isRemote"])(icon)) {
      var _script$custom$pathMa;

      iconUrls.push(((_script$custom$pathMa = script.custom.pathMap) == null ? void 0 : _script$custom$pathMa[icon]) || icon);
    }
  });
  return iconUrls.length ? _Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__["default"].cache.getMulti(iconUrls, undefined, _Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__["default"].cache.makeDataUri) : {};
}
/** @return {number} */


function checkRemove({
  force
} = {}) {
  const now = Date.now();
  const toRemove = store.scripts.filter(script => script.config.removed && (force || now - getInt(script.props.lastModified) > _Users_ZhaoJun_Desktop_violentmonkey_src_common_consts__WEBPACK_IMPORTED_MODULE_2__["TIMEOUT_WEEK"]));

  if (toRemove.length) {
    store.scripts = store.scripts.filter(script => !script.config.removed);
    const ids = toRemove.map(getPropsId);
    _Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__["default"].script.removeMulti(ids);
    _Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__["default"].code.removeMulti(ids);
    _Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__["default"].value.removeMulti(ids);
  }

  return toRemove.length;
}
/** @return {string} */

function getUUID() {
  const rnd = new Uint16Array(8);
  window.crypto.getRandomValues(rnd); // xxxxxxxx-xxxx-Mxxx-Nxxx-xxxxxxxxxxxx
  // We're using UUIDv4 variant 1 so N=4 and M=8
  // See format_uuid_v3or5 in https://tools.ietf.org/rfc/rfc4122.txt

  rnd[3] = rnd[3] & 0x0FFF | 0x4000; // eslint-disable-line no-bitwise

  rnd[4] = rnd[4] & 0x3FFF | 0x8000; // eslint-disable-line no-bitwise

  return '01-2-3-4-567'.replace(/\d/g, i => (rnd[i] + 0x10000).toString(16).slice(-4));
}
/**
 * @param {VMScript} script
 * @param {string} code
 * @return {Promise<VMScript[]>}
 */


async function saveScript(script, code) {
  const config = script.config || {};
  config.enabled = getInt(config.enabled);
  config.shouldUpdate = getInt(config.shouldUpdate);
  const props = script.props || {};
  let oldScript;

  if (!props.id) {
    store.storeInfo.id += 1;
    props.id = store.storeInfo.id;
  } else {
    oldScript = store.scriptMap[props.id];
  }

  props.uri = Object(_script__WEBPACK_IMPORTED_MODULE_6__["getNameURI"])(script);
  props.uuid = props.uuid || (crypto.randomUUID == null ? void 0 : crypto.randomUUID()) || getUUID(); // Do not allow script with same name and namespace

  if (store.scripts.some(({
    props: {
      id,
      uri
    } = {}
  }) => props.id !== id && props.uri === uri)) {
    throw Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["i18n"])('msgNamespaceConflict');
  }

  if (oldScript) {
    script.config = _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, oldScript.config, {}, config);
    script.props = _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, oldScript.props, {}, props);
    const index = store.scripts.indexOf(oldScript);
    store.scripts[index] = script;
  } else {
    if (!props.position) {
      store.storeInfo.position += 1;
      props.position = store.storeInfo.position;
    } else if (store.storeInfo.position < props.position) {
      store.storeInfo.position = props.position;
    }

    script.config = config;
    script.props = props;
    store.scripts.push(script);
  }

  return Promise.all([_Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__["default"].script.dump(script), _Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__["default"].code.set(props.id, code)]);
}
/** @return {Promise<void>} */


async function updateScriptInfo(id, data) {
  const script = store.scriptMap[id];
  if (!script) throw null;
  script.props = _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, script.props, {}, data.props);
  script.config = _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, script.config, {}, data.config);
  script.custom = _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, script.custom, {}, data.custom);
  await _Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__["default"].script.dump(script);
  return Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["sendCmd"])(_Users_ZhaoJun_Desktop_violentmonkey_src_common_consts__WEBPACK_IMPORTED_MODULE_2__["CMD_SCRIPT_UPDATE"], {
    where: {
      id
    },
    update: script
  });
}
/** @return {Promise<{ isNew?, update, where }>} */

async function parseScript(src) {
  const meta = Object(_script__WEBPACK_IMPORTED_MODULE_6__["parseMeta"])(src.code);
  if (!meta.name) throw `${Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["i18n"])('msgInvalidScript')}\n${Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["i18n"])('labelNoName')}`;
  const result = {
    update: {
      message: src.message == null ? Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["i18n"])('msgUpdated') : src.message || ''
    }
  };
  let cmd = _Users_ZhaoJun_Desktop_violentmonkey_src_common_consts__WEBPACK_IMPORTED_MODULE_2__["CMD_SCRIPT_UPDATE"];
  let script;
  const oldScript = await getScript({
    id: src.id,
    meta
  });

  if (oldScript) {
    if (src.isNew) throw Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["i18n"])('msgNamespaceConflict');
    script = _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, oldScript);
  } else {
    ({
      script
    } = Object(_script__WEBPACK_IMPORTED_MODULE_6__["newScript"])());
    cmd = _Users_ZhaoJun_Desktop_violentmonkey_src_common_consts__WEBPACK_IMPORTED_MODULE_2__["CMD_SCRIPT_ADD"];
    result.isNew = true;
    result.update.message = Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["i18n"])('msgInstalled');
  }

  script.config = _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, script.config, {}, src.config, {
    removed: 0 // force reset `removed` since this is an installation

  });
  script.custom = _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, script.custom, {}, src.custom);
  script.props = _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, script.props, {
    lastModified: Date.now(),
    lastUpdated: Date.now()
  }, src.props);
  script.meta = meta;

  if (!meta.homepageURL && !script.custom.homepageURL && Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["isRemote"])(src.from)) {
    script.custom.homepageURL = src.from;
  }

  if (Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["isRemote"])(src.url)) script.custom.lastInstallURL = src.url;
  if (src.position) script.props.position = +src.position;
  buildPathMap(script, src.url);
  await saveScript(script, src.code);
  fetchResources(script, src);
  Object.assign(result.update, script, src.update);
  result.where = {
    id: script.props.id
  };
  Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["sendCmd"])(cmd, result);
  _plugin_events__WEBPACK_IMPORTED_MODULE_5__["default"].emit('scriptChanged', result);
  return result;
}
/** @return {Object} */

function buildPathMap(script, base) {
  const {
    meta
  } = script;
  const baseUrl = base || script.custom.lastInstallURL;
  const pathMap = baseUrl ? [...meta.require, ...Object.values(meta.resources), meta.icon].reduce((map, key) => {
    if (key) {
      const fullUrl = Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["getFullUrl"])(key, baseUrl);
      if (fullUrl !== key) map[key] = fullUrl;
    }

    return map;
  }, {}) : {};
  script.custom.pathMap = pathMap;
  return pathMap;
}
/** @return {Promise<?string>} resolves to error text if `resourceCache` is absent */


async function fetchResources(script, resourceCache, reqOptions) {
  const {
    custom: {
      pathMap
    },
    meta
  } = script;

  const snatch = (url, type, validator) => {
    var _resourceCache$type;

    url = pathMap[url] || url;
    const contents = resourceCache == null ? void 0 : (_resourceCache$type = resourceCache[type]) == null ? void 0 : _resourceCache$type[url];
    return contents != null && !validator ? _Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__["default"][type].set(url, contents) && null : _Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__["default"][type].fetch(url, reqOptions, validator).catch(err => err);
  };

  const errors = await Promise.all([...meta.require.map(url => snatch(url, 'require')), ...Object.values(meta.resources).map(url => snatch(url, 'cache')), Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["isRemote"])(meta.icon) && snatch(meta.icon, 'cache', validateImage)]);

  if (!(resourceCache == null ? void 0 : resourceCache.ignoreDepsErrors)) {
    const error = safeCall(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["trueJoin"], errors.map(formatHttpError), '\n');

    if (error) {
      const message = Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["i18n"])('msgErrorFetchingResource');
      Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["sendCmd"])(_Users_ZhaoJun_Desktop_violentmonkey_src_common_consts__WEBPACK_IMPORTED_MODULE_2__["CMD_SCRIPT_UPDATE"], {
        update: {
          error,
          message
        },
        where: {
          id: script.props.id
        }
      });
      return `${message}\n${error}`;
    }
  }
}
/** @return {Promise<void>} resolves on success, rejects on error */

function validateImage(url, buf, type) {
  return new Promise((resolve, reject) => {
    const blobUrl = URL.createObjectURL(new Blob([buf], {
      type
    }));

    const onDone = e => {
      URL.revokeObjectURL(blobUrl);
      if (e.type === 'load') resolve();else reject(`IMAGE_ERROR: ${url}`);
    };

    const image = new Image();
    image.onload = onDone;
    image.onerror = onDone;
    image.src = blobUrl;
  });
}

function formatHttpError(e) {
  return e && safeCall(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["trueJoin"], [e.status && `HTTP${e.status}`, e.url], ' ') || e;
}

let _vacuuming;
/**
 * @param {Object} [data]
 * @return {Promise<number>}
 */


async function vacuum(data) {
  if (_vacuuming) return _vacuuming;
  let numFixes = 0;
  let resolveSelf;
  _vacuuming = new Promise(r => {
    resolveSelf = r;
  });
  const result = {};
  const toFetch = [];
  const keysToRemove = [];
  const valueKeys = {};
  const cacheKeys = {};
  const requireKeys = {};
  const codeKeys = {};
  const mappings = [[_Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__["default"].value, valueKeys], [_Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__["default"].cache, cacheKeys], [_Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__["default"].require, requireKeys], [_Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__["default"].code, codeKeys]];
  if (!data) data = await browser.storage.local.get();
  safeCall(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_3__["forEachKey"], data, key => {
    mappings.some(([substore, map]) => {
      const {
        prefix
      } = substore;

      if (key.startsWith(prefix)) {
        // -1 for untouched, 1 for touched, 2 for missing
        map[key.slice(prefix.length)] = -1;
        return true;
      }

      return false;
    });
  });

  const touch = (obj, key, scriptId) => {
    if (obj[key] < 0) {
      obj[key] = 1;
    } else if (!obj[key]) {
      obj[key] = 2 + scriptId;
    }
  };

  store.scripts.forEach(script => {
    const {
      id
    } = script.props;
    touch(codeKeys, id, id);
    touch(valueKeys, id, id);
    if (!script.custom.pathMap) buildPathMap(script);
    const {
      pathMap
    } = script.custom;

    script.meta.require.forEach(url => {
      touch(requireKeys, pathMap[url] || url, id);
    });

    safeCall(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_3__["forEachValue"], script.meta.resources, url => {
      touch(cacheKeys, pathMap[url] || url, id);
    });
    const {
      icon
    } = script.meta;

    if (Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["isRemote"])(icon)) {
      const fullUrl = pathMap[icon] || icon;
      touch(cacheKeys, fullUrl, id);
    }
  });
  mappings.forEach(([substore, map]) => {
    safeCall(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_3__["forEachEntry"], map, ([key, value]) => {
      if (value < 0) {
        // redundant value
        keysToRemove.push(substore.getKey(key));
        numFixes += 1;
      } else if (value >= 2 && substore.fetch) {
        // missing resource
        keysToRemove.push(_Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__["default"].mod.getKey(key));
        toFetch.push(substore.fetch(key).catch(err => `${Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["getScriptName"])(getScriptById(value - 2))}: ${formatHttpError(err)}`));
        numFixes += 1;
      }
    });
  });

  if (numFixes) {
    await _Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__["default"].base.removeMulti(keysToRemove); // Removing `mod` before fetching

    result.errors = (await Promise.all(toFetch)).filter(Boolean);
  }

  _vacuuming = null;
  result.fixes = numFixes;
  resolveSelf(result);
  return result;
}
/** @typedef VMScript
 * @property {VMScriptConfig} config
 * @property {VMScriptCustom} custom
 * @property {VMScriptMeta} meta
 * @property {VMScriptProps} props
 */

/** @typedef VMScriptConfig *
 * @property {Boolean} enabled - stored as 0 or 1
 * @property {Boolean} removed - stored as 0 or 1
 * @property {Boolean} shouldUpdate - stored as 0 or 1
 * @property {Boolean | null} notifyUpdates - stored as 0 or 1 or null (default) which means "use global setting"
 */

/** @typedef VMScriptCustom *
 * @property {string} name
 * @property {string} downloadURL
 * @property {string} homepageURL
 * @property {string} lastInstallURL
 * @property {string} updateURL
 * @property {'auto' | 'page' | 'content'} injectInto
 * @property {null | 1 | 0} noframes - null or absence == default (script's value)
 * @property {string[]} exclude
 * @property {string[]} excludeMatch
 * @property {string[]} include
 * @property {string[]} match
 * @property {boolean} origExclude
 * @property {boolean} origExcludeMatch
 * @property {boolean} origInclude
 * @property {boolean} origMatch
 * @property {Object} pathMap
 * @property {VMScriptRunAt} runAt
 */

/** @typedef VMScriptMeta *
 * @property {string} description
 * @property {string} downloadURL
 * @property {string[]} exclude
 * @property {string[]} excludeMatch
 * @property {string[]} grant
 * @property {string} homepageURL
 * @property {string} icon
 * @property {string[]} include
 * @property {'auto' | 'page' | 'content'} injectInto
 * @property {string[]} match
 * @property {string} namespace
 * @property {string} name
 * @property {boolean} noframes
 * @property {string[]} require
 * @property {Object} resources
 * @property {VMScriptRunAt} runAt
 * @property {string} supportURL
 * @property {string} version
 */

/** @typedef VMScriptProps *
 * @property {number} id
 * @property {number} lastModified
 * @property {number} lastUpdated
 * @property {number} position
 * @property {string} uri
 * @property {string} uuid
 */

/**
 * @typedef {
   'document-start' | 'document-body' | 'document-end' | 'document-idle'
 } VMScriptRunAt
 */

/***/ }),

/***/ "./src/background/utils/events.js":
/*!****************************************!*\
  !*** ./src/background/utils/events.js ***!
  \****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return getEventEmitter; });
function getEventEmitter() {
  const events = {};
  return {
    on,
    off,
    fire
  };

  function on(type, func) {
    let list = events[type];

    if (!list) {
      list = [];
      events[type] = list;
    }

    list.push(func);
  }

  function off(type, func) {
    const list = events[type];

    if (list) {
      const i = list.indexOf(func);
      if (i >= 0) list.splice(i, 1);
    }
  }

  function fire(type, data) {
    const list = events[type];

    if (list) {
      list.forEach(func => {
        func(data, type);
      });
    }
  }
}

/***/ }),

/***/ "./src/background/utils/hotkeys.js":
/*!*****************************************!*\
  !*** ./src/background/utils/hotkeys.js ***!
  \*****************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _init__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./init */ "./src/background/utils/init.js");
/* harmony import */ var _message__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./message */ "./src/background/utils/message.js");


_init__WEBPACK_IMPORTED_MODULE_0__["postInitialize"].push(() => {
  browser.commands.onCommand.addListener(cmd => {
    if (cmd === 'newScript') {
      _message__WEBPACK_IMPORTED_MODULE_1__["commands"].OpenEditor();
    } else {
      const route = cmd === 'settings' ? `#${cmd}` : '';
      _message__WEBPACK_IMPORTED_MODULE_1__["commands"].TabOpen({
        url: `/options/index.html${route}`
      });
    }
  });
});

/***/ }),

/***/ "./src/background/utils/icon.js":
/*!**************************************!*\
  !*** ./src/background/utils/icon.js ***!
  \**************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./src/common */ "./src/common/index.js");
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common_consts__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./src/common/consts */ "./src/common/consts.js");
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./src/common/object */ "./src/common/object.js");
/* harmony import */ var _cache__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./cache */ "./src/background/utils/cache.js");
/* harmony import */ var _init__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./init */ "./src/background/utils/init.js");
/* harmony import */ var _message__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./message */ "./src/background/utils/message.js");
/* harmony import */ var _options__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./options */ "./src/background/utils/options.js");
/* harmony import */ var _tester__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./tester */ "./src/background/utils/tester.js");







 // storing in `cache` only for the duration of page load in case there are 2+ identical urls

const CACHE_DURATION = 1000;
Object.assign(_message__WEBPACK_IMPORTED_MODULE_5__["commands"], {
  async GetImageData(url) {
    const key = `GetImageData:${url}`;
    return _cache__WEBPACK_IMPORTED_MODULE_3__["default"].get(key) || _cache__WEBPACK_IMPORTED_MODULE_3__["default"].put(key, loadImageData(url, {
      base64: true
    }).catch(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["noop"]), CACHE_DURATION);
  },

  SetBadge: setBadge
}); // Firefox Android does not support such APIs, use noop

const browserAction = (() => {
  const {
    chrome
  } = global; // Using `chrome` namespace in order to skip our browser.js polyfill in Chrome

  const api = chrome.browserAction; // Suppress the "no tab id" error when setting an icon/badge as it cannot be reliably prevented

  const ignoreErrors = () => chrome.runtime.lastError; // Some methods like setBadgeText added callbacks only in Chrome 67+.


  const makeMethod = fn => (...args) => {
    try {
      safeCall(fn, api, ...args, ignoreErrors);
    } catch (e) {
      safeCall(fn, api, ...args);
    }
  };

  return Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_2__["objectPick"])(api, ['setIcon', 'setBadgeText', 'setBadgeBackgroundColor', 'setTitle'], fn => fn ? makeMethod(fn) : _Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["noop"]);
})();

const badges = {};
const KEY_IS_APPLIED = 'isApplied';
const KEY_SHOW_BADGE = 'showBadge';
const KEY_BADGE_COLOR = 'badgeColor';
const KEY_BADGE_COLOR_BLOCKED = 'badgeColorBlocked';
/** @type boolean */

let isApplied;
/** @type VMBadgeMode */

let showBadge;
/** @type string */

let badgeColor;
/** @type string */

let badgeColorBlocked;
/** @type string */

let titleBlacklisted;
/** @type string */

let titleNoninjectable; // We'll cache the icon data in Chrome as it doesn't cache the data and takes up to 40ms
// in our background page context to set the 4 icon sizes for each new tab opened

const iconCache = !IS_FIREFOX && {};
Object(_options__WEBPACK_IMPORTED_MODULE_6__["hookOptions"])(changes => {
  let v;
  const jobs = [];

  if ((v = changes[KEY_IS_APPLIED]) != null) {
    isApplied = v;
    setIcon(); // change the default icon

    jobs.push(setIcon); // change the current tabs' icons
  }

  if ((v = changes[KEY_SHOW_BADGE]) != null) {
    showBadge = v;
    jobs.push(updateBadge);
  }

  if ((v = changes[KEY_BADGE_COLOR]) && (badgeColor = v) || (v = changes[KEY_BADGE_COLOR_BLOCKED]) && (badgeColorBlocked = v)) {
    jobs.push(updateBadgeColor);
  }

  if ('blacklist' in changes) {
    jobs.push(updateState);
  }

  if (jobs.length) {
    Object(_message__WEBPACK_IMPORTED_MODULE_5__["forEachTab"])(tab => jobs.forEach(fn => fn(tab)));
  }
});
_init__WEBPACK_IMPORTED_MODULE_4__["postInitialize"].push(() => {
  isApplied = Object(_options__WEBPACK_IMPORTED_MODULE_6__["getOption"])(KEY_IS_APPLIED);
  showBadge = Object(_options__WEBPACK_IMPORTED_MODULE_6__["getOption"])(KEY_SHOW_BADGE);
  badgeColor = Object(_options__WEBPACK_IMPORTED_MODULE_6__["getOption"])(KEY_BADGE_COLOR);
  badgeColorBlocked = Object(_options__WEBPACK_IMPORTED_MODULE_6__["getOption"])(KEY_BADGE_COLOR_BLOCKED);
  titleBlacklisted = Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["i18n"])('failureReasonBlacklisted');
  titleNoninjectable = Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["i18n"])('failureReasonNoninjectable');
  Object(_message__WEBPACK_IMPORTED_MODULE_5__["forEachTab"])(updateState);
  if (!isApplied) setIcon(); // sets the dimmed icon as default
});
browser.tabs.onRemoved.addListener(id => {
  delete badges[id];
});
browser.tabs.onUpdated.addListener((tabId, info, tab) => {
  const {
    url
  } = info;

  if (info.status === 'loading' // at least about:newtab in Firefox may open without 'loading' status
  || info.favIconUrl && tab.url.startsWith('about:')) {
    updateState(tab, url);
  }
});

function setBadge(ids, {
  tab,
  frameId
}) {
  const tabId = tab.id;
  const data = badges[tabId] || {};

  if (!data.idMap || frameId === 0) {
    // 1) keeping data object to preserve data.blocked
    // 2) 'total' and 'unique' must match showBadge in options-defaults.js
    data.total = 0;
    data.unique = 0;
    data.idMap = {};
    badges[tabId] = data;
  }

  data.total += ids.length;

  if (ids) {
    ids.forEach(id => {
      data.idMap[id] = 1;
    });
    data.unique = Object.keys(data.idMap).length;
  }

  updateBadgeColor(tab, data);
  updateBadge(tab, data);
}

function updateBadge(tab, data = badges[tab.id]) {
  if (data) {
    browserAction.setBadgeText({
      text: `${data[showBadge] || ''}`,
      tabId: tab.id
    });
  }
}

function updateBadgeColor(tab, data = badges[tab.id]) {
  if (data) {
    browserAction.setBadgeBackgroundColor({
      color: data.blocked ? badgeColorBlocked : badgeColor,
      tabId: tab.id
    });
  }
} // Chrome 79+ uses pendingUrl while the tab connects to the newly navigated URL
// https://groups.google.com/a/chromium.org/forum/#!topic/chromium-extensions/5zu_PT0arls


function updateState(tab, url = tab.pendingUrl || tab.url) {
  const tabId = tab.id;
  const injectable = _Users_ZhaoJun_Desktop_violentmonkey_src_common_consts__WEBPACK_IMPORTED_MODULE_1__["INJECTABLE_TAB_URL_RE"].test(url);
  const blacklisted = injectable ? Object(_tester__WEBPACK_IMPORTED_MODULE_7__["testBlacklist"])(url) : undefined;
  const title = blacklisted && titleBlacklisted || !injectable && titleNoninjectable || ''; // if the user unblacklisted this previously blocked tab in settings,
  // but didn't reload the tab yet, we need to restore the icon and the title

  if (title || (badges[tabId] || {}).blocked) {
    browserAction.setTitle({
      title,
      tabId
    });
    const data = title ? {
      blocked: true
    } : {};
    badges[tabId] = data;
    setIcon(tab, data);
    updateBadge(tab, data);
  }
}

async function setIcon(tab = {}, data = {}) {
  // modern Chrome and Firefox use 16/32, other browsers may still use 19/38 (e.g. Vivaldi)
  const mod = data.blocked && 'b' || !isApplied && 'w' || '';
  const iconData = {};

  for (const n of [16, 19, 32, 38]) {
    const path = `/public/images/icon${n}${mod}.png`;
    let icon = iconCache ? iconCache[path] : path;

    if (!icon) {
      icon = await loadImageData(path);
      iconCache[path] = icon;
    }

    iconData[n] = icon;
  }

  browserAction.setIcon({
    tabId: tab.id,
    [iconCache ? 'imageData' : 'path']: iconData
  });
}

function loadImageData(path, {
  base64
} = {}) {
  return new Promise((resolve, reject) => {
    const img = new Image();
    img.src = path;

    img.onload = () => {
      const {
        width,
        height
      } = img;

      if (!width) {
        // FF reports 0 for SVG
        resolve(path);
        return;
      }

      const canvas = document.createElement('canvas');
      const ctx = canvas.getContext('2d');
      canvas.width = width;
      canvas.height = height;
      ctx.drawImage(img, 0, 0, width, height);
      resolve(base64 ? canvas.toDataURL() : ctx.getImageData(0, 0, width, height));
    };

    img.onerror = reject;
  });
}

/***/ }),

/***/ "./src/background/utils/index.js":
/*!***************************************!*\
  !*** ./src/background/utils/index.js ***!
  \***************************************/
/*! exports provided: cache, getEventEmitter, commands, notify, broadcast, sendMessageOrIgnore, forEachTab, getOption, getDefaultOption, setOption, hookOptions, loadQuery, dumpQuery */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _cache__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./cache */ "./src/background/utils/cache.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "cache", function() { return _cache__WEBPACK_IMPORTED_MODULE_0__["default"]; });

/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./events */ "./src/background/utils/events.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "getEventEmitter", function() { return _events__WEBPACK_IMPORTED_MODULE_1__["default"]; });

/* harmony import */ var _message__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./message */ "./src/background/utils/message.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "commands", function() { return _message__WEBPACK_IMPORTED_MODULE_2__["commands"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "notify", function() { return _message__WEBPACK_IMPORTED_MODULE_2__["notify"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "broadcast", function() { return _message__WEBPACK_IMPORTED_MODULE_2__["broadcast"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "sendMessageOrIgnore", function() { return _message__WEBPACK_IMPORTED_MODULE_2__["sendMessageOrIgnore"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "forEachTab", function() { return _message__WEBPACK_IMPORTED_MODULE_2__["forEachTab"]; });

/* harmony import */ var _options__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./options */ "./src/background/utils/options.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "getOption", function() { return _options__WEBPACK_IMPORTED_MODULE_3__["getOption"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "getDefaultOption", function() { return _options__WEBPACK_IMPORTED_MODULE_3__["getDefaultOption"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "setOption", function() { return _options__WEBPACK_IMPORTED_MODULE_3__["setOption"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "hookOptions", function() { return _options__WEBPACK_IMPORTED_MODULE_3__["hookOptions"]; });

/* harmony import */ var _search__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./search */ "./src/background/utils/search.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "loadQuery", function() { return _search__WEBPACK_IMPORTED_MODULE_4__["loadQuery"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "dumpQuery", function() { return _search__WEBPACK_IMPORTED_MODULE_4__["dumpQuery"]; });







/***/ }),

/***/ "./src/background/utils/init.js":
/*!**************************************!*\
  !*** ./src/background/utils/init.js ***!
  \**************************************/
/*! exports provided: extensionRoot, preInitialize, postInitialize, initialize */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "extensionRoot", function() { return extensionRoot; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "preInitialize", function() { return preInitialize; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "postInitialize", function() { return postInitialize; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "initialize", function() { return initialize; });
const extensionRoot = browser.runtime.getURL('/');
const preInitialize = [];
const postInitialize = [];
async function initialize(main) {
  const run = init => typeof init === 'function' ? init() : init;

  await Promise.all(preInitialize.map(run));
  await run(main);
  await Promise.all(postInitialize.map(run));
  preInitialize.length = 0;
  postInitialize.length = 0;
}

/***/ }),

/***/ "./src/background/utils/m3u8.js":
/*!**************************************!*\
  !*** ./src/background/utils/m3u8.js ***!
  \**************************************/
/*! exports provided: downloadM3u8 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "downloadM3u8", function() { return downloadM3u8; });
/* harmony import */ var jbinary__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jbinary */ "./node_modules/jbinary/dist/browser/jbinary.js");
/* harmony import */ var jbinary__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jbinary__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var mpegts_to_mp4_mpegts_to_mp4_mpegts__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! mpegts_to_mp4/mpegts_to_mp4/mpegts */ "./node_modules/mpegts_to_mp4/mpegts_to_mp4/mpegts.js");
/* harmony import */ var mpegts_to_mp4_mpegts_to_mp4_mpegts__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(mpegts_to_mp4_mpegts_to_mp4_mpegts__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var mpegts_to_mp4_mpegts_to_mp4_index__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! mpegts_to_mp4/mpegts_to_mp4/index */ "./node_modules/mpegts_to_mp4/mpegts_to_mp4/index.js");
/* harmony import */ var mpegts_to_mp4_mpegts_to_mp4_index__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(mpegts_to_mp4_mpegts_to_mp4_index__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _aes_decryptor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./aes-decryptor */ "./src/background/utils/aes-decryptor.js");
/* eslint-disable */

/**
 * credits
 * https://github.com/Momo707577045/m3u8-downloader
 * https://github.com/shellvon/zh-downloader
 */


 // eslint-disable-line camelcase


let tsList = [];
let statusList = [];
let mediaFileList = []; // AES 视频解密配置

const AES = {
  method: '',
  // 加密算法
  uri: '',
  // key 所在文件路径
  iv: '',
  // 偏移值
  key: '',
  // 秘钥
  decryptor: null,
  // 解码器对象
  stringToBuffer: function (str) {
    return new TextEncoder().encode(str);
  }
};
const downloadM3u8 = function (opts) {
  // clear
  tsList = [];
  statusList = [];
  mediaFileList = [];
  const m3u8 = opts.data[0];
  const baseUrl = opts.url;
  let limit = 5;
  m3u8.split('\n').forEach(line => {
    if (limit > 0 && tsList.length >= limit) return;

    if (line.toLowerCase().indexOf('.ts') > -1) {
      tsList.push(tsUrl(line, baseUrl));
      statusList.push({
        title: line,
        status: 'init'
      });
    }
  }); // console.log('tsList', tsList);

  if (m3u8.indexOf('#EXT-X-KEY') > -1) {
    // 视频 AES 加密
    AES.method = (m3u8.match(/(.*METHOD=([^,\s]+))/) || ['', '', ''])[2];
    AES.uri = (m3u8.match(/(.*URI="([^"]+))"/) || ['', '', ''])[2];
    AES.uri = tsUrl(AES.uri, baseUrl);
    AES.iv = (m3u8.match(/(.*IV=([^,\s]+))/) || ['', '', ''])[2];
    AES.iv = AES.iv ? AES.stringToBuffer(AES.iv) : ''; // 先下载秘钥

    getAES(() => {
      downloadTS(opts);
    });
  } else if (tsList.length > 0) {
    // 如果视频没加密，则直接下载片段
    downloadTS(opts);
  } else {
    console.info('empty m3u8!');
  }
};

const getAES = function (callback) {
  ajax({
    url: AES.uri,
    success: key => {
      AES.key = key;
      AES.decryptor = new _aes_decryptor__WEBPACK_IMPORTED_MODULE_3__["AESDecryptor"]();
      AES.decryptor.constructor();
      AES.decryptor.expandKey(AES.key);
      callback();
    },
    fail: () => {
      console.info('视频已进行定制化加密');
    }
  });
};

const tsUrl = function (tsUri, baseURL) {
  if (tsUri.startsWith('http')) {
    return tsUri;
  } else if (tsUri[0] === '/') {
    let domain = baseURL.split('/');
    return domain[0] + '//' + domain[2] + tsUri;
  } else {
    let domain = baseURL.split('/');
    domain.pop();
    return domain.join('/') + '/' + tsUri;
  }
}; // ts 片段的 AES 解码


const decryptTs = function (data, index) {
  let iv = AES.iv || new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, index]);
  return AES.decryptor.decrypt(data, 0, iv.buffer || iv, true);
}; // 下载分片


const downloadTS = function (opts) {
  let index = 0;
  let retry = 0;

  let download = () => {
    const i = index;
    index++;

    if (i >= tsList.length) {
      // all succ
      const procList = statusList.filter(s => ['succ', 'loading'].includes(s.status));

      if (procList.length === tsList.length) {
        return;
      }

      if (retry < 5) {
        // retry again
        retry++;
        index = 0;
        setTimeout(() => download(), 1000);
        console.log('retry', retry, procList.length);
        return;
      }
    }

    console.log('download', i);

    if (statusList[i] && ['error', 'init'].includes(statusList[i].status)) {
      statusList[i].status = 'loading';
      ajax({
        url: tsList[i],
        success: data => {
          statusList[i].status = 'succ';
          dealTS(data, i, opts, () => {
            opts.onprogress(mediaFileList.length / tsList.length);
            download();
          });
        },
        fail: e => {
          // let err = e.statusText
          console.log({
            e,
            i
          }); // todo: retry

          statusList[i].status = 'error';
          download();
        }
      });
    } else {
      // 跳过已经成功的片段
      download();
    }
  }; // 并行 N线程下载


  for (let ii = 0; ii < 3; ii++) {
    download();
  }
};

const mp4ByJbinary = (dataChunks, callback) => {
  const blob = new Blob(dataChunks.map(data => new Uint8Array(data)), {
    type: 'video/mp2t'
  });
  jbinary__WEBPACK_IMPORTED_MODULE_0___default.a.load(blob, mpegts_to_mp4_mpegts_to_mp4_mpegts__WEBPACK_IMPORTED_MODULE_1___default.a, (err, mpegts) => {
    if (err) console.log({
      err
    });
    const start = new Date().getTime();
    const mp4Obj = mpegts_to_mp4_mpegts_to_mp4_index__WEBPACK_IMPORTED_MODULE_2___default()(mpegts);
    console.log(`Converted finished, time elapsed: ${new Date().getTime() - start}ms`);
    const data = {
      downloadLink: mp4Obj.toURI('video/mp4')
    };
    callback(data);
  });
}; // 处理 ts 片段，AES 解密、mp4 转码


const dealTS = function (rawData, index, opts, callback) {
  const data = AES.uri ? decryptTs(rawData, index) : rawData;
  mediaFileList[index] = data;

  if (mediaFileList.filter(m => m || false).length === tsList.length) {
    mp4ByJbinary(mediaFileList, res => {
      chrome.downloads.download({
        url: res.downloadLink,
        filename: opts.fileName
      }, downloadId => {
        opts.onload();
      });
    });
  }

  callback && callback();
};

const ajax = function (options) {
  options = options || {};
  let xhr = new XMLHttpRequest();
  xhr.responseType = 'arraybuffer';

  xhr.onreadystatechange = function () {
    if (xhr.readyState === 4) {
      let status = xhr.status;

      if (status >= 200 && status < 300) {
        options.success && options.success(xhr.response);
      } else {
        options.fail && options.fail(status);
      }
    }
  };

  xhr.open("GET", options.url, true);
  xhr.send(null);
};

/***/ }),

/***/ "./src/background/utils/message.js":
/*!*****************************************!*\
  !*** ./src/background/utils/message.js ***!
  \*****************************************/
/*! exports provided: commands, notify, broadcast, sendMessageOrIgnore, forEachTab */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "commands", function() { return commands; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "notify", function() { return notify; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "broadcast", function() { return broadcast; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "sendMessageOrIgnore", function() { return sendMessageOrIgnore; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "forEachTab", function() { return forEachTab; });
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./src/common */ "./src/common/index.js");

const commands = {};
function notify(options) {
  browser.notifications.create(options.id || 'ViolentMonkey', {
    type: 'basic',
    iconUrl: _Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["defaultImage"],
    title: `${options.title} - ${Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["i18n"])('extName')}`,
    message: options.body,
    isClickable: options.isClickable
  });
}
function broadcast(data) {
  forEachTab(tab => {
    browser.tabs.sendMessage(tab.id, data).catch(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["noop"]);
  });
}
function sendMessageOrIgnore(...args) {
  return browser.runtime.sendMessage(...args).catch(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["noop"]);
}
async function forEachTab(callback) {
  const tabs = await browser.tabs.query({});
  let i = 0;

  for (const tab of tabs) {
    callback(tab);
    i += 1; // we'll run at most this many tabs in one event loop cycle
    // because hundreds of tabs would make our extension process unresponsive,
    // the same process used by our own pages like the background page, dashboard, or popups

    if (i % 20 === 0) await new Promise(setTimeout);
  }
}

/***/ }),

/***/ "./src/background/utils/notifications.js":
/*!***********************************************!*\
  !*** ./src/background/utils/notifications.js ***!
  \***********************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./src/common */ "./src/common/index.js");
/* harmony import */ var _message__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./message */ "./src/background/utils/message.js");


const openers = {};
Object.assign(_message__WEBPACK_IMPORTED_MODULE_1__["commands"], {
  /** @return {Promise<string>} */
  async Notification(data, src, bgExtras) {
    const notificationId = await browser.notifications.create({
      type: 'basic',
      title: data.title || (IS_FIREFOX ? Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["i18n"])('extName') : ''),
      // Chrome already shows the name
      message: data.text,
      iconUrl: data.image || _Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["defaultImage"]
    });
    openers[notificationId] = (bgExtras == null ? void 0 : bgExtras.onClick) || src.tab.id;
    return notificationId;
  },

  RemoveNotification(notificationId) {
    return browser.notifications.clear(notificationId);
  }

});
browser.notifications.onClicked.addListener(id => {
  const openerId = openers[id];

  if (openerId >= 0) {
    Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["sendTabCmd"])(openerId, 'NotificationClick', id);
  }

  if (typeof openerId === 'function') {
    openerId();
  }
});
browser.notifications.onClosed.addListener(id => {
  const openerId = openers[id];
  delete openers[id];

  if (openerId >= 0) {
    Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["sendTabCmd"])(openerId, 'NotificationClose', id);
  }
});

/***/ }),

/***/ "./src/background/utils/options.js":
/*!*****************************************!*\
  !*** ./src/background/utils/options.js ***!
  \*****************************************/
/*! exports provided: getOption, getDefaultOption, setOption, hookOptions */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getOption", function() { return getOption; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getDefaultOption", function() { return getDefaultOption; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setOption", function() { return setOption; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "hookOptions", function() { return hookOptions; });
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./src/common */ "./src/common/index.js");
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./src/common/object */ "./src/common/object.js");
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common_options_defaults__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./src/common/options-defaults */ "./src/common/options-defaults.js");
/* harmony import */ var _init__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./init */ "./src/background/utils/init.js");
/* harmony import */ var _message__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./message */ "./src/background/utils/message.js");





Object.assign(_message__WEBPACK_IMPORTED_MODULE_4__["commands"], {
  /** @return {Object} */
  GetAllOptions() {
    return _message__WEBPACK_IMPORTED_MODULE_4__["commands"].GetOptions(_Users_ZhaoJun_Desktop_violentmonkey_src_common_options_defaults__WEBPACK_IMPORTED_MODULE_2__["default"]);
  },

  /** @return {Object} */
  GetOptions(data) {
    return safeCall(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_1__["mapEntry"], data, ([key]) => getOption(key));
  },

  /** @return {void} */
  SetOptions(data) {
    Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["ensureArray"])(data).forEach(item => setOption(item.key, item.value));
  }

});
let changes = {};
const hooks = Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["initHooks"])();
const callHooksLater = Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["debounce"])(callHooks, 100);
let options = {};
let initPending = browser.storage.local.get('options').then(({
  options: data
}) => {
  if (data && typeof data === 'object') options = data;

  if (false) {}

  if (!Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_1__["objectGet"])(options, 'version')) {
    setOption('version', 1);
  }

  initPending = null;
});
_init__WEBPACK_IMPORTED_MODULE_3__["preInitialize"].push(initPending);

function fireChange(keys, value) {
  // Flattening key path so the subscribers can update nested values without overwriting the parent
  const key = keys.join('.'); // Ensuring the correct order when updates were mixed like this: foo.bar=1; foo={bar:2}; foo.bar=3

  delete changes[key];
  changes[key] = value;
  callHooksLater();
}

function callHooks() {
  hooks.fire(changes);
  changes = {};
}

function getOption(key, def) {
  const keys = Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["normalizeKeys"])(key);
  const mainKey = keys[0];
  let value = options[mainKey];
  if (value == null) value = _Users_ZhaoJun_Desktop_violentmonkey_src_common_options_defaults__WEBPACK_IMPORTED_MODULE_2__["default"][mainKey];
  if (value == null) value = def;
  return keys.length > 1 ? Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_1__["objectGet"])(value, keys.slice(1), def) : value;
}
function getDefaultOption(key) {
  return Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_1__["objectGet"])(_Users_ZhaoJun_Desktop_violentmonkey_src_common_options_defaults__WEBPACK_IMPORTED_MODULE_2__["default"], key);
}
function setOption(key, value) {
  if (initPending) {
    initPending.then(() => {
      setOption(key, value);
    });
    return;
  }

  const keys = Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["normalizeKeys"])(key);
  const optionKey = keys.join('.');
  let optionValue = value;
  const mainKey = keys[0];

  if (mainKey in _Users_ZhaoJun_Desktop_violentmonkey_src_common_options_defaults__WEBPACK_IMPORTED_MODULE_2__["default"]) {
    if (keys.length > 1) {
      optionValue = Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_1__["objectSet"])(getOption(mainKey), keys.slice(1), value);
    }

    options[mainKey] = optionValue;
    browser.storage.local.set({
      options
    });
    fireChange(keys, value);

    if (false) {}
  }
}
const hookOptions = hooks.hook;

/***/ }),

/***/ "./src/background/utils/patch-db.js":
/*!******************************************!*\
  !*** ./src/background/utils/patch-db.js ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _script__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./script */ "./src/background/utils/script.js");
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./src/common/storage */ "./src/common/storage.js");


/* harmony default export */ __webpack_exports__["default"] = (() => new Promise((resolve, reject) => {
  console.info('Upgrade database...');
  init();

  function init() {
    const req = indexedDB.open('Violentmonkey', 1);

    req.onsuccess = () => {
      try {
        transform(req.result);
      } catch (err) {
        // This should not happen, but did happen in Firefox.
        reject(err);
      }
    };

    req.onerror = reject;

    req.onupgradeneeded = () => {
      // No available upgradation
      reject();
    };
  }

  function transform(db) {
    const tx = db.transaction(['scripts', 'require', 'cache', 'values']);
    const updates = {};
    let processing = 3;

    const done = () => {
      processing -= 1;
      if (!processing) resolve(browser.storage.local.set(updates));
    };

    const getAll = (storeName, callback) => {
      const req = tx.objectStore(storeName).getAll();

      req.onsuccess = () => callback(req.result);

      req.onerror = reject;
    };

    getAll('scripts', allScripts => {
      const uriMap = {};
      allScripts.forEach(script => {
        const {
          code,
          id,
          uri
        } = script;
        updates[`${_Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_1__["default"].script.prefix}${id}`] = transformScript(script);
        updates[`${_Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_1__["default"].code.prefix}${id}`] = code;
        uriMap[uri] = id;
      });
      getAll('values', allValues => {
        allValues.forEach(({
          uri,
          values
        }) => {
          const id = uriMap[uri];
          if (id) updates[`${_Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_1__["default"].value.prefix}${id}`] = values;
        });
        done();
      });
    });
    getAll('cache', allCache => {
      allCache.forEach(({
        uri,
        data
      }) => {
        updates[`${_Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_1__["default"].cache.prefix}${uri}`] = data;
      });
      done();
    });
    getAll('require', allRequire => {
      allRequire.forEach(({
        uri,
        code
      }) => {
        updates[`${_Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_1__["default"].require.prefix}${uri}`] = code;
      });
      done();
    });
  }

  function transformScript(script) {
    return {
      meta: Object(_script__WEBPACK_IMPORTED_MODULE_0__["parseMeta"])(script.code),
      custom: Object.assign({
        origInclude: true,
        origExclude: true,
        origMatch: true,
        origExcludeMatch: true
      }, script.custom),
      props: {
        id: script.id,
        uri: script.uri,
        position: script.position
      },
      config: {
        enabled: script.enabled,
        shouldUpdate: script.update
      }
    };
  }
}) // Ignore error
.catch(() => {}));

/***/ }),

/***/ "./src/background/utils/popup-tracker.js":
/*!***********************************************!*\
  !*** ./src/background/utils/popup-tracker.js ***!
  \***********************************************/
/*! exports provided: popupTabs */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "popupTabs", function() { return popupTabs; });
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./src/common */ "./src/common/index.js");
/* harmony import */ var _cache__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./cache */ "./src/background/utils/cache.js");
/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./db */ "./src/background/utils/db.js");
/* harmony import */ var _init__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./init */ "./src/background/utils/init.js");
/* harmony import */ var _message__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./message */ "./src/background/utils/message.js");





const popupTabs = {}; // { tabId: 1 }

_init__WEBPACK_IMPORTED_MODULE_3__["postInitialize"].push(() => {
  browser.runtime.onConnect.addListener(onPopupOpened);
  browser.webRequest.onBeforeRequest.addListener(prefetchSetPopup, {
    urls: [browser.runtime.getURL(browser.runtime.getManifest().browser_action.default_popup)],
    types: ['main_frame']
  });
});

function onPopupOpened(port) {
  const tabId = +port.name;
  popupTabs[tabId] = 1;
  Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["sendTabCmd"])(tabId, 'PopupShown', true);
  port.onDisconnect.addListener(onPopupClosed);
  delete _message__WEBPACK_IMPORTED_MODULE_4__["commands"].SetPopup;
}

function onPopupClosed({
  name
}) {
  delete popupTabs[name];
  Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["sendTabCmd"])(+name, 'PopupShown', false);
}

async function prefetchSetPopup() {
  const tabId = (await Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["getActiveTab"])()).id;
  Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["sendTabCmd"])(tabId, 'PopupShown', true);

  _message__WEBPACK_IMPORTED_MODULE_4__["commands"].SetPopup = async (data, src) => {
    Object.assign(data, (await Object(_db__WEBPACK_IMPORTED_MODULE_2__["getData"])(data.ids)));
    _cache__WEBPACK_IMPORTED_MODULE_1__["default"].put('SetPopup', Object.assign({
      [src.frameId]: [data, src]
    }, _cache__WEBPACK_IMPORTED_MODULE_1__["default"].get('SetPopup')));
  };
}

/***/ }),

/***/ "./src/background/utils/preinject.js":
/*!*******************************************!*\
  !*** ./src/background/utils/preinject.js ***!
  \*******************************************/
/*! exports provided: getInjectedScripts */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getInjectedScripts", function() { return getInjectedScripts; });
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./src/common */ "./src/common/index.js");
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common_consts__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./src/common/consts */ "./src/common/consts.js");
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common_cache__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./src/common/cache */ "./src/common/cache.js");
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/common/object */ "./src/common/object.js");
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./src/common/storage */ "./src/common/storage.js");
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common_ua__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./src/common/ua */ "./src/common/ua.js");
/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./db */ "./src/background/utils/db.js");
/* harmony import */ var _init__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./init */ "./src/background/utils/init.js");
/* harmony import */ var _message__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./message */ "./src/background/utils/message.js");
/* harmony import */ var _options__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./options */ "./src/background/utils/options.js");










const API_CONFIG = {
  urls: ['*://*/*'],
  // `*` scheme matches only http and https
  types: ['main_frame', 'sub_frame']
};
const TIME_AFTER_SEND = 10e3; // longer as establishing connection to sites may take time

const TIME_AFTER_RECEIVE = 1e3; // shorter as response body will be coming very soon

const TIME_KEEP_DATA = 60e3; // 100ms should be enough but the tab may hang or get paused in debugger

const cacheCode = Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common_cache__WEBPACK_IMPORTED_MODULE_2__["default"])({
  lifetime: TIME_KEEP_DATA
});
const cache = Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common_cache__WEBPACK_IMPORTED_MODULE_2__["default"])({
  lifetime: TIME_KEEP_DATA,
  onDispose: async promise => {
    const data = await promise;
    const rcs = await (data == null ? void 0 : data.rcsPromise);
    rcs == null ? void 0 : rcs.unregister();
  }
});
const INJECT_INTO = 'injectInto'; // KEY_XXX for hooked options

const KEY_EXPOSE = 'expose';
const KEY_DEF_INJECT_INTO = 'defaultInjectInto';
const KEY_IS_APPLIED = 'isApplied';
const KEY_XHR_INJECT = 'xhrInject';
const expose = {};
let isApplied;
let injectInto;
let xhrInject;
Object(_options__WEBPACK_IMPORTED_MODULE_9__["hookOptions"])(onOptionChanged);
_init__WEBPACK_IMPORTED_MODULE_7__["postInitialize"].push(() => {
  for (const key of [KEY_EXPOSE, KEY_DEF_INJECT_INTO, KEY_IS_APPLIED, KEY_XHR_INJECT]) {
    onOptionChanged({
      [key]: Object(_options__WEBPACK_IMPORTED_MODULE_9__["getOption"])(key)
    });
  }
});
Object.assign(_message__WEBPACK_IMPORTED_MODULE_8__["commands"], {
  async InjectionFeedback({
    feedId,
    feedback,
    forceContent
  }, src) {
    feedback.forEach(processFeedback, src);

    if (feedId) {
      // cache cleanup when getDataFF outruns GetInjected
      cache.del(feedId.cacheKey); // envDelayed

      const env = await cache.pop(feedId.envKey);

      if (env) {
        env.forceContent = forceContent;
        env.scripts.map(prepareScript, env).filter(Boolean).forEach(processFeedback, src);
        return Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_3__["objectPick"])(env, ['cache', 'scripts']);
      }
    }
  }

});
/** @this {chrome.runtime.MessageSender} */

function processFeedback([key, needsInjection]) {
  const code = cacheCode.pop(key); // see TIME_KEEP_DATA comment

  if (needsInjection && code) {
    browser.tabs.executeScript(this.tab.id, {
      code,
      frameId: this.frameId,
      runAt: 'document_start'
    });
  }
}

const propsToClear = {
  [_Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__["default"].cache.prefix]: _db__WEBPACK_IMPORTED_MODULE_6__["ENV_CACHE_KEYS"],
  [_Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__["default"].code.prefix]: true,
  [_Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__["default"].require.prefix]: _db__WEBPACK_IMPORTED_MODULE_6__["ENV_REQ_KEYS"],
  [_Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__["default"].script.prefix]: true,
  [_Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__["default"].value.prefix]: _db__WEBPACK_IMPORTED_MODULE_6__["ENV_VALUE_IDS"]
};
browser.storage.onChanged.addListener(async changes => {
  const dbKeys = Object.keys(changes);
  const cacheValues = await Promise.all(cache.getValues());
  const dirty = cacheValues.some(data => data.inject && dbKeys.some(key => {
    var _data$prop;

    const prefix = key.slice(0, key.indexOf(':') + 1);
    const prop = propsToClear[prefix];
    key = key.slice(prefix.length);
    return prop === true || ((_data$prop = data[prop]) == null ? void 0 : _data$prop.includes(prefix === _Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_4__["default"].value.prefix ? +key : key));
  }));

  if (dirty) {
    cache.destroy();
  }
});

function normalizeRealm(value) {
  return safeCall(hasOwnProperty, _Users_ZhaoJun_Desktop_violentmonkey_src_common_consts__WEBPACK_IMPORTED_MODULE_1__["INJECT_MAPPING"], value) ? value : injectInto || _Users_ZhaoJun_Desktop_violentmonkey_src_common_consts__WEBPACK_IMPORTED_MODULE_1__["INJECT_AUTO"];
}

function onOptionChanged(changes) {
  safeCall(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_3__["forEachEntry"], changes, ([key, value]) => {
    switch (key) {
      case KEY_DEF_INJECT_INTO:
        injectInto = normalizeRealm(value);
        cache.destroy();
        break;

      case KEY_XHR_INJECT:
        toggleXhrInject(value);
        cache.destroy();
        break;

      case KEY_IS_APPLIED:
        togglePreinject(value);
        break;

      case KEY_EXPOSE:
        safeCall(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_3__["forEachEntry"], value, ([site, isExposed]) => {
          expose[decodeURIComponent(site)] = isExposed;
        });
        break;

      default:
        if (key.includes('.')) {
          // used by `expose.url`
          onOptionChanged(Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_3__["objectSet"])({}, key, value));
        }

    }
  });
}
/** @return {Promise<Object>} */


function getInjectedScripts(url, tabId, frameId, forceContent) {
  const key = getKey(url, !frameId);
  return cache.pop(key) || prepare(key, url, tabId, frameId, forceContent);
}

function getKey(url, isTop) {
  return isTop ? url : `-${url}`;
}

function togglePreinject(enable) {
  isApplied = enable; // Using onSendHeaders because onHeadersReceived in Firefox fires *after* content scripts.
  // And even in Chrome a site may be so fast that preinject on onHeadersReceived won't be useful.

  const onOff = `${enable ? 'add' : 'remove'}Listener`;
  const config = enable ? API_CONFIG : undefined;
  browser.webRequest.onSendHeaders[onOff](onSendHeaders, config);

  if (!isApplied || !xhrInject) {
    // will be registered in toggleXhrInject
    browser.webRequest.onHeadersReceived[onOff](onHeadersReceived, config);
  }

  cache.destroy();
}

function toggleXhrInject(enable) {
  xhrInject = enable;
  browser.webRequest.onHeadersReceived.removeListener(onHeadersReceived);

  if (enable) {
    browser.webRequest.onHeadersReceived.addListener(onHeadersReceived, API_CONFIG, ['blocking', 'responseHeaders', browser.webRequest.OnHeadersReceivedOptions.EXTRA_HEADERS].filter(Boolean));
  }
}

function onSendHeaders({
  url,
  tabId,
  frameId
}) {
  if (!_Users_ZhaoJun_Desktop_violentmonkey_src_common_consts__WEBPACK_IMPORTED_MODULE_1__["INJECTABLE_TAB_URL_RE"].test(url)) return;
  const isTop = !frameId;
  const key = getKey(url, isTop);

  if (!cache.has(key)) {
    // GetInjected message will be sent soon by the content script
    // and it may easily happen while getScriptsByURL is still waiting for browser.storage
    // so we'll let GetInjected await this pending data by storing Promise in the cache
    cache.put(key, prepare(key, url, tabId, frameId), TIME_AFTER_SEND);
  }
}
/** @param {chrome.webRequest.WebResponseHeadersDetails} info */


function onHeadersReceived(info) {
  const key = getKey(info.url, !info.frameId);
  const data = xhrInject && cache.get(key);
  cache.hit(key, TIME_AFTER_RECEIVE);
  return (data == null ? void 0 : data.inject) && prepareXhrBlob(info, data);
}
/**
 * @param {chrome.webRequest.WebResponseHeadersDetails} info
 * @param {VMGetInjectedDataContainer} data
 */


function prepareXhrBlob({
  url,
  responseHeaders
}, data) {
  if (url.startsWith('https:') && detectStrictCsp(responseHeaders)) {
    forceContentInjection(data);
  }

  const blobUrl = URL.createObjectURL(new Blob([JSON.stringify(data.inject)]));
  responseHeaders.push({
    name: 'Set-Cookie',
    value: `"${"Violentmonkey:XNavUxoUszE="}"=${blobUrl.split('/').pop()}; SameSite=Lax`
  });
  setTimeout(URL.revokeObjectURL, TIME_KEEP_DATA, blobUrl);
  return {
    responseHeaders
  };
}

function prepare(key, url, tabId, frameId, forceContent) {
  /** @namespace VMGetInjectedDataContainer */
  const res = {
    /** @namespace VMGetInjectedData */
    inject: {
      expose: !frameId && url.startsWith('https://') && expose[url.split('/', 3)[2]]
    }
  };
  return isApplied ? prepareScripts(res, key, url, tabId, frameId, forceContent) : res;
}

async function prepareScripts(res, cacheKey, url, tabId, frameId, forceContent) {
  const data = await Object(_db__WEBPACK_IMPORTED_MODULE_6__["getScriptsByURL"])(url, !frameId);
  const {
    envDelayed,
    scripts
  } = data;
  const isLate = forceContent != null;
  data.forceContent = forceContent;
  const feedback = scripts.map(prepareScript, data).filter(Boolean);
  const more = envDelayed.promise;
  const envKey = Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["getUniqId"])(`${tabId}:${frameId}:`);
  const {
    inject
  } = res;
  /** @namespace VMGetInjectedData */

  Object.assign(inject, {
    scripts,
    [INJECT_INTO]: injectInto,
    cache: data.cache,
    feedId: {
      cacheKey,
      // InjectionFeedback cache key for cleanup when getDataFF outruns GetInjected
      envKey // InjectionFeedback cache key for envDelayed

    },
    hasMore: !!more,
    // tells content bridge to expect envDelayed
    forceContent: forceContent || // Trying to skip page sandbox when xhrInject is on:
    feedback.length === scripts.length // ...when all `envStart` scripts are `content`,
    && envDelayed.scripts.every(scr => isContentRealm(scr, forceContent)) // and `envDelayed` too.
    ,
    ids: data.disabledIds,
    // content bridge adds the actually running ids and sends via SetPopup
    info: {
      ua: _Users_ZhaoJun_Desktop_violentmonkey_src_common_ua__WEBPACK_IMPORTED_MODULE_5__["default"]
    }
  });
  /** @namespace VMGetInjectedDataContainer */

  Object.assign(res, {
    feedback,
    valOpIds: [...data[_db__WEBPACK_IMPORTED_MODULE_6__["ENV_VALUE_IDS"]], ...envDelayed[_db__WEBPACK_IMPORTED_MODULE_6__["ENV_VALUE_IDS"]]],
    rcsPromise: !isLate && !xhrInject && IS_FIREFOX ? registerScriptDataFF(inject, url, !!frameId) : null
  });
  if (more) cache.put(envKey, more);
  cache.put(cacheKey, res); // necessary for the synchronous onHeadersReceived

  return res;
}
/** @this {VMScriptByUrlData} */


function prepareScript(script) {
  var _meta$require;

  const {
    custom,
    meta,
    props
  } = script;
  const {
    id
  } = props;
  const {
    forceContent,
    require,
    value
  } = this;
  const code = this.code[id];
  const dataKey = Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["getUniqId"])('VMin');
  const displayName = Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["getScriptName"])(script);
  const name = encodeURIComponent(displayName.replace(/[#&',/:;?@=+]/g, replaceWithFullWidthForm));
  const isContent = isContentRealm(script, forceContent);
  const pathMap = custom.pathMap || {};
  const reqs = (_meta$require = meta.require) == null ? void 0 : _meta$require.map(key => require[pathMap[key] || key]).filter(Boolean); // trying to avoid progressive string concatenation of potentially huge code slices
  // adding `;` on a new line in case some required script ends with a line comment

  const reqsSlices = reqs ? [].concat(...reqs.map(req => [req, '\n;'])) : [];
  const hasReqs = reqsSlices.length;
  const injectedCode = [// hiding module interface from @require'd scripts so they don't mistakenly use it
  `window.${dataKey}=function(${dataKey}){try{with(this)((define,module,exports)=>{`, ...reqsSlices, // adding a nested IIFE to support 'use strict' in the code when there are @requires
  hasReqs ? '(()=>{' : '', code, // adding a new line in case the code ends with a line comment
  code.endsWith('\n') ? '' : '\n', hasReqs ? '})()' : '', // 0 at the end to suppress errors about non-cloneable result of executeScript in FF
  `})()}catch(e){${dataKey}(e)}};0`, // Firefox lists .user.js among our own content scripts so a space at start will group them
  `\n//# sourceURL=${_init__WEBPACK_IMPORTED_MODULE_7__["extensionRoot"]}${IS_FIREFOX ? '%20' : ''}${name}.user.js#${id}`].join('');
  cacheCode.put(dataKey, injectedCode, TIME_KEEP_DATA);
  /** @namespace VMInjectedScript */

  Object.assign(script, {
    dataKey,
    displayName,
    // code will be `true` if the desired realm is PAGE which is not injectable
    code: isContent ? '' : forceContent || injectedCode,
    metaStr: code.match(_Users_ZhaoJun_Desktop_violentmonkey_src_common_consts__WEBPACK_IMPORTED_MODULE_1__["METABLOCK_RE"])[1] || '',
    values: value[id] || null
  });
  return isContent && [dataKey, true];
}

function replaceWithFullWidthForm(s) {
  // fullwidth range starts at 0xFF00, normal range starts at space char code 0x20
  return String.fromCharCode(s.charCodeAt(0) - 0x20 + 0xFF00);
}

const resolveDataCodeStr = `(${function _(data) {
  /* `function` is required to compile `this`, and `this` is required because our safe-globals
   * shadows `window` so its name is minified and hence inaccessible here */
  const {
    vmResolve
  } = this;

  if (vmResolve) {
    vmResolve(data);
  } else {
    // running earlier than the main content script for whatever reason
    this.vmData = data;
  }
}})`; // TODO: rework the whole thing to register scripts individually with real `matches`

function registerScriptDataFF(inject, url, allFrames) {
  var _browser$contentScrip;

  return (_browser$contentScrip = browser.contentScripts) == null ? void 0 : _browser$contentScrip.register({
    allFrames,
    js: [{
      code: `${resolveDataCodeStr}(${JSON.stringify(inject)})`
    }],
    matches: url.split('#', 1),
    runAt: 'document_start'
  });
}
/** @param {chrome.webRequest.HttpHeader[]} responseHeaders */


function detectStrictCsp(responseHeaders) {
  return responseHeaders.some(({
    name,
    value
  }) => /^content-security-policy$/i.test(name) && /^.(?!.*'unsafe-inline')/.test( // true if not empty and without 'unsafe-inline'
  value.match(/(?:^|;)\s*script-src-elem\s[^;]+/) || value.match(/(?:^|;)\s*script-src\s[^;]+/) || value.match(/(?:^|;)\s*default-src\s[^;]+/) || ''));
}
/** @param {VMGetInjectedDataContainer} data */


function forceContentInjection(data) {
  /** @type VMGetInjectedData */
  const inject = data.inject;
  inject.forceContent = true;
  inject.scripts.forEach(scr => {
    // When script wants `page`, the result below will be `true` so the script goes into `failedIds`
    scr.code = !isContentRealm(scr, true) || '';
    data.feedback.push([scr.dataKey, true]);
  });
}

function isContentRealm(scr, forceContent) {
  const realm = scr[INJECT_INTO] || (scr[INJECT_INTO] = normalizeRealm(scr.custom[INJECT_INTO] || scr.meta[INJECT_INTO]));
  return realm === _Users_ZhaoJun_Desktop_violentmonkey_src_common_consts__WEBPACK_IMPORTED_MODULE_1__["INJECT_CONTENT"] || forceContent && realm === _Users_ZhaoJun_Desktop_violentmonkey_src_common_consts__WEBPACK_IMPORTED_MODULE_1__["INJECT_AUTO"];
}

/***/ }),

/***/ "./src/background/utils/requests.js":
/*!******************************************!*\
  !*** ./src/background/utils/requests.js ***!
  \******************************************/
/*! exports provided: clearRequestsByTabId */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "clearRequestsByTabId", function() { return clearRequestsByTabId; });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/extends.js");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./src/common */ "./src/common/index.js");
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./src/common/object */ "./src/common/object.js");
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common_ua__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/common/ua */ "./src/common/ua.js");
/* harmony import */ var _cache__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./cache */ "./src/background/utils/cache.js");
/* harmony import */ var _script__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./script */ "./src/background/utils/script.js");
/* harmony import */ var _init__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./init */ "./src/background/utils/init.js");
/* harmony import */ var _message__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./message */ "./src/background/utils/message.js");
/* harmony import */ var _m3u8__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./m3u8 */ "./src/background/utils/m3u8.js");









const VM_VERIFY = 'VM-Verify';
const CONFIRM_URL_BASE = `${_init__WEBPACK_IMPORTED_MODULE_6__["extensionRoot"]}confirm/index.html#`;
/** @type {Object<string,VMHttpRequest>} */

const requests = {};
const downloads = {};
const verify = {};
const tabRequests = {};
const {
  chrome
} = global;
let encoder;

if (chrome) {
  chrome.downloads.onChanged.addListener(evt => {
    var _evt$state, _evt$state2;

    console.info('downloads onChanged', evt);
    if (!downloads[evt.id]) return;
    const {
      req,
      src
    } = downloads[evt.id];
    const {
      tab: {
        id: tabId
      },
      frameId
    } = src;

    if (((_evt$state = evt.state) == null ? void 0 : _evt$state.current) === 'complete') {
      Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["sendTabCmd"])(tabId, 'HttpRequested', {
        type: 'load',
        id: req.id,
        downloadId: evt.id
      }, {
        frameId
      });
    } else if (((_evt$state2 = evt.state) == null ? void 0 : _evt$state2.current) === 'interrupted') {
      Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["sendTabCmd"])(tabId, 'HttpRequested', {
        type: 'error',
        id: req.id,
        downloadId: evt.id
      }, {
        frameId
      });
    } else {
      return;
    }

    delete downloads[evt.id];
    delete requests[req.id];
  });
}

Object.assign(_message__WEBPACK_IMPORTED_MODULE_7__["commands"], {
  ConfirmInstall: confirmInstall,

  async CheckInstallerTab(tabId, src) {
    const tab = IS_FIREFOX && (src.url || '').startsWith('file:') && (await browser.tabs.get(tabId).catch(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["noop"]));
    return tab && (tab.pendingUrl || tab.url || '').startsWith(CONFIRM_URL_BASE);
  },

  /** @return {void} */
  HttpRequest(opts, src) {
    const {
      tab: {
        id: tabId
      },
      frameId
    } = src;
    const {
      id,
      eventsToNotify
    } = opts;
    console.info('req opts', opts);

    if (opts.type === 'm3u8') {
      const downloadId = id; // a fake one

      opts.onprogress = progress => {
        if (eventsToNotify == null ? void 0 : eventsToNotify.includes('progress')) {
          Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["sendTabCmd"])(tabId, 'HttpRequested', {
            type: 'progress',
            id,
            downloadId,
            progress
          }, {
            frameId
          });
        }
      };

      opts.onload = () => {
        Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["sendTabCmd"])(tabId, 'HttpRequested', {
          type: 'load',
          id,
          downloadId
        }, {
          frameId
        });
      };

      opts.onerror = error => {
        Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["sendTabCmd"])(tabId, 'HttpRequested', {
          type: 'error',
          id,
          downloadId,
          error
        }, {
          frameId
        });
      };

      return Object(_m3u8__WEBPACK_IMPORTED_MODULE_8__["downloadM3u8"])(opts);
    } // if (!opts.headers.Referer && !opts.headers['User-Agent']) {
    //   // console.info(opts);
    //   let headers = [];
    //   if (opts.headers) {
    //     headers = Object.keys(opts.headers).map(name => ({ name, value: opts.headers[name] }));
    //   }
    //   return chrome.downloads.download({
    //     url: opts.url,
    //     headers,
    //     filename: opts.fileName,
    //   }, downloadId => {
    //     requests[id] = { id, downloadId, tabId, eventsToNotify, xhr: null };
    //     downloads[downloadId] = { req: requests[id], opts, src };
    //     if (eventsToNotify?.includes('progress')) {
    //       sendTabCmd(tabId, 'HttpRequested', { type: 'progress', id, downloadId }, { frameId });
    //     }
    //   });
    // }


    requests[id] = {
      id,
      tabId,
      eventsToNotify,
      xhr: new XMLHttpRequest()
    };
    (tabRequests[tabId] || (tabRequests[tabId] = {}))[id] = 1;
    httpRequest(opts, src, res => requests[id] && Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["sendTabCmd"])(tabId, 'HttpRequested', res, {
      frameId
    }));
  },

  /** @return {void} */
  AbortRequest(id) {
    const req = requests[id];

    if (req) {
      // eslint-disable-next-line no-undef
      if (chrome) {
        // eslint-disable-next-line no-undef
        chrome.downloads.cancel(req.id);
        delete requests[req.id];
      } else {
        req.xhr.abort();
        clearRequest(req);
      }
    }
  },

  RevokeBlob(url) {
    const timer = _cache__WEBPACK_IMPORTED_MODULE_4__["default"].pop(`xhrBlob:${url}`);

    if (timer) {
      clearTimeout(timer);
      URL.revokeObjectURL(url);
    }
  }

});
const specialHeaders = ['user-agent', // https://developer.mozilla.org/en-US/docs/Glossary/Forbidden_header_name
// https://cs.chromium.org/?q=file:cc+symbol:IsForbiddenHeader%5Cb
'accept-charset', 'accept-encoding', 'access-control-request-headers', 'access-control-request-method', 'connection', 'content-length', 'cookie', 'cookie2', 'date', 'dnt', 'expect', 'host', 'keep-alive', 'origin', 'referer', 'te', 'trailer', 'transfer-encoding', 'upgrade', 'via']; // const tasks = {};

const HeaderInjector = (() => {
  /** @type chrome.webRequest.RequestFilter */
  const apiFilter = {
    urls: ['<all_urls>'],
    types: ['xmlhttprequest']
  };
  const EXTRA_HEADERS = [browser.webRequest.OnBeforeSendHeadersOptions.EXTRA_HEADERS].filter(Boolean);
  const headersToInject = {};
  /** @param {chrome.webRequest.HttpHeader} header */

  const isVmVerify = header => header.name === VM_VERIFY;

  const isNotCookie = header => !/^cookie2?$/i.test(header.name);

  const isSendable = header => header.name !== VM_VERIFY;

  const isSendableAnon = header => isSendable(header) && isNotCookie(header);

  const RE_SET_COOKIE = /^set-cookie2?$/i;
  const RE_SET_COOKIE_VALUE = /^\s*(?:__(Secure|Host)-)?([^=\s]+)\s*=\s*(")?([!#-+\--:<-[\]-~]*)\3(.*)/;
  const RE_SET_COOKIE_ATTR = /\s*;?\s*(\w+)(?:=(")?([!#-+\--:<-[\]-~]*)\2)?/y;
  const SAME_SITE_MAP = {
    strict: 'strict',
    lax: 'lax',
    none: 'no_restriction'
  };
  /**
   * @param {string} headerValue
   * @param {VMHttpRequest} req
   * @param {string} url
   */

  const setCookieInStore = (headerValue, req, url) => {
    let m = RE_SET_COOKIE_VALUE.exec(headerValue);

    if (m) {
      var _opt$sameSite;

      const [, prefix, name,, value, optStr] = m;
      const opt = {};
      const isHost = prefix === 'Host';
      RE_SET_COOKIE_ATTR.lastIndex = 0;

      while (m = RE_SET_COOKIE_ATTR.exec(optStr)) {
        opt[m[1].toLowerCase()] = m[3];
      }

      const sameSite = (_opt$sameSite = opt.sameSite) == null ? void 0 : _opt$sameSite.toLowerCase();
      browser.cookies.set({
        url,
        name,
        value,
        domain: isHost ? undefined : opt.domain,
        expirationDate: Math.max(0, +new Date(opt['max-age'] * 1000 || opt.expires)) || undefined,
        httpOnly: 'httponly' in opt,
        path: isHost ? '/' : opt.path,
        sameSite: SAME_SITE_MAP[sameSite],
        secure: url.startsWith('https:') && (!!prefix || sameSite === 'none' || 'secure' in opt),
        storeId: req.storeId
      });
    }
  };

  const apiEvents = {
    onBeforeSendHeaders: {
      options: ['requestHeaders', 'blocking', ...EXTRA_HEADERS],

      /** @param {chrome.webRequest.WebRequestHeadersDetails} details */
      listener({
        requestHeaders: headers,
        requestId
      }) {
        var _headers$find;

        // only the first call during a redirect/auth chain will have VM-Verify header
        const reqId = ((_headers$find = headers.find(isVmVerify)) == null ? void 0 : _headers$find.value) || verify[requestId];
        const req = reqId && requests[reqId];

        if (reqId && req) {
          verify[requestId] = reqId;
          req.coreId = requestId;
          headers = (req.noNativeCookie ? headers.filter(isNotCookie) : headers).concat(headersToInject[reqId] || []).filter(req.anonymous ? isSendableAnon : isSendable);
        }

        return {
          requestHeaders: headers
        };
      }

    },
    onHeadersReceived: {
      options: ['responseHeaders', 'blocking', ...EXTRA_HEADERS],

      /** @param {chrome.webRequest.WebRequestHeadersDetails} details */
      listener({
        responseHeaders: headers,
        requestId,
        url
      }) {
        const req = requests[verify[requestId]];

        if (req) {
          if (req.anonymous || req.storeId) {
            headers = headers.filter(h => !RE_SET_COOKIE.test(h.name) || !req.storeId || setCookieInStore(h.value, req, url));
          }

          req.responseHeaders = headers.map(encodeWebRequestHeader).join('');
          return {
            responseHeaders: headers
          };
        }
      }

    }
  }; // Chrome 74-91 needs an extraHeaders listener at tab load start, https://crbug.com/1074282
  // We're attaching a no-op in non-blocking mode so it's very lightweight and fast.

  if (_Users_ZhaoJun_Desktop_violentmonkey_src_common_ua__WEBPACK_IMPORTED_MODULE_3__["default"].chrome >= 74 && _Users_ZhaoJun_Desktop_violentmonkey_src_common_ua__WEBPACK_IMPORTED_MODULE_3__["default"].chrome <= 91) {
    browser.webRequest.onBeforeSendHeaders.addListener(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["noop"], apiFilter, ['extraHeaders']);
  }

  return {
    add(reqId, headers) {
      // need to set the entry even if it's empty [] so that 'if' check in del() runs only once
      headersToInject[reqId] = headers; // need the listener to get the requestId

      safeCall(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_2__["forEachEntry"], apiEvents, ([name, {
        listener,
        options
      }]) => {
        browser.webRequest[name].addListener(listener, apiFilter, options);
      });
    },

    del(reqId) {
      if (reqId in headersToInject) {
        delete headersToInject[reqId];

        if (Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["isEmpty"])(headersToInject)) {
          safeCall(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_2__["forEachEntry"], apiEvents, ([name, {
            listener
          }]) => {
            browser.webRequest[name].removeListener(listener);
          });
        }
      }
    }

  };
})();
/* 1MB takes ~20ms to encode/decode so it doesn't block the process of the extension and web page,
 * which lets us and them be responsive to other events or user input. */


const CHUNK_SIZE = 1e6;

async function blob2chunk(response, index) {
  return Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["blob2base64"])(response, index * CHUNK_SIZE, CHUNK_SIZE);
}

function blob2objectUrl(response) {
  const url = URL.createObjectURL(response);
  _cache__WEBPACK_IMPORTED_MODULE_4__["default"].put(`xhrBlob:${url}`, setTimeout(_message__WEBPACK_IMPORTED_MODULE_7__["commands"].RevokeBlob, 60e3, url), 61e3);
  return url;
}
/** @param {VMHttpRequest} req */


function xhrCallbackWrapper(req) {
  let lastPromise = Promise.resolve();
  let contentType;
  let dataSize;
  let numChunks;
  let response;
  let responseText;
  let responseHeaders;
  let sent = false;
  const {
    id,
    blobbed,
    chunked,
    xhr
  } = req; // Chrome encodes messages to UTF8 so they can grow up to 4x but 64MB is the message size limit

  const getChunk = blobbed && blob2objectUrl || chunked && blob2chunk;

  const getResponseHeaders = () => {
    const headers = req.responseHeaders || xhr.getAllResponseHeaders();

    if (responseHeaders !== headers) {
      responseHeaders = headers;
      return {
        responseHeaders
      };
    }
  };

  return evt => {
    const type = evt.type;

    if (!contentType) {
      contentType = xhr.getResponseHeader('Content-Type') || 'application/octet-stream';
    }

    if (xhr.response !== response) {
      response = xhr.response;
      sent = false;

      try {
        responseText = xhr.responseText;
        if (responseText === response) responseText = ['same'];
      } catch (e) {// ignore if responseText is unreachable
      }

      if ((blobbed || chunked) && response) {
        dataSize = response.size;
        numChunks = chunked && Math.ceil(dataSize / CHUNK_SIZE) || 1;
      }
    }

    const shouldNotify = req.eventsToNotify.includes(type); // only send response when XHR is complete

    const shouldSendResponse = xhr.readyState === 4 && shouldNotify && !sent;
    lastPromise = lastPromise.then(async () => {
      if (shouldSendResponse && blobbed && req.fileName && chrome) {
        sent = true;
        return chrome.downloads.download({
          url: URL.createObjectURL(response),
          filename: req.fileName
        }, downloadId => {
          req.cb({
            blobbed,
            chunked,
            contentType,
            dataSize,
            id,
            type,
            data: {
              finalUrl: xhr.responseURL,
              response: '',
              responseText: downloadId
            }
          });
        });
      }

      await req.cb({
        blobbed,
        chunked,
        contentType,
        dataSize,
        id,
        numChunks,
        type,
        data: shouldNotify && _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
          finalUrl: xhr.responseURL
        }, getResponseHeaders(), {}, Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_2__["objectPick"])(xhr, ['readyState', 'status', 'statusText']), {}, 'loaded' in evt && Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_2__["objectPick"])(evt, ['lengthComputable', 'loaded', 'total']), {
          response: shouldSendResponse ? numChunks && (await getChunk(response, 0)) || response : null,
          responseText: shouldSendResponse ? responseText : null
        })
      });

      if (shouldSendResponse) {
        for (let i = 1; i < numChunks; i += 1) {
          await req.cb({
            id,
            chunk: {
              pos: i * CHUNK_SIZE,
              data: await getChunk(response, i),
              last: i + 1 === numChunks
            }
          });
        }
      }

      if (type === 'loadend') {
        clearRequest(req);
      }
    });
  };
}

function isSpecialHeader(lowerHeader) {
  return specialHeaders.includes(lowerHeader) || lowerHeader.startsWith('proxy-') || lowerHeader.startsWith('sec-');
}
/**
 * @param {Object} opts
 * @param {chrome.runtime.MessageSender | browser.runtime.MessageSender} src
 * @param {function} cb
 */


async function httpRequest(opts, src, cb) {
  const {
    tab
  } = src;
  const {
    incognito
  } = tab;
  const {
    anonymous,
    id,
    overrideMimeType,
    xhrType,
    url
  } = opts;
  const req = requests[id];
  if (!req || req.cb) return;
  req.cb = cb;
  req.fileName = opts.fileName;
  req.anonymous = anonymous;
  const {
    xhr
  } = req;
  const vmHeaders = []; // Firefox can send Blob/ArrayBuffer directly

  const chunked = !IS_FIREFOX && incognito;
  const blobbed = xhrType && !IS_FIREFOX && !incognito;
  const [body, contentType] = decodeBody(opts.data); // Chrome can't fetch Blob URL in incognito so we use chunks

  req.blobbed = blobbed;
  req.chunked = chunked; // Firefox doesn't send cookies, https://github.com/violentmonkey/violentmonkey/issues/606
  // Both Chrome & FF need explicit routing of cookies in containers or incognito

  let shouldSendCookies = !anonymous && (incognito || IS_FIREFOX);
  xhr.open(opts.method || 'GET', url, true, opts.user || '', opts.password || '');
  xhr.setRequestHeader(VM_VERIFY, id);
  if (contentType) xhr.setRequestHeader('Content-Type', contentType);
  safeCall(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_2__["forEachEntry"], opts.headers, ([name, value]) => {
    const lowerName = name.toLowerCase();

    if (isSpecialHeader(lowerName)) {
      vmHeaders.push({
        name,
        value
      });
    } else if (!lowerName.startsWith('vm-')) {
      // `VM-` headers are reserved
      xhr.setRequestHeader(name, value);
    }

    if (lowerName === 'cookie') {
      shouldSendCookies = false;
    }
  });
  xhr.responseType = (chunked || blobbed) && 'blob' || xhrType || 'text';
  xhr.timeout = Math.max(0, Math.min(0x7FFFFFFF, opts.timeout)) || 0;
  if (overrideMimeType) xhr.overrideMimeType(overrideMimeType);

  if (shouldSendCookies) {
    req.noNativeCookie = true;

    for (const store of await browser.cookies.getAllCookieStores()) {
      if (store.tabIds.includes(tab.id)) {
        if (IS_FIREFOX ? store.id !== 'firefox-default' : store.id !== '0') {
          /* Cookie routing. For the main store we rely on the browser.
           * The ids are hard-coded as `stores` may omit the main store if no such tabs are open. */
          req.storeId = store.id;
        }

        break;
      }
    }

    const now = Date.now() / 1000;
    const cookies = (await browser.cookies.getAll(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
      url,
      storeId: req.storeId
    }, _Users_ZhaoJun_Desktop_violentmonkey_src_common_ua__WEBPACK_IMPORTED_MODULE_3__["default"].firefox >= 59 && {
      firstPartyDomain: null
    }))).filter(c => c.session || c.expirationDate > now); // FF reports expired cookies!

    if (cookies.length) {
      vmHeaders.push({
        name: 'cookie',
        value: cookies.map(c => `${c.name}=${c.value};`).join(' ')
      });
    }
  }

  HeaderInjector.add(id, vmHeaders);
  const callback = xhrCallbackWrapper(req);
  req.eventsToNotify.forEach(evt => {
    xhr[`on${evt}`] = callback;
  });
  xhr.onloadend = callback; // always send it for the internal cleanup

  xhr.send(body);
}
/** @param {VMHttpRequest} req */


function clearRequest(req) {
  if (req.coreId) delete verify[req.coreId];
  delete requests[req.id];
  delete (tabRequests[req.tabId] || {})[req.id];
  HeaderInjector.del(req.id);
}
/** Polyfill for Chrome's inability to send complex types over extension messaging */


function decodeBody([body, type, wasBlob]) {
  if (type === 'query') {
    type = 'application/x-www-form-urlencoded';
  } else if (type) {
    // 5x times faster than fetch() which wastes time on inter-process communication
    const res = Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["string2uint8array"])(atob(body.slice(body.indexOf(',') + 1)));

    if (!wasBlob) {
      type = body.match(/^data:(.+?);base64/)[1].replace(/(boundary=)[^;]+/, // using a function so it runs only if "boundary" was found
      (_, p1) => p1 + String.fromCharCode(...res.slice(2, res.indexOf(13))));
    }

    body = res;
  }

  return [body, type];
} // Watch URL redirects
// browser.webRequest.onBeforeRedirect.addListener(details => {
//   const reqId = verify[details.requestId];
//   if (reqId) {
//     const req = requests[reqId];
//     if (req) req.finalUrl = details.redirectUrl;
//   }
// }, {
//   urls: ['<all_urls>'],
//   types: ['xmlhttprequest'],
// });
// tasks are not necessary now, turned off
// Stop redirects
// browser.webRequest.onHeadersReceived.addListener(details => {
//   const task = tasks[details.requestId];
//   if (task) {
//     delete tasks[details.requestId];
//     if (task === 'Get-Location' && [301, 302, 303].includes(details.statusCode)) {
//       const locationHeader = details.responseHeaders.find(
//         header => header.name.toLowerCase() === 'location');
//       const base64 = locationHeader && locationHeader.value;
//       return {
//         redirectUrl: `data:text/plain;charset=utf-8,${base64 || ''}`,
//       };
//     }
//   }
// }, {
//   urls: ['<all_urls>'],
//   types: ['xmlhttprequest'],
// }, ['blocking', 'responseHeaders']);
// browser.webRequest.onCompleted.addListener(details => {
//   delete tasks[details.requestId];
// }, {
//   urls: ['<all_urls>'],
//   types: ['xmlhttprequest'],
// });
// browser.webRequest.onErrorOccurred.addListener(details => {
//   delete tasks[details.requestId];
// }, {
//   urls: ['<all_urls>'],
//   types: ['xmlhttprequest'],
// });


async function confirmInstall({
  code,
  from,
  url
}, {
  tab = {}
}) {
  if (!code) code = (await Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["request"])(url)).data; // TODO: display the error in UI

  if (!Object(_script__WEBPACK_IMPORTED_MODULE_5__["isUserScript"])(code)) throw Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["i18n"])('msgInvalidScript');
  _cache__WEBPACK_IMPORTED_MODULE_4__["default"].put(url, code, 3000);
  const confirmKey = Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["getUniqId"])();
  const {
    active,
    id: tabId,
    incognito
  } = tab; // Not testing tab.pendingUrl because it will be always equal to `url`

  const canReplaceCurTab = (!incognito || IS_FIREFOX) && (url === from || _cache__WEBPACK_IMPORTED_MODULE_4__["default"].has(`autoclose:${tabId}`) || /^(chrome:\/\/(newtab|startpage)\/|about:(home|newtab))$/.test(from));
  /** @namespace VMConfirmCache */

  _cache__WEBPACK_IMPORTED_MODULE_4__["default"].put(`confirm-${confirmKey}`, {
    incognito,
    url,
    from,
    tabId,
    ff: _Users_ZhaoJun_Desktop_violentmonkey_src_common_ua__WEBPACK_IMPORTED_MODULE_3__["default"].firefox
  });
  const confirmUrl = CONFIRM_URL_BASE + confirmKey;
  const {
    windowId
  } = canReplaceCurTab ? await browser.tabs.update(tabId, {
    url: confirmUrl
  }) : await _message__WEBPACK_IMPORTED_MODULE_7__["commands"].TabOpen({
    url: confirmUrl,
    active: !!active
  }, {
    tab
  });

  if (active && windowId !== tab.windowId) {
    await browser.windows.update(windowId, {
      focused: true
    });
  }
}

const whitelistRe = new RegExp(`^https://(${['greasyfork\\.org/scripts/%/code/', 'openuserjs\\.org/install/%/', 'github\\.com/%/%/raw/%/', 'github\\.com/%/%/releases/%/download/', 'raw\\.githubusercontent\\.com(/%){3}/', 'gist\\.github\\.com/.*?/'].join('|')})%?\\.user\\.js([?#]|$)`.replace(/%/g, '[^/]*'));
const blacklistRe = new RegExp(`^https://(${['(gist\\.)?github\\.com', 'greasyfork\\.org', 'openuserjs\\.org'].join('|')})/`);

const resolveVirtualUrl = url => `${_init__WEBPACK_IMPORTED_MODULE_6__["extensionRoot"]}options/index.html#scripts/${+url.split('#')[1]}`; // FF can't intercept virtual .user.js URL via webRequest, so we redirect it explicitly


const virtualUrlRe = IS_FIREFOX && new RegExp(`^(view-source:)?(${_init__WEBPACK_IMPORTED_MODULE_6__["extensionRoot"].replace('://', '$&)?')}[^/]*\\.user\\.js#\\d+`);

const maybeRedirectVirtualUrlFF = virtualUrlRe && ((tabId, src) => {
  if (virtualUrlRe.test(src)) {
    browser.tabs.update(tabId, {
      url: resolveVirtualUrl(src)
    });
  }
});

if (virtualUrlRe) {
  const listener = (tabId, {
    url
  }) => url && maybeRedirectVirtualUrlFF(tabId, url);

  const apiEvent = browser.tabs.onUpdated;
  const addListener = apiEvent.addListener.bind(apiEvent, listener);

  try {
    addListener({
      properties: ['url']
    });
  } catch (e) {
    addListener();
  }
}

browser.tabs.onCreated.addListener(tab => {
  const {
    id,
    title,
    url
  } = tab;
  /* Determining if this tab can be auto-closed (replaced, actually).
     FF>=68 allows reading file: URL only in the tab's content script so the tab must stay open. */

  if ((!url.startsWith('file:') || _Users_ZhaoJun_Desktop_violentmonkey_src_common_ua__WEBPACK_IMPORTED_MODULE_3__["default"].firefox < 68) && /\.user\.js([?#]|$)/.test(tab.pendingUrl || url)) {
    _cache__WEBPACK_IMPORTED_MODULE_4__["default"].put(`autoclose:${id}`, true, 10e3);
  }

  if (virtualUrlRe && url === 'about:blank') {
    maybeRedirectVirtualUrlFF(id, title);
  }
});
browser.webRequest.onBeforeRequest.addListener(req => {
  const {
    method,
    tabId,
    url
  } = req;

  if (method !== 'GET') {
    return;
  } // open a real URL for simplified userscript URL listed in devtools of the web page


  if (url.startsWith(_init__WEBPACK_IMPORTED_MODULE_6__["extensionRoot"])) {
    return {
      redirectUrl: resolveVirtualUrl(url)
    };
  }

  if (!_cache__WEBPACK_IMPORTED_MODULE_4__["default"].has(`bypass:${url}`) && (!blacklistRe.test(url) || whitelistRe.test(url))) {
    maybeInstallUserJs(tabId, url);
    return {
      redirectUrl: 'javascript:void 0'
    }; // eslint-disable-line no-script-url
  }
}, {
  urls: [// 1. *:// comprises only http/https
  // 2. the API ignores #hash part
  // 3. Firefox: onBeforeRequest does not work with file:// or moz-extension://
  '*://*/*.user.js', '*://*/*.user.js?*', 'file://*/*.user.js', 'file://*/*.user.js?*', `${_init__WEBPACK_IMPORTED_MODULE_6__["extensionRoot"]}*.user.js`],
  types: ['main_frame']
}, ['blocking']);

async function maybeInstallUserJs(tabId, url) {
  const {
    data: code
  } = (await Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["request"])(url).catch(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["noop"])) || {};

  if (code && Object(_script__WEBPACK_IMPORTED_MODULE_5__["parseMeta"])(code).name) {
    const tab = tabId >= 0 && (await browser.tabs.get(tabId)) || {};
    confirmInstall({
      code,
      url,
      from: tab.url
    }, {
      tab
    });
  } else {
    _cache__WEBPACK_IMPORTED_MODULE_4__["default"].put(`bypass:${url}`, true, 10e3);
    if (tabId >= 0) browser.tabs.update(tabId, {
      url
    });
  }
} // In Firefox with production code of Violentmonkey, scripts can be injected before `tabs.onUpdated` is fired.
// Ref: https://github.com/violentmonkey/violentmonkey/issues/1255


browser.tabs.onRemoved.addListener(tabId => {
  clearRequestsByTabId(tabId);
});
function clearRequestsByTabId(tabId) {
  const set = tabRequests[tabId];

  if (set) {
    delete tabRequests[tabId];
    safeCall(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_2__["forEachEntry"], set, ([id]) => _message__WEBPACK_IMPORTED_MODULE_7__["commands"].AbortRequest(id));
  }
}
/**
 * Imitating https://developer.mozilla.org/docs/Web/API/XMLHttpRequest/getAllResponseHeaders
 * Per the specification https://tools.ietf.org/html/rfc7230 the header name is within ASCII,
 * but we'll try encoding it, if necessary, to handle invalid server responses.
 */

function encodeWebRequestHeader({
  name,
  value,
  binaryValue
}) {
  return `${string2byteString(name)}: ${binaryValue ? Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["buffer2string"])(binaryValue) : string2byteString(value)}\r\n`;
}
/**
 * Returns a UTF8-encoded binary string i.e. one byte per character.
 * Returns the original string in case it was already within ASCII.
 */


function string2byteString(str) {
  if (!/[\u0080-\uFFFF]/.test(str)) return str;
  if (!encoder) encoder = new TextEncoder();
  return Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["buffer2string"])(encoder.encode(str));
}
/** @typedef {{
  anonymous: boolean
  blobbed: boolean
  cb: function(Object)
  chunked: boolean
  coreId: number
  eventsToNotify: string[]
  id: number
  noNativeCookie: boolean
  responseHeaders: string
  storeId: string
  tabId: number
  xhr: XMLHttpRequest
}} VMHttpRequest */

/***/ }),

/***/ "./src/background/utils/script.js":
/*!****************************************!*\
  !*** ./src/background/utils/script.js ***!
  \****************************************/
/*! exports provided: isUserScript, parseMeta, getDefaultCustom, newScript, getNameURI */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isUserScript", function() { return isUserScript; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "parseMeta", function() { return parseMeta; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getDefaultCustom", function() { return getDefaultCustom; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "newScript", function() { return newScript; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getNameURI", function() { return getNameURI; });
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/extends.js");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./src/common */ "./src/common/index.js");
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common_consts__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./src/common/consts */ "./src/common/consts.js");
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/common/object */ "./src/common/object.js");
/* harmony import */ var _message__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./message */ "./src/background/utils/message.js");
/* harmony import */ var _options__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./options */ "./src/background/utils/options.js");
/* harmony import */ var _cache__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./cache */ "./src/background/utils/cache.js");







Object.assign(_message__WEBPACK_IMPORTED_MODULE_4__["commands"], {
  /** @return {string} */
  CacheNewScript(data) {
    const id = Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["getUniqId"])();
    _cache__WEBPACK_IMPORTED_MODULE_6__["default"].put(`new-${id}`, newScript(data));
    return id;
  },

  /** @return {VMScript} */
  NewScript(id) {
    return id && _cache__WEBPACK_IMPORTED_MODULE_6__["default"].get(`new-${id}`) || newScript();
  },

  ParseMeta: parseMeta
});
function isUserScript(text) {
  if (/^\s*</.test(text)) return false; // HTML

  if (text.indexOf('// ==UserScript==') < 0) return false; // Lack of meta block

  return true;
}
const arrayType = {
  default: () => [],
  transform: (res, val) => {
    res.push(val);
    return res;
  }
};
const defaultType = {
  default: () => null,
  transform: (res, val) => res == null ? val : res
};
const metaTypes = {
  include: arrayType,
  exclude: arrayType,
  match: arrayType,
  excludeMatch: arrayType,
  require: arrayType,
  resource: {
    default: () => ({}),
    transform: (res, val) => {
      const pair = val.match(/^(\w\S*)\s+(.*)/);
      if (pair) res[pair[1]] = pair[2];
      return res;
    }
  },
  grant: arrayType,
  noframes: {
    default: () => false,
    transform: () => true
  }
};
const metaOptionalTypes = {
  antifeature: arrayType,
  compatible: arrayType,
  connect: arrayType
};
function parseMeta(code) {
  // initialize meta
  const meta = safeCall(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_3__["mapEntry"], metaTypes, ([, value]) => value.default());
  const metaBody = code.match(_Users_ZhaoJun_Desktop_violentmonkey_src_common_consts__WEBPACK_IMPORTED_MODULE_2__["METABLOCK_RE"])[1] || '';
  metaBody.replace(/(?:^|\n)\s*\/\/\x20(@\S+)(.*)/g, (_match, rawKey, rawValue) => {
    const [keyName, locale] = rawKey.slice(1).split(':');
    const camelKey = keyName.replace(/[-_](\w)/g, (m, g) => g.toUpperCase());
    const key = locale ? `${camelKey}:${locale.toLowerCase()}` : camelKey;
    const val = rawValue.trim();
    const metaType = metaTypes[key] || metaOptionalTypes[key] || defaultType;
    let oldValue = meta[key];
    if (typeof oldValue === 'undefined') oldValue = metaType.default();
    meta[key] = metaType.transform(oldValue, val);
  });
  meta.resources = meta.resource;
  delete meta.resource; // @homepageURL: compatible with @homepage

  if (!meta.homepageURL && meta.homepage) meta.homepageURL = meta.homepage;
  return meta;
}
function getDefaultCustom() {
  return {
    origInclude: true,
    origExclude: true,
    origMatch: true,
    origExcludeMatch: true
  };
}
function newScript(data) {
  const state = _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
    url: '*://*/*',
    name: '',
    date: new Date().toLocaleString()
  }, data);

  const code = Object(_options__WEBPACK_IMPORTED_MODULE_5__["getOption"])('scriptTemplate').replace(/{{(\w+)}}/g, (str, name) => {
    const value = state[name];
    return value == null ? str : value;
  });
  const script = {
    custom: getDefaultCustom(),
    config: {
      enabled: 1,
      shouldUpdate: 1
    },
    meta: parseMeta(code),
    props: {}
  };
  return {
    script,
    code
  };
}
function getNameURI(script) {
  const ns = script.meta.namespace || '';
  const name = script.meta.name || '';
  let nameURI = Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["encodeFilename"])(`${ns}\n${name}\n`);
  if (!ns && !name) nameURI += script.props.id || '';
  return nameURI;
}

/***/ }),

/***/ "./src/background/utils/search.js":
/*!****************************************!*\
  !*** ./src/background/utils/search.js ***!
  \****************************************/
/*! exports provided: loadQuery, dumpQuery */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "loadQuery", function() { return loadQuery; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "dumpQuery", function() { return dumpQuery; });
function loadQuery(string) {
  return string.split('&').reduce((data, piece) => {
    const [key, val] = piece.split('=').map(decodeURIComponent);
    data[key] = val;
    return data;
  }, {});
}
function dumpQuery(dict) {
  return Object.entries(dict).map(keyVal => keyVal.map(encodeURIComponent).join('=')).join('&');
}

/***/ }),

/***/ "./src/background/utils/storage-fetch.js":
/*!***********************************************!*\
  !*** ./src/background/utils/storage-fetch.js ***!
  \***********************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/extends.js");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./src/common */ "./src/common/index.js");
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./src/common/storage */ "./src/common/storage.js");



/** @type { function(url, options, check): Promise<void> } or throws on error */

_Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_2__["default"].cache.fetch = cacheOrFetch({
  init(options) {
    return _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, options, {
      responseType: 'blob'
    });
  },

  async transform(response, url, options, check) {
    const [type, body] = await _Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_2__["default"].cache.makeRaw(response, true);
    await (check == null ? void 0 : check(url, response.data, type));
    return `${type},${body}`;
  }

});
/** @type { function(url, options): Promise<void> } or throws on error */

_Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_2__["default"].require.fetch = cacheOrFetch({
  transform: ({
    data
  }, url) => /^\s*</.test(data) ? Promise.reject(`NOT_JS: ${url} "${data.slice(0, 100).trim().replace(/\s{2,}/g, ' ')}"`) : data
});

function cacheOrFetch(handlers = {}) {
  const requests = {};
  const {
    init,
    transform
  } = handlers;
  /** @this VMStorageBase */

  return function cacheOrFetchHandler(...args) {
    const [url] = args;
    const promise = requests[url] || (requests[url] = safeCall(doFetch, this, ...args));
    return promise;
  };
  /** @this VMStorageBase */

  async function doFetch(...args) {
    const [url, options] = args;

    try {
      const res = await Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["request"])(url, (init == null ? void 0 : init(options)) || options);

      if (await isModified(res, url)) {
        const result = transform ? await transform(res, ...args) : res.data;
        await this.set(url, result);
      }
    } catch (err) {
      if (false) {}
      throw err;
    } finally {
      delete requests[url];
    }
  }
}

async function isModified({
  headers
}, url) {
  const mod = headers.get('etag') || +new Date(headers.get('last-modified')) || +new Date(headers.get('date'));

  if (!mod || mod !== (await _Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_2__["default"].mod.getOne(url))) {
    if (mod) await _Users_ZhaoJun_Desktop_violentmonkey_src_common_storage__WEBPACK_IMPORTED_MODULE_2__["default"].mod.set(url, mod);
    return true;
  }
}

/***/ }),

/***/ "./src/background/utils/tabs.js":
/*!**************************************!*\
  !*** ./src/background/utils/tabs.js ***!
  \**************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/extends.js");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./src/common */ "./src/common/index.js");
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./src/common/object */ "./src/common/object.js");
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common_ua__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/common/ua */ "./src/common/ua.js");
/* harmony import */ var _init__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./init */ "./src/background/utils/init.js");
/* harmony import */ var _message__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./message */ "./src/background/utils/message.js");
/* harmony import */ var _options__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./options */ "./src/background/utils/options.js");







const openers = {};
Object.assign(_message__WEBPACK_IMPORTED_MODULE_5__["commands"], {
  /**
   * @param {string} [pathId] - path or id to add to #scripts route in dashboard,
     if absent a new script will be created for active tab's URL
   * @returns {Promise<{id: number}>}
   */
  async OpenEditor(pathId) {
    if (!pathId) {
      const {
        tab,
        domain
      } = await _message__WEBPACK_IMPORTED_MODULE_5__["commands"].GetTabDomain();
      const id = domain && _message__WEBPACK_IMPORTED_MODULE_5__["commands"].CacheNewScript({
        url: (tab.pendingUrl || tab.url).split(/[#?]/)[0],
        name: `${Object(_options__WEBPACK_IMPORTED_MODULE_6__["getOption"])('scriptTemplateEdited') ? '' : '- '}${domain}`
      });
      pathId = `_new${id ? `/${id}` : ''}`;
    }

    const url = `${_init__WEBPACK_IMPORTED_MODULE_4__["extensionRoot"]}options/index.html#scripts/${pathId}`; // Firefox until v56 doesn't support moz-extension:// pattern in browser.tabs.query()

    for (const view of browser.extension.getViews()) {
      if (view.location.href === url) {
        // deep-copying to avoid dead objects
        const tab = Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_2__["deepCopy"])((await view.browser.tabs.getCurrent()));
        browser.tabs.update(tab.id, {
          active: true
        });
        browser.windows.update(tab.windowId, {
          focused: true
        });
        return tab;
      }
    }

    return _message__WEBPACK_IMPORTED_MODULE_5__["commands"].TabOpen({
      url,
      maybeInWindow: true
    });
  },

  /** @return {Promise<{ id: number } | chrome.tabs.Tab>} new tab is returned for internal calls */
  async TabOpen({
    url,
    active = true,
    container,
    insert = true,
    maybeInWindow = false,
    pinned
  }, src = {}) {
    // src.tab may be absent when invoked from popup (e.g. edit/create buttons)
    const srcTab = src.tab || (await Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["getActiveTab"])()) || {}; // src.url may be absent when invoked directly as commands.TabOpen

    const srcUrl = src.url;
    const isInternal = !srcUrl || srcUrl.startsWith(_init__WEBPACK_IMPORTED_MODULE_4__["extensionRoot"]); // only incognito storeId may be specified when opening in an incognito window

    const {
      incognito,
      windowId
    } = srcTab; // Chrome can't open chrome-xxx: URLs in incognito windows

    let storeId = srcTab.cookieStoreId;

    if (storeId && !incognito) {
      storeId = getContainerId(isInternal ? 0 : container) || storeId;
    }

    if (storeId) storeId = {
      cookieStoreId: storeId
    }; // URL needs to be expanded for `canOpenIncognito` below

    if (!/^[-\w]+:/.test(url)) {
      url = isInternal ? browser.runtime.getURL(url) : Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["getFullUrl"])(url, srcUrl);
    }

    const canOpenIncognito = !incognito || IS_FIREFOX || !/^(chrome[-\w]*):/.test(url);
    let newTab;

    if (maybeInWindow && browser.windows && Object(_options__WEBPACK_IMPORTED_MODULE_6__["getOption"])('editorWindow')
    /* cookieStoreId in windows.create() is supported since FF64 https://bugzil.la/1393570
     * and a workaround is too convoluted to add it for such an ancient version */
    && (!storeId || _Users_ZhaoJun_Desktop_violentmonkey_src_common_ua__WEBPACK_IMPORTED_MODULE_3__["default"].firefox >= 64)) {
      const wndOpts = _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
        url,
        incognito: canOpenIncognito && incognito
      }, Object(_options__WEBPACK_IMPORTED_MODULE_6__["getOption"])('editorWindowSimple') && {
        type: 'popup'
      }, {}, !IS_FIREFOX && {
        focused: !!active
      }, {}, storeId);

      const pos = Object(_options__WEBPACK_IMPORTED_MODULE_6__["getOption"])('editorWindowPos');
      const hasPos = pos && 'top' in pos;
      const wnd = (await browser.windows.create(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, wndOpts, {}, pos)).catch(hasPos && _Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["noop"])) || hasPos && (await browser.windows.create(wndOpts));
      newTab = wnd.tabs[0];
    }

    if (!newTab) {
      newTab = await browser.tabs.create(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
        url,
        // normalizing as boolean because the API requires strict types
        active: !!active,
        pinned: !!pinned
      }, storeId, {}, canOpenIncognito && _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({
        windowId
      }, insert && {
        index: srcTab.index + 1
      }, {}, _Users_ZhaoJun_Desktop_violentmonkey_src_common_ua__WEBPACK_IMPORTED_MODULE_3__["default"].openerTabIdSupported && {
        openerTabId: srcTab.id
      })));
    }

    const {
      id
    } = newTab;

    if (active && newTab.windowId !== windowId) {
      await browser.windows.update(newTab.windowId, {
        focused: true
      });
    }

    openers[id] = srcTab.id;
    return isInternal ? newTab : {
      id
    };
  },

  /** @return {void} */
  TabClose({
    id
  } = {}, src) {
    var _src$tab;

    const tabId = id || (src == null ? void 0 : (_src$tab = src.tab) == null ? void 0 : _src$tab.id);
    if (tabId >= 0) browser.tabs.remove(tabId);
  },

  TabFocus(_, src) {
    browser.tabs.update(src.tab.id, {
      active: true
    }).catch(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["noop"]);
    browser.windows.update(src.tab.windowId, {
      focused: true
    }).catch(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["noop"]);
  }

}); // Firefox Android does not support `openerTabId` field, it fails if this field is passed
// XXX openerTabId seems buggy on Chrome, https://crbug.com/967150
// It seems to do nothing even set successfully with `browser.tabs.update`.

_Users_ZhaoJun_Desktop_violentmonkey_src_common_ua__WEBPACK_IMPORTED_MODULE_3__["default"].ready.then(() => {
  Object.defineProperties(_Users_ZhaoJun_Desktop_violentmonkey_src_common_ua__WEBPACK_IMPORTED_MODULE_3__["default"], {
    openerTabIdSupported: {
      value: !IS_FIREFOX || _Users_ZhaoJun_Desktop_violentmonkey_src_common_ua__WEBPACK_IMPORTED_MODULE_3__["default"].firefox >= 57 && _Users_ZhaoJun_Desktop_violentmonkey_src_common_ua__WEBPACK_IMPORTED_MODULE_3__["default"].os !== 'android'
    }
  });
});
browser.tabs.onRemoved.addListener(id => {
  const openerId = openers[id];

  if (openerId >= 0) {
    Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_1__["sendTabCmd"])(openerId, 'TabClosed', id);
    delete openers[id];
  }
});

function getContainerId(index) {
  return index === 0 && 'firefox-default' || index > 0 && `firefox-container-${index}`;
}

/***/ }),

/***/ "./src/background/utils/template-hook.js":
/*!***********************************************!*\
  !*** ./src/background/utils/template-hook.js ***!
  \***********************************************/
/*! exports provided: SCRIPT_TEMPLATE, resetScriptTemplate */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SCRIPT_TEMPLATE", function() { return SCRIPT_TEMPLATE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "resetScriptTemplate", function() { return resetScriptTemplate; });
/* harmony import */ var _init__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./init */ "./src/background/utils/init.js");
/* harmony import */ var _options__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./options */ "./src/background/utils/options.js");


const SCRIPT_TEMPLATE = 'scriptTemplate';
const SCRIPT_TEMPLATE_EDITED = `${SCRIPT_TEMPLATE}Edited`;
const INITIAL_TEMPLATE = `\
// ==UserScript==
// @name New Script
// @namespace Violentmonkey Scripts
// @match {{url}}
// @grant none
// ==/UserScript==
`;
_init__WEBPACK_IMPORTED_MODULE_0__["postInitialize"].push(() => {
  let edited = Object(_options__WEBPACK_IMPORTED_MODULE_1__["getOption"])(SCRIPT_TEMPLATE_EDITED); // Preserve an edited template

  if (edited) return;
  const template = Object(_options__WEBPACK_IMPORTED_MODULE_1__["getOption"])(SCRIPT_TEMPLATE); // When updating from an old version, set the edited flag retroactively

  if (edited == null) {
    edited = template !== INITIAL_TEMPLATE;
    if (edited) Object(_options__WEBPACK_IMPORTED_MODULE_1__["setOption"])(SCRIPT_TEMPLATE_EDITED, true);else resetScriptTemplate(); // When updating VM, update to the new default template
  } else if (template !== Object(_options__WEBPACK_IMPORTED_MODULE_1__["getDefaultOption"])(SCRIPT_TEMPLATE)) {
    resetScriptTemplate();
  }
});
function resetScriptTemplate(changes = {}) {
  const defaultTemplate = Object(_options__WEBPACK_IMPORTED_MODULE_1__["getDefaultOption"])(SCRIPT_TEMPLATE);
  let template = changes[SCRIPT_TEMPLATE];

  if (!template) {
    template = defaultTemplate;
    changes[SCRIPT_TEMPLATE] = template;
    Object(_options__WEBPACK_IMPORTED_MODULE_1__["setOption"])(SCRIPT_TEMPLATE, template);
  }

  const edited = template !== defaultTemplate;

  if (edited !== changes[SCRIPT_TEMPLATE_EDITED]) {
    changes[SCRIPT_TEMPLATE_EDITED] = edited;
    Object(_options__WEBPACK_IMPORTED_MODULE_1__["setOption"])(SCRIPT_TEMPLATE_EDITED, edited);
  }
}

/***/ }),

/***/ "./src/background/utils/tester.js":
/*!****************************************!*\
  !*** ./src/background/utils/tester.js ***!
  \****************************************/
/*! exports provided: testGlob, testMatch, testScript, testBlacklist, resetBlacklist */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "testGlob", function() { return testGlob; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "testMatch", function() { return testMatch; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "testScript", function() { return testScript; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "testBlacklist", function() { return testBlacklist; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "resetBlacklist", function() { return resetBlacklist; });
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common_tld__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./src/common/tld */ "./src/common/tld.js");
/* harmony import */ var _cache__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./cache */ "./src/background/utils/cache.js");
/* harmony import */ var _init__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./init */ "./src/background/utils/init.js");
/* harmony import */ var _message__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./message */ "./src/background/utils/message.js");
/* harmony import */ var _options__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./options */ "./src/background/utils/options.js");





Object.assign(_message__WEBPACK_IMPORTED_MODULE_3__["commands"], {
  TestBlacklist: testBlacklist
});
_init__WEBPACK_IMPORTED_MODULE_2__["postInitialize"].push(resetBlacklist);
_Users_ZhaoJun_Desktop_violentmonkey_src_common_tld__WEBPACK_IMPORTED_MODULE_0__["initTLD"](true);
const RE_MATCH_PARTS = /(.*?):\/\/([^/]*)\/(.*)/;
let blacklistRules = [];
Object(_options__WEBPACK_IMPORTED_MODULE_4__["hookOptions"])(changes => {
  if ('blacklist' in changes) resetBlacklist(changes.blacklist || '');
});
const RE_HTTP_OR_HTTPS = /^https?$/i;
/*
 Simple FIFO queue for the results of testBlacklist, cached separately from the main |cache|
 because the blacklist is updated only once in a while so its entries would be crowding
 the main cache and reducing its performance (objects with lots of keys are slow to access).

 We also don't need to auto-expire the entries after a timeout.
 The only limit we're concerned with is the overall memory used.
 The limit is specified in the amount of unicode characters (string length) for simplicity.
 Disregarding deduplication due to interning, the actual memory used is approximately twice as big:
 2 * keyLength + objectStructureOverhead * objectCount
*/

const MAX_BL_CACHE_LENGTH = 100e3;
let blCache = {};
let blCacheSize = 0;

function testRules(url, rules, prefix, ruleBuilder) {
  return rules.some(rule => {
    const key = `${prefix}:${rule}`;
    const matcher = _cache__WEBPACK_IMPORTED_MODULE_1__["default"].get(key) || _cache__WEBPACK_IMPORTED_MODULE_1__["default"].put(key, ruleBuilder(rule));
    return matcher.test(url);
  });
}
/**
 * Test glob rules like `@include` and `@exclude`.
 */


function testGlob(url, rules) {
  return testRules(url, rules, 're', autoReg);
}
/**
 * Test match rules like `@match` and `@exclude_match`.
 */

function testMatch(url, rules) {
  return testRules(url, rules, 'match', matchTester);
}
function testScript(url, script) {
  _cache__WEBPACK_IMPORTED_MODULE_1__["default"].batch(true);
  const {
    custom,
    meta
  } = script;
  const mat = mergeLists(custom.origMatch && meta.match, custom.match);
  const inc = mergeLists(custom.origInclude && meta.include, custom.include);
  const exc = mergeLists(custom.origExclude && meta.exclude, custom.exclude);
  const excMat = mergeLists(custom.origExcludeMatch && meta.excludeMatch, custom.excludeMatch); // match all if no @match or @include rule

  let ok = !mat.length && !inc.length; // @match

  ok = ok || testMatch(url, mat); // @include

  ok = ok || testGlob(url, inc); // @exclude-match

  ok = ok && !testMatch(url, excMat); // @exclude

  ok = ok && !testGlob(url, exc);
  _cache__WEBPACK_IMPORTED_MODULE_1__["default"].batch(false);
  return ok;
}

function mergeLists(...args) {
  return args.reduce((res, item) => item ? res.concat(item) : res, []);
}

function str2RE(str) {
  const re = str.replace(/([.?+[\]{}()|^$])/g, '\\$1').replace(/\*/g, '.*?');
  return re;
}

function bindRE(re) {
  return re.test.bind(re);
}

function autoReg(str) {
  // regexp mode: case-insensitive per GM documentation
  if (str.length > 1 && str[0] === '/' && str[str.length - 1] === '/') {
    let re;

    try {
      re = new RegExp(str.slice(1, -1), 'i');
    } catch (e) {
      /* ignore */
    }

    return {
      test: re ? bindRE(re) : () => false
    };
  } // glob mode: case-insensitive to match GM4 & Tampermonkey bugged behavior


  const reStr = str2RE(str.toLowerCase());

  if (_Users_ZhaoJun_Desktop_violentmonkey_src_common_tld__WEBPACK_IMPORTED_MODULE_0__["isReady"]() && str.includes('.tld/')) {
    const reTldStr = reStr.replace('\\.tld/', '((?:\\.[-\\w]+)+)/');
    return {
      test: tstr => {
        const matches = tstr.toLowerCase().match(reTldStr);

        if (matches) {
          const suffix = matches[1].slice(1);
          if (_Users_ZhaoJun_Desktop_violentmonkey_src_common_tld__WEBPACK_IMPORTED_MODULE_0__["getPublicSuffix"](suffix) === suffix) return true;
        }

        return false;
      }
    };
  }

  const re = new RegExp(`^${reStr}$`, 'i'); // String with wildcards

  return {
    test: bindRE(re)
  };
}

function matchScheme(rule, data) {
  // exact match
  if (rule === data) return 1; // * = http | https
  // support http*

  if (['*', 'http*'].includes(rule) && RE_HTTP_OR_HTTPS.test(data)) return 1;
  return 0;
}

const RE_STR_ANY = '(?:|.*?\\.)';
const RE_STR_TLD = '((?:\\.[-\\w]+)+)';

function hostMatcher(rule) {
  // * matches all
  if (rule === '*') {
    return () => 1;
  } // *.example.com
  // www.google.*
  // www.google.tld


  const ruleLC = rule.toLowerCase(); // host matching is case-insensitive

  let prefix = '';
  let base = ruleLC;
  let suffix = '';

  if (rule.startsWith('*.')) {
    base = base.slice(2);
    prefix = RE_STR_ANY;
  }

  if (_Users_ZhaoJun_Desktop_violentmonkey_src_common_tld__WEBPACK_IMPORTED_MODULE_0__["isReady"]() && rule.endsWith('.tld')) {
    base = base.slice(0, -4);
    suffix = RE_STR_TLD;
  }

  const re = new RegExp(`^${prefix}${str2RE(base)}${suffix}$`);
  return data => {
    // exact match, case-insensitive
    data = data.toLowerCase();
    if (ruleLC === data) return 1; // full check

    const matches = data.match(re);

    if (matches) {
      const [, tldStr] = matches;
      if (!tldStr) return 1;
      const tldSuffix = tldStr.slice(1);
      return _Users_ZhaoJun_Desktop_violentmonkey_src_common_tld__WEBPACK_IMPORTED_MODULE_0__["getPublicSuffix"](tldSuffix) === tldSuffix;
    }

    return 0;
  };
}

function pathMatcher(rule) {
  const iHash = rule.indexOf('#');
  let iQuery = rule.indexOf('?');
  let strRe = str2RE(rule);
  if (iQuery > iHash) iQuery = -1;

  if (iHash < 0) {
    if (iQuery < 0) strRe = `^${strRe}(?:[?#]|$)`;else strRe = `^${strRe}(?:#|$)`;
  }

  return bindRE(new RegExp(strRe));
}

function matchTester(rule) {
  let test;

  if (rule === '<all_urls>') {
    test = () => true;
  } else {
    const ruleParts = rule.match(RE_MATCH_PARTS);

    if (ruleParts) {
      const matchHost = hostMatcher(ruleParts[2]);
      const matchPath = pathMatcher(ruleParts[3]);

      test = url => {
        const parts = url.match(RE_MATCH_PARTS);
        return !!ruleParts && !!parts && matchScheme(ruleParts[1], parts[1]) && matchHost(parts[2]) && matchPath(parts[3]);
      };
    } else {
      // Ignore invalid match rules
      test = () => false;
    }
  }

  return {
    test
  };
}

function testBlacklist(url) {
  let res = blCache[url];

  if (res === undefined) {
    const rule = blacklistRules.find(({
      test
    }) => test(url));
    res = (rule == null ? void 0 : rule.reject) && rule.text;
    updateBlacklistCache(url, res || false);
  }

  return res;
}
function resetBlacklist(list) {
  _cache__WEBPACK_IMPORTED_MODULE_1__["default"].batch(true);
  const rules = list == null ? Object(_options__WEBPACK_IMPORTED_MODULE_4__["getOption"])('blacklist') : list;

  if (false) {} // XXX compatible with {Array} list in v2.6.1-


  blacklistRules = (Array.isArray(rules) ? rules : (rules || '').split('\n')).map(text => {
    text = text.trim();
    if (!text || text.startsWith('#')) return null;
    const mode = text.startsWith('@') && text.split(/\s/, 1)[0];
    const rule = mode ? text.slice(mode.length + 1).trim() : text;
    const reject = mode !== '@include' && mode !== '@match'; // @include and @match = whitelist

    const {
      test
    } = mode === '@include' || mode === '@exclude' && autoReg(rule) || !mode && !rule.includes('/') && matchTester(`*://${rule}/*`) // domain
    || matchTester(rule); // @match and @exclude-match

    return {
      reject,
      test,
      text
    };
  }).filter(Boolean);
  blCache = {};
  blCacheSize = 0;
  _cache__WEBPACK_IMPORTED_MODULE_1__["default"].batch(false);
}

function updateBlacklistCache(key, value) {
  blCache[key] = value;
  blCacheSize += key.length;

  if (blCacheSize > MAX_BL_CACHE_LENGTH) {
    Object.keys(blCache).some(k => {
      blCacheSize -= k.length;
      delete blCache[k]; // reduce the cache to 75% so that this function doesn't run too often.

      return blCacheSize < MAX_BL_CACHE_LENGTH * 3 / 4;
    });
  }
}

/***/ }),

/***/ "./src/background/utils/update.js":
/*!****************************************!*\
  !*** ./src/background/utils/update.js ***!
  \****************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./src/common */ "./src/common/index.js");
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common_consts__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./src/common/consts */ "./src/common/consts.js");
/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./db */ "./src/background/utils/db.js");
/* harmony import */ var _script__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./script */ "./src/background/utils/script.js");
/* harmony import */ var _options__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./options */ "./src/background/utils/options.js");
/* harmony import */ var _message__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./message */ "./src/background/utils/message.js");






Object.assign(_message__WEBPACK_IMPORTED_MODULE_5__["commands"], {
  /** @return {Promise<true?>} */
  async CheckUpdate(id) {
    const script = Object(_db__WEBPACK_IMPORTED_MODULE_2__["getScriptById"])(id);
    const results = await checkAllAndNotify([script]);
    return results[0];
  },

  /** @return {Promise<boolean>} */
  async CheckUpdateAll() {
    Object(_options__WEBPACK_IMPORTED_MODULE_4__["setOption"])('lastUpdate', Date.now());
    const toUpdate = Object(_db__WEBPACK_IMPORTED_MODULE_2__["getScripts"])().filter(item => item.config.shouldUpdate);
    const results = await checkAllAndNotify(toUpdate);
    return results.includes(true);
  }

});

async function checkAllAndNotify(scripts) {
  const notes = [];
  const results = await Promise.all(scripts.map(item => checkUpdate(item, notes)));

  if (notes.length === 1) {
    notify(notes[0]);
  } else if (notes.length) {
    notify({
      // FF doesn't show notifications of type:'list' so we'll use `text` everywhere
      text: notes.map(n => n.text).join('\n'),
      onClick: browser.runtime.openOptionsPage
    });
  }

  return results;
}

const processes = {}; // resolves to true if successfully updated

function checkUpdate(script, notes) {
  const {
    id
  } = script.props;
  const promise = processes[id] || (processes[id] = doCheckUpdate(script, notes));
  return promise;
}

async function doCheckUpdate(script, notes) {
  const {
    id
  } = script.props;
  let msgOk;
  let msgErr;
  let resourceOpts;

  try {
    const {
      update
    } = await Object(_db__WEBPACK_IMPORTED_MODULE_2__["parseScript"])({
      id,
      code: await downloadUpdate(script),
      update: {
        checking: false
      }
    });
    msgOk = Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["i18n"])('msgScriptUpdated', [Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["getScriptName"])(update)]);
    resourceOpts = {
      cache: 'no-cache'
    };
    return true;
  } catch (update) {
    msgErr = update.error; // Either proceed with normal fetch on no-update or skip it altogether on error

    resourceOpts = !update.error && !update.checking && {};
    if (false) {}
  } finally {
    if (resourceOpts && !_Users_ZhaoJun_Desktop_violentmonkey_src_common_consts__WEBPACK_IMPORTED_MODULE_1__["IS_DEV"]) {
      // DEV状态不更新resource
      msgErr = await Object(_db__WEBPACK_IMPORTED_MODULE_2__["fetchResources"])(script, null, resourceOpts);
      if (false) {}
    }

    if (canNotify(script) && (msgOk || msgErr)) {
      notes.push({
        script,
        text: safeCall(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["trueJoin"], [msgOk, msgErr], '\n')
      });
    }

    delete processes[id];
  }
}

async function downloadUpdate({
  props: {
    id
  },
  meta,
  custom
}) {
  const downloadURL = custom.downloadURL || meta.downloadURL || custom.lastInstallURL;
  let updateURL = custom.updateURL || meta.updateURL || downloadURL;

  if (_Users_ZhaoJun_Desktop_violentmonkey_src_common_consts__WEBPACK_IMPORTED_MODULE_1__["IS_DEV"] && updateURL) {
    if (meta.dev) {
      const urls = updateURL.split('/');
      updateURL = `http://127.0.0.1:${meta.dev}/${urls[urls.length - 1]}`;
    } else {
      updateURL = null;
    } // console.info('downloadUpdate', id, updateURL);

  }

  if (!updateURL) throw false;
  let errorMessage;
  const update = {};
  const result = {
    update,
    where: {
      id
    }
  };
  announce(Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["i18n"])('msgCheckingForUpdate'));

  try {
    const {
      data
    } = await Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["request"])(updateURL, {
      // TODO: do a HEAD request first to get ETag header and compare to storage.mod
      cache: 'no-cache',
      headers: {
        Accept: 'text/x-userscript-meta,*/*'
      }
    });
    const {
      version
    } = Object(_script__WEBPACK_IMPORTED_MODULE_3__["parseMeta"])(data);

    if (_Users_ZhaoJun_Desktop_violentmonkey_src_common_consts__WEBPACK_IMPORTED_MODULE_1__["IS_DEV"]) {
      if (meta.version === version) throw false;
      console.info('update', meta.name, version, Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["compareVersion"])(meta.version, version));
      return data;
    }

    if (Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["compareVersion"])(meta.version, version) >= 0) {
      announce(Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["i18n"])('msgNoUpdate'), {
        checking: false
      });
    } else if (!downloadURL) {
      announce(Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["i18n"])('msgNewVersion'), {
        checking: false
      });
    } else {
      announce(Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["i18n"])('msgUpdating'));
      errorMessage = Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["i18n"])('msgErrorFetchingScript');
      return (await Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["request"])(downloadURL, {
        cache: 'no-cache'
      })).data;
    }
  } catch (error) {
    if (false) {}
    announce(errorMessage || Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["i18n"])('msgErrorFetchingUpdateInfo'), {
      error
    });
  }

  throw update;

  function announce(message, {
    error,
    checking = !error
  } = {}) {
    Object.assign(update, {
      message,
      checking,
      error: error ? `${Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["i18n"])('genericError')} ${error.status}, ${error.url}` : null // `null` is transferable in Chrome unlike `undefined`

    });
    Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["sendCmd"])(_Users_ZhaoJun_Desktop_violentmonkey_src_common_consts__WEBPACK_IMPORTED_MODULE_1__["CMD_SCRIPT_UPDATE"], result);
  }
}

function canNotify(script) {
  var _script$config$notify;

  const allowed = Object(_options__WEBPACK_IMPORTED_MODULE_4__["getOption"])('notifyUpdates');
  return Object(_options__WEBPACK_IMPORTED_MODULE_4__["getOption"])('notifyUpdatesGlobal') ? allowed : (_script$config$notify = script.config.notifyUpdates) != null ? _script$config$notify : allowed;
}

function notify({
  script,
  text,
  onClick = () => _message__WEBPACK_IMPORTED_MODULE_5__["commands"].OpenEditor(script.props.id)
}) {
  _message__WEBPACK_IMPORTED_MODULE_5__["commands"].Notification({
    text,
    // FF doesn't show the name of the extension in the title of the notification
    title: IS_FIREFOX ? `${Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["i18n"])('titleScriptUpdated')} - ${Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["i18n"])('extName')}` : ''
  }, undefined, {
    onClick
  });
}

/***/ }),

/***/ "./src/background/utils/values.js":
/*!****************************************!*\
  !*** ./src/background/utils/values.js ***!
  \****************************************/
/*! exports provided: resetValueOpener, addValueOpener */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "resetValueOpener", function() { return resetValueOpener; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "addValueOpener", function() { return addValueOpener; });
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./src/common */ "./src/common/index.js");
/* harmony import */ var _Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./src/common/object */ "./src/common/object.js");
/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./db */ "./src/background/utils/db.js");
/* harmony import */ var _message__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./message */ "./src/background/utils/message.js");




const openers = {}; // { scriptId: { tabId: { frameId: 1, ... }, ... } }

let cache = {}; // { scriptId: { key: { last: value, tabId: { frameId: value } } } }

let updateScheduled;
Object.assign(_message__WEBPACK_IMPORTED_MODULE_3__["commands"], {
  /** @return {Promise<Object>} */
  async GetValueStore(id) {
    const stores = await Object(_db__WEBPACK_IMPORTED_MODULE_2__["getValueStoresByIds"])([id]);
    return stores[id] || {};
  },

  /** @param {{ where, store }[]} data
   * @return {Promise<void>} */
  async SetValueStores(data) {
    // Value store will be replaced soon.
    const stores = data.reduce((res, {
      where,
      store
    }) => {
      var _getScript;

      const id = where.id || ((_getScript = Object(_db__WEBPACK_IMPORTED_MODULE_2__["getScript"])(where)) == null ? void 0 : _getScript.props.id);
      if (id) res[id] = store;
      return res;
    }, {});
    await Promise.all([Object(_db__WEBPACK_IMPORTED_MODULE_2__["dumpValueStores"])(stores), broadcastValueStores(groupStoresByFrame(stores))]);
  },

  /** @return {void} */
  UpdateValue({
    id,
    key,
    value = null
  }, src) {
    Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_1__["objectSet"])(cache, [id, key, 'last'], value);
    Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_1__["objectSet"])(cache, [id, key, src.tab.id, src.frameId], value);
    updateLater();
  }

});
browser.tabs.onRemoved.addListener(resetValueOpener);
browser.tabs.onReplaced.addListener((addedId, removedId) => resetValueOpener(removedId));
function resetValueOpener(tabId) {
  safeCall(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_1__["forEachEntry"], openers, ([id, openerTabs]) => {
    if (tabId in openerTabs) {
      delete openerTabs[tabId];
      if (Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(openerTabs)) delete openers[id];
    }
  });
}
function addValueOpener(tabId, frameId, scriptIds) {
  scriptIds.forEach(id => {
    Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_1__["objectSet"])(openers, [id, tabId, frameId], 1);
  });
}

async function updateLater() {
  while (!updateScheduled) {
    updateScheduled = true;
    await 0;
    const currentCache = cache;
    cache = {};
    await doUpdate(currentCache);
    updateScheduled = false;
    if (Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(cache)) break;
  }
}

async function doUpdate(currentCache) {
  const ids = Object.keys(currentCache);
  const valueStores = await Object(_db__WEBPACK_IMPORTED_MODULE_2__["getValueStoresByIds"])(ids);
  ids.forEach(id => {
    safeCall(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_1__["forEachEntry"], currentCache[id], ([key, {
      last
    }]) => {
      Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_1__["objectSet"])(valueStores, [id, key], last || undefined);
    });
  });
  await Promise.all([Object(_db__WEBPACK_IMPORTED_MODULE_2__["dumpValueStores"])(valueStores), broadcastValueStores(groupCacheByFrame(currentCache), {
    partial: true
  })]);
}

async function broadcastValueStores(tabFrameData, {
  partial
} = {}) {
  const tasks = [];

  for (const [tabId, frames] of Object.entries(tabFrameData)) {
    for (const [frameId, frameData] of Object.entries(frames)) {
      if (!Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(frameData)) {
        if (partial) frameData.partial = true;
        tasks.push(Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common__WEBPACK_IMPORTED_MODULE_0__["sendTabCmd"])(+tabId, 'UpdatedValues', frameData, {
          frameId: +frameId
        }));
        if (tasks.length === 20) await Promise.all(tasks.splice(0)); // throttling
      }
    }
  }

  await Promise.all(tasks);
} // Returns per tab/frame data with only the changed values


function groupCacheByFrame(cacheData) {
  const toSend = {};
  safeCall(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_1__["forEachEntry"], cacheData, ([id, scriptData]) => {
    const dataEntries = Object.entries(scriptData);
    safeCall(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_1__["forEachEntry"], openers[id], ([tabId, frames]) => {
      safeCall(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_1__["forEachKey"], frames, frameId => {
        dataEntries.forEach(([key, history]) => {
          var _history$tabId;

          // Skipping this frame if its last recorded value is identical
          if (history.last !== ((_history$tabId = history[tabId]) == null ? void 0 : _history$tabId[frameId])) {
            Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_1__["objectSet"])(toSend, [tabId, frameId, id, key], history.last);
          }
        });
      });
    });
  });
  return toSend;
} // Returns per tab/frame data


function groupStoresByFrame(stores) {
  const toSend = {};
  safeCall(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_1__["forEachEntry"], stores, ([id, store]) => {
    safeCall(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_1__["forEachEntry"], openers[id], ([tabId, frames]) => {
      safeCall(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_1__["forEachKey"], frames, frameId => {
        Object(_Users_ZhaoJun_Desktop_violentmonkey_src_common_object__WEBPACK_IMPORTED_MODULE_1__["objectSet"])(toSend, [tabId, frameId, id], store);
      });
    });
  });
  return toSend;
}

/***/ }),

/***/ "./src/common/events.js":
/*!******************************!*\
  !*** ./src/common/events.js ***!
  \******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return EventEmitter; });
class EventEmitter {
  constructor(allowed) {
    this.events = {};
    this.allowed = allowed;
  }

  checkType(type) {
    if (this.allowed && !this.allowed.includes(type)) {
      throw new Error(`Unknown event type: ${type}`);
    }
  }

  on(type, handle) {
    this.checkType(type);
    const {
      events
    } = this;
    let handlers = events[type];

    if (!handlers) {
      handlers = [];
      events[type] = handlers;
    }

    return () => this.off(type, handle);
  }

  off(type, handle) {
    this.checkType(type);
    const handlers = this.events[type];

    if (handlers) {
      const i = handlers.indexOf(handle);
      if (i >= 0) handlers.splice(i, 1);
    }
  }

  emit(type, data) {
    this.checkType(type);
    const handlers = this.events[type];

    if (handlers) {
      const evt = {
        type,
        data,
        defaultPrevented: false,

        preventDefault() {
          evt.defaultPrevented = true;
        }

      };
      handlers.some(handle => {
        handle(evt);
        return evt.defaultPrevented;
      });
    }
  }

}

/***/ }),

/***/ "./src/common/tld.js":
/*!***************************!*\
  !*** ./src/common/tld.js ***!
  \***************************/
/*! exports provided: initTLD, isReady, getDomain, getSubdomain, getPublicSuffix */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "initTLD", function() { return initTLD; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isReady", function() { return isReady; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getDomain", function() { return getDomain; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getSubdomain", function() { return getSubdomain; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getPublicSuffix", function() { return getPublicSuffix; });
/* harmony import */ var tldjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tldjs */ "./node_modules/tldjs/index.js");
/* harmony import */ var tldjs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tldjs__WEBPACK_IMPORTED_MODULE_0__);
 // import { fromUserSettings } from 'tldjs';
// import Trie from 'tldjs/lib/suffix-trie';
// import { request } from '#/common';
// let tldjs;
// export function initTLD(remote) {
//   // TLD rules are too large to be packed, download them at runtime.
//   const url = 'https://violentmonkey.top/static/tld-rules.json';
//   const key = 'dat:tldRules';
//   browser.storage.local.get(key)
//   .then(({ [key]: tldRules }) => {
//     if (tldRules) return tldRules;
//     if (!remote) return Promise.reject('ignore TLD');
//     return request(url, { responseType: 'json' })
//     .then(({ data: rules }) => {
//       console.info('Downloaded public suffix data');
//       return browser.storage.local.set({ [key]: rules })
//       .then(() => rules);
//     });
//   })
//   .then(tldRules => {
//     console.info('Initialized TLD');
//     tldjs = fromUserSettings({ rules: Trie.fromJson(tldRules) });
//   })
//   .catch(err => {
//     if (process.env.DEBUG) console.error(err);
//     console.info('Failed initializing TLD');
//   });
// }

function initTLD() {}

function exportMethod(key) {
  return (...args) => tldjs__WEBPACK_IMPORTED_MODULE_0___default.a && tldjs__WEBPACK_IMPORTED_MODULE_0___default.a[key](...args);
}

function isReady() {
  return !!tldjs__WEBPACK_IMPORTED_MODULE_0___default.a;
}
const getDomain = exportMethod('getDomain');
const getSubdomain = exportMethod('getSubdomain');
const getPublicSuffix = exportMethod('getPublicSuffix');

/***/ })

/******/ });}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Jhc2U2NC1qcy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYnVmZmVyL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9pZWVlNzU0L2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9pc2FycmF5L2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9qYmluYXJ5L2Rpc3QvYnJvd3Nlci9qYmluYXJ5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9qZGF0YXZpZXcvZGlzdC9ub2RlL2pkYXRhdmlldy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbXBlZ3RzX3RvX21wNC9tcGVndHNfdG9fbXA0L2FkdHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21wZWd0c190b19tcDQvbXBlZ3RzX3RvX21wNC9oMjY0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tcGVndHNfdG9fbXA0L21wZWd0c190b19tcDQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21wZWd0c190b19tcDQvbXBlZ3RzX3RvX21wNC9tcDQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21wZWd0c190b19tcDQvbXBlZ3RzX3RvX21wNC9tcGVndHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21wZWd0c190b19tcDQvbXBlZ3RzX3RvX21wNC9wZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL25vZGUtbGlicy1icm93c2VyL25vZGVfbW9kdWxlcy9wdW55Y29kZS9wdW55Y29kZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcXVlcnlzdHJpbmctZXMzL2RlY29kZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcXVlcnlzdHJpbmctZXMzL2VuY29kZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcXVlcnlzdHJpbmctZXMzL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91cmwvdXJsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91cmwvdXRpbC5qcyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vbW9kdWxlLmpzIiwid2VicGFjazovLy8uL3NyYy9iYWNrZ3JvdW5kL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9iYWNrZ3JvdW5kL3BsdWdpbi9ldmVudHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2JhY2tncm91bmQvcGx1Z2luL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9iYWNrZ3JvdW5kL3N5bmMvYmFzZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYmFja2dyb3VuZC9zeW5jL2Ryb3Bib3guanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2JhY2tncm91bmQvc3luYy9nb29nbGVkcml2ZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYmFja2dyb3VuZC9zeW5jL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9iYWNrZ3JvdW5kL3N5bmMvb25lZHJpdmUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2JhY2tncm91bmQvc3luYy93ZWJkYXYuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2JhY2tncm91bmQvdXRpbHMvYWVzLWRlY3J5cHRvci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYmFja2dyb3VuZC91dGlscy9jYWNoZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYmFja2dyb3VuZC91dGlscy9jbGlwYm9hcmQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2JhY2tncm91bmQvdXRpbHMvZGIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2JhY2tncm91bmQvdXRpbHMvZXZlbnRzLmpzIiwid2VicGFjazovLy8uL3NyYy9iYWNrZ3JvdW5kL3V0aWxzL2hvdGtleXMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2JhY2tncm91bmQvdXRpbHMvaWNvbi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYmFja2dyb3VuZC91dGlscy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYmFja2dyb3VuZC91dGlscy9pbml0LmpzIiwid2VicGFjazovLy8uL3NyYy9iYWNrZ3JvdW5kL3V0aWxzL20zdTguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2JhY2tncm91bmQvdXRpbHMvbWVzc2FnZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYmFja2dyb3VuZC91dGlscy9ub3RpZmljYXRpb25zLmpzIiwid2VicGFjazovLy8uL3NyYy9iYWNrZ3JvdW5kL3V0aWxzL29wdGlvbnMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2JhY2tncm91bmQvdXRpbHMvcGF0Y2gtZGIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2JhY2tncm91bmQvdXRpbHMvcG9wdXAtdHJhY2tlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYmFja2dyb3VuZC91dGlscy9wcmVpbmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2JhY2tncm91bmQvdXRpbHMvcmVxdWVzdHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2JhY2tncm91bmQvdXRpbHMvc2NyaXB0LmpzIiwid2VicGFjazovLy8uL3NyYy9iYWNrZ3JvdW5kL3V0aWxzL3NlYXJjaC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYmFja2dyb3VuZC91dGlscy9zdG9yYWdlLWZldGNoLmpzIiwid2VicGFjazovLy8uL3NyYy9iYWNrZ3JvdW5kL3V0aWxzL3RhYnMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2JhY2tncm91bmQvdXRpbHMvdGVtcGxhdGUtaG9vay5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYmFja2dyb3VuZC91dGlscy90ZXN0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2JhY2tncm91bmQvdXRpbHMvdXBkYXRlLmpzIiwid2VicGFjazovLy8uL3NyYy9iYWNrZ3JvdW5kL3V0aWxzL3ZhbHVlcy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL2V2ZW50cy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL3RsZC5qcyJdLCJuYW1lcyI6WyJob29rT3B0aW9ucyIsImNoYW5nZXMiLCJhdXRvVXBkYXRlIiwiU0NSSVBUX1RFTVBMQVRFIiwicmVzZXRTY3JpcHRUZW1wbGF0ZSIsInNlbmRDbWQiLCJPYmplY3QiLCJhc3NpZ24iLCJjb21tYW5kcyIsIkdldERhdGEiLCJpZHMiLCJkYXRhIiwiZ2V0RGF0YSIsInN5bmMiLCJHZXRJbmplY3RlZCIsInVybCIsImZvcmNlQ29udGVudCIsInNyYyIsImZyYW1lSWQiLCJ0YWIiLCJ0YWJJZCIsImlkIiwicmVzZXRWYWx1ZU9wZW5lciIsImNsZWFyUmVxdWVzdHNCeVRhYklkIiwicmVzIiwiZ2V0SW5qZWN0ZWRTY3JpcHRzIiwiZmVlZGJhY2siLCJpbmplY3QiLCJ2YWxPcElkcyIsImlzUG9wdXBTaG93biIsInBvcHVwVGFicyIsImxlbmd0aCIsInNldFRpbWVvdXQiLCJJbmplY3Rpb25GZWVkYmFjayIsImFkZFZhbHVlT3BlbmVyIiwiR2V0VGFiRG9tYWluIiwiZ2V0QWN0aXZlVGFiIiwicGVuZGluZ1VybCIsImhvc3QiLCJtYXRjaCIsImRvbWFpbiIsInRsZCIsIlNldFRpbWVvdXQiLCJtcyIsIm1ha2VQYXVzZSIsImNvbW1hbmRzVG9TeW5jIiwiY29tbWFuZHNUb1N5bmNJZlRydXRoeSIsImhhbmRsZUNvbW1hbmRNZXNzYWdlIiwicmVxIiwiY21kIiwiaW5jbHVkZXMiLCJpbnRlcnZhbCIsIklTX0RFViIsImdldE9wdGlvbiIsIlRJTUVPVVRfMjRIT1VSUyIsImVsYXBzZWQiLCJEYXRlIiwibm93IiwiY2xlYXJUaW1lb3V0IiwidGltZXIiLCJNYXRoIiwibWluIiwiVElNRU9VVF9NQVgiLCJpbml0QnVpbGRpbiIsInJlcXVlc3QiLCJCVUlMRF9JTl9TQ1JJUFRfU1JDIiwiY2FjaGUiLCJoZWFkZXJzIiwiQWNjZXB0IiwiUGFyc2VTY3JpcHQiLCJjb2RlIiwiY3VzdG9tIiwiYnVpbGRJbiIsIndoZXJlIiwiaW5pdGlhbGl6ZSIsImdsb2JhbCIsImRlZXBDb3B5IiwiYnJvd3NlciIsInJ1bnRpbWUiLCJvbk1lc3NhZ2UiLCJhZGRMaXN0ZW5lciIsIklTX0ZJUkVGT1giLCJhcmdzIiwiY2F0Y2giLCJlIiwiUHJvbWlzZSIsInJlamVjdCIsIkVycm9yIiwiY29uc29sZSIsImluZm8iLCJjaGVja1JlbW92ZSIsInNldEludGVydmFsIiwiYXBpIiwiY2hyb21lIiwiZGVjbGFyYXRpdmVDb250ZW50Iiwib25QYWdlQ2hhbmdlZCIsImdldFJ1bGVzIiwicnVsZSIsIm5ld0lkIiwicHJvY2VzcyIsInJlbW92ZVJ1bGVzIiwiYWRkUnVsZXMiLCJjb25kaXRpb25zIiwiUGFnZVN0YXRlTWF0Y2hlciIsInBhZ2VVcmwiLCJ1cmxDb250YWlucyIsImFjdGlvbnMiLCJSZXF1ZXN0Q29udGVudFNjcmlwdCIsImpzIiwiZ2V0TWFuaWZlc3QiLCJjb250ZW50X3NjcmlwdHMiLCJFdmVudEVtaXR0ZXIiLCJzY3JpcHQiLCJ1cGRhdGUiLCJsaXN0IiwiZ2V0U2NyaXB0cyIsImdldCIsIkdldFNjcmlwdENvZGUiLCJyZW1vdmUiLCJNYXJrUmVtb3ZlZCIsInJlbW92ZWQiLCJzZXJ2aWNlTmFtZXMiLCJzZXJ2aWNlQ2xhc3NlcyIsInNlcnZpY2VzIiwiYXV0b1N5bmMiLCJkZWJvdW5jZSIsIlRJTUVPVVRfSE9VUiIsIndvcmtpbmciLCJyZXNvbHZlIiwic3luY0NvbmZpZyIsImdldEl0ZW1GaWxlbmFtZSIsIm5hbWUiLCJ1cmkiLCJpc1NjcmlwdEZpbGUiLCJ0ZXN0IiwiZ2V0VVJJIiwiaSIsImluZGV4T2YiLCJ2ZXJzaW9uIiwic2xpY2UiLCJzcGxpdCIsImRlY29kZVVSSUNvbXBvbmVudCIsImVyciIsImluaXRDb25maWciLCJrZXkiLCJkZWYiLCJrZXlzIiwibm9ybWFsaXplS2V5cyIsInVuc2hpZnQiLCJzZXQiLCJ2YWx1ZSIsInNldE9wdGlvbiIsImluaXQiLCJjb25maWciLCJzZXJ2aWNlQ29uZmlnIiwiZ2V0S2V5cyIsInZhbCIsImZvckVhY2hFbnRyeSIsImsiLCJ2IiwiY2xlYXIiLCJzZXJ2aWNlU3RhdGUiLCJ2YWxpZFN0YXRlcyIsImluaXRpYWxTdGF0ZSIsIm9uQ2hhbmdlIiwic3RhdGUiLCJuZXdTdGF0ZSIsIndhcm4iLCJpcyIsInN0YXRlcyIsImVuc3VyZUFycmF5IiwiZ2V0U3RhdGVzIiwibWFwIiwic2VydmljZSIsImRpc3BsYXlOYW1lIiwiYXV0aFN0YXRlIiwic3luY1N0YXRlIiwibGFzdFN5bmMiLCJwcm9ncmVzcyIsInByb3BlcnRpZXMiLCJ1c2VyQ29uZmlnIiwiZ2V0VXNlckNvbmZpZyIsImdldFNjcmlwdERhdGEiLCJzeW5jVmVyc2lvbiIsImV4dHJhIiwicHJvcHMiLCJvYmplY3RQaWNrIiwibW9yZSIsImVuYWJsZWQiLCJzaG91bGRVcGRhdGUiLCJsYXN0VXBkYXRlZCIsInBhcnNlU2NyaXB0RGF0YSIsInJhdyIsIm9iaiIsIkpTT04iLCJwYXJzZSIsIm9iamVjdFB1cmlmeSIsIkFycmF5IiwiaXNBcnJheSIsImZvckVhY2giLCJzZXJ2aWNlRmFjdG9yeSIsImJhc2UiLCJTZXJ2aWNlIiwiY29uc3RydWN0b3IiLCJwcm90b3R5cGUiLCJleHRlbmQiLCJleHRlbmRTZXJ2aWNlIiwib3B0aW9ucyIsImNyZWF0ZSIsIm9uU3RhdGVDaGFuZ2UiLCJCYXNlU2VydmljZSIsImRlbGF5VGltZSIsInVybFByZWZpeCIsIm1ldGFGaWxlIiwiYXV0aFR5cGUiLCJub29wIiwic2V0VXNlckNvbmZpZyIsImZpbmlzaGVkIiwidG90YWwiLCJsYXN0RmV0Y2giLCJzdGFydFN5bmMiLCJzeW5jRmFjdG9yeSIsImV2ZW50cyIsImdldEV2ZW50RW1pdHRlciIsImxvZyIsInByb21pc2UiLCJkZWJvdW5jZWRSZXNvbHZlIiwic2hvdWxkU3luYyIsImdldEN1cnJlbnQiLCJnZXRSZWFkeSIsInRoZW4iLCJlcnJvciIsInByZXBhcmVIZWFkZXJzIiwicHJlcGFyZSIsImluaXRUb2tlbiIsInVzZXIiLCJ0eXBlIiwiY2hlY2tTeW5jIiwiYWNxdWlyZUxvY2siLCJyZWxlYXNlTG9jayIsImhhbmRsZU1ldGFFcnJvciIsImdldE1ldGEiLCJ0b2tlbiIsIkF1dGhvcml6YXRpb24iLCJsb2FkRGF0YSIsImRlbGF5IiwidHMiLCJzdGFydHNXaXRoIiwicHJlZml4IiwiZ2V0TG9jYWxEYXRhIiwicGx1Z2luU2NyaXB0IiwiZ2V0U3luY0RhdGEiLCJyZW1vdGVNZXRhIiwiYWxsIiwicmVtb3RlRGF0YSIsImxvY2FsRGF0YSIsInJlbW90ZU1ldGFEYXRhIiwicmVtb3RlTWV0YUluZm8iLCJyZW1vdGVUaW1lc3RhbXAiLCJ0aW1lc3RhbXAiLCJyZW1vdGVDaGFuZ2VkIiwiZ2xvYmFsTGFzdE1vZGlmaWVkIiwicmVtb3RlSXRlbU1hcCIsImxvY2FsTWV0YSIsImZpcnN0U3luYyIsIm91dGRhdGVkIiwicHV0TG9jYWwiLCJwdXRSZW1vdGUiLCJkZWxSZW1vdGUiLCJkZWxMb2NhbCIsInVwZGF0ZUxvY2FsIiwicmVkdWNlIiwiaXRlbSIsIml0ZW1JbmZvIiwibW9kaWZpZWQiLCJwb3NpdGlvbiIsImxhc3RNb2RpZmllZCIsInJlbW90ZUluZm8iLCJyZW1vdGVJdGVtIiwicHVzaCIsImxvY2FsIiwicmVtb3RlIiwicHJvbWlzZVF1ZXVlIiwib2JqZWN0U2V0IiwicHV0Iiwic3RyaW5naWZ5IiwidXBkYXRlcyIsInVwZGF0ZVNjcmlwdEluZm8iLCJzb3J0U2NyaXB0cyIsImNoYW5nZWQiLCJzY3JpcHRzIiwicHJvbWlzZXMiLCJlcnJvcnMiLCJmaWx0ZXIiLCJCb29sZWFuIiwicmVnaXN0ZXIiLCJGYWN0b3J5IiwiZ2V0U2VydmljZSIsInN5bmNPbmUiLCJhdXRob3JpemUiLCJyZXZva2UiLCJzZXRDb25maWciLCJvcGVuQXV0aFBhZ2UiLCJyZWRpcmVjdFVyaSIsInVucmVnaXN0ZXJXZWJSZXF1ZXN0Iiwid2ViUmVxdWVzdCIsIm9uQmVmb3JlUmVxdWVzdCIsInVybHMiLCJ0eXBlcyIsInRhYnMiLCJjaGVja0F1dGgiLCJjYW5jZWwiLCJyZW1vdmVMaXN0ZW5lciIsImNsaWVudF9pZCIsInJlZGlyZWN0X3VyaSIsImVzY1JFIiwiZXNjRnVuYyIsIm0iLCJjaGFyQ29kZUF0IiwidG9TdHJpbmciLCJqc29uU3RyaW5naWZ5U2FmZSIsInN0cmluZyIsInJlcGxhY2UiLCJEcm9wYm94IiwibWV0aG9kIiwic3RhdHVzIiwiYm9keSIsInBhdGgiLCJyZXNwb25zZVR5cGUiLCJlbnRyaWVzIiwibm9ybWFsaXplIiwibW9kZSIsInBhcmFtcyIsInJlc3BvbnNlX3R5cGUiLCJkdW1wUXVlcnkiLCJhdXRob3JpemVkIiwibG9hZFF1ZXJ5IiwiYWNjZXNzX3Rva2VuIiwidWlkIiwic2l6ZSIsImNsaWVudF9zZWNyZXQiLCJzY29wZSIsIlVOQVVUSE9SSVpFRCIsIkdvb2dsZURyaXZlIiwicmVmcmVzaFRva2VuIiwicmVmcmVzaF90b2tlbiIsImdyYW50X3R5cGUiLCJyZXF1ZXN0VXNlciIsImFjY2Vzc190eXBlIiwibm90aWZ5IiwidGl0bGUiLCJvYmplY3RHZXQiLCJzcGFjZXMiLCJmaWVsZHMiLCJmaWxlcyIsIm1ldGFJdGVtIiwiZ290TWV0YSIsInByb21wdCIsImJvdW5kYXJ5IiwiZ2V0VW5pcUlkIiwibWV0YWRhdGEiLCJwYXJlbnRzIiwiam9pbiIsIlN5bmNBdXRob3JpemUiLCJTeW5jUmV2b2tlIiwiU3luY1N0YXJ0IiwiU3luY1NldENvbmZpZyIsIk9uZURyaXZlIiwiaGVhZGVyIiwiZmlsZSIsImVuY29kZVVSSUNvbXBvbmVudCIsInVzZXJfaWQiLCJLRVlfQ0hJTERSRU4iLCJTeW1ib2wiLCJYTm9kZSIsIm5vZGUiLCJuc01hcCIsInBhcnNlQXR0cnMiLCJwYXJzZU5hbWUiLCJmcm9tWE1MIiwieG1sIiwicGFyc2VyIiwiRE9NUGFyc2VyIiwiZG9jIiwicGFyc2VGcm9tU3RyaW5nIiwiYXR0cnMiLCJhdHRyaWJ1dGVzIiwiYXR0ciIsIiQiLCJub2RlVHlwZSIsInRhZ05hbWUiLCJucyIsInRleHQiLCJ0ZXh0Q29udGVudCIsInRyaW0iLCJjaGlsZHJlbiIsImNoaWxkIiwiY2FsbGJhY2siLCJnZXRDYWxsYmFjayIsImZpbmQiLCJERUZBVUxUX0NPTkZJRyIsInNlcnZlclVybCIsImFub255bW91cyIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJXZWJEQVYiLCJlbmRzV2l0aCIsIlVSTCIsImF1dGgiLCJ3aW5kb3ciLCJidG9hIiwiY2FsbCIsImNyZWRlbnRpYWxzIiwibWtkaXIiLCJyZWFkZGlyIiwiZGVwdGgiLCJpdGVtcyIsInByb3AiLCJkaXNwbGF5TmFtZU5vZGUiLCJ1bmRlZmluZWQiLCJocmVmIiwic3Vic3RyaW5nIiwibGFzdEluZGV4T2YiLCJsb2NrIiwiSWYiLCJyZW1vdmVQYWRkaW5nIiwiYnVmZmVyIiwib3V0cHV0Qnl0ZXMiLCJieXRlTGVuZ3RoIiwicGFkZGluZ0J5dGVzIiwiRGF0YVZpZXciLCJnZXRVaW50OCIsIkFFU0RlY3J5cHRvciIsInJjb24iLCJzdWJNaXgiLCJVaW50MzJBcnJheSIsImludlN1Yk1peCIsInNCb3giLCJpbnZTQm94IiwiaW5pdFRhYmxlIiwidWludDhBcnJheVRvVWludDMyQXJyYXlfIiwiYXJyYXlCdWZmZXIiLCJ2aWV3IiwibmV3QXJyYXkiLCJnZXRVaW50MzIiLCJzdWJNaXgwIiwic3ViTWl4MSIsInN1Yk1peDIiLCJzdWJNaXgzIiwiaW52U3ViTWl4MCIsImludlN1Yk1peDEiLCJpbnZTdWJNaXgyIiwiaW52U3ViTWl4MyIsImQiLCJ4IiwieGkiLCJzeCIsIngyIiwieDQiLCJ4OCIsInQiLCJleHBhbmRLZXkiLCJrZXlCdWZmZXIiLCJzYW1lS2V5Iiwib2Zmc2V0Iiwia2V5U2l6ZSIsImtzUm93cyIsImtzUm93IiwiaW52S3NSb3ciLCJrZXlTY2hlZHVsZSIsImludktleVNjaGVkdWxlIiwic2JveCIsInByZXYiLCJuZXR3b3JrVG9Ib3N0T3JkZXJTd2FwIiwid29yZCIsImRlY3J5cHQiLCJpbnB1dEFycmF5QnVmZmVyIiwiYWVzSVYiLCJyZW1vdmVQS0NTN1BhZGRpbmciLCJuUm91bmRzIiwiaW52U0JPWCIsImluaXRWZWN0b3IiLCJpbml0VmVjdG9yMCIsImluaXRWZWN0b3IxIiwiaW5pdFZlY3RvcjIiLCJpbml0VmVjdG9yMyIsImlucHV0SW50MzIiLCJJbnQzMkFycmF5Iiwib3V0cHV0SW50MzIiLCJ0MCIsInQxIiwidDIiLCJ0MyIsInMwIiwiczEiLCJzMiIsInMzIiwiaW5wdXRXb3JkczAiLCJpbnB1dFdvcmRzMSIsImlucHV0V29yZHMyIiwiaW5wdXRXb3JkczMiLCJzd2FwV29yZCIsImRlc3Ryb3kiLCJpbml0Q2FjaGUiLCJsaWZldGltZSIsIkNhY2hlTG9hZCIsIkNhY2hlSGl0IiwiaGl0IiwiQ2FjaGVQb3AiLCJwb3AiLCJ0ZXh0YXJlYSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImNsaXBib2FyZERhdGEiLCJTZXRDbGlwYm9hcmQiLCJmb2N1cyIsInJldCIsImV4ZWNDb21tYW5kIiwiYXBwZW5kQ2hpbGQiLCJhZGRFdmVudExpc3RlbmVyIiwicHJldmVudERlZmF1bHQiLCJzZXREYXRhIiwic3RvcmUiLCJzdG9yYWdlIiwic2V0RGF0YUNhY2hlIiwiZGF0YUNhY2hlIiwib25EdW1wIiwic2NyaXB0TWFwIiwiQ2hlY2tQb3NpdGlvbiIsIkNoZWNrUmVtb3ZlIiwiR2V0U2NyaXB0IiwiZ2V0U2NyaXB0IiwiRXhwb3J0WmlwIiwidmFsdWVzIiwiZ2V0UHJvcHNJZCIsImNvZGVNYXAiLCJnZXRNdWx0aSIsImdldE9uZSIsIkdldFNjcmlwdFZlciIsIm9wdHMiLCJtZXRhIiwiTW92ZSIsImdldFNjcmlwdEJ5SWQiLCJpbmRleCIsInNwbGljZSIsIm5vcm1hbGl6ZVBvc2l0aW9uIiwiUmVtb3ZlU2NyaXB0IiwiUGFyc2VNZXRhIiwicGFyc2VNZXRhIiwicGFyc2VTY3JpcHQiLCJVcGRhdGVTY3JpcHRJbmZvIiwiVmFjdXVtIiwidmFjdXVtIiwicHJlSW5pdGlhbGl6ZSIsImxhc3RWZXJzaW9uIiwicGF0Y2hEQiIsInN0b3JlSW5mbyIsImlkTWFwIiwidXJpTWFwIiwibW9kcyIsInJlc1VybHMiLCJyZW1lbWJlclVybCIsIl8iLCJnZXRJbnQiLCJnZXROYW1lVVJJIiwiZ2V0RGVmYXVsdEN1c3RvbSIsIm1heCIsInBhdGhNYXAiLCJncmFudCIsIlNldCIsInJlcXVpcmUiLCJyZXNvdXJjZXMiLCJpY29uIiwibW9kIiwicmVtb3ZlTXVsdGkiLCJkZWZhdWx0SW5qZWN0SW50byIsIklOSkVDVF9QQUdFIiwiY29tcGFyZVZlcnNpb24iLCJJTkpFQ1RfQVVUTyIsInVwZGF0ZUxhc3RNb2RpZmllZCIsImR1bXAiLCJzb3J0IiwiYSIsImIiLCJnZXRWYWx1ZVN0b3Jlc0J5SWRzIiwiZHVtcFZhbHVlU3RvcmVzIiwidmFsdWVEaWN0IiwiRU5WX0NBQ0hFX0tFWVMiLCJFTlZfUkVRX0tFWVMiLCJFTlZfVkFMVUVfSURTIiwiR01WQUxVRVNfUkUiLCJSVU5fQVRfUkUiLCJnZXRTY3JpcHRzQnlVUkwiLCJpc1RvcCIsImFsbFNjcmlwdHMiLCJ0ZXN0QmxhY2tsaXN0Iiwibm9mcmFtZXMiLCJ0ZXN0U2NyaXB0IiwiZGlzYWJsZWRJZHMiLCJlbnZTdGFydCIsImVudkRlbGF5ZWQiLCJidWlsZFBhdGhNYXAiLCJydW5BdCIsImVudiIsInNvbWUiLCJyZWFkRW52aXJvbm1lbnREYXRhIiwiU1RPUkFHRV9ST1VURVMiLCJyZXRyaWVkU3RvcmFnZUtleXMiLCJpc1JldHJ5IiwiYXJlYSIsInNyY0lkcyIsImdldEtleSIsImVycjIiLCJnZXRJY29uQ2FjaGUiLCJpY29uVXJscyIsImlzUmVtb3RlIiwibWFrZURhdGFVcmkiLCJmb3JjZSIsInRvUmVtb3ZlIiwiVElNRU9VVF9XRUVLIiwiZ2V0VVVJRCIsInJuZCIsIlVpbnQxNkFycmF5IiwiY3J5cHRvIiwiZ2V0UmFuZG9tVmFsdWVzIiwic2F2ZVNjcmlwdCIsIm9sZFNjcmlwdCIsInV1aWQiLCJyYW5kb21VVUlEIiwiaTE4biIsIkNNRF9TQ1JJUFRfVVBEQVRFIiwicmVzdWx0IiwibWVzc2FnZSIsImlzTmV3IiwibmV3U2NyaXB0IiwiQ01EX1NDUklQVF9BREQiLCJob21lcGFnZVVSTCIsImZyb20iLCJsYXN0SW5zdGFsbFVSTCIsImZldGNoUmVzb3VyY2VzIiwicGx1Z2luRXZlbnRzIiwiZW1pdCIsImJhc2VVcmwiLCJmdWxsVXJsIiwiZ2V0RnVsbFVybCIsInJlc291cmNlQ2FjaGUiLCJyZXFPcHRpb25zIiwic25hdGNoIiwidmFsaWRhdG9yIiwiY29udGVudHMiLCJmZXRjaCIsInZhbGlkYXRlSW1hZ2UiLCJpZ25vcmVEZXBzRXJyb3JzIiwidHJ1ZUpvaW4iLCJmb3JtYXRIdHRwRXJyb3IiLCJidWYiLCJibG9iVXJsIiwiY3JlYXRlT2JqZWN0VVJMIiwiQmxvYiIsIm9uRG9uZSIsInJldm9rZU9iamVjdFVSTCIsImltYWdlIiwiSW1hZ2UiLCJvbmxvYWQiLCJvbmVycm9yIiwiX3ZhY3V1bWluZyIsIm51bUZpeGVzIiwicmVzb2x2ZVNlbGYiLCJyIiwidG9GZXRjaCIsImtleXNUb1JlbW92ZSIsInZhbHVlS2V5cyIsImNhY2hlS2V5cyIsInJlcXVpcmVLZXlzIiwiY29kZUtleXMiLCJtYXBwaW5ncyIsImZvckVhY2hLZXkiLCJzdWJzdG9yZSIsInRvdWNoIiwic2NyaXB0SWQiLCJmb3JFYWNoVmFsdWUiLCJnZXRTY3JpcHROYW1lIiwiZml4ZXMiLCJvbiIsIm9mZiIsImZpcmUiLCJmdW5jIiwicG9zdEluaXRpYWxpemUiLCJvbkNvbW1hbmQiLCJPcGVuRWRpdG9yIiwicm91dGUiLCJUYWJPcGVuIiwiQ0FDSEVfRFVSQVRJT04iLCJHZXRJbWFnZURhdGEiLCJsb2FkSW1hZ2VEYXRhIiwiYmFzZTY0IiwiU2V0QmFkZ2UiLCJzZXRCYWRnZSIsImJyb3dzZXJBY3Rpb24iLCJpZ25vcmVFcnJvcnMiLCJsYXN0RXJyb3IiLCJtYWtlTWV0aG9kIiwiZm4iLCJiYWRnZXMiLCJLRVlfSVNfQVBQTElFRCIsIktFWV9TSE9XX0JBREdFIiwiS0VZX0JBREdFX0NPTE9SIiwiS0VZX0JBREdFX0NPTE9SX0JMT0NLRUQiLCJpc0FwcGxpZWQiLCJzaG93QmFkZ2UiLCJiYWRnZUNvbG9yIiwiYmFkZ2VDb2xvckJsb2NrZWQiLCJ0aXRsZUJsYWNrbGlzdGVkIiwidGl0bGVOb25pbmplY3RhYmxlIiwiaWNvbkNhY2hlIiwiam9icyIsInNldEljb24iLCJ1cGRhdGVCYWRnZSIsInVwZGF0ZUJhZGdlQ29sb3IiLCJ1cGRhdGVTdGF0ZSIsImZvckVhY2hUYWIiLCJvblJlbW92ZWQiLCJvblVwZGF0ZWQiLCJmYXZJY29uVXJsIiwidW5pcXVlIiwic2V0QmFkZ2VUZXh0Iiwic2V0QmFkZ2VCYWNrZ3JvdW5kQ29sb3IiLCJjb2xvciIsImJsb2NrZWQiLCJpbmplY3RhYmxlIiwiSU5KRUNUQUJMRV9UQUJfVVJMX1JFIiwiYmxhY2tsaXN0ZWQiLCJzZXRUaXRsZSIsImljb25EYXRhIiwibiIsImltZyIsIndpZHRoIiwiaGVpZ2h0IiwiY2FudmFzIiwiY3R4IiwiZ2V0Q29udGV4dCIsImRyYXdJbWFnZSIsInRvRGF0YVVSTCIsImdldEltYWdlRGF0YSIsImV4dGVuc2lvblJvb3QiLCJnZXRVUkwiLCJtYWluIiwicnVuIiwidHNMaXN0Iiwic3RhdHVzTGlzdCIsIm1lZGlhRmlsZUxpc3QiLCJBRVMiLCJpdiIsImRlY3J5cHRvciIsInN0cmluZ1RvQnVmZmVyIiwic3RyIiwiVGV4dEVuY29kZXIiLCJlbmNvZGUiLCJkb3dubG9hZE0zdTgiLCJtM3U4IiwibGltaXQiLCJsaW5lIiwidG9Mb3dlckNhc2UiLCJ0c1VybCIsImdldEFFUyIsImRvd25sb2FkVFMiLCJhamF4Iiwic3VjY2VzcyIsImZhaWwiLCJ0c1VyaSIsImJhc2VVUkwiLCJkZWNyeXB0VHMiLCJVaW50OEFycmF5IiwicmV0cnkiLCJkb3dubG9hZCIsInByb2NMaXN0IiwicyIsImRlYWxUUyIsIm9ucHJvZ3Jlc3MiLCJpaSIsIm1wNEJ5SmJpbmFyeSIsImRhdGFDaHVua3MiLCJibG9iIiwiakJpbmFyeSIsImxvYWQiLCJNUEVHVFMiLCJtcGVndHMiLCJzdGFydCIsImdldFRpbWUiLCJtcDRPYmoiLCJtcGVndHNfdG9fbXA0IiwiZG93bmxvYWRMaW5rIiwidG9VUkkiLCJyYXdEYXRhIiwiZG93bmxvYWRzIiwiZmlsZW5hbWUiLCJmaWxlTmFtZSIsImRvd25sb2FkSWQiLCJ4aHIiLCJYTUxIdHRwUmVxdWVzdCIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsInJlYWR5U3RhdGUiLCJyZXNwb25zZSIsIm9wZW4iLCJzZW5kIiwibm90aWZpY2F0aW9ucyIsImljb25VcmwiLCJkZWZhdWx0SW1hZ2UiLCJpc0NsaWNrYWJsZSIsImJyb2FkY2FzdCIsInNlbmRNZXNzYWdlIiwic2VuZE1lc3NhZ2VPcklnbm9yZSIsInF1ZXJ5Iiwib3BlbmVycyIsIk5vdGlmaWNhdGlvbiIsImJnRXh0cmFzIiwibm90aWZpY2F0aW9uSWQiLCJvbkNsaWNrIiwiUmVtb3ZlTm90aWZpY2F0aW9uIiwib25DbGlja2VkIiwib3BlbmVySWQiLCJzZW5kVGFiQ21kIiwib25DbG9zZWQiLCJHZXRBbGxPcHRpb25zIiwiR2V0T3B0aW9ucyIsImRlZmF1bHRzIiwibWFwRW50cnkiLCJTZXRPcHRpb25zIiwiaG9va3MiLCJpbml0SG9va3MiLCJjYWxsSG9va3NMYXRlciIsImNhbGxIb29rcyIsImluaXRQZW5kaW5nIiwiZmlyZUNoYW5nZSIsIm1haW5LZXkiLCJnZXREZWZhdWx0T3B0aW9uIiwib3B0aW9uS2V5Iiwib3B0aW9uVmFsdWUiLCJob29rIiwiaW5kZXhlZERCIiwib25zdWNjZXNzIiwidHJhbnNmb3JtIiwib251cGdyYWRlbmVlZGVkIiwiZGIiLCJ0eCIsInRyYW5zYWN0aW9uIiwicHJvY2Vzc2luZyIsImRvbmUiLCJnZXRBbGwiLCJzdG9yZU5hbWUiLCJvYmplY3RTdG9yZSIsInRyYW5zZm9ybVNjcmlwdCIsImFsbFZhbHVlcyIsImFsbENhY2hlIiwiYWxsUmVxdWlyZSIsIm9yaWdJbmNsdWRlIiwib3JpZ0V4Y2x1ZGUiLCJvcmlnTWF0Y2giLCJvcmlnRXhjbHVkZU1hdGNoIiwib25Db25uZWN0Iiwib25Qb3B1cE9wZW5lZCIsInByZWZldGNoU2V0UG9wdXAiLCJicm93c2VyX2FjdGlvbiIsImRlZmF1bHRfcG9wdXAiLCJwb3J0Iiwib25EaXNjb25uZWN0Iiwib25Qb3B1cENsb3NlZCIsIlNldFBvcHVwIiwiQVBJX0NPTkZJRyIsIlRJTUVfQUZURVJfU0VORCIsIlRJTUVfQUZURVJfUkVDRUlWRSIsIlRJTUVfS0VFUF9EQVRBIiwiY2FjaGVDb2RlIiwib25EaXNwb3NlIiwicmNzIiwicmNzUHJvbWlzZSIsInVucmVnaXN0ZXIiLCJJTkpFQ1RfSU5UTyIsIktFWV9FWFBPU0UiLCJLRVlfREVGX0lOSkVDVF9JTlRPIiwiS0VZX1hIUl9JTkpFQ1QiLCJleHBvc2UiLCJpbmplY3RJbnRvIiwieGhySW5qZWN0Iiwib25PcHRpb25DaGFuZ2VkIiwiZmVlZElkIiwicHJvY2Vzc0ZlZWRiYWNrIiwiZGVsIiwiY2FjaGVLZXkiLCJlbnZLZXkiLCJwcmVwYXJlU2NyaXB0IiwibmVlZHNJbmplY3Rpb24iLCJleGVjdXRlU2NyaXB0IiwicHJvcHNUb0NsZWFyIiwib25DaGFuZ2VkIiwiZGJLZXlzIiwiY2FjaGVWYWx1ZXMiLCJnZXRWYWx1ZXMiLCJkaXJ0eSIsIm5vcm1hbGl6ZVJlYWxtIiwiaGFzT3duUHJvcGVydHkiLCJJTkpFQ1RfTUFQUElORyIsInRvZ2dsZVhockluamVjdCIsInRvZ2dsZVByZWluamVjdCIsInNpdGUiLCJpc0V4cG9zZWQiLCJlbmFibGUiLCJvbk9mZiIsIm9uU2VuZEhlYWRlcnMiLCJvbkhlYWRlcnNSZWNlaXZlZCIsIk9uSGVhZGVyc1JlY2VpdmVkT3B0aW9ucyIsIkVYVFJBX0hFQURFUlMiLCJoYXMiLCJwcmVwYXJlWGhyQmxvYiIsInJlc3BvbnNlSGVhZGVycyIsImRldGVjdFN0cmljdENzcCIsImZvcmNlQ29udGVudEluamVjdGlvbiIsInByZXBhcmVTY3JpcHRzIiwiaXNMYXRlIiwiaGFzTW9yZSIsImV2ZXJ5Iiwic2NyIiwiaXNDb250ZW50UmVhbG0iLCJ1YSIsInJlZ2lzdGVyU2NyaXB0RGF0YUZGIiwiZGF0YUtleSIsInJlcGxhY2VXaXRoRnVsbFdpZHRoRm9ybSIsImlzQ29udGVudCIsInJlcXMiLCJyZXFzU2xpY2VzIiwiY29uY2F0IiwiaGFzUmVxcyIsImluamVjdGVkQ29kZSIsIm1ldGFTdHIiLCJNRVRBQkxPQ0tfUkUiLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJyZXNvbHZlRGF0YUNvZGVTdHIiLCJ2bVJlc29sdmUiLCJ2bURhdGEiLCJhbGxGcmFtZXMiLCJjb250ZW50U2NyaXB0cyIsIm1hdGNoZXMiLCJyZWFsbSIsIklOSkVDVF9DT05URU5UIiwiVk1fVkVSSUZZIiwiQ09ORklSTV9VUkxfQkFTRSIsInJlcXVlc3RzIiwidmVyaWZ5IiwidGFiUmVxdWVzdHMiLCJlbmNvZGVyIiwiZXZ0IiwiY3VycmVudCIsIkNvbmZpcm1JbnN0YWxsIiwiY29uZmlybUluc3RhbGwiLCJDaGVja0luc3RhbGxlclRhYiIsIkh0dHBSZXF1ZXN0IiwiZXZlbnRzVG9Ob3RpZnkiLCJodHRwUmVxdWVzdCIsIkFib3J0UmVxdWVzdCIsImFib3J0IiwiY2xlYXJSZXF1ZXN0IiwiUmV2b2tlQmxvYiIsInNwZWNpYWxIZWFkZXJzIiwiSGVhZGVySW5qZWN0b3IiLCJhcGlGaWx0ZXIiLCJPbkJlZm9yZVNlbmRIZWFkZXJzT3B0aW9ucyIsImhlYWRlcnNUb0luamVjdCIsImlzVm1WZXJpZnkiLCJpc05vdENvb2tpZSIsImlzU2VuZGFibGUiLCJpc1NlbmRhYmxlQW5vbiIsIlJFX1NFVF9DT09LSUUiLCJSRV9TRVRfQ09PS0lFX1ZBTFVFIiwiUkVfU0VUX0NPT0tJRV9BVFRSIiwiU0FNRV9TSVRFX01BUCIsInN0cmljdCIsImxheCIsIm5vbmUiLCJzZXRDb29raWVJblN0b3JlIiwiaGVhZGVyVmFsdWUiLCJleGVjIiwib3B0U3RyIiwib3B0IiwiaXNIb3N0IiwibGFzdEluZGV4Iiwic2FtZVNpdGUiLCJjb29raWVzIiwiZXhwaXJhdGlvbkRhdGUiLCJleHBpcmVzIiwiaHR0cE9ubHkiLCJzZWN1cmUiLCJzdG9yZUlkIiwiYXBpRXZlbnRzIiwib25CZWZvcmVTZW5kSGVhZGVycyIsImxpc3RlbmVyIiwicmVxdWVzdEhlYWRlcnMiLCJyZXF1ZXN0SWQiLCJyZXFJZCIsImNvcmVJZCIsIm5vTmF0aXZlQ29va2llIiwiaCIsImVuY29kZVdlYlJlcXVlc3RIZWFkZXIiLCJhZGQiLCJpc0VtcHR5IiwiQ0hVTktfU0laRSIsImJsb2IyY2h1bmsiLCJibG9iMmJhc2U2NCIsImJsb2Iyb2JqZWN0VXJsIiwieGhyQ2FsbGJhY2tXcmFwcGVyIiwibGFzdFByb21pc2UiLCJjb250ZW50VHlwZSIsImRhdGFTaXplIiwibnVtQ2h1bmtzIiwicmVzcG9uc2VUZXh0Iiwic2VudCIsImJsb2JiZWQiLCJjaHVua2VkIiwiZ2V0Q2h1bmsiLCJnZXRSZXNwb25zZUhlYWRlcnMiLCJnZXRBbGxSZXNwb25zZUhlYWRlcnMiLCJnZXRSZXNwb25zZUhlYWRlciIsImNlaWwiLCJzaG91bGROb3RpZnkiLCJzaG91bGRTZW5kUmVzcG9uc2UiLCJjYiIsImZpbmFsVXJsIiwicmVzcG9uc2VVUkwiLCJjaHVuayIsInBvcyIsImxhc3QiLCJpc1NwZWNpYWxIZWFkZXIiLCJsb3dlckhlYWRlciIsImluY29nbml0byIsIm92ZXJyaWRlTWltZVR5cGUiLCJ4aHJUeXBlIiwidm1IZWFkZXJzIiwiZGVjb2RlQm9keSIsInNob3VsZFNlbmRDb29raWVzIiwic2V0UmVxdWVzdEhlYWRlciIsImxvd2VyTmFtZSIsInRpbWVvdXQiLCJnZXRBbGxDb29raWVTdG9yZXMiLCJ0YWJJZHMiLCJmaXJlZm94IiwiZmlyc3RQYXJ0eURvbWFpbiIsImMiLCJzZXNzaW9uIiwib25sb2FkZW5kIiwid2FzQmxvYiIsInN0cmluZzJ1aW50OGFycmF5IiwiYXRvYiIsInAxIiwiaXNVc2VyU2NyaXB0IiwiY29uZmlybUtleSIsImFjdGl2ZSIsImNhblJlcGxhY2VDdXJUYWIiLCJmZiIsImNvbmZpcm1VcmwiLCJ3aW5kb3dJZCIsIndpbmRvd3MiLCJmb2N1c2VkIiwid2hpdGVsaXN0UmUiLCJSZWdFeHAiLCJibGFja2xpc3RSZSIsInJlc29sdmVWaXJ0dWFsVXJsIiwidmlydHVhbFVybFJlIiwibWF5YmVSZWRpcmVjdFZpcnR1YWxVcmxGRiIsImFwaUV2ZW50IiwiYmluZCIsIm9uQ3JlYXRlZCIsInJlZGlyZWN0VXJsIiwibWF5YmVJbnN0YWxsVXNlckpzIiwiYmluYXJ5VmFsdWUiLCJzdHJpbmcyYnl0ZVN0cmluZyIsImJ1ZmZlcjJzdHJpbmciLCJDYWNoZU5ld1NjcmlwdCIsIk5ld1NjcmlwdCIsImFycmF5VHlwZSIsImRlZmF1bHQiLCJkZWZhdWx0VHlwZSIsIm1ldGFUeXBlcyIsImluY2x1ZGUiLCJleGNsdWRlIiwiZXhjbHVkZU1hdGNoIiwicmVzb3VyY2UiLCJwYWlyIiwibWV0YU9wdGlvbmFsVHlwZXMiLCJhbnRpZmVhdHVyZSIsImNvbXBhdGlibGUiLCJjb25uZWN0IiwibWV0YUJvZHkiLCJfbWF0Y2giLCJyYXdLZXkiLCJyYXdWYWx1ZSIsImtleU5hbWUiLCJsb2NhbGUiLCJjYW1lbEtleSIsImciLCJ0b1VwcGVyQ2FzZSIsIm1ldGFUeXBlIiwib2xkVmFsdWUiLCJob21lcGFnZSIsImRhdGUiLCJ0b0xvY2FsZVN0cmluZyIsIm5hbWVzcGFjZSIsIm5hbWVVUkkiLCJlbmNvZGVGaWxlbmFtZSIsInBpZWNlIiwiZGljdCIsImtleVZhbCIsImNhY2hlT3JGZXRjaCIsImNoZWNrIiwibWFrZVJhdyIsImhhbmRsZXJzIiwiY2FjaGVPckZldGNoSGFuZGxlciIsImRvRmV0Y2giLCJpc01vZGlmaWVkIiwicGF0aElkIiwiZXh0ZW5zaW9uIiwiZ2V0Vmlld3MiLCJsb2NhdGlvbiIsIm1heWJlSW5XaW5kb3ciLCJjb250YWluZXIiLCJpbnNlcnQiLCJwaW5uZWQiLCJzcmNUYWIiLCJzcmNVcmwiLCJpc0ludGVybmFsIiwiY29va2llU3RvcmVJZCIsImdldENvbnRhaW5lcklkIiwiY2FuT3BlbkluY29nbml0byIsIm5ld1RhYiIsInduZE9wdHMiLCJoYXNQb3MiLCJ3bmQiLCJvcGVuZXJUYWJJZFN1cHBvcnRlZCIsIm9wZW5lclRhYklkIiwiVGFiQ2xvc2UiLCJUYWJGb2N1cyIsInJlYWR5IiwiZGVmaW5lUHJvcGVydGllcyIsIm9zIiwiU0NSSVBUX1RFTVBMQVRFX0VESVRFRCIsIklOSVRJQUxfVEVNUExBVEUiLCJlZGl0ZWQiLCJ0ZW1wbGF0ZSIsImRlZmF1bHRUZW1wbGF0ZSIsIlRlc3RCbGFja2xpc3QiLCJyZXNldEJsYWNrbGlzdCIsIlJFX01BVENIX1BBUlRTIiwiYmxhY2tsaXN0UnVsZXMiLCJibGFja2xpc3QiLCJSRV9IVFRQX09SX0hUVFBTIiwiTUFYX0JMX0NBQ0hFX0xFTkdUSCIsImJsQ2FjaGUiLCJibENhY2hlU2l6ZSIsInRlc3RSdWxlcyIsInJ1bGVzIiwicnVsZUJ1aWxkZXIiLCJtYXRjaGVyIiwidGVzdEdsb2IiLCJhdXRvUmVnIiwidGVzdE1hdGNoIiwibWF0Y2hUZXN0ZXIiLCJiYXRjaCIsIm1hdCIsIm1lcmdlTGlzdHMiLCJpbmMiLCJleGMiLCJleGNNYXQiLCJvayIsInN0cjJSRSIsInJlIiwiYmluZFJFIiwicmVTdHIiLCJyZVRsZFN0ciIsInRzdHIiLCJzdWZmaXgiLCJtYXRjaFNjaGVtZSIsIlJFX1NUUl9BTlkiLCJSRV9TVFJfVExEIiwiaG9zdE1hdGNoZXIiLCJydWxlTEMiLCJ0bGRTdHIiLCJ0bGRTdWZmaXgiLCJwYXRoTWF0Y2hlciIsImlIYXNoIiwiaVF1ZXJ5Iiwic3RyUmUiLCJydWxlUGFydHMiLCJtYXRjaEhvc3QiLCJtYXRjaFBhdGgiLCJwYXJ0cyIsInVwZGF0ZUJsYWNrbGlzdENhY2hlIiwiQ2hlY2tVcGRhdGUiLCJyZXN1bHRzIiwiY2hlY2tBbGxBbmROb3RpZnkiLCJDaGVja1VwZGF0ZUFsbCIsInRvVXBkYXRlIiwibm90ZXMiLCJjaGVja1VwZGF0ZSIsIm9wZW5PcHRpb25zUGFnZSIsInByb2Nlc3NlcyIsImRvQ2hlY2tVcGRhdGUiLCJtc2dPayIsIm1zZ0VyciIsInJlc291cmNlT3B0cyIsImRvd25sb2FkVXBkYXRlIiwiY2hlY2tpbmciLCJjYW5Ob3RpZnkiLCJkb3dubG9hZFVSTCIsInVwZGF0ZVVSTCIsImRldiIsImVycm9yTWVzc2FnZSIsImFubm91bmNlIiwiYWxsb3dlZCIsIm5vdGlmeVVwZGF0ZXMiLCJ1cGRhdGVTY2hlZHVsZWQiLCJHZXRWYWx1ZVN0b3JlIiwic3RvcmVzIiwiU2V0VmFsdWVTdG9yZXMiLCJicm9hZGNhc3RWYWx1ZVN0b3JlcyIsImdyb3VwU3RvcmVzQnlGcmFtZSIsIlVwZGF0ZVZhbHVlIiwidXBkYXRlTGF0ZXIiLCJvblJlcGxhY2VkIiwiYWRkZWRJZCIsInJlbW92ZWRJZCIsIm9wZW5lclRhYnMiLCJzY3JpcHRJZHMiLCJjdXJyZW50Q2FjaGUiLCJkb1VwZGF0ZSIsInZhbHVlU3RvcmVzIiwiZ3JvdXBDYWNoZUJ5RnJhbWUiLCJwYXJ0aWFsIiwidGFiRnJhbWVEYXRhIiwidGFza3MiLCJmcmFtZXMiLCJmcmFtZURhdGEiLCJjYWNoZURhdGEiLCJ0b1NlbmQiLCJzY3JpcHREYXRhIiwiZGF0YUVudHJpZXMiLCJoaXN0b3J5IiwiY2hlY2tUeXBlIiwiaGFuZGxlIiwiZGVmYXVsdFByZXZlbnRlZCIsImluaXRUTEQiLCJleHBvcnRNZXRob2QiLCJ0bGRqcyIsImlzUmVhZHkiLCJnZXREb21haW4iLCJnZXRTdWJkb21haW4iLCJnZXRQdWJsaWNTdWZmaXgiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7UUFBQTtRQUNBO1FBQ0E7UUFDQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBLFFBQVEsb0JBQW9CO1FBQzVCO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7O1FBRUE7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0EsaUJBQWlCLDRCQUE0QjtRQUM3QztRQUNBO1FBQ0Esa0JBQWtCLDJCQUEyQjtRQUM3QztRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBOztRQUVBO1FBQ0E7O1FBRUE7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7O1FBRUE7O1FBRUE7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTs7UUFFQTtRQUNBOztRQUVBO1FBQ0E7O1FBRUE7UUFDQTtRQUNBOzs7UUFHQTtRQUNBOztRQUVBO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0EsMENBQTBDLGdDQUFnQztRQUMxRTtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBLHdEQUF3RCxrQkFBa0I7UUFDMUU7UUFDQSxpREFBaUQsY0FBYztRQUMvRDs7UUFFQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0EseUNBQXlDLGlDQUFpQztRQUMxRSxnSEFBZ0gsbUJBQW1CLEVBQUU7UUFDckk7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7UUFDQSwyQkFBMkIsMEJBQTBCLEVBQUU7UUFDdkQsaUNBQWlDLGVBQWU7UUFDaEQ7UUFDQTtRQUNBOztRQUVBO1FBQ0Esc0RBQXNELCtEQUErRDs7UUFFckg7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7UUFDQTtRQUNBLGdCQUFnQix1QkFBdUI7UUFDdkM7OztRQUdBO1FBQ0E7UUFDQTtRQUNBOzs7Ozs7Ozs7Ozs7O0FDdkpZOztBQUVaO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxrQ0FBa0MsU0FBUztBQUMzQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixTQUFTO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMENBQTBDLFVBQVU7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7QUN2SkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRVk7O0FBRVosYUFBYSxtQkFBTyxDQUFDLG9EQUFXO0FBQ2hDLGNBQWMsbUJBQU8sQ0FBQyxnREFBUztBQUMvQixjQUFjLG1CQUFPLENBQUMsZ0RBQVM7O0FBRS9CO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsbURBQW1EO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsVUFBVTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsWUFBWTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBLHVDQUF1QyxTQUFTO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsaUJBQWlCO0FBQ2hDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYSxpQkFBaUI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFNBQVM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixTQUFTO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixTQUFTO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdELEVBQUU7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsaUJBQWlCLFNBQVM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGVBQWU7QUFDdkM7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0Esd0JBQXdCLFFBQVE7QUFDaEM7QUFDQSxxQkFBcUIsZUFBZTtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsWUFBWTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEscUJBQXFCLFNBQVM7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLHFCQUFxQixTQUFTO0FBQzlCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLHFCQUFxQixTQUFTO0FBQzlCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixrQkFBa0I7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLG1CQUFtQixjQUFjO0FBQ2pDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSx1REFBdUQsT0FBTztBQUM5RDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsdURBQXVELE9BQU87QUFDOUQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsa0JBQWtCO0FBQ2xCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EscUJBQXFCLFFBQVE7QUFDN0I7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLGVBQWUsU0FBUztBQUN4QjtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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O0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLHVFQUF1RSxPQUFPO0FBQzlFO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsOENBQThDLFlBQVk7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixlQUFlO0FBQzNDO0FBQ0EsaUZBQWlGLGNBQWM7QUFDL0Y7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxRQUFRO0FBQzlDO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLENBQUMsRTs7Ozs7Ozs7Ozs7O0FDcFZEO0FBQ0EsUUFBUSxJQUEwQztBQUNsRDtBQUNBLFFBQVEsaUNBQU8sRUFBRSxvQ0FBRSxPQUFPO0FBQUE7QUFBQTtBQUFBLG9HQUFDO0FBQzNCLEtBQUssTUFBTSxFQVFOO0FBQ0wsQ0FBQztBQUNEOztBQUVBO0FBQ0E7QUFDQSx3QkFBd0IsNEJBQTRCO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxxRUFBcUU7QUFDM0c7QUFDQTtBQUNBLENBQUMsRzs7Ozs7Ozs7Ozs7QUNsQ0Q7QUFDQSxRQUFRLElBQTBDO0FBQ2xEO0FBQ0EsUUFBUSxpQ0FBTyxDQUFDLG9GQUFTLENBQUMsb0NBQUUsT0FBTztBQUFBO0FBQUE7QUFBQSxvR0FBQztBQUNwQyxLQUFLLE1BQU0sRUFRTjtBQUNMLENBQUM7QUFDRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLCtCQUErQixxQ0FBcUM7QUFDcEU7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLDhCQUE4QixpRkFBaUY7QUFDL0c7QUFDQSwwREFBMEQsNENBQTRDO0FBQ3RHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRUFBaUUsc0VBQXNFO0FBQ3ZJLEtBQUs7QUFDTCxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsaURBQWlELCtDQUErQztBQUNoRztBQUNBLHlCQUF5QiwwQ0FBMEM7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDO0FBQ3pDLE9BQU87QUFDUCwrRUFBK0Usd0RBQXdEO0FBQ3ZJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQTtBQUNBLGlEQUFpRCw4QkFBOEI7QUFDL0UsOENBQThDLFlBQVk7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsQ0FBQyxHOzs7Ozs7Ozs7OztBQ2xJRDtBQUNBLFFBQVEsSUFBMEM7QUFDbEQ7QUFDQSxRQUFRLGlDQUFPLENBQUMsdUZBQVcsRUFBRSxvRkFBUyxFQUFFLHFGQUFPLEVBQUUsdUZBQVEsRUFBRSxxRkFBTyxFQUFFLHVGQUFRLENBQUMsb0NBQUUsT0FBTztBQUFBO0FBQUE7QUFBQSxvR0FBQztBQUN2RixLQUFLLE1BQU0sRUFRTjtBQUNMLENBQUM7QUFDRDs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsV0FBVztBQUM1QjtBQUNBLGFBQWEsV0FBVztBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsYUFBYSxlQUFlO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsMENBQTBDLFlBQVk7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjs7QUFFbEI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxnQkFBZ0Isc0JBQXNCOztBQUV0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGlCQUFpQjtBQUNqQzs7QUFFQTs7QUFFQSw4Q0FBOEMsWUFBWTtBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQix1Q0FBdUM7QUFDMUQ7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBOztBQUVBLDJDQUEyQyxZQUFZO0FBQ3ZEO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBLDJDQUEyQyxZQUFZO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxnQkFBZ0IsbUZBQW1GO0FBQ25HOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkIsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaLFdBQVc7QUFDWDtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQSxZQUFZO0FBQ1osV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxPQUFPO0FBQ1A7QUFDQSxLQUFLO0FBQ0w7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFlBQVk7QUFDWjtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBLGFBQWE7QUFDYixZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0EsVUFBVTtBQUNWO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsSUFBSTtBQUNKOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLElBQUk7QUFDSixHQUFHOztBQUVIO0FBQ0E7QUFDQSxDQUFDLEc7Ozs7Ozs7Ozs7O0FDN2hCRDtBQUNBLFFBQVEsSUFBMEM7QUFDbEQ7QUFDQSxRQUFRLGlDQUFPLENBQUMsb0ZBQVMsQ0FBQyxvQ0FBRSxPQUFPO0FBQUE7QUFBQTtBQUFBLG9HQUFDO0FBQ3BDLEtBQUssTUFBTSxFQVFOO0FBQ0wsQ0FBQztBQUNEOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLFlBQVk7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7O0FBRUg7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsMERBQTBELG1FQUFtRTtBQUM3SCxHQUFHOztBQUVIOztBQUVBO0FBQ0EsbUNBQW1DLGtFQUFrRTtBQUNyRyxHQUFHOztBQUVIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsS0FBSztBQUNMO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIOztBQUVBO0FBQ0EsK0NBQStDLG1FQUFtRTtBQUNsSCxHQUFHOztBQUVIOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RCxxQkFBcUI7QUFDbEY7QUFDQSxLQUFLO0FBQ0w7QUFDQSxvQkFBb0IsT0FBTztBQUMzQjtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLEdBQUc7O0FBRUg7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLGlDQUFpQztBQUMxRSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaURBQWlELGdDQUFnQztBQUNqRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLFlBQVksaUVBQWlFO0FBQzdFLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1Qyw2QkFBNkI7QUFDcEU7QUFDQSxHQUFHOztBQUVIO0FBQ0EsZ0RBQWdELGtFQUFrRTtBQUNsSCxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksZUFBZSxrRUFBa0U7QUFDckYsR0FBRzs7QUFFSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7O0FBRUE7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQztBQUN0QyxLQUFLO0FBQ0w7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLHFCQUFxQixTQUFTO0FBQzlCO0FBQ0EsSUFBSTtBQUNKLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osR0FBRzs7QUFFSDs7QUFFQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtB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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLG1CQUFtQiw0QkFBNEI7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxtQkFBbUIseUJBQXlCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLE9BQU87QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsT0FBTztBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyxPQUFPO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esa0JBQWtCLG1CQUFtQjtBQUNyQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsbUJBQW1CO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsaUJBQWlCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLFFBQVE7QUFDdEM7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFVBQVUsTUFBTTtBQUNoQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7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SUQ7QUFDRjs7QUFqRCtCLEM7Ozs7Ozs7Ozs7OztBQ0FsQztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0NBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ08sU0FBU0MsT0FBVCxHQUFtQixDQUFFOztBQUU1QixTQUFTQyxZQUFULENBQXNCamxDLEdBQXRCLEVBQTJCO0FBQ3pCLFNBQU8sQ0FBQyxHQUFHOUQsSUFBSixLQUFhZ3BDLDRDQUFLLElBQUlBLDRDQUFLLENBQUNsbEMsR0FBRCxDQUFMLENBQVcsR0FBRzlELElBQWQsQ0FBN0I7QUFDRDs7QUFFTSxTQUFTaXBDLE9BQVQsR0FBbUI7QUFDeEIsU0FBTyxDQUFDLENBQUNELDRDQUFUO0FBQ0Q7QUFFTSxNQUFNRSxTQUFTLEdBQUdILFlBQVksQ0FBQyxXQUFELENBQTlCO0FBQ0EsTUFBTUksWUFBWSxHQUFHSixZQUFZLENBQUMsY0FBRCxDQUFqQztBQUNBLE1BQU1LLGVBQWUsR0FBR0wsWUFBWSxDQUFDLGlCQUFELENBQXBDLEMiLCJmaWxlIjoiYmFja2dyb3VuZC9pbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIGluc3RhbGwgYSBKU09OUCBjYWxsYmFjayBmb3IgY2h1bmsgbG9hZGluZ1xuIFx0ZnVuY3Rpb24gd2VicGFja0pzb25wQ2FsbGJhY2soZGF0YSkge1xuIFx0XHR2YXIgY2h1bmtJZHMgPSBkYXRhWzBdO1xuIFx0XHR2YXIgbW9yZU1vZHVsZXMgPSBkYXRhWzFdO1xuIFx0XHR2YXIgZXhlY3V0ZU1vZHVsZXMgPSBkYXRhWzJdO1xuXG4gXHRcdC8vIGFkZCBcIm1vcmVNb2R1bGVzXCIgdG8gdGhlIG1vZHVsZXMgb2JqZWN0LFxuIFx0XHQvLyB0aGVuIGZsYWcgYWxsIFwiY2h1bmtJZHNcIiBhcyBsb2FkZWQgYW5kIGZpcmUgY2FsbGJhY2tcbiBcdFx0dmFyIG1vZHVsZUlkLCBjaHVua0lkLCBpID0gMCwgcmVzb2x2ZXMgPSBbXTtcbiBcdFx0Zm9yKDtpIDwgY2h1bmtJZHMubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHRjaHVua0lkID0gY2h1bmtJZHNbaV07XG4gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGluc3RhbGxlZENodW5rcywgY2h1bmtJZCkgJiYgaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdKSB7XG4gXHRcdFx0XHRyZXNvbHZlcy5wdXNoKGluc3RhbGxlZENodW5rc1tjaHVua0lkXVswXSk7XG4gXHRcdFx0fVxuIFx0XHRcdGluc3RhbGxlZENodW5rc1tjaHVua0lkXSA9IDA7XG4gXHRcdH1cbiBcdFx0Zm9yKG1vZHVsZUlkIGluIG1vcmVNb2R1bGVzKSB7XG4gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vcmVNb2R1bGVzLCBtb2R1bGVJZCkpIHtcbiBcdFx0XHRcdG1vZHVsZXNbbW9kdWxlSWRdID0gbW9yZU1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0XHRcdH1cbiBcdFx0fVxuIFx0XHRpZihwYXJlbnRKc29ucEZ1bmN0aW9uKSBwYXJlbnRKc29ucEZ1bmN0aW9uKGRhdGEpO1xuXG4gXHRcdHdoaWxlKHJlc29sdmVzLmxlbmd0aCkge1xuIFx0XHRcdHJlc29sdmVzLnNoaWZ0KCkoKTtcbiBcdFx0fVxuXG4gXHRcdC8vIGFkZCBlbnRyeSBtb2R1bGVzIGZyb20gbG9hZGVkIGNodW5rIHRvIGRlZmVycmVkIGxpc3RcbiBcdFx0ZGVmZXJyZWRNb2R1bGVzLnB1c2guYXBwbHkoZGVmZXJyZWRNb2R1bGVzLCBleGVjdXRlTW9kdWxlcyB8fCBbXSk7XG5cbiBcdFx0Ly8gcnVuIGRlZmVycmVkIG1vZHVsZXMgd2hlbiBhbGwgY2h1bmtzIHJlYWR5XG4gXHRcdHJldHVybiBjaGVja0RlZmVycmVkTW9kdWxlcygpO1xuIFx0fTtcbiBcdGZ1bmN0aW9uIGNoZWNrRGVmZXJyZWRNb2R1bGVzKCkge1xuIFx0XHR2YXIgcmVzdWx0O1xuIFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgZGVmZXJyZWRNb2R1bGVzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0dmFyIGRlZmVycmVkTW9kdWxlID0gZGVmZXJyZWRNb2R1bGVzW2ldO1xuIFx0XHRcdHZhciBmdWxmaWxsZWQgPSB0cnVlO1xuIFx0XHRcdGZvcih2YXIgaiA9IDE7IGogPCBkZWZlcnJlZE1vZHVsZS5sZW5ndGg7IGorKykge1xuIFx0XHRcdFx0dmFyIGRlcElkID0gZGVmZXJyZWRNb2R1bGVbal07XG4gXHRcdFx0XHRpZihpbnN0YWxsZWRDaHVua3NbZGVwSWRdICE9PSAwKSBmdWxmaWxsZWQgPSBmYWxzZTtcbiBcdFx0XHR9XG4gXHRcdFx0aWYoZnVsZmlsbGVkKSB7XG4gXHRcdFx0XHRkZWZlcnJlZE1vZHVsZXMuc3BsaWNlKGktLSwgMSk7XG4gXHRcdFx0XHRyZXN1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IGRlZmVycmVkTW9kdWxlWzBdKTtcbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHRyZXR1cm4gcmVzdWx0O1xuIFx0fVxuXG4gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBvYmplY3QgdG8gc3RvcmUgbG9hZGVkIGFuZCBsb2FkaW5nIGNodW5rc1xuIFx0Ly8gdW5kZWZpbmVkID0gY2h1bmsgbm90IGxvYWRlZCwgbnVsbCA9IGNodW5rIHByZWxvYWRlZC9wcmVmZXRjaGVkXG4gXHQvLyBQcm9taXNlID0gY2h1bmsgbG9hZGluZywgMCA9IGNodW5rIGxvYWRlZFxuIFx0dmFyIGluc3RhbGxlZENodW5rcyA9IHtcbiBcdFx0XCJiYWNrZ3JvdW5kL2luZGV4XCI6IDBcbiBcdH07XG5cbiBcdHZhciBkZWZlcnJlZE1vZHVsZXMgPSBbXTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuIFx0dmFyIGpzb25wQXJyYXkgPSB3aW5kb3dbXCJ3ZWJwYWNrSnNvbnBcIl0gPSB3aW5kb3dbXCJ3ZWJwYWNrSnNvbnBcIl0gfHwgW107XG4gXHR2YXIgb2xkSnNvbnBGdW5jdGlvbiA9IGpzb25wQXJyYXkucHVzaC5iaW5kKGpzb25wQXJyYXkpO1xuIFx0anNvbnBBcnJheS5wdXNoID0gd2VicGFja0pzb25wQ2FsbGJhY2s7XG4gXHRqc29ucEFycmF5ID0ganNvbnBBcnJheS5zbGljZSgpO1xuIFx0Zm9yKHZhciBpID0gMDsgaSA8IGpzb25wQXJyYXkubGVuZ3RoOyBpKyspIHdlYnBhY2tKc29ucENhbGxiYWNrKGpzb25wQXJyYXlbaV0pO1xuIFx0dmFyIHBhcmVudEpzb25wRnVuY3Rpb24gPSBvbGRKc29ucEZ1bmN0aW9uO1xuXG5cbiBcdC8vIGFkZCBlbnRyeSBtb2R1bGUgdG8gZGVmZXJyZWQgbGlzdFxuIFx0ZGVmZXJyZWRNb2R1bGVzLnB1c2goW1wiLi9zcmMvYmFja2dyb3VuZC9pbmRleC5qc1wiLFwicHVibGljL2xpYi90bGRqc1wiLFwiY29tbW9uXCJdKTtcbiBcdC8vIHJ1biBkZWZlcnJlZCBtb2R1bGVzIHdoZW4gcmVhZHlcbiBcdHJldHVybiBjaGVja0RlZmVycmVkTW9kdWxlcygpO1xuIiwiJ3VzZSBzdHJpY3QnXG5cbmV4cG9ydHMuYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGhcbmV4cG9ydHMudG9CeXRlQXJyYXkgPSB0b0J5dGVBcnJheVxuZXhwb3J0cy5mcm9tQnl0ZUFycmF5ID0gZnJvbUJ5dGVBcnJheVxuXG52YXIgbG9va3VwID0gW11cbnZhciByZXZMb29rdXAgPSBbXVxudmFyIEFyciA9IHR5cGVvZiBVaW50OEFycmF5ICE9PSAndW5kZWZpbmVkJyA/IFVpbnQ4QXJyYXkgOiBBcnJheVxuXG52YXIgY29kZSA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvJ1xuZm9yICh2YXIgaSA9IDAsIGxlbiA9IGNvZGUubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcbiAgbG9va3VwW2ldID0gY29kZVtpXVxuICByZXZMb29rdXBbY29kZS5jaGFyQ29kZUF0KGkpXSA9IGlcbn1cblxuLy8gU3VwcG9ydCBkZWNvZGluZyBVUkwtc2FmZSBiYXNlNjQgc3RyaW5ncywgYXMgTm9kZS5qcyBkb2VzLlxuLy8gU2VlOiBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9CYXNlNjQjVVJMX2FwcGxpY2F0aW9uc1xucmV2TG9va3VwWyctJy5jaGFyQ29kZUF0KDApXSA9IDYyXG5yZXZMb29rdXBbJ18nLmNoYXJDb2RlQXQoMCldID0gNjNcblxuZnVuY3Rpb24gZ2V0TGVucyAoYjY0KSB7XG4gIHZhciBsZW4gPSBiNjQubGVuZ3RoXG5cbiAgaWYgKGxlbiAlIDQgPiAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHN0cmluZy4gTGVuZ3RoIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA0JylcbiAgfVxuXG4gIC8vIFRyaW0gb2ZmIGV4dHJhIGJ5dGVzIGFmdGVyIHBsYWNlaG9sZGVyIGJ5dGVzIGFyZSBmb3VuZFxuICAvLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9iZWF0Z2FtbWl0L2Jhc2U2NC1qcy9pc3N1ZXMvNDJcbiAgdmFyIHZhbGlkTGVuID0gYjY0LmluZGV4T2YoJz0nKVxuICBpZiAodmFsaWRMZW4gPT09IC0xKSB2YWxpZExlbiA9IGxlblxuXG4gIHZhciBwbGFjZUhvbGRlcnNMZW4gPSB2YWxpZExlbiA9PT0gbGVuXG4gICAgPyAwXG4gICAgOiA0IC0gKHZhbGlkTGVuICUgNClcblxuICByZXR1cm4gW3ZhbGlkTGVuLCBwbGFjZUhvbGRlcnNMZW5dXG59XG5cbi8vIGJhc2U2NCBpcyA0LzMgKyB1cCB0byB0d28gY2hhcmFjdGVycyBvZiB0aGUgb3JpZ2luYWwgZGF0YVxuZnVuY3Rpb24gYnl0ZUxlbmd0aCAoYjY0KSB7XG4gIHZhciBsZW5zID0gZ2V0TGVucyhiNjQpXG4gIHZhciB2YWxpZExlbiA9IGxlbnNbMF1cbiAgdmFyIHBsYWNlSG9sZGVyc0xlbiA9IGxlbnNbMV1cbiAgcmV0dXJuICgodmFsaWRMZW4gKyBwbGFjZUhvbGRlcnNMZW4pICogMyAvIDQpIC0gcGxhY2VIb2xkZXJzTGVuXG59XG5cbmZ1bmN0aW9uIF9ieXRlTGVuZ3RoIChiNjQsIHZhbGlkTGVuLCBwbGFjZUhvbGRlcnNMZW4pIHtcbiAgcmV0dXJuICgodmFsaWRMZW4gKyBwbGFjZUhvbGRlcnNMZW4pICogMyAvIDQpIC0gcGxhY2VIb2xkZXJzTGVuXG59XG5cbmZ1bmN0aW9uIHRvQnl0ZUFycmF5IChiNjQpIHtcbiAgdmFyIHRtcFxuICB2YXIgbGVucyA9IGdldExlbnMoYjY0KVxuICB2YXIgdmFsaWRMZW4gPSBsZW5zWzBdXG4gIHZhciBwbGFjZUhvbGRlcnNMZW4gPSBsZW5zWzFdXG5cbiAgdmFyIGFyciA9IG5ldyBBcnIoX2J5dGVMZW5ndGgoYjY0LCB2YWxpZExlbiwgcGxhY2VIb2xkZXJzTGVuKSlcblxuICB2YXIgY3VyQnl0ZSA9IDBcblxuICAvLyBpZiB0aGVyZSBhcmUgcGxhY2Vob2xkZXJzLCBvbmx5IGdldCB1cCB0byB0aGUgbGFzdCBjb21wbGV0ZSA0IGNoYXJzXG4gIHZhciBsZW4gPSBwbGFjZUhvbGRlcnNMZW4gPiAwXG4gICAgPyB2YWxpZExlbiAtIDRcbiAgICA6IHZhbGlkTGVuXG5cbiAgdmFyIGlcbiAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSArPSA0KSB7XG4gICAgdG1wID1cbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSldIDw8IDE4KSB8XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAxKV0gPDwgMTIpIHxcbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDIpXSA8PCA2KSB8XG4gICAgICByZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDMpXVxuICAgIGFycltjdXJCeXRlKytdID0gKHRtcCA+PiAxNikgJiAweEZGXG4gICAgYXJyW2N1ckJ5dGUrK10gPSAodG1wID4+IDgpICYgMHhGRlxuICAgIGFycltjdXJCeXRlKytdID0gdG1wICYgMHhGRlxuICB9XG5cbiAgaWYgKHBsYWNlSG9sZGVyc0xlbiA9PT0gMikge1xuICAgIHRtcCA9XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkpXSA8PCAyKSB8XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAxKV0gPj4gNClcbiAgICBhcnJbY3VyQnl0ZSsrXSA9IHRtcCAmIDB4RkZcbiAgfVxuXG4gIGlmIChwbGFjZUhvbGRlcnNMZW4gPT09IDEpIHtcbiAgICB0bXAgPVxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpKV0gPDwgMTApIHxcbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDEpXSA8PCA0KSB8XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAyKV0gPj4gMilcbiAgICBhcnJbY3VyQnl0ZSsrXSA9ICh0bXAgPj4gOCkgJiAweEZGXG4gICAgYXJyW2N1ckJ5dGUrK10gPSB0bXAgJiAweEZGXG4gIH1cblxuICByZXR1cm4gYXJyXG59XG5cbmZ1bmN0aW9uIHRyaXBsZXRUb0Jhc2U2NCAobnVtKSB7XG4gIHJldHVybiBsb29rdXBbbnVtID4+IDE4ICYgMHgzRl0gK1xuICAgIGxvb2t1cFtudW0gPj4gMTIgJiAweDNGXSArXG4gICAgbG9va3VwW251bSA+PiA2ICYgMHgzRl0gK1xuICAgIGxvb2t1cFtudW0gJiAweDNGXVxufVxuXG5mdW5jdGlvbiBlbmNvZGVDaHVuayAodWludDgsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIHRtcFxuICB2YXIgb3V0cHV0ID0gW11cbiAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyBpICs9IDMpIHtcbiAgICB0bXAgPVxuICAgICAgKCh1aW50OFtpXSA8PCAxNikgJiAweEZGMDAwMCkgK1xuICAgICAgKCh1aW50OFtpICsgMV0gPDwgOCkgJiAweEZGMDApICtcbiAgICAgICh1aW50OFtpICsgMl0gJiAweEZGKVxuICAgIG91dHB1dC5wdXNoKHRyaXBsZXRUb0Jhc2U2NCh0bXApKVxuICB9XG4gIHJldHVybiBvdXRwdXQuam9pbignJylcbn1cblxuZnVuY3Rpb24gZnJvbUJ5dGVBcnJheSAodWludDgpIHtcbiAgdmFyIHRtcFxuICB2YXIgbGVuID0gdWludDgubGVuZ3RoXG4gIHZhciBleHRyYUJ5dGVzID0gbGVuICUgMyAvLyBpZiB3ZSBoYXZlIDEgYnl0ZSBsZWZ0LCBwYWQgMiBieXRlc1xuICB2YXIgcGFydHMgPSBbXVxuICB2YXIgbWF4Q2h1bmtMZW5ndGggPSAxNjM4MyAvLyBtdXN0IGJlIG11bHRpcGxlIG9mIDNcblxuICAvLyBnbyB0aHJvdWdoIHRoZSBhcnJheSBldmVyeSB0aHJlZSBieXRlcywgd2UnbGwgZGVhbCB3aXRoIHRyYWlsaW5nIHN0dWZmIGxhdGVyXG4gIGZvciAodmFyIGkgPSAwLCBsZW4yID0gbGVuIC0gZXh0cmFCeXRlczsgaSA8IGxlbjI7IGkgKz0gbWF4Q2h1bmtMZW5ndGgpIHtcbiAgICBwYXJ0cy5wdXNoKGVuY29kZUNodW5rKFxuICAgICAgdWludDgsIGksIChpICsgbWF4Q2h1bmtMZW5ndGgpID4gbGVuMiA/IGxlbjIgOiAoaSArIG1heENodW5rTGVuZ3RoKVxuICAgICkpXG4gIH1cblxuICAvLyBwYWQgdGhlIGVuZCB3aXRoIHplcm9zLCBidXQgbWFrZSBzdXJlIHRvIG5vdCBmb3JnZXQgdGhlIGV4dHJhIGJ5dGVzXG4gIGlmIChleHRyYUJ5dGVzID09PSAxKSB7XG4gICAgdG1wID0gdWludDhbbGVuIC0gMV1cbiAgICBwYXJ0cy5wdXNoKFxuICAgICAgbG9va3VwW3RtcCA+PiAyXSArXG4gICAgICBsb29rdXBbKHRtcCA8PCA0KSAmIDB4M0ZdICtcbiAgICAgICc9PSdcbiAgICApXG4gIH0gZWxzZSBpZiAoZXh0cmFCeXRlcyA9PT0gMikge1xuICAgIHRtcCA9ICh1aW50OFtsZW4gLSAyXSA8PCA4KSArIHVpbnQ4W2xlbiAtIDFdXG4gICAgcGFydHMucHVzaChcbiAgICAgIGxvb2t1cFt0bXAgPj4gMTBdICtcbiAgICAgIGxvb2t1cFsodG1wID4+IDQpICYgMHgzRl0gK1xuICAgICAgbG9va3VwWyh0bXAgPDwgMikgJiAweDNGXSArXG4gICAgICAnPSdcbiAgICApXG4gIH1cblxuICByZXR1cm4gcGFydHMuam9pbignJylcbn1cbiIsIi8qIVxuICogVGhlIGJ1ZmZlciBtb2R1bGUgZnJvbSBub2RlLmpzLCBmb3IgdGhlIGJyb3dzZXIuXG4gKlxuICogQGF1dGhvciAgIEZlcm9zcyBBYm91a2hhZGlqZWggPGh0dHA6Ly9mZXJvc3Mub3JnPlxuICogQGxpY2Vuc2UgIE1JVFxuICovXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1wcm90byAqL1xuXG4ndXNlIHN0cmljdCdcblxudmFyIGJhc2U2NCA9IHJlcXVpcmUoJ2Jhc2U2NC1qcycpXG52YXIgaWVlZTc1NCA9IHJlcXVpcmUoJ2llZWU3NTQnKVxudmFyIGlzQXJyYXkgPSByZXF1aXJlKCdpc2FycmF5JylcblxuZXhwb3J0cy5CdWZmZXIgPSBCdWZmZXJcbmV4cG9ydHMuU2xvd0J1ZmZlciA9IFNsb3dCdWZmZXJcbmV4cG9ydHMuSU5TUEVDVF9NQVhfQllURVMgPSA1MFxuXG4vKipcbiAqIElmIGBCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVGA6XG4gKiAgID09PSB0cnVlICAgIFVzZSBVaW50OEFycmF5IGltcGxlbWVudGF0aW9uIChmYXN0ZXN0KVxuICogICA9PT0gZmFsc2UgICBVc2UgT2JqZWN0IGltcGxlbWVudGF0aW9uIChtb3N0IGNvbXBhdGlibGUsIGV2ZW4gSUU2KVxuICpcbiAqIEJyb3dzZXJzIHRoYXQgc3VwcG9ydCB0eXBlZCBhcnJheXMgYXJlIElFIDEwKywgRmlyZWZveCA0KywgQ2hyb21lIDcrLCBTYWZhcmkgNS4xKyxcbiAqIE9wZXJhIDExLjYrLCBpT1MgNC4yKy5cbiAqXG4gKiBEdWUgdG8gdmFyaW91cyBicm93c2VyIGJ1Z3MsIHNvbWV0aW1lcyB0aGUgT2JqZWN0IGltcGxlbWVudGF0aW9uIHdpbGwgYmUgdXNlZCBldmVuXG4gKiB3aGVuIHRoZSBicm93c2VyIHN1cHBvcnRzIHR5cGVkIGFycmF5cy5cbiAqXG4gKiBOb3RlOlxuICpcbiAqICAgLSBGaXJlZm94IDQtMjkgbGFja3Mgc3VwcG9ydCBmb3IgYWRkaW5nIG5ldyBwcm9wZXJ0aWVzIHRvIGBVaW50OEFycmF5YCBpbnN0YW5jZXMsXG4gKiAgICAgU2VlOiBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD02OTU0MzguXG4gKlxuICogICAtIENocm9tZSA5LTEwIGlzIG1pc3NpbmcgdGhlIGBUeXBlZEFycmF5LnByb3RvdHlwZS5zdWJhcnJheWAgZnVuY3Rpb24uXG4gKlxuICogICAtIElFMTAgaGFzIGEgYnJva2VuIGBUeXBlZEFycmF5LnByb3RvdHlwZS5zdWJhcnJheWAgZnVuY3Rpb24gd2hpY2ggcmV0dXJucyBhcnJheXMgb2ZcbiAqICAgICBpbmNvcnJlY3QgbGVuZ3RoIGluIHNvbWUgc2l0dWF0aW9ucy5cblxuICogV2UgZGV0ZWN0IHRoZXNlIGJ1Z2d5IGJyb3dzZXJzIGFuZCBzZXQgYEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUYCB0byBgZmFsc2VgIHNvIHRoZXlcbiAqIGdldCB0aGUgT2JqZWN0IGltcGxlbWVudGF0aW9uLCB3aGljaCBpcyBzbG93ZXIgYnV0IGJlaGF2ZXMgY29ycmVjdGx5LlxuICovXG5CdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCA9IGdsb2JhbC5UWVBFRF9BUlJBWV9TVVBQT1JUICE9PSB1bmRlZmluZWRcbiAgPyBnbG9iYWwuVFlQRURfQVJSQVlfU1VQUE9SVFxuICA6IHR5cGVkQXJyYXlTdXBwb3J0KClcblxuLypcbiAqIEV4cG9ydCBrTWF4TGVuZ3RoIGFmdGVyIHR5cGVkIGFycmF5IHN1cHBvcnQgaXMgZGV0ZXJtaW5lZC5cbiAqL1xuZXhwb3J0cy5rTWF4TGVuZ3RoID0ga01heExlbmd0aCgpXG5cbmZ1bmN0aW9uIHR5cGVkQXJyYXlTdXBwb3J0ICgpIHtcbiAgdHJ5IHtcbiAgICB2YXIgYXJyID0gbmV3IFVpbnQ4QXJyYXkoMSlcbiAgICBhcnIuX19wcm90b19fID0ge19fcHJvdG9fXzogVWludDhBcnJheS5wcm90b3R5cGUsIGZvbzogZnVuY3Rpb24gKCkgeyByZXR1cm4gNDIgfX1cbiAgICByZXR1cm4gYXJyLmZvbygpID09PSA0MiAmJiAvLyB0eXBlZCBhcnJheSBpbnN0YW5jZXMgY2FuIGJlIGF1Z21lbnRlZFxuICAgICAgICB0eXBlb2YgYXJyLnN1YmFycmF5ID09PSAnZnVuY3Rpb24nICYmIC8vIGNocm9tZSA5LTEwIGxhY2sgYHN1YmFycmF5YFxuICAgICAgICBhcnIuc3ViYXJyYXkoMSwgMSkuYnl0ZUxlbmd0aCA9PT0gMCAvLyBpZTEwIGhhcyBicm9rZW4gYHN1YmFycmF5YFxuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cbn1cblxuZnVuY3Rpb24ga01heExlbmd0aCAoKSB7XG4gIHJldHVybiBCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVFxuICAgID8gMHg3ZmZmZmZmZlxuICAgIDogMHgzZmZmZmZmZlxufVxuXG5mdW5jdGlvbiBjcmVhdGVCdWZmZXIgKHRoYXQsIGxlbmd0aCkge1xuICBpZiAoa01heExlbmd0aCgpIDwgbGVuZ3RoKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0ludmFsaWQgdHlwZWQgYXJyYXkgbGVuZ3RoJylcbiAgfVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICAvLyBSZXR1cm4gYW4gYXVnbWVudGVkIGBVaW50OEFycmF5YCBpbnN0YW5jZSwgZm9yIGJlc3QgcGVyZm9ybWFuY2VcbiAgICB0aGF0ID0gbmV3IFVpbnQ4QXJyYXkobGVuZ3RoKVxuICAgIHRoYXQuX19wcm90b19fID0gQnVmZmVyLnByb3RvdHlwZVxuICB9IGVsc2Uge1xuICAgIC8vIEZhbGxiYWNrOiBSZXR1cm4gYW4gb2JqZWN0IGluc3RhbmNlIG9mIHRoZSBCdWZmZXIgY2xhc3NcbiAgICBpZiAodGhhdCA9PT0gbnVsbCkge1xuICAgICAgdGhhdCA9IG5ldyBCdWZmZXIobGVuZ3RoKVxuICAgIH1cbiAgICB0aGF0Lmxlbmd0aCA9IGxlbmd0aFxuICB9XG5cbiAgcmV0dXJuIHRoYXRcbn1cblxuLyoqXG4gKiBUaGUgQnVmZmVyIGNvbnN0cnVjdG9yIHJldHVybnMgaW5zdGFuY2VzIG9mIGBVaW50OEFycmF5YCB0aGF0IGhhdmUgdGhlaXJcbiAqIHByb3RvdHlwZSBjaGFuZ2VkIHRvIGBCdWZmZXIucHJvdG90eXBlYC4gRnVydGhlcm1vcmUsIGBCdWZmZXJgIGlzIGEgc3ViY2xhc3Mgb2ZcbiAqIGBVaW50OEFycmF5YCwgc28gdGhlIHJldHVybmVkIGluc3RhbmNlcyB3aWxsIGhhdmUgYWxsIHRoZSBub2RlIGBCdWZmZXJgIG1ldGhvZHNcbiAqIGFuZCB0aGUgYFVpbnQ4QXJyYXlgIG1ldGhvZHMuIFNxdWFyZSBicmFja2V0IG5vdGF0aW9uIHdvcmtzIGFzIGV4cGVjdGVkIC0tIGl0XG4gKiByZXR1cm5zIGEgc2luZ2xlIG9jdGV0LlxuICpcbiAqIFRoZSBgVWludDhBcnJheWAgcHJvdG90eXBlIHJlbWFpbnMgdW5tb2RpZmllZC5cbiAqL1xuXG5mdW5jdGlvbiBCdWZmZXIgKGFyZywgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKSB7XG4gIGlmICghQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQgJiYgISh0aGlzIGluc3RhbmNlb2YgQnVmZmVyKSkge1xuICAgIHJldHVybiBuZXcgQnVmZmVyKGFyZywgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKVxuICB9XG5cbiAgLy8gQ29tbW9uIGNhc2UuXG4gIGlmICh0eXBlb2YgYXJnID09PSAnbnVtYmVyJykge1xuICAgIGlmICh0eXBlb2YgZW5jb2RpbmdPck9mZnNldCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ0lmIGVuY29kaW5nIGlzIHNwZWNpZmllZCB0aGVuIHRoZSBmaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgc3RyaW5nJ1xuICAgICAgKVxuICAgIH1cbiAgICByZXR1cm4gYWxsb2NVbnNhZmUodGhpcywgYXJnKVxuICB9XG4gIHJldHVybiBmcm9tKHRoaXMsIGFyZywgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKVxufVxuXG5CdWZmZXIucG9vbFNpemUgPSA4MTkyIC8vIG5vdCB1c2VkIGJ5IHRoaXMgaW1wbGVtZW50YXRpb25cblxuLy8gVE9ETzogTGVnYWN5LCBub3QgbmVlZGVkIGFueW1vcmUuIFJlbW92ZSBpbiBuZXh0IG1ham9yIHZlcnNpb24uXG5CdWZmZXIuX2F1Z21lbnQgPSBmdW5jdGlvbiAoYXJyKSB7XG4gIGFyci5fX3Byb3RvX18gPSBCdWZmZXIucHJvdG90eXBlXG4gIHJldHVybiBhcnJcbn1cblxuZnVuY3Rpb24gZnJvbSAodGhhdCwgdmFsdWUsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aCkge1xuICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1widmFsdWVcIiBhcmd1bWVudCBtdXN0IG5vdCBiZSBhIG51bWJlcicpXG4gIH1cblxuICBpZiAodHlwZW9mIEFycmF5QnVmZmVyICE9PSAndW5kZWZpbmVkJyAmJiB2YWx1ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgcmV0dXJuIGZyb21BcnJheUJ1ZmZlcih0aGF0LCB2YWx1ZSwgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKVxuICB9XG5cbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gZnJvbVN0cmluZyh0aGF0LCB2YWx1ZSwgZW5jb2RpbmdPck9mZnNldClcbiAgfVxuXG4gIHJldHVybiBmcm9tT2JqZWN0KHRoYXQsIHZhbHVlKVxufVxuXG4vKipcbiAqIEZ1bmN0aW9uYWxseSBlcXVpdmFsZW50IHRvIEJ1ZmZlcihhcmcsIGVuY29kaW5nKSBidXQgdGhyb3dzIGEgVHlwZUVycm9yXG4gKiBpZiB2YWx1ZSBpcyBhIG51bWJlci5cbiAqIEJ1ZmZlci5mcm9tKHN0clssIGVuY29kaW5nXSlcbiAqIEJ1ZmZlci5mcm9tKGFycmF5KVxuICogQnVmZmVyLmZyb20oYnVmZmVyKVxuICogQnVmZmVyLmZyb20oYXJyYXlCdWZmZXJbLCBieXRlT2Zmc2V0WywgbGVuZ3RoXV0pXG4gKiovXG5CdWZmZXIuZnJvbSA9IGZ1bmN0aW9uICh2YWx1ZSwgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBmcm9tKG51bGwsIHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpXG59XG5cbmlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICBCdWZmZXIucHJvdG90eXBlLl9fcHJvdG9fXyA9IFVpbnQ4QXJyYXkucHJvdG90eXBlXG4gIEJ1ZmZlci5fX3Byb3RvX18gPSBVaW50OEFycmF5XG4gIGlmICh0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wuc3BlY2llcyAmJlxuICAgICAgQnVmZmVyW1N5bWJvbC5zcGVjaWVzXSA9PT0gQnVmZmVyKSB7XG4gICAgLy8gRml4IHN1YmFycmF5KCkgaW4gRVMyMDE2LiBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9mZXJvc3MvYnVmZmVyL3B1bGwvOTdcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQnVmZmVyLCBTeW1ib2wuc3BlY2llcywge1xuICAgICAgdmFsdWU6IG51bGwsXG4gICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KVxuICB9XG59XG5cbmZ1bmN0aW9uIGFzc2VydFNpemUgKHNpemUpIHtcbiAgaWYgKHR5cGVvZiBzaXplICE9PSAnbnVtYmVyJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wic2l6ZVwiIGFyZ3VtZW50IG11c3QgYmUgYSBudW1iZXInKVxuICB9IGVsc2UgaWYgKHNpemUgPCAwKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1wic2l6ZVwiIGFyZ3VtZW50IG11c3Qgbm90IGJlIG5lZ2F0aXZlJylcbiAgfVxufVxuXG5mdW5jdGlvbiBhbGxvYyAodGhhdCwgc2l6ZSwgZmlsbCwgZW5jb2RpbmcpIHtcbiAgYXNzZXJ0U2l6ZShzaXplKVxuICBpZiAoc2l6ZSA8PSAwKSB7XG4gICAgcmV0dXJuIGNyZWF0ZUJ1ZmZlcih0aGF0LCBzaXplKVxuICB9XG4gIGlmIChmaWxsICE9PSB1bmRlZmluZWQpIHtcbiAgICAvLyBPbmx5IHBheSBhdHRlbnRpb24gdG8gZW5jb2RpbmcgaWYgaXQncyBhIHN0cmluZy4gVGhpc1xuICAgIC8vIHByZXZlbnRzIGFjY2lkZW50YWxseSBzZW5kaW5nIGluIGEgbnVtYmVyIHRoYXQgd291bGRcbiAgICAvLyBiZSBpbnRlcnByZXR0ZWQgYXMgYSBzdGFydCBvZmZzZXQuXG4gICAgcmV0dXJuIHR5cGVvZiBlbmNvZGluZyA9PT0gJ3N0cmluZydcbiAgICAgID8gY3JlYXRlQnVmZmVyKHRoYXQsIHNpemUpLmZpbGwoZmlsbCwgZW5jb2RpbmcpXG4gICAgICA6IGNyZWF0ZUJ1ZmZlcih0aGF0LCBzaXplKS5maWxsKGZpbGwpXG4gIH1cbiAgcmV0dXJuIGNyZWF0ZUJ1ZmZlcih0aGF0LCBzaXplKVxufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgZmlsbGVkIEJ1ZmZlciBpbnN0YW5jZS5cbiAqIGFsbG9jKHNpemVbLCBmaWxsWywgZW5jb2RpbmddXSlcbiAqKi9cbkJ1ZmZlci5hbGxvYyA9IGZ1bmN0aW9uIChzaXplLCBmaWxsLCBlbmNvZGluZykge1xuICByZXR1cm4gYWxsb2MobnVsbCwgc2l6ZSwgZmlsbCwgZW5jb2RpbmcpXG59XG5cbmZ1bmN0aW9uIGFsbG9jVW5zYWZlICh0aGF0LCBzaXplKSB7XG4gIGFzc2VydFNpemUoc2l6ZSlcbiAgdGhhdCA9IGNyZWF0ZUJ1ZmZlcih0aGF0LCBzaXplIDwgMCA/IDAgOiBjaGVja2VkKHNpemUpIHwgMClcbiAgaWYgKCFCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2l6ZTsgKytpKSB7XG4gICAgICB0aGF0W2ldID0gMFxuICAgIH1cbiAgfVxuICByZXR1cm4gdGhhdFxufVxuXG4vKipcbiAqIEVxdWl2YWxlbnQgdG8gQnVmZmVyKG51bSksIGJ5IGRlZmF1bHQgY3JlYXRlcyBhIG5vbi16ZXJvLWZpbGxlZCBCdWZmZXIgaW5zdGFuY2UuXG4gKiAqL1xuQnVmZmVyLmFsbG9jVW5zYWZlID0gZnVuY3Rpb24gKHNpemUpIHtcbiAgcmV0dXJuIGFsbG9jVW5zYWZlKG51bGwsIHNpemUpXG59XG4vKipcbiAqIEVxdWl2YWxlbnQgdG8gU2xvd0J1ZmZlcihudW0pLCBieSBkZWZhdWx0IGNyZWF0ZXMgYSBub24temVyby1maWxsZWQgQnVmZmVyIGluc3RhbmNlLlxuICovXG5CdWZmZXIuYWxsb2NVbnNhZmVTbG93ID0gZnVuY3Rpb24gKHNpemUpIHtcbiAgcmV0dXJuIGFsbG9jVW5zYWZlKG51bGwsIHNpemUpXG59XG5cbmZ1bmN0aW9uIGZyb21TdHJpbmcgKHRoYXQsIHN0cmluZywgZW5jb2RpbmcpIHtcbiAgaWYgKHR5cGVvZiBlbmNvZGluZyAhPT0gJ3N0cmluZycgfHwgZW5jb2RpbmcgPT09ICcnKSB7XG4gICAgZW5jb2RpbmcgPSAndXRmOCdcbiAgfVxuXG4gIGlmICghQnVmZmVyLmlzRW5jb2RpbmcoZW5jb2RpbmcpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJlbmNvZGluZ1wiIG11c3QgYmUgYSB2YWxpZCBzdHJpbmcgZW5jb2RpbmcnKVxuICB9XG5cbiAgdmFyIGxlbmd0aCA9IGJ5dGVMZW5ndGgoc3RyaW5nLCBlbmNvZGluZykgfCAwXG4gIHRoYXQgPSBjcmVhdGVCdWZmZXIodGhhdCwgbGVuZ3RoKVxuXG4gIHZhciBhY3R1YWwgPSB0aGF0LndyaXRlKHN0cmluZywgZW5jb2RpbmcpXG5cbiAgaWYgKGFjdHVhbCAhPT0gbGVuZ3RoKSB7XG4gICAgLy8gV3JpdGluZyBhIGhleCBzdHJpbmcsIGZvciBleGFtcGxlLCB0aGF0IGNvbnRhaW5zIGludmFsaWQgY2hhcmFjdGVycyB3aWxsXG4gICAgLy8gY2F1c2UgZXZlcnl0aGluZyBhZnRlciB0aGUgZmlyc3QgaW52YWxpZCBjaGFyYWN0ZXIgdG8gYmUgaWdub3JlZC4gKGUuZy5cbiAgICAvLyAnYWJ4eGNkJyB3aWxsIGJlIHRyZWF0ZWQgYXMgJ2FiJylcbiAgICB0aGF0ID0gdGhhdC5zbGljZSgwLCBhY3R1YWwpXG4gIH1cblxuICByZXR1cm4gdGhhdFxufVxuXG5mdW5jdGlvbiBmcm9tQXJyYXlMaWtlICh0aGF0LCBhcnJheSkge1xuICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoIDwgMCA/IDAgOiBjaGVja2VkKGFycmF5Lmxlbmd0aCkgfCAwXG4gIHRoYXQgPSBjcmVhdGVCdWZmZXIodGhhdCwgbGVuZ3RoKVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSArPSAxKSB7XG4gICAgdGhhdFtpXSA9IGFycmF5W2ldICYgMjU1XG4gIH1cbiAgcmV0dXJuIHRoYXRcbn1cblxuZnVuY3Rpb24gZnJvbUFycmF5QnVmZmVyICh0aGF0LCBhcnJheSwgYnl0ZU9mZnNldCwgbGVuZ3RoKSB7XG4gIGFycmF5LmJ5dGVMZW5ndGggLy8gdGhpcyB0aHJvd3MgaWYgYGFycmF5YCBpcyBub3QgYSB2YWxpZCBBcnJheUJ1ZmZlclxuXG4gIGlmIChieXRlT2Zmc2V0IDwgMCB8fCBhcnJheS5ieXRlTGVuZ3RoIDwgYnl0ZU9mZnNldCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdcXCdvZmZzZXRcXCcgaXMgb3V0IG9mIGJvdW5kcycpXG4gIH1cblxuICBpZiAoYXJyYXkuYnl0ZUxlbmd0aCA8IGJ5dGVPZmZzZXQgKyAobGVuZ3RoIHx8IDApKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1xcJ2xlbmd0aFxcJyBpcyBvdXQgb2YgYm91bmRzJylcbiAgfVxuXG4gIGlmIChieXRlT2Zmc2V0ID09PSB1bmRlZmluZWQgJiYgbGVuZ3RoID09PSB1bmRlZmluZWQpIHtcbiAgICBhcnJheSA9IG5ldyBVaW50OEFycmF5KGFycmF5KVxuICB9IGVsc2UgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgYXJyYXkgPSBuZXcgVWludDhBcnJheShhcnJheSwgYnl0ZU9mZnNldClcbiAgfSBlbHNlIHtcbiAgICBhcnJheSA9IG5ldyBVaW50OEFycmF5KGFycmF5LCBieXRlT2Zmc2V0LCBsZW5ndGgpXG4gIH1cblxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICAvLyBSZXR1cm4gYW4gYXVnbWVudGVkIGBVaW50OEFycmF5YCBpbnN0YW5jZSwgZm9yIGJlc3QgcGVyZm9ybWFuY2VcbiAgICB0aGF0ID0gYXJyYXlcbiAgICB0aGF0Ll9fcHJvdG9fXyA9IEJ1ZmZlci5wcm90b3R5cGVcbiAgfSBlbHNlIHtcbiAgICAvLyBGYWxsYmFjazogUmV0dXJuIGFuIG9iamVjdCBpbnN0YW5jZSBvZiB0aGUgQnVmZmVyIGNsYXNzXG4gICAgdGhhdCA9IGZyb21BcnJheUxpa2UodGhhdCwgYXJyYXkpXG4gIH1cbiAgcmV0dXJuIHRoYXRcbn1cblxuZnVuY3Rpb24gZnJvbU9iamVjdCAodGhhdCwgb2JqKSB7XG4gIGlmIChCdWZmZXIuaXNCdWZmZXIob2JqKSkge1xuICAgIHZhciBsZW4gPSBjaGVja2VkKG9iai5sZW5ndGgpIHwgMFxuICAgIHRoYXQgPSBjcmVhdGVCdWZmZXIodGhhdCwgbGVuKVxuXG4gICAgaWYgKHRoYXQubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gdGhhdFxuICAgIH1cblxuICAgIG9iai5jb3B5KHRoYXQsIDAsIDAsIGxlbilcbiAgICByZXR1cm4gdGhhdFxuICB9XG5cbiAgaWYgKG9iaikge1xuICAgIGlmICgodHlwZW9mIEFycmF5QnVmZmVyICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICBvYmouYnVmZmVyIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHx8ICdsZW5ndGgnIGluIG9iaikge1xuICAgICAgaWYgKHR5cGVvZiBvYmoubGVuZ3RoICE9PSAnbnVtYmVyJyB8fCBpc25hbihvYmoubGVuZ3RoKSkge1xuICAgICAgICByZXR1cm4gY3JlYXRlQnVmZmVyKHRoYXQsIDApXG4gICAgICB9XG4gICAgICByZXR1cm4gZnJvbUFycmF5TGlrZSh0aGF0LCBvYmopXG4gICAgfVxuXG4gICAgaWYgKG9iai50eXBlID09PSAnQnVmZmVyJyAmJiBpc0FycmF5KG9iai5kYXRhKSkge1xuICAgICAgcmV0dXJuIGZyb21BcnJheUxpa2UodGhhdCwgb2JqLmRhdGEpXG4gICAgfVxuICB9XG5cbiAgdGhyb3cgbmV3IFR5cGVFcnJvcignRmlyc3QgYXJndW1lbnQgbXVzdCBiZSBhIHN0cmluZywgQnVmZmVyLCBBcnJheUJ1ZmZlciwgQXJyYXksIG9yIGFycmF5LWxpa2Ugb2JqZWN0LicpXG59XG5cbmZ1bmN0aW9uIGNoZWNrZWQgKGxlbmd0aCkge1xuICAvLyBOb3RlOiBjYW5ub3QgdXNlIGBsZW5ndGggPCBrTWF4TGVuZ3RoKClgIGhlcmUgYmVjYXVzZSB0aGF0IGZhaWxzIHdoZW5cbiAgLy8gbGVuZ3RoIGlzIE5hTiAod2hpY2ggaXMgb3RoZXJ3aXNlIGNvZXJjZWQgdG8gemVyby4pXG4gIGlmIChsZW5ndGggPj0ga01heExlbmd0aCgpKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0F0dGVtcHQgdG8gYWxsb2NhdGUgQnVmZmVyIGxhcmdlciB0aGFuIG1heGltdW0gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgJ3NpemU6IDB4JyArIGtNYXhMZW5ndGgoKS50b1N0cmluZygxNikgKyAnIGJ5dGVzJylcbiAgfVxuICByZXR1cm4gbGVuZ3RoIHwgMFxufVxuXG5mdW5jdGlvbiBTbG93QnVmZmVyIChsZW5ndGgpIHtcbiAgaWYgKCtsZW5ndGggIT0gbGVuZ3RoKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgZXFlcWVxXG4gICAgbGVuZ3RoID0gMFxuICB9XG4gIHJldHVybiBCdWZmZXIuYWxsb2MoK2xlbmd0aClcbn1cblxuQnVmZmVyLmlzQnVmZmVyID0gZnVuY3Rpb24gaXNCdWZmZXIgKGIpIHtcbiAgcmV0dXJuICEhKGIgIT0gbnVsbCAmJiBiLl9pc0J1ZmZlcilcbn1cblxuQnVmZmVyLmNvbXBhcmUgPSBmdW5jdGlvbiBjb21wYXJlIChhLCBiKSB7XG4gIGlmICghQnVmZmVyLmlzQnVmZmVyKGEpIHx8ICFCdWZmZXIuaXNCdWZmZXIoYikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcmd1bWVudHMgbXVzdCBiZSBCdWZmZXJzJylcbiAgfVxuXG4gIGlmIChhID09PSBiKSByZXR1cm4gMFxuXG4gIHZhciB4ID0gYS5sZW5ndGhcbiAgdmFyIHkgPSBiLmxlbmd0aFxuXG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSBNYXRoLm1pbih4LCB5KTsgaSA8IGxlbjsgKytpKSB7XG4gICAgaWYgKGFbaV0gIT09IGJbaV0pIHtcbiAgICAgIHggPSBhW2ldXG4gICAgICB5ID0gYltpXVxuICAgICAgYnJlYWtcbiAgICB9XG4gIH1cblxuICBpZiAoeCA8IHkpIHJldHVybiAtMVxuICBpZiAoeSA8IHgpIHJldHVybiAxXG4gIHJldHVybiAwXG59XG5cbkJ1ZmZlci5pc0VuY29kaW5nID0gZnVuY3Rpb24gaXNFbmNvZGluZyAoZW5jb2RpbmcpIHtcbiAgc3dpdGNoIChTdHJpbmcoZW5jb2RpbmcpLnRvTG93ZXJDYXNlKCkpIHtcbiAgICBjYXNlICdoZXgnOlxuICAgIGNhc2UgJ3V0ZjgnOlxuICAgIGNhc2UgJ3V0Zi04JzpcbiAgICBjYXNlICdhc2NpaSc6XG4gICAgY2FzZSAnbGF0aW4xJzpcbiAgICBjYXNlICdiaW5hcnknOlxuICAgIGNhc2UgJ2Jhc2U2NCc6XG4gICAgY2FzZSAndWNzMic6XG4gICAgY2FzZSAndWNzLTInOlxuICAgIGNhc2UgJ3V0ZjE2bGUnOlxuICAgIGNhc2UgJ3V0Zi0xNmxlJzpcbiAgICAgIHJldHVybiB0cnVlXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBmYWxzZVxuICB9XG59XG5cbkJ1ZmZlci5jb25jYXQgPSBmdW5jdGlvbiBjb25jYXQgKGxpc3QsIGxlbmd0aCkge1xuICBpZiAoIWlzQXJyYXkobGlzdCkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImxpc3RcIiBhcmd1bWVudCBtdXN0IGJlIGFuIEFycmF5IG9mIEJ1ZmZlcnMnKVxuICB9XG5cbiAgaWYgKGxpc3QubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIEJ1ZmZlci5hbGxvYygwKVxuICB9XG5cbiAgdmFyIGlcbiAgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgbGVuZ3RoID0gMFxuICAgIGZvciAoaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgKytpKSB7XG4gICAgICBsZW5ndGggKz0gbGlzdFtpXS5sZW5ndGhcbiAgICB9XG4gIH1cblxuICB2YXIgYnVmZmVyID0gQnVmZmVyLmFsbG9jVW5zYWZlKGxlbmd0aClcbiAgdmFyIHBvcyA9IDBcbiAgZm9yIChpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyArK2kpIHtcbiAgICB2YXIgYnVmID0gbGlzdFtpXVxuICAgIGlmICghQnVmZmVyLmlzQnVmZmVyKGJ1ZikpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wibGlzdFwiIGFyZ3VtZW50IG11c3QgYmUgYW4gQXJyYXkgb2YgQnVmZmVycycpXG4gICAgfVxuICAgIGJ1Zi5jb3B5KGJ1ZmZlciwgcG9zKVxuICAgIHBvcyArPSBidWYubGVuZ3RoXG4gIH1cbiAgcmV0dXJuIGJ1ZmZlclxufVxuXG5mdW5jdGlvbiBieXRlTGVuZ3RoIChzdHJpbmcsIGVuY29kaW5nKSB7XG4gIGlmIChCdWZmZXIuaXNCdWZmZXIoc3RyaW5nKSkge1xuICAgIHJldHVybiBzdHJpbmcubGVuZ3RoXG4gIH1cbiAgaWYgKHR5cGVvZiBBcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIEFycmF5QnVmZmVyLmlzVmlldyA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgICAgKEFycmF5QnVmZmVyLmlzVmlldyhzdHJpbmcpIHx8IHN0cmluZyBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSkge1xuICAgIHJldHVybiBzdHJpbmcuYnl0ZUxlbmd0aFxuICB9XG4gIGlmICh0eXBlb2Ygc3RyaW5nICE9PSAnc3RyaW5nJykge1xuICAgIHN0cmluZyA9ICcnICsgc3RyaW5nXG4gIH1cblxuICB2YXIgbGVuID0gc3RyaW5nLmxlbmd0aFxuICBpZiAobGVuID09PSAwKSByZXR1cm4gMFxuXG4gIC8vIFVzZSBhIGZvciBsb29wIHRvIGF2b2lkIHJlY3Vyc2lvblxuICB2YXIgbG93ZXJlZENhc2UgPSBmYWxzZVxuICBmb3IgKDs7KSB7XG4gICAgc3dpdGNoIChlbmNvZGluZykge1xuICAgICAgY2FzZSAnYXNjaWknOlxuICAgICAgY2FzZSAnbGF0aW4xJzpcbiAgICAgIGNhc2UgJ2JpbmFyeSc6XG4gICAgICAgIHJldHVybiBsZW5cbiAgICAgIGNhc2UgJ3V0ZjgnOlxuICAgICAgY2FzZSAndXRmLTgnOlxuICAgICAgY2FzZSB1bmRlZmluZWQ6XG4gICAgICAgIHJldHVybiB1dGY4VG9CeXRlcyhzdHJpbmcpLmxlbmd0aFxuICAgICAgY2FzZSAndWNzMic6XG4gICAgICBjYXNlICd1Y3MtMic6XG4gICAgICBjYXNlICd1dGYxNmxlJzpcbiAgICAgIGNhc2UgJ3V0Zi0xNmxlJzpcbiAgICAgICAgcmV0dXJuIGxlbiAqIDJcbiAgICAgIGNhc2UgJ2hleCc6XG4gICAgICAgIHJldHVybiBsZW4gPj4+IDFcbiAgICAgIGNhc2UgJ2Jhc2U2NCc6XG4gICAgICAgIHJldHVybiBiYXNlNjRUb0J5dGVzKHN0cmluZykubGVuZ3RoXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAobG93ZXJlZENhc2UpIHJldHVybiB1dGY4VG9CeXRlcyhzdHJpbmcpLmxlbmd0aCAvLyBhc3N1bWUgdXRmOFxuICAgICAgICBlbmNvZGluZyA9ICgnJyArIGVuY29kaW5nKS50b0xvd2VyQ2FzZSgpXG4gICAgICAgIGxvd2VyZWRDYXNlID0gdHJ1ZVxuICAgIH1cbiAgfVxufVxuQnVmZmVyLmJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoXG5cbmZ1bmN0aW9uIHNsb3dUb1N0cmluZyAoZW5jb2RpbmcsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIGxvd2VyZWRDYXNlID0gZmFsc2VcblxuICAvLyBObyBuZWVkIHRvIHZlcmlmeSB0aGF0IFwidGhpcy5sZW5ndGggPD0gTUFYX1VJTlQzMlwiIHNpbmNlIGl0J3MgYSByZWFkLW9ubHlcbiAgLy8gcHJvcGVydHkgb2YgYSB0eXBlZCBhcnJheS5cblxuICAvLyBUaGlzIGJlaGF2ZXMgbmVpdGhlciBsaWtlIFN0cmluZyBub3IgVWludDhBcnJheSBpbiB0aGF0IHdlIHNldCBzdGFydC9lbmRcbiAgLy8gdG8gdGhlaXIgdXBwZXIvbG93ZXIgYm91bmRzIGlmIHRoZSB2YWx1ZSBwYXNzZWQgaXMgb3V0IG9mIHJhbmdlLlxuICAvLyB1bmRlZmluZWQgaXMgaGFuZGxlZCBzcGVjaWFsbHkgYXMgcGVyIEVDTUEtMjYyIDZ0aCBFZGl0aW9uLFxuICAvLyBTZWN0aW9uIDEzLjMuMy43IFJ1bnRpbWUgU2VtYW50aWNzOiBLZXllZEJpbmRpbmdJbml0aWFsaXphdGlvbi5cbiAgaWYgKHN0YXJ0ID09PSB1bmRlZmluZWQgfHwgc3RhcnQgPCAwKSB7XG4gICAgc3RhcnQgPSAwXG4gIH1cbiAgLy8gUmV0dXJuIGVhcmx5IGlmIHN0YXJ0ID4gdGhpcy5sZW5ndGguIERvbmUgaGVyZSB0byBwcmV2ZW50IHBvdGVudGlhbCB1aW50MzJcbiAgLy8gY29lcmNpb24gZmFpbCBiZWxvdy5cbiAgaWYgKHN0YXJ0ID4gdGhpcy5sZW5ndGgpIHtcbiAgICByZXR1cm4gJydcbiAgfVxuXG4gIGlmIChlbmQgPT09IHVuZGVmaW5lZCB8fCBlbmQgPiB0aGlzLmxlbmd0aCkge1xuICAgIGVuZCA9IHRoaXMubGVuZ3RoXG4gIH1cblxuICBpZiAoZW5kIDw9IDApIHtcbiAgICByZXR1cm4gJydcbiAgfVxuXG4gIC8vIEZvcmNlIGNvZXJzaW9uIHRvIHVpbnQzMi4gVGhpcyB3aWxsIGFsc28gY29lcmNlIGZhbHNleS9OYU4gdmFsdWVzIHRvIDAuXG4gIGVuZCA+Pj49IDBcbiAgc3RhcnQgPj4+PSAwXG5cbiAgaWYgKGVuZCA8PSBzdGFydCkge1xuICAgIHJldHVybiAnJ1xuICB9XG5cbiAgaWYgKCFlbmNvZGluZykgZW5jb2RpbmcgPSAndXRmOCdcblxuICB3aGlsZSAodHJ1ZSkge1xuICAgIHN3aXRjaCAoZW5jb2RpbmcpIHtcbiAgICAgIGNhc2UgJ2hleCc6XG4gICAgICAgIHJldHVybiBoZXhTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBjYXNlICd1dGY4JzpcbiAgICAgIGNhc2UgJ3V0Zi04JzpcbiAgICAgICAgcmV0dXJuIHV0ZjhTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBjYXNlICdhc2NpaSc6XG4gICAgICAgIHJldHVybiBhc2NpaVNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGNhc2UgJ2xhdGluMSc6XG4gICAgICBjYXNlICdiaW5hcnknOlxuICAgICAgICByZXR1cm4gbGF0aW4xU2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAnYmFzZTY0JzpcbiAgICAgICAgcmV0dXJuIGJhc2U2NFNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGNhc2UgJ3VjczInOlxuICAgICAgY2FzZSAndWNzLTInOlxuICAgICAgY2FzZSAndXRmMTZsZSc6XG4gICAgICBjYXNlICd1dGYtMTZsZSc6XG4gICAgICAgIHJldHVybiB1dGYxNmxlU2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKGxvd2VyZWRDYXNlKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmtub3duIGVuY29kaW5nOiAnICsgZW5jb2RpbmcpXG4gICAgICAgIGVuY29kaW5nID0gKGVuY29kaW5nICsgJycpLnRvTG93ZXJDYXNlKClcbiAgICAgICAgbG93ZXJlZENhc2UgPSB0cnVlXG4gICAgfVxuICB9XG59XG5cbi8vIFRoZSBwcm9wZXJ0eSBpcyB1c2VkIGJ5IGBCdWZmZXIuaXNCdWZmZXJgIGFuZCBgaXMtYnVmZmVyYCAoaW4gU2FmYXJpIDUtNykgdG8gZGV0ZWN0XG4vLyBCdWZmZXIgaW5zdGFuY2VzLlxuQnVmZmVyLnByb3RvdHlwZS5faXNCdWZmZXIgPSB0cnVlXG5cbmZ1bmN0aW9uIHN3YXAgKGIsIG4sIG0pIHtcbiAgdmFyIGkgPSBiW25dXG4gIGJbbl0gPSBiW21dXG4gIGJbbV0gPSBpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuc3dhcDE2ID0gZnVuY3Rpb24gc3dhcDE2ICgpIHtcbiAgdmFyIGxlbiA9IHRoaXMubGVuZ3RoXG4gIGlmIChsZW4gJSAyICE9PSAwKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0J1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAxNi1iaXRzJylcbiAgfVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSArPSAyKSB7XG4gICAgc3dhcCh0aGlzLCBpLCBpICsgMSlcbiAgfVxuICByZXR1cm4gdGhpc1xufVxuXG5CdWZmZXIucHJvdG90eXBlLnN3YXAzMiA9IGZ1bmN0aW9uIHN3YXAzMiAoKSB7XG4gIHZhciBsZW4gPSB0aGlzLmxlbmd0aFxuICBpZiAobGVuICUgNCAhPT0gMCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgMzItYml0cycpXG4gIH1cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkgKz0gNCkge1xuICAgIHN3YXAodGhpcywgaSwgaSArIDMpXG4gICAgc3dhcCh0aGlzLCBpICsgMSwgaSArIDIpXG4gIH1cbiAgcmV0dXJuIHRoaXNcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5zd2FwNjQgPSBmdW5jdGlvbiBzd2FwNjQgKCkge1xuICB2YXIgbGVuID0gdGhpcy5sZW5ndGhcbiAgaWYgKGxlbiAlIDggIT09IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDY0LWJpdHMnKVxuICB9XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpICs9IDgpIHtcbiAgICBzd2FwKHRoaXMsIGksIGkgKyA3KVxuICAgIHN3YXAodGhpcywgaSArIDEsIGkgKyA2KVxuICAgIHN3YXAodGhpcywgaSArIDIsIGkgKyA1KVxuICAgIHN3YXAodGhpcywgaSArIDMsIGkgKyA0KVxuICB9XG4gIHJldHVybiB0aGlzXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZyAoKSB7XG4gIHZhciBsZW5ndGggPSB0aGlzLmxlbmd0aCB8IDBcbiAgaWYgKGxlbmd0aCA9PT0gMCkgcmV0dXJuICcnXG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSByZXR1cm4gdXRmOFNsaWNlKHRoaXMsIDAsIGxlbmd0aClcbiAgcmV0dXJuIHNsb3dUb1N0cmluZy5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gZXF1YWxzIChiKSB7XG4gIGlmICghQnVmZmVyLmlzQnVmZmVyKGIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyJylcbiAgaWYgKHRoaXMgPT09IGIpIHJldHVybiB0cnVlXG4gIHJldHVybiBCdWZmZXIuY29tcGFyZSh0aGlzLCBiKSA9PT0gMFxufVxuXG5CdWZmZXIucHJvdG90eXBlLmluc3BlY3QgPSBmdW5jdGlvbiBpbnNwZWN0ICgpIHtcbiAgdmFyIHN0ciA9ICcnXG4gIHZhciBtYXggPSBleHBvcnRzLklOU1BFQ1RfTUFYX0JZVEVTXG4gIGlmICh0aGlzLmxlbmd0aCA+IDApIHtcbiAgICBzdHIgPSB0aGlzLnRvU3RyaW5nKCdoZXgnLCAwLCBtYXgpLm1hdGNoKC8uezJ9L2cpLmpvaW4oJyAnKVxuICAgIGlmICh0aGlzLmxlbmd0aCA+IG1heCkgc3RyICs9ICcgLi4uICdcbiAgfVxuICByZXR1cm4gJzxCdWZmZXIgJyArIHN0ciArICc+J1xufVxuXG5CdWZmZXIucHJvdG90eXBlLmNvbXBhcmUgPSBmdW5jdGlvbiBjb21wYXJlICh0YXJnZXQsIHN0YXJ0LCBlbmQsIHRoaXNTdGFydCwgdGhpc0VuZCkge1xuICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcih0YXJnZXQpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlcicpXG4gIH1cblxuICBpZiAoc3RhcnQgPT09IHVuZGVmaW5lZCkge1xuICAgIHN0YXJ0ID0gMFxuICB9XG4gIGlmIChlbmQgPT09IHVuZGVmaW5lZCkge1xuICAgIGVuZCA9IHRhcmdldCA/IHRhcmdldC5sZW5ndGggOiAwXG4gIH1cbiAgaWYgKHRoaXNTdGFydCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhpc1N0YXJ0ID0gMFxuICB9XG4gIGlmICh0aGlzRW5kID09PSB1bmRlZmluZWQpIHtcbiAgICB0aGlzRW5kID0gdGhpcy5sZW5ndGhcbiAgfVxuXG4gIGlmIChzdGFydCA8IDAgfHwgZW5kID4gdGFyZ2V0Lmxlbmd0aCB8fCB0aGlzU3RhcnQgPCAwIHx8IHRoaXNFbmQgPiB0aGlzLmxlbmd0aCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdvdXQgb2YgcmFuZ2UgaW5kZXgnKVxuICB9XG5cbiAgaWYgKHRoaXNTdGFydCA+PSB0aGlzRW5kICYmIHN0YXJ0ID49IGVuZCkge1xuICAgIHJldHVybiAwXG4gIH1cbiAgaWYgKHRoaXNTdGFydCA+PSB0aGlzRW5kKSB7XG4gICAgcmV0dXJuIC0xXG4gIH1cbiAgaWYgKHN0YXJ0ID49IGVuZCkge1xuICAgIHJldHVybiAxXG4gIH1cblxuICBzdGFydCA+Pj49IDBcbiAgZW5kID4+Pj0gMFxuICB0aGlzU3RhcnQgPj4+PSAwXG4gIHRoaXNFbmQgPj4+PSAwXG5cbiAgaWYgKHRoaXMgPT09IHRhcmdldCkgcmV0dXJuIDBcblxuICB2YXIgeCA9IHRoaXNFbmQgLSB0aGlzU3RhcnRcbiAgdmFyIHkgPSBlbmQgLSBzdGFydFxuICB2YXIgbGVuID0gTWF0aC5taW4oeCwgeSlcblxuICB2YXIgdGhpc0NvcHkgPSB0aGlzLnNsaWNlKHRoaXNTdGFydCwgdGhpc0VuZClcbiAgdmFyIHRhcmdldENvcHkgPSB0YXJnZXQuc2xpY2Uoc3RhcnQsIGVuZClcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgaWYgKHRoaXNDb3B5W2ldICE9PSB0YXJnZXRDb3B5W2ldKSB7XG4gICAgICB4ID0gdGhpc0NvcHlbaV1cbiAgICAgIHkgPSB0YXJnZXRDb3B5W2ldXG4gICAgICBicmVha1xuICAgIH1cbiAgfVxuXG4gIGlmICh4IDwgeSkgcmV0dXJuIC0xXG4gIGlmICh5IDwgeCkgcmV0dXJuIDFcbiAgcmV0dXJuIDBcbn1cblxuLy8gRmluZHMgZWl0aGVyIHRoZSBmaXJzdCBpbmRleCBvZiBgdmFsYCBpbiBgYnVmZmVyYCBhdCBvZmZzZXQgPj0gYGJ5dGVPZmZzZXRgLFxuLy8gT1IgdGhlIGxhc3QgaW5kZXggb2YgYHZhbGAgaW4gYGJ1ZmZlcmAgYXQgb2Zmc2V0IDw9IGBieXRlT2Zmc2V0YC5cbi8vXG4vLyBBcmd1bWVudHM6XG4vLyAtIGJ1ZmZlciAtIGEgQnVmZmVyIHRvIHNlYXJjaFxuLy8gLSB2YWwgLSBhIHN0cmluZywgQnVmZmVyLCBvciBudW1iZXJcbi8vIC0gYnl0ZU9mZnNldCAtIGFuIGluZGV4IGludG8gYGJ1ZmZlcmA7IHdpbGwgYmUgY2xhbXBlZCB0byBhbiBpbnQzMlxuLy8gLSBlbmNvZGluZyAtIGFuIG9wdGlvbmFsIGVuY29kaW5nLCByZWxldmFudCBpcyB2YWwgaXMgYSBzdHJpbmdcbi8vIC0gZGlyIC0gdHJ1ZSBmb3IgaW5kZXhPZiwgZmFsc2UgZm9yIGxhc3RJbmRleE9mXG5mdW5jdGlvbiBiaWRpcmVjdGlvbmFsSW5kZXhPZiAoYnVmZmVyLCB2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCBkaXIpIHtcbiAgLy8gRW1wdHkgYnVmZmVyIG1lYW5zIG5vIG1hdGNoXG4gIGlmIChidWZmZXIubGVuZ3RoID09PSAwKSByZXR1cm4gLTFcblxuICAvLyBOb3JtYWxpemUgYnl0ZU9mZnNldFxuICBpZiAodHlwZW9mIGJ5dGVPZmZzZXQgPT09ICdzdHJpbmcnKSB7XG4gICAgZW5jb2RpbmcgPSBieXRlT2Zmc2V0XG4gICAgYnl0ZU9mZnNldCA9IDBcbiAgfSBlbHNlIGlmIChieXRlT2Zmc2V0ID4gMHg3ZmZmZmZmZikge1xuICAgIGJ5dGVPZmZzZXQgPSAweDdmZmZmZmZmXG4gIH0gZWxzZSBpZiAoYnl0ZU9mZnNldCA8IC0weDgwMDAwMDAwKSB7XG4gICAgYnl0ZU9mZnNldCA9IC0weDgwMDAwMDAwXG4gIH1cbiAgYnl0ZU9mZnNldCA9ICtieXRlT2Zmc2V0ICAvLyBDb2VyY2UgdG8gTnVtYmVyLlxuICBpZiAoaXNOYU4oYnl0ZU9mZnNldCkpIHtcbiAgICAvLyBieXRlT2Zmc2V0OiBpdCBpdCdzIHVuZGVmaW5lZCwgbnVsbCwgTmFOLCBcImZvb1wiLCBldGMsIHNlYXJjaCB3aG9sZSBidWZmZXJcbiAgICBieXRlT2Zmc2V0ID0gZGlyID8gMCA6IChidWZmZXIubGVuZ3RoIC0gMSlcbiAgfVxuXG4gIC8vIE5vcm1hbGl6ZSBieXRlT2Zmc2V0OiBuZWdhdGl2ZSBvZmZzZXRzIHN0YXJ0IGZyb20gdGhlIGVuZCBvZiB0aGUgYnVmZmVyXG4gIGlmIChieXRlT2Zmc2V0IDwgMCkgYnl0ZU9mZnNldCA9IGJ1ZmZlci5sZW5ndGggKyBieXRlT2Zmc2V0XG4gIGlmIChieXRlT2Zmc2V0ID49IGJ1ZmZlci5sZW5ndGgpIHtcbiAgICBpZiAoZGlyKSByZXR1cm4gLTFcbiAgICBlbHNlIGJ5dGVPZmZzZXQgPSBidWZmZXIubGVuZ3RoIC0gMVxuICB9IGVsc2UgaWYgKGJ5dGVPZmZzZXQgPCAwKSB7XG4gICAgaWYgKGRpcikgYnl0ZU9mZnNldCA9IDBcbiAgICBlbHNlIHJldHVybiAtMVxuICB9XG5cbiAgLy8gTm9ybWFsaXplIHZhbFxuICBpZiAodHlwZW9mIHZhbCA9PT0gJ3N0cmluZycpIHtcbiAgICB2YWwgPSBCdWZmZXIuZnJvbSh2YWwsIGVuY29kaW5nKVxuICB9XG5cbiAgLy8gRmluYWxseSwgc2VhcmNoIGVpdGhlciBpbmRleE9mIChpZiBkaXIgaXMgdHJ1ZSkgb3IgbGFzdEluZGV4T2ZcbiAgaWYgKEJ1ZmZlci5pc0J1ZmZlcih2YWwpKSB7XG4gICAgLy8gU3BlY2lhbCBjYXNlOiBsb29raW5nIGZvciBlbXB0eSBzdHJpbmcvYnVmZmVyIGFsd2F5cyBmYWlsc1xuICAgIGlmICh2YWwubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gLTFcbiAgICB9XG4gICAgcmV0dXJuIGFycmF5SW5kZXhPZihidWZmZXIsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGRpcilcbiAgfSBlbHNlIGlmICh0eXBlb2YgdmFsID09PSAnbnVtYmVyJykge1xuICAgIHZhbCA9IHZhbCAmIDB4RkYgLy8gU2VhcmNoIGZvciBhIGJ5dGUgdmFsdWUgWzAtMjU1XVxuICAgIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCAmJlxuICAgICAgICB0eXBlb2YgVWludDhBcnJheS5wcm90b3R5cGUuaW5kZXhPZiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgaWYgKGRpcikge1xuICAgICAgICByZXR1cm4gVWludDhBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKGJ1ZmZlciwgdmFsLCBieXRlT2Zmc2V0KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFVpbnQ4QXJyYXkucHJvdG90eXBlLmxhc3RJbmRleE9mLmNhbGwoYnVmZmVyLCB2YWwsIGJ5dGVPZmZzZXQpXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhcnJheUluZGV4T2YoYnVmZmVyLCBbIHZhbCBdLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZGlyKVxuICB9XG5cbiAgdGhyb3cgbmV3IFR5cGVFcnJvcigndmFsIG11c3QgYmUgc3RyaW5nLCBudW1iZXIgb3IgQnVmZmVyJylcbn1cblxuZnVuY3Rpb24gYXJyYXlJbmRleE9mIChhcnIsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGRpcikge1xuICB2YXIgaW5kZXhTaXplID0gMVxuICB2YXIgYXJyTGVuZ3RoID0gYXJyLmxlbmd0aFxuICB2YXIgdmFsTGVuZ3RoID0gdmFsLmxlbmd0aFxuXG4gIGlmIChlbmNvZGluZyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgZW5jb2RpbmcgPSBTdHJpbmcoZW5jb2RpbmcpLnRvTG93ZXJDYXNlKClcbiAgICBpZiAoZW5jb2RpbmcgPT09ICd1Y3MyJyB8fCBlbmNvZGluZyA9PT0gJ3Vjcy0yJyB8fFxuICAgICAgICBlbmNvZGluZyA9PT0gJ3V0ZjE2bGUnIHx8IGVuY29kaW5nID09PSAndXRmLTE2bGUnKSB7XG4gICAgICBpZiAoYXJyLmxlbmd0aCA8IDIgfHwgdmFsLmxlbmd0aCA8IDIpIHtcbiAgICAgICAgcmV0dXJuIC0xXG4gICAgICB9XG4gICAgICBpbmRleFNpemUgPSAyXG4gICAgICBhcnJMZW5ndGggLz0gMlxuICAgICAgdmFsTGVuZ3RoIC89IDJcbiAgICAgIGJ5dGVPZmZzZXQgLz0gMlxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlYWQgKGJ1ZiwgaSkge1xuICAgIGlmIChpbmRleFNpemUgPT09IDEpIHtcbiAgICAgIHJldHVybiBidWZbaV1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGJ1Zi5yZWFkVUludDE2QkUoaSAqIGluZGV4U2l6ZSlcbiAgICB9XG4gIH1cblxuICB2YXIgaVxuICBpZiAoZGlyKSB7XG4gICAgdmFyIGZvdW5kSW5kZXggPSAtMVxuICAgIGZvciAoaSA9IGJ5dGVPZmZzZXQ7IGkgPCBhcnJMZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHJlYWQoYXJyLCBpKSA9PT0gcmVhZCh2YWwsIGZvdW5kSW5kZXggPT09IC0xID8gMCA6IGkgLSBmb3VuZEluZGV4KSkge1xuICAgICAgICBpZiAoZm91bmRJbmRleCA9PT0gLTEpIGZvdW5kSW5kZXggPSBpXG4gICAgICAgIGlmIChpIC0gZm91bmRJbmRleCArIDEgPT09IHZhbExlbmd0aCkgcmV0dXJuIGZvdW5kSW5kZXggKiBpbmRleFNpemVcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChmb3VuZEluZGV4ICE9PSAtMSkgaSAtPSBpIC0gZm91bmRJbmRleFxuICAgICAgICBmb3VuZEluZGV4ID0gLTFcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGJ5dGVPZmZzZXQgKyB2YWxMZW5ndGggPiBhcnJMZW5ndGgpIGJ5dGVPZmZzZXQgPSBhcnJMZW5ndGggLSB2YWxMZW5ndGhcbiAgICBmb3IgKGkgPSBieXRlT2Zmc2V0OyBpID49IDA7IGktLSkge1xuICAgICAgdmFyIGZvdW5kID0gdHJ1ZVxuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB2YWxMZW5ndGg7IGorKykge1xuICAgICAgICBpZiAocmVhZChhcnIsIGkgKyBqKSAhPT0gcmVhZCh2YWwsIGopKSB7XG4gICAgICAgICAgZm91bmQgPSBmYWxzZVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChmb3VuZCkgcmV0dXJuIGlcbiAgICB9XG4gIH1cblxuICByZXR1cm4gLTFcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5pbmNsdWRlcyA9IGZ1bmN0aW9uIGluY2x1ZGVzICh2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nKSB7XG4gIHJldHVybiB0aGlzLmluZGV4T2YodmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZykgIT09IC0xXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuaW5kZXhPZiA9IGZ1bmN0aW9uIGluZGV4T2YgKHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcpIHtcbiAgcmV0dXJuIGJpZGlyZWN0aW9uYWxJbmRleE9mKHRoaXMsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIHRydWUpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUubGFzdEluZGV4T2YgPSBmdW5jdGlvbiBsYXN0SW5kZXhPZiAodmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZykge1xuICByZXR1cm4gYmlkaXJlY3Rpb25hbEluZGV4T2YodGhpcywgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZmFsc2UpXG59XG5cbmZ1bmN0aW9uIGhleFdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgb2Zmc2V0ID0gTnVtYmVyKG9mZnNldCkgfHwgMFxuICB2YXIgcmVtYWluaW5nID0gYnVmLmxlbmd0aCAtIG9mZnNldFxuICBpZiAoIWxlbmd0aCkge1xuICAgIGxlbmd0aCA9IHJlbWFpbmluZ1xuICB9IGVsc2Uge1xuICAgIGxlbmd0aCA9IE51bWJlcihsZW5ndGgpXG4gICAgaWYgKGxlbmd0aCA+IHJlbWFpbmluZykge1xuICAgICAgbGVuZ3RoID0gcmVtYWluaW5nXG4gICAgfVxuICB9XG5cbiAgLy8gbXVzdCBiZSBhbiBldmVuIG51bWJlciBvZiBkaWdpdHNcbiAgdmFyIHN0ckxlbiA9IHN0cmluZy5sZW5ndGhcbiAgaWYgKHN0ckxlbiAlIDIgIT09IDApIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgaGV4IHN0cmluZycpXG5cbiAgaWYgKGxlbmd0aCA+IHN0ckxlbiAvIDIpIHtcbiAgICBsZW5ndGggPSBzdHJMZW4gLyAyXG4gIH1cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgIHZhciBwYXJzZWQgPSBwYXJzZUludChzdHJpbmcuc3Vic3RyKGkgKiAyLCAyKSwgMTYpXG4gICAgaWYgKGlzTmFOKHBhcnNlZCkpIHJldHVybiBpXG4gICAgYnVmW29mZnNldCArIGldID0gcGFyc2VkXG4gIH1cbiAgcmV0dXJuIGlcbn1cblxuZnVuY3Rpb24gdXRmOFdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGJsaXRCdWZmZXIodXRmOFRvQnl0ZXMoc3RyaW5nLCBidWYubGVuZ3RoIC0gb2Zmc2V0KSwgYnVmLCBvZmZzZXQsIGxlbmd0aClcbn1cblxuZnVuY3Rpb24gYXNjaWlXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBibGl0QnVmZmVyKGFzY2lpVG9CeXRlcyhzdHJpbmcpLCBidWYsIG9mZnNldCwgbGVuZ3RoKVxufVxuXG5mdW5jdGlvbiBsYXRpbjFXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBhc2NpaVdyaXRlKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcbn1cblxuZnVuY3Rpb24gYmFzZTY0V3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYmxpdEJ1ZmZlcihiYXNlNjRUb0J5dGVzKHN0cmluZyksIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgpXG59XG5cbmZ1bmN0aW9uIHVjczJXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBibGl0QnVmZmVyKHV0ZjE2bGVUb0J5dGVzKHN0cmluZywgYnVmLmxlbmd0aCAtIG9mZnNldCksIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGUgPSBmdW5jdGlvbiB3cml0ZSAoc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCwgZW5jb2RpbmcpIHtcbiAgLy8gQnVmZmVyI3dyaXRlKHN0cmluZylcbiAgaWYgKG9mZnNldCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgZW5jb2RpbmcgPSAndXRmOCdcbiAgICBsZW5ndGggPSB0aGlzLmxlbmd0aFxuICAgIG9mZnNldCA9IDBcbiAgLy8gQnVmZmVyI3dyaXRlKHN0cmluZywgZW5jb2RpbmcpXG4gIH0gZWxzZSBpZiAobGVuZ3RoID09PSB1bmRlZmluZWQgJiYgdHlwZW9mIG9mZnNldCA9PT0gJ3N0cmluZycpIHtcbiAgICBlbmNvZGluZyA9IG9mZnNldFxuICAgIGxlbmd0aCA9IHRoaXMubGVuZ3RoXG4gICAgb2Zmc2V0ID0gMFxuICAvLyBCdWZmZXIjd3JpdGUoc3RyaW5nLCBvZmZzZXRbLCBsZW5ndGhdWywgZW5jb2RpbmddKVxuICB9IGVsc2UgaWYgKGlzRmluaXRlKG9mZnNldCkpIHtcbiAgICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gICAgaWYgKGlzRmluaXRlKGxlbmd0aCkpIHtcbiAgICAgIGxlbmd0aCA9IGxlbmd0aCB8IDBcbiAgICAgIGlmIChlbmNvZGluZyA9PT0gdW5kZWZpbmVkKSBlbmNvZGluZyA9ICd1dGY4J1xuICAgIH0gZWxzZSB7XG4gICAgICBlbmNvZGluZyA9IGxlbmd0aFxuICAgICAgbGVuZ3RoID0gdW5kZWZpbmVkXG4gICAgfVxuICAvLyBsZWdhY3kgd3JpdGUoc3RyaW5nLCBlbmNvZGluZywgb2Zmc2V0LCBsZW5ndGgpIC0gcmVtb3ZlIGluIHYwLjEzXG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgJ0J1ZmZlci53cml0ZShzdHJpbmcsIGVuY29kaW5nLCBvZmZzZXRbLCBsZW5ndGhdKSBpcyBubyBsb25nZXIgc3VwcG9ydGVkJ1xuICAgIClcbiAgfVxuXG4gIHZhciByZW1haW5pbmcgPSB0aGlzLmxlbmd0aCAtIG9mZnNldFxuICBpZiAobGVuZ3RoID09PSB1bmRlZmluZWQgfHwgbGVuZ3RoID4gcmVtYWluaW5nKSBsZW5ndGggPSByZW1haW5pbmdcblxuICBpZiAoKHN0cmluZy5sZW5ndGggPiAwICYmIChsZW5ndGggPCAwIHx8IG9mZnNldCA8IDApKSB8fCBvZmZzZXQgPiB0aGlzLmxlbmd0aCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdBdHRlbXB0IHRvIHdyaXRlIG91dHNpZGUgYnVmZmVyIGJvdW5kcycpXG4gIH1cblxuICBpZiAoIWVuY29kaW5nKSBlbmNvZGluZyA9ICd1dGY4J1xuXG4gIHZhciBsb3dlcmVkQ2FzZSA9IGZhbHNlXG4gIGZvciAoOzspIHtcbiAgICBzd2l0Y2ggKGVuY29kaW5nKSB7XG4gICAgICBjYXNlICdoZXgnOlxuICAgICAgICByZXR1cm4gaGV4V3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgY2FzZSAndXRmOCc6XG4gICAgICBjYXNlICd1dGYtOCc6XG4gICAgICAgIHJldHVybiB1dGY4V3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgY2FzZSAnYXNjaWknOlxuICAgICAgICByZXR1cm4gYXNjaWlXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBjYXNlICdsYXRpbjEnOlxuICAgICAgY2FzZSAnYmluYXJ5JzpcbiAgICAgICAgcmV0dXJuIGxhdGluMVdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGNhc2UgJ2Jhc2U2NCc6XG4gICAgICAgIC8vIFdhcm5pbmc6IG1heExlbmd0aCBub3QgdGFrZW4gaW50byBhY2NvdW50IGluIGJhc2U2NFdyaXRlXG4gICAgICAgIHJldHVybiBiYXNlNjRXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBjYXNlICd1Y3MyJzpcbiAgICAgIGNhc2UgJ3Vjcy0yJzpcbiAgICAgIGNhc2UgJ3V0ZjE2bGUnOlxuICAgICAgY2FzZSAndXRmLTE2bGUnOlxuICAgICAgICByZXR1cm4gdWNzMldyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmIChsb3dlcmVkQ2FzZSkgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biBlbmNvZGluZzogJyArIGVuY29kaW5nKVxuICAgICAgICBlbmNvZGluZyA9ICgnJyArIGVuY29kaW5nKS50b0xvd2VyQ2FzZSgpXG4gICAgICAgIGxvd2VyZWRDYXNlID0gdHJ1ZVxuICAgIH1cbiAgfVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uIHRvSlNPTiAoKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogJ0J1ZmZlcicsXG4gICAgZGF0YTogQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodGhpcy5fYXJyIHx8IHRoaXMsIDApXG4gIH1cbn1cblxuZnVuY3Rpb24gYmFzZTY0U2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICBpZiAoc3RhcnQgPT09IDAgJiYgZW5kID09PSBidWYubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGJhc2U2NC5mcm9tQnl0ZUFycmF5KGJ1ZilcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gYmFzZTY0LmZyb21CeXRlQXJyYXkoYnVmLnNsaWNlKHN0YXJ0LCBlbmQpKVxuICB9XG59XG5cbmZ1bmN0aW9uIHV0ZjhTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIGVuZCA9IE1hdGgubWluKGJ1Zi5sZW5ndGgsIGVuZClcbiAgdmFyIHJlcyA9IFtdXG5cbiAgdmFyIGkgPSBzdGFydFxuICB3aGlsZSAoaSA8IGVuZCkge1xuICAgIHZhciBmaXJzdEJ5dGUgPSBidWZbaV1cbiAgICB2YXIgY29kZVBvaW50ID0gbnVsbFxuICAgIHZhciBieXRlc1BlclNlcXVlbmNlID0gKGZpcnN0Qnl0ZSA+IDB4RUYpID8gNFxuICAgICAgOiAoZmlyc3RCeXRlID4gMHhERikgPyAzXG4gICAgICA6IChmaXJzdEJ5dGUgPiAweEJGKSA/IDJcbiAgICAgIDogMVxuXG4gICAgaWYgKGkgKyBieXRlc1BlclNlcXVlbmNlIDw9IGVuZCkge1xuICAgICAgdmFyIHNlY29uZEJ5dGUsIHRoaXJkQnl0ZSwgZm91cnRoQnl0ZSwgdGVtcENvZGVQb2ludFxuXG4gICAgICBzd2l0Y2ggKGJ5dGVzUGVyU2VxdWVuY2UpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIGlmIChmaXJzdEJ5dGUgPCAweDgwKSB7XG4gICAgICAgICAgICBjb2RlUG9pbnQgPSBmaXJzdEJ5dGVcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIHNlY29uZEJ5dGUgPSBidWZbaSArIDFdXG4gICAgICAgICAgaWYgKChzZWNvbmRCeXRlICYgMHhDMCkgPT09IDB4ODApIHtcbiAgICAgICAgICAgIHRlbXBDb2RlUG9pbnQgPSAoZmlyc3RCeXRlICYgMHgxRikgPDwgMHg2IHwgKHNlY29uZEJ5dGUgJiAweDNGKVxuICAgICAgICAgICAgaWYgKHRlbXBDb2RlUG9pbnQgPiAweDdGKSB7XG4gICAgICAgICAgICAgIGNvZGVQb2ludCA9IHRlbXBDb2RlUG9pbnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIHNlY29uZEJ5dGUgPSBidWZbaSArIDFdXG4gICAgICAgICAgdGhpcmRCeXRlID0gYnVmW2kgKyAyXVxuICAgICAgICAgIGlmICgoc2Vjb25kQnl0ZSAmIDB4QzApID09PSAweDgwICYmICh0aGlyZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCkge1xuICAgICAgICAgICAgdGVtcENvZGVQb2ludCA9IChmaXJzdEJ5dGUgJiAweEYpIDw8IDB4QyB8IChzZWNvbmRCeXRlICYgMHgzRikgPDwgMHg2IHwgKHRoaXJkQnl0ZSAmIDB4M0YpXG4gICAgICAgICAgICBpZiAodGVtcENvZGVQb2ludCA+IDB4N0ZGICYmICh0ZW1wQ29kZVBvaW50IDwgMHhEODAwIHx8IHRlbXBDb2RlUG9pbnQgPiAweERGRkYpKSB7XG4gICAgICAgICAgICAgIGNvZGVQb2ludCA9IHRlbXBDb2RlUG9pbnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSA0OlxuICAgICAgICAgIHNlY29uZEJ5dGUgPSBidWZbaSArIDFdXG4gICAgICAgICAgdGhpcmRCeXRlID0gYnVmW2kgKyAyXVxuICAgICAgICAgIGZvdXJ0aEJ5dGUgPSBidWZbaSArIDNdXG4gICAgICAgICAgaWYgKChzZWNvbmRCeXRlICYgMHhDMCkgPT09IDB4ODAgJiYgKHRoaXJkQnl0ZSAmIDB4QzApID09PSAweDgwICYmIChmb3VydGhCeXRlICYgMHhDMCkgPT09IDB4ODApIHtcbiAgICAgICAgICAgIHRlbXBDb2RlUG9pbnQgPSAoZmlyc3RCeXRlICYgMHhGKSA8PCAweDEyIHwgKHNlY29uZEJ5dGUgJiAweDNGKSA8PCAweEMgfCAodGhpcmRCeXRlICYgMHgzRikgPDwgMHg2IHwgKGZvdXJ0aEJ5dGUgJiAweDNGKVxuICAgICAgICAgICAgaWYgKHRlbXBDb2RlUG9pbnQgPiAweEZGRkYgJiYgdGVtcENvZGVQb2ludCA8IDB4MTEwMDAwKSB7XG4gICAgICAgICAgICAgIGNvZGVQb2ludCA9IHRlbXBDb2RlUG9pbnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGNvZGVQb2ludCA9PT0gbnVsbCkge1xuICAgICAgLy8gd2UgZGlkIG5vdCBnZW5lcmF0ZSBhIHZhbGlkIGNvZGVQb2ludCBzbyBpbnNlcnQgYVxuICAgICAgLy8gcmVwbGFjZW1lbnQgY2hhciAoVStGRkZEKSBhbmQgYWR2YW5jZSBvbmx5IDEgYnl0ZVxuICAgICAgY29kZVBvaW50ID0gMHhGRkZEXG4gICAgICBieXRlc1BlclNlcXVlbmNlID0gMVxuICAgIH0gZWxzZSBpZiAoY29kZVBvaW50ID4gMHhGRkZGKSB7XG4gICAgICAvLyBlbmNvZGUgdG8gdXRmMTYgKHN1cnJvZ2F0ZSBwYWlyIGRhbmNlKVxuICAgICAgY29kZVBvaW50IC09IDB4MTAwMDBcbiAgICAgIHJlcy5wdXNoKGNvZGVQb2ludCA+Pj4gMTAgJiAweDNGRiB8IDB4RDgwMClcbiAgICAgIGNvZGVQb2ludCA9IDB4REMwMCB8IGNvZGVQb2ludCAmIDB4M0ZGXG4gICAgfVxuXG4gICAgcmVzLnB1c2goY29kZVBvaW50KVxuICAgIGkgKz0gYnl0ZXNQZXJTZXF1ZW5jZVxuICB9XG5cbiAgcmV0dXJuIGRlY29kZUNvZGVQb2ludHNBcnJheShyZXMpXG59XG5cbi8vIEJhc2VkIG9uIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzIyNzQ3MjcyLzY4MDc0MiwgdGhlIGJyb3dzZXIgd2l0aFxuLy8gdGhlIGxvd2VzdCBsaW1pdCBpcyBDaHJvbWUsIHdpdGggMHgxMDAwMCBhcmdzLlxuLy8gV2UgZ28gMSBtYWduaXR1ZGUgbGVzcywgZm9yIHNhZmV0eVxudmFyIE1BWF9BUkdVTUVOVFNfTEVOR1RIID0gMHgxMDAwXG5cbmZ1bmN0aW9uIGRlY29kZUNvZGVQb2ludHNBcnJheSAoY29kZVBvaW50cykge1xuICB2YXIgbGVuID0gY29kZVBvaW50cy5sZW5ndGhcbiAgaWYgKGxlbiA8PSBNQVhfQVJHVU1FTlRTX0xFTkdUSCkge1xuICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZywgY29kZVBvaW50cykgLy8gYXZvaWQgZXh0cmEgc2xpY2UoKVxuICB9XG5cbiAgLy8gRGVjb2RlIGluIGNodW5rcyB0byBhdm9pZCBcImNhbGwgc3RhY2sgc2l6ZSBleGNlZWRlZFwiLlxuICB2YXIgcmVzID0gJydcbiAgdmFyIGkgPSAwXG4gIHdoaWxlIChpIDwgbGVuKSB7XG4gICAgcmVzICs9IFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoXG4gICAgICBTdHJpbmcsXG4gICAgICBjb2RlUG9pbnRzLnNsaWNlKGksIGkgKz0gTUFYX0FSR1VNRU5UU19MRU5HVEgpXG4gICAgKVxuICB9XG4gIHJldHVybiByZXNcbn1cblxuZnVuY3Rpb24gYXNjaWlTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIHZhciByZXQgPSAnJ1xuICBlbmQgPSBNYXRoLm1pbihidWYubGVuZ3RoLCBlbmQpXG5cbiAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyArK2kpIHtcbiAgICByZXQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShidWZbaV0gJiAweDdGKVxuICB9XG4gIHJldHVybiByZXRcbn1cblxuZnVuY3Rpb24gbGF0aW4xU2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICB2YXIgcmV0ID0gJydcbiAgZW5kID0gTWF0aC5taW4oYnVmLmxlbmd0aCwgZW5kKVxuXG4gIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgKytpKSB7XG4gICAgcmV0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnVmW2ldKVxuICB9XG4gIHJldHVybiByZXRcbn1cblxuZnVuY3Rpb24gaGV4U2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICB2YXIgbGVuID0gYnVmLmxlbmd0aFxuXG4gIGlmICghc3RhcnQgfHwgc3RhcnQgPCAwKSBzdGFydCA9IDBcbiAgaWYgKCFlbmQgfHwgZW5kIDwgMCB8fCBlbmQgPiBsZW4pIGVuZCA9IGxlblxuXG4gIHZhciBvdXQgPSAnJ1xuICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPCBlbmQ7ICsraSkge1xuICAgIG91dCArPSB0b0hleChidWZbaV0pXG4gIH1cbiAgcmV0dXJuIG91dFxufVxuXG5mdW5jdGlvbiB1dGYxNmxlU2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICB2YXIgYnl0ZXMgPSBidWYuc2xpY2Uoc3RhcnQsIGVuZClcbiAgdmFyIHJlcyA9ICcnXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYnl0ZXMubGVuZ3RoOyBpICs9IDIpIHtcbiAgICByZXMgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShieXRlc1tpXSArIGJ5dGVzW2kgKyAxXSAqIDI1NilcbiAgfVxuICByZXR1cm4gcmVzXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuc2xpY2UgPSBmdW5jdGlvbiBzbGljZSAoc3RhcnQsIGVuZCkge1xuICB2YXIgbGVuID0gdGhpcy5sZW5ndGhcbiAgc3RhcnQgPSB+fnN0YXJ0XG4gIGVuZCA9IGVuZCA9PT0gdW5kZWZpbmVkID8gbGVuIDogfn5lbmRcblxuICBpZiAoc3RhcnQgPCAwKSB7XG4gICAgc3RhcnQgKz0gbGVuXG4gICAgaWYgKHN0YXJ0IDwgMCkgc3RhcnQgPSAwXG4gIH0gZWxzZSBpZiAoc3RhcnQgPiBsZW4pIHtcbiAgICBzdGFydCA9IGxlblxuICB9XG5cbiAgaWYgKGVuZCA8IDApIHtcbiAgICBlbmQgKz0gbGVuXG4gICAgaWYgKGVuZCA8IDApIGVuZCA9IDBcbiAgfSBlbHNlIGlmIChlbmQgPiBsZW4pIHtcbiAgICBlbmQgPSBsZW5cbiAgfVxuXG4gIGlmIChlbmQgPCBzdGFydCkgZW5kID0gc3RhcnRcblxuICB2YXIgbmV3QnVmXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIG5ld0J1ZiA9IHRoaXMuc3ViYXJyYXkoc3RhcnQsIGVuZClcbiAgICBuZXdCdWYuX19wcm90b19fID0gQnVmZmVyLnByb3RvdHlwZVxuICB9IGVsc2Uge1xuICAgIHZhciBzbGljZUxlbiA9IGVuZCAtIHN0YXJ0XG4gICAgbmV3QnVmID0gbmV3IEJ1ZmZlcihzbGljZUxlbiwgdW5kZWZpbmVkKVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2xpY2VMZW47ICsraSkge1xuICAgICAgbmV3QnVmW2ldID0gdGhpc1tpICsgc3RhcnRdXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5ld0J1ZlxufVxuXG4vKlxuICogTmVlZCB0byBtYWtlIHN1cmUgdGhhdCBidWZmZXIgaXNuJ3QgdHJ5aW5nIHRvIHdyaXRlIG91dCBvZiBib3VuZHMuXG4gKi9cbmZ1bmN0aW9uIGNoZWNrT2Zmc2V0IChvZmZzZXQsIGV4dCwgbGVuZ3RoKSB7XG4gIGlmICgob2Zmc2V0ICUgMSkgIT09IDAgfHwgb2Zmc2V0IDwgMCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ29mZnNldCBpcyBub3QgdWludCcpXG4gIGlmIChvZmZzZXQgKyBleHQgPiBsZW5ndGgpIHRocm93IG5ldyBSYW5nZUVycm9yKCdUcnlpbmcgdG8gYWNjZXNzIGJleW9uZCBidWZmZXIgbGVuZ3RoJylcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludExFID0gZnVuY3Rpb24gcmVhZFVJbnRMRSAob2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoIHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIGJ5dGVMZW5ndGgsIHRoaXMubGVuZ3RoKVxuXG4gIHZhciB2YWwgPSB0aGlzW29mZnNldF1cbiAgdmFyIG11bCA9IDFcbiAgdmFyIGkgPSAwXG4gIHdoaWxlICgrK2kgPCBieXRlTGVuZ3RoICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdmFsICs9IHRoaXNbb2Zmc2V0ICsgaV0gKiBtdWxcbiAgfVxuXG4gIHJldHVybiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludEJFID0gZnVuY3Rpb24gcmVhZFVJbnRCRSAob2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoIHwgMFxuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgY2hlY2tPZmZzZXQob2Zmc2V0LCBieXRlTGVuZ3RoLCB0aGlzLmxlbmd0aClcbiAgfVxuXG4gIHZhciB2YWwgPSB0aGlzW29mZnNldCArIC0tYnl0ZUxlbmd0aF1cbiAgdmFyIG11bCA9IDFcbiAgd2hpbGUgKGJ5dGVMZW5ndGggPiAwICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdmFsICs9IHRoaXNbb2Zmc2V0ICsgLS1ieXRlTGVuZ3RoXSAqIG11bFxuICB9XG5cbiAgcmV0dXJuIHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50OCA9IGZ1bmN0aW9uIHJlYWRVSW50OCAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDEsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gdGhpc1tvZmZzZXRdXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQxNkxFID0gZnVuY3Rpb24gcmVhZFVJbnQxNkxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMiwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiB0aGlzW29mZnNldF0gfCAodGhpc1tvZmZzZXQgKyAxXSA8PCA4KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MTZCRSA9IGZ1bmN0aW9uIHJlYWRVSW50MTZCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDIsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gKHRoaXNbb2Zmc2V0XSA8PCA4KSB8IHRoaXNbb2Zmc2V0ICsgMV1cbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDMyTEUgPSBmdW5jdGlvbiByZWFkVUludDMyTEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcblxuICByZXR1cm4gKCh0aGlzW29mZnNldF0pIHxcbiAgICAgICh0aGlzW29mZnNldCArIDFdIDw8IDgpIHxcbiAgICAgICh0aGlzW29mZnNldCArIDJdIDw8IDE2KSkgK1xuICAgICAgKHRoaXNbb2Zmc2V0ICsgM10gKiAweDEwMDAwMDApXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQzMkJFID0gZnVuY3Rpb24gcmVhZFVJbnQzMkJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG5cbiAgcmV0dXJuICh0aGlzW29mZnNldF0gKiAweDEwMDAwMDApICtcbiAgICAoKHRoaXNbb2Zmc2V0ICsgMV0gPDwgMTYpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAyXSA8PCA4KSB8XG4gICAgdGhpc1tvZmZzZXQgKyAzXSlcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50TEUgPSBmdW5jdGlvbiByZWFkSW50TEUgKG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCBieXRlTGVuZ3RoLCB0aGlzLmxlbmd0aClcblxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXRdXG4gIHZhciBtdWwgPSAxXG4gIHZhciBpID0gMFxuICB3aGlsZSAoKytpIDwgYnl0ZUxlbmd0aCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHZhbCArPSB0aGlzW29mZnNldCArIGldICogbXVsXG4gIH1cbiAgbXVsICo9IDB4ODBcblxuICBpZiAodmFsID49IG11bCkgdmFsIC09IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoKVxuXG4gIHJldHVybiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50QkUgPSBmdW5jdGlvbiByZWFkSW50QkUgKG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCBieXRlTGVuZ3RoLCB0aGlzLmxlbmd0aClcblxuICB2YXIgaSA9IGJ5dGVMZW5ndGhcbiAgdmFyIG11bCA9IDFcbiAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0ICsgLS1pXVxuICB3aGlsZSAoaSA+IDAgJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB2YWwgKz0gdGhpc1tvZmZzZXQgKyAtLWldICogbXVsXG4gIH1cbiAgbXVsICo9IDB4ODBcblxuICBpZiAodmFsID49IG11bCkgdmFsIC09IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoKVxuXG4gIHJldHVybiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50OCA9IGZ1bmN0aW9uIHJlYWRJbnQ4IChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMSwgdGhpcy5sZW5ndGgpXG4gIGlmICghKHRoaXNbb2Zmc2V0XSAmIDB4ODApKSByZXR1cm4gKHRoaXNbb2Zmc2V0XSlcbiAgcmV0dXJuICgoMHhmZiAtIHRoaXNbb2Zmc2V0XSArIDEpICogLTEpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDE2TEUgPSBmdW5jdGlvbiByZWFkSW50MTZMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDIsIHRoaXMubGVuZ3RoKVxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXRdIHwgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgOClcbiAgcmV0dXJuICh2YWwgJiAweDgwMDApID8gdmFsIHwgMHhGRkZGMDAwMCA6IHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQxNkJFID0gZnVuY3Rpb24gcmVhZEludDE2QkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAyLCB0aGlzLmxlbmd0aClcbiAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0ICsgMV0gfCAodGhpc1tvZmZzZXRdIDw8IDgpXG4gIHJldHVybiAodmFsICYgMHg4MDAwKSA/IHZhbCB8IDB4RkZGRjAwMDAgOiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MzJMRSA9IGZ1bmN0aW9uIHJlYWRJbnQzMkxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG5cbiAgcmV0dXJuICh0aGlzW29mZnNldF0pIHxcbiAgICAodGhpc1tvZmZzZXQgKyAxXSA8PCA4KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgMl0gPDwgMTYpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAzXSA8PCAyNClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MzJCRSA9IGZ1bmN0aW9uIHJlYWRJbnQzMkJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG5cbiAgcmV0dXJuICh0aGlzW29mZnNldF0gPDwgMjQpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAxXSA8PCAxNikgfFxuICAgICh0aGlzW29mZnNldCArIDJdIDw8IDgpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAzXSlcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkRmxvYXRMRSA9IGZ1bmN0aW9uIHJlYWRGbG9hdExFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiBpZWVlNzU0LnJlYWQodGhpcywgb2Zmc2V0LCB0cnVlLCAyMywgNClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkRmxvYXRCRSA9IGZ1bmN0aW9uIHJlYWRGbG9hdEJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiBpZWVlNzU0LnJlYWQodGhpcywgb2Zmc2V0LCBmYWxzZSwgMjMsIDQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZERvdWJsZUxFID0gZnVuY3Rpb24gcmVhZERvdWJsZUxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgOCwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiBpZWVlNzU0LnJlYWQodGhpcywgb2Zmc2V0LCB0cnVlLCA1MiwgOClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkRG91YmxlQkUgPSBmdW5jdGlvbiByZWFkRG91YmxlQkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA4LCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIGllZWU3NTQucmVhZCh0aGlzLCBvZmZzZXQsIGZhbHNlLCA1MiwgOClcbn1cblxuZnVuY3Rpb24gY2hlY2tJbnQgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgZXh0LCBtYXgsIG1pbikge1xuICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihidWYpKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImJ1ZmZlclwiIGFyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXIgaW5zdGFuY2UnKVxuICBpZiAodmFsdWUgPiBtYXggfHwgdmFsdWUgPCBtaW4pIHRocm93IG5ldyBSYW5nZUVycm9yKCdcInZhbHVlXCIgYXJndW1lbnQgaXMgb3V0IG9mIGJvdW5kcycpXG4gIGlmIChvZmZzZXQgKyBleHQgPiBidWYubGVuZ3RoKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW5kZXggb3V0IG9mIHJhbmdlJylcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnRMRSA9IGZ1bmN0aW9uIHdyaXRlVUludExFICh2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoIHwgMFxuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgdmFyIG1heEJ5dGVzID0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGgpIC0gMVxuICAgIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG1heEJ5dGVzLCAwKVxuICB9XG5cbiAgdmFyIG11bCA9IDFcbiAgdmFyIGkgPSAwXG4gIHRoaXNbb2Zmc2V0XSA9IHZhbHVlICYgMHhGRlxuICB3aGlsZSAoKytpIDwgYnl0ZUxlbmd0aCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHRoaXNbb2Zmc2V0ICsgaV0gPSAodmFsdWUgLyBtdWwpICYgMHhGRlxuICB9XG5cbiAgcmV0dXJuIG9mZnNldCArIGJ5dGVMZW5ndGhcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnRCRSA9IGZ1bmN0aW9uIHdyaXRlVUludEJFICh2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoIHwgMFxuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgdmFyIG1heEJ5dGVzID0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGgpIC0gMVxuICAgIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG1heEJ5dGVzLCAwKVxuICB9XG5cbiAgdmFyIGkgPSBieXRlTGVuZ3RoIC0gMVxuICB2YXIgbXVsID0gMVxuICB0aGlzW29mZnNldCArIGldID0gdmFsdWUgJiAweEZGXG4gIHdoaWxlICgtLWkgPj0gMCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHRoaXNbb2Zmc2V0ICsgaV0gPSAodmFsdWUgLyBtdWwpICYgMHhGRlxuICB9XG5cbiAgcmV0dXJuIG9mZnNldCArIGJ5dGVMZW5ndGhcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQ4ID0gZnVuY3Rpb24gd3JpdGVVSW50OCAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAxLCAweGZmLCAwKVxuICBpZiAoIUJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB2YWx1ZSA9IE1hdGguZmxvb3IodmFsdWUpXG4gIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIHJldHVybiBvZmZzZXQgKyAxXG59XG5cbmZ1bmN0aW9uIG9iamVjdFdyaXRlVUludDE2IChidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbikge1xuICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDB4ZmZmZiArIHZhbHVlICsgMVxuICBmb3IgKHZhciBpID0gMCwgaiA9IE1hdGgubWluKGJ1Zi5sZW5ndGggLSBvZmZzZXQsIDIpOyBpIDwgajsgKytpKSB7XG4gICAgYnVmW29mZnNldCArIGldID0gKHZhbHVlICYgKDB4ZmYgPDwgKDggKiAobGl0dGxlRW5kaWFuID8gaSA6IDEgLSBpKSkpKSA+Pj5cbiAgICAgIChsaXR0bGVFbmRpYW4gPyBpIDogMSAtIGkpICogOFxuICB9XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50MTZMRSA9IGZ1bmN0aW9uIHdyaXRlVUludDE2TEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMiwgMHhmZmZmLCAwKVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDgpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MTYodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgMlxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDE2QkUgPSBmdW5jdGlvbiB3cml0ZVVJbnQxNkJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDIsIDB4ZmZmZiwgMClcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlID4+PiA4KVxuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgJiAweGZmKVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDE2KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlKVxuICB9XG4gIHJldHVybiBvZmZzZXQgKyAyXG59XG5cbmZ1bmN0aW9uIG9iamVjdFdyaXRlVUludDMyIChidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbikge1xuICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDB4ZmZmZmZmZmYgKyB2YWx1ZSArIDFcbiAgZm9yICh2YXIgaSA9IDAsIGogPSBNYXRoLm1pbihidWYubGVuZ3RoIC0gb2Zmc2V0LCA0KTsgaSA8IGo7ICsraSkge1xuICAgIGJ1ZltvZmZzZXQgKyBpXSA9ICh2YWx1ZSA+Pj4gKGxpdHRsZUVuZGlhbiA/IGkgOiAzIC0gaSkgKiA4KSAmIDB4ZmZcbiAgfVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDMyTEUgPSBmdW5jdGlvbiB3cml0ZVVJbnQzMkxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDQsIDB4ZmZmZmZmZmYsIDApXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0ICsgM10gPSAodmFsdWUgPj4+IDI0KVxuICAgIHRoaXNbb2Zmc2V0ICsgMl0gPSAodmFsdWUgPj4+IDE2KVxuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDgpXG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQzMih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlKVxuICB9XG4gIHJldHVybiBvZmZzZXQgKyA0XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50MzJCRSA9IGZ1bmN0aW9uIHdyaXRlVUludDMyQkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgNCwgMHhmZmZmZmZmZiwgMClcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlID4+PiAyNClcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiAxNilcbiAgICB0aGlzW29mZnNldCArIDJdID0gKHZhbHVlID4+PiA4KVxuICAgIHRoaXNbb2Zmc2V0ICsgM10gPSAodmFsdWUgJiAweGZmKVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDMyKHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlKVxuICB9XG4gIHJldHVybiBvZmZzZXQgKyA0XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnRMRSA9IGZ1bmN0aW9uIHdyaXRlSW50TEUgKHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIHZhciBsaW1pdCA9IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoIC0gMSlcblxuICAgIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIGxpbWl0IC0gMSwgLWxpbWl0KVxuICB9XG5cbiAgdmFyIGkgPSAwXG4gIHZhciBtdWwgPSAxXG4gIHZhciBzdWIgPSAwXG4gIHRoaXNbb2Zmc2V0XSA9IHZhbHVlICYgMHhGRlxuICB3aGlsZSAoKytpIDwgYnl0ZUxlbmd0aCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIGlmICh2YWx1ZSA8IDAgJiYgc3ViID09PSAwICYmIHRoaXNbb2Zmc2V0ICsgaSAtIDFdICE9PSAwKSB7XG4gICAgICBzdWIgPSAxXG4gICAgfVxuICAgIHRoaXNbb2Zmc2V0ICsgaV0gPSAoKHZhbHVlIC8gbXVsKSA+PiAwKSAtIHN1YiAmIDB4RkZcbiAgfVxuXG4gIHJldHVybiBvZmZzZXQgKyBieXRlTGVuZ3RoXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnRCRSA9IGZ1bmN0aW9uIHdyaXRlSW50QkUgKHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIHZhciBsaW1pdCA9IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoIC0gMSlcblxuICAgIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIGxpbWl0IC0gMSwgLWxpbWl0KVxuICB9XG5cbiAgdmFyIGkgPSBieXRlTGVuZ3RoIC0gMVxuICB2YXIgbXVsID0gMVxuICB2YXIgc3ViID0gMFxuICB0aGlzW29mZnNldCArIGldID0gdmFsdWUgJiAweEZGXG4gIHdoaWxlICgtLWkgPj0gMCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIGlmICh2YWx1ZSA8IDAgJiYgc3ViID09PSAwICYmIHRoaXNbb2Zmc2V0ICsgaSArIDFdICE9PSAwKSB7XG4gICAgICBzdWIgPSAxXG4gICAgfVxuICAgIHRoaXNbb2Zmc2V0ICsgaV0gPSAoKHZhbHVlIC8gbXVsKSA+PiAwKSAtIHN1YiAmIDB4RkZcbiAgfVxuXG4gIHJldHVybiBvZmZzZXQgKyBieXRlTGVuZ3RoXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQ4ID0gZnVuY3Rpb24gd3JpdGVJbnQ4ICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDEsIDB4N2YsIC0weDgwKVxuICBpZiAoIUJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB2YWx1ZSA9IE1hdGguZmxvb3IodmFsdWUpXG4gIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMHhmZiArIHZhbHVlICsgMVxuICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICByZXR1cm4gb2Zmc2V0ICsgMVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50MTZMRSA9IGZ1bmN0aW9uIHdyaXRlSW50MTZMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAyLCAweDdmZmYsIC0weDgwMDApXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gOClcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQxNih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlKVxuICB9XG4gIHJldHVybiBvZmZzZXQgKyAyXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQxNkJFID0gZnVuY3Rpb24gd3JpdGVJbnQxNkJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDIsIDB4N2ZmZiwgLTB4ODAwMClcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlID4+PiA4KVxuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgJiAweGZmKVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDE2KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlKVxuICB9XG4gIHJldHVybiBvZmZzZXQgKyAyXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQzMkxFID0gZnVuY3Rpb24gd3JpdGVJbnQzMkxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDQsIDB4N2ZmZmZmZmYsIC0weDgwMDAwMDAwKVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDgpXG4gICAgdGhpc1tvZmZzZXQgKyAyXSA9ICh2YWx1ZSA+Pj4gMTYpXG4gICAgdGhpc1tvZmZzZXQgKyAzXSA9ICh2YWx1ZSA+Pj4gMjQpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MzIodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50MzJCRSA9IGZ1bmN0aW9uIHdyaXRlSW50MzJCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCA0LCAweDdmZmZmZmZmLCAtMHg4MDAwMDAwMClcbiAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAweGZmZmZmZmZmICsgdmFsdWUgKyAxXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSA+Pj4gMjQpXG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gMTYpXG4gICAgdGhpc1tvZmZzZXQgKyAyXSA9ICh2YWx1ZSA+Pj4gOClcbiAgICB0aGlzW29mZnNldCArIDNdID0gKHZhbHVlICYgMHhmZilcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQzMih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5mdW5jdGlvbiBjaGVja0lFRUU3NTQgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgZXh0LCBtYXgsIG1pbikge1xuICBpZiAob2Zmc2V0ICsgZXh0ID4gYnVmLmxlbmd0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0luZGV4IG91dCBvZiByYW5nZScpXG4gIGlmIChvZmZzZXQgPCAwKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW5kZXggb3V0IG9mIHJhbmdlJylcbn1cblxuZnVuY3Rpb24gd3JpdGVGbG9hdCAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICBjaGVja0lFRUU3NTQoYnVmLCB2YWx1ZSwgb2Zmc2V0LCA0LCAzLjQwMjgyMzQ2NjM4NTI4ODZlKzM4LCAtMy40MDI4MjM0NjYzODUyODg2ZSszOClcbiAgfVxuICBpZWVlNzU0LndyaXRlKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCAyMywgNClcbiAgcmV0dXJuIG9mZnNldCArIDRcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUZsb2F0TEUgPSBmdW5jdGlvbiB3cml0ZUZsb2F0TEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHJldHVybiB3cml0ZUZsb2F0KHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUsIG5vQXNzZXJ0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlRmxvYXRCRSA9IGZ1bmN0aW9uIHdyaXRlRmxvYXRCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgcmV0dXJuIHdyaXRlRmxvYXQodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UsIG5vQXNzZXJ0KVxufVxuXG5mdW5jdGlvbiB3cml0ZURvdWJsZSAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICBjaGVja0lFRUU3NTQoYnVmLCB2YWx1ZSwgb2Zmc2V0LCA4LCAxLjc5NzY5MzEzNDg2MjMxNTdFKzMwOCwgLTEuNzk3NjkzMTM0ODYyMzE1N0UrMzA4KVxuICB9XG4gIGllZWU3NTQud3JpdGUoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIDUyLCA4KVxuICByZXR1cm4gb2Zmc2V0ICsgOFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlRG91YmxlTEUgPSBmdW5jdGlvbiB3cml0ZURvdWJsZUxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gd3JpdGVEb3VibGUodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSwgbm9Bc3NlcnQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVEb3VibGVCRSA9IGZ1bmN0aW9uIHdyaXRlRG91YmxlQkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHJldHVybiB3cml0ZURvdWJsZSh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSwgbm9Bc3NlcnQpXG59XG5cbi8vIGNvcHkodGFyZ2V0QnVmZmVyLCB0YXJnZXRTdGFydD0wLCBzb3VyY2VTdGFydD0wLCBzb3VyY2VFbmQ9YnVmZmVyLmxlbmd0aClcbkJ1ZmZlci5wcm90b3R5cGUuY29weSA9IGZ1bmN0aW9uIGNvcHkgKHRhcmdldCwgdGFyZ2V0U3RhcnQsIHN0YXJ0LCBlbmQpIHtcbiAgaWYgKCFzdGFydCkgc3RhcnQgPSAwXG4gIGlmICghZW5kICYmIGVuZCAhPT0gMCkgZW5kID0gdGhpcy5sZW5ndGhcbiAgaWYgKHRhcmdldFN0YXJ0ID49IHRhcmdldC5sZW5ndGgpIHRhcmdldFN0YXJ0ID0gdGFyZ2V0Lmxlbmd0aFxuICBpZiAoIXRhcmdldFN0YXJ0KSB0YXJnZXRTdGFydCA9IDBcbiAgaWYgKGVuZCA+IDAgJiYgZW5kIDwgc3RhcnQpIGVuZCA9IHN0YXJ0XG5cbiAgLy8gQ29weSAwIGJ5dGVzOyB3ZSdyZSBkb25lXG4gIGlmIChlbmQgPT09IHN0YXJ0KSByZXR1cm4gMFxuICBpZiAodGFyZ2V0Lmxlbmd0aCA9PT0gMCB8fCB0aGlzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIDBcblxuICAvLyBGYXRhbCBlcnJvciBjb25kaXRpb25zXG4gIGlmICh0YXJnZXRTdGFydCA8IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcigndGFyZ2V0U3RhcnQgb3V0IG9mIGJvdW5kcycpXG4gIH1cbiAgaWYgKHN0YXJ0IDwgMCB8fCBzdGFydCA+PSB0aGlzLmxlbmd0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ3NvdXJjZVN0YXJ0IG91dCBvZiBib3VuZHMnKVxuICBpZiAoZW5kIDwgMCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ3NvdXJjZUVuZCBvdXQgb2YgYm91bmRzJylcblxuICAvLyBBcmUgd2Ugb29iP1xuICBpZiAoZW5kID4gdGhpcy5sZW5ndGgpIGVuZCA9IHRoaXMubGVuZ3RoXG4gIGlmICh0YXJnZXQubGVuZ3RoIC0gdGFyZ2V0U3RhcnQgPCBlbmQgLSBzdGFydCkge1xuICAgIGVuZCA9IHRhcmdldC5sZW5ndGggLSB0YXJnZXRTdGFydCArIHN0YXJ0XG4gIH1cblxuICB2YXIgbGVuID0gZW5kIC0gc3RhcnRcbiAgdmFyIGlcblxuICBpZiAodGhpcyA9PT0gdGFyZ2V0ICYmIHN0YXJ0IDwgdGFyZ2V0U3RhcnQgJiYgdGFyZ2V0U3RhcnQgPCBlbmQpIHtcbiAgICAvLyBkZXNjZW5kaW5nIGNvcHkgZnJvbSBlbmRcbiAgICBmb3IgKGkgPSBsZW4gLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgdGFyZ2V0W2kgKyB0YXJnZXRTdGFydF0gPSB0aGlzW2kgKyBzdGFydF1cbiAgICB9XG4gIH0gZWxzZSBpZiAobGVuIDwgMTAwMCB8fCAhQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICAvLyBhc2NlbmRpbmcgY29weSBmcm9tIHN0YXJ0XG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICB0YXJnZXRbaSArIHRhcmdldFN0YXJ0XSA9IHRoaXNbaSArIHN0YXJ0XVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBVaW50OEFycmF5LnByb3RvdHlwZS5zZXQuY2FsbChcbiAgICAgIHRhcmdldCxcbiAgICAgIHRoaXMuc3ViYXJyYXkoc3RhcnQsIHN0YXJ0ICsgbGVuKSxcbiAgICAgIHRhcmdldFN0YXJ0XG4gICAgKVxuICB9XG5cbiAgcmV0dXJuIGxlblxufVxuXG4vLyBVc2FnZTpcbi8vICAgIGJ1ZmZlci5maWxsKG51bWJlclssIG9mZnNldFssIGVuZF1dKVxuLy8gICAgYnVmZmVyLmZpbGwoYnVmZmVyWywgb2Zmc2V0WywgZW5kXV0pXG4vLyAgICBidWZmZXIuZmlsbChzdHJpbmdbLCBvZmZzZXRbLCBlbmRdXVssIGVuY29kaW5nXSlcbkJ1ZmZlci5wcm90b3R5cGUuZmlsbCA9IGZ1bmN0aW9uIGZpbGwgKHZhbCwgc3RhcnQsIGVuZCwgZW5jb2RpbmcpIHtcbiAgLy8gSGFuZGxlIHN0cmluZyBjYXNlczpcbiAgaWYgKHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnKSB7XG4gICAgaWYgKHR5cGVvZiBzdGFydCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGVuY29kaW5nID0gc3RhcnRcbiAgICAgIHN0YXJ0ID0gMFxuICAgICAgZW5kID0gdGhpcy5sZW5ndGhcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBlbmQgPT09ICdzdHJpbmcnKSB7XG4gICAgICBlbmNvZGluZyA9IGVuZFxuICAgICAgZW5kID0gdGhpcy5sZW5ndGhcbiAgICB9XG4gICAgaWYgKHZhbC5sZW5ndGggPT09IDEpIHtcbiAgICAgIHZhciBjb2RlID0gdmFsLmNoYXJDb2RlQXQoMClcbiAgICAgIGlmIChjb2RlIDwgMjU2KSB7XG4gICAgICAgIHZhbCA9IGNvZGVcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGVuY29kaW5nICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIGVuY29kaW5nICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignZW5jb2RpbmcgbXVzdCBiZSBhIHN0cmluZycpXG4gICAgfVxuICAgIGlmICh0eXBlb2YgZW5jb2RpbmcgPT09ICdzdHJpbmcnICYmICFCdWZmZXIuaXNFbmNvZGluZyhlbmNvZGluZykpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Vua25vd24gZW5jb2Rpbmc6ICcgKyBlbmNvZGluZylcbiAgICB9XG4gIH0gZWxzZSBpZiAodHlwZW9mIHZhbCA9PT0gJ251bWJlcicpIHtcbiAgICB2YWwgPSB2YWwgJiAyNTVcbiAgfVxuXG4gIC8vIEludmFsaWQgcmFuZ2VzIGFyZSBub3Qgc2V0IHRvIGEgZGVmYXVsdCwgc28gY2FuIHJhbmdlIGNoZWNrIGVhcmx5LlxuICBpZiAoc3RhcnQgPCAwIHx8IHRoaXMubGVuZ3RoIDwgc3RhcnQgfHwgdGhpcy5sZW5ndGggPCBlbmQpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignT3V0IG9mIHJhbmdlIGluZGV4JylcbiAgfVxuXG4gIGlmIChlbmQgPD0gc3RhcnQpIHtcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgc3RhcnQgPSBzdGFydCA+Pj4gMFxuICBlbmQgPSBlbmQgPT09IHVuZGVmaW5lZCA/IHRoaXMubGVuZ3RoIDogZW5kID4+PiAwXG5cbiAgaWYgKCF2YWwpIHZhbCA9IDBcblxuICB2YXIgaVxuICBpZiAodHlwZW9mIHZhbCA9PT0gJ251bWJlcicpIHtcbiAgICBmb3IgKGkgPSBzdGFydDsgaSA8IGVuZDsgKytpKSB7XG4gICAgICB0aGlzW2ldID0gdmFsXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHZhciBieXRlcyA9IEJ1ZmZlci5pc0J1ZmZlcih2YWwpXG4gICAgICA/IHZhbFxuICAgICAgOiB1dGY4VG9CeXRlcyhuZXcgQnVmZmVyKHZhbCwgZW5jb2RpbmcpLnRvU3RyaW5nKCkpXG4gICAgdmFyIGxlbiA9IGJ5dGVzLmxlbmd0aFxuICAgIGZvciAoaSA9IDA7IGkgPCBlbmQgLSBzdGFydDsgKytpKSB7XG4gICAgICB0aGlzW2kgKyBzdGFydF0gPSBieXRlc1tpICUgbGVuXVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0aGlzXG59XG5cbi8vIEhFTFBFUiBGVU5DVElPTlNcbi8vID09PT09PT09PT09PT09PT1cblxudmFyIElOVkFMSURfQkFTRTY0X1JFID0gL1teK1xcLzAtOUEtWmEtei1fXS9nXG5cbmZ1bmN0aW9uIGJhc2U2NGNsZWFuIChzdHIpIHtcbiAgLy8gTm9kZSBzdHJpcHMgb3V0IGludmFsaWQgY2hhcmFjdGVycyBsaWtlIFxcbiBhbmQgXFx0IGZyb20gdGhlIHN0cmluZywgYmFzZTY0LWpzIGRvZXMgbm90XG4gIHN0ciA9IHN0cmluZ3RyaW0oc3RyKS5yZXBsYWNlKElOVkFMSURfQkFTRTY0X1JFLCAnJylcbiAgLy8gTm9kZSBjb252ZXJ0cyBzdHJpbmdzIHdpdGggbGVuZ3RoIDwgMiB0byAnJ1xuICBpZiAoc3RyLmxlbmd0aCA8IDIpIHJldHVybiAnJ1xuICAvLyBOb2RlIGFsbG93cyBmb3Igbm9uLXBhZGRlZCBiYXNlNjQgc3RyaW5ncyAobWlzc2luZyB0cmFpbGluZyA9PT0pLCBiYXNlNjQtanMgZG9lcyBub3RcbiAgd2hpbGUgKHN0ci5sZW5ndGggJSA0ICE9PSAwKSB7XG4gICAgc3RyID0gc3RyICsgJz0nXG4gIH1cbiAgcmV0dXJuIHN0clxufVxuXG5mdW5jdGlvbiBzdHJpbmd0cmltIChzdHIpIHtcbiAgaWYgKHN0ci50cmltKSByZXR1cm4gc3RyLnRyaW0oKVxuICByZXR1cm4gc3RyLnJlcGxhY2UoL15cXHMrfFxccyskL2csICcnKVxufVxuXG5mdW5jdGlvbiB0b0hleCAobikge1xuICBpZiAobiA8IDE2KSByZXR1cm4gJzAnICsgbi50b1N0cmluZygxNilcbiAgcmV0dXJuIG4udG9TdHJpbmcoMTYpXG59XG5cbmZ1bmN0aW9uIHV0ZjhUb0J5dGVzIChzdHJpbmcsIHVuaXRzKSB7XG4gIHVuaXRzID0gdW5pdHMgfHwgSW5maW5pdHlcbiAgdmFyIGNvZGVQb2ludFxuICB2YXIgbGVuZ3RoID0gc3RyaW5nLmxlbmd0aFxuICB2YXIgbGVhZFN1cnJvZ2F0ZSA9IG51bGxcbiAgdmFyIGJ5dGVzID0gW11cblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgY29kZVBvaW50ID0gc3RyaW5nLmNoYXJDb2RlQXQoaSlcblxuICAgIC8vIGlzIHN1cnJvZ2F0ZSBjb21wb25lbnRcbiAgICBpZiAoY29kZVBvaW50ID4gMHhEN0ZGICYmIGNvZGVQb2ludCA8IDB4RTAwMCkge1xuICAgICAgLy8gbGFzdCBjaGFyIHdhcyBhIGxlYWRcbiAgICAgIGlmICghbGVhZFN1cnJvZ2F0ZSkge1xuICAgICAgICAvLyBubyBsZWFkIHlldFxuICAgICAgICBpZiAoY29kZVBvaW50ID4gMHhEQkZGKSB7XG4gICAgICAgICAgLy8gdW5leHBlY3RlZCB0cmFpbFxuICAgICAgICAgIGlmICgodW5pdHMgLT0gMykgPiAtMSkgYnl0ZXMucHVzaCgweEVGLCAweEJGLCAweEJEKVxuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH0gZWxzZSBpZiAoaSArIDEgPT09IGxlbmd0aCkge1xuICAgICAgICAgIC8vIHVucGFpcmVkIGxlYWRcbiAgICAgICAgICBpZiAoKHVuaXRzIC09IDMpID4gLTEpIGJ5dGVzLnB1c2goMHhFRiwgMHhCRiwgMHhCRClcbiAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gdmFsaWQgbGVhZFxuICAgICAgICBsZWFkU3Vycm9nYXRlID0gY29kZVBvaW50XG5cbiAgICAgICAgY29udGludWVcbiAgICAgIH1cblxuICAgICAgLy8gMiBsZWFkcyBpbiBhIHJvd1xuICAgICAgaWYgKGNvZGVQb2ludCA8IDB4REMwMCkge1xuICAgICAgICBpZiAoKHVuaXRzIC09IDMpID4gLTEpIGJ5dGVzLnB1c2goMHhFRiwgMHhCRiwgMHhCRClcbiAgICAgICAgbGVhZFN1cnJvZ2F0ZSA9IGNvZGVQb2ludFxuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuXG4gICAgICAvLyB2YWxpZCBzdXJyb2dhdGUgcGFpclxuICAgICAgY29kZVBvaW50ID0gKGxlYWRTdXJyb2dhdGUgLSAweEQ4MDAgPDwgMTAgfCBjb2RlUG9pbnQgLSAweERDMDApICsgMHgxMDAwMFxuICAgIH0gZWxzZSBpZiAobGVhZFN1cnJvZ2F0ZSkge1xuICAgICAgLy8gdmFsaWQgYm1wIGNoYXIsIGJ1dCBsYXN0IGNoYXIgd2FzIGEgbGVhZFxuICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKSBieXRlcy5wdXNoKDB4RUYsIDB4QkYsIDB4QkQpXG4gICAgfVxuXG4gICAgbGVhZFN1cnJvZ2F0ZSA9IG51bGxcblxuICAgIC8vIGVuY29kZSB1dGY4XG4gICAgaWYgKGNvZGVQb2ludCA8IDB4ODApIHtcbiAgICAgIGlmICgodW5pdHMgLT0gMSkgPCAwKSBicmVha1xuICAgICAgYnl0ZXMucHVzaChjb2RlUG9pbnQpXG4gICAgfSBlbHNlIGlmIChjb2RlUG9pbnQgPCAweDgwMCkge1xuICAgICAgaWYgKCh1bml0cyAtPSAyKSA8IDApIGJyZWFrXG4gICAgICBieXRlcy5wdXNoKFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHg2IHwgMHhDMCxcbiAgICAgICAgY29kZVBvaW50ICYgMHgzRiB8IDB4ODBcbiAgICAgIClcbiAgICB9IGVsc2UgaWYgKGNvZGVQb2ludCA8IDB4MTAwMDApIHtcbiAgICAgIGlmICgodW5pdHMgLT0gMykgPCAwKSBicmVha1xuICAgICAgYnl0ZXMucHVzaChcbiAgICAgICAgY29kZVBvaW50ID4+IDB4QyB8IDB4RTAsXG4gICAgICAgIGNvZGVQb2ludCA+PiAweDYgJiAweDNGIHwgMHg4MCxcbiAgICAgICAgY29kZVBvaW50ICYgMHgzRiB8IDB4ODBcbiAgICAgIClcbiAgICB9IGVsc2UgaWYgKGNvZGVQb2ludCA8IDB4MTEwMDAwKSB7XG4gICAgICBpZiAoKHVuaXRzIC09IDQpIDwgMCkgYnJlYWtcbiAgICAgIGJ5dGVzLnB1c2goXG4gICAgICAgIGNvZGVQb2ludCA+PiAweDEyIHwgMHhGMCxcbiAgICAgICAgY29kZVBvaW50ID4+IDB4QyAmIDB4M0YgfCAweDgwLFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHg2ICYgMHgzRiB8IDB4ODAsXG4gICAgICAgIGNvZGVQb2ludCAmIDB4M0YgfCAweDgwXG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBjb2RlIHBvaW50JylcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYnl0ZXNcbn1cblxuZnVuY3Rpb24gYXNjaWlUb0J5dGVzIChzdHIpIHtcbiAgdmFyIGJ5dGVBcnJheSA9IFtdXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgKytpKSB7XG4gICAgLy8gTm9kZSdzIGNvZGUgc2VlbXMgdG8gYmUgZG9pbmcgdGhpcyBhbmQgbm90ICYgMHg3Ri4uXG4gICAgYnl0ZUFycmF5LnB1c2goc3RyLmNoYXJDb2RlQXQoaSkgJiAweEZGKVxuICB9XG4gIHJldHVybiBieXRlQXJyYXlcbn1cblxuZnVuY3Rpb24gdXRmMTZsZVRvQnl0ZXMgKHN0ciwgdW5pdHMpIHtcbiAgdmFyIGMsIGhpLCBsb1xuICB2YXIgYnl0ZUFycmF5ID0gW11cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyArK2kpIHtcbiAgICBpZiAoKHVuaXRzIC09IDIpIDwgMCkgYnJlYWtcblxuICAgIGMgPSBzdHIuY2hhckNvZGVBdChpKVxuICAgIGhpID0gYyA+PiA4XG4gICAgbG8gPSBjICUgMjU2XG4gICAgYnl0ZUFycmF5LnB1c2gobG8pXG4gICAgYnl0ZUFycmF5LnB1c2goaGkpXG4gIH1cblxuICByZXR1cm4gYnl0ZUFycmF5XG59XG5cbmZ1bmN0aW9uIGJhc2U2NFRvQnl0ZXMgKHN0cikge1xuICByZXR1cm4gYmFzZTY0LnRvQnl0ZUFycmF5KGJhc2U2NGNsZWFuKHN0cikpXG59XG5cbmZ1bmN0aW9uIGJsaXRCdWZmZXIgKHNyYywgZHN0LCBvZmZzZXQsIGxlbmd0aCkge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgaWYgKChpICsgb2Zmc2V0ID49IGRzdC5sZW5ndGgpIHx8IChpID49IHNyYy5sZW5ndGgpKSBicmVha1xuICAgIGRzdFtpICsgb2Zmc2V0XSA9IHNyY1tpXVxuICB9XG4gIHJldHVybiBpXG59XG5cbmZ1bmN0aW9uIGlzbmFuICh2YWwpIHtcbiAgcmV0dXJuIHZhbCAhPT0gdmFsIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tc2VsZi1jb21wYXJlXG59XG4iLCJleHBvcnRzLnJlYWQgPSBmdW5jdGlvbiAoYnVmZmVyLCBvZmZzZXQsIGlzTEUsIG1MZW4sIG5CeXRlcykge1xuICB2YXIgZSwgbVxuICB2YXIgZUxlbiA9IChuQnl0ZXMgKiA4KSAtIG1MZW4gLSAxXG4gIHZhciBlTWF4ID0gKDEgPDwgZUxlbikgLSAxXG4gIHZhciBlQmlhcyA9IGVNYXggPj4gMVxuICB2YXIgbkJpdHMgPSAtN1xuICB2YXIgaSA9IGlzTEUgPyAobkJ5dGVzIC0gMSkgOiAwXG4gIHZhciBkID0gaXNMRSA/IC0xIDogMVxuICB2YXIgcyA9IGJ1ZmZlcltvZmZzZXQgKyBpXVxuXG4gIGkgKz0gZFxuXG4gIGUgPSBzICYgKCgxIDw8ICgtbkJpdHMpKSAtIDEpXG4gIHMgPj49ICgtbkJpdHMpXG4gIG5CaXRzICs9IGVMZW5cbiAgZm9yICg7IG5CaXRzID4gMDsgZSA9IChlICogMjU2KSArIGJ1ZmZlcltvZmZzZXQgKyBpXSwgaSArPSBkLCBuQml0cyAtPSA4KSB7fVxuXG4gIG0gPSBlICYgKCgxIDw8ICgtbkJpdHMpKSAtIDEpXG4gIGUgPj49ICgtbkJpdHMpXG4gIG5CaXRzICs9IG1MZW5cbiAgZm9yICg7IG5CaXRzID4gMDsgbSA9IChtICogMjU2KSArIGJ1ZmZlcltvZmZzZXQgKyBpXSwgaSArPSBkLCBuQml0cyAtPSA4KSB7fVxuXG4gIGlmIChlID09PSAwKSB7XG4gICAgZSA9IDEgLSBlQmlhc1xuICB9IGVsc2UgaWYgKGUgPT09IGVNYXgpIHtcbiAgICByZXR1cm4gbSA/IE5hTiA6ICgocyA/IC0xIDogMSkgKiBJbmZpbml0eSlcbiAgfSBlbHNlIHtcbiAgICBtID0gbSArIE1hdGgucG93KDIsIG1MZW4pXG4gICAgZSA9IGUgLSBlQmlhc1xuICB9XG4gIHJldHVybiAocyA/IC0xIDogMSkgKiBtICogTWF0aC5wb3coMiwgZSAtIG1MZW4pXG59XG5cbmV4cG9ydHMud3JpdGUgPSBmdW5jdGlvbiAoYnVmZmVyLCB2YWx1ZSwgb2Zmc2V0LCBpc0xFLCBtTGVuLCBuQnl0ZXMpIHtcbiAgdmFyIGUsIG0sIGNcbiAgdmFyIGVMZW4gPSAobkJ5dGVzICogOCkgLSBtTGVuIC0gMVxuICB2YXIgZU1heCA9ICgxIDw8IGVMZW4pIC0gMVxuICB2YXIgZUJpYXMgPSBlTWF4ID4+IDFcbiAgdmFyIHJ0ID0gKG1MZW4gPT09IDIzID8gTWF0aC5wb3coMiwgLTI0KSAtIE1hdGgucG93KDIsIC03NykgOiAwKVxuICB2YXIgaSA9IGlzTEUgPyAwIDogKG5CeXRlcyAtIDEpXG4gIHZhciBkID0gaXNMRSA/IDEgOiAtMVxuICB2YXIgcyA9IHZhbHVlIDwgMCB8fCAodmFsdWUgPT09IDAgJiYgMSAvIHZhbHVlIDwgMCkgPyAxIDogMFxuXG4gIHZhbHVlID0gTWF0aC5hYnModmFsdWUpXG5cbiAgaWYgKGlzTmFOKHZhbHVlKSB8fCB2YWx1ZSA9PT0gSW5maW5pdHkpIHtcbiAgICBtID0gaXNOYU4odmFsdWUpID8gMSA6IDBcbiAgICBlID0gZU1heFxuICB9IGVsc2Uge1xuICAgIGUgPSBNYXRoLmZsb29yKE1hdGgubG9nKHZhbHVlKSAvIE1hdGguTE4yKVxuICAgIGlmICh2YWx1ZSAqIChjID0gTWF0aC5wb3coMiwgLWUpKSA8IDEpIHtcbiAgICAgIGUtLVxuICAgICAgYyAqPSAyXG4gICAgfVxuICAgIGlmIChlICsgZUJpYXMgPj0gMSkge1xuICAgICAgdmFsdWUgKz0gcnQgLyBjXG4gICAgfSBlbHNlIHtcbiAgICAgIHZhbHVlICs9IHJ0ICogTWF0aC5wb3coMiwgMSAtIGVCaWFzKVxuICAgIH1cbiAgICBpZiAodmFsdWUgKiBjID49IDIpIHtcbiAgICAgIGUrK1xuICAgICAgYyAvPSAyXG4gICAgfVxuXG4gICAgaWYgKGUgKyBlQmlhcyA+PSBlTWF4KSB7XG4gICAgICBtID0gMFxuICAgICAgZSA9IGVNYXhcbiAgICB9IGVsc2UgaWYgKGUgKyBlQmlhcyA+PSAxKSB7XG4gICAgICBtID0gKCh2YWx1ZSAqIGMpIC0gMSkgKiBNYXRoLnBvdygyLCBtTGVuKVxuICAgICAgZSA9IGUgKyBlQmlhc1xuICAgIH0gZWxzZSB7XG4gICAgICBtID0gdmFsdWUgKiBNYXRoLnBvdygyLCBlQmlhcyAtIDEpICogTWF0aC5wb3coMiwgbUxlbilcbiAgICAgIGUgPSAwXG4gICAgfVxuICB9XG5cbiAgZm9yICg7IG1MZW4gPj0gODsgYnVmZmVyW29mZnNldCArIGldID0gbSAmIDB4ZmYsIGkgKz0gZCwgbSAvPSAyNTYsIG1MZW4gLT0gOCkge31cblxuICBlID0gKGUgPDwgbUxlbikgfCBtXG4gIGVMZW4gKz0gbUxlblxuICBmb3IgKDsgZUxlbiA+IDA7IGJ1ZmZlcltvZmZzZXQgKyBpXSA9IGUgJiAweGZmLCBpICs9IGQsIGUgLz0gMjU2LCBlTGVuIC09IDgpIHt9XG5cbiAgYnVmZmVyW29mZnNldCArIGkgLSBkXSB8PSBzICogMTI4XG59XG4iLCJ2YXIgdG9TdHJpbmcgPSB7fS50b1N0cmluZztcblxubW9kdWxlLmV4cG9ydHMgPSBBcnJheS5pc0FycmF5IHx8IGZ1bmN0aW9uIChhcnIpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwoYXJyKSA9PSAnW29iamVjdCBBcnJheV0nO1xufTtcbiIsIiFmdW5jdGlvbihlKXt2YXIgaT10aGlzO1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP21vZHVsZS5leHBvcnRzPWUoaSxyZXF1aXJlKFwiamRhdGF2aWV3XCIpKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtcImpkYXRhdmlld1wiXSxmdW5jdGlvbih0KXtyZXR1cm4gZShpLHQpfSk6aS5qQmluYXJ5PWUoaSxpLmpEYXRhVmlldyl9KGZ1bmN0aW9uKGgsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIG8sdSxuPWguZG9jdW1lbnQ7XCJhdG9iXCJpbiBoJiZcImJ0b2FcImluIGh8fChvPVwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrL1wiLHU9Wy0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLC0xLDYyLC0xLC0xLC0xLDYzLDUyLDUzLDU0LDU1LDU2LDU3LDU4LDU5LDYwLDYxLC0xLC0xLC0xLC0xLC0xLC0xLC0xLDAsMSwyLDMsNCw1LDYsNyw4LDksMTAsMTEsMTIsMTMsMTQsMTUsMTYsMTcsMTgsMTksMjAsMjEsMjIsMjMsMjQsMjUsLTEsLTEsLTEsLTEsLTEsLTEsMjYsMjcsMjgsMjksMzAsMzEsMzIsMzMsMzQsMzUsMzYsMzcsMzgsMzksNDAsNDEsNDIsNDMsNDQsNDUsNDYsNDcsNDgsNDksNTAsNTEsLTEsLTEsLTEsLTEsLTFdLGguYnRvYXx8KGguYnRvYT1mdW5jdGlvbih0KXtmb3IodmFyIGUsaSxuLHI9dC5sZW5ndGgsYT0wLHM9XCJcIjthPHI7KXtpZihlPTI1NSZ0LmNoYXJDb2RlQXQoYSsrKSxhPT1yKXtzKz1vLmNoYXJBdChlPj4yKSxzKz1vLmNoYXJBdCgoMyZlKTw8NCkscys9XCI9PVwiO2JyZWFrfWlmKGk9dC5jaGFyQ29kZUF0KGErKyksYT09cil7cys9by5jaGFyQXQoZT4+Mikscys9by5jaGFyQXQoKDMmZSk8PDR8KDI0MCZpKT4+NCkscys9by5jaGFyQXQoKDE1JmkpPDwyKSxzKz1cIj1cIjticmVha31uPXQuY2hhckNvZGVBdChhKyspLHMrPW8uY2hhckF0KGU+PjIpLHMrPW8uY2hhckF0KCgzJmUpPDw0fCgyNDAmaSk+PjQpLHMrPW8uY2hhckF0KCgxNSZpKTw8MnwoMTkyJm4pPj42KSxzKz1vLmNoYXJBdCg2MyZuKX1yZXR1cm4gc30pLGguYXRvYnx8KGguYXRvYj1mdW5jdGlvbih0KXtmb3IodmFyIGUsaSxuLHIsYT10Lmxlbmd0aCxzPTAsbz1cIlwiO3M8YTspe2Zvcig7ZT11WzI1NSZ0LmNoYXJDb2RlQXQocysrKV0sczxhJiYtMT09ZTspO2lmKC0xPT1lKWJyZWFrO2Zvcig7aT11WzI1NSZ0LmNoYXJDb2RlQXQocysrKV0sczxhJiYtMT09aTspO2lmKC0xPT1pKWJyZWFrO28rPVN0cmluZy5mcm9tQ2hhckNvZGUoZTw8MnwoNDgmaSk+PjQpO2Rve2lmKDYxPT0obj0yNTUmdC5jaGFyQ29kZUF0KHMrKykpKXJldHVybiBvfXdoaWxlKG49dVtuXSxzPGEmJi0xPT1uKTtpZigtMT09bilicmVhaztvKz1TdHJpbmcuZnJvbUNoYXJDb2RlKCgxNSZpKTw8NHwoNjAmbik+PjIpO2Rve2lmKDYxPT0ocj0yNTUmdC5jaGFyQ29kZUF0KHMrKykpKXJldHVybiBvfXdoaWxlKHI9dVtyXSxzPGEmJi0xPT1yKTtpZigtMT09cilicmVhaztvKz1TdHJpbmcuZnJvbUNoYXJDb2RlKCgzJm4pPDw2fHIpfXJldHVybiBvfSkpO3ZhciBjPWguUHJvbWlzZXx8ZnVuY3Rpb24odCl7dGhpcy50aGVuPXR9O2Z1bmN0aW9uIGYodCxlKXtyZXR1cm4gZSYmdCBpbnN0YW5jZW9mIGV9ZnVuY3Rpb24gcih0KXtmb3IodmFyIGU9MSxpPWFyZ3VtZW50cy5sZW5ndGg7ZTxpOysrZSl7dmFyIG4scj1hcmd1bWVudHNbZV07Zm9yKG4gaW4gcil2b2lkIDAhPT1yW25dJiYodFtuXT1yW25dKX1yZXR1cm4gdH1mdW5jdGlvbiBsKHQpe3JldHVybiBhcmd1bWVudHNbMF09ZSh0KSxyLmFwcGx5KG51bGwsYXJndW1lbnRzKX1mdW5jdGlvbiBhKHQsZSxpKXtyZXR1cm4gZihpLEZ1bmN0aW9uKT9pLmNhbGwodCxlLmNvbnRleHRzWzBdKTppfWZ1bmN0aW9uIHQocyl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLGU9dC5sZW5ndGgtMSxyPXMubGVuZ3RoLTEsaT10W2VdO2lmKHQubGVuZ3RoPTErciwhZihpLEZ1bmN0aW9uKSl7dmFyIGE9dGhpcztyZXR1cm4gbmV3IGMoZnVuY3Rpb24oaSxuKXt0W3JdPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ/bih0KTppKGUpfSxzLmFwcGx5KGEsdCl9KX10W2VdPXZvaWQgMCx0W3JdPWkscy5hcHBseSh0aGlzLHQpfX1mdW5jdGlvbiBzKHQsZSl7cmV0dXJuIGYodCxzKT90LmFzKGUpOihmKHQsaSl8fCh0PW5ldyBpKHQsdm9pZCAwLHZvaWQgMCxlP2VbXCJqQmluYXJ5LmxpdHRsZUVuZGlhblwiXTp2b2lkIDApKSxmKHRoaXMscyk/KHRoaXMudmlldz10LHRoaXMudmlldy5zZWVrKDApLHRoaXMuY29udGV4dHM9W10sdGhpcy5hcyhlLCEwKSk6bmV3IHModCxlKSl9dmFyIGU9KGU9T2JqZWN0LmNyZWF0ZSl8fGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGUucHJvdG90eXBlPXQsbmV3IGV9LHA9cy5wcm90b3R5cGUseT1wLnR5cGVTZXQ9e307cC50b1ZhbHVlPWZ1bmN0aW9uKHQpe3JldHVybiBhKHRoaXMsdGhpcyx0KX0scC5fbmFtZWQ9ZnVuY3Rpb24odCxlLGkpe3JldHVybiB0LmRpc3BsYXlOYW1lPWUrXCIgQCBcIisodm9pZCAwIT09aT9pOnRoaXMudmlldy50ZWxsKCkpLHR9O3ZhciBkPU9iamVjdC5kZWZpbmVQcm9wZXJ0eTtpZigxLGQpdHJ5e2Qoe30sXCJ4XCIse30pfWNhdGNoKHQpe2Q9dm9pZCAwfWVsc2UgZD1mdW5jdGlvbih0LGUsaSxuKXtuJiYodFtlXT1pLnZhbHVlKX07dmFyIHY9XCJqQmluYXJ5LkNhY2hlXCIsYj0wO2Z1bmN0aW9uIGcodCl7cmV0dXJuIGwoZy5wcm90b3R5cGUsdCl9ZnVuY3Rpb24gdyhpKXtyZXR1cm4gbCh3LnByb3RvdHlwZSxpLHtjcmVhdGVQcm9wZXJ0eTpmdW5jdGlvbih0KXt2YXIgZT0oaS5jcmVhdGVQcm9wZXJ0eXx8dy5wcm90b3R5cGUuY3JlYXRlUHJvcGVydHkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gZS5nZXRCYXNlVHlwZSYmKGUuYmFzZVR5cGU9ZS5iaW5hcnkuZ2V0VHlwZShlLmdldEJhc2VUeXBlKGUuYmluYXJ5LmNvbnRleHRzWzBdKSkpLGV9fSl9cC5fZ2V0Q2FjaGVkPWZ1bmN0aW9uKHQsZSxpKXtpZih0Lmhhc093blByb3BlcnR5KHRoaXMuY2FjaGVLZXkpKXJldHVybiB0W3RoaXMuY2FjaGVLZXldO2U9ZS5jYWxsKHRoaXMsdCk7cmV0dXJuIGQodCx0aGlzLmNhY2hlS2V5LHt2YWx1ZTplfSxpKSxlfSxwLmdldENvbnRleHQ9ZnVuY3Rpb24oZSl7c3dpdGNoKHR5cGVvZiBlKXtjYXNlXCJ1bmRlZmluZWRcIjplPTA7Y2FzZVwibnVtYmVyXCI6cmV0dXJuIHRoaXMuY29udGV4dHNbZV07Y2FzZVwic3RyaW5nXCI6cmV0dXJuIHRoaXMuZ2V0Q29udGV4dChmdW5jdGlvbih0KXtyZXR1cm4gZSBpbiB0fSk7Y2FzZVwiZnVuY3Rpb25cIjpmb3IodmFyIHQ9MCxpPXRoaXMuY29udGV4dHMubGVuZ3RoO3Q8aTt0Kyspe3ZhciBuPXRoaXMuY29udGV4dHNbdF07aWYoZS5jYWxsKHRoaXMsbikpcmV0dXJuIG59fX0scC5pbkNvbnRleHQ9ZnVuY3Rpb24odCxlKXt0aGlzLmNvbnRleHRzLnVuc2hpZnQodCk7ZT1lLmNhbGwodGhpcyk7cmV0dXJuIHRoaXMuY29udGV4dHMuc2hpZnQoKSxlfSxnLnByb3RvdHlwZT17aW5oZXJpdDpmdW5jdGlvbihuLGEpe3ZhciByLHM9dGhpcztmdW5jdGlvbiB0KHQsZSl7dmFyIGk9c1t0XTtpJiYocj1yfHxsKHMpLGUuY2FsbChyLGkpLHJbdF09bnVsbCl9cmV0dXJuIHQoXCJwYXJhbXNcIixmdW5jdGlvbih0KXtmb3IodmFyIGU9MCxpPXQubGVuZ3RoO2U8aTtlKyspdGhpc1t0W2VdXT1uW2VdfSksdChcInNldFBhcmFtc1wiLGZ1bmN0aW9uKHQpe3QuYXBwbHkodGhpcyxuKX0pLHQoXCJ0eXBlUGFyYW1zXCIsZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAsaT10Lmxlbmd0aDtlPGk7ZSsrKXt2YXIgbj10W2VdLHI9dGhpc1tuXTtyJiYodGhpc1tuXT1hKHIpKX19KSx0KFwicmVzb2x2ZVwiLGZ1bmN0aW9uKHQpe3QuY2FsbCh0aGlzLGEpfSkscnx8c30sY3JlYXRlUHJvcGVydHk6ZnVuY3Rpb24odCl7cmV0dXJuIGwodGhpcyx7YmluYXJ5OnQsdmlldzp0LnZpZXd9KX0sdG9WYWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiExIT09ZSYmXCJzdHJpbmdcIj09dHlwZW9mIHQ/dGhpcy5iaW5hcnkuZ2V0Q29udGV4dCh0KVt0XTphKHRoaXMsdGhpcy5iaW5hcnksdCl9fSx3LnByb3RvdHlwZT1sKChzLlR5cGU9ZykucHJvdG90eXBlLHtzZXRQYXJhbXM6ZnVuY3Rpb24oKXt0aGlzLmJhc2VUeXBlJiYodGhpcy50eXBlUGFyYW1zPVtcImJhc2VUeXBlXCJdLmNvbmNhdCh0aGlzLnR5cGVQYXJhbXN8fFtdKSl9LGJhc2VSZWFkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYmluYXJ5LnJlYWQodGhpcy5iYXNlVHlwZSl9LGJhc2VXcml0ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5iaW5hcnkud3JpdGUodGhpcy5iYXNlVHlwZSx0KX19KSxyKHcucHJvdG90eXBlLHtyZWFkOncucHJvdG90eXBlLmJhc2VSZWFkLHdyaXRlOncucHJvdG90eXBlLmJhc2VXcml0ZX0pLHMuVGVtcGxhdGU9dyxwLmFzPWZ1bmN0aW9uKHQsZSl7ZT1lP3RoaXM6bCh0aGlzKTtyZXR1cm4gZS50eXBlU2V0PSh0PXR8fHkpPT09eXx8eS5pc1Byb3RvdHlwZU9mKHQpP3Q6bCh5LHQpLGUuY2FjaGVLZXk9dixlLmNhY2hlS2V5PWUuX2dldENhY2hlZCh0LGZ1bmN0aW9uKCl7cmV0dXJuIHYrXCIuXCIrICsrYn0sITApLGV9LHAuc2Vlaz1mdW5jdGlvbih0LGUpe2lmKHQ9dGhpcy50b1ZhbHVlKHQpLHZvaWQgMD09PWUpcmV0dXJuIHRoaXMudmlldy5zZWVrKHQpO3ZhciBpPXRoaXMudmlldy50ZWxsKCk7dGhpcy52aWV3LnNlZWsodCk7ZT1lLmNhbGwodGhpcyk7cmV0dXJuIHRoaXMudmlldy5zZWVrKGkpLGV9LHAudGVsbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnZpZXcudGVsbCgpfSxwLnNraXA9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5zZWVrKHRoaXMudGVsbCgpK3RoaXMudG9WYWx1ZSh0KSxlKX0scC5zbGljZT1mdW5jdGlvbih0LGUsaSl7cmV0dXJuIG5ldyBzKHRoaXMudmlldy5zbGljZSh0LGUsaSksdGhpcy50eXBlU2V0KX0scC5fZ2V0VHlwZT1mdW5jdGlvbih0LGUpe3N3aXRjaCh0eXBlb2YgdCl7Y2FzZVwic3RyaW5nXCI6aWYoISh0IGluIHRoaXMudHlwZVNldCkpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwiVW5rbm93biB0eXBlOiBcIit0KTtyZXR1cm4gdGhpcy5fZ2V0VHlwZSh0aGlzLnR5cGVTZXRbdF0sZSk7Y2FzZVwibnVtYmVyXCI6cmV0dXJuIHRoaXMuX2dldFR5cGUoeS5iaXRmaWVsZCxbdF0pO2Nhc2VcIm9iamVjdFwiOmlmKGYodCxnKSl7dmFyIGk9dGhpcztyZXR1cm4gdC5pbmhlcml0KGV8fFtdLGZ1bmN0aW9uKHQpe3JldHVybiBpLmdldFR5cGUodCl9KX1yZXR1cm4gZih0LEFycmF5KT90aGlzLl9nZXRDYWNoZWQodCxmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nZXRUeXBlKHRbMF0sdC5zbGljZSgxKSl9LCEwKTp0aGlzLl9nZXRDYWNoZWQodCxmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nZXRUeXBlKHkub2JqZWN0LFt0XSl9LCExKX19LHAuZ2V0VHlwZT1mdW5jdGlvbih0LGUpe2U9dGhpcy5fZ2V0VHlwZSh0LGUpO3JldHVybiBlJiYhZih0LGcpJiYoZS5uYW1lPVwib2JqZWN0XCI9PXR5cGVvZiB0P2YodCxBcnJheSk/dFswXStcIihcIit0LnNsaWNlKDEpLmpvaW4oXCIsIFwiKStcIilcIjpcIm9iamVjdFwiOlN0cmluZyh0KSksZX0scC5fYWN0aW9uPWZ1bmN0aW9uKHQsZSxpKXtpZih2b2lkIDAhPT10KXt0PXRoaXMuZ2V0VHlwZSh0KTt2YXIgbj10aGlzLl9uYW1lZChmdW5jdGlvbigpe3JldHVybiBpLmNhbGwodGhpcyx0LmNyZWF0ZVByb3BlcnR5KHRoaXMpLHRoaXMuY29udGV4dHNbMF0pfSxcIltcIit0Lm5hbWUrXCJdXCIsZSk7cmV0dXJuIHZvaWQgMCE9PWU/dGhpcy5zZWVrKGUsbik6bi5jYWxsKHRoaXMpfX0scC5yZWFkPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX2FjdGlvbih0LGUsZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5yZWFkKGUpfSl9LHAucmVhZEFsbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJlYWQoXCJqQmluYXJ5LmFsbFwiLDApfSxwLndyaXRlPWZ1bmN0aW9uKHQsbixlKXtyZXR1cm4gdGhpcy5fYWN0aW9uKHQsZSxmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMudGVsbCgpO3JldHVybiB0LndyaXRlKG4sZSksdGhpcy50ZWxsKCktaX0pfSxwLndyaXRlQWxsPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLndyaXRlKFwiakJpbmFyeS5hbGxcIix0LDApfSxmdW5jdGlvbih0LGUpe2Zvcih2YXIgaT0wLG49ZS5sZW5ndGg7aTxuO2krKyl7dmFyIHI9ZVtpXTt5W3IudG9Mb3dlckNhc2UoKV09bCh0LHtkYXRhVHlwZTpyfSl9fShnKHtwYXJhbXM6W1wibGl0dGxlRW5kaWFuXCJdLHJlYWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52aWV3W1wiZ2V0XCIrdGhpcy5kYXRhVHlwZV0odm9pZCAwLHRoaXMubGl0dGxlRW5kaWFuKX0sd3JpdGU6ZnVuY3Rpb24odCl7dGhpcy52aWV3W1wid3JpdGVcIit0aGlzLmRhdGFUeXBlXSh0LHRoaXMubGl0dGxlRW5kaWFuKX19KSxbXCJVaW50OFwiLFwiVWludDE2XCIsXCJVaW50MzJcIixcIlVpbnQ2NFwiLFwiSW50OFwiLFwiSW50MTZcIixcIkludDMyXCIsXCJJbnQ2NFwiLFwiRmxvYXQzMlwiLFwiRmxvYXQ2NFwiLFwiQ2hhclwiXSkscih5LHtieXRlOnkudWludDgsZmxvYXQ6eS5mbG9hdDMyLGRvdWJsZTp5LmZsb2F0NjR9KSx5LmFycmF5PXcoe3BhcmFtczpbXCJiYXNlVHlwZVwiLFwibGVuZ3RoXCJdLHJlYWQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnRvVmFsdWUodGhpcy5sZW5ndGgpO2lmKHRoaXMuYmFzZVR5cGU9PT15LnVpbnQ4KXJldHVybiB0aGlzLnZpZXcuZ2V0Qnl0ZXModCx2b2lkIDAsITAsITApO2lmKHZvaWQgMCE9PXQpZm9yKHZhciBlPW5ldyBBcnJheSh0KSxpPTA7aTx0O2krKyllW2ldPXRoaXMuYmFzZVJlYWQoKTtlbHNle3ZhciBuPXRoaXMudmlldy5ieXRlTGVuZ3RoO2ZvcihlPVtdO3RoaXMuYmluYXJ5LnRlbGwoKTxuOyllLnB1c2godGhpcy5iYXNlUmVhZCgpKX1yZXR1cm4gZX0sd3JpdGU6ZnVuY3Rpb24odCl7aWYodGhpcy5iYXNlVHlwZT09PXkudWludDgpcmV0dXJuIHRoaXMudmlldy53cml0ZUJ5dGVzKHQpO2Zvcih2YXIgZT0wLGk9dC5sZW5ndGg7ZTxpO2UrKyl0aGlzLmJhc2VXcml0ZSh0W2VdKX19KSx5LmJpbmFyeT13KHtwYXJhbXM6W1wibGVuZ3RoXCIsXCJ0eXBlU2V0XCJdLHJlYWQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmJpbmFyeS50ZWxsKCksZT10aGlzLmJpbmFyeS5za2lwKHRoaXMudG9WYWx1ZSh0aGlzLmxlbmd0aCkpO3JldHVybiBuZXcgcyh0aGlzLnZpZXcuc2xpY2UodCxlKSx0aGlzLnR5cGVTZXQpfSx3cml0ZTpmdW5jdGlvbih0KXt0aGlzLmJpbmFyeS53cml0ZShcImJsb2JcIix0LnJlYWQoXCJibG9iXCIsMCkpfX0pLHkuYml0ZmllbGQ9Zyh7cGFyYW1zOltcImJpdFNpemVcIl0scmVhZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnZpZXcuZ2V0VW5zaWduZWQodGhpcy5iaXRTaXplKX0sd3JpdGU6ZnVuY3Rpb24odCl7dGhpcy52aWV3LndyaXRlVW5zaWduZWQodCx0aGlzLmJpdFNpemUpfX0pLHkuYmxvYj1nKHtwYXJhbXM6W1wibGVuZ3RoXCJdLHJlYWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52aWV3LmdldEJ5dGVzKHRoaXMudG9WYWx1ZSh0aGlzLmxlbmd0aCkpfSx3cml0ZTpmdW5jdGlvbih0KXt0aGlzLnZpZXcud3JpdGVCeXRlcyh0LCEwKX19KSx5LmNvbnN0PXcoe3BhcmFtczpbXCJiYXNlVHlwZVwiLFwidmFsdWVcIixcInN0cmljdFwiXSxyZWFkOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5iYXNlUmVhZCgpO2lmKHRoaXMuc3RyaWN0JiZ0IT09dGhpcy52YWx1ZSl7aWYoZih0aGlzLnN0cmljdCxGdW5jdGlvbikpcmV0dXJuIHRoaXMuc3RyaWN0KHQpO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJVbmV4cGVjdGVkIHZhbHVlIChcIit0K1wiICE9PSBcIit0aGlzLnZhbHVlK1wiKS5cIil9cmV0dXJuIHR9LHdyaXRlOmZ1bmN0aW9uKHQpe3RoaXMuYmFzZVdyaXRlKHRoaXMuc3RyaWN0fHx2b2lkIDA9PT10P3RoaXMudmFsdWU6dCl9fSkseS5lbnVtPXcoe3BhcmFtczpbXCJiYXNlVHlwZVwiLFwibWF0Y2hlc1wiXSxzZXRQYXJhbXM6ZnVuY3Rpb24odCxlKXtmb3IodmFyIGkgaW4gdGhpcy5iYWNrTWF0Y2hlcz17fSxlKXRoaXMuYmFja01hdGNoZXNbZVtpXV09aX0scmVhZDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuYmFzZVJlYWQoKTtyZXR1cm4gdCBpbiB0aGlzLm1hdGNoZXM/dGhpcy5tYXRjaGVzW3RdOnR9LHdyaXRlOmZ1bmN0aW9uKHQpe3RoaXMuYmFzZVdyaXRlKHQgaW4gdGhpcy5iYWNrTWF0Y2hlcz90aGlzLmJhY2tNYXRjaGVzW3RdOnQpfX0pLHkuZXh0ZW5kPWcoe3NldFBhcmFtczpmdW5jdGlvbigpe3RoaXMucGFydHM9YXJndW1lbnRzfSxyZXNvbHZlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLnBhcnRzLGk9ZS5sZW5ndGgsbj1uZXcgQXJyYXkoaSkscj0wO3I8aTtyKyspbltyXT10KGVbcl0pO3RoaXMucGFydHM9bn0scmVhZDpmdW5jdGlvbigpe3ZhciBpPXRoaXMucGFydHMsbj10aGlzLmJpbmFyeS5yZWFkKGlbMF0pO3JldHVybiB0aGlzLmJpbmFyeS5pbkNvbnRleHQobixmdW5jdGlvbigpe2Zvcih2YXIgdD0xLGU9aS5sZW5ndGg7dDxlO3QrKylyKG4sdGhpcy5yZWFkKGlbdF0pKX0pLG59LHdyaXRlOmZ1bmN0aW9uKGkpe3ZhciBuPXRoaXMucGFydHM7dGhpcy5iaW5hcnkuaW5Db250ZXh0KGksZnVuY3Rpb24oKXtmb3IodmFyIHQ9MCxlPW4ubGVuZ3RoO3Q8ZTt0KyspdGhpcy53cml0ZShuW3RdLGkpfSl9fSkseS5pZj13KHtwYXJhbXM6W1wiY29uZGl0aW9uXCIsXCJ0cnVlVHlwZVwiLFwiZmFsc2VUeXBlXCJdLHR5cGVQYXJhbXM6W1widHJ1ZVR5cGVcIixcImZhbHNlVHlwZVwiXSxnZXRCYXNlVHlwZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50b1ZhbHVlKHRoaXMuY29uZGl0aW9uKT90aGlzLnRydWVUeXBlOnRoaXMuZmFsc2VUeXBlfX0pLHkuaWZfbm90PXkuaWZOb3Q9dyh7c2V0UGFyYW1zOmZ1bmN0aW9uKHQsZSxpKXt0aGlzLmJhc2VUeXBlPVtcImlmXCIsdCxpLGVdfX0pLHkubGF6eT13KHttYXJrZXI6XCJqQmluYXJ5LkxhenlcIixwYXJhbXM6W1wiaW5uZXJUeXBlXCIsXCJsZW5ndGhcIl0sZ2V0QmFzZVR5cGU6ZnVuY3Rpb24oKXtyZXR1cm5bXCJiaW5hcnlcIix0aGlzLmxlbmd0aCx0aGlzLmJpbmFyeS50eXBlU2V0XX0scmVhZDpmdW5jdGlvbigpe3ZhciBlPWZ1bmN0aW9uKHQpe3JldHVybiAwPT09YXJndW1lbnRzLmxlbmd0aD9cInZhbHVlXCJpbiBlP2UudmFsdWU6ZS52YWx1ZT1lLmJpbmFyeS5yZWFkKGUuaW5uZXJUeXBlKTpyKGUse3dhc0NoYW5nZWQ6ITAsdmFsdWU6dH0pLnZhbHVlfTtyZXR1cm4gZVt0aGlzLm1hcmtlcl09ITAscihlLHtiaW5hcnk6cih0aGlzLmJhc2VSZWFkKCkse2NvbnRleHRzOnRoaXMuYmluYXJ5LmNvbnRleHRzLnNsaWNlKCl9KSxpbm5lclR5cGU6dGhpcy5pbm5lclR5cGV9KX0sd3JpdGU6ZnVuY3Rpb24odCl7dC53YXNDaGFuZ2VkfHwhdFt0aGlzLm1hcmtlcl0/dGhpcy5iaW5hcnkud3JpdGUodGhpcy5pbm5lclR5cGUsdCgpKTp0aGlzLmJhc2VXcml0ZSh0LmJpbmFyeSl9fSkseS5vYmplY3Q9Zyh7cGFyYW1zOltcInN0cnVjdHVyZVwiLFwicHJvdG9cIl0scmVzb2x2ZTpmdW5jdGlvbih0KXt2YXIgZSxpPXt9O2ZvcihlIGluIHRoaXMuc3RydWN0dXJlKWlbZV09Zih0aGlzLnN0cnVjdHVyZVtlXSxGdW5jdGlvbik/dGhpcy5zdHJ1Y3R1cmVbZV06dCh0aGlzLnN0cnVjdHVyZVtlXSk7dGhpcy5zdHJ1Y3R1cmU9aX0scmVhZDpmdW5jdGlvbigpe3ZhciBpPXRoaXMsbj10aGlzLnN0cnVjdHVyZSxyPXRoaXMucHJvdG8/bCh0aGlzLnByb3RvKTp7fTtyZXR1cm4gdGhpcy5iaW5hcnkuaW5Db250ZXh0KHIsZnVuY3Rpb24oKXtmb3IodmFyIGUgaW4gbil0aGlzLl9uYW1lZChmdW5jdGlvbigpe3ZhciB0PWYobltlXSxGdW5jdGlvbik/bltlXS5jYWxsKGkscik6dGhpcy5yZWFkKG5bZV0pO3ZvaWQgMCE9PXQmJihyW2VdPXQpfSxlKS5jYWxsKHRoaXMpfSkscn0sd3JpdGU6ZnVuY3Rpb24oZSl7dmFyIGk9dGhpcyxuPXRoaXMuc3RydWN0dXJlO3RoaXMuYmluYXJ5LmluQ29udGV4dChlLGZ1bmN0aW9uKCl7Zm9yKHZhciB0IGluIG4pdGhpcy5fbmFtZWQoZnVuY3Rpb24oKXtmKG5bdF0sRnVuY3Rpb24pP2VbdF09blt0XS5jYWxsKGksZSk6dGhpcy53cml0ZShuW3RdLGVbdF0pfSx0KS5jYWxsKHRoaXMpfSl9fSkseS5za2lwPWcoe3BhcmFtczpbXCJsZW5ndGhcIl0scmVhZDpmdW5jdGlvbigpe3RoaXMudmlldy5za2lwKHRoaXMudG9WYWx1ZSh0aGlzLmxlbmd0aCkpfSx3cml0ZTpmdW5jdGlvbigpe3RoaXMucmVhZCgpfX0pLHkuc3RyaW5nPXcoe3BhcmFtczpbXCJsZW5ndGhcIixcImVuY29kaW5nXCJdLHJlYWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52aWV3LmdldFN0cmluZyh0aGlzLnRvVmFsdWUodGhpcy5sZW5ndGgpLHZvaWQgMCx0aGlzLmVuY29kaW5nKX0sd3JpdGU6ZnVuY3Rpb24odCl7dGhpcy52aWV3LndyaXRlU3RyaW5nKHQsdGhpcy5lbmNvZGluZyl9fSkseS5zdHJpbmcwPWcoe3BhcmFtczpbXCJsZW5ndGhcIixcImVuY29kaW5nXCJdLHJlYWQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnZpZXc7aWYodm9pZCAwIT09KG49dGhpcy5sZW5ndGgpKXJldHVybiB0LmdldFN0cmluZyhuLHZvaWQgMCx0aGlzLmVuY29kaW5nKS5yZXBsYWNlKC9cXDAuKiQvLFwiXCIpO2Zvcih2YXIgZT10LnRlbGwoKSxpPTAsbj10LmJ5dGVMZW5ndGgtZTtpPG4mJnQuZ2V0VWludDgoKTspaSsrO2U9dC5nZXRTdHJpbmcoaSxlLHRoaXMuZW5jb2RpbmcpO3JldHVybiBpPG4mJnQuc2tpcCgxKSxlfSx3cml0ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLnZpZXcsaT12b2lkIDA9PT10aGlzLmxlbmd0aD8xOnRoaXMubGVuZ3RoLXQubGVuZ3RoO2Uud3JpdGVTdHJpbmcodCx2b2lkIDAsdGhpcy5lbmNvZGluZyksMDxpJiYoZS53cml0ZVVpbnQ4KDApLGUuc2tpcChpLTEpKX19KTtzLmxvYWREYXRhPXQoZnVuY3Rpb24odCxlKXt2YXIgaTtpZihmKHQsaC5CbG9iKSlpZihcIkZpbGVSZWFkZXJcImluIGgpKGE9bmV3IEZpbGVSZWFkZXIpLm9ubG9hZD1hLm9uZXJyb3I9ZnVuY3Rpb24oKXtlKHRoaXMuZXJyb3IsdGhpcy5yZXN1bHQpfSxhLnJlYWRBc0FycmF5QnVmZmVyKHQpO2Vsc2V7dmFyIG4scixhPW5ldyBGaWxlUmVhZGVyU3luYzt0cnl7cj1hLnJlYWRBc0FycmF5QnVmZmVyKHQpfWNhdGNoKHQpe249dH1maW5hbGx5e2UobixyKX19ZWxzZSBpZigwLFwic3RyaW5nXCIhPXR5cGVvZiB0KWUobmV3IFR5cGVFcnJvcihcIlVuc3VwcG9ydGVkIHNvdXJjZSB0eXBlLlwiKSk7ZWxzZSBpZihyPXQubWF0Y2goL15kYXRhOiguKz8pKDtiYXNlNjQpPywoLiopJC8pKXRyeXt2YXIgcz1yWzJdLG89clszXTtlKG51bGwsKHM/YXRvYjpkZWNvZGVVUklDb21wb25lbnQpKG8pKX1jYXRjaCh0KXtlKHQpfWVsc2VcIlhNTEh0dHBSZXF1ZXN0XCJpbiBoPygobz1uZXcgWE1MSHR0cFJlcXVlc3QpLm9wZW4oXCJHRVRcIix0LCEwKSxcInJlc3BvbnNlVHlwZVwiaW4gbz9vLnJlc3BvbnNlVHlwZT1cImFycmF5YnVmZmVyXCI6XCJvdmVycmlkZU1pbWVUeXBlXCJpbiBvP28ub3ZlcnJpZGVNaW1lVHlwZShcInRleHQvcGxhaW47IGNoYXJzZXQ9eC11c2VyLWRlZmluZWRcIik6by5zZXRSZXF1ZXN0SGVhZGVyKFwiQWNjZXB0LUNoYXJzZXRcIixcIngtdXNlci1kZWZpbmVkXCIpLFwib25sb2FkXCJpbiBvfHwoby5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXs0PT09dGhpcy5yZWFkeVN0YXRlJiZ0aGlzLm9ubG9hZCgpfSksaT1mdW5jdGlvbih0KXtlKG5ldyBFcnJvcih0KSl9LG8ub25sb2FkPWZ1bmN0aW9uKCl7aWYoMCE9PXRoaXMuc3RhdHVzJiYyMDAhPT10aGlzLnN0YXR1cylyZXR1cm4gaShcIkhUVFAgRXJyb3IgI1wiK3RoaXMuc3RhdHVzK1wiOiBcIit0aGlzLnN0YXR1c1RleHQpO1wicmVzcG9uc2VcImluIHRoaXN8fCh0aGlzLnJlc3BvbnNlPW5ldyBWQkFycmF5KHRoaXMucmVzcG9uc2VCb2R5KS50b0FycmF5KCkpLGUobnVsbCx0aGlzLnJlc3BvbnNlKX0sby5vbmVycm9yPWZ1bmN0aW9uKCl7aShcIk5ldHdvcmsgZXJyb3IuXCIpfSxvLnNlbmQobnVsbCkpOmUobmV3IFR5cGVFcnJvcihcIlVuc3VwcG9ydGVkIHNvdXJjZSB0eXBlLlwiKSl9KSwocy5sb2FkPXQoZnVuY3Rpb24odCxlLGkpe3ZhciBuPXMubG9hZERhdGEodCk7cy5sb2FkLmdldFR5cGVTZXQodCxlLGZ1bmN0aW9uKGUpe24udGhlbihmdW5jdGlvbih0KXtpKG51bGwsbmV3IHModCxlKSl9LGkpfSl9KSkuZ2V0VHlwZVNldD1mdW5jdGlvbih0LGUsaSl7aShlKX0scC5fdG9VUkk9XCJVUkxcImluIGgmJlwiY3JlYXRlT2JqZWN0VVJMXCJpbiBVUkw/ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5zZWVrKDAsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52aWV3LmdldEJ5dGVzKCl9KTtyZXR1cm4gVVJMLmNyZWF0ZU9iamVjdFVSTChuZXcgQmxvYihbZV0se3R5cGU6dH0pKX06ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5zZWVrKDAsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52aWV3LmdldFN0cmluZyh2b2lkIDAsdm9pZCAwLFwiYmluYXJ5XCIpfSk7cmV0dXJuXCJkYXRhOlwiK3QrXCI7YmFzZTY0LFwiK2J0b2EoZSl9LHAuX21pbWVUeXBlPWZ1bmN0aW9uKHQpe3JldHVybiB0fHx0aGlzLnR5cGVTZXRbXCJqQmluYXJ5Lm1pbWVUeXBlXCJdfHxcImFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbVwifTt2YXIgbTtwLnRvVVJJPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl90b1VSSSh0aGlzLl9taW1lVHlwZSh0KSl9O3JldHVybiBuJiYoKG09cy5kb3dubG9hZGVyPW4uY3JlYXRlRWxlbWVudChcImFcIikpLnN0eWxlLmRpc3BsYXk9XCJub25lXCIpLHAuc2F2ZUFzPXQoZnVuY3Rpb24odCxlLGkpe1wic3RyaW5nXCI9PXR5cGVvZiB0PyhcIm1zU2F2ZUJsb2JcImluIG5hdmlnYXRvcj9uYXZpZ2F0b3IubXNTYXZlQmxvYihuZXcgQmxvYihbdGhpcy5yZWFkKFwiYmxvYlwiLDApXSx7dHlwZTp0aGlzLl9taW1lVHlwZShlKX0pLHQpOm4/KG0ucGFyZW50Tm9kZXx8bi5ib2R5LmFwcGVuZENoaWxkKG0pLG0uaHJlZj10aGlzLnRvVVJJKGUpLG0uZG93bmxvYWQ9dCxtLmNsaWNrKCksbS5ocmVmPW0uZG93bmxvYWQ9XCJcIik6aShuZXcgVHlwZUVycm9yKFwiU2F2aW5nIGZyb20gV2ViIFdvcmtlciBpcyBub3Qgc3VwcG9ydGVkLlwiKSksaSgpKTppKG5ldyBUeXBlRXJyb3IoXCJVbnN1cHBvcnRlZCBzdG9yYWdlIHR5cGUuXCIpKX0pLHN9KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWpiaW5hcnkuanMubWFwIiwiIWZ1bmN0aW9uKGZhY3RvcnkpIHtcbiAgICB2YXIgZ2xvYmFsID0gdGhpcztcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoZ2xvYmFsKTtcbn0oZnVuY3Rpb24oZ2xvYmFsKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgZnVuY3Rpb24gaXMob2JqLCBDdG9yKSB7XG4gICAgICAgIHJldHVybiBcIm9iamVjdFwiICE9IHR5cGVvZiBvYmogfHwgbnVsbCA9PT0gb2JqID8gITEgOiBvYmouY29uc3RydWN0b3IgPT09IEN0b3IgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikgPT09IFwiW29iamVjdCBcIiArIEN0b3IubmFtZSArIFwiXVwiO1xuICAgIH1cbiAgICBmdW5jdGlvbiBhcnJheUZyb20oYXJyYXlMaWtlLCBmb3JjZUNvcHkpIHtcbiAgICAgICAgcmV0dXJuICFmb3JjZUNvcHkgJiYgaXMoYXJyYXlMaWtlLCBBcnJheSkgPyBhcnJheUxpa2UgOiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcnJheUxpa2UpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkZWZpbmVkKHZhbHVlLCBkZWZhdWx0VmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHZvaWQgMCAhPT0gdmFsdWUgPyB2YWx1ZSA6IGRlZmF1bHRWYWx1ZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gakRhdGFWaWV3KGJ1ZmZlciwgYnl0ZU9mZnNldCwgYnl0ZUxlbmd0aCwgbGl0dGxlRW5kaWFuKSB7XG4gICAgICAgIGlmIChqRGF0YVZpZXcuaXMoYnVmZmVyKSkge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGJ1ZmZlci5zbGljZShieXRlT2Zmc2V0LCBieXRlT2Zmc2V0ICsgYnl0ZUxlbmd0aCk7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0Ll9saXR0bGVFbmRpYW4gPSBkZWZpbmVkKGxpdHRsZUVuZGlhbiwgcmVzdWx0Ll9saXR0bGVFbmRpYW4pLCByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFqRGF0YVZpZXcuaXModGhpcykpIHJldHVybiBuZXcgakRhdGFWaWV3KGJ1ZmZlciwgYnl0ZU9mZnNldCwgYnl0ZUxlbmd0aCwgbGl0dGxlRW5kaWFuKTtcbiAgICAgICAgaWYgKHRoaXMuYnVmZmVyID0gYnVmZmVyID0gakRhdGFWaWV3LndyYXBCdWZmZXIoYnVmZmVyKSwgdGhpcy5faXNBcnJheUJ1ZmZlciA9IGNvbXBhdGliaWxpdHkuQXJyYXlCdWZmZXIgJiYgaXMoYnVmZmVyLCBBcnJheUJ1ZmZlciksIFxuICAgICAgICB0aGlzLl9pc1BpeGVsRGF0YSA9ICExLCB0aGlzLl9pc0RhdGFWaWV3ID0gY29tcGF0aWJpbGl0eS5EYXRhVmlldyAmJiB0aGlzLl9pc0FycmF5QnVmZmVyLCBcbiAgICAgICAgdGhpcy5faXNOb2RlQnVmZmVyID0gITAgJiYgY29tcGF0aWJpbGl0eS5Ob2RlQnVmZmVyICYmIGlzKGJ1ZmZlciwgQnVmZmVyKSwgIXRoaXMuX2lzTm9kZUJ1ZmZlciAmJiAhdGhpcy5faXNBcnJheUJ1ZmZlciAmJiAhaXMoYnVmZmVyLCBBcnJheSkpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJqRGF0YVZpZXcgYnVmZmVyIGhhcyBhbiBpbmNvbXBhdGlibGUgdHlwZVwiKTtcbiAgICAgICAgdGhpcy5fbGl0dGxlRW5kaWFuID0gISFsaXR0bGVFbmRpYW47XG4gICAgICAgIHZhciBidWZmZXJMZW5ndGggPSBcImJ5dGVMZW5ndGhcIiBpbiBidWZmZXIgPyBidWZmZXIuYnl0ZUxlbmd0aCA6IGJ1ZmZlci5sZW5ndGg7XG4gICAgICAgIHRoaXMuYnl0ZU9mZnNldCA9IGJ5dGVPZmZzZXQgPSBkZWZpbmVkKGJ5dGVPZmZzZXQsIDApLCB0aGlzLmJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoID0gZGVmaW5lZChieXRlTGVuZ3RoLCBidWZmZXJMZW5ndGggLSBieXRlT2Zmc2V0KSwgXG4gICAgICAgIHRoaXMuX29mZnNldCA9IHRoaXMuX2JpdE9mZnNldCA9IDAsIHRoaXMuX2lzRGF0YVZpZXcgPyB0aGlzLl92aWV3ID0gbmV3IERhdGFWaWV3KGJ1ZmZlciwgYnl0ZU9mZnNldCwgYnl0ZUxlbmd0aCkgOiB0aGlzLl9jaGVja0JvdW5kcyhieXRlT2Zmc2V0LCBieXRlTGVuZ3RoLCBidWZmZXJMZW5ndGgpLCBcbiAgICAgICAgdGhpcy5fZW5naW5lQWN0aW9uID0gdGhpcy5faXNEYXRhVmlldyA/IHRoaXMuX2RhdGFWaWV3QWN0aW9uIDogdGhpcy5faXNOb2RlQnVmZmVyID8gdGhpcy5fbm9kZUJ1ZmZlckFjdGlvbiA6IHRoaXMuX2lzQXJyYXlCdWZmZXIgPyB0aGlzLl9hcnJheUJ1ZmZlckFjdGlvbiA6IHRoaXMuX2FycmF5QWN0aW9uO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRDaGFyQ29kZXMoc3RyaW5nKSB7XG4gICAgICAgIGlmIChjb21wYXRpYmlsaXR5Lk5vZGVCdWZmZXIpIHJldHVybiBuZXcgQnVmZmVyKHN0cmluZywgXCJiaW5hcnlcIik7XG4gICAgICAgIGZvciAodmFyIFR5cGUgPSBjb21wYXRpYmlsaXR5LkFycmF5QnVmZmVyID8gVWludDhBcnJheSA6IEFycmF5LCBjb2RlcyA9IG5ldyBUeXBlKHN0cmluZy5sZW5ndGgpLCBpID0gMCwgbGVuZ3RoID0gc3RyaW5nLmxlbmd0aDsgbGVuZ3RoID4gaTsgaSsrKSBjb2Rlc1tpXSA9IDI1NSAmIHN0cmluZy5jaGFyQ29kZUF0KGkpO1xuICAgICAgICByZXR1cm4gY29kZXM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBvdzIobikge1xuICAgICAgICByZXR1cm4gbiA+PSAwICYmIDMxID4gbiA/IDEgPDwgbiA6IHBvdzJbbl0gfHwgKHBvdzJbbl0gPSBNYXRoLnBvdygyLCBuKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIFVpbnQ2NChsbywgaGkpIHtcbiAgICAgICAgdGhpcy5sbyA9IGxvLCB0aGlzLmhpID0gaGk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIEludDY0KCkge1xuICAgICAgICBVaW50NjQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG4gICAgdmFyIGNvbXBhdGliaWxpdHkgPSB7XG4gICAgICAgIE5vZGVCdWZmZXI6ICEwICYmIFwiQnVmZmVyXCIgaW4gZ2xvYmFsLFxuICAgICAgICBEYXRhVmlldzogXCJEYXRhVmlld1wiIGluIGdsb2JhbCxcbiAgICAgICAgQXJyYXlCdWZmZXI6IFwiQXJyYXlCdWZmZXJcIiBpbiBnbG9iYWwsXG4gICAgICAgIFBpeGVsRGF0YTogITFcbiAgICB9LCBUZXh0RW5jb2RlciA9IGdsb2JhbC5UZXh0RW5jb2RlciwgVGV4dERlY29kZXIgPSBnbG9iYWwuVGV4dERlY29kZXI7XG4gICAgY29tcGF0aWJpbGl0eS5Ob2RlQnVmZmVyICYmICFmdW5jdGlvbihidWZmZXIpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGJ1ZmZlci53cml0ZUZsb2F0TEUoMS8wLCAwKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgY29tcGF0aWJpbGl0eS5Ob2RlQnVmZmVyID0gITE7XG4gICAgICAgIH1cbiAgICB9KG5ldyBCdWZmZXIoNCkpO1xuICAgIHZhciBkYXRhVHlwZXMgPSB7XG4gICAgICAgIEludDg6IDEsXG4gICAgICAgIEludDE2OiAyLFxuICAgICAgICBJbnQzMjogNCxcbiAgICAgICAgVWludDg6IDEsXG4gICAgICAgIFVpbnQxNjogMixcbiAgICAgICAgVWludDMyOiA0LFxuICAgICAgICBGbG9hdDMyOiA0LFxuICAgICAgICBGbG9hdDY0OiA4XG4gICAgfTtcbiAgICBqRGF0YVZpZXcud3JhcEJ1ZmZlciA9IGZ1bmN0aW9uKGJ1ZmZlcikge1xuICAgICAgICBzd2l0Y2ggKHR5cGVvZiBidWZmZXIpIHtcbiAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICAgICAgICBpZiAoY29tcGF0aWJpbGl0eS5Ob2RlQnVmZmVyKSBidWZmZXIgPSBuZXcgQnVmZmVyKGJ1ZmZlciksIGJ1ZmZlci5maWxsKDApOyBlbHNlIGlmIChjb21wYXRpYmlsaXR5LkFycmF5QnVmZmVyKSBidWZmZXIgPSBuZXcgVWludDhBcnJheShidWZmZXIpLmJ1ZmZlcjsgZWxzZSB7XG4gICAgICAgICAgICAgICAgYnVmZmVyID0gbmV3IEFycmF5KGJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBidWZmZXIubGVuZ3RoOyBpKyspIGJ1ZmZlcltpXSA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYnVmZmVyO1xuXG4gICAgICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgICAgICAgYnVmZmVyID0gZ2V0Q2hhckNvZGVzKGJ1ZmZlcik7XG5cbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIFwibGVuZ3RoXCIgaW4gYnVmZmVyICYmICEoY29tcGF0aWJpbGl0eS5Ob2RlQnVmZmVyICYmIGlzKGJ1ZmZlciwgQnVmZmVyKSB8fCBjb21wYXRpYmlsaXR5LkFycmF5QnVmZmVyICYmIGlzKGJ1ZmZlciwgQXJyYXlCdWZmZXIpKSAmJiAoY29tcGF0aWJpbGl0eS5Ob2RlQnVmZmVyID8gYnVmZmVyID0gbmV3IEJ1ZmZlcihidWZmZXIpIDogY29tcGF0aWJpbGl0eS5BcnJheUJ1ZmZlciA/IGlzKGJ1ZmZlciwgQXJyYXlCdWZmZXIpIHx8IChidWZmZXIgPSBuZXcgVWludDhBcnJheShidWZmZXIpLmJ1ZmZlciwgXG4gICAgICAgICAgICBpcyhidWZmZXIsIEFycmF5QnVmZmVyKSB8fCAoYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXlGcm9tKGJ1ZmZlciwgITApKS5idWZmZXIpKSA6IGJ1ZmZlciA9IGFycmF5RnJvbShidWZmZXIpKSwgXG4gICAgICAgICAgICBidWZmZXI7XG4gICAgICAgIH1cbiAgICB9LCBqRGF0YVZpZXcuaXMgPSBmdW5jdGlvbih2aWV3KSB7XG4gICAgICAgIHJldHVybiB2aWV3ICYmIHZpZXcuakRhdGFWaWV3O1xuICAgIH0sIGpEYXRhVmlldy5mcm9tID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBuZXcgakRhdGFWaWV3KGFyZ3VtZW50cyk7XG4gICAgfSwgakRhdGFWaWV3LlVpbnQ2NCA9IFVpbnQ2NCwgVWludDY0LnByb3RvdHlwZSA9IHtcbiAgICAgICAgdmFsdWVPZjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sbyArIHBvdzIoMzIpICogdGhpcy5oaTtcbiAgICAgICAgfSxcbiAgICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIE51bWJlci5wcm90b3R5cGUudG9TdHJpbmcuYXBwbHkodGhpcy52YWx1ZU9mKCksIGFyZ3VtZW50cyk7XG4gICAgICAgIH1cbiAgICB9LCBVaW50NjQuZnJvbU51bWJlciA9IGZ1bmN0aW9uKG51bWJlcikge1xuICAgICAgICB2YXIgaGkgPSBNYXRoLmZsb29yKG51bWJlciAvIHBvdzIoMzIpKSwgbG8gPSBudW1iZXIgLSBoaSAqIHBvdzIoMzIpO1xuICAgICAgICByZXR1cm4gbmV3IFVpbnQ2NChsbywgaGkpO1xuICAgIH0sIGpEYXRhVmlldy5JbnQ2NCA9IEludDY0LCBJbnQ2NC5wcm90b3R5cGUgPSBcImNyZWF0ZVwiIGluIE9iamVjdCA/IE9iamVjdC5jcmVhdGUoVWludDY0LnByb3RvdHlwZSkgOiBuZXcgVWludDY0KCksIFxuICAgIEludDY0LnByb3RvdHlwZS52YWx1ZU9mID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmhpIDwgcG93MigzMSkgPyBVaW50NjQucHJvdG90eXBlLnZhbHVlT2YuYXBwbHkodGhpcywgYXJndW1lbnRzKSA6IC0ocG93MigzMikgLSB0aGlzLmxvICsgcG93MigzMikgKiAocG93MigzMikgLSAxIC0gdGhpcy5oaSkpO1xuICAgIH0sIEludDY0LmZyb21OdW1iZXIgPSBmdW5jdGlvbihudW1iZXIpIHtcbiAgICAgICAgdmFyIGxvLCBoaTtcbiAgICAgICAgaWYgKG51bWJlciA+PSAwKSB7XG4gICAgICAgICAgICB2YXIgdW5zaWduZWQgPSBVaW50NjQuZnJvbU51bWJlcihudW1iZXIpO1xuICAgICAgICAgICAgbG8gPSB1bnNpZ25lZC5sbywgaGkgPSB1bnNpZ25lZC5oaTtcbiAgICAgICAgfSBlbHNlIGhpID0gTWF0aC5mbG9vcihudW1iZXIgLyBwb3cyKDMyKSksIGxvID0gbnVtYmVyIC0gaGkgKiBwb3cyKDMyKSwgaGkgKz0gcG93MigzMik7XG4gICAgICAgIHJldHVybiBuZXcgSW50NjQobG8sIGhpKTtcbiAgICB9O1xuICAgIHZhciBwcm90byA9IGpEYXRhVmlldy5wcm90b3R5cGUgPSB7XG4gICAgICAgIGNvbXBhdGliaWxpdHk6IGNvbXBhdGliaWxpdHksXG4gICAgICAgIGpEYXRhVmlldzogITAsXG4gICAgICAgIF9jaGVja0JvdW5kczogZnVuY3Rpb24oYnl0ZU9mZnNldCwgYnl0ZUxlbmd0aCwgbWF4TGVuZ3RoKSB7XG4gICAgICAgICAgICBpZiAoXCJudW1iZXJcIiAhPSB0eXBlb2YgYnl0ZU9mZnNldCkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIk9mZnNldCBpcyBub3QgYSBudW1iZXIuXCIpO1xuICAgICAgICAgICAgaWYgKFwibnVtYmVyXCIgIT0gdHlwZW9mIGJ5dGVMZW5ndGgpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTaXplIGlzIG5vdCBhIG51bWJlci5cIik7XG4gICAgICAgICAgICBpZiAoMCA+IGJ5dGVMZW5ndGgpIHRocm93IG5ldyBSYW5nZUVycm9yKFwiTGVuZ3RoIGlzIG5lZ2F0aXZlLlwiKTtcbiAgICAgICAgICAgIGlmICgwID4gYnl0ZU9mZnNldCB8fCBieXRlT2Zmc2V0ICsgYnl0ZUxlbmd0aCA+IGRlZmluZWQobWF4TGVuZ3RoLCB0aGlzLmJ5dGVMZW5ndGgpKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIk9mZnNldHMgYXJlIG91dCBvZiBib3VuZHMuXCIpO1xuICAgICAgICB9LFxuICAgICAgICBfYWN0aW9uOiBmdW5jdGlvbih0eXBlLCBpc1JlYWRBY3Rpb24sIGJ5dGVPZmZzZXQsIGxpdHRsZUVuZGlhbiwgdmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmVBY3Rpb24odHlwZSwgaXNSZWFkQWN0aW9uLCBkZWZpbmVkKGJ5dGVPZmZzZXQsIHRoaXMuX29mZnNldCksIGRlZmluZWQobGl0dGxlRW5kaWFuLCB0aGlzLl9saXR0bGVFbmRpYW4pLCB2YWx1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIF9kYXRhVmlld0FjdGlvbjogZnVuY3Rpb24odHlwZSwgaXNSZWFkQWN0aW9uLCBieXRlT2Zmc2V0LCBsaXR0bGVFbmRpYW4sIHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fb2Zmc2V0ID0gYnl0ZU9mZnNldCArIGRhdGFUeXBlc1t0eXBlXSwgaXNSZWFkQWN0aW9uID8gdGhpcy5fdmlld1tcImdldFwiICsgdHlwZV0oYnl0ZU9mZnNldCwgbGl0dGxlRW5kaWFuKSA6IHRoaXMuX3ZpZXdbXCJzZXRcIiArIHR5cGVdKGJ5dGVPZmZzZXQsIHZhbHVlLCBsaXR0bGVFbmRpYW4pO1xuICAgICAgICB9LFxuICAgICAgICBfYXJyYXlCdWZmZXJBY3Rpb246IGZ1bmN0aW9uKHR5cGUsIGlzUmVhZEFjdGlvbiwgYnl0ZU9mZnNldCwgbGl0dGxlRW5kaWFuLCB2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIHR5cGVkQXJyYXksIHNpemUgPSBkYXRhVHlwZXNbdHlwZV0sIFR5cGVkQXJyYXkgPSBnbG9iYWxbdHlwZSArIFwiQXJyYXlcIl07XG4gICAgICAgICAgICBpZiAobGl0dGxlRW5kaWFuID0gZGVmaW5lZChsaXR0bGVFbmRpYW4sIHRoaXMuX2xpdHRsZUVuZGlhbiksIDEgPT09IHNpemUgfHwgKHRoaXMuYnl0ZU9mZnNldCArIGJ5dGVPZmZzZXQpICUgc2l6ZSA9PT0gMCAmJiBsaXR0bGVFbmRpYW4pIHJldHVybiB0eXBlZEFycmF5ID0gbmV3IFR5cGVkQXJyYXkodGhpcy5idWZmZXIsIHRoaXMuYnl0ZU9mZnNldCArIGJ5dGVPZmZzZXQsIDEpLCBcbiAgICAgICAgICAgIHRoaXMuX29mZnNldCA9IGJ5dGVPZmZzZXQgKyBzaXplLCBpc1JlYWRBY3Rpb24gPyB0eXBlZEFycmF5WzBdIDogdHlwZWRBcnJheVswXSA9IHZhbHVlO1xuICAgICAgICAgICAgdmFyIGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoaXNSZWFkQWN0aW9uID8gdGhpcy5nZXRCeXRlcyhzaXplLCBieXRlT2Zmc2V0LCBsaXR0bGVFbmRpYW4sICEwKSA6IHNpemUpO1xuICAgICAgICAgICAgcmV0dXJuIHR5cGVkQXJyYXkgPSBuZXcgVHlwZWRBcnJheShieXRlcy5idWZmZXIsIDAsIDEpLCBpc1JlYWRBY3Rpb24gPyB0eXBlZEFycmF5WzBdIDogKHR5cGVkQXJyYXlbMF0gPSB2YWx1ZSwgXG4gICAgICAgICAgICB2b2lkIHRoaXMuX3NldEJ5dGVzKGJ5dGVPZmZzZXQsIGJ5dGVzLCBsaXR0bGVFbmRpYW4pKTtcbiAgICAgICAgfSxcbiAgICAgICAgX2FycmF5QWN0aW9uOiBmdW5jdGlvbih0eXBlLCBpc1JlYWRBY3Rpb24sIGJ5dGVPZmZzZXQsIGxpdHRsZUVuZGlhbiwgdmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiBpc1JlYWRBY3Rpb24gPyB0aGlzW1wiX2dldFwiICsgdHlwZV0oYnl0ZU9mZnNldCwgbGl0dGxlRW5kaWFuKSA6IHRoaXNbXCJfc2V0XCIgKyB0eXBlXShieXRlT2Zmc2V0LCB2YWx1ZSwgbGl0dGxlRW5kaWFuKTtcbiAgICAgICAgfSxcbiAgICAgICAgX2dldEJ5dGVzOiBmdW5jdGlvbihsZW5ndGgsIGJ5dGVPZmZzZXQsIGxpdHRsZUVuZGlhbikge1xuICAgICAgICAgICAgbGl0dGxlRW5kaWFuID0gZGVmaW5lZChsaXR0bGVFbmRpYW4sIHRoaXMuX2xpdHRsZUVuZGlhbiksIGJ5dGVPZmZzZXQgPSBkZWZpbmVkKGJ5dGVPZmZzZXQsIHRoaXMuX29mZnNldCksIFxuICAgICAgICAgICAgbGVuZ3RoID0gZGVmaW5lZChsZW5ndGgsIHRoaXMuYnl0ZUxlbmd0aCAtIGJ5dGVPZmZzZXQpLCB0aGlzLl9jaGVja0JvdW5kcyhieXRlT2Zmc2V0LCBsZW5ndGgpLCBcbiAgICAgICAgICAgIGJ5dGVPZmZzZXQgKz0gdGhpcy5ieXRlT2Zmc2V0LCB0aGlzLl9vZmZzZXQgPSBieXRlT2Zmc2V0IC0gdGhpcy5ieXRlT2Zmc2V0ICsgbGVuZ3RoO1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMuX2lzQXJyYXlCdWZmZXIgPyBuZXcgVWludDhBcnJheSh0aGlzLmJ1ZmZlciwgYnl0ZU9mZnNldCwgbGVuZ3RoKSA6ICh0aGlzLmJ1ZmZlci5zbGljZSB8fCBBcnJheS5wcm90b3R5cGUuc2xpY2UpLmNhbGwodGhpcy5idWZmZXIsIGJ5dGVPZmZzZXQsIGJ5dGVPZmZzZXQgKyBsZW5ndGgpO1xuICAgICAgICAgICAgcmV0dXJuIGxpdHRsZUVuZGlhbiB8fCAxID49IGxlbmd0aCA/IHJlc3VsdCA6IGFycmF5RnJvbShyZXN1bHQpLnJldmVyc2UoKTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0Qnl0ZXM6IGZ1bmN0aW9uKGxlbmd0aCwgYnl0ZU9mZnNldCwgbGl0dGxlRW5kaWFuLCB0b0FycmF5KSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5fZ2V0Qnl0ZXMobGVuZ3RoLCBieXRlT2Zmc2V0LCBkZWZpbmVkKGxpdHRsZUVuZGlhbiwgITApKTtcbiAgICAgICAgICAgIHJldHVybiB0b0FycmF5ID8gYXJyYXlGcm9tKHJlc3VsdCkgOiByZXN1bHQ7XG4gICAgICAgIH0sXG4gICAgICAgIF9zZXRCeXRlczogZnVuY3Rpb24oYnl0ZU9mZnNldCwgYnl0ZXMsIGxpdHRsZUVuZGlhbikge1xuICAgICAgICAgICAgdmFyIGxlbmd0aCA9IGJ5dGVzLmxlbmd0aDtcbiAgICAgICAgICAgIGlmICgwICE9PSBsZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBpZiAobGl0dGxlRW5kaWFuID0gZGVmaW5lZChsaXR0bGVFbmRpYW4sIHRoaXMuX2xpdHRsZUVuZGlhbiksIGJ5dGVPZmZzZXQgPSBkZWZpbmVkKGJ5dGVPZmZzZXQsIHRoaXMuX29mZnNldCksIFxuICAgICAgICAgICAgICAgIHRoaXMuX2NoZWNrQm91bmRzKGJ5dGVPZmZzZXQsIGxlbmd0aCksICFsaXR0bGVFbmRpYW4gJiYgbGVuZ3RoID4gMSAmJiAoYnl0ZXMgPSBhcnJheUZyb20oYnl0ZXMsICEwKS5yZXZlcnNlKCkpLCBcbiAgICAgICAgICAgICAgICBieXRlT2Zmc2V0ICs9IHRoaXMuYnl0ZU9mZnNldCwgdGhpcy5faXNBcnJheUJ1ZmZlcikgbmV3IFVpbnQ4QXJyYXkodGhpcy5idWZmZXIsIGJ5dGVPZmZzZXQsIGxlbmd0aCkuc2V0KGJ5dGVzKTsgZWxzZSBpZiAodGhpcy5faXNOb2RlQnVmZmVyKSBuZXcgQnVmZmVyKGJ5dGVzKS5jb3B5KHRoaXMuYnVmZmVyLCBieXRlT2Zmc2V0KTsgZWxzZSBmb3IgKHZhciBpID0gMDsgbGVuZ3RoID4gaTsgaSsrKSB0aGlzLmJ1ZmZlcltieXRlT2Zmc2V0ICsgaV0gPSBieXRlc1tpXTtcbiAgICAgICAgICAgICAgICB0aGlzLl9vZmZzZXQgPSBieXRlT2Zmc2V0IC0gdGhpcy5ieXRlT2Zmc2V0ICsgbGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBzZXRCeXRlczogZnVuY3Rpb24oYnl0ZU9mZnNldCwgYnl0ZXMsIGxpdHRsZUVuZGlhbikge1xuICAgICAgICAgICAgdGhpcy5fc2V0Qnl0ZXMoYnl0ZU9mZnNldCwgYnl0ZXMsIGRlZmluZWQobGl0dGxlRW5kaWFuLCAhMCkpO1xuICAgICAgICB9LFxuICAgICAgICBnZXRTdHJpbmc6IGZ1bmN0aW9uKGJ5dGVMZW5ndGgsIGJ5dGVPZmZzZXQsIGVuY29kaW5nKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5faXNOb2RlQnVmZmVyKSByZXR1cm4gYnl0ZU9mZnNldCA9IGRlZmluZWQoYnl0ZU9mZnNldCwgdGhpcy5fb2Zmc2V0KSwgYnl0ZUxlbmd0aCA9IGRlZmluZWQoYnl0ZUxlbmd0aCwgdGhpcy5ieXRlTGVuZ3RoIC0gYnl0ZU9mZnNldCksIFxuICAgICAgICAgICAgdGhpcy5fY2hlY2tCb3VuZHMoYnl0ZU9mZnNldCwgYnl0ZUxlbmd0aCksIHRoaXMuX29mZnNldCA9IGJ5dGVPZmZzZXQgKyBieXRlTGVuZ3RoLCBcbiAgICAgICAgICAgIHRoaXMuYnVmZmVyLnRvU3RyaW5nKGVuY29kaW5nIHx8IFwiYmluYXJ5XCIsIHRoaXMuYnl0ZU9mZnNldCArIGJ5dGVPZmZzZXQsIHRoaXMuYnl0ZU9mZnNldCArIHRoaXMuX29mZnNldCk7XG4gICAgICAgICAgICB2YXIgYnl0ZXMgPSB0aGlzLl9nZXRCeXRlcyhieXRlTGVuZ3RoLCBieXRlT2Zmc2V0LCAhMCk7XG4gICAgICAgICAgICBpZiAoZW5jb2RpbmcgPSBcInV0ZjhcIiA9PT0gZW5jb2RpbmcgPyBcInV0Zi04XCIgOiBlbmNvZGluZyB8fCBcImJpbmFyeVwiLCBUZXh0RGVjb2RlciAmJiBcImJpbmFyeVwiICE9PSBlbmNvZGluZykgcmV0dXJuIG5ldyBUZXh0RGVjb2RlcihlbmNvZGluZykuZGVjb2RlKHRoaXMuX2lzQXJyYXlCdWZmZXIgPyBieXRlcyA6IG5ldyBVaW50OEFycmF5KGJ5dGVzKSk7XG4gICAgICAgICAgICB2YXIgc3RyaW5nID0gXCJcIjtcbiAgICAgICAgICAgIGJ5dGVMZW5ndGggPSBieXRlcy5sZW5ndGg7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgYnl0ZUxlbmd0aCA+IGk7IGkrKykgc3RyaW5nICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnl0ZXNbaV0pO1xuICAgICAgICAgICAgcmV0dXJuIFwidXRmLThcIiA9PT0gZW5jb2RpbmcgJiYgKHN0cmluZyA9IGRlY29kZVVSSUNvbXBvbmVudChlc2NhcGUoc3RyaW5nKSkpLCBzdHJpbmc7XG4gICAgICAgIH0sXG4gICAgICAgIHNldFN0cmluZzogZnVuY3Rpb24oYnl0ZU9mZnNldCwgc3ViU3RyaW5nLCBlbmNvZGluZykge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2lzTm9kZUJ1ZmZlcikgcmV0dXJuIGJ5dGVPZmZzZXQgPSBkZWZpbmVkKGJ5dGVPZmZzZXQsIHRoaXMuX29mZnNldCksIHRoaXMuX2NoZWNrQm91bmRzKGJ5dGVPZmZzZXQsIHN1YlN0cmluZy5sZW5ndGgpLCBcbiAgICAgICAgICAgIHZvaWQgKHRoaXMuX29mZnNldCA9IGJ5dGVPZmZzZXQgKyB0aGlzLmJ1ZmZlci53cml0ZShzdWJTdHJpbmcsIHRoaXMuYnl0ZU9mZnNldCArIGJ5dGVPZmZzZXQsIGVuY29kaW5nIHx8IFwiYmluYXJ5XCIpKTtcbiAgICAgICAgICAgIGVuY29kaW5nID0gXCJ1dGY4XCIgPT09IGVuY29kaW5nID8gXCJ1dGYtOFwiIDogZW5jb2RpbmcgfHwgXCJiaW5hcnlcIjtcbiAgICAgICAgICAgIHZhciBieXRlcztcbiAgICAgICAgICAgIFRleHRFbmNvZGVyICYmIFwiYmluYXJ5XCIgIT09IGVuY29kaW5nID8gYnl0ZXMgPSBuZXcgVGV4dEVuY29kZXIoZW5jb2RpbmcpLmVuY29kZShzdWJTdHJpbmcpIDogKFwidXRmLThcIiA9PT0gZW5jb2RpbmcgJiYgKHN1YlN0cmluZyA9IHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChzdWJTdHJpbmcpKSksIFxuICAgICAgICAgICAgYnl0ZXMgPSBnZXRDaGFyQ29kZXMoc3ViU3RyaW5nKSksIHRoaXMuX3NldEJ5dGVzKGJ5dGVPZmZzZXQsIGJ5dGVzLCAhMCk7XG4gICAgICAgIH0sXG4gICAgICAgIGdldENoYXI6IGZ1bmN0aW9uKGJ5dGVPZmZzZXQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFN0cmluZygxLCBieXRlT2Zmc2V0KTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0Q2hhcjogZnVuY3Rpb24oYnl0ZU9mZnNldCwgY2hhcmFjdGVyKSB7XG4gICAgICAgICAgICB0aGlzLnNldFN0cmluZyhieXRlT2Zmc2V0LCBjaGFyYWN0ZXIpO1xuICAgICAgICB9LFxuICAgICAgICB0ZWxsOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9vZmZzZXQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNlZWs6IGZ1bmN0aW9uKGJ5dGVPZmZzZXQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jaGVja0JvdW5kcyhieXRlT2Zmc2V0LCAwKSwgdGhpcy5fb2Zmc2V0ID0gYnl0ZU9mZnNldDtcbiAgICAgICAgfSxcbiAgICAgICAgc2tpcDogZnVuY3Rpb24oYnl0ZUxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2Vlayh0aGlzLl9vZmZzZXQgKyBieXRlTGVuZ3RoKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2xpY2U6IGZ1bmN0aW9uKHN0YXJ0LCBlbmQsIGZvcmNlQ29weSkge1xuICAgICAgICAgICAgZnVuY3Rpb24gbm9ybWFsaXplT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAwID4gb2Zmc2V0ID8gb2Zmc2V0ICsgYnl0ZUxlbmd0aCA6IG9mZnNldDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzdGFydCA9IG5vcm1hbGl6ZU9mZnNldChzdGFydCwgdGhpcy5ieXRlTGVuZ3RoKSwgZW5kID0gbm9ybWFsaXplT2Zmc2V0KGRlZmluZWQoZW5kLCB0aGlzLmJ5dGVMZW5ndGgpLCB0aGlzLmJ5dGVMZW5ndGgpLCBcbiAgICAgICAgICAgIGZvcmNlQ29weSA/IG5ldyBqRGF0YVZpZXcodGhpcy5nZXRCeXRlcyhlbmQgLSBzdGFydCwgc3RhcnQsICEwLCAhMCksIHZvaWQgMCwgdm9pZCAwLCB0aGlzLl9saXR0bGVFbmRpYW4pIDogbmV3IGpEYXRhVmlldyh0aGlzLmJ1ZmZlciwgdGhpcy5ieXRlT2Zmc2V0ICsgc3RhcnQsIGVuZCAtIHN0YXJ0LCB0aGlzLl9saXR0bGVFbmRpYW4pO1xuICAgICAgICB9LFxuICAgICAgICBhbGlnbkJ5OiBmdW5jdGlvbihieXRlQ291bnQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9iaXRPZmZzZXQgPSAwLCAxICE9PSBkZWZpbmVkKGJ5dGVDb3VudCwgMSkgPyB0aGlzLnNraXAoYnl0ZUNvdW50IC0gKHRoaXMuX29mZnNldCAlIGJ5dGVDb3VudCB8fCBieXRlQ291bnQpKSA6IHRoaXMuX29mZnNldDtcbiAgICAgICAgfSxcbiAgICAgICAgX2dldEZsb2F0NjQ6IGZ1bmN0aW9uKGJ5dGVPZmZzZXQsIGxpdHRsZUVuZGlhbikge1xuICAgICAgICAgICAgdmFyIGIgPSB0aGlzLl9nZXRCeXRlcyg4LCBieXRlT2Zmc2V0LCBsaXR0bGVFbmRpYW4pLCBzaWduID0gMSAtIDIgKiAoYls3XSA+PiA3KSwgZXhwb25lbnQgPSAoKGJbN10gPDwgMSAmIDI1NSkgPDwgMyB8IGJbNl0gPj4gNCkgLSAxMDIzLCBtYW50aXNzYSA9ICgxNSAmIGJbNl0pICogcG93Mig0OCkgKyBiWzVdICogcG93Mig0MCkgKyBiWzRdICogcG93MigzMikgKyBiWzNdICogcG93MigyNCkgKyBiWzJdICogcG93MigxNikgKyBiWzFdICogcG93Mig4KSArIGJbMF07XG4gICAgICAgICAgICByZXR1cm4gMTAyNCA9PT0gZXhwb25lbnQgPyAwICE9PSBtYW50aXNzYSA/IDAvMCA6IDEvMCAqIHNpZ24gOiAtMTAyMyA9PT0gZXhwb25lbnQgPyBzaWduICogbWFudGlzc2EgKiBwb3cyKC0xMDc0KSA6IHNpZ24gKiAoMSArIG1hbnRpc3NhICogcG93MigtNTIpKSAqIHBvdzIoZXhwb25lbnQpO1xuICAgICAgICB9LFxuICAgICAgICBfZ2V0RmxvYXQzMjogZnVuY3Rpb24oYnl0ZU9mZnNldCwgbGl0dGxlRW5kaWFuKSB7XG4gICAgICAgICAgICB2YXIgYiA9IHRoaXMuX2dldEJ5dGVzKDQsIGJ5dGVPZmZzZXQsIGxpdHRsZUVuZGlhbiksIHNpZ24gPSAxIC0gMiAqIChiWzNdID4+IDcpLCBleHBvbmVudCA9IChiWzNdIDw8IDEgJiAyNTUgfCBiWzJdID4+IDcpIC0gMTI3LCBtYW50aXNzYSA9ICgxMjcgJiBiWzJdKSA8PCAxNiB8IGJbMV0gPDwgOCB8IGJbMF07XG4gICAgICAgICAgICByZXR1cm4gMTI4ID09PSBleHBvbmVudCA/IDAgIT09IG1hbnRpc3NhID8gMC8wIDogMS8wICogc2lnbiA6IC0xMjcgPT09IGV4cG9uZW50ID8gc2lnbiAqIG1hbnRpc3NhICogcG93MigtMTQ5KSA6IHNpZ24gKiAoMSArIG1hbnRpc3NhICogcG93MigtMjMpKSAqIHBvdzIoZXhwb25lbnQpO1xuICAgICAgICB9LFxuICAgICAgICBfZ2V0NjQ6IGZ1bmN0aW9uKFR5cGUsIGJ5dGVPZmZzZXQsIGxpdHRsZUVuZGlhbikge1xuICAgICAgICAgICAgbGl0dGxlRW5kaWFuID0gZGVmaW5lZChsaXR0bGVFbmRpYW4sIHRoaXMuX2xpdHRsZUVuZGlhbiksIGJ5dGVPZmZzZXQgPSBkZWZpbmVkKGJ5dGVPZmZzZXQsIHRoaXMuX29mZnNldCk7XG4gICAgICAgICAgICBmb3IgKHZhciBwYXJ0cyA9IGxpdHRsZUVuZGlhbiA/IFsgMCwgNCBdIDogWyA0LCAwIF0sIGkgPSAwOyAyID4gaTsgaSsrKSBwYXJ0c1tpXSA9IHRoaXMuZ2V0VWludDMyKGJ5dGVPZmZzZXQgKyBwYXJ0c1tpXSwgbGl0dGxlRW5kaWFuKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9vZmZzZXQgPSBieXRlT2Zmc2V0ICsgOCwgbmV3IFR5cGUocGFydHNbMF0sIHBhcnRzWzFdKTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0SW50NjQ6IGZ1bmN0aW9uKGJ5dGVPZmZzZXQsIGxpdHRsZUVuZGlhbikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dldDY0KEludDY0LCBieXRlT2Zmc2V0LCBsaXR0bGVFbmRpYW4pO1xuICAgICAgICB9LFxuICAgICAgICBnZXRVaW50NjQ6IGZ1bmN0aW9uKGJ5dGVPZmZzZXQsIGxpdHRsZUVuZGlhbikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dldDY0KFVpbnQ2NCwgYnl0ZU9mZnNldCwgbGl0dGxlRW5kaWFuKTtcbiAgICAgICAgfSxcbiAgICAgICAgX2dldEludDMyOiBmdW5jdGlvbihieXRlT2Zmc2V0LCBsaXR0bGVFbmRpYW4pIHtcbiAgICAgICAgICAgIHZhciBiID0gdGhpcy5fZ2V0Qnl0ZXMoNCwgYnl0ZU9mZnNldCwgbGl0dGxlRW5kaWFuKTtcbiAgICAgICAgICAgIHJldHVybiBiWzNdIDw8IDI0IHwgYlsyXSA8PCAxNiB8IGJbMV0gPDwgOCB8IGJbMF07XG4gICAgICAgIH0sXG4gICAgICAgIF9nZXRVaW50MzI6IGZ1bmN0aW9uKGJ5dGVPZmZzZXQsIGxpdHRsZUVuZGlhbikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dldEludDMyKGJ5dGVPZmZzZXQsIGxpdHRsZUVuZGlhbikgPj4+IDA7XG4gICAgICAgIH0sXG4gICAgICAgIF9nZXRJbnQxNjogZnVuY3Rpb24oYnl0ZU9mZnNldCwgbGl0dGxlRW5kaWFuKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZ2V0VWludDE2KGJ5dGVPZmZzZXQsIGxpdHRsZUVuZGlhbikgPDwgMTYgPj4gMTY7XG4gICAgICAgIH0sXG4gICAgICAgIF9nZXRVaW50MTY6IGZ1bmN0aW9uKGJ5dGVPZmZzZXQsIGxpdHRsZUVuZGlhbikge1xuICAgICAgICAgICAgdmFyIGIgPSB0aGlzLl9nZXRCeXRlcygyLCBieXRlT2Zmc2V0LCBsaXR0bGVFbmRpYW4pO1xuICAgICAgICAgICAgcmV0dXJuIGJbMV0gPDwgOCB8IGJbMF07XG4gICAgICAgIH0sXG4gICAgICAgIF9nZXRJbnQ4OiBmdW5jdGlvbihieXRlT2Zmc2V0KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZ2V0VWludDgoYnl0ZU9mZnNldCkgPDwgMjQgPj4gMjQ7XG4gICAgICAgIH0sXG4gICAgICAgIF9nZXRVaW50ODogZnVuY3Rpb24oYnl0ZU9mZnNldCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dldEJ5dGVzKDEsIGJ5dGVPZmZzZXQpWzBdO1xuICAgICAgICB9LFxuICAgICAgICBfZ2V0Qml0UmFuZ2VEYXRhOiBmdW5jdGlvbihiaXRMZW5ndGgsIGJ5dGVPZmZzZXQpIHtcbiAgICAgICAgICAgIHZhciBzdGFydEJpdCA9IChkZWZpbmVkKGJ5dGVPZmZzZXQsIHRoaXMuX29mZnNldCkgPDwgMykgKyB0aGlzLl9iaXRPZmZzZXQsIGVuZEJpdCA9IHN0YXJ0Qml0ICsgYml0TGVuZ3RoLCBzdGFydCA9IHN0YXJ0Qml0ID4+PiAzLCBlbmQgPSBlbmRCaXQgKyA3ID4+PiAzLCBiID0gdGhpcy5fZ2V0Qnl0ZXMoZW5kIC0gc3RhcnQsIHN0YXJ0LCAhMCksIHdpZGVWYWx1ZSA9IDA7XG4gICAgICAgICAgICAodGhpcy5fYml0T2Zmc2V0ID0gNyAmIGVuZEJpdCkgJiYgKHRoaXMuX2JpdE9mZnNldCAtPSA4KTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBiLmxlbmd0aDsgbGVuZ3RoID4gaTsgaSsrKSB3aWRlVmFsdWUgPSB3aWRlVmFsdWUgPDwgOCB8IGJbaV07XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHN0YXJ0OiBzdGFydCxcbiAgICAgICAgICAgICAgICBieXRlczogYixcbiAgICAgICAgICAgICAgICB3aWRlVmFsdWU6IHdpZGVWYWx1ZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0U2lnbmVkOiBmdW5jdGlvbihiaXRMZW5ndGgsIGJ5dGVPZmZzZXQpIHtcbiAgICAgICAgICAgIHZhciBzaGlmdCA9IDMyIC0gYml0TGVuZ3RoO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VW5zaWduZWQoYml0TGVuZ3RoLCBieXRlT2Zmc2V0KSA8PCBzaGlmdCA+PiBzaGlmdDtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0VW5zaWduZWQ6IGZ1bmN0aW9uKGJpdExlbmd0aCwgYnl0ZU9mZnNldCkge1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gdGhpcy5fZ2V0Qml0UmFuZ2VEYXRhKGJpdExlbmd0aCwgYnl0ZU9mZnNldCkud2lkZVZhbHVlID4+PiAtdGhpcy5fYml0T2Zmc2V0O1xuICAgICAgICAgICAgcmV0dXJuIDMyID4gYml0TGVuZ3RoID8gdmFsdWUgJiB+KC0xIDw8IGJpdExlbmd0aCkgOiB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgX3NldEJpbmFyeUZsb2F0OiBmdW5jdGlvbihieXRlT2Zmc2V0LCB2YWx1ZSwgbWFudFNpemUsIGV4cFNpemUsIGxpdHRsZUVuZGlhbikge1xuICAgICAgICAgICAgdmFyIGV4cG9uZW50LCBtYW50aXNzYSwgc2lnbkJpdCA9IDAgPiB2YWx1ZSA/IDEgOiAwLCBlTWF4ID0gfigtMSA8PCBleHBTaXplIC0gMSksIGVNaW4gPSAxIC0gZU1heDtcbiAgICAgICAgICAgIDAgPiB2YWx1ZSAmJiAodmFsdWUgPSAtdmFsdWUpLCAwID09PSB2YWx1ZSA/IChleHBvbmVudCA9IDAsIG1hbnRpc3NhID0gMCkgOiBpc05hTih2YWx1ZSkgPyAoZXhwb25lbnQgPSAyICogZU1heCArIDEsIFxuICAgICAgICAgICAgbWFudGlzc2EgPSAxKSA6IDEvMCA9PT0gdmFsdWUgPyAoZXhwb25lbnQgPSAyICogZU1heCArIDEsIG1hbnRpc3NhID0gMCkgOiAoZXhwb25lbnQgPSBNYXRoLmZsb29yKE1hdGgubG9nKHZhbHVlKSAvIE1hdGguTE4yKSwgXG4gICAgICAgICAgICBleHBvbmVudCA+PSBlTWluICYmIGVNYXggPj0gZXhwb25lbnQgPyAobWFudGlzc2EgPSBNYXRoLmZsb29yKCh2YWx1ZSAqIHBvdzIoLWV4cG9uZW50KSAtIDEpICogcG93MihtYW50U2l6ZSkpLCBcbiAgICAgICAgICAgIGV4cG9uZW50ICs9IGVNYXgpIDogKG1hbnRpc3NhID0gTWF0aC5mbG9vcih2YWx1ZSAvIHBvdzIoZU1pbiAtIG1hbnRTaXplKSksIGV4cG9uZW50ID0gMCkpO1xuICAgICAgICAgICAgZm9yICh2YXIgYiA9IFtdOyBtYW50U2l6ZSA+PSA4OyApIGIucHVzaChtYW50aXNzYSAlIDI1NiksIG1hbnRpc3NhID0gTWF0aC5mbG9vcihtYW50aXNzYSAvIDI1NiksIFxuICAgICAgICAgICAgbWFudFNpemUgLT0gODtcbiAgICAgICAgICAgIGZvciAoZXhwb25lbnQgPSBleHBvbmVudCA8PCBtYW50U2l6ZSB8IG1hbnRpc3NhLCBleHBTaXplICs9IG1hbnRTaXplOyBleHBTaXplID49IDg7ICkgYi5wdXNoKDI1NSAmIGV4cG9uZW50KSwgXG4gICAgICAgICAgICBleHBvbmVudCA+Pj49IDgsIGV4cFNpemUgLT0gODtcbiAgICAgICAgICAgIGIucHVzaChzaWduQml0IDw8IGV4cFNpemUgfCBleHBvbmVudCksIHRoaXMuX3NldEJ5dGVzKGJ5dGVPZmZzZXQsIGIsIGxpdHRsZUVuZGlhbik7XG4gICAgICAgIH0sXG4gICAgICAgIF9zZXRGbG9hdDMyOiBmdW5jdGlvbihieXRlT2Zmc2V0LCB2YWx1ZSwgbGl0dGxlRW5kaWFuKSB7XG4gICAgICAgICAgICB0aGlzLl9zZXRCaW5hcnlGbG9hdChieXRlT2Zmc2V0LCB2YWx1ZSwgMjMsIDgsIGxpdHRsZUVuZGlhbik7XG4gICAgICAgIH0sXG4gICAgICAgIF9zZXRGbG9hdDY0OiBmdW5jdGlvbihieXRlT2Zmc2V0LCB2YWx1ZSwgbGl0dGxlRW5kaWFuKSB7XG4gICAgICAgICAgICB0aGlzLl9zZXRCaW5hcnlGbG9hdChieXRlT2Zmc2V0LCB2YWx1ZSwgNTIsIDExLCBsaXR0bGVFbmRpYW4pO1xuICAgICAgICB9LFxuICAgICAgICBfc2V0NjQ6IGZ1bmN0aW9uKFR5cGUsIGJ5dGVPZmZzZXQsIHZhbHVlLCBsaXR0bGVFbmRpYW4pIHtcbiAgICAgICAgICAgIFwib2JqZWN0XCIgIT0gdHlwZW9mIHZhbHVlICYmICh2YWx1ZSA9IFR5cGUuZnJvbU51bWJlcih2YWx1ZSkpLCBsaXR0bGVFbmRpYW4gPSBkZWZpbmVkKGxpdHRsZUVuZGlhbiwgdGhpcy5fbGl0dGxlRW5kaWFuKSwgXG4gICAgICAgICAgICBieXRlT2Zmc2V0ID0gZGVmaW5lZChieXRlT2Zmc2V0LCB0aGlzLl9vZmZzZXQpO1xuICAgICAgICAgICAgdmFyIHBhcnRzID0gbGl0dGxlRW5kaWFuID8ge1xuICAgICAgICAgICAgICAgIGxvOiAwLFxuICAgICAgICAgICAgICAgIGhpOiA0XG4gICAgICAgICAgICB9IDoge1xuICAgICAgICAgICAgICAgIGxvOiA0LFxuICAgICAgICAgICAgICAgIGhpOiAwXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgZm9yICh2YXIgcGFydE5hbWUgaW4gcGFydHMpIHRoaXMuc2V0VWludDMyKGJ5dGVPZmZzZXQgKyBwYXJ0c1twYXJ0TmFtZV0sIHZhbHVlW3BhcnROYW1lXSwgbGl0dGxlRW5kaWFuKTtcbiAgICAgICAgICAgIHRoaXMuX29mZnNldCA9IGJ5dGVPZmZzZXQgKyA4O1xuICAgICAgICB9LFxuICAgICAgICBzZXRJbnQ2NDogZnVuY3Rpb24oYnl0ZU9mZnNldCwgdmFsdWUsIGxpdHRsZUVuZGlhbikge1xuICAgICAgICAgICAgdGhpcy5fc2V0NjQoSW50NjQsIGJ5dGVPZmZzZXQsIHZhbHVlLCBsaXR0bGVFbmRpYW4pO1xuICAgICAgICB9LFxuICAgICAgICBzZXRVaW50NjQ6IGZ1bmN0aW9uKGJ5dGVPZmZzZXQsIHZhbHVlLCBsaXR0bGVFbmRpYW4pIHtcbiAgICAgICAgICAgIHRoaXMuX3NldDY0KFVpbnQ2NCwgYnl0ZU9mZnNldCwgdmFsdWUsIGxpdHRsZUVuZGlhbik7XG4gICAgICAgIH0sXG4gICAgICAgIF9zZXRVaW50MzI6IGZ1bmN0aW9uKGJ5dGVPZmZzZXQsIHZhbHVlLCBsaXR0bGVFbmRpYW4pIHtcbiAgICAgICAgICAgIHRoaXMuX3NldEJ5dGVzKGJ5dGVPZmZzZXQsIFsgMjU1ICYgdmFsdWUsIHZhbHVlID4+PiA4ICYgMjU1LCB2YWx1ZSA+Pj4gMTYgJiAyNTUsIHZhbHVlID4+PiAyNCBdLCBsaXR0bGVFbmRpYW4pO1xuICAgICAgICB9LFxuICAgICAgICBfc2V0VWludDE2OiBmdW5jdGlvbihieXRlT2Zmc2V0LCB2YWx1ZSwgbGl0dGxlRW5kaWFuKSB7XG4gICAgICAgICAgICB0aGlzLl9zZXRCeXRlcyhieXRlT2Zmc2V0LCBbIDI1NSAmIHZhbHVlLCB2YWx1ZSA+Pj4gOCAmIDI1NSBdLCBsaXR0bGVFbmRpYW4pO1xuICAgICAgICB9LFxuICAgICAgICBfc2V0VWludDg6IGZ1bmN0aW9uKGJ5dGVPZmZzZXQsIHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl9zZXRCeXRlcyhieXRlT2Zmc2V0LCBbIDI1NSAmIHZhbHVlIF0pO1xuICAgICAgICB9LFxuICAgICAgICBzZXRVbnNpZ25lZDogZnVuY3Rpb24oYnl0ZU9mZnNldCwgdmFsdWUsIGJpdExlbmd0aCkge1xuICAgICAgICAgICAgdmFyIGRhdGEgPSB0aGlzLl9nZXRCaXRSYW5nZURhdGEoYml0TGVuZ3RoLCBieXRlT2Zmc2V0KSwgd2lkZVZhbHVlID0gZGF0YS53aWRlVmFsdWUsIGIgPSBkYXRhLmJ5dGVzO1xuICAgICAgICAgICAgd2lkZVZhbHVlICY9IH4ofigtMSA8PCBiaXRMZW5ndGgpIDw8IC10aGlzLl9iaXRPZmZzZXQpLCB3aWRlVmFsdWUgfD0gKDMyID4gYml0TGVuZ3RoID8gdmFsdWUgJiB+KC0xIDw8IGJpdExlbmd0aCkgOiB2YWx1ZSkgPDwgLXRoaXMuX2JpdE9mZnNldDtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSBiLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBiW2ldID0gMjU1ICYgd2lkZVZhbHVlLCB3aWRlVmFsdWUgPj4+PSA4O1xuICAgICAgICAgICAgdGhpcy5fc2V0Qnl0ZXMoZGF0YS5zdGFydCwgYiwgITApO1xuICAgICAgICB9XG4gICAgfSwgbm9kZU5hbWluZyA9IHtcbiAgICAgICAgSW50ODogXCJJbnQ4XCIsXG4gICAgICAgIEludDE2OiBcIkludDE2XCIsXG4gICAgICAgIEludDMyOiBcIkludDMyXCIsXG4gICAgICAgIFVpbnQ4OiBcIlVJbnQ4XCIsXG4gICAgICAgIFVpbnQxNjogXCJVSW50MTZcIixcbiAgICAgICAgVWludDMyOiBcIlVJbnQzMlwiLFxuICAgICAgICBGbG9hdDMyOiBcIkZsb2F0XCIsXG4gICAgICAgIEZsb2F0NjQ6IFwiRG91YmxlXCJcbiAgICB9O1xuICAgIHByb3RvLl9ub2RlQnVmZmVyQWN0aW9uID0gZnVuY3Rpb24odHlwZSwgaXNSZWFkQWN0aW9uLCBieXRlT2Zmc2V0LCBsaXR0bGVFbmRpYW4sIHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX29mZnNldCA9IGJ5dGVPZmZzZXQgKyBkYXRhVHlwZXNbdHlwZV07XG4gICAgICAgIHZhciBub2RlTmFtZSA9IG5vZGVOYW1pbmdbdHlwZV0gKyAoXCJJbnQ4XCIgPT09IHR5cGUgfHwgXCJVaW50OFwiID09PSB0eXBlID8gXCJcIiA6IGxpdHRsZUVuZGlhbiA/IFwiTEVcIiA6IFwiQkVcIik7XG4gICAgICAgIHJldHVybiBieXRlT2Zmc2V0ICs9IHRoaXMuYnl0ZU9mZnNldCwgaXNSZWFkQWN0aW9uID8gdGhpcy5idWZmZXJbXCJyZWFkXCIgKyBub2RlTmFtZV0oYnl0ZU9mZnNldCkgOiB0aGlzLmJ1ZmZlcltcIndyaXRlXCIgKyBub2RlTmFtZV0odmFsdWUsIGJ5dGVPZmZzZXQpO1xuICAgIH07XG4gICAgZm9yICh2YXIgdHlwZSBpbiBkYXRhVHlwZXMpICFmdW5jdGlvbih0eXBlKSB7XG4gICAgICAgIHByb3RvW1wiZ2V0XCIgKyB0eXBlXSA9IGZ1bmN0aW9uKGJ5dGVPZmZzZXQsIGxpdHRsZUVuZGlhbikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FjdGlvbih0eXBlLCAhMCwgYnl0ZU9mZnNldCwgbGl0dGxlRW5kaWFuKTtcbiAgICAgICAgfSwgcHJvdG9bXCJzZXRcIiArIHR5cGVdID0gZnVuY3Rpb24oYnl0ZU9mZnNldCwgdmFsdWUsIGxpdHRsZUVuZGlhbikge1xuICAgICAgICAgICAgdGhpcy5fYWN0aW9uKHR5cGUsICExLCBieXRlT2Zmc2V0LCBsaXR0bGVFbmRpYW4sIHZhbHVlKTtcbiAgICAgICAgfTtcbiAgICB9KHR5cGUpO1xuICAgIHByb3RvLl9zZXRJbnQzMiA9IHByb3RvLl9zZXRVaW50MzIsIHByb3RvLl9zZXRJbnQxNiA9IHByb3RvLl9zZXRVaW50MTYsIHByb3RvLl9zZXRJbnQ4ID0gcHJvdG8uX3NldFVpbnQ4LCBcbiAgICBwcm90by5zZXRTaWduZWQgPSBwcm90by5zZXRVbnNpZ25lZDtcbiAgICBmb3IgKHZhciBtZXRob2QgaW4gcHJvdG8pIFwic2V0XCIgPT09IG1ldGhvZC5zbGljZSgwLCAzKSAmJiAhZnVuY3Rpb24odHlwZSkge1xuICAgICAgICBwcm90b1tcIndyaXRlXCIgKyB0eXBlXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgQXJyYXkucHJvdG90eXBlLnVuc2hpZnQuY2FsbChhcmd1bWVudHMsIHZvaWQgMCksIHRoaXNbXCJzZXRcIiArIHR5cGVdLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIH07XG4gICAgfShtZXRob2Quc2xpY2UoMykpO1xuICAgIHJldHVybiBqRGF0YVZpZXc7XG59KTsiLCIoZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpIHtcbiAgICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgICAgIC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS5cbiAgICAgICAgZGVmaW5lKFtdLCBmYWN0b3J5KTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jykge1xuICAgICAgICAvLyBOb2RlLiBEb2VzIG5vdCB3b3JrIHdpdGggc3RyaWN0IENvbW1vbkpTLCBidXRcbiAgICAgICAgLy8gb25seSBDb21tb25KUy1saWtlIGVudmlyb25tZW50cyB0aGF0IHN1cHBvcnQgbW9kdWxlLmV4cG9ydHMsXG4gICAgICAgIC8vIGxpa2UgTm9kZS5cbiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQnJvd3NlciBnbG9iYWxzIChyb290IGlzIHdpbmRvdylcbiAgICAgICAgcm9vdC5BRFRTID0gZmFjdG9yeSgpO1xuICAgIH1cbn0odGhpcywgZnVuY3Rpb24gKCkge1xuXHQndXNlIHN0cmljdCc7XG5cblx0cmV0dXJuIHtcblx0XHRBRFRTUGFja2V0OiB7XG5cdFx0XHRfc3RhcnQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuYmluYXJ5LnRlbGwoKSB9LFxuXHRcdFx0X3N5bmNXb3JkOiBbJ2NvbnN0JywgMTIsIDB4ZmZmLCB0cnVlXSxcblx0XHRcdHZlcnNpb246IFsnZW51bScsIDEsIFsnbXBlZy00JywgJ21wZWctMiddXSxcblx0XHRcdGxheWVyOiBbJ2NvbnN0JywgMiwgMF0sXG5cdFx0XHRpc1Byb3RlY3Rpb25BYnNlbnQ6IDEsXG5cdFx0XHRwcm9maWxlTWludXNPbmU6IDIsIC8vIGh0dHA6Ly93aWtpLm11bHRpbWVkaWEuY3gvaW5kZXgucGhwP3RpdGxlPU1QRUctNF9BdWRpbyNBdWRpb19PYmplY3RfVHlwZXMgbWludXMgb25lXG5cdFx0XHRzYW1wbGluZ0ZyZXE6IFsnZW51bScsIDQsIFs5NjAwMCwgODgyMDAsIDY0MDAwLCA0ODAwMCwgNDQxMDAsIDMyMDAwLCAyNDAwMCwgMjIwNTAsIDE2MDAwLCAxMjAwMCwgMTEwMjUsIDgwMDAsIDczNTBdXSwgLy8gaHR0cDovL3dpa2kubXVsdGltZWRpYS5jeC9pbmRleC5waHA/dGl0bGU9TVBFRy00X0F1ZGlvI1NhbXBsaW5nX0ZyZXF1ZW5jaWVzXG5cdFx0XHRfcHJpdmF0ZVN0cmVhbTogMSxcblx0XHRcdGNoYW5uZWxDb25maWc6IDMsIC8vIGh0dHA6Ly93aWtpLm11bHRpbWVkaWEuY3gvaW5kZXgucGhwP3RpdGxlPU1QRUctNF9BdWRpbyNDaGFubmVsX0NvbmZpZ3VyYXRpb25zXG5cdFx0XHRfcmVzZXJ2ZWQ6IDQsIC8vIG9yaWdpbmFsaXR5LCBob21lLCBjb3B5cmlnaHRlZCwgY29weXJpZ2h0IHN0YXJ0IGJpdHNcblx0XHRcdGZyYW1lTGVuZ3RoOiAxMyxcblx0XHRcdGJ1ZmZlckZ1bGxuZXNzOiAxMSxcblx0XHRcdGFhY0ZyYW1lc0NvdW50TWludXNPbmU6IDIsXG5cdFx0XHRkYXRhOiBbJ2Jsb2InLCBmdW5jdGlvbiAoY29udGV4dCkgeyByZXR1cm4gY29udGV4dC5mcmFtZUxlbmd0aCAtICh0aGlzLmJpbmFyeS50ZWxsKCkgLSBjb250ZXh0Ll9zdGFydCkgfV1cblx0XHR9XG5cdH07XG59KSk7IiwiKGZ1bmN0aW9uIChyb290LCBmYWN0b3J5KSB7XG4gICAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgICAgICAvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXG4gICAgICAgIGRlZmluZShbJ2piaW5hcnknXSwgZmFjdG9yeSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgLy8gTm9kZS4gRG9lcyBub3Qgd29yayB3aXRoIHN0cmljdCBDb21tb25KUywgYnV0XG4gICAgICAgIC8vIG9ubHkgQ29tbW9uSlMtbGlrZSBlbnZpcm9ubWVudHMgdGhhdCBzdXBwb3J0IG1vZHVsZS5leHBvcnRzLFxuICAgICAgICAvLyBsaWtlIE5vZGUuXG4gICAgICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKCdqYmluYXJ5JykpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEJyb3dzZXIgZ2xvYmFscyAocm9vdCBpcyB3aW5kb3cpXG4gICAgICAgIHJvb3QuSDI2NCA9IGZhY3Rvcnkocm9vdC5qQmluYXJ5KTtcbiAgICB9XG59KHRoaXMsIGZ1bmN0aW9uIChqQmluYXJ5KSB7XG5cdCd1c2Ugc3RyaWN0JztcblxuXHRyZXR1cm4ge1xuXHRcdEV4cEdvbG9tYjogakJpbmFyeS5UeXBlKHtcblx0XHRcdHBhcmFtczogWydpc1NpZ25lZCddLFxuXHRcdFx0cmVhZDogZnVuY3Rpb24gKCkge1xuXHRcdFx0XHR2YXIgY291bnQgPSAwO1xuXHRcdFx0XHR3aGlsZSAoIXRoaXMuYmluYXJ5LnJlYWQoMSkpIGNvdW50Kys7XG5cdFx0XHRcdHZhciB2YWx1ZSA9ICgxIDw8IGNvdW50KSB8IHRoaXMuYmluYXJ5LnJlYWQoY291bnQpO1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5pc1NpZ25lZCA/ICh2YWx1ZSAmIDEgPyAtKHZhbHVlID4+IDEpIDogdmFsdWUgPj4gMSkgOiB2YWx1ZSAtIDE7XG5cdFx0XHR9LFxuXHRcdFx0d3JpdGU6IGZ1bmN0aW9uICh2YWx1ZSkge1xuXHRcdFx0XHRpZiAodGhpcy5pc1NpZ25lZCkge1xuXHRcdFx0XHRcdHZhbHVlIDw8PSAxO1xuXHRcdFx0XHRcdGlmICh2YWx1ZSA8PSAwKSB7XG5cdFx0XHRcdFx0XHR2YWx1ZSA9IC12YWx1ZSB8IDE7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHZhbHVlKys7XG5cdFx0XHRcdH1cblx0XHRcdFx0dmFyIGxlbmd0aCA9IHZhbHVlLnRvU3RyaW5nKDIpLmxlbmd0aDtcblx0XHRcdFx0dGhpcy5iaW5hcnkud3JpdGUobGVuZ3RoIC0gMSwgMCk7XG5cdFx0XHRcdHRoaXMuYmluYXJ5LndyaXRlKGxlbmd0aCwgdmFsdWUpO1xuXHRcdFx0fVxuXHRcdH0pLFxuXG5cdFx0T3B0aW9uYWw6IGpCaW5hcnkuVGVtcGxhdGUoe1xuXHRcdCAgICBwYXJhbXM6IFsnYmFzZVR5cGUnXSxcblx0XHRcdHJlYWQ6IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0aWYgKHRoaXMuYmluYXJ5LnJlYWQoMSkpIHJldHVybiB0aGlzLmJhc2VSZWFkKCk7XG5cdFx0XHR9LFxuXHRcdFx0d3JpdGU6IGZ1bmN0aW9uICh2YWx1ZSkge1xuXHRcdFx0XHR0aGlzLmJpbmFyeS53cml0ZSh2YWx1ZSAhPSBudWxsID8gMSA6IDApO1xuXHRcdFx0XHRpZiAodmFsdWUgIT0gbnVsbCkge1xuXHRcdFx0XHRcdHRoaXMuYmFzZVdyaXRlKHZhbHVlKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0pLFxuXG5cdFx0U2NhbGluZ0xpc3Q6IGpCaW5hcnkuVGVtcGxhdGUoe1xuXHRcdFx0c2V0UGFyYW1zOiBmdW5jdGlvbiAoc2l6ZSkge1xuXHRcdFx0XHR0aGlzLmJhc2VUeXBlID0gWydhcnJheScsIHsgLyogVE9ETzogaW1wbGVtZW50IHNjYWxpbmcgbGlzdCAqLyB9LCBzaXplXTtcblx0XHRcdH1cblx0XHR9KSxcblxuXHRcdFNQUzogW1xuXHRcdFx0J2V4dGVuZCcsXG5cdFx0XHR7XG5cdFx0XHRcdHByb2ZpbGVfaWRjOiAndWludDgnLFxuXHRcdFx0XHRjb25zdHJhaW50X3NldF9mbGFnczogWydhcnJheScsIDEsIDhdLFxuXHRcdFx0XHRsZXZlbF9pZGM6ICd1aW50OCcsXG5cdFx0XHRcdHNlcV9wYXJhbWV0ZXJfc2V0X2lkOiAnRXhwR29sb21iJ1xuXHRcdFx0fSxcblx0XHRcdFsnaWYnLCBmdW5jdGlvbiAoY29udGV4dCkgeyByZXR1cm4gWzEwMCwgMTEwLCAxMjIsIDI0NCwgNDQsIDgzLCA4NiwgMTE4XS5pbmRleE9mKGNvbnRleHQucHJvZmlsZV9pZGMpID49IDAgfSwge1xuXHRcdFx0XHRjaHJvbWFfZm9ybWF0OiBbJ2VudW0nLCAnRXhwR29sb21iJywgWydNT05PJywgJ1lVVjQyMCcsICdZVVY0MjInLCAnWVVWNDQ0J11dLFxuXHRcdFx0XHRzZXBhcmF0ZV9jb2xvcl9wbGFuZV9mbGFnOiBbJ2lmJywgZnVuY3Rpb24gKGNvbnRleHQpIHsgcmV0dXJuIGNvbnRleHQuY2hyb21hX2Zvcm1hdCA9PT0gJ1lVVjQ0NCcgfSwgMV0sXG5cdFx0XHRcdGJpdF9kZXB0aF9sdW1hX21pbnVzODogJ0V4cEdvbG9tYicsXG5cdFx0XHRcdGJpdF9kZXB0aF9jaHJvbWFfbWludXM4OiAnRXhwR29sb21iJyxcblx0XHRcdFx0cXBwcmltZV95X3plcm9fdHJhbnNmb3JtX2J5cGFzc19mbGFnOiAxLFxuXHRcdFx0XHRzY2FsaW5nX21hdHJpeDogWydPcHRpb25hbCcsIHtcblx0XHRcdFx0XHRzY2FsaW5nTGlzdDR4NDogWydhcnJheScsIFsnU2NhbGluZ0xpc3QnLCAxNl0sIDZdLFxuXHRcdFx0XHRcdHNjYWxpbmdMaXN0OHg4OiBbJ2FycmF5JywgWydTY2FsaW5nTGlzdCcsIDY0XSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5iaW5hcnkuZ2V0Q29udGV4dCgxKS5jaHJvbWFfZm9ybWF0ICE9PSAnWVVWNDQ0JyA/IDIgOiA2IH1dXG5cdFx0XHRcdH1dXG5cdFx0XHR9XSxcblx0XHRcdHtcblx0XHRcdFx0bG9nMl9tYXhfZnJhbWVfbnVtX21pbnVzNDogJ0V4cEdvbG9tYicsXG5cdFx0XHRcdHBpY19vcmRlcl9jbnRfdHlwZTogJ0V4cEdvbG9tYicsXG5cdFx0XHRcdHBpY19vcmRlcjogWydpZl9ub3QnLCAncGljX29yZGVyX2NudF90eXBlJywge2xvZzJfbWF4X3BpY19vcmRlcl9jbnRfbHNiX21pbnVzNDogJ0V4cEdvbG9tYid9LCBbXG5cdFx0XHRcdFx0J2lmJyxcblx0XHRcdFx0XHRmdW5jdGlvbiAoY29udGV4dCkgeyByZXR1cm4gY29udGV4dC5waWNfb3JkZXJfY250X3R5cGUgPT09IDEgfSxcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRkZWx0YV9waWNfb3JkZXJfYWx3YXlzX3plcm9fZmxhZzogMSxcblx0XHRcdFx0XHRcdG9mZnNldF9mb3Jfbm9uX3JlZl9waWM6IFsnRXhwR29sb21iJywgdHJ1ZV0sXG5cdFx0XHRcdFx0XHRvZmZzZXRfZm9yX3RvcF90b19ib3R0b21fZmllbGQ6IFsnRXhwR29sb21iJywgdHJ1ZV0sXG5cdFx0XHRcdFx0XHRfbnVtX3JlZl9mcmFtZXNfaW5fcGljX29yZGVyX2NudF9jeWNsZTogakJpbmFyeS5UZW1wbGF0ZSh7XG5cdFx0XHRcdFx0XHRcdGJhc2VUeXBlOiAnRXhwR29sb21iJyxcblx0XHRcdFx0XHRcdFx0d3JpdGU6IGZ1bmN0aW9uICh2YWx1ZSwgY29udGV4dCkgeyB0aGlzLmJhc2VXcml0ZShjb250ZXh0Lm9mZnNldF9mb3JfcmVmX2ZyYW1lLmxlbmd0aCkgfVxuXHRcdFx0XHRcdFx0fSksXG5cdFx0XHRcdFx0XHRvZmZzZXRfZm9yX3JlZl9mcmFtZTogWydhcnJheScsIFsnRXhwR29sb21iJywgdHJ1ZV0sIGZ1bmN0aW9uIChjb250ZXh0KSB7IHJldHVybiBjb250ZXh0Ll9udW1fcmVmX2ZyYW1lc19pbl9waWNfb3JkZXJfY250X2N5Y2xlIH1dXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRdXSxcblx0XHRcdFx0bWF4X251bV9yZWZfZnJhbWVzOiAnRXhwR29sb21iJyxcblx0XHRcdFx0Z2Fwc19pbl9mcmFtZV9udW1fdmFsdWVfYWxsb3dlZF9mbGFnOiAxLFxuXHRcdFx0XHRwaWNfd2lkdGhfaW5fbWJzX21pbnVzXzE6ICdFeHBHb2xvbWInLFxuXHRcdFx0XHRwaWNfaGVpZ2h0X2luX21hcF91bml0c19taW51c18xOiAnRXhwR29sb21iJyxcblx0XHRcdFx0ZnJhbWVfbWJzX29ubHlfZmxhZzogMSxcblx0XHRcdFx0bWJfYWRhcHRpdmVfZnJhbWVfZmllbGRfZmxhZzogWydpZl9ub3QnLCAnZnJhbWVfbWJzX29ubHlfZmxhZycsIDFdLFxuXHRcdFx0XHRkaXJlY3RfOHg4X2luZmVyZW5jZV9mbGFnOiAxLFxuXHRcdFx0XHRmcmFtZV9jcm9wcGluZzogWydPcHRpb25hbCcsIHtcblx0XHRcdFx0XHRsZWZ0OiAnRXhwR29sb21iJyxcblx0XHRcdFx0XHRyaWdodDogJ0V4cEdvbG9tYicsXG5cdFx0XHRcdFx0dG9wOiAnRXhwR29sb21iJyxcblx0XHRcdFx0XHRib3R0b206ICdFeHBHb2xvbWInXG5cdFx0XHRcdH1dXG5cdFx0XHRcdC8vIFRPRE86IGFkZCBWVUkgcGFyYW1ldGVyc1xuXHRcdFx0fVxuXHRcdF0sXG5cblx0XHROQUxVbml0OiBqQmluYXJ5LlR5cGUoe1xuXHRcdFx0cmVhZDogZnVuY3Rpb24gKCkge1xuXHRcdFx0XHR2YXIgc3luYyA9IHRoaXMuYmluYXJ5LnJlYWQoWydibG9iJywgM10pOyAvLyBbMCwgMCwgMV0gb3IgWzAsIDAsIDAsIDFdXG5cdFx0XHRcdGlmIChzeW5jWzJdID09PSAwKSB0aGlzLmJpbmFyeS5za2lwKDEpO1xuXHRcdFx0XHR2YXIgZW5kID0gdGhpcy5iaW5hcnkudmlldy5ieXRlTGVuZ3RoLCBwb3MgPSB0aGlzLmJpbmFyeS50ZWxsKCk7XG5cdFx0XHRcdHZhciBieXRlcyA9IHRoaXMuYmluYXJ5LnNraXAoMCwgZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy52aWV3LmdldEJ5dGVzKCkgfSk7XG5cdFx0XHRcdGZvciAodmFyIGkgPSAxLCBsZW5ndGggPSBieXRlcy5sZW5ndGggLSAzOyBpIDwgbGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHRpZiAoYnl0ZXNbaV0gPT09IDAgJiYgYnl0ZXNbaSArIDFdID09PSAwICYmIChieXRlc1tpICsgMl0gPT09IDEgfHwgKGJ5dGVzW2kgKyAyXSA9PT0gMCAmJiBieXRlc1tpICsgM10gPT09IDEpKSkge1xuXHRcdFx0XHRcdFx0ZW5kID0gcG9zICsgaTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHR2YXIgZGF0YSA9IHRoaXMuYmluYXJ5LnJlYWQoWydibG9iJywgZW5kIC0gcG9zXSk7XG5cdFx0XHRcdC8vIFRPRE86IGlkZWFsbHkgdGhlcmUgc2hvdWxkIGJlIEFubmV4LkIgY29udmVyc2lvbiBmcm9tIFswLCAwLCAzLCBYPTAuLjNdIHRvIFswLCAwLCBYXVxuXHRcdFx0XHRyZXR1cm4gZGF0YTtcblx0XHRcdH1cblx0XHR9KVxuXHR9O1xufSkpOyIsIihmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSkge1xuICAgIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICAgICAgLy8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLlxuICAgICAgICBkZWZpbmUoWydqZGF0YXZpZXcnLCAnamJpbmFyeScsICcuL21wNCcsICcuL2gyNjQnLCAnLi9wZXMnLCAnLi9hZHRzJ10sIGZhY3RvcnkpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIC8vIE5vZGUuIERvZXMgbm90IHdvcmsgd2l0aCBzdHJpY3QgQ29tbW9uSlMsIGJ1dFxuICAgICAgICAvLyBvbmx5IENvbW1vbkpTLWxpa2UgZW52aXJvbm1lbnRzIHRoYXQgc3VwcG9ydCBtb2R1bGUuZXhwb3J0cyxcbiAgICAgICAgLy8gbGlrZSBOb2RlLlxuICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZSgnamRhdGF2aWV3JyksIHJlcXVpcmUoJ2piaW5hcnknKSwgcmVxdWlyZSgnLi9tcDQnKSwgcmVxdWlyZSgnLi9oMjY0JyksIHJlcXVpcmUoJy4vcGVzJyksIHJlcXVpcmUoJy4vYWR0cycpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBCcm93c2VyIGdsb2JhbHMgKHJvb3QgaXMgd2luZG93KVxuICAgICAgICByb290Lm1wZWd0c190b19tcDQgPSBmYWN0b3J5KHJvb3QuakRhdGFWaWV3LCByb290LmpCaW5hcnksIHJvb3QuTVA0LCByb290LkgyNjQsIHJvb3QuUEVTLCByb290LkFEVFMpO1xuICAgIH1cbn0odGhpcywgZnVuY3Rpb24gKGpEYXRhVmlldywgakJpbmFyeSwgTVA0LCBIMjY0LCBQRVMsIEFEVFMpIHtcblx0J3VzZSBzdHJpY3QnO1xuXG5cblx0LyoqXG5cdCAqIENvcGllZCBmcm9tIG11eC5qcyA9PiBodHRwczovL2dpdGh1Yi5jb20vdmlkZW9qcy9tdXguanMvYmxvYi85NTc0NDFkNDQzMDdhNDdkODAxYWYzZGI1YzUxMDcyZWQyNDFmOGMyL2xpYi9jb2RlY3MvaDI2NC5qcyNMMjY2XG5cdCAqIEV4cHVuZ2UgYW55IFwiRW11bGF0aW9uIFByZXZlbnRpb25cIiBieXRlcyBmcm9tIGEgXCJSYXcgQnl0ZVxuXHQgKiBTZXF1ZW5jZSBQYXlsb2FkXCJcblx0ICogQHBhcmFtIGRhdGEge1VpbnQ4QXJyYXl9IHRoZSBieXRlcyBvZiBhIFJCU1AgZnJvbSBhIE5BTFxuXHQgKiB1bml0XG5cdCAqIEByZXR1cm4ge1VpbnQ4QXJyYXl9IHRoZSBSQlNQIHdpdGhvdXQgYW55IEVtdWxhdGlvblxuXHQgKiBQcmV2ZW50aW9uIEJ5dGVzXG5cdCAqL1xuXHR2YXIgZGlzY2FyZEVtdWxhdGlvblByZXZlbnRpb25CeXRlcyA9IGZ1bmN0aW9uKGRhdGEpIHtcblx0XHR2YXJcblx0XHRsZW5ndGggPSBkYXRhLmJ5dGVMZW5ndGgsXG5cdFx0ZW11bGF0aW9uUHJldmVudGlvbkJ5dGVzUG9zaXRpb25zID0gW10sXG5cdFx0aSA9IDAsXG5cdFx0bmV3TGVuZ3RoLCBuZXdEYXRhO1xuXG5cdFx0Ly8gRmluZCBhbGwgYEVtdWxhdGlvbiBQcmV2ZW50aW9uIEJ5dGVzYFxuXHRcdHdoaWxlIChpIDwgbGVuZ3RoIC0gMikge1xuXHRcdGlmIChkYXRhW2ldID09PSAwICYmIGRhdGFbaSArIDFdID09PSAwICYmIGRhdGFbaSArIDJdID09PSAweDAzKSB7XG5cdFx0XHRlbXVsYXRpb25QcmV2ZW50aW9uQnl0ZXNQb3NpdGlvbnMucHVzaChpICsgMik7XG5cdFx0XHRpICs9IDI7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGkrKztcblx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gSWYgbm8gRW11bGF0aW9uIFByZXZlbnRpb24gQnl0ZXMgd2VyZSBmb3VuZCBqdXN0IHJldHVybiB0aGUgb3JpZ2luYWxcblx0XHQvLyBhcnJheVxuXHRcdGlmIChlbXVsYXRpb25QcmV2ZW50aW9uQnl0ZXNQb3NpdGlvbnMubGVuZ3RoID09PSAwKSB7XG5cdFx0cmV0dXJuIGRhdGE7XG5cdFx0fVxuXG5cdFx0Ly8gQ3JlYXRlIGEgbmV3IGFycmF5IHRvIGhvbGQgdGhlIE5BTCB1bml0IGRhdGFcblx0XHRuZXdMZW5ndGggPSBsZW5ndGggLSBlbXVsYXRpb25QcmV2ZW50aW9uQnl0ZXNQb3NpdGlvbnMubGVuZ3RoO1xuXHRcdG5ld0RhdGEgPSBuZXcgVWludDhBcnJheShuZXdMZW5ndGgpO1xuXHRcdHZhciBzb3VyY2VJbmRleCA9IDA7XG5cblx0XHRmb3IgKGkgPSAwOyBpIDwgbmV3TGVuZ3RoOyBzb3VyY2VJbmRleCsrLCBpKyspIHtcblx0XHRpZiAoc291cmNlSW5kZXggPT09IGVtdWxhdGlvblByZXZlbnRpb25CeXRlc1Bvc2l0aW9uc1swXSkge1xuXHRcdFx0Ly8gU2tpcCB0aGlzIGJ5dGVcblx0XHRcdHNvdXJjZUluZGV4Kys7XG5cdFx0XHQvLyBSZW1vdmUgdGhpcyBwb3NpdGlvbiBpbmRleFxuXHRcdFx0ZW11bGF0aW9uUHJldmVudGlvbkJ5dGVzUG9zaXRpb25zLnNoaWZ0KCk7XG5cdFx0fVxuXHRcdG5ld0RhdGFbaV0gPSBkYXRhW3NvdXJjZUluZGV4XTtcblx0XHR9XG5cblx0XHRyZXR1cm4gbmV3RGF0YTtcblx0fTtcblxuXG5cdHJldHVybiBmdW5jdGlvbiAobXBlZ3RzKSB7XG5cdFx0dmFyIHBhY2tldHMgPSBtcGVndHMucmVhZCgnRmlsZScpO1xuXHRcdFxuXHRcdC8vIGV4dHJhY3RpbmcgYW5kIGNvbmNhdGVuYXRpbmcgcmF3IHN0cmVhbSBwYXJ0c1xuXHRcdHZhciBzdHJlYW0gPSBuZXcgakRhdGFWaWV3KG1wZWd0cy52aWV3LmJ5dGVMZW5ndGgpO1xuXHRcdGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBwYWNrZXRzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgcGFja2V0ID0gcGFja2V0c1tpXSwgYWRhcHRhdGlvbiA9IHBhY2tldC5hZGFwdGF0aW9uRmllbGQsIHBheWxvYWQgPSBwYWNrZXQucGF5bG9hZDtcblx0XHRcdGlmIChwYXlsb2FkICYmIHBheWxvYWQuX3Jhd1N0cmVhbSkge1xuXHRcdFx0XHRzdHJlYW0ud3JpdGVCeXRlcyhwYXlsb2FkLl9yYXdTdHJlYW0pO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRcblx0XHR2YXIgcGVzU3RyZWFtID0gbmV3IGpCaW5hcnkoc3RyZWFtLnNsaWNlKDAsIHN0cmVhbS50ZWxsKCkpLCBQRVMpLFxuXHRcdFx0YXVkaW9TdHJlYW0gPSBuZXcgakJpbmFyeShzdHJlYW0uYnl0ZUxlbmd0aCwgQURUUyksXG5cdFx0XHRzYW1wbGVzID0gW10sXG5cdFx0XHRhdWRpb1NhbXBsZXMgPSBbXTtcblxuXHRcdHN0cmVhbSA9IG5ldyBqRGF0YVZpZXcoc3RyZWFtLmJ5dGVMZW5ndGgpO1xuXHRcdFxuXHRcdHdoaWxlIChwZXNTdHJlYW0udGVsbCgpIDwgcGVzU3RyZWFtLnZpZXcuYnl0ZUxlbmd0aCkge1xuXHRcdFx0dmFyIHBhY2tldCA9IHBlc1N0cmVhbS5yZWFkKCdQRVNQYWNrZXQnKTtcblxuXHRcdFx0aWYgKHBhY2tldC5zdHJlYW1JZCA9PT0gMHhDMCkge1xuXHRcdFx0XHQvLyAweEMwIG1lYW5zIHdlIGhhdmUgZ290IGZpcnN0IGF1ZGlvIHN0cmVhbVxuXHRcdFx0XHRhdWRpb1N0cmVhbS53cml0ZSgnYmxvYicsIHBhY2tldC5kYXRhKTtcblx0XHRcdH0gZWxzZVxuXHRcdFx0aWYgKHBhY2tldC5zdHJlYW1JZCA9PT0gMHhFMCkge1xuXHRcdFx0XHR2YXIgbmFsU3RyZWFtID0gbmV3IGpCaW5hcnkocGFja2V0LmRhdGEsIEgyNjQpLFxuXHRcdFx0XHRcdHB0cyA9IHBhY2tldC5wdHMsXG5cdFx0XHRcdFx0ZHRzID0gcGFja2V0LmR0cyxcblx0XHRcdFx0XHRjdXJTYW1wbGUgPSB7b2Zmc2V0OiBzdHJlYW0udGVsbCgpLCBwdHM6IHB0cywgZHRzOiBkdHMgIT09IHVuZGVmaW5lZCA/IGR0cyA6IHB0c307XG5cdFx0XHRcdFxuXHRcdFx0XHRzYW1wbGVzLnB1c2goY3VyU2FtcGxlKTtcblx0XHRcdFx0XG5cdFx0XHRcdC8vIGNvbGxlY3RpbmcgaW5mbyBmcm9tIEguMjY0IE5BTCB1bml0c1xuXHRcdFx0XHR3aGlsZSAobmFsU3RyZWFtLnRlbGwoKSA8IG5hbFN0cmVhbS52aWV3LmJ5dGVMZW5ndGgpIHtcblx0XHRcdFx0XHR2YXIgbmFsVW5pdCA9IG5hbFN0cmVhbS5yZWFkKCdOQUxVbml0Jyk7XG5cdFx0XHRcdFx0c3dpdGNoIChuYWxVbml0WzBdICYgMHgxRikge1xuXHRcdFx0XHRcdFx0Y2FzZSA3OlxuXHRcdFx0XHRcdFx0XHRpZiAoIXNwcykge1xuXHRcdFx0XHRcdFx0XHRcdHZhciBzcHMgPSBuYWxVbml0O1xuXHRcdFx0XHRcdFx0XHRcdC8vIHJlbW92ZSBFbXVsYXRpb24gUHJldmVudGlvbiBCeXRlcyB0byBnZXQgY29ycmVjdCB3aWR0aCAmIGhlaWdodFxuXHRcdFx0XHRcdFx0XHRcdC8vIFNlZSBodHRwOi8vYmxvZy41MWN0by5jb20vZGFuaWVsbGxmLzE3NTgxMTVcblx0XHRcdFx0XHRcdFx0XHR2YXIgc3BzSW5mbyA9IG5ldyBqQmluYXJ5KGRpc2NhcmRFbXVsYXRpb25QcmV2ZW50aW9uQnl0ZXMoc3BzLnN1YmFycmF5KDEpKSwgSDI2NCkucmVhZCgnU1BTJyk7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIHdpZHRoID0gKHNwc0luZm8ucGljX3dpZHRoX2luX21ic19taW51c18xICsgMSkgKiAxNjtcblx0XHRcdFx0XHRcdFx0XHR2YXIgaGVpZ2h0ID0gKDIgLSBzcHNJbmZvLmZyYW1lX21ic19vbmx5X2ZsYWcpICogKHNwc0luZm8ucGljX2hlaWdodF9pbl9tYXBfdW5pdHNfbWludXNfMSArIDEpICogMTY7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIGNyb3BwaW5nID0gc3BzSW5mby5mcmFtZV9jcm9wcGluZztcblx0XHRcdFx0XHRcdFx0XHRpZiAoY3JvcHBpbmcpIHtcblx0XHRcdFx0XHRcdFx0XHRcdHdpZHRoIC09IDIgKiAoY3JvcHBpbmcubGVmdCArIGNyb3BwaW5nLnJpZ2h0KTtcblx0XHRcdFx0XHRcdFx0XHRcdGhlaWdodCAtPSAyICogKGNyb3BwaW5nLnRvcCArIGNyb3BwaW5nLmJvdHRvbSk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdFx0XHRjYXNlIDg6XG5cdFx0XHRcdFx0XHRcdGlmICghcHBzKSB7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIHBwcyA9IG5hbFVuaXQ7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0XHRcdGNhc2UgNTpcblx0XHRcdFx0XHRcdFx0Y3VyU2FtcGxlLmlzSURSID0gdHJ1ZTtcblx0XHRcdFx0XHRcdC8qIGZhbGxzIHRocm91Z2ggKi9cblx0XHRcdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0XHRcdHN0cmVhbS53cml0ZVVpbnQzMihuYWxVbml0Lmxlbmd0aCk7XG5cdFx0XHRcdFx0XHRcdHN0cmVhbS53cml0ZUJ5dGVzKG5hbFVuaXQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XHRcblx0XHRzYW1wbGVzLnB1c2goe29mZnNldDogc3RyZWFtLnRlbGwoKX0pO1xuXG5cdFx0dmFyIHNpemVzID0gW10sXG5cdFx0XHRkdHNEaWZmcyA9IFtdLFxuXHRcdFx0YWNjZXNzSW5kZXhlcyA9IFtdLFxuXHRcdFx0cHRzX2R0c19EaWZmcyA9IFtdLFxuXHRcdFx0Y3VycmVudCA9IHNhbXBsZXNbMF0sXG5cdFx0XHRmcmFtZVJhdGUgPSB7c3VtOiAwLCBjb3VudDogMH0sXG5cdFx0XHRkdXJhdGlvbiA9IDA7XG5cdFx0XG5cdFx0Ly8gY2FsY3VsYXRpbmcgUFRTL0RUUyBkaWZmZXJlbmNlcyBhbmQgY29sbGVjdGluZyBrZXlmcmFtZXNcblx0XHRcblx0XHRmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gc2FtcGxlcy5sZW5ndGggLSAxOyBpIDwgbGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBuZXh0ID0gc2FtcGxlc1tpICsgMV07XG5cdFx0XHRzaXplcy5wdXNoKG5leHQub2Zmc2V0IC0gY3VycmVudC5vZmZzZXQpO1xuXHRcdFx0dmFyIGR0c0RpZmYgPSBuZXh0LmR0cyAtIGN1cnJlbnQuZHRzO1xuXHRcdFx0aWYgKGR0c0RpZmYpIHtcblx0XHRcdFx0ZHRzRGlmZnMucHVzaCh7c2FtcGxlX2NvdW50OiAxLCBzYW1wbGVfZGVsdGE6IGR0c0RpZmZ9KTtcblx0XHRcdFx0ZHVyYXRpb24gKz0gZHRzRGlmZjtcblx0XHRcdFx0ZnJhbWVSYXRlLnN1bSArPSBkdHNEaWZmO1xuXHRcdFx0XHRmcmFtZVJhdGUuY291bnQrKztcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGR0c0RpZmZzLmxlbmd0aCsrO1xuXHRcdFx0fVxuXHRcdFx0aWYgKGN1cnJlbnQuaXNJRFIpIHtcblx0XHRcdFx0YWNjZXNzSW5kZXhlcy5wdXNoKGkgKyAxKTtcblx0XHRcdH1cblx0XHRcdHB0c19kdHNfRGlmZnMucHVzaCh7XG5cdFx0XHRcdGZpcnN0X2NodW5rOiBwdHNfZHRzX0RpZmZzLmxlbmd0aCArIDEsXG5cdFx0XHRcdHNhbXBsZV9jb3VudDogMSxcblx0XHRcdFx0c2FtcGxlX29mZnNldDogY3VycmVudC5kdHNGaXggPSBjdXJyZW50LnB0cyAtIGN1cnJlbnQuZHRzXG5cdFx0XHR9KTtcblx0XHRcdGN1cnJlbnQgPSBuZXh0O1xuXHRcdH1cblx0XHRcblx0XHRmcmFtZVJhdGUgPSBNYXRoLnJvdW5kKGZyYW1lUmF0ZS5zdW0gLyBmcmFtZVJhdGUuY291bnQpO1xuXHRcdFxuXHRcdGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBkdHNEaWZmcy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuXHRcdFx0aWYgKGR0c0RpZmZzW2ldID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0ZHRzRGlmZnNbaV0gPSB7Zmlyc3RfY2h1bms6IGkgKyAxLCBzYW1wbGVfY291bnQ6IDEsIHNhbXBsZV9kZWx0YTogZnJhbWVSYXRlfTtcblx0XHRcdFx0ZHVyYXRpb24gKz0gZnJhbWVSYXRlO1xuXHRcdFx0XHQvL3NhbXBsZXNbaSArIDFdLmR0cyA9IHNhbXBsZXNbaV0uZHRzICsgZnJhbWVSYXRlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIGNoZWNraW5nIGlmIERUUyBkaWZmZXJlbmNlcyBhcmUgc2FtZSBldmVyeXdoZXJlIHRvIHBhY2sgdGhlbSBpbnRvIG9uZSBpdGVtXG5cdFx0XG5cdFx0dmFyIGR0c0RpZmZzU2FtZSA9IHRydWU7XG5cdFx0XG5cdFx0Zm9yICh2YXIgaSA9IDEsIGxlbmd0aCA9IGR0c0RpZmZzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG5cdFx0XHRpZiAoZHRzRGlmZnNbaV0uc2FtcGxlX2RlbHRhICE9PSBkdHNEaWZmc1swXS5zYW1wbGVfZGVsdGEpIHtcblx0XHRcdFx0ZHRzRGlmZnNTYW1lID0gZmFsc2U7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRcblx0XHRpZiAoZHRzRGlmZnNTYW1lKSB7XG5cdFx0XHRkdHNEaWZmcyA9IFt7Zmlyc3RfY2h1bms6IDEsIHNhbXBsZV9jb3VudDogc2l6ZXMubGVuZ3RoLCBzYW1wbGVfZGVsdGE6IGR0c0RpZmZzWzBdLnNhbXBsZV9kZWx0YX1dO1xuXHRcdH1cblxuXHRcdC8vIGJ1aWxkaW5nIGF1ZGlvIG1ldGFkYXRhXG5cblx0XHR2YXIgYXVkaW9TdGFydCA9IHN0cmVhbS50ZWxsKCksXG5cdFx0XHRhdWRpb1NpemUgPSBhdWRpb1N0cmVhbS50ZWxsKCksXG5cdFx0XHRhdWRpb1NpemVzID0gW10sXG5cdFx0XHRhdWRpb0hlYWRlcixcblx0XHRcdG1heEF1ZGlvU2l6ZSA9IDA7XG5cdFx0XHRcblx0XHRhdWRpb1N0cmVhbS5zZWVrKDApO1xuXHRcdFxuXHRcdHdoaWxlIChhdWRpb1N0cmVhbS50ZWxsKCkgPCBhdWRpb1NpemUpIHtcblx0XHRcdGF1ZGlvSGVhZGVyID0gYXVkaW9TdHJlYW0ucmVhZCgnQURUU1BhY2tldCcpO1xuXHRcdFx0YXVkaW9TaXplcy5wdXNoKGF1ZGlvSGVhZGVyLmRhdGEubGVuZ3RoKTtcblx0XHRcdGlmIChhdWRpb0hlYWRlci5kYXRhLmxlbmd0aCA+IG1heEF1ZGlvU2l6ZSkge1xuXHRcdFx0XHRtYXhBdWRpb1NpemUgPSBhdWRpb0hlYWRlci5kYXRhLmxlbmd0aDtcblx0XHRcdH1cblx0XHRcdHN0cmVhbS53cml0ZUJ5dGVzKGF1ZGlvSGVhZGVyLmRhdGEpO1xuXHRcdH1cblxuXHRcdC8vIGdlbmVyYXRpbmcgcmVzdWx0aW5nIE1QNFxuXG5cdFx0dmFyIG1wNCA9IG5ldyBqQmluYXJ5KHN0cmVhbS5ieXRlTGVuZ3RoLCBNUDQpO1xuXHRcdFxuXHRcdHZhciB0cmFrID0gW3tcblx0XHRcdGF0b21zOiB7XG5cdFx0XHRcdHRraGQ6IFt7XG5cdFx0XHRcdFx0dmVyc2lvbjogMCxcblx0XHRcdFx0XHRmbGFnczogMTUsXG5cdFx0XHRcdFx0dHJhY2tfSUQ6IDEsXG5cdFx0XHRcdFx0ZHVyYXRpb246IGR1cmF0aW9uLFxuXHRcdFx0XHRcdGxheWVyOiAwLFxuXHRcdFx0XHRcdGFsdGVybmF0ZV9ncm91cDogMCxcblx0XHRcdFx0XHR2b2x1bWU6IDEsXG5cdFx0XHRcdFx0bWF0cml4OiB7XG5cdFx0XHRcdFx0XHRhOiAxLCBiOiAwLCB4OiAwLFxuXHRcdFx0XHRcdFx0YzogMCwgZDogMSwgeTogMCxcblx0XHRcdFx0XHRcdHU6IDAsIHY6IDAsIHc6IDFcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdGRpbWVuc2lvbnM6IHtcblx0XHRcdFx0XHRcdGhvcno6IHdpZHRoLFxuXHRcdFx0XHRcdFx0dmVydDogaGVpZ2h0XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XSxcblx0XHRcdFx0bWRpYTogW3tcblx0XHRcdFx0XHRhdG9tczoge1xuXHRcdFx0XHRcdFx0bWRoZDogW3tcblx0XHRcdFx0XHRcdFx0dmVyc2lvbjogMCxcblx0XHRcdFx0XHRcdFx0ZmxhZ3M6IDAsXG5cdFx0XHRcdFx0XHRcdHRpbWVzY2FsZTogOTAwMDAsXG5cdFx0XHRcdFx0XHRcdGR1cmF0aW9uOiBkdXJhdGlvbixcblx0XHRcdFx0XHRcdFx0bGFuZzogJ3VuZCdcblx0XHRcdFx0XHRcdH1dLFxuXHRcdFx0XHRcdFx0aGRscjogW3tcblx0XHRcdFx0XHRcdFx0dmVyc2lvbjogMCxcblx0XHRcdFx0XHRcdFx0ZmxhZ3M6IDAsXG5cdFx0XHRcdFx0XHRcdGhhbmRsZXJfdHlwZTogJ3ZpZGUnLFxuXHRcdFx0XHRcdFx0XHRuYW1lOiAnVmlkZW9IYW5kbGVyJ1xuXHRcdFx0XHRcdFx0fV0sXG5cdFx0XHRcdFx0XHRtaW5mOiBbe1xuXHRcdFx0XHRcdFx0XHRhdG9tczoge1xuXHRcdFx0XHRcdFx0XHRcdHZtaGQ6IFt7XG5cdFx0XHRcdFx0XHRcdFx0XHR2ZXJzaW9uOiAwLFxuXHRcdFx0XHRcdFx0XHRcdFx0ZmxhZ3M6IDEsXG5cdFx0XHRcdFx0XHRcdFx0XHRncmFwaGljc21vZGU6IDAsXG5cdFx0XHRcdFx0XHRcdFx0XHRvcGNvbG9yOiB7cjogMCwgZzogMCwgYjogMH1cblx0XHRcdFx0XHRcdFx0XHR9XSxcblx0XHRcdFx0XHRcdFx0XHRkaW5mOiBbe1xuXHRcdFx0XHRcdFx0XHRcdFx0YXRvbXM6IHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0ZHJlZjogW3tcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR2ZXJzaW9uOiAwLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGZsYWdzOiAwLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGVudHJpZXM6IFt7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0eXBlOiAndXJsICcsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR2ZXJzaW9uOiAwLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZmxhZ3M6IDEsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRsb2NhdGlvbjogJydcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XVxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XVxuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH1dLFxuXHRcdFx0XHRcdFx0XHRcdHN0Ymw6IFt7XG5cdFx0XHRcdFx0XHRcdFx0XHRhdG9tczoge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRzdHNkOiBbe1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHZlcnNpb246IDAsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZmxhZ3M6IDAsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZW50cmllczogW3tcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHR5cGU6ICdhdmMxJyxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGRhdGFfcmVmZXJlbmNlX2luZGV4OiAxLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZGltZW5zaW9uczoge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRob3J6OiB3aWR0aCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dmVydDogaGVpZ2h0XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmVzb2x1dGlvbjoge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRob3J6OiA3Mixcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dmVydDogNzJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRmcmFtZV9jb3VudDogMSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvbXByZXNzb3JuYW1lOiAnJyxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGRlcHRoOiAyNCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGF0b21zOiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGF2Y0M6IFt7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dmVyc2lvbjogMSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRwcm9maWxlSW5kaWNhdGlvbjogc3BzSW5mby5wcm9maWxlX2lkYyxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRwcm9maWxlQ29tcGF0aWJpbGl0eTogcGFyc2VJbnQoc3BzSW5mby5jb25zdHJhaW50X3NldF9mbGFncy5qb2luKCcnKSwgMiksXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0bGV2ZWxJbmRpY2F0aW9uOiBzcHNJbmZvLmxldmVsX2lkYyxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRsZW5ndGhTaXplTWludXNPbmU6IDMsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0c2VxUGFyYW1TZXRzOiBbc3BzXSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRwaWN0UGFyYW1TZXRzOiBbcHBzXVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1dXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1dLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRzdHRzOiBbe1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHZlcnNpb246IDAsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZmxhZ3M6IDAsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZW50cmllczogZHRzRGlmZnNcblx0XHRcdFx0XHRcdFx0XHRcdFx0fV0sXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHN0c3M6IFt7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dmVyc2lvbjogMCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRmbGFnczogMCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRlbnRyaWVzOiBhY2Nlc3NJbmRleGVzXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1dLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjdHRzOiBbe1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHZlcnNpb246IDAsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZmxhZ3M6IDAsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZW50cmllczogcHRzX2R0c19EaWZmc1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0c3RzYzogW3tcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR2ZXJzaW9uOiAwLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGZsYWdzOiAwLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGVudHJpZXM6IFt7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRmaXJzdF9jaHVuazogMSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHNhbXBsZXNfcGVyX2NodW5rOiBzaXplcy5sZW5ndGgsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzYW1wbGVfZGVzY3JpcHRpb25faW5kZXg6IDFcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XVxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0c3RzejogW3tcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR2ZXJzaW9uOiAwLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGZsYWdzOiAwLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHNhbXBsZV9zaXplOiAwLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHNhbXBsZV9jb3VudDogc2l6ZXMubGVuZ3RoLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHNhbXBsZV9zaXplczogc2l6ZXNcblx0XHRcdFx0XHRcdFx0XHRcdFx0fV0sXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHN0Y286IFt7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dmVyc2lvbjogMCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRmbGFnczogMCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRlbnRyaWVzOiBbMHgyOF1cblx0XHRcdFx0XHRcdFx0XHRcdFx0fV1cblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR9XVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fV1cblx0XHRcdH1cblx0XHR9XTtcblxuXHRcdGlmIChhdWRpb1NpemUgPiAwKSB7XG5cdFx0XHR0cmFrLnB1c2goe1xuXHRcdFx0XHRhdG9tczoge1xuXHRcdFx0XHRcdHRraGQ6IFt7XG5cdFx0XHRcdFx0XHR2ZXJzaW9uOiAwLFxuXHRcdFx0XHRcdFx0ZmxhZ3M6IDE1LFxuXHRcdFx0XHRcdFx0dHJhY2tfSUQ6IDIsXG5cdFx0XHRcdFx0XHRkdXJhdGlvbjogZHVyYXRpb24sXG5cdFx0XHRcdFx0XHRsYXllcjogMCxcblx0XHRcdFx0XHRcdGFsdGVybmF0ZV9ncm91cDogMSxcblx0XHRcdFx0XHRcdHZvbHVtZTogMSxcblx0XHRcdFx0XHRcdG1hdHJpeDoge1xuXHRcdFx0XHRcdFx0XHRhOiAxLCBiOiAwLCB4OiAwLFxuXHRcdFx0XHRcdFx0XHRjOiAwLCBkOiAxLCB5OiAwLFxuXHRcdFx0XHRcdFx0XHR1OiAwLCB2OiAwLCB3OiAxXG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0ZGltZW5zaW9uczoge1xuXHRcdFx0XHRcdFx0XHRob3J6OiAwLFxuXHRcdFx0XHRcdFx0XHR2ZXJ0OiAwXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fV0sXG5cdFx0XHRcdFx0bWRpYTogW3tcblx0XHRcdFx0XHRcdGF0b21zOiB7XG5cdFx0XHRcdFx0XHRcdG1kaGQ6IFt7XG5cdFx0XHRcdFx0XHRcdFx0dmVyc2lvbjogMCxcblx0XHRcdFx0XHRcdFx0XHRmbGFnczogMCxcblx0XHRcdFx0XHRcdFx0XHR0aW1lc2NhbGU6IDkwMDAwLFxuXHRcdFx0XHRcdFx0XHRcdGR1cmF0aW9uOiBkdXJhdGlvbixcblx0XHRcdFx0XHRcdFx0XHRsYW5nOiAnZW5nJ1xuXHRcdFx0XHRcdFx0XHR9XSxcblx0XHRcdFx0XHRcdFx0aGRscjogW3tcblx0XHRcdFx0XHRcdFx0XHR2ZXJzaW9uOiAwLFxuXHRcdFx0XHRcdFx0XHRcdGZsYWdzOiAwLFxuXHRcdFx0XHRcdFx0XHRcdGhhbmRsZXJfdHlwZTogJ3NvdW4nLFxuXHRcdFx0XHRcdFx0XHRcdG5hbWU6ICdTb3VuZEhhbmRsZXInXG5cdFx0XHRcdFx0XHRcdH1dLFxuXHRcdFx0XHRcdFx0XHRtaW5mOiBbe1xuXHRcdFx0XHRcdFx0XHRcdGF0b21zOiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRzbWhkOiBbe1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR2ZXJzaW9uOiAwLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRmbGFnczogMCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0YmFsYW5jZTogMFxuXHRcdFx0XHRcdFx0XHRcdFx0fV0sXG5cdFx0XHRcdFx0XHRcdFx0XHRkaW5mOiBbe1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRhdG9tczoge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGRyZWY6IFt7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR2ZXJzaW9uOiAwLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZmxhZ3M6IDAsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRlbnRyaWVzOiBbe1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0eXBlOiAndXJsICcsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHZlcnNpb246IDAsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGZsYWdzOiAxLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRsb2NhdGlvbjogJydcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1dXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fV1cblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0fV0sXG5cdFx0XHRcdFx0XHRcdFx0XHRzdGJsOiBbe1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRhdG9tczoge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHN0c2Q6IFt7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR2ZXJzaW9uOiAwLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZmxhZ3M6IDAsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRlbnRyaWVzOiBbe1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0eXBlOiAnbXA0YScsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGRhdGFfcmVmZXJlbmNlX2luZGV4OiAxLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjaGFubmVsY291bnQ6IDIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHNhbXBsZXNpemU6IDE2LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzYW1wbGVyYXRlOiAyMjA1MCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0YXRvbXM6IHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRlc2RzOiBbe1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dmVyc2lvbjogMCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGZsYWdzOiAwLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0c2VjdGlvbnM6IFtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGRlc2NyaXB0b3JfdHlwZTogMyxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRleHRfdHlwZTogMTI4LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGxlbmd0aDogMzQsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZXNfaWQ6IDIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0c3RyZWFtX3ByaW9yaXR5OiAwXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRkZXNjcmlwdG9yX3R5cGU6IDQsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZXh0X3R5cGU6IDEyOCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRsZW5ndGg6IDIwLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHR5cGU6ICdtcGVnNF9hdWRpbycsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0c3RyZWFtX3R5cGU6ICdhdWRpbycsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dXBzdHJlYW1fZmxhZzogMCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRidWZmZXJfc2l6ZTogMCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRtYXhCaXRyYXRlOiBNYXRoLnJvdW5kKG1heEF1ZGlvU2l6ZSAvIChkdXJhdGlvbiAvIDkwMDAwIC8gYXVkaW9TaXplcy5sZW5ndGgpKSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRhdmdCaXRyYXRlOiBNYXRoLnJvdW5kKChzdHJlYW0udGVsbCgpIC0gYXVkaW9TdGFydCkgLyAoZHVyYXRpb24gLyA5MDAwMCkpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRkZXNjcmlwdG9yX3R5cGU6IDUsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZXh0X3R5cGU6IDEyOCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRsZW5ndGg6IDIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0YXVkaW9fcHJvZmlsZTogYXVkaW9IZWFkZXIucHJvZmlsZU1pbnVzT25lICsgMSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzYW1wbGluZ19mcmVxOiBhdWRpb0hlYWRlci5zYW1wbGluZ0ZyZXEsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2hhbm5lbENvbmZpZzogYXVkaW9IZWFkZXIuY2hhbm5lbENvbmZpZ1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZGVzY3JpcHRvcl90eXBlOiA2LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGV4dF90eXBlOiAxMjgsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0bGVuZ3RoOiAxLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHNsOiAyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdF1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1dLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHN0dHM6IFt7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR2ZXJzaW9uOiAwLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZmxhZ3M6IDAsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRlbnRyaWVzOiBbe1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzYW1wbGVfY291bnQ6IGF1ZGlvU2l6ZXMubGVuZ3RoLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzYW1wbGVfZGVsdGE6IE1hdGgucm91bmQoZHVyYXRpb24gLyBhdWRpb1NpemVzLmxlbmd0aClcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1dXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fV0sXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0c3RzYzogW3tcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHZlcnNpb246IDAsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRmbGFnczogMCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGVudHJpZXM6IFt7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGZpcnN0X2NodW5rOiAxLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzYW1wbGVzX3Blcl9jaHVuazogYXVkaW9TaXplcy5sZW5ndGgsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHNhbXBsZV9kZXNjcmlwdGlvbl9pbmRleDogMVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fV1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzdHN6OiBbe1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dmVyc2lvbjogMCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGZsYWdzOiAwLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0c2FtcGxlX3NpemU6IDAsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzYW1wbGVfY291bnQ6IGF1ZGlvU2l6ZXMubGVuZ3RoLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0c2FtcGxlX3NpemVzOiBhdWRpb1NpemVzXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fV0sXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0c3RjbzogW3tcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHZlcnNpb246IDAsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRmbGFnczogMCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGVudHJpZXM6IFsweDI4ICsgYXVkaW9TdGFydF1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XVxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHR9XVxuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fV1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XVxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9O1xuXHRcdFxuXHRcdHZhciBjcmVhdGlvblRpbWUgPSBuZXcgRGF0ZSgpO1xuXG5cdFx0bXA0LndyaXRlKCdGaWxlJywge1xuXHRcdFx0ZnR5cDogW3tcblx0XHRcdFx0bWFqb3JfYnJhbmQ6ICdpc29tJyxcblx0XHRcdFx0bWlub3JfdmVyc2lvbjogNTEyLFxuXHRcdFx0XHRjb21wYXRpYmxlX2JyYW5kczogWydpc29tJywgJ2lzbzInLCAnYXZjMScsICdtcDQxJ11cblx0XHRcdH1dLFxuXHRcdFx0bWRhdDogW3tcblx0XHRcdFx0X3Jhd0RhdGE6IHN0cmVhbS5nZXRCeXRlcyhzdHJlYW0udGVsbCgpLCAwKVxuXHRcdFx0fV0sXG5cdFx0XHRtb292OiBbe1xuXHRcdFx0XHRhdG9tczoge1xuXHRcdFx0XHRcdG12aGQ6IFt7XG5cdFx0XHRcdFx0XHR2ZXJzaW9uOiAwLFxuXHRcdFx0XHRcdFx0ZmxhZ3M6IDAsXG5cdFx0XHRcdFx0XHRjcmVhdGlvbl90aW1lOiBjcmVhdGlvblRpbWUsXG5cdFx0XHRcdFx0XHRtb2RpZmljYXRpb25fdGltZTogY3JlYXRpb25UaW1lLFxuXHRcdFx0XHRcdFx0dGltZXNjYWxlOiA5MDAwMCxcblx0XHRcdFx0XHRcdGR1cmF0aW9uOiBkdXJhdGlvbixcblx0XHRcdFx0XHRcdHJhdGU6IDEsXG5cdFx0XHRcdFx0XHR2b2x1bWU6IDEsXG5cdFx0XHRcdFx0XHRtYXRyaXg6IHtcblx0XHRcdFx0XHRcdFx0YTogMSwgYjogMCwgeDogMCxcblx0XHRcdFx0XHRcdFx0YzogMCwgZDogMSwgeTogMCxcblx0XHRcdFx0XHRcdFx0dTogMCwgdjogMCwgdzogMVxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdG5leHRfdHJhY2tfSUQ6IDJcblx0XHRcdFx0XHR9XSxcblx0XHRcdFx0XHR0cmFrOiB0cmFrXG5cdFx0XHRcdH1cblx0XHRcdH1dXG5cdFx0fSk7XG5cdFx0XG5cdFx0cmV0dXJuIG1wNC5zbGljZSgwLCBtcDQudGVsbCgpKTtcblx0fTtcbn0pKTsiLCIoZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpIHtcbiAgICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgICAgIC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS5cbiAgICAgICAgZGVmaW5lKFsnamJpbmFyeSddLCBmYWN0b3J5KTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jykge1xuICAgICAgICAvLyBOb2RlLiBEb2VzIG5vdCB3b3JrIHdpdGggc3RyaWN0IENvbW1vbkpTLCBidXRcbiAgICAgICAgLy8gb25seSBDb21tb25KUy1saWtlIGVudmlyb25tZW50cyB0aGF0IHN1cHBvcnQgbW9kdWxlLmV4cG9ydHMsXG4gICAgICAgIC8vIGxpa2UgTm9kZS5cbiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoJ2piaW5hcnknKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQnJvd3NlciBnbG9iYWxzIChyb290IGlzIHdpbmRvdylcbiAgICAgICAgcm9vdC5NUDQgPSBmYWN0b3J5KHJvb3QuakJpbmFyeSk7XG4gICAgfVxufSh0aGlzLCBmdW5jdGlvbiAoakJpbmFyeSkge1xuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIHRpbWVCYXNpcyA9IG5ldyBEYXRlKDE5NzAsIDAsIDEpIC0gbmV3IERhdGUoMTkwNCwgMCwgMSk7XG5cblx0ZnVuY3Rpb24gYXRvbUZpbHRlcih0eXBlKSB7XG5cdFx0cmV0dXJuIGZ1bmN0aW9uIChhdG9tKSB7XG5cdFx0XHRyZXR1cm4gYXRvbS50eXBlID09PSB0eXBlO1xuXHRcdH07XG5cdH1cblxuXHRyZXR1cm4ge1xuXHRcdFNob3J0TmFtZTogWydzdHJpbmcwJywgNF0sXG5cdFx0XG5cdFx0UmF0ZTogWydGaXhlZFBvaW50JywgJ2ludDMyJywgMTZdLFxuXG5cdFx0RGltZW5zaW9uczogakJpbmFyeS5UZW1wbGF0ZSh7XG5cdFx0XHRzZXRQYXJhbXM6IGZ1bmN0aW9uIChpdGVtVHlwZSkge1xuXHRcdFx0XHR0aGlzLmJhc2VUeXBlID0ge1xuXHRcdFx0XHRcdGhvcno6IGl0ZW1UeXBlLFxuXHRcdFx0XHRcdHZlcnQ6IGl0ZW1UeXBlXG5cdFx0XHRcdH07XG5cdFx0XHR9XG5cdFx0fSksXG5cblx0XHRCb3hIZWFkZXI6IHtcblx0XHRcdF9iZWdpbjogZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5iaW5hcnkudGVsbCgpO1xuXHRcdFx0fSxcblx0XHRcdF9zaXplOiBqQmluYXJ5LlRlbXBsYXRlKHtcblx0XHRcdFx0YmFzZVR5cGU6ICd1aW50MzInLFxuXHRcdFx0XHR3cml0ZTogZnVuY3Rpb24gKHZhbHVlLCBjb250ZXh0KSB7XG5cdFx0XHRcdFx0dmFyIHNpemUgPSBjb250ZXh0LnNpemU7XG5cdFx0XHRcdFx0dGhpcy5iYXNlV3JpdGUoc2l6ZSA/IChzaXplIDwgTWF0aC5wb3coMiwgMzIpID8gc2l6ZSA6IDEpIDogMCk7XG5cdFx0XHRcdH1cblx0XHRcdH0pLFxuXHRcdFx0dHlwZTogJ1Nob3J0TmFtZScsXG5cdFx0XHRzaXplOiBqQmluYXJ5LlR5cGUoe1xuXHRcdFx0XHRyZWFkOiBmdW5jdGlvbiAoY29udGV4dCkge1xuXHRcdFx0XHRcdHZhciBfc2l6ZSA9IGNvbnRleHQuX3NpemU7XG5cdFx0XHRcdFx0c3dpdGNoIChfc2l6ZSkge1xuXHRcdFx0XHRcdFx0Y2FzZSAwOiByZXR1cm4gdGhpcy5iaW5hcnkudmlldy5ieXRlTGVuZ3RoIC0gdGhpcy5iaW5hcnkudGVsbCgpICsgODtcblx0XHRcdFx0XHRcdGNhc2UgMTogcmV0dXJuIHRoaXMuYmluYXJ5LnJlYWQoJ3VpbnQ2NCcpO1xuXHRcdFx0XHRcdFx0ZGVmYXVsdDogcmV0dXJuIF9zaXplO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSxcblx0XHRcdFx0d3JpdGU6IGZ1bmN0aW9uICh2YWx1ZSkge1xuXHRcdFx0XHRcdGlmICh2YWx1ZSA+PSBNYXRoLnBvdygyLCAzMikpIHtcblx0XHRcdFx0XHRcdHRoaXMuYmluYXJ5LndyaXRlKCd1aW50NjQnLCB2YWx1ZSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9KSxcblx0XHRcdF9lbmQ6IGZ1bmN0aW9uIChjb250ZXh0KSB7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0Ll9iZWdpbiArIGNvbnRleHQuc2l6ZTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0RnVsbEJveDogWydleHRlbmQnLCAnQm94SGVhZGVyJywge1xuXHRcdFx0dmVyc2lvbjogJ3VpbnQ4Jyxcblx0XHRcdGZsYWdzOiAyNFxuXHRcdH1dLFxuXG5cdFx0Qm94OiBqQmluYXJ5LlR5cGUoe1xuXHRcdFx0cmVhZDogZnVuY3Rpb24gKCkge1xuXHRcdFx0XHR2YXIgaGVhZGVyID0gdGhpcy5iaW5hcnkuc2tpcCgwLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXMucmVhZCgnQm94SGVhZGVyJyk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHR2YXIgYm94ID0gdGhpcy5iaW5hcnkucmVhZChoZWFkZXIudHlwZSkgfHwgaGVhZGVyO1xuXHRcdFx0XHRpZiAoYm94ID09PSBoZWFkZXIpIGNvbnNvbGUubG9nKGhlYWRlci50eXBlKTtcblx0XHRcdFx0dGhpcy5iaW5hcnkuc2VlayhoZWFkZXIuX2VuZCk7XG5cdFx0XHRcdHJldHVybiBib3g7XG5cdFx0XHR9LFxuXHRcdFx0d3JpdGU6IGZ1bmN0aW9uIChib3gpIHtcblx0XHRcdFx0dGhpcy5iaW5hcnkud3JpdGUoYm94LnR5cGUsIGJveCk7XG5cdFx0XHRcdHZhciBzaXplID0gdGhpcy5iaW5hcnkudGVsbCgpIC0gYm94Ll9iZWdpbjtcblx0XHRcdFx0dGhpcy5iaW5hcnkuc2Vlayhib3guX2JlZ2luLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0dGhpcy53cml0ZSgndWludDMyJywgc2l6ZSk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH0pLFxuXG5cdFx0VGltZTogakJpbmFyeS5UZW1wbGF0ZSh7XG5cdFx0XHRwYXJhbXM6IFsnYmFzZVR5cGUnXSxcblx0XHRcdHJlYWQ6IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0dmFyIGludFRpbWUgPSB0aGlzLmJhc2VSZWFkKCk7XG5cdFx0XHRcdGlmIChpbnRUaW1lKSB7XG5cdFx0XHRcdFx0cmV0dXJuIG5ldyBEYXRlKGludFRpbWUgKyB0aW1lQmFzaXMpO1xuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0d3JpdGU6IGZ1bmN0aW9uICh0aW1lKSB7XG5cdFx0XHRcdHRoaXMuYmFzZVdyaXRlKCh0aW1lIC0gdGltZUJhc2lzKSA+Pj4gMCk7XG5cdFx0XHR9XG5cdFx0fSksXG5cblx0XHRGaXhlZFBvaW50OiBqQmluYXJ5LlRlbXBsYXRlKHtcblx0XHRcdHBhcmFtczogWydiYXNlVHlwZSddLFxuXHRcdFx0c2V0UGFyYW1zOiBmdW5jdGlvbiAoYmFzZVR5cGUsIHNoaWZ0KSB7XG5cdFx0XHRcdHRoaXMuY29lZiA9IDEgPDwgc2hpZnQ7XG5cdFx0XHR9LFxuXHRcdFx0cmVhZDogZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5iYXNlUmVhZCgpIC8gdGhpcy5jb2VmO1xuXHRcdFx0fSxcblx0XHRcdHdyaXRlOiBmdW5jdGlvbiAodmFsdWUpIHtcblx0XHRcdFx0dGhpcy5iYXNlV3JpdGUodmFsdWUgKiB0aGlzLmNvZWYpO1xuXHRcdFx0fVxuXHRcdH0pLFxuXG5cdFx0QXRvbXM6IGpCaW5hcnkuVHlwZSh7XG5cdFx0XHRwYXJhbXM6IFsnZW5kJ10sXG5cdFx0XHRyZWFkOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdHZhciBhdG9tcyA9IHt9LCBlbmQgPSB0aGlzLnRvVmFsdWUodGhpcy5lbmQpIHx8IHRoaXMuYmluYXJ5LmdldENvbnRleHQoJ19lbmQnKS5fZW5kO1xuXHRcdFx0XHR3aGlsZSAodGhpcy5iaW5hcnkudGVsbCgpIDwgZW5kKSB7XG5cdFx0XHRcdFx0dmFyIGl0ZW0gPSB0aGlzLmJpbmFyeS5yZWFkKCdCb3gnKTtcblx0XHRcdFx0XHQoYXRvbXNbaXRlbS50eXBlXSB8fCAoYXRvbXNbaXRlbS50eXBlXSA9IFtdKSkucHVzaChpdGVtKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gYXRvbXM7XG5cdFx0XHR9LFxuXHRcdFx0d3JpdGU6IGZ1bmN0aW9uIChwYXJlbnQpIHtcblx0XHRcdFx0Zm9yICh2YXIgdHlwZSBpbiBwYXJlbnQpIHtcblx0XHRcdFx0XHR2YXIgYXRvbXMgPSBwYXJlbnRbdHlwZV07XG5cdFx0XHRcdFx0Zm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IGF0b21zLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdFx0XHRhdG9tc1tpXS50eXBlID0gdHlwZTtcblx0XHRcdFx0XHRcdHRoaXMuYmluYXJ5LndyaXRlKCdCb3gnLCBhdG9tc1tpXSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSksXG5cblx0XHRDaGlsZEF0b21zOiB7XG5cdFx0XHRhdG9tczogJ0F0b21zJ1xuXHRcdH0sXG5cblx0XHRNdWx0aUJveDogWydleHRlbmQnLCAnQm94SGVhZGVyJywgJ0NoaWxkQXRvbXMnXSxcblxuXHRcdFRyYW5zZm9ybWF0aW9uTWF0cml4OiB7XG5cdFx0XHRhOiBbJ0ZpeGVkUG9pbnQnLCAndWludDMyJywgMTZdLFxuXHRcdFx0YjogWydGaXhlZFBvaW50JywgJ3VpbnQzMicsIDE2XSxcblx0XHRcdHU6IFsnRml4ZWRQb2ludCcsICd1aW50MzInLCAzMF0sXG5cdFx0XHRjOiBbJ0ZpeGVkUG9pbnQnLCAndWludDMyJywgMTZdLFxuXHRcdFx0ZDogWydGaXhlZFBvaW50JywgJ3VpbnQzMicsIDE2XSxcblx0XHRcdHY6IFsnRml4ZWRQb2ludCcsICd1aW50MzInLCAzMF0sXG5cdFx0XHR4OiBbJ0ZpeGVkUG9pbnQnLCAndWludDMyJywgMTZdLFxuXHRcdFx0eTogWydGaXhlZFBvaW50JywgJ3VpbnQzMicsIDE2XSxcblx0XHRcdHc6IFsnRml4ZWRQb2ludCcsICd1aW50MzInLCAzMF1cblx0XHR9LFxuXG5cdFx0Vm9sdW1lOiBbJ0ZpeGVkUG9pbnQnLCAndWludDE2JywgOF0sXG5cblx0XHRGQlZlcnNpb25hYmxlOiBqQmluYXJ5LlRlbXBsYXRlKHtcblx0XHRcdHNldFBhcmFtczogZnVuY3Rpb24gKHR5cGUwLCB0eXBlMSkge1xuXHRcdFx0XHR0aGlzLmJhc2VUeXBlID0gWydpZicsICd2ZXJzaW9uJywgdHlwZTEsIHR5cGUwXTtcblx0XHRcdH1cblx0XHR9KSxcblxuXHRcdEZCVWludDogWydGQlZlcnNpb25hYmxlJywgJ3VpbnQzMicsICd1aW50NjQnXSxcblxuXHRcdEZCVGltZTogWydUaW1lJywgJ0ZCVWludCddLFxuXG5cdFx0VGltZXN0YW1wQm94OiBbJ2V4dGVuZCcsICdGdWxsQm94Jywge1xuXHRcdFx0Y3JlYXRpb25fdGltZTogJ0ZCVGltZScsXG5cdFx0XHRtb2RpZmljYXRpb25fdGltZTogJ0ZCVGltZSdcblx0XHR9XSxcblxuXHRcdER1cmF0aW9uQm94OiBbJ2V4dGVuZCcsICdUaW1lc3RhbXBCb3gnLCB7XG5cdFx0XHR0aW1lc2NhbGU6ICd1aW50MzInLFxuXHRcdFx0ZHVyYXRpb246ICdGQlVpbnQnXG5cdFx0fV0sXG5cblx0XHRmdHlwOiBbJ2V4dGVuZCcsICdCb3hIZWFkZXInLCB7XG5cdFx0XHRtYWpvcl9icmFuZDogJ1Nob3J0TmFtZScsXG5cdFx0XHRtaW5vcl92ZXJzaW9uOiAndWludDMyJyxcblx0XHRcdGNvbXBhdGlibGVfYnJhbmRzOiBbJ2FycmF5JywgJ1Nob3J0TmFtZScsIGZ1bmN0aW9uICgpIHsgcmV0dXJuICh0aGlzLmJpbmFyeS5nZXRDb250ZXh0KDEpLl9lbmQgLSB0aGlzLmJpbmFyeS50ZWxsKCkpIC8gNCB9XVxuXHRcdH1dLFxuXG5cdFx0ZnJlZTogJ0JveEhlYWRlcicsXG5cblx0XHRSYXdEYXRhOiB7XG5cdFx0XHRfcmF3RGF0YTogWydibG9iJywgZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5iaW5hcnkuZ2V0Q29udGV4dCgnX2VuZCcpLl9lbmQgLSB0aGlzLmJpbmFyeS50ZWxsKCkgfV1cblx0XHR9LFxuXG5cdFx0bWRhdDogWydleHRlbmQnLCAnQm94SGVhZGVyJywgJ1Jhd0RhdGEnXSxcblxuXHRcdFBhcmFtU2V0czogakJpbmFyeS5UZW1wbGF0ZSh7XG5cdFx0XHRzZXRQYXJhbXM6IGZ1bmN0aW9uIChudW1UeXBlKSB7XG5cdFx0XHRcdHRoaXMuYmFzZVR5cGUgPSBbJ0R5bmFtaWNBcnJheScsIG51bVR5cGUsIGpCaW5hcnkuVGVtcGxhdGUoe1xuXHRcdFx0XHRcdGJhc2VUeXBlOiB7XG5cdFx0XHRcdFx0XHRsZW5ndGg6ICd1aW50MTYnLFxuXHRcdFx0XHRcdFx0cGFyYW1TZXQ6IFsnYmxvYicsICdsZW5ndGgnXVxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0cmVhZDogZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHRoaXMuYmFzZVJlYWQoKS5wYXJhbVNldDtcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdHdyaXRlOiBmdW5jdGlvbiAocGFyYW1TZXQpIHtcblx0XHRcdFx0XHRcdHRoaXMuYmFzZVdyaXRlKHtcblx0XHRcdFx0XHRcdFx0bGVuZ3RoOiBwYXJhbVNldC5sZW5ndGgsXG5cdFx0XHRcdFx0XHRcdHBhcmFtU2V0OiBwYXJhbVNldFxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KV07XG5cdFx0XHR9XG5cdFx0fSksXG5cblx0XHRhdmNDOiBbJ2V4dGVuZCcsICdCb3hIZWFkZXInLCB7XG5cdFx0XHR2ZXJzaW9uOiBbJ2NvbnN0JywgJ3VpbnQ4JywgMV0sXG5cdFx0XHRwcm9maWxlSW5kaWNhdGlvbjogJ3VpbnQ4Jyxcblx0XHRcdHByb2ZpbGVDb21wYXRpYmlsaXR5OiAndWludDgnLFxuXHRcdFx0bGV2ZWxJbmRpY2F0aW9uOiAndWludDgnLFxuXHRcdFx0X3Jlc2VydmVkOiBbJ2NvbnN0JywgNiwgLTFdLFxuXHRcdFx0bGVuZ3RoU2l6ZU1pbnVzT25lOiAyLFxuXHRcdFx0X3Jlc2VydmVkMjogWydjb25zdCcsIDMsIC0xXSxcblx0XHRcdHNlcVBhcmFtU2V0czogWydQYXJhbVNldHMnLCA1XSxcblx0XHRcdHBpY3RQYXJhbVNldHM6IFsnUGFyYW1TZXRzJywgJ3VpbnQ4J11cblx0XHR9XSxcblxuXHRcdG1vb3Y6ICdNdWx0aUJveCcsXG5cblx0XHRtdmhkOiBbJ2V4dGVuZCcsICdEdXJhdGlvbkJveCcsIHtcblx0XHRcdHJhdGU6ICdSYXRlJyxcblx0XHRcdHZvbHVtZTogJ1ZvbHVtZScsXG5cdFx0XHRfcmVzZXJ2ZWQ6IFsnc2tpcCcsIDEwXSxcblx0XHRcdG1hdHJpeDogJ1RyYW5zZm9ybWF0aW9uTWF0cml4Jyxcblx0XHRcdF9yZXNlcnZlZDI6IFsnc2tpcCcsIDI0XSxcblx0XHRcdG5leHRfdHJhY2tfSUQ6ICd1aW50MzInXG5cdFx0fV0sXG5cblx0XHR0cmFrOiAnTXVsdGlCb3gnLFxuXG5cdFx0dGtoZDogWydleHRlbmQnLCAnVGltZXN0YW1wQm94Jywge1xuXHRcdFx0dHJhY2tfSUQ6ICd1aW50MzInLFxuXHRcdFx0X3Jlc2VydmVkOiBbJ3NraXAnLCA0XSxcblx0XHRcdGR1cmF0aW9uOiAnRkJVaW50Jyxcblx0XHRcdF9yZXNlcnZlZDI6IFsnc2tpcCcsIDhdLFxuXHRcdFx0bGF5ZXI6ICdpbnQxNicsXG5cdFx0XHRhbHRlcm5hdGVfZ3JvdXA6ICd1aW50MTYnLFxuXHRcdFx0dm9sdW1lOiAnVm9sdW1lJyxcblx0XHRcdF9yZXNlcnZlZDM6IFsnc2tpcCcsIDJdLFxuXHRcdFx0bWF0cml4OiAnVHJhbnNmb3JtYXRpb25NYXRyaXgnLFxuXHRcdFx0ZGltZW5zaW9uczogWydEaW1lbnNpb25zJywgJ1JhdGUnXVxuXHRcdH1dLFxuXG5cdFx0dHJlZjogJ011bHRpQm94JyxcblxuXHRcdFRyYWNrUmVmZXJlbmNlVHlwZUJveDogWydleHRlbmQnLCAnQm94SGVhZGVyJywge1xuXHRcdFx0dHJhY2tfSURzOiBbJ2FycmF5JywgJ3VpbnQzMicsIGZ1bmN0aW9uICgpIHsgcmV0dXJuICh0aGlzLmJpbmFyeS5nZXRDb250ZXh0KDEpLl9lbmQgLSB0aGlzLmJpbmFyeS50ZWxsKCkpIC8gNCB9XVxuXHRcdH1dLFxuXG5cdFx0aGludDogJ1RyYWNrUmVmZXJlbmNlVHlwZUJveCcsXG5cblx0XHRjZHNjOiAnVHJhY2tSZWZlcmVuY2VUeXBlQm94JyxcblxuXHRcdGhpbmQ6ICdUcmFja1JlZmVyZW5jZVR5cGVCb3gnLFxuXG5cdFx0bWRpYTogJ011bHRpQm94JyxcblxuXHRcdG1kaGQ6IFsnZXh0ZW5kJywgJ0R1cmF0aW9uQm94Jywge1xuXHRcdFx0X3BhZGRpbmc6IDEsXG5cdFx0XHRsYW5nOiBqQmluYXJ5LlR5cGUoe1xuXHRcdFx0XHRyZWFkOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0cmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoXG5cdFx0XHRcdFx0XHRTdHJpbmcsXG5cdFx0XHRcdFx0XHR0aGlzLmJpbmFyeS5yZWFkKFsnYXJyYXknLCA1LCAzXSkubWFwKGZ1bmN0aW9uIChjb2RlKSB7IHJldHVybiBjb2RlICsgMHg2MCB9KVxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdHdyaXRlOiBmdW5jdGlvbiAodmFsdWUpIHtcblx0XHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IDM7IGkrKykge1xuXHRcdFx0XHRcdFx0dGhpcy5iaW5hcnkud3JpdGUoNSwgdmFsdWUuY2hhckNvZGVBdChpKSAtIDB4NjApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSksXG5cdFx0XHRfcmVzZXJ2ZWQ6IFsnc2tpcCcsIDJdXG5cdFx0fV0sXG5cblx0XHRoZGxyOiBbJ2V4dGVuZCcsICdGdWxsQm94Jywge1xuXHRcdFx0X3Jlc2VydmVkOiBbJ3NraXAnLCA0XSxcblx0XHRcdGhhbmRsZXJfdHlwZTogJ1Nob3J0TmFtZScsXG5cdFx0XHRfc2V0X2hhbmRsZXJfdHlwZTogZnVuY3Rpb24gKGNvbnRleHQpIHtcblx0XHRcdFx0dGhpcy5iaW5hcnkuZ2V0Q29udGV4dChhdG9tRmlsdGVyKCd0cmFrJykpLl9oYW5kbGVyX3R5cGUgPSBjb250ZXh0LmhhbmRsZXJfdHlwZTtcblx0XHRcdH0sXG5cdFx0XHRfcmVzZXJ2ZWQyOiBbJ3NraXAnLCAxMl0sXG5cdFx0XHRuYW1lOiAnc3RyaW5nMCdcblx0XHR9XSxcblxuXHRcdG1pbmY6ICdNdWx0aUJveCcsXG5cblx0XHR2bWhkOiBbJ2V4dGVuZCcsICdGdWxsQm94Jywge1xuXHRcdFx0Z3JhcGhpY3Ntb2RlOiAndWludDE2Jyxcblx0XHRcdG9wY29sb3I6IHtcblx0XHRcdFx0cjogJ3VpbnQxNicsXG5cdFx0XHRcdGc6ICd1aW50MTYnLFxuXHRcdFx0XHRiOiAndWludDE2J1xuXHRcdFx0fVxuXHRcdH1dLFxuXG5cdFx0c21oZDogWydleHRlbmQnLCAnRnVsbEJveCcsIHtcblx0XHRcdGJhbGFuY2U6IFsnRml4ZWRQb2ludCcsICdpbnQxNicsIDhdLFxuXHRcdFx0X3Jlc2VydmVkOiBbJ3NraXAnLCAyXVxuXHRcdH1dLFxuXG5cdFx0aG1oZDogWydleHRlbmQnLCAnRnVsbEJveCcsIHtcblx0XHRcdG1heFBEVXNpemU6ICd1aW50MTYnLFxuXHRcdFx0YXZnUERVc2l6ZTogJ3VpbnQxNicsXG5cdFx0XHRtYXhiaXRyYXRlOiAndWludDMyJyxcblx0XHRcdGF2Z2JpdHJhdGU6ICd1aW50MzInLFxuXHRcdFx0X3Jlc2VydmVkOiBbJ3NraXAnLCA0XVxuXHRcdH1dLFxuXG5cdFx0c3RibDogJ011bHRpQm94JyxcblxuXHRcdFNhbXBsZUVudHJ5OiBbJ2V4dGVuZCcsICdCb3hIZWFkZXInLCB7XG5cdFx0XHRfcmVzZXJ2ZWQ6IFsnc2tpcCcsIDZdLFxuXHRcdFx0ZGF0YV9yZWZlcmVuY2VfaW5kZXg6ICd1aW50MTYnXG5cdFx0fV0sXG5cblx0XHRidHJ0OiBbJ2V4dGVuZCcsICdCb3hIZWFkZXInLCB7XG5cdFx0XHRidWZmZXJTaXplREI6ICd1aW50MzInLFxuXHRcdFx0bWF4Qml0cmF0ZTogJ3VpbnQzMicsXG5cdFx0XHRhdmdCaXRyYXRlOiAndWludDMyJ1xuXHRcdH1dLFxuXG5cdFx0bWV0eDogWydleHRlbmQnLCAnU2FtcGxlRW50cnknLCB7XG5cdFx0XHRjb250ZW50X2VuY29kaW5nOiAnc3RyaW5nMCcsXG5cdFx0XHRuYW1lc3BhY2U6ICdzdHJpbmcwJyxcblx0XHRcdHNjaGVtYV9sb2NhdGlvbjogJ3N0cmluZzAnLFxuXHRcdFx0Yml0cmF0ZWJveDogJ2J0cnQnXG5cdFx0fV0sXG5cblx0XHRtZXR0OiBbJ2V4dGVuZCcsICdTYW1wbGVFbnRyeScsIHtcblx0XHRcdGNvbnRlbnRfZW5jb2Rpbmc6ICdzdHJpbmcwJyxcblx0XHRcdG1pbWVfZm9ybWF0OiAnc3RyaW5nMCcsXG5cdFx0XHRiaXRyYXRlYm94OiAnYnRydCdcblx0XHR9XSxcblxuXHRcdHBhc3A6IFsnZXh0ZW5kJywgJ0JveEhlYWRlcicsIHtcblx0XHRcdHNwYWNpbmc6IFsnRGltZW5zaW9ucycsICd1aW50MzInXVxuXHRcdH1dLFxuXG5cdFx0Q2xhcElubmVyRm9ybWF0OiBbJ0RpbWVuc2lvbnMnLCB7XG5cdFx0XHROOiAndWludDMyJyxcblx0XHRcdEQ6ICd1aW50MzInXG5cdFx0fV0sXG5cblx0XHRjbGFwOiBbJ2V4dGVuZCcsICdCb3hIZWFkZXInLCB7XG5cdFx0XHRjbGVhbkFwZXJ0dXJlOiAnQ2xhcElubmVyRm9ybWF0Jyxcblx0XHRcdG9mZjogJ0NsYXBJbm5lckZvcm1hdCdcblx0XHR9XSxcblxuXHRcdFZpc3VhbFNhbXBsZUVudHJ5OiBbJ2V4dGVuZCcsICdTYW1wbGVFbnRyeScsIHtcblx0XHRcdF9yZXNlcnZlZDogWydza2lwJywgMTZdLFxuXHRcdFx0ZGltZW5zaW9uczogWydEaW1lbnNpb25zJywgJ3VpbnQxNiddLFxuXHRcdFx0cmVzb2x1dGlvbjogWydEaW1lbnNpb25zJywgJ1JhdGUnXSxcblx0XHRcdF9yZXNlcnZlZDI6IFsnc2tpcCcsIDRdLFxuXHRcdFx0ZnJhbWVfY291bnQ6IFsnY29uc3QnLCAndWludDE2JywgMV0sXG5cdFx0XHRjb21wcmVzc29ybmFtZTogakJpbmFyeS5UZW1wbGF0ZSh7XG5cdFx0XHRcdGJhc2VUeXBlOiB7XG5cdFx0XHRcdFx0bGVuZ3RoOiAndWludDgnLFxuXHRcdFx0XHRcdHN0cmluZzogWydzdHJpbmcnLCAnbGVuZ3RoJ10sXG5cdFx0XHRcdFx0X3NraXA6IFsnc2tpcCcsIGZ1bmN0aW9uIChjb250ZXh0KSB7IHJldHVybiAzMiAtIDEgLSBjb250ZXh0Lmxlbmd0aCB9XVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRyZWFkOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXMuYmFzZVJlYWQoKS5zdHJpbmc7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdHdyaXRlOiBmdW5jdGlvbiAodmFsdWUpIHtcblx0XHRcdFx0XHR0aGlzLmJhc2VXcml0ZSh7XG5cdFx0XHRcdFx0XHRsZW5ndGg6IHZhbHVlLmxlbmd0aCxcblx0XHRcdFx0XHRcdHN0cmluZzogdmFsdWVcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fVxuXHRcdFx0fSksXG5cdFx0XHRkZXB0aDogJ3VpbnQxNicsXG5cdFx0XHRfcmVzZXJ2ZWQzOiBbJ2NvbnN0JywgJ2ludDE2JywgLTFdXG5cdFx0fSwgakJpbmFyeS5UeXBlKHtcblx0XHRcdHNldFBhcmFtczogZnVuY3Rpb24gKCkge1xuXHRcdFx0XHR0aGlzLm9wdGlvbmFsID0ge1xuXHRcdFx0XHRcdGNsZWFuYXBlcnR1cmU6ICdjbGFwJyxcblx0XHRcdFx0XHRwaXhlbGFzcGVjdHJhdGlvOiAncGFzcCdcblx0XHRcdFx0fTtcblx0XHRcdH0sXG5cdFx0XHRyZWFkOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdHZhciBleHRlbnNpb24gPSB7fTtcblxuXHRcdFx0XHRmb3IgKHZhciBwcm9wTmFtZSBpbiB0aGlzLm9wdGlvbmFsKSB7XG5cdFx0XHRcdFx0dmFyIHR5cGUgPSB0aGlzLm9wdGlvbmFsW3Byb3BOYW1lXTtcblx0XHRcdFx0XHR2YXIgYXRvbSA9IHRoaXMuYmluYXJ5LnNraXAoMCwgZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5yZWFkKCdCb3hIZWFkZXInKSB9KTtcblx0XHRcdFx0XHRpZiAoYXRvbS50eXBlID09PSB0eXBlKSB7XG5cdFx0XHRcdFx0XHRleHRlbnNpb25bcHJvcE5hbWVdID0gdGhpcy5iaW5hcnkucmVhZCh0eXBlKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gZXh0ZW5zaW9uO1xuXHRcdFx0fSxcblx0XHRcdHdyaXRlOiBmdW5jdGlvbiAoYm94KSB7XG5cdFx0XHRcdGZvciAodmFyIHByb3BOYW1lIGluIHRoaXMub3B0aW9uYWwpIHtcblx0XHRcdFx0XHR2YXIgdmFsdWUgPSBib3hbcHJvcE5hbWVdO1xuXHRcdFx0XHRcdGlmICh2YWx1ZSkge1xuXHRcdFx0XHRcdFx0dGhpcy5iaW5hcnkud3JpdGUodGhpcy5vcHRpb25hbFtwcm9wTmFtZV0sIHZhbHVlKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9KSwgJ0NoaWxkQXRvbXMnXSxcblxuXHRcdEF1ZGlvU2FtcGxlRW50cnk6IFsnZXh0ZW5kJywgJ1NhbXBsZUVudHJ5Jywge1xuXHRcdFx0X3Jlc2VydmVkOiBbJ3NraXAnLCA4XSxcblx0XHRcdGNoYW5uZWxjb3VudDogJ3VpbnQxNicsXG5cdFx0XHRzYW1wbGVzaXplOiAndWludDE2Jyxcblx0XHRcdF9yZXNlcnZlZDI6IFsnc2tpcCcsIDRdLFxuXHRcdFx0c2FtcGxlcmF0ZTogJ1JhdGUnXG5cdFx0fSwgJ0NoaWxkQXRvbXMnXSxcblxuXHRcdER5bmFtaWNBcnJheTogakJpbmFyeS5UZW1wbGF0ZSh7XG5cdFx0XHRzZXRQYXJhbXM6IGZ1bmN0aW9uIChsZW5ndGhUeXBlLCBpdGVtVHlwZSkge1xuXHRcdFx0XHR0aGlzLmJhc2VUeXBlID0ge1xuXHRcdFx0XHRcdGxlbmd0aDogbGVuZ3RoVHlwZSxcblx0XHRcdFx0XHRhcnJheTogWydhcnJheScsIGl0ZW1UeXBlLCAnbGVuZ3RoJ11cblx0XHRcdFx0fTtcblx0XHRcdH0sXG5cdFx0XHRyZWFkOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdHJldHVybiB0aGlzLmJhc2VSZWFkKCkuYXJyYXk7XG5cdFx0XHR9LFxuXHRcdFx0d3JpdGU6IGZ1bmN0aW9uIChhcnJheSkge1xuXHRcdFx0XHR0aGlzLmJhc2VXcml0ZSh7XG5cdFx0XHRcdFx0bGVuZ3RoOiBhcnJheS5sZW5ndGgsXG5cdFx0XHRcdFx0YXJyYXk6IGFycmF5XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH0pLFxuXG5cdFx0QXJyYXlCb3g6IGpCaW5hcnkuVGVtcGxhdGUoe1xuXHRcdFx0c2V0UGFyYW1zOiBmdW5jdGlvbiAoZW50cnlUeXBlKSB7XG5cdFx0XHRcdHRoaXMuYmFzZVR5cGUgPSBbJ2V4dGVuZCcsICdGdWxsQm94Jywge1xuXHRcdFx0XHRcdGVudHJpZXM6IFsnRHluYW1pY0FycmF5JywgJ3VpbnQzMicsIGVudHJ5VHlwZV1cblx0XHRcdFx0fV07XG5cdFx0XHR9XG5cdFx0fSksXG5cblx0XHRzdHNkOiBbJ0FycmF5Qm94JywgakJpbmFyeS5UZW1wbGF0ZSh7XG5cdFx0XHRnZXRCYXNlVHlwZTogZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRyZXR1cm4ge3NvdW46ICdBdWRpb1NhbXBsZUVudHJ5JywgdmlkZTogJ1Zpc3VhbFNhbXBsZUVudHJ5JywgbWV0YTogJ0JveCd9W3RoaXMuYmluYXJ5LmdldENvbnRleHQoYXRvbUZpbHRlcigndHJhaycpKS5faGFuZGxlcl90eXBlXSB8fCAnU2FtcGxlRW50cnknO1xuXHRcdFx0fSxcblx0XHRcdHdyaXRlOiBmdW5jdGlvbiAodmFsdWUpIHtcblx0XHRcdFx0dmFyIHBvcyA9IHRoaXMuYmluYXJ5LnRlbGwoKTtcblx0XHRcdFx0dGhpcy5iYXNlV3JpdGUodmFsdWUpO1xuXHRcdFx0XHR2YXIgc2l6ZSA9IHRoaXMuYmluYXJ5LnRlbGwoKSAtIHBvcztcblx0XHRcdFx0dGhpcy5iaW5hcnkuc2Vlayhwb3MsIGZ1bmN0aW9uICgpIHsgdGhpcy53cml0ZSgndWludDMyJywgc2l6ZSkgfSk7XG5cdFx0XHR9XG5cdFx0fSldLFxuXG5cdFx0c3RkcDogWydleHRlbmQnLCAnRnVsbEJveCcsIHtcblx0XHRcdHByaW9yaXRpZXM6IFsnYXJyYXknLCAndWludDE2JywgZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5iaW5hcnkuZ2V0Q29udGV4dChhdG9tRmlsdGVyKCdzdGJsJykpLl9zYW1wbGVfY291bnQgfV1cblx0XHR9XSxcblxuXHRcdHN0c2w6IFsnZXh0ZW5kJywgJ0Z1bGxCb3gnLCB7XG5cdFx0XHRfcmVzZXJ2ZWQ6IDcsXG5cdFx0XHRjb25zdHJhaW50X2ZsYWc6ICdib29sJyxcblx0XHRcdHNjYWxlX21ldGhvZDogWydlbnVtJywgJ3VpbnQ4JywgW2ZhbHNlLCAnZmlsbCcsICdoaWRkZW4nLCAnbWVldCcsICdzbGljZS14JywgJ3NsaWNlLXknXV0sXG5cdFx0XHRkaXNwbGF5X2NlbnRlcjogWydEaW1lbnNpb25zJywgJ2ludDE2J11cblx0XHR9XSxcblxuXHRcdHN0dHM6IFsnQXJyYXlCb3gnLCB7XG5cdFx0XHRzYW1wbGVfY291bnQ6ICd1aW50MzInLFxuXHRcdFx0c2FtcGxlX2RlbHRhOiAndWludDMyJ1xuXHRcdH1dLFxuXG5cdFx0Y3R0czogWydBcnJheUJveCcsIHtcblx0XHRcdHNhbXBsZV9jb3VudDogJ3VpbnQzMicsXG5cdFx0XHRzYW1wbGVfb2Zmc2V0OiAndWludDMyJ1xuXHRcdH1dLFxuXG5cdFx0c3RzczogWydBcnJheUJveCcsICd1aW50MzInXSxcblxuXHRcdHN0c2g6IFsnQXJyYXlCb3gnLCB7XG5cdFx0XHRzaGFkb3dlZF9zYW1wbGVfbnVtYmVyOiAndWludDMyJyxcblx0XHRcdHN5bmNfc2FtcGxlX251bWJlcjogJ3VpbnQzMidcblx0XHR9XSxcblxuXHRcdEV4dGVuZGVkQm9vbGVhbjogWydlbnVtJywgMiwgW3VuZGVmaW5lZCwgdHJ1ZSwgZmFsc2VdXSxcblxuXHRcdHNkdHA6IFsnZXh0ZW5kJywgJ0Z1bGxCb3gnLCB7XG5cdFx0XHRkZXBlbmRlbmNpZXM6IFsnYXJyYXknLCB7XG5cdFx0XHRcdF9yZXNlcnZlZDogMixcblx0XHRcdFx0c2FtcGxlX2RlcGVuZHNfb246ICdFeHRlbmRlZEJvb2xlYW4nLFxuXHRcdFx0XHRzYW1wbGVfaXNfZGVwZW5kZWRfb246ICdFeHRlbmRlZEJvb2xlYW4nLFxuXHRcdFx0XHRzYW1wbGVfaGFzX3JlZHVuZGFuY3k6ICdFeHRlbmRlZEJvb2xlYW4nXG5cdFx0XHR9LCBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLmJpbmFyeS5nZXRDb250ZXh0KGF0b21GaWx0ZXIoJ3N0YmwnKSkuX3NhbXBsZV9jb3VudCB9XVxuXHRcdH1dLFxuXG5cdFx0ZWR0czogJ011bHRpQm94JyxcblxuXHRcdGVsc3Q6IFsnQXJyYXlCb3gnLCB7XG5cdFx0XHRzZWdtZW50X2R1cmF0aW9uOiAnRkJVaW50Jyxcblx0XHRcdG1lZGlhX3RpbWU6IFsnRkJWZXJzaW9uYWJsZScsICdpbnQzMicsICdpbnQ2NCddLFxuXHRcdFx0bWVkaWFfcmF0ZTogJ1JhdGUnXG5cdFx0fV0sXG5cblx0XHRkaW5mOiAnTXVsdGlCb3gnLFxuXG5cdFx0J3VybCAnOiBbJ2V4dGVuZCcsICdGdWxsQm94Jywge1xuXHRcdFx0bG9jYXRpb246ICdzdHJpbmcwJ1xuXHRcdH1dLFxuXG5cdFx0J3VybiAnOiBbJ2V4dGVuZCcsICdGdWxsQm94Jywge1xuXHRcdFx0bmFtZTogJ3N0cmluZzAnLFxuXHRcdFx0bG9jYXRpb246ICdzdHJpbmcwJ1xuXHRcdH1dLFxuXG5cdFx0ZHJlZjogWydBcnJheUJveCcsICdCb3gnXSxcblxuXHRcdHN0c3o6IFsnZXh0ZW5kJywgJ0Z1bGxCb3gnLCB7XG5cdFx0XHRzYW1wbGVfc2l6ZTogJ3VpbnQzMicsXG5cdFx0XHRzYW1wbGVfY291bnQ6ICd1aW50MzInLFxuXHRcdFx0X3NhbXBsZV9jb3VudF90b19zdGJsOiBmdW5jdGlvbiAoY29udGV4dCkge1xuXHRcdFx0XHR0aGlzLmJpbmFyeS5nZXRDb250ZXh0KGF0b21GaWx0ZXIoJ3N0YmwnKSkuX3NhbXBsZV9jb3VudCA9IGNvbnRleHQuc2FtcGxlX2NvdW50O1xuXHRcdFx0fSxcblx0XHRcdHNhbXBsZV9zaXplczogWydpZl9ub3QnLCAnc2FtcGxlX3NpemUnLFxuXHRcdFx0XHRbJ2FycmF5JywgJ3VpbnQzMicsICdzYW1wbGVfY291bnQnXVxuXHRcdFx0XVxuXHRcdH1dLFxuXG5cdFx0c3R6MjogWydleHRlbmQnLCAnRnVsbEJveCcsIHtcblx0XHRcdF9yZXNlcnZlZDogWydza2lwJywgM10sXG5cdFx0XHRmaWVsZF9zaXplOiAndWludDgnLFxuXHRcdFx0c2FtcGxlX2NvdW50OiAndWludDMyJyxcblx0XHRcdF9zYW1wbGVfY291bnRfdG9fc3RibDogZnVuY3Rpb24gKGNvbnRleHQpIHtcblx0XHRcdFx0dGhpcy5iaW5hcnkuZ2V0Q29udGV4dChhdG9tRmlsdGVyKCdzdGJsJykpLl9zYW1wbGVfY291bnQgPSBjb250ZXh0LnNhbXBsZV9jb3VudDtcblx0XHRcdH0sXG5cdFx0XHRzYW1wbGVfc2l6ZXM6IFtcblx0XHRcdFx0J2FycmF5Jyxcblx0XHRcdFx0akJpbmFyeS5UZW1wbGF0ZSh7XG5cdFx0XHRcdFx0Z2V0QmFzZVR5cGU6IGZ1bmN0aW9uIChjb250ZXh0KSB7IHJldHVybiBjb250ZXh0LmZpZWxkX3NpemUgfVxuXHRcdFx0XHR9KSxcblx0XHRcdFx0J3NhbXBsZV9jb3VudCdcblx0XHRcdF1cblx0XHR9XSxcblxuXHRcdHN0c2M6IFsnQXJyYXlCb3gnLCB7XG5cdFx0XHRmaXJzdF9jaHVuazogJ3VpbnQzMicsXG5cdFx0XHRzYW1wbGVzX3Blcl9jaHVuazogJ3VpbnQzMicsXG5cdFx0XHRzYW1wbGVfZGVzY3JpcHRpb25faW5kZXg6ICd1aW50MzInXG5cdFx0fV0sXG5cblx0XHRzdGNvOiBbJ0FycmF5Qm94JywgJ3VpbnQzMiddLFxuXG5cdFx0Y282NDogWydBcnJheUJveCcsICd1aW50NjQnXSxcblxuXHRcdHBhZGI6IFsnZXh0ZW5kJywgJ0Z1bGxCb3gnLCB7XG5cdFx0XHRwYWRzOiBbJ0R5bmFtaWNBcnJheScsICd1aW50MzInLCBqQmluYXJ5LlRlbXBsYXRlKHtcblx0XHRcdFx0YmFzZVR5cGU6IHtcblx0XHRcdFx0XHRfc2tpcDogWydjb25zdCcsIDEsIDBdLFxuXHRcdFx0XHRcdHBhZDogM1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRyZWFkOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXMuYmFzZVJlYWQoKS5wYWQ7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdHdyaXRlOiBmdW5jdGlvbiAocGFkKSB7XG5cdFx0XHRcdFx0dGhpcy5iYXNlV3JpdGUoe3BhZDogcGFkfSk7XG5cdFx0XHRcdH1cblx0XHRcdH0pXVxuXHRcdH1dLFxuXG5cdFx0c3ViczogWydBcnJheUJveCcsIHtcblx0XHRcdHNhbXBsZV9kZWx0YTogJ3VpbnQzMicsXG5cdFx0XHRzdWJzYW1wbGVzOiBbJ0R5bmFtaWNBcnJheScsICd1aW50MTYnLCB7XG5cdFx0XHRcdHN1YnNhbXBsZV9zaXplOiBbJ0ZCVmVyc2lvbmFibGUnLCAndWludDE2JywgJ3VpbnQzMiddLFxuXHRcdFx0XHRzdWJzYW1wbGVfcHJpb3JpdHk6ICd1aW50OCcsXG5cdFx0XHRcdGRpc2NhcmRhYmxlOiAndWludDgnLFxuXHRcdFx0XHRfcmVzZXJ2ZWQ6IFsnc2tpcCcsIDRdXG5cdFx0XHR9XVxuXHRcdH1dLFxuXG5cdFx0bXZleDogJ011bHRpQm94JyxcblxuXHRcdG1laGQ6IFsnZXh0ZW5kJywgJ0Z1bGxCb3gnLCB7XG5cdFx0XHRmcmFnbWVudF9kdXJhdGlvbjogJ0ZCVWludCdcblx0XHR9XSxcblxuXHRcdGVzZHNfc2VjdGlvbjogWydleHRlbmQnLCB7XG5cdFx0XHRkZXNjcmlwdG9yX3R5cGU6ICd1aW50OCcsXG5cdFx0XHRleHRfdHlwZTogakJpbmFyeS5UeXBlKHtcblx0XHRcdFx0cmVhZDogZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdHZhciBuZXh0X2J5dGUgPSB0aGlzLmJpbmFyeS5yZWFkKCd1aW50OCcpO1xuXHRcdFx0XHRcdGlmIChuZXh0X2J5dGUgPT09IDB4ODAgfHwgbmV4dF9ieXRlID09PSAweDgxIHx8IG5leHRfYnl0ZSA9PT0gMHhGRSkge1xuXHRcdFx0XHRcdFx0dGhpcy5iaW5hcnkuc2tpcCgyKTtcblx0XHRcdFx0XHRcdHJldHVybiBuZXh0X2J5dGU7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHRoaXMuYmluYXJ5LnNraXAoLTEpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSxcblx0XHRcdFx0d3JpdGU6IGZ1bmN0aW9uIChmaWxsZXIpIHtcblx0XHRcdFx0XHRpZiAoZmlsbGVyICE9PSB1bmRlZmluZWQpIHRoaXMuYmluYXJ5LndyaXRlKCdibG9iJywgW2ZpbGxlciwgZmlsbGVyLCBmaWxsZXJdKTtcblx0XHRcdFx0fVxuXHRcdFx0fSksXG5cdFx0XHRsZW5ndGg6ICd1aW50OCdcblx0XHR9LCBqQmluYXJ5LlRlbXBsYXRlKHtcblx0XHRcdGdldEJhc2VUeXBlOiBmdW5jdGlvbiAoY29udGV4dCkge1xuXHRcdFx0XHRzd2l0Y2ggKGNvbnRleHQuZGVzY3JpcHRvcl90eXBlKSB7XG5cdFx0XHRcdFx0Y2FzZSAzOiByZXR1cm4ge1xuXHRcdFx0XHRcdFx0ZXNfaWQ6ICd1aW50MTYnLFxuXHRcdFx0XHRcdFx0c3RyZWFtX3ByaW9yaXR5OiAndWludDgnXG5cdFx0XHRcdFx0fTtcblxuXHRcdFx0XHRcdGNhc2UgNDogcmV0dXJuIHtcblx0XHRcdFx0XHRcdHR5cGU6IFsnZW51bScsICd1aW50OCcsIHtcblx0XHRcdFx0XHRcdFx0MTogJ3YxJyxcblx0XHRcdFx0XHRcdFx0MjogJ3YyJyxcblx0XHRcdFx0XHRcdFx0MzI6ICdtcGVnNF92aWRlbycsXG5cdFx0XHRcdFx0XHRcdDMzOiAnbXBlZzRfYXZjX3NwcycsXG5cdFx0XHRcdFx0XHRcdDM0OiAnbXBlZzRfYXZjX3BwcycsXG5cdFx0XHRcdFx0XHRcdDY0OiAnbXBlZzRfYXVkaW8nLFxuXHRcdFx0XHRcdFx0XHQ5NjogJ21wZWcyX3NpbXBsZV92aWRlbycsXG5cdFx0XHRcdFx0XHRcdDk3OiAnbXBlZzJfbWFpbl92aWRlbycsXG5cdFx0XHRcdFx0XHRcdDk4OiAnbXBlZzJfc25yX3ZpZGVvJyxcblx0XHRcdFx0XHRcdFx0OTk6ICdtcGVnMl9zcGF0aWFsX3ZpZGVvJyxcblx0XHRcdFx0XHRcdFx0MTAwOiAnbXBlZzJfaGlnaF92aWRlbycsXG5cdFx0XHRcdFx0XHRcdDEwMTogJ21wZWcyXzQyMl92aWRlbycsXG5cdFx0XHRcdFx0XHRcdDEwMjogJ21wZWc0X2FkdHNfbWFpbicsXG5cdFx0XHRcdFx0XHRcdDEwMzogJ21wZWc0X2FkdHNfbG93X2NvbXBsZXhpdHknLFxuXHRcdFx0XHRcdFx0XHQxMDQ6ICdtcGVnNF9hZHRzX3NjYWxlYWJsZV9zYW1wbGluZycsXG5cdFx0XHRcdFx0XHRcdDEwNTogJ21wZWcyX2FkdHNfbWFpbicsXG5cdFx0XHRcdFx0XHRcdDEwNjogJ21wZWcxX3ZpZGVvJyxcblx0XHRcdFx0XHRcdFx0MTA3OiAnbXBlZzFfYWR0cycsXG5cdFx0XHRcdFx0XHRcdDEwODogJ2pwZWdfdmlkZW8nLFxuXHRcdFx0XHRcdFx0XHQxOTI6ICdwcml2YXRlX2F1ZGlvJyxcblx0XHRcdFx0XHRcdFx0MjA4OiAncHJpdmF0ZV92aWRlbycsXG5cdFx0XHRcdFx0XHRcdDIyNDogJ3BjbV9saXR0bGVfZW5kaWFuX2F1ZGlvJyxcblx0XHRcdFx0XHRcdFx0MjI1OiAndm9yYmlzX2F1ZGlvJyxcblx0XHRcdFx0XHRcdFx0MjI2OiAnZG9sYnlfdjNfYXVkaW8nLFxuXHRcdFx0XHRcdFx0XHQyMjc6ICdhbGF3X2F1ZGlvJyxcblx0XHRcdFx0XHRcdFx0MjI4OiAnbXVsYXdfYXVkaW8nLFxuXHRcdFx0XHRcdFx0XHQyMjk6ICdhZHBjbV9hdWRpbycsXG5cdFx0XHRcdFx0XHRcdDIzMDogJ3BjbV9iaWdfZW5kaWFuX2F1ZGlvJyxcblx0XHRcdFx0XHRcdFx0MjQwOiAneXYxMl92aWRlbycsXG5cdFx0XHRcdFx0XHRcdDI0MTogJ2gyNjRfdmlkZW8nLFxuXHRcdFx0XHRcdFx0XHQyNDI6ICdoMjYzX3ZpZGVvJyxcblx0XHRcdFx0XHRcdFx0MjQzOiAnaDI2MV92aWRlbydcblx0XHRcdFx0XHRcdH1dLFxuXHRcdFx0XHRcdFx0c3RyZWFtX3R5cGU6IFsnZW51bScsIDYsIFtcblx0XHRcdFx0XHRcdFx0bnVsbCxcblx0XHRcdFx0XHRcdFx0J29iamVjdCcsXG5cdFx0XHRcdFx0XHRcdCdjbG9jaycsXG5cdFx0XHRcdFx0XHRcdCdzY2VuZScsXG5cdFx0XHRcdFx0XHRcdCd2aXN1YWwnLFxuXHRcdFx0XHRcdFx0XHQnYXVkaW8nLFxuXHRcdFx0XHRcdFx0XHQnbXBlZy03Jyxcblx0XHRcdFx0XHRcdFx0J2lwbXAnLFxuXHRcdFx0XHRcdFx0XHQnb2NpJyxcblx0XHRcdFx0XHRcdFx0J21wZWctamF2YSdcblx0XHRcdFx0XHRcdF1dLFxuXHRcdFx0XHRcdFx0dXBzdHJlYW1fZmxhZzogMSxcblx0XHRcdFx0XHRcdF9yZXNlcnZlZDogWydjb25zdCcsIDEsIDFdLFxuXHRcdFx0XHRcdFx0YnVmZmVyX3NpemU6IDI0LFxuXHRcdFx0XHRcdFx0bWF4Qml0cmF0ZTogJ3VpbnQzMicsXG5cdFx0XHRcdFx0XHRhdmdCaXRyYXRlOiAndWludDMyJ1xuXHRcdFx0XHRcdH07XG5cblx0XHRcdFx0XHRjYXNlIDU6IHJldHVybiB7XG5cdFx0XHRcdFx0XHRhdWRpb19wcm9maWxlOiBbJ2VudW0nLCA1LCBbXG5cdFx0XHRcdFx0XHRcdG51bGwsXG5cdFx0XHRcdFx0XHRcdCdhYWMtbWFpbicsXG5cdFx0XHRcdFx0XHRcdCdhYWMtbGMnLFxuXHRcdFx0XHRcdFx0XHQnYWFjLXNzcicsXG5cdFx0XHRcdFx0XHRcdCdhYWMtbHRwJyxcblx0XHRcdFx0XHRcdFx0J3NicicsXG5cdFx0XHRcdFx0XHRcdCdhYWMtc2NhbGFibGUnLFxuXHRcdFx0XHRcdFx0XHQndHdpbnZxJyxcblx0XHRcdFx0XHRcdFx0J2NlbHAnLFxuXHRcdFx0XHRcdFx0XHQnaHh2YycsXG5cdFx0XHRcdFx0XHRcdG51bGwsXG5cdFx0XHRcdFx0XHRcdG51bGwsXG5cdFx0XHRcdFx0XHRcdCd0dHNpJyxcblx0XHRcdFx0XHRcdFx0J21haW4tc3ludGhlc2lzJyxcblx0XHRcdFx0XHRcdFx0J3dhdmV0YWJsZS1zeW50aGVzaXMnLFxuXHRcdFx0XHRcdFx0XHQnZ2VuZXJhbC1taWRpJyxcblx0XHRcdFx0XHRcdFx0J2FsZ29yaXRobWljLXN5bnRoZXNpcy1hbmQtYXVkaW8tZWZmZWN0cycsXG5cdFx0XHRcdFx0XHRcdCdlci1hYWMtbGMnLFxuXHRcdFx0XHRcdFx0XHQncmVzZXJ2ZWQnLFxuXHRcdFx0XHRcdFx0XHQnZXItYWFjLWx0cCcsXG5cdFx0XHRcdFx0XHRcdCdlci1hYWMtc2NhbGFibGUnLFxuXHRcdFx0XHRcdFx0XHQnZXItdHdpbnZxJyxcblx0XHRcdFx0XHRcdFx0J2VyLWJzYWMnLFxuXHRcdFx0XHRcdFx0XHQnZXItYWFjLWxkJyxcblx0XHRcdFx0XHRcdFx0J2VyLWNlbHAnLFxuXHRcdFx0XHRcdFx0XHQnZXItaHZ4YycsXG5cdFx0XHRcdFx0XHRcdCdlci1oaWxuJyxcblx0XHRcdFx0XHRcdFx0J2VyLXBhcmFtZXRyaWMnLFxuXHRcdFx0XHRcdFx0XHQnc3NjJyxcblx0XHRcdFx0XHRcdFx0J3BzJyxcblx0XHRcdFx0XHRcdFx0J21wZWctc3Vycm91bmQnXG5cdFx0XHRcdFx0XHRdXSxcblx0XHRcdFx0XHRcdHNhbXBsaW5nX2ZyZXE6IGpCaW5hcnkuVHlwZSh7XG5cdFx0XHRcdFx0XHRcdHNldFBhcmFtczogZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdFx0XHRcdHRoaXMuZnJlcUxpc3QgPSBbOTYwMDAsIDg4MjAwLCA2NDAwMCwgNDgwMDAsIDQ0MTAwLCAzMjAwMCwgMjQwMDAsIDIyMDUwLCAxNjAwMCwgMTIwMDAsIDExMDI1LCA4MDAwLCA3MzUwXTtcblx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0cmVhZDogZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdFx0XHRcdHZhciBmcmVxSW5kZXggPSB0aGlzLmJpbmFyeS5yZWFkKDQpO1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBmcmVxSW5kZXggIT09IDE1ID8gdGhpcy5mcmVxTGlzdFtmcmVxSW5kZXhdIDogdGhpcy5iaW5hcnkucmVhZCgyNCk7XG5cdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdHdyaXRlOiBmdW5jdGlvbiAodmFsdWUpIHtcblx0XHRcdFx0XHRcdFx0XHR2YXIgZnJlcUluZGV4ID0gdGhpcy5mcmVxTGlzdC5pbmRleE9mKHZhbHVlKTtcblx0XHRcdFx0XHRcdFx0XHRpZiAoZnJlcUluZGV4ICE9PSAtMSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5iaW5hcnkud3JpdGUoNCwgZnJlcUluZGV4KTtcblx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5iaW5hcnkud3JpdGUoNCwgMTUpO1xuXHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5iaW5hcnkud3JpdGUoMjQsIHZhbHVlKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0pLFxuXHRcdFx0XHRcdFx0Y2hhbm5lbENvbmZpZzogNCxcblx0XHRcdFx0XHRcdGZyYW1lTGVuZ3RoOiBbJ2VudW0nLCAxLCBbMTAyNCwgOTYwXV0sXG5cdFx0XHRcdFx0XHRkZXBlbmRzT25Db3JlQ29kZXI6IDEsXG5cdFx0XHRcdFx0XHRleHRlbnNpb25GbGFnOiAxXG5cdFx0XHRcdFx0fTtcblxuXHRcdFx0XHRcdGNhc2UgNjogcmV0dXJuIHtcblx0XHRcdFx0XHRcdHNsOiBbJ2NvbnN0JywgJ3VpbnQ4JywgMl1cblx0XHRcdFx0XHR9O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSldLFxuXG5cdFx0ZXNkczogWydleHRlbmQnLCAnRnVsbEJveCcsIHtcblx0XHRcdHNlY3Rpb25zOiBqQmluYXJ5LlRlbXBsYXRlKHtcblx0XHRcdFx0YmFzZVR5cGU6ICdlc2RzX3NlY3Rpb24nLFxuXHRcdFx0XHRyZWFkOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0dmFyIGVuZCA9IHRoaXMuYmluYXJ5LmdldENvbnRleHQoJ19lbmQnKS5fZW5kLCBzZWN0aW9ucyA9IFtdO1xuXHRcdFx0XHRcdHdoaWxlICh0aGlzLmJpbmFyeS50ZWxsKCkgPCBlbmQpIHtcblx0XHRcdFx0XHRcdHNlY3Rpb25zLnB1c2godGhpcy5iYXNlUmVhZCgpKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIHNlY3Rpb25zO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHR3cml0ZTogZnVuY3Rpb24gKHNlY3Rpb25zKSB7XG5cdFx0XHRcdFx0Zm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IHNlY3Rpb25zLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdFx0XHR0aGlzLmJhc2VXcml0ZShzZWN0aW9uc1tpXSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9KVxuXHRcdH1dLFxuXG5cdFx0RmlsZTogWydBdG9tcycsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuYmluYXJ5LnZpZXcuYnl0ZUxlbmd0aCB9XVxuXHR9O1xufSkpO1xuIiwiKGZ1bmN0aW9uIChyb290LCBmYWN0b3J5KSB7XG4gICAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgICAgICAvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXG4gICAgICAgIGRlZmluZShbJ2piaW5hcnknXSwgZmFjdG9yeSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgLy8gTm9kZS4gRG9lcyBub3Qgd29yayB3aXRoIHN0cmljdCBDb21tb25KUywgYnV0XG4gICAgICAgIC8vIG9ubHkgQ29tbW9uSlMtbGlrZSBlbnZpcm9ubWVudHMgdGhhdCBzdXBwb3J0IG1vZHVsZS5leHBvcnRzLFxuICAgICAgICAvLyBsaWtlIE5vZGUuXG4gICAgICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKCdqYmluYXJ5JykpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEJyb3dzZXIgZ2xvYmFscyAocm9vdCBpcyB3aW5kb3cpXG4gICAgICAgIHJvb3QuTVBFR1RTID0gZmFjdG9yeShyb290LmpCaW5hcnkpO1xuICAgIH1cbn0odGhpcywgZnVuY3Rpb24gKGpCaW5hcnkpIHtcblx0J3VzZSBzdHJpY3QnO1xuXG5cdHJldHVybiB7XG5cdFx0UENSOiB7XG5cdFx0XHRwdHM6IDMzLFxuXHRcdFx0X3Jlc2VydmVkOiA2LFxuXHRcdFx0ZXh0ZW5zaW9uOiA5XG5cdFx0fSxcblxuXHRcdER5bmFtaWNBcnJheTogakJpbmFyeS5UZW1wbGF0ZSh7XG5cdFx0XHRzZXRQYXJhbXM6IGZ1bmN0aW9uIChsZW5ndGhUeXBlLCBpdGVtVHlwZSkge1xuXHRcdFx0XHR0aGlzLmJhc2VUeXBlID0ge1xuXHRcdFx0XHRcdGxlbmd0aDogbGVuZ3RoVHlwZSxcblx0XHRcdFx0XHRhcnJheTogWydhcnJheScsIGl0ZW1UeXBlLCAnbGVuZ3RoJ11cblx0XHRcdFx0fTtcblx0XHRcdH0sXG5cdFx0XHRyZWFkOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdHJldHVybiB0aGlzLmJhc2VSZWFkKCkuYXJyYXk7XG5cdFx0XHR9LFxuXHRcdFx0d3JpdGU6IGZ1bmN0aW9uIChhcnJheSkge1xuXHRcdFx0XHR0aGlzLmJhc2VXcml0ZSh7XG5cdFx0XHRcdFx0bGVuZ3RoOiBhcnJheS5sZW5ndGgsXG5cdFx0XHRcdFx0YXJyYXk6IGFycmF5XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH0pLFxuXG5cdFx0RmllbGQ6IFsnRHluYW1pY0FycmF5JywgJ3VpbnQ4JywgJ3VpbnQ4J10sXG5cblx0XHRGbGFnOiBqQmluYXJ5LlRlbXBsYXRlKHtcblx0XHRcdGJhc2VUeXBlOiAxLFxuXHRcdFx0cGFyYW1zOiBbJ2RlcGVuZGVudEZpZWxkJ10sXG5cdFx0XHR3cml0ZTogZnVuY3Rpb24gKHZhbHVlLCBjb250ZXh0KSB7XG5cdFx0XHRcdHRoaXMuYmFzZVdyaXRlKHRoaXMuZGVwZW5kZW50RmllbGQgaW4gY29udGV4dCA/IDEgOiAwKTtcblx0XHRcdH1cblx0XHR9KSxcblxuXHRcdEZsYWdEZXBlbmRlbnQ6IGpCaW5hcnkuVGVtcGxhdGUoe1xuXHRcdFx0cGFyYW1zOiBbJ2ZsYWdGaWVsZCcsICdiYXNlVHlwZSddLFxuXHRcdFx0cmVhZDogZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5iaW5hcnkucmVhZChbJ2lmJywgdGhpcy5mbGFnRmllbGQsIHRoaXMuYmFzZVR5cGVdKTtcblx0XHRcdH1cblx0XHR9KSxcblxuXHRcdEFkYXB0YXRpb25GaWVsZDoge1xuXHRcdFx0bGVuZ3RoOiAndWludDgnLFxuXHRcdFx0X2VuZE9mOiBmdW5jdGlvbiAoY29udGV4dCkgeyByZXR1cm4gdGhpcy5iaW5hcnkudGVsbCgpICsgY29udGV4dC5sZW5ndGggfSxcblx0XHRcdGRpc2NvbnRpbnVpdHk6IDEsXG5cdFx0XHRyYW5kb21BY2Nlc3M6IDEsXG5cdFx0XHRwcmlvcml0eTogMSxcblx0XHRcdF9oYXNQQ1I6IFsnRmxhZycsICdwY3InXSxcblx0XHRcdF9oYXNPUENSOiBbJ0ZsYWcnLCAnb3BjciddLFxuXHRcdFx0X2hhc1NwbGljaW5nUG9pbnQ6IFsnRmxhZycsICdzcGxpY2VDb3VudGRvd24nXSxcblx0XHRcdF9oYXNUcmFuc3BvcnRQcml2YXRlRGF0YTogWydGbGFnJywgJ3ByaXZhdGVEYXRhJ10sXG5cdFx0XHRfaGFzRXh0ZW5zaW9uOiBbJ0ZsYWcnLCAnZXh0ZW5zaW9uJ10sXG5cdFx0XHRwY3I6IFsnRmxhZ0RlcGVuZGVudCcsICdfaGFzUENSJywgJ1BDUiddLFxuXHRcdFx0b3BjcjogWydGbGFnRGVwZW5kZW50JywgJ19oYXNPUENSJywgJ1BDUiddLFxuXHRcdFx0c3BsaWNlQ291bnRkb3duOiBbJ0ZsYWdEZXBlbmRlbnQnLCAnX2hhc1NwbGljaW5nUG9pbnQnLCAndWludDgnXSxcblx0XHRcdHByaXZhdGVEYXRhOiBbJ0ZsYWdEZXBlbmRlbnQnLCAnX2hhc1RyYW5zcG9ydFByaXZhdGVEYXRhJywgJ0ZpZWxkJ10sXG5cdFx0XHRleHRlbnNpb246IFsnRmxhZ0RlcGVuZGVudCcsICdfaGFzRXh0ZW5zaW9uJywgJ0ZpZWxkJ10sXG5cdFx0XHRfdG9FbmQ6IGZ1bmN0aW9uIChjb250ZXh0KSB7IHRoaXMuYmluYXJ5LnNlZWsoY29udGV4dC5fZW5kT2YpIH1cblx0XHR9LFxuXG5cdFx0RVM6IHtcblx0XHRcdF9yYXdTdHJlYW06IFsnYmxvYicsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuYmluYXJ5LmdldENvbnRleHQoMSkuX2VuZG9mIC0gdGhpcy5iaW5hcnkudGVsbCgpIH1dXG5cdFx0fSxcblxuXHRcdFBBVEl0ZW06IFsnYXJyYXknLCB7XG5cdFx0XHRwcm9ncmFtTnVtYmVyOiAndWludDE2Jyxcblx0XHRcdF9yZXNlcnZlZDogMyxcblx0XHRcdHBpZDogMTNcblx0XHR9LCBmdW5jdGlvbiAoY29udGV4dCkgeyByZXR1cm4gY29udGV4dC5fZGF0YUxlbmd0aCAvIDQgfV0sXG5cblx0XHRQTVRIZWFkZXI6IHtcblx0XHRcdF9yZXNlcnZlZDogMyxcblx0XHRcdHBjclBJRDogMTMsXG5cdFx0XHRfcmVzZXJ2ZWQyOiA0LFxuXHRcdFx0cHJvZ3JhbURlc2NyaXB0b3JzOiBbJ0R5bmFtaWNBcnJheScsIDEyLCAndWludDgnXVxuXHRcdH0sXG5cblx0XHRQTVRJdGVtOiB7XG5cdFx0XHRzdHJlYW1UeXBlOiAndWludDgnLFxuXHRcdFx0X3Jlc2VydmVkOiAzLFxuXHRcdFx0ZWxlbWVudGFyeVBJRDogMTMsXG5cdFx0XHRfcmVzZXJ2ZWQyOiA0LFxuXHRcdFx0ZXNJbmZvOiBbJ0R5bmFtaWNBcnJheScsIDEyLCAndWludDgnXVxuXHRcdH0sXG5cblx0XHRQcml2YXRlU2VjdGlvbjogWydleHRlbmQnLCB7XG5cdFx0XHRwb2ludGVyRmllbGQ6IFsnaWYnLCAncGF5bG9hZFN0YXJ0JywgJ3VpbnQ4J10sXG5cdFx0XHR0YWJsZUlkOiBbJ2VudW0nLCAndWludDgnLCBbJ1BBVCcsICdDQVQnLCAnUE1UJ11dLFxuXHRcdFx0aXNMb25nU2VjdGlvbjogMSxcblx0XHRcdGlzUHJpdmF0ZTogMSxcblx0XHRcdF9yZXNlcnZlZDogMixcblx0XHRcdF9zZWN0aW9uTGVuZ3RoOiAxMlxuXHRcdH0sIFsnaWYnLCAnaXNMb25nU2VjdGlvbicsIHtcblx0XHRcdFx0dGFibGVJZEV4dDogJ3VpbnQxNicsXG5cdFx0XHRcdF9yZXNlcnZlZDogMixcblx0XHRcdFx0dmVyc2lvbk51bWJlcjogNSxcblx0XHRcdFx0Y3VycmVudE5leHRJbmRpY2F0b3I6IDEsXG5cdFx0XHRcdHNlY3Rpb25OdW1iZXI6ICd1aW50OCcsXG5cdFx0XHRcdGxhc3RTZWN0aW9uTnVtYmVyOiAndWludDgnLFxuXG5cdFx0XHRcdF9kYXRhTGVuZ3RoOiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLmJpbmFyeS5nZXRDb250ZXh0KDEpLl9zZWN0aW9uTGVuZ3RoIC0gOSB9LFxuXG5cdFx0XHRcdGRhdGE6IGpCaW5hcnkuVHlwZSh7XG5cdFx0XHRcdFx0cmVhZDogZnVuY3Rpb24gKGhlYWRlcikge1xuXHRcdFx0XHRcdFx0dmFyIGRhdGEsIGZpbGUgPSB0aGlzLmJpbmFyeS5nZXRDb250ZXh0KDMpLCBkYXRhTGVuZ3RoID0gaGVhZGVyLl9kYXRhTGVuZ3RoO1xuXG5cdFx0XHRcdFx0XHRzd2l0Y2ggKHRoaXMuYmluYXJ5LmdldENvbnRleHQoMSkudGFibGVJZCkge1xuXHRcdFx0XHRcdFx0XHRjYXNlICdQQVQnOlxuXHRcdFx0XHRcdFx0XHRcdGRhdGEgPSB0aGlzLmJpbmFyeS5yZWFkKCdQQVRJdGVtJyk7XG5cblx0XHRcdFx0XHRcdFx0XHRpZiAoaGVhZGVyLnNlY3Rpb25OdW1iZXIgPT0gMCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0ZmlsZS5wYXQgPSB7fTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHRcdFx0XHRcdGZpbGUucGF0W2RhdGFbaV0ucGlkXSA9IGRhdGFbaV07XG5cdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0XHRcdFx0Y2FzZSAnUE1UJzpcblx0XHRcdFx0XHRcdFx0XHRkYXRhID0gdGhpcy5iaW5hcnkucmVhZCgnUE1USGVhZGVyJyk7XG5cblx0XHRcdFx0XHRcdFx0XHRkYXRhLm1hcHBpbmdzID0gW107XG5cblx0XHRcdFx0XHRcdFx0XHRkYXRhTGVuZ3RoIC09IDQgKyBkYXRhLnByb2dyYW1EZXNjcmlwdG9ycy5sZW5ndGg7XG5cblx0XHRcdFx0XHRcdFx0XHR3aGlsZSAoZGF0YUxlbmd0aCA+IDApIHtcblx0XHRcdFx0XHRcdFx0XHRcdHZhciBtYXBwaW5nID0gdGhpcy5iaW5hcnkucmVhZCgnUE1USXRlbScpO1xuXHRcdFx0XHRcdFx0XHRcdFx0ZGF0YS5tYXBwaW5ncy5wdXNoKG1hcHBpbmcpO1xuXHRcdFx0XHRcdFx0XHRcdFx0ZGF0YUxlbmd0aCAtPSA1ICsgbWFwcGluZy5lc0luZm8ubGVuZ3RoO1xuXHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdGlmIChoZWFkZXIuc2VjdGlvbk51bWJlciA9PSAwKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRmaWxlLnBtdCA9IHt9O1xuXHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5tYXBwaW5ncy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRcdFx0XHRcdFx0dmFyIG1hcHBpbmcgPSBkYXRhLm1hcHBpbmdzW2ldO1xuXHRcdFx0XHRcdFx0XHRcdFx0ZmlsZS5wbXRbbWFwcGluZy5lbGVtZW50YXJ5UElEXSA9IG1hcHBpbmc7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdHJldHVybiBkYXRhO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSksXG5cblx0XHRcdFx0Y3JjMzI6ICd1aW50MzInXG5cdFx0XHR9LFxuXHRcdFx0WydibG9iJywgJ19zZWN0aW9uTGVuZ3RoJ11cblx0XHRdXSxcblxuXHRcdFBhY2tldDoge1xuXHRcdFx0X3N0YXJ0b2Y6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuYmluYXJ5LnRlbGwoKSB9LFxuXHRcdFx0X2VuZG9mOiBmdW5jdGlvbiAoY29udGV4dCkgeyByZXR1cm4gY29udGV4dC5fc3RhcnRvZiArIDE4OCB9LFxuXG5cdFx0XHRfc3luY0J5dGU6IFsnY29uc3QnLCAndWludDgnLCAweDQ3LCB0cnVlXSxcblxuXHRcdFx0dHJhbnNwb3J0RXJyb3I6IDEsXG5cdFx0XHRwYXlsb2FkU3RhcnQ6IDEsXG5cdFx0XHR0cmFuc3BvcnRQcmlvcml0eTogMSxcblx0XHRcdHBpZDogMTMsXG5cblx0XHRcdHNjcmFtYmxpbmdDb250cm9sOiAyLFxuXHRcdFx0X2hhc0FkYXB0YXRpb25GaWVsZDogWydGbGFnJywgJ2FkYXB0YXRpb25GaWVsZCddLFxuXHRcdFx0X2hhc1BheWxvYWQ6IFsnRmxhZycsICdwYXlsb2FkJ10sXG5cdFx0XHRjb250Q291bnRlcjogNCxcblxuXHRcdFx0YWRhcHRhdGlvbkZpZWxkOiBbJ0ZsYWdEZXBlbmRlbnQnLCAnX2hhc0FkYXB0YXRpb25GaWVsZCcsICdBZGFwdGF0aW9uRmllbGQnXSxcblxuXHRcdFx0cGF5bG9hZDogWydGbGFnRGVwZW5kZW50JywgJ19oYXNQYXlsb2FkJywgakJpbmFyeS5UZW1wbGF0ZSh7XG5cdFx0XHRcdGdldEJhc2VUeXBlOiBmdW5jdGlvbiAoY29udGV4dCkge1xuXHRcdFx0XHRcdHZhciBwaWQgPSBjb250ZXh0LnBpZCwgZmlsZSA9IHRoaXMuYmluYXJ5LmdldENvbnRleHQoMSk7XG5cdFx0XHRcdFx0aWYgKHBpZCA8IDIgfHwgcGlkIGluIGZpbGUucGF0KSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gJ1ByaXZhdGVTZWN0aW9uJztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYgKHBpZCBpbiBmaWxlLnBtdCkge1xuXHRcdFx0XHRcdFx0cmV0dXJuICdFUyc7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9KV0sXG5cblx0XHRcdF90b0VuZDogZnVuY3Rpb24gKGNvbnRleHQpIHsgdGhpcy5iaW5hcnkuc2Vlayhjb250ZXh0Ll9lbmRvZikgfVxuXHRcdH0sXG5cblx0XHRGaWxlOiBqQmluYXJ5LlRlbXBsYXRlKHtcblx0XHRcdGJhc2VUeXBlOiBbJ2FycmF5JywgJ1BhY2tldCddLFxuXHRcdFx0cmVhZDogZnVuY3Rpb24gKCkge1xuXHRcdFx0XHR0aGlzLnBhdCA9IHt9O1xuXHRcdFx0XHR0aGlzLnBtdCA9IHt9O1xuXHRcdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFx0XHRcdHJldHVybiB0aGlzLmJpbmFyeS5pbkNvbnRleHQodGhpcywgZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdHJldHVybiBzZWxmLmJhc2VSZWFkKCk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSxcblx0XHRcdHdyaXRlOiBmdW5jdGlvbiAocGFja2V0cykge1xuXHRcdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFx0XHRcdHRoaXMuYmluYXJ5LmluQ29udGV4dCh0aGlzLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0c2VsZi5iYXNlV3JpdGUocGFja2V0cyk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH0pXG5cdH07XG59KSk7IiwiKGZ1bmN0aW9uIChyb290LCBmYWN0b3J5KSB7XG4gICAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgICAgICAvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXG4gICAgICAgIGRlZmluZShbJ2piaW5hcnknXSwgZmFjdG9yeSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgLy8gTm9kZS4gRG9lcyBub3Qgd29yayB3aXRoIHN0cmljdCBDb21tb25KUywgYnV0XG4gICAgICAgIC8vIG9ubHkgQ29tbW9uSlMtbGlrZSBlbnZpcm9ubWVudHMgdGhhdCBzdXBwb3J0IG1vZHVsZS5leHBvcnRzLFxuICAgICAgICAvLyBsaWtlIE5vZGUuXG4gICAgICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKCdqYmluYXJ5JykpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEJyb3dzZXIgZ2xvYmFscyAocm9vdCBpcyB3aW5kb3cpXG4gICAgICAgIHJvb3QuUEVTID0gZmFjdG9yeShyb290LmpCaW5hcnkpO1xuICAgIH1cbn0odGhpcywgZnVuY3Rpb24gKGpCaW5hcnkpIHtcblx0J3VzZSBzdHJpY3QnO1xuXG5cdHJldHVybiB7XG5cdFx0RmxhZzogakJpbmFyeS5UZW1wbGF0ZSh7XG5cdFx0XHRiYXNlVHlwZTogMSxcblx0XHRcdHBhcmFtczogWydkZXBlbmRlbnRGaWVsZCddLFxuXHRcdFx0d3JpdGU6IGZ1bmN0aW9uICh2YWx1ZSwgY29udGV4dCkge1xuXHRcdFx0XHR0aGlzLmJhc2VXcml0ZSh0aGlzLmRlcGVuZGVudEZpZWxkIGluIGNvbnRleHQgPyAxIDogMCk7XG5cdFx0XHR9XG5cdFx0fSksXG5cblx0XHRGbGFnRGVwZW5kZW50OiBqQmluYXJ5LlRlbXBsYXRlKHtcblx0XHRcdHBhcmFtczogWydmbGFnRmllbGQnLCAnYmFzZVR5cGUnXSxcblx0XHRcdHJlYWQ6IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMuYmluYXJ5LnJlYWQoWydpZicsIHRoaXMuZmxhZ0ZpZWxkLCB0aGlzLmJhc2VUeXBlXSk7XG5cdFx0XHR9XG5cdFx0fSksXG5cblx0XHRQRVNUaW1lU3RhbXA6IGpCaW5hcnkuVGVtcGxhdGUoe1xuXHRcdFx0c2V0UGFyYW1zOiBmdW5jdGlvbiAocHJlZml4KSB7XG5cdFx0XHRcdHZhciBza2lwQml0ID0gWydjb25zdCcsIDEsIDEsIHRydWVdO1xuXHRcdFx0XHR0aGlzLmJhc2VUeXBlID0ge1xuXHRcdFx0XHRcdF9wcmVmaXg6IFsnY29uc3QnLCA0LCBwcmVmaXgsIHRydWVdLFxuXHRcdFx0XHRcdGhpUGFydDogMyxcblx0XHRcdFx0XHRfc2tpcDE6IHNraXBCaXQsXG5cdFx0XHRcdFx0bWlkUGFydDogMTUsXG5cdFx0XHRcdFx0X3NraXAyOiBza2lwQml0LFxuXHRcdFx0XHRcdGxvUGFydDogMTUsXG5cdFx0XHRcdFx0X3NraXAzOiBza2lwQml0XG5cdFx0XHRcdH07XG5cdFx0XHR9LFxuXHRcdFx0cmVhZDogZnVuY3Rpb24gKCkge1xuXHRcdFx0XHR2YXIgcGFydHMgPSB0aGlzLmJhc2VSZWFkKCk7XG5cdFx0XHRcdHJldHVybiBwYXJ0cy5sb1BhcnQgfCAocGFydHMubWlkUGFydCA8PCAxNSkgfCAocGFydHMuaGlQYXJ0IDw8IDMwKTtcblx0XHRcdH0sXG5cdFx0XHR3cml0ZTogZnVuY3Rpb24gKHZhbHVlKSB7XG5cdFx0XHRcdHRoaXMuYmFzZVdyaXRlKHtcblx0XHRcdFx0XHRoaVBhcnQ6IHZhbHVlID4+PiAzMCxcblx0XHRcdFx0XHRtaWRQYXJ0OiAodmFsdWUgPj4+IDE1KSAmIH4oLTEgPDwgMTUpLFxuXHRcdFx0XHRcdGxvUGFydDogdmFsdWUgJiB+KC0xIDw8IDE1KVxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9KSxcblxuXHRcdFBFU1BhY2tldDogWydleHRlbmQnLCB7XG5cdFx0XHRfc3RhcnRDb2RlMDogWydjb25zdCcsICd1aW50OCcsIDAsIHRydWVdLFxuXHRcdFx0X3N0YXJ0Q29kZTE6IFsnY29uc3QnLCAndWludDgnLCAwLCB0cnVlXSxcblx0XHRcdF9zdGFydENvZGUyOiBbJ2NvbnN0JywgJ3VpbnQ4JywgMSwgdHJ1ZV0sXG5cdFx0XHRzdHJlYW1JZDogJ3VpbnQ4Jyxcblx0XHRcdGxlbmd0aDogJ3VpbnQxNicsXG5cdFx0XHRfZW5kOiBmdW5jdGlvbiAoY29udGV4dCkge1xuXHRcdFx0XHR2YXIgcG9zID0gdGhpcy5iaW5hcnkudGVsbCgpLCBsZW5ndGggPSBjb250ZXh0Lmxlbmd0aDtcblxuXHRcdFx0XHRpZiAobGVuZ3RoKSB7XG5cdFx0XHRcdFx0cG9zICs9IGxlbmd0aDtcblx0XHRcdFx0XHRpZiAocG9zID4gdGhpcy52aWV3LmJ5dGVMZW5ndGggLSA0KSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gcG9zO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHR2YXIgYnl0ZXMgPSB0aGlzLmJpbmFyeS5yZWFkKFsnYmxvYicsIDRdLCBwb3MpO1xuXHRcdFx0XHRcdGlmIChieXRlc1swXSA9PT0gMCAmJiBieXRlc1sxXSA9PT0gMCAmJiBieXRlc1syXSA9PT0gMSAmJiAoYnl0ZXNbM10gJiAweDgwKSkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHBvcztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cG9zIC09IGxlbmd0aDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8qXG5cdFx0XHRcdG5vdCBzdXJlIGlmIGl0IGNvcnJlY3RseSBjb3ZlcnMgY2FzZXMgd2hlcmUgYGxlbmd0aGA9PTBcblx0XHRcdFx0KGFjY29yZGluZyB0byBzcGVjaWZpY2F0aW9uLCBpdCBtYXkgYmUgd3JpdHRlbiBhcyB6ZXJvIGZvciB2aWRlbyBzdHJlYW1zIG9mIHVuZGVmaW5lZCBsZW5ndGgpXG5cdFx0XHRcdGJ1dCBzaG91bGQgd29yayBmb3IgSC4yNjQgc3RyZWFtcyBzaW5jZSBOQUwgdW5pdCB0eXBlcyBhbHdheXMgaGF2ZSBjbGVhciBoaWdoZXN0IGJpdCAoYGZvcmJpZGRlbl96ZXJvX2JpdGApXG5cdFx0XHRcdCovXG5cdFx0XHRcdHZhciBmaWxlRW5kID0gdGhpcy52aWV3LmJ5dGVMZW5ndGgsIGJ5dGVzID0gdGhpcy5iaW5hcnkucmVhZCgnYmxvYicsIHBvcyk7XG5cdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgYnl0ZXMubGVuZ3RoIC0gNDsgaSsrKSB7XG5cdFx0XHRcdFx0aWYgKGJ5dGVzW2ldID09PSAwICYmIGJ5dGVzW2kgKyAxXSA9PT0gMCAmJiBieXRlc1tpICsgMl0gPT09IDEgJiYgKGJ5dGVzW2kgKyAzXSAmIDB4ODApKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gcG9zICsgaTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIGZpbGVFbmQ7XG5cdFx0XHR9XG5cdFx0fSwgakJpbmFyeS5UZW1wbGF0ZSh7XG5cdFx0XHRiYXNlVHlwZToge1xuXHRcdFx0XHRfbWFya2VyOiBbJ2NvbnN0JywgMiwgMiwgdHJ1ZV0sXG5cdFx0XHRcdHNjcmFtYmxpbmdDb250cm9sOiBbJ2VudW0nLCAyLCBbJ25vdF9zY3JhbWJsZWQnXV0sXG5cdFx0XHRcdHByaW9yaXR5OiAxLFxuXHRcdFx0XHRkYXRhQWxpZ25tZW50SW5kaWNhdG9yOiAxLFxuXHRcdFx0XHRoYXNDb3B5cmlnaHQ6IDEsXG5cdFx0XHRcdGlzT3JpZ2luYWw6IDEsXG5cdFx0XHRcdF9oYXNQVFM6IFsnRmxhZycsICdwdHMnXSxcblx0XHRcdFx0X2hhc0RUUzogWydGbGFnJywgJ2R0cyddLFxuXHRcdFx0XHRfaGFzRVNDUjogWydGbGFnJywgJ2VzY3InXSxcblx0XHRcdFx0X2hhc0VTUmF0ZTogWydGbGFnJywgJ2VzUmF0ZSddLFxuXHRcdFx0XHRkc21Ucmlja01vZGU6IDEsXG5cdFx0XHRcdF9oYXNBZGRpdGlvbmFsQ29weUluZm86IFsnRmxhZycsICdhZGRpdGlvbmFsQ29weUluZm8nXSxcblx0XHRcdFx0X2hhc1BFU0NSQzogWydGbGFnJywgJ3Blc0NSQyddLFxuXHRcdFx0XHRfaGFzRXh0ZW5zaW9uOiBbJ0ZsYWcnLCAnZXh0ZW5zaW9uJ10sXG5cdFx0XHRcdGRhdGFMZW5ndGg6ICd1aW50OCcsXG5cdFx0XHRcdF9oZWFkZXJFbmQ6IGZ1bmN0aW9uIChjb250ZXh0KSB7IHJldHVybiB0aGlzLmJpbmFyeS50ZWxsKCkgKyBjb250ZXh0LmRhdGFMZW5ndGggfSxcblx0XHRcdFx0cHRzOiBbJ0ZsYWdEZXBlbmRlbnQnLCAnX2hhc1BUUycsIFsnaWYnLCAnX2hhc0RUUycsIFsnUEVTVGltZVN0YW1wJywgM10sIFsnUEVTVGltZVN0YW1wJywgMl1dXSxcblx0XHRcdFx0ZHRzOiBbJ0ZsYWdEZXBlbmRlbnQnLCAnX2hhc0RUUycsIFsnUEVTVGltZVN0YW1wJywgMV1dLFxuXHRcdFx0XHRfdG9IZWFkZXJFbmQ6IGZ1bmN0aW9uIChjb250ZXh0KSB7IHRoaXMuYmluYXJ5LnNlZWsoY29udGV4dC5faGVhZGVyRW5kKSB9XG5cdFx0XHR9LFxuXHRcdFx0cmVhZDogZnVuY3Rpb24gKCkge1xuXHRcdFx0XHR2YXIgcG9zID0gdGhpcy5iaW5hcnkudGVsbCgpO1xuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdHJldHVybiB0aGlzLmJhc2VSZWFkKCk7XG5cdFx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0XHR0aGlzLmJpbmFyeS5zZWVrKHBvcyk7XG5cdFx0XHRcdFx0dGhpcy5iaW5hcnkudmlldy5hbGlnbkJ5KCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9KSwge1xuXHRcdFx0ZGF0YTogWydibG9iJywgZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5iaW5hcnkuZ2V0Q29udGV4dCgnX2VuZCcpLl9lbmQgLSB0aGlzLmJpbmFyeS50ZWxsKCkgfV1cblx0XHR9XVxuXHR9O1xufSkpOyIsIi8qISBodHRwczovL210aHMuYmUvcHVueWNvZGUgdjEuNC4xIGJ5IEBtYXRoaWFzICovXG47KGZ1bmN0aW9uKHJvb3QpIHtcblxuXHQvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGVzICovXG5cdHZhciBmcmVlRXhwb3J0cyA9IHR5cGVvZiBleHBvcnRzID09ICdvYmplY3QnICYmIGV4cG9ydHMgJiZcblx0XHQhZXhwb3J0cy5ub2RlVHlwZSAmJiBleHBvcnRzO1xuXHR2YXIgZnJlZU1vZHVsZSA9IHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlICYmXG5cdFx0IW1vZHVsZS5ub2RlVHlwZSAmJiBtb2R1bGU7XG5cdHZhciBmcmVlR2xvYmFsID0gdHlwZW9mIGdsb2JhbCA9PSAnb2JqZWN0JyAmJiBnbG9iYWw7XG5cdGlmIChcblx0XHRmcmVlR2xvYmFsLmdsb2JhbCA9PT0gZnJlZUdsb2JhbCB8fFxuXHRcdGZyZWVHbG9iYWwud2luZG93ID09PSBmcmVlR2xvYmFsIHx8XG5cdFx0ZnJlZUdsb2JhbC5zZWxmID09PSBmcmVlR2xvYmFsXG5cdCkge1xuXHRcdHJvb3QgPSBmcmVlR2xvYmFsO1xuXHR9XG5cblx0LyoqXG5cdCAqIFRoZSBgcHVueWNvZGVgIG9iamVjdC5cblx0ICogQG5hbWUgcHVueWNvZGVcblx0ICogQHR5cGUgT2JqZWN0XG5cdCAqL1xuXHR2YXIgcHVueWNvZGUsXG5cblx0LyoqIEhpZ2hlc3QgcG9zaXRpdmUgc2lnbmVkIDMyLWJpdCBmbG9hdCB2YWx1ZSAqL1xuXHRtYXhJbnQgPSAyMTQ3NDgzNjQ3LCAvLyBha2EuIDB4N0ZGRkZGRkYgb3IgMl4zMS0xXG5cblx0LyoqIEJvb3RzdHJpbmcgcGFyYW1ldGVycyAqL1xuXHRiYXNlID0gMzYsXG5cdHRNaW4gPSAxLFxuXHR0TWF4ID0gMjYsXG5cdHNrZXcgPSAzOCxcblx0ZGFtcCA9IDcwMCxcblx0aW5pdGlhbEJpYXMgPSA3Mixcblx0aW5pdGlhbE4gPSAxMjgsIC8vIDB4ODBcblx0ZGVsaW1pdGVyID0gJy0nLCAvLyAnXFx4MkQnXG5cblx0LyoqIFJlZ3VsYXIgZXhwcmVzc2lvbnMgKi9cblx0cmVnZXhQdW55Y29kZSA9IC9eeG4tLS8sXG5cdHJlZ2V4Tm9uQVNDSUkgPSAvW15cXHgyMC1cXHg3RV0vLCAvLyB1bnByaW50YWJsZSBBU0NJSSBjaGFycyArIG5vbi1BU0NJSSBjaGFyc1xuXHRyZWdleFNlcGFyYXRvcnMgPSAvW1xceDJFXFx1MzAwMlxcdUZGMEVcXHVGRjYxXS9nLCAvLyBSRkMgMzQ5MCBzZXBhcmF0b3JzXG5cblx0LyoqIEVycm9yIG1lc3NhZ2VzICovXG5cdGVycm9ycyA9IHtcblx0XHQnb3ZlcmZsb3cnOiAnT3ZlcmZsb3c6IGlucHV0IG5lZWRzIHdpZGVyIGludGVnZXJzIHRvIHByb2Nlc3MnLFxuXHRcdCdub3QtYmFzaWMnOiAnSWxsZWdhbCBpbnB1dCA+PSAweDgwIChub3QgYSBiYXNpYyBjb2RlIHBvaW50KScsXG5cdFx0J2ludmFsaWQtaW5wdXQnOiAnSW52YWxpZCBpbnB1dCdcblx0fSxcblxuXHQvKiogQ29udmVuaWVuY2Ugc2hvcnRjdXRzICovXG5cdGJhc2VNaW51c1RNaW4gPSBiYXNlIC0gdE1pbixcblx0Zmxvb3IgPSBNYXRoLmZsb29yLFxuXHRzdHJpbmdGcm9tQ2hhckNvZGUgPSBTdHJpbmcuZnJvbUNoYXJDb2RlLFxuXG5cdC8qKiBUZW1wb3JhcnkgdmFyaWFibGUgKi9cblx0a2V5O1xuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdC8qKlxuXHQgKiBBIGdlbmVyaWMgZXJyb3IgdXRpbGl0eSBmdW5jdGlvbi5cblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IHR5cGUgVGhlIGVycm9yIHR5cGUuXG5cdCAqIEByZXR1cm5zIHtFcnJvcn0gVGhyb3dzIGEgYFJhbmdlRXJyb3JgIHdpdGggdGhlIGFwcGxpY2FibGUgZXJyb3IgbWVzc2FnZS5cblx0ICovXG5cdGZ1bmN0aW9uIGVycm9yKHR5cGUpIHtcblx0XHR0aHJvdyBuZXcgUmFuZ2VFcnJvcihlcnJvcnNbdHlwZV0pO1xuXHR9XG5cblx0LyoqXG5cdCAqIEEgZ2VuZXJpYyBgQXJyYXkjbWFwYCB1dGlsaXR5IGZ1bmN0aW9uLlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gdGhhdCBnZXRzIGNhbGxlZCBmb3IgZXZlcnkgYXJyYXlcblx0ICogaXRlbS5cblx0ICogQHJldHVybnMge0FycmF5fSBBIG5ldyBhcnJheSBvZiB2YWx1ZXMgcmV0dXJuZWQgYnkgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uLlxuXHQgKi9cblx0ZnVuY3Rpb24gbWFwKGFycmF5LCBmbikge1xuXHRcdHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cdFx0dmFyIHJlc3VsdCA9IFtdO1xuXHRcdHdoaWxlIChsZW5ndGgtLSkge1xuXHRcdFx0cmVzdWx0W2xlbmd0aF0gPSBmbihhcnJheVtsZW5ndGhdKTtcblx0XHR9XG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fVxuXG5cdC8qKlxuXHQgKiBBIHNpbXBsZSBgQXJyYXkjbWFwYC1saWtlIHdyYXBwZXIgdG8gd29yayB3aXRoIGRvbWFpbiBuYW1lIHN0cmluZ3Mgb3IgZW1haWxcblx0ICogYWRkcmVzc2VzLlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gZG9tYWluIFRoZSBkb21haW4gbmFtZSBvciBlbWFpbCBhZGRyZXNzLlxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gdGhhdCBnZXRzIGNhbGxlZCBmb3IgZXZlcnlcblx0ICogY2hhcmFjdGVyLlxuXHQgKiBAcmV0dXJucyB7QXJyYXl9IEEgbmV3IHN0cmluZyBvZiBjaGFyYWN0ZXJzIHJldHVybmVkIGJ5IHRoZSBjYWxsYmFja1xuXHQgKiBmdW5jdGlvbi5cblx0ICovXG5cdGZ1bmN0aW9uIG1hcERvbWFpbihzdHJpbmcsIGZuKSB7XG5cdFx0dmFyIHBhcnRzID0gc3RyaW5nLnNwbGl0KCdAJyk7XG5cdFx0dmFyIHJlc3VsdCA9ICcnO1xuXHRcdGlmIChwYXJ0cy5sZW5ndGggPiAxKSB7XG5cdFx0XHQvLyBJbiBlbWFpbCBhZGRyZXNzZXMsIG9ubHkgdGhlIGRvbWFpbiBuYW1lIHNob3VsZCBiZSBwdW55Y29kZWQuIExlYXZlXG5cdFx0XHQvLyB0aGUgbG9jYWwgcGFydCAoaS5lLiBldmVyeXRoaW5nIHVwIHRvIGBAYCkgaW50YWN0LlxuXHRcdFx0cmVzdWx0ID0gcGFydHNbMF0gKyAnQCc7XG5cdFx0XHRzdHJpbmcgPSBwYXJ0c1sxXTtcblx0XHR9XG5cdFx0Ly8gQXZvaWQgYHNwbGl0KHJlZ2V4KWAgZm9yIElFOCBjb21wYXRpYmlsaXR5LiBTZWUgIzE3LlxuXHRcdHN0cmluZyA9IHN0cmluZy5yZXBsYWNlKHJlZ2V4U2VwYXJhdG9ycywgJ1xceDJFJyk7XG5cdFx0dmFyIGxhYmVscyA9IHN0cmluZy5zcGxpdCgnLicpO1xuXHRcdHZhciBlbmNvZGVkID0gbWFwKGxhYmVscywgZm4pLmpvaW4oJy4nKTtcblx0XHRyZXR1cm4gcmVzdWx0ICsgZW5jb2RlZDtcblx0fVxuXG5cdC8qKlxuXHQgKiBDcmVhdGVzIGFuIGFycmF5IGNvbnRhaW5pbmcgdGhlIG51bWVyaWMgY29kZSBwb2ludHMgb2YgZWFjaCBVbmljb2RlXG5cdCAqIGNoYXJhY3RlciBpbiB0aGUgc3RyaW5nLiBXaGlsZSBKYXZhU2NyaXB0IHVzZXMgVUNTLTIgaW50ZXJuYWxseSxcblx0ICogdGhpcyBmdW5jdGlvbiB3aWxsIGNvbnZlcnQgYSBwYWlyIG9mIHN1cnJvZ2F0ZSBoYWx2ZXMgKGVhY2ggb2Ygd2hpY2hcblx0ICogVUNTLTIgZXhwb3NlcyBhcyBzZXBhcmF0ZSBjaGFyYWN0ZXJzKSBpbnRvIGEgc2luZ2xlIGNvZGUgcG9pbnQsXG5cdCAqIG1hdGNoaW5nIFVURi0xNi5cblx0ICogQHNlZSBgcHVueWNvZGUudWNzMi5lbmNvZGVgXG5cdCAqIEBzZWUgPGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9qYXZhc2NyaXB0LWVuY29kaW5nPlxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGUudWNzMlxuXHQgKiBAbmFtZSBkZWNvZGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IHN0cmluZyBUaGUgVW5pY29kZSBpbnB1dCBzdHJpbmcgKFVDUy0yKS5cblx0ICogQHJldHVybnMge0FycmF5fSBUaGUgbmV3IGFycmF5IG9mIGNvZGUgcG9pbnRzLlxuXHQgKi9cblx0ZnVuY3Rpb24gdWNzMmRlY29kZShzdHJpbmcpIHtcblx0XHR2YXIgb3V0cHV0ID0gW10sXG5cdFx0ICAgIGNvdW50ZXIgPSAwLFxuXHRcdCAgICBsZW5ndGggPSBzdHJpbmcubGVuZ3RoLFxuXHRcdCAgICB2YWx1ZSxcblx0XHQgICAgZXh0cmE7XG5cdFx0d2hpbGUgKGNvdW50ZXIgPCBsZW5ndGgpIHtcblx0XHRcdHZhbHVlID0gc3RyaW5nLmNoYXJDb2RlQXQoY291bnRlcisrKTtcblx0XHRcdGlmICh2YWx1ZSA+PSAweEQ4MDAgJiYgdmFsdWUgPD0gMHhEQkZGICYmIGNvdW50ZXIgPCBsZW5ndGgpIHtcblx0XHRcdFx0Ly8gaGlnaCBzdXJyb2dhdGUsIGFuZCB0aGVyZSBpcyBhIG5leHQgY2hhcmFjdGVyXG5cdFx0XHRcdGV4dHJhID0gc3RyaW5nLmNoYXJDb2RlQXQoY291bnRlcisrKTtcblx0XHRcdFx0aWYgKChleHRyYSAmIDB4RkMwMCkgPT0gMHhEQzAwKSB7IC8vIGxvdyBzdXJyb2dhdGVcblx0XHRcdFx0XHRvdXRwdXQucHVzaCgoKHZhbHVlICYgMHgzRkYpIDw8IDEwKSArIChleHRyYSAmIDB4M0ZGKSArIDB4MTAwMDApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdC8vIHVubWF0Y2hlZCBzdXJyb2dhdGU7IG9ubHkgYXBwZW5kIHRoaXMgY29kZSB1bml0LCBpbiBjYXNlIHRoZSBuZXh0XG5cdFx0XHRcdFx0Ly8gY29kZSB1bml0IGlzIHRoZSBoaWdoIHN1cnJvZ2F0ZSBvZiBhIHN1cnJvZ2F0ZSBwYWlyXG5cdFx0XHRcdFx0b3V0cHV0LnB1c2godmFsdWUpO1xuXHRcdFx0XHRcdGNvdW50ZXItLTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0b3V0cHV0LnB1c2godmFsdWUpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gb3V0cHV0O1xuXHR9XG5cblx0LyoqXG5cdCAqIENyZWF0ZXMgYSBzdHJpbmcgYmFzZWQgb24gYW4gYXJyYXkgb2YgbnVtZXJpYyBjb2RlIHBvaW50cy5cblx0ICogQHNlZSBgcHVueWNvZGUudWNzMi5kZWNvZGVgXG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZS51Y3MyXG5cdCAqIEBuYW1lIGVuY29kZVxuXHQgKiBAcGFyYW0ge0FycmF5fSBjb2RlUG9pbnRzIFRoZSBhcnJheSBvZiBudW1lcmljIGNvZGUgcG9pbnRzLlxuXHQgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgbmV3IFVuaWNvZGUgc3RyaW5nIChVQ1MtMikuXG5cdCAqL1xuXHRmdW5jdGlvbiB1Y3MyZW5jb2RlKGFycmF5KSB7XG5cdFx0cmV0dXJuIG1hcChhcnJheSwgZnVuY3Rpb24odmFsdWUpIHtcblx0XHRcdHZhciBvdXRwdXQgPSAnJztcblx0XHRcdGlmICh2YWx1ZSA+IDB4RkZGRikge1xuXHRcdFx0XHR2YWx1ZSAtPSAweDEwMDAwO1xuXHRcdFx0XHRvdXRwdXQgKz0gc3RyaW5nRnJvbUNoYXJDb2RlKHZhbHVlID4+PiAxMCAmIDB4M0ZGIHwgMHhEODAwKTtcblx0XHRcdFx0dmFsdWUgPSAweERDMDAgfCB2YWx1ZSAmIDB4M0ZGO1xuXHRcdFx0fVxuXHRcdFx0b3V0cHV0ICs9IHN0cmluZ0Zyb21DaGFyQ29kZSh2YWx1ZSk7XG5cdFx0XHRyZXR1cm4gb3V0cHV0O1xuXHRcdH0pLmpvaW4oJycpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgYmFzaWMgY29kZSBwb2ludCBpbnRvIGEgZGlnaXQvaW50ZWdlci5cblx0ICogQHNlZSBgZGlnaXRUb0Jhc2ljKClgXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBjb2RlUG9pbnQgVGhlIGJhc2ljIG51bWVyaWMgY29kZSBwb2ludCB2YWx1ZS5cblx0ICogQHJldHVybnMge051bWJlcn0gVGhlIG51bWVyaWMgdmFsdWUgb2YgYSBiYXNpYyBjb2RlIHBvaW50IChmb3IgdXNlIGluXG5cdCAqIHJlcHJlc2VudGluZyBpbnRlZ2VycykgaW4gdGhlIHJhbmdlIGAwYCB0byBgYmFzZSAtIDFgLCBvciBgYmFzZWAgaWZcblx0ICogdGhlIGNvZGUgcG9pbnQgZG9lcyBub3QgcmVwcmVzZW50IGEgdmFsdWUuXG5cdCAqL1xuXHRmdW5jdGlvbiBiYXNpY1RvRGlnaXQoY29kZVBvaW50KSB7XG5cdFx0aWYgKGNvZGVQb2ludCAtIDQ4IDwgMTApIHtcblx0XHRcdHJldHVybiBjb2RlUG9pbnQgLSAyMjtcblx0XHR9XG5cdFx0aWYgKGNvZGVQb2ludCAtIDY1IDwgMjYpIHtcblx0XHRcdHJldHVybiBjb2RlUG9pbnQgLSA2NTtcblx0XHR9XG5cdFx0aWYgKGNvZGVQb2ludCAtIDk3IDwgMjYpIHtcblx0XHRcdHJldHVybiBjb2RlUG9pbnQgLSA5Nztcblx0XHR9XG5cdFx0cmV0dXJuIGJhc2U7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBkaWdpdC9pbnRlZ2VyIGludG8gYSBiYXNpYyBjb2RlIHBvaW50LlxuXHQgKiBAc2VlIGBiYXNpY1RvRGlnaXQoKWBcblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtOdW1iZXJ9IGRpZ2l0IFRoZSBudW1lcmljIHZhbHVlIG9mIGEgYmFzaWMgY29kZSBwb2ludC5cblx0ICogQHJldHVybnMge051bWJlcn0gVGhlIGJhc2ljIGNvZGUgcG9pbnQgd2hvc2UgdmFsdWUgKHdoZW4gdXNlZCBmb3Jcblx0ICogcmVwcmVzZW50aW5nIGludGVnZXJzKSBpcyBgZGlnaXRgLCB3aGljaCBuZWVkcyB0byBiZSBpbiB0aGUgcmFuZ2Vcblx0ICogYDBgIHRvIGBiYXNlIC0gMWAuIElmIGBmbGFnYCBpcyBub24temVybywgdGhlIHVwcGVyY2FzZSBmb3JtIGlzXG5cdCAqIHVzZWQ7IGVsc2UsIHRoZSBsb3dlcmNhc2UgZm9ybSBpcyB1c2VkLiBUaGUgYmVoYXZpb3IgaXMgdW5kZWZpbmVkXG5cdCAqIGlmIGBmbGFnYCBpcyBub24temVybyBhbmQgYGRpZ2l0YCBoYXMgbm8gdXBwZXJjYXNlIGZvcm0uXG5cdCAqL1xuXHRmdW5jdGlvbiBkaWdpdFRvQmFzaWMoZGlnaXQsIGZsYWcpIHtcblx0XHQvLyAgMC4uMjUgbWFwIHRvIEFTQ0lJIGEuLnogb3IgQS4uWlxuXHRcdC8vIDI2Li4zNSBtYXAgdG8gQVNDSUkgMC4uOVxuXHRcdHJldHVybiBkaWdpdCArIDIyICsgNzUgKiAoZGlnaXQgPCAyNikgLSAoKGZsYWcgIT0gMCkgPDwgNSk7XG5cdH1cblxuXHQvKipcblx0ICogQmlhcyBhZGFwdGF0aW9uIGZ1bmN0aW9uIGFzIHBlciBzZWN0aW9uIDMuNCBvZiBSRkMgMzQ5Mi5cblx0ICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzM0OTIjc2VjdGlvbi0zLjRcblx0ICogQHByaXZhdGVcblx0ICovXG5cdGZ1bmN0aW9uIGFkYXB0KGRlbHRhLCBudW1Qb2ludHMsIGZpcnN0VGltZSkge1xuXHRcdHZhciBrID0gMDtcblx0XHRkZWx0YSA9IGZpcnN0VGltZSA/IGZsb29yKGRlbHRhIC8gZGFtcCkgOiBkZWx0YSA+PiAxO1xuXHRcdGRlbHRhICs9IGZsb29yKGRlbHRhIC8gbnVtUG9pbnRzKTtcblx0XHRmb3IgKC8qIG5vIGluaXRpYWxpemF0aW9uICovOyBkZWx0YSA+IGJhc2VNaW51c1RNaW4gKiB0TWF4ID4+IDE7IGsgKz0gYmFzZSkge1xuXHRcdFx0ZGVsdGEgPSBmbG9vcihkZWx0YSAvIGJhc2VNaW51c1RNaW4pO1xuXHRcdH1cblx0XHRyZXR1cm4gZmxvb3IoayArIChiYXNlTWludXNUTWluICsgMSkgKiBkZWx0YSAvIChkZWx0YSArIHNrZXcpKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIFB1bnljb2RlIHN0cmluZyBvZiBBU0NJSS1vbmx5IHN5bWJvbHMgdG8gYSBzdHJpbmcgb2YgVW5pY29kZVxuXHQgKiBzeW1ib2xzLlxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IGlucHV0IFRoZSBQdW55Y29kZSBzdHJpbmcgb2YgQVNDSUktb25seSBzeW1ib2xzLlxuXHQgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgcmVzdWx0aW5nIHN0cmluZyBvZiBVbmljb2RlIHN5bWJvbHMuXG5cdCAqL1xuXHRmdW5jdGlvbiBkZWNvZGUoaW5wdXQpIHtcblx0XHQvLyBEb24ndCB1c2UgVUNTLTJcblx0XHR2YXIgb3V0cHV0ID0gW10sXG5cdFx0ICAgIGlucHV0TGVuZ3RoID0gaW5wdXQubGVuZ3RoLFxuXHRcdCAgICBvdXQsXG5cdFx0ICAgIGkgPSAwLFxuXHRcdCAgICBuID0gaW5pdGlhbE4sXG5cdFx0ICAgIGJpYXMgPSBpbml0aWFsQmlhcyxcblx0XHQgICAgYmFzaWMsXG5cdFx0ICAgIGosXG5cdFx0ICAgIGluZGV4LFxuXHRcdCAgICBvbGRpLFxuXHRcdCAgICB3LFxuXHRcdCAgICBrLFxuXHRcdCAgICBkaWdpdCxcblx0XHQgICAgdCxcblx0XHQgICAgLyoqIENhY2hlZCBjYWxjdWxhdGlvbiByZXN1bHRzICovXG5cdFx0ICAgIGJhc2VNaW51c1Q7XG5cblx0XHQvLyBIYW5kbGUgdGhlIGJhc2ljIGNvZGUgcG9pbnRzOiBsZXQgYGJhc2ljYCBiZSB0aGUgbnVtYmVyIG9mIGlucHV0IGNvZGVcblx0XHQvLyBwb2ludHMgYmVmb3JlIHRoZSBsYXN0IGRlbGltaXRlciwgb3IgYDBgIGlmIHRoZXJlIGlzIG5vbmUsIHRoZW4gY29weVxuXHRcdC8vIHRoZSBmaXJzdCBiYXNpYyBjb2RlIHBvaW50cyB0byB0aGUgb3V0cHV0LlxuXG5cdFx0YmFzaWMgPSBpbnB1dC5sYXN0SW5kZXhPZihkZWxpbWl0ZXIpO1xuXHRcdGlmIChiYXNpYyA8IDApIHtcblx0XHRcdGJhc2ljID0gMDtcblx0XHR9XG5cblx0XHRmb3IgKGogPSAwOyBqIDwgYmFzaWM7ICsraikge1xuXHRcdFx0Ly8gaWYgaXQncyBub3QgYSBiYXNpYyBjb2RlIHBvaW50XG5cdFx0XHRpZiAoaW5wdXQuY2hhckNvZGVBdChqKSA+PSAweDgwKSB7XG5cdFx0XHRcdGVycm9yKCdub3QtYmFzaWMnKTtcblx0XHRcdH1cblx0XHRcdG91dHB1dC5wdXNoKGlucHV0LmNoYXJDb2RlQXQoaikpO1xuXHRcdH1cblxuXHRcdC8vIE1haW4gZGVjb2RpbmcgbG9vcDogc3RhcnQganVzdCBhZnRlciB0aGUgbGFzdCBkZWxpbWl0ZXIgaWYgYW55IGJhc2ljIGNvZGVcblx0XHQvLyBwb2ludHMgd2VyZSBjb3BpZWQ7IHN0YXJ0IGF0IHRoZSBiZWdpbm5pbmcgb3RoZXJ3aXNlLlxuXG5cdFx0Zm9yIChpbmRleCA9IGJhc2ljID4gMCA/IGJhc2ljICsgMSA6IDA7IGluZGV4IDwgaW5wdXRMZW5ndGg7IC8qIG5vIGZpbmFsIGV4cHJlc3Npb24gKi8pIHtcblxuXHRcdFx0Ly8gYGluZGV4YCBpcyB0aGUgaW5kZXggb2YgdGhlIG5leHQgY2hhcmFjdGVyIHRvIGJlIGNvbnN1bWVkLlxuXHRcdFx0Ly8gRGVjb2RlIGEgZ2VuZXJhbGl6ZWQgdmFyaWFibGUtbGVuZ3RoIGludGVnZXIgaW50byBgZGVsdGFgLFxuXHRcdFx0Ly8gd2hpY2ggZ2V0cyBhZGRlZCB0byBgaWAuIFRoZSBvdmVyZmxvdyBjaGVja2luZyBpcyBlYXNpZXJcblx0XHRcdC8vIGlmIHdlIGluY3JlYXNlIGBpYCBhcyB3ZSBnbywgdGhlbiBzdWJ0cmFjdCBvZmYgaXRzIHN0YXJ0aW5nXG5cdFx0XHQvLyB2YWx1ZSBhdCB0aGUgZW5kIHRvIG9idGFpbiBgZGVsdGFgLlxuXHRcdFx0Zm9yIChvbGRpID0gaSwgdyA9IDEsIGsgPSBiYXNlOyAvKiBubyBjb25kaXRpb24gKi87IGsgKz0gYmFzZSkge1xuXG5cdFx0XHRcdGlmIChpbmRleCA+PSBpbnB1dExlbmd0aCkge1xuXHRcdFx0XHRcdGVycm9yKCdpbnZhbGlkLWlucHV0Jyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRkaWdpdCA9IGJhc2ljVG9EaWdpdChpbnB1dC5jaGFyQ29kZUF0KGluZGV4KyspKTtcblxuXHRcdFx0XHRpZiAoZGlnaXQgPj0gYmFzZSB8fCBkaWdpdCA+IGZsb29yKChtYXhJbnQgLSBpKSAvIHcpKSB7XG5cdFx0XHRcdFx0ZXJyb3IoJ292ZXJmbG93Jyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpICs9IGRpZ2l0ICogdztcblx0XHRcdFx0dCA9IGsgPD0gYmlhcyA/IHRNaW4gOiAoayA+PSBiaWFzICsgdE1heCA/IHRNYXggOiBrIC0gYmlhcyk7XG5cblx0XHRcdFx0aWYgKGRpZ2l0IDwgdCkge1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0YmFzZU1pbnVzVCA9IGJhc2UgLSB0O1xuXHRcdFx0XHRpZiAodyA+IGZsb29yKG1heEludCAvIGJhc2VNaW51c1QpKSB7XG5cdFx0XHRcdFx0ZXJyb3IoJ292ZXJmbG93Jyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR3ICo9IGJhc2VNaW51c1Q7XG5cblx0XHRcdH1cblxuXHRcdFx0b3V0ID0gb3V0cHV0Lmxlbmd0aCArIDE7XG5cdFx0XHRiaWFzID0gYWRhcHQoaSAtIG9sZGksIG91dCwgb2xkaSA9PSAwKTtcblxuXHRcdFx0Ly8gYGlgIHdhcyBzdXBwb3NlZCB0byB3cmFwIGFyb3VuZCBmcm9tIGBvdXRgIHRvIGAwYCxcblx0XHRcdC8vIGluY3JlbWVudGluZyBgbmAgZWFjaCB0aW1lLCBzbyB3ZSdsbCBmaXggdGhhdCBub3c6XG5cdFx0XHRpZiAoZmxvb3IoaSAvIG91dCkgPiBtYXhJbnQgLSBuKSB7XG5cdFx0XHRcdGVycm9yKCdvdmVyZmxvdycpO1xuXHRcdFx0fVxuXG5cdFx0XHRuICs9IGZsb29yKGkgLyBvdXQpO1xuXHRcdFx0aSAlPSBvdXQ7XG5cblx0XHRcdC8vIEluc2VydCBgbmAgYXQgcG9zaXRpb24gYGlgIG9mIHRoZSBvdXRwdXRcblx0XHRcdG91dHB1dC5zcGxpY2UoaSsrLCAwLCBuKTtcblxuXHRcdH1cblxuXHRcdHJldHVybiB1Y3MyZW5jb2RlKG91dHB1dCk7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBzdHJpbmcgb2YgVW5pY29kZSBzeW1ib2xzIChlLmcuIGEgZG9tYWluIG5hbWUgbGFiZWwpIHRvIGFcblx0ICogUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scy5cblx0ICogQG1lbWJlck9mIHB1bnljb2RlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgc3RyaW5nIG9mIFVuaWNvZGUgc3ltYm9scy5cblx0ICogQHJldHVybnMge1N0cmluZ30gVGhlIHJlc3VsdGluZyBQdW55Y29kZSBzdHJpbmcgb2YgQVNDSUktb25seSBzeW1ib2xzLlxuXHQgKi9cblx0ZnVuY3Rpb24gZW5jb2RlKGlucHV0KSB7XG5cdFx0dmFyIG4sXG5cdFx0ICAgIGRlbHRhLFxuXHRcdCAgICBoYW5kbGVkQ1BDb3VudCxcblx0XHQgICAgYmFzaWNMZW5ndGgsXG5cdFx0ICAgIGJpYXMsXG5cdFx0ICAgIGosXG5cdFx0ICAgIG0sXG5cdFx0ICAgIHEsXG5cdFx0ICAgIGssXG5cdFx0ICAgIHQsXG5cdFx0ICAgIGN1cnJlbnRWYWx1ZSxcblx0XHQgICAgb3V0cHV0ID0gW10sXG5cdFx0ICAgIC8qKiBgaW5wdXRMZW5ndGhgIHdpbGwgaG9sZCB0aGUgbnVtYmVyIG9mIGNvZGUgcG9pbnRzIGluIGBpbnB1dGAuICovXG5cdFx0ICAgIGlucHV0TGVuZ3RoLFxuXHRcdCAgICAvKiogQ2FjaGVkIGNhbGN1bGF0aW9uIHJlc3VsdHMgKi9cblx0XHQgICAgaGFuZGxlZENQQ291bnRQbHVzT25lLFxuXHRcdCAgICBiYXNlTWludXNULFxuXHRcdCAgICBxTWludXNUO1xuXG5cdFx0Ly8gQ29udmVydCB0aGUgaW5wdXQgaW4gVUNTLTIgdG8gVW5pY29kZVxuXHRcdGlucHV0ID0gdWNzMmRlY29kZShpbnB1dCk7XG5cblx0XHQvLyBDYWNoZSB0aGUgbGVuZ3RoXG5cdFx0aW5wdXRMZW5ndGggPSBpbnB1dC5sZW5ndGg7XG5cblx0XHQvLyBJbml0aWFsaXplIHRoZSBzdGF0ZVxuXHRcdG4gPSBpbml0aWFsTjtcblx0XHRkZWx0YSA9IDA7XG5cdFx0YmlhcyA9IGluaXRpYWxCaWFzO1xuXG5cdFx0Ly8gSGFuZGxlIHRoZSBiYXNpYyBjb2RlIHBvaW50c1xuXHRcdGZvciAoaiA9IDA7IGogPCBpbnB1dExlbmd0aDsgKytqKSB7XG5cdFx0XHRjdXJyZW50VmFsdWUgPSBpbnB1dFtqXTtcblx0XHRcdGlmIChjdXJyZW50VmFsdWUgPCAweDgwKSB7XG5cdFx0XHRcdG91dHB1dC5wdXNoKHN0cmluZ0Zyb21DaGFyQ29kZShjdXJyZW50VmFsdWUpKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRoYW5kbGVkQ1BDb3VudCA9IGJhc2ljTGVuZ3RoID0gb3V0cHV0Lmxlbmd0aDtcblxuXHRcdC8vIGBoYW5kbGVkQ1BDb3VudGAgaXMgdGhlIG51bWJlciBvZiBjb2RlIHBvaW50cyB0aGF0IGhhdmUgYmVlbiBoYW5kbGVkO1xuXHRcdC8vIGBiYXNpY0xlbmd0aGAgaXMgdGhlIG51bWJlciBvZiBiYXNpYyBjb2RlIHBvaW50cy5cblxuXHRcdC8vIEZpbmlzaCB0aGUgYmFzaWMgc3RyaW5nIC0gaWYgaXQgaXMgbm90IGVtcHR5IC0gd2l0aCBhIGRlbGltaXRlclxuXHRcdGlmIChiYXNpY0xlbmd0aCkge1xuXHRcdFx0b3V0cHV0LnB1c2goZGVsaW1pdGVyKTtcblx0XHR9XG5cblx0XHQvLyBNYWluIGVuY29kaW5nIGxvb3A6XG5cdFx0d2hpbGUgKGhhbmRsZWRDUENvdW50IDwgaW5wdXRMZW5ndGgpIHtcblxuXHRcdFx0Ly8gQWxsIG5vbi1iYXNpYyBjb2RlIHBvaW50cyA8IG4gaGF2ZSBiZWVuIGhhbmRsZWQgYWxyZWFkeS4gRmluZCB0aGUgbmV4dFxuXHRcdFx0Ly8gbGFyZ2VyIG9uZTpcblx0XHRcdGZvciAobSA9IG1heEludCwgaiA9IDA7IGogPCBpbnB1dExlbmd0aDsgKytqKSB7XG5cdFx0XHRcdGN1cnJlbnRWYWx1ZSA9IGlucHV0W2pdO1xuXHRcdFx0XHRpZiAoY3VycmVudFZhbHVlID49IG4gJiYgY3VycmVudFZhbHVlIDwgbSkge1xuXHRcdFx0XHRcdG0gPSBjdXJyZW50VmFsdWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gSW5jcmVhc2UgYGRlbHRhYCBlbm91Z2ggdG8gYWR2YW5jZSB0aGUgZGVjb2RlcidzIDxuLGk+IHN0YXRlIHRvIDxtLDA+LFxuXHRcdFx0Ly8gYnV0IGd1YXJkIGFnYWluc3Qgb3ZlcmZsb3dcblx0XHRcdGhhbmRsZWRDUENvdW50UGx1c09uZSA9IGhhbmRsZWRDUENvdW50ICsgMTtcblx0XHRcdGlmIChtIC0gbiA+IGZsb29yKChtYXhJbnQgLSBkZWx0YSkgLyBoYW5kbGVkQ1BDb3VudFBsdXNPbmUpKSB7XG5cdFx0XHRcdGVycm9yKCdvdmVyZmxvdycpO1xuXHRcdFx0fVxuXG5cdFx0XHRkZWx0YSArPSAobSAtIG4pICogaGFuZGxlZENQQ291bnRQbHVzT25lO1xuXHRcdFx0biA9IG07XG5cblx0XHRcdGZvciAoaiA9IDA7IGogPCBpbnB1dExlbmd0aDsgKytqKSB7XG5cdFx0XHRcdGN1cnJlbnRWYWx1ZSA9IGlucHV0W2pdO1xuXG5cdFx0XHRcdGlmIChjdXJyZW50VmFsdWUgPCBuICYmICsrZGVsdGEgPiBtYXhJbnQpIHtcblx0XHRcdFx0XHRlcnJvcignb3ZlcmZsb3cnKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChjdXJyZW50VmFsdWUgPT0gbikge1xuXHRcdFx0XHRcdC8vIFJlcHJlc2VudCBkZWx0YSBhcyBhIGdlbmVyYWxpemVkIHZhcmlhYmxlLWxlbmd0aCBpbnRlZ2VyXG5cdFx0XHRcdFx0Zm9yIChxID0gZGVsdGEsIGsgPSBiYXNlOyAvKiBubyBjb25kaXRpb24gKi87IGsgKz0gYmFzZSkge1xuXHRcdFx0XHRcdFx0dCA9IGsgPD0gYmlhcyA/IHRNaW4gOiAoayA+PSBiaWFzICsgdE1heCA/IHRNYXggOiBrIC0gYmlhcyk7XG5cdFx0XHRcdFx0XHRpZiAocSA8IHQpIHtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRxTWludXNUID0gcSAtIHQ7XG5cdFx0XHRcdFx0XHRiYXNlTWludXNUID0gYmFzZSAtIHQ7XG5cdFx0XHRcdFx0XHRvdXRwdXQucHVzaChcblx0XHRcdFx0XHRcdFx0c3RyaW5nRnJvbUNoYXJDb2RlKGRpZ2l0VG9CYXNpYyh0ICsgcU1pbnVzVCAlIGJhc2VNaW51c1QsIDApKVxuXHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdHEgPSBmbG9vcihxTWludXNUIC8gYmFzZU1pbnVzVCk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0b3V0cHV0LnB1c2goc3RyaW5nRnJvbUNoYXJDb2RlKGRpZ2l0VG9CYXNpYyhxLCAwKSkpO1xuXHRcdFx0XHRcdGJpYXMgPSBhZGFwdChkZWx0YSwgaGFuZGxlZENQQ291bnRQbHVzT25lLCBoYW5kbGVkQ1BDb3VudCA9PSBiYXNpY0xlbmd0aCk7XG5cdFx0XHRcdFx0ZGVsdGEgPSAwO1xuXHRcdFx0XHRcdCsraGFuZGxlZENQQ291bnQ7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0KytkZWx0YTtcblx0XHRcdCsrbjtcblxuXHRcdH1cblx0XHRyZXR1cm4gb3V0cHV0LmpvaW4oJycpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgUHVueWNvZGUgc3RyaW5nIHJlcHJlc2VudGluZyBhIGRvbWFpbiBuYW1lIG9yIGFuIGVtYWlsIGFkZHJlc3Ncblx0ICogdG8gVW5pY29kZS4gT25seSB0aGUgUHVueWNvZGVkIHBhcnRzIG9mIHRoZSBpbnB1dCB3aWxsIGJlIGNvbnZlcnRlZCwgaS5lLlxuXHQgKiBpdCBkb2Vzbid0IG1hdHRlciBpZiB5b3UgY2FsbCBpdCBvbiBhIHN0cmluZyB0aGF0IGhhcyBhbHJlYWR5IGJlZW5cblx0ICogY29udmVydGVkIHRvIFVuaWNvZGUuXG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIFB1bnljb2RlZCBkb21haW4gbmFtZSBvciBlbWFpbCBhZGRyZXNzIHRvXG5cdCAqIGNvbnZlcnQgdG8gVW5pY29kZS5cblx0ICogQHJldHVybnMge1N0cmluZ30gVGhlIFVuaWNvZGUgcmVwcmVzZW50YXRpb24gb2YgdGhlIGdpdmVuIFB1bnljb2RlXG5cdCAqIHN0cmluZy5cblx0ICovXG5cdGZ1bmN0aW9uIHRvVW5pY29kZShpbnB1dCkge1xuXHRcdHJldHVybiBtYXBEb21haW4oaW5wdXQsIGZ1bmN0aW9uKHN0cmluZykge1xuXHRcdFx0cmV0dXJuIHJlZ2V4UHVueWNvZGUudGVzdChzdHJpbmcpXG5cdFx0XHRcdD8gZGVjb2RlKHN0cmluZy5zbGljZSg0KS50b0xvd2VyQ2FzZSgpKVxuXHRcdFx0XHQ6IHN0cmluZztcblx0XHR9KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIFVuaWNvZGUgc3RyaW5nIHJlcHJlc2VudGluZyBhIGRvbWFpbiBuYW1lIG9yIGFuIGVtYWlsIGFkZHJlc3MgdG9cblx0ICogUHVueWNvZGUuIE9ubHkgdGhlIG5vbi1BU0NJSSBwYXJ0cyBvZiB0aGUgZG9tYWluIG5hbWUgd2lsbCBiZSBjb252ZXJ0ZWQsXG5cdCAqIGkuZS4gaXQgZG9lc24ndCBtYXR0ZXIgaWYgeW91IGNhbGwgaXQgd2l0aCBhIGRvbWFpbiB0aGF0J3MgYWxyZWFkeSBpblxuXHQgKiBBU0NJSS5cblx0ICogQG1lbWJlck9mIHB1bnljb2RlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgZG9tYWluIG5hbWUgb3IgZW1haWwgYWRkcmVzcyB0byBjb252ZXJ0LCBhcyBhXG5cdCAqIFVuaWNvZGUgc3RyaW5nLlxuXHQgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgUHVueWNvZGUgcmVwcmVzZW50YXRpb24gb2YgdGhlIGdpdmVuIGRvbWFpbiBuYW1lIG9yXG5cdCAqIGVtYWlsIGFkZHJlc3MuXG5cdCAqL1xuXHRmdW5jdGlvbiB0b0FTQ0lJKGlucHV0KSB7XG5cdFx0cmV0dXJuIG1hcERvbWFpbihpbnB1dCwgZnVuY3Rpb24oc3RyaW5nKSB7XG5cdFx0XHRyZXR1cm4gcmVnZXhOb25BU0NJSS50ZXN0KHN0cmluZylcblx0XHRcdFx0PyAneG4tLScgKyBlbmNvZGUoc3RyaW5nKVxuXHRcdFx0XHQ6IHN0cmluZztcblx0XHR9KTtcblx0fVxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdC8qKiBEZWZpbmUgdGhlIHB1YmxpYyBBUEkgKi9cblx0cHVueWNvZGUgPSB7XG5cdFx0LyoqXG5cdFx0ICogQSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBjdXJyZW50IFB1bnljb2RlLmpzIHZlcnNpb24gbnVtYmVyLlxuXHRcdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHRcdCAqIEB0eXBlIFN0cmluZ1xuXHRcdCAqL1xuXHRcdCd2ZXJzaW9uJzogJzEuNC4xJyxcblx0XHQvKipcblx0XHQgKiBBbiBvYmplY3Qgb2YgbWV0aG9kcyB0byBjb252ZXJ0IGZyb20gSmF2YVNjcmlwdCdzIGludGVybmFsIGNoYXJhY3RlclxuXHRcdCAqIHJlcHJlc2VudGF0aW9uIChVQ1MtMikgdG8gVW5pY29kZSBjb2RlIHBvaW50cywgYW5kIGJhY2suXG5cdFx0ICogQHNlZSA8aHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2phdmFzY3JpcHQtZW5jb2Rpbmc+XG5cdFx0ICogQG1lbWJlck9mIHB1bnljb2RlXG5cdFx0ICogQHR5cGUgT2JqZWN0XG5cdFx0ICovXG5cdFx0J3VjczInOiB7XG5cdFx0XHQnZGVjb2RlJzogdWNzMmRlY29kZSxcblx0XHRcdCdlbmNvZGUnOiB1Y3MyZW5jb2RlXG5cdFx0fSxcblx0XHQnZGVjb2RlJzogZGVjb2RlLFxuXHRcdCdlbmNvZGUnOiBlbmNvZGUsXG5cdFx0J3RvQVNDSUknOiB0b0FTQ0lJLFxuXHRcdCd0b1VuaWNvZGUnOiB0b1VuaWNvZGVcblx0fTtcblxuXHQvKiogRXhwb3NlIGBwdW55Y29kZWAgKi9cblx0Ly8gU29tZSBBTUQgYnVpbGQgb3B0aW1pemVycywgbGlrZSByLmpzLCBjaGVjayBmb3Igc3BlY2lmaWMgY29uZGl0aW9uIHBhdHRlcm5zXG5cdC8vIGxpa2UgdGhlIGZvbGxvd2luZzpcblx0aWYgKFxuXHRcdHR5cGVvZiBkZWZpbmUgPT0gJ2Z1bmN0aW9uJyAmJlxuXHRcdHR5cGVvZiBkZWZpbmUuYW1kID09ICdvYmplY3QnICYmXG5cdFx0ZGVmaW5lLmFtZFxuXHQpIHtcblx0XHRkZWZpbmUoJ3B1bnljb2RlJywgZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gcHVueWNvZGU7XG5cdFx0fSk7XG5cdH0gZWxzZSBpZiAoZnJlZUV4cG9ydHMgJiYgZnJlZU1vZHVsZSkge1xuXHRcdGlmIChtb2R1bGUuZXhwb3J0cyA9PSBmcmVlRXhwb3J0cykge1xuXHRcdFx0Ly8gaW4gTm9kZS5qcywgaW8uanMsIG9yIFJpbmdvSlMgdjAuOC4wK1xuXHRcdFx0ZnJlZU1vZHVsZS5leHBvcnRzID0gcHVueWNvZGU7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIGluIE5hcndoYWwgb3IgUmluZ29KUyB2MC43LjAtXG5cdFx0XHRmb3IgKGtleSBpbiBwdW55Y29kZSkge1xuXHRcdFx0XHRwdW55Y29kZS5oYXNPd25Qcm9wZXJ0eShrZXkpICYmIChmcmVlRXhwb3J0c1trZXldID0gcHVueWNvZGVba2V5XSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9IGVsc2Uge1xuXHRcdC8vIGluIFJoaW5vIG9yIGEgd2ViIGJyb3dzZXJcblx0XHRyb290LnB1bnljb2RlID0gcHVueWNvZGU7XG5cdH1cblxufSh0aGlzKSk7XG4iLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuJ3VzZSBzdHJpY3QnO1xuXG4vLyBJZiBvYmouaGFzT3duUHJvcGVydHkgaGFzIGJlZW4gb3ZlcnJpZGRlbiwgdGhlbiBjYWxsaW5nXG4vLyBvYmouaGFzT3duUHJvcGVydHkocHJvcCkgd2lsbCBicmVhay5cbi8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2pveWVudC9ub2RlL2lzc3Vlcy8xNzA3XG5mdW5jdGlvbiBoYXNPd25Qcm9wZXJ0eShvYmosIHByb3ApIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHFzLCBzZXAsIGVxLCBvcHRpb25zKSB7XG4gIHNlcCA9IHNlcCB8fCAnJic7XG4gIGVxID0gZXEgfHwgJz0nO1xuICB2YXIgb2JqID0ge307XG5cbiAgaWYgKHR5cGVvZiBxcyAhPT0gJ3N0cmluZycgfHwgcXMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIG9iajtcbiAgfVxuXG4gIHZhciByZWdleHAgPSAvXFwrL2c7XG4gIHFzID0gcXMuc3BsaXQoc2VwKTtcblxuICB2YXIgbWF4S2V5cyA9IDEwMDA7XG4gIGlmIChvcHRpb25zICYmIHR5cGVvZiBvcHRpb25zLm1heEtleXMgPT09ICdudW1iZXInKSB7XG4gICAgbWF4S2V5cyA9IG9wdGlvbnMubWF4S2V5cztcbiAgfVxuXG4gIHZhciBsZW4gPSBxcy5sZW5ndGg7XG4gIC8vIG1heEtleXMgPD0gMCBtZWFucyB0aGF0IHdlIHNob3VsZCBub3QgbGltaXQga2V5cyBjb3VudFxuICBpZiAobWF4S2V5cyA+IDAgJiYgbGVuID4gbWF4S2V5cykge1xuICAgIGxlbiA9IG1heEtleXM7XG4gIH1cblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgdmFyIHggPSBxc1tpXS5yZXBsYWNlKHJlZ2V4cCwgJyUyMCcpLFxuICAgICAgICBpZHggPSB4LmluZGV4T2YoZXEpLFxuICAgICAgICBrc3RyLCB2c3RyLCBrLCB2O1xuXG4gICAgaWYgKGlkeCA+PSAwKSB7XG4gICAgICBrc3RyID0geC5zdWJzdHIoMCwgaWR4KTtcbiAgICAgIHZzdHIgPSB4LnN1YnN0cihpZHggKyAxKTtcbiAgICB9IGVsc2Uge1xuICAgICAga3N0ciA9IHg7XG4gICAgICB2c3RyID0gJyc7XG4gICAgfVxuXG4gICAgayA9IGRlY29kZVVSSUNvbXBvbmVudChrc3RyKTtcbiAgICB2ID0gZGVjb2RlVVJJQ29tcG9uZW50KHZzdHIpO1xuXG4gICAgaWYgKCFoYXNPd25Qcm9wZXJ0eShvYmosIGspKSB7XG4gICAgICBvYmpba10gPSB2O1xuICAgIH0gZWxzZSBpZiAoaXNBcnJheShvYmpba10pKSB7XG4gICAgICBvYmpba10ucHVzaCh2KTtcbiAgICB9IGVsc2Uge1xuICAgICAgb2JqW2tdID0gW29ialtrXSwgdl07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG9iajtcbn07XG5cbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiAoeHMpIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh4cykgPT09ICdbb2JqZWN0IEFycmF5XSc7XG59O1xuIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIHN0cmluZ2lmeVByaW1pdGl2ZSA9IGZ1bmN0aW9uKHYpIHtcbiAgc3dpdGNoICh0eXBlb2Ygdikge1xuICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICByZXR1cm4gdjtcblxuICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgcmV0dXJuIHYgPyAndHJ1ZScgOiAnZmFsc2UnO1xuXG4gICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgIHJldHVybiBpc0Zpbml0ZSh2KSA/IHYgOiAnJztcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gJyc7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ob2JqLCBzZXAsIGVxLCBuYW1lKSB7XG4gIHNlcCA9IHNlcCB8fCAnJic7XG4gIGVxID0gZXEgfHwgJz0nO1xuICBpZiAob2JqID09PSBudWxsKSB7XG4gICAgb2JqID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBvYmogPT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIG1hcChvYmplY3RLZXlzKG9iaiksIGZ1bmN0aW9uKGspIHtcbiAgICAgIHZhciBrcyA9IGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUoaykpICsgZXE7XG4gICAgICBpZiAoaXNBcnJheShvYmpba10pKSB7XG4gICAgICAgIHJldHVybiBtYXAob2JqW2tdLCBmdW5jdGlvbih2KSB7XG4gICAgICAgICAgcmV0dXJuIGtzICsgZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZ2lmeVByaW1pdGl2ZSh2KSk7XG4gICAgICAgIH0pLmpvaW4oc2VwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBrcyArIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUob2JqW2tdKSk7XG4gICAgICB9XG4gICAgfSkuam9pbihzZXApO1xuXG4gIH1cblxuICBpZiAoIW5hbWUpIHJldHVybiAnJztcbiAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUobmFtZSkpICsgZXEgK1xuICAgICAgICAgZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZ2lmeVByaW1pdGl2ZShvYmopKTtcbn07XG5cbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiAoeHMpIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh4cykgPT09ICdbb2JqZWN0IEFycmF5XSc7XG59O1xuXG5mdW5jdGlvbiBtYXAgKHhzLCBmKSB7XG4gIGlmICh4cy5tYXApIHJldHVybiB4cy5tYXAoZik7XG4gIHZhciByZXMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB4cy5sZW5ndGg7IGkrKykge1xuICAgIHJlcy5wdXNoKGYoeHNbaV0sIGkpKTtcbiAgfVxuICByZXR1cm4gcmVzO1xufVxuXG52YXIgb2JqZWN0S2V5cyA9IE9iamVjdC5rZXlzIHx8IGZ1bmN0aW9uIChvYmopIHtcbiAgdmFyIHJlcyA9IFtdO1xuICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHJlcy5wdXNoKGtleSk7XG4gIH1cbiAgcmV0dXJuIHJlcztcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuZGVjb2RlID0gZXhwb3J0cy5wYXJzZSA9IHJlcXVpcmUoJy4vZGVjb2RlJyk7XG5leHBvcnRzLmVuY29kZSA9IGV4cG9ydHMuc3RyaW5naWZ5ID0gcmVxdWlyZSgnLi9lbmNvZGUnKTtcbiIsIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBwdW55Y29kZSA9IHJlcXVpcmUoJ3B1bnljb2RlJyk7XG52YXIgdXRpbCA9IHJlcXVpcmUoJy4vdXRpbCcpO1xuXG5leHBvcnRzLnBhcnNlID0gdXJsUGFyc2U7XG5leHBvcnRzLnJlc29sdmUgPSB1cmxSZXNvbHZlO1xuZXhwb3J0cy5yZXNvbHZlT2JqZWN0ID0gdXJsUmVzb2x2ZU9iamVjdDtcbmV4cG9ydHMuZm9ybWF0ID0gdXJsRm9ybWF0O1xuXG5leHBvcnRzLlVybCA9IFVybDtcblxuZnVuY3Rpb24gVXJsKCkge1xuICB0aGlzLnByb3RvY29sID0gbnVsbDtcbiAgdGhpcy5zbGFzaGVzID0gbnVsbDtcbiAgdGhpcy5hdXRoID0gbnVsbDtcbiAgdGhpcy5ob3N0ID0gbnVsbDtcbiAgdGhpcy5wb3J0ID0gbnVsbDtcbiAgdGhpcy5ob3N0bmFtZSA9IG51bGw7XG4gIHRoaXMuaGFzaCA9IG51bGw7XG4gIHRoaXMuc2VhcmNoID0gbnVsbDtcbiAgdGhpcy5xdWVyeSA9IG51bGw7XG4gIHRoaXMucGF0aG5hbWUgPSBudWxsO1xuICB0aGlzLnBhdGggPSBudWxsO1xuICB0aGlzLmhyZWYgPSBudWxsO1xufVxuXG4vLyBSZWZlcmVuY2U6IFJGQyAzOTg2LCBSRkMgMTgwOCwgUkZDIDIzOTZcblxuLy8gZGVmaW5lIHRoZXNlIGhlcmUgc28gYXQgbGVhc3QgdGhleSBvbmx5IGhhdmUgdG8gYmVcbi8vIGNvbXBpbGVkIG9uY2Ugb24gdGhlIGZpcnN0IG1vZHVsZSBsb2FkLlxudmFyIHByb3RvY29sUGF0dGVybiA9IC9eKFthLXowLTkuKy1dKzopL2ksXG4gICAgcG9ydFBhdHRlcm4gPSAvOlswLTldKiQvLFxuXG4gICAgLy8gU3BlY2lhbCBjYXNlIGZvciBhIHNpbXBsZSBwYXRoIFVSTFxuICAgIHNpbXBsZVBhdGhQYXR0ZXJuID0gL14oXFwvXFwvPyg/IVxcLylbXlxcP1xcc10qKShcXD9bXlxcc10qKT8kLyxcblxuICAgIC8vIFJGQyAyMzk2OiBjaGFyYWN0ZXJzIHJlc2VydmVkIGZvciBkZWxpbWl0aW5nIFVSTHMuXG4gICAgLy8gV2UgYWN0dWFsbHkganVzdCBhdXRvLWVzY2FwZSB0aGVzZS5cbiAgICBkZWxpbXMgPSBbJzwnLCAnPicsICdcIicsICdgJywgJyAnLCAnXFxyJywgJ1xcbicsICdcXHQnXSxcblxuICAgIC8vIFJGQyAyMzk2OiBjaGFyYWN0ZXJzIG5vdCBhbGxvd2VkIGZvciB2YXJpb3VzIHJlYXNvbnMuXG4gICAgdW53aXNlID0gWyd7JywgJ30nLCAnfCcsICdcXFxcJywgJ14nLCAnYCddLmNvbmNhdChkZWxpbXMpLFxuXG4gICAgLy8gQWxsb3dlZCBieSBSRkNzLCBidXQgY2F1c2Ugb2YgWFNTIGF0dGFja3MuICBBbHdheXMgZXNjYXBlIHRoZXNlLlxuICAgIGF1dG9Fc2NhcGUgPSBbJ1xcJyddLmNvbmNhdCh1bndpc2UpLFxuICAgIC8vIENoYXJhY3RlcnMgdGhhdCBhcmUgbmV2ZXIgZXZlciBhbGxvd2VkIGluIGEgaG9zdG5hbWUuXG4gICAgLy8gTm90ZSB0aGF0IGFueSBpbnZhbGlkIGNoYXJzIGFyZSBhbHNvIGhhbmRsZWQsIGJ1dCB0aGVzZVxuICAgIC8vIGFyZSB0aGUgb25lcyB0aGF0IGFyZSAqZXhwZWN0ZWQqIHRvIGJlIHNlZW4sIHNvIHdlIGZhc3QtcGF0aFxuICAgIC8vIHRoZW0uXG4gICAgbm9uSG9zdENoYXJzID0gWyclJywgJy8nLCAnPycsICc7JywgJyMnXS5jb25jYXQoYXV0b0VzY2FwZSksXG4gICAgaG9zdEVuZGluZ0NoYXJzID0gWycvJywgJz8nLCAnIyddLFxuICAgIGhvc3RuYW1lTWF4TGVuID0gMjU1LFxuICAgIGhvc3RuYW1lUGFydFBhdHRlcm4gPSAvXlsrYS16MC05QS1aXy1dezAsNjN9JC8sXG4gICAgaG9zdG5hbWVQYXJ0U3RhcnQgPSAvXihbK2EtejAtOUEtWl8tXXswLDYzfSkoLiopJC8sXG4gICAgLy8gcHJvdG9jb2xzIHRoYXQgY2FuIGFsbG93IFwidW5zYWZlXCIgYW5kIFwidW53aXNlXCIgY2hhcnMuXG4gICAgdW5zYWZlUHJvdG9jb2wgPSB7XG4gICAgICAnamF2YXNjcmlwdCc6IHRydWUsXG4gICAgICAnamF2YXNjcmlwdDonOiB0cnVlXG4gICAgfSxcbiAgICAvLyBwcm90b2NvbHMgdGhhdCBuZXZlciBoYXZlIGEgaG9zdG5hbWUuXG4gICAgaG9zdGxlc3NQcm90b2NvbCA9IHtcbiAgICAgICdqYXZhc2NyaXB0JzogdHJ1ZSxcbiAgICAgICdqYXZhc2NyaXB0Oic6IHRydWVcbiAgICB9LFxuICAgIC8vIHByb3RvY29scyB0aGF0IGFsd2F5cyBjb250YWluIGEgLy8gYml0LlxuICAgIHNsYXNoZWRQcm90b2NvbCA9IHtcbiAgICAgICdodHRwJzogdHJ1ZSxcbiAgICAgICdodHRwcyc6IHRydWUsXG4gICAgICAnZnRwJzogdHJ1ZSxcbiAgICAgICdnb3BoZXInOiB0cnVlLFxuICAgICAgJ2ZpbGUnOiB0cnVlLFxuICAgICAgJ2h0dHA6JzogdHJ1ZSxcbiAgICAgICdodHRwczonOiB0cnVlLFxuICAgICAgJ2Z0cDonOiB0cnVlLFxuICAgICAgJ2dvcGhlcjonOiB0cnVlLFxuICAgICAgJ2ZpbGU6JzogdHJ1ZVxuICAgIH0sXG4gICAgcXVlcnlzdHJpbmcgPSByZXF1aXJlKCdxdWVyeXN0cmluZycpO1xuXG5mdW5jdGlvbiB1cmxQYXJzZSh1cmwsIHBhcnNlUXVlcnlTdHJpbmcsIHNsYXNoZXNEZW5vdGVIb3N0KSB7XG4gIGlmICh1cmwgJiYgdXRpbC5pc09iamVjdCh1cmwpICYmIHVybCBpbnN0YW5jZW9mIFVybCkgcmV0dXJuIHVybDtcblxuICB2YXIgdSA9IG5ldyBVcmw7XG4gIHUucGFyc2UodXJsLCBwYXJzZVF1ZXJ5U3RyaW5nLCBzbGFzaGVzRGVub3RlSG9zdCk7XG4gIHJldHVybiB1O1xufVxuXG5VcmwucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24odXJsLCBwYXJzZVF1ZXJ5U3RyaW5nLCBzbGFzaGVzRGVub3RlSG9zdCkge1xuICBpZiAoIXV0aWwuaXNTdHJpbmcodXJsKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQYXJhbWV0ZXIgJ3VybCcgbXVzdCBiZSBhIHN0cmluZywgbm90IFwiICsgdHlwZW9mIHVybCk7XG4gIH1cblxuICAvLyBDb3B5IGNocm9tZSwgSUUsIG9wZXJhIGJhY2tzbGFzaC1oYW5kbGluZyBiZWhhdmlvci5cbiAgLy8gQmFjayBzbGFzaGVzIGJlZm9yZSB0aGUgcXVlcnkgc3RyaW5nIGdldCBjb252ZXJ0ZWQgdG8gZm9yd2FyZCBzbGFzaGVzXG4gIC8vIFNlZTogaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTI1OTE2XG4gIHZhciBxdWVyeUluZGV4ID0gdXJsLmluZGV4T2YoJz8nKSxcbiAgICAgIHNwbGl0dGVyID1cbiAgICAgICAgICAocXVlcnlJbmRleCAhPT0gLTEgJiYgcXVlcnlJbmRleCA8IHVybC5pbmRleE9mKCcjJykpID8gJz8nIDogJyMnLFxuICAgICAgdVNwbGl0ID0gdXJsLnNwbGl0KHNwbGl0dGVyKSxcbiAgICAgIHNsYXNoUmVnZXggPSAvXFxcXC9nO1xuICB1U3BsaXRbMF0gPSB1U3BsaXRbMF0ucmVwbGFjZShzbGFzaFJlZ2V4LCAnLycpO1xuICB1cmwgPSB1U3BsaXQuam9pbihzcGxpdHRlcik7XG5cbiAgdmFyIHJlc3QgPSB1cmw7XG5cbiAgLy8gdHJpbSBiZWZvcmUgcHJvY2VlZGluZy5cbiAgLy8gVGhpcyBpcyB0byBzdXBwb3J0IHBhcnNlIHN0dWZmIGxpa2UgXCIgIGh0dHA6Ly9mb28uY29tICBcXG5cIlxuICByZXN0ID0gcmVzdC50cmltKCk7XG5cbiAgaWYgKCFzbGFzaGVzRGVub3RlSG9zdCAmJiB1cmwuc3BsaXQoJyMnKS5sZW5ndGggPT09IDEpIHtcbiAgICAvLyBUcnkgZmFzdCBwYXRoIHJlZ2V4cFxuICAgIHZhciBzaW1wbGVQYXRoID0gc2ltcGxlUGF0aFBhdHRlcm4uZXhlYyhyZXN0KTtcbiAgICBpZiAoc2ltcGxlUGF0aCkge1xuICAgICAgdGhpcy5wYXRoID0gcmVzdDtcbiAgICAgIHRoaXMuaHJlZiA9IHJlc3Q7XG4gICAgICB0aGlzLnBhdGhuYW1lID0gc2ltcGxlUGF0aFsxXTtcbiAgICAgIGlmIChzaW1wbGVQYXRoWzJdKSB7XG4gICAgICAgIHRoaXMuc2VhcmNoID0gc2ltcGxlUGF0aFsyXTtcbiAgICAgICAgaWYgKHBhcnNlUXVlcnlTdHJpbmcpIHtcbiAgICAgICAgICB0aGlzLnF1ZXJ5ID0gcXVlcnlzdHJpbmcucGFyc2UodGhpcy5zZWFyY2guc3Vic3RyKDEpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnF1ZXJ5ID0gdGhpcy5zZWFyY2guc3Vic3RyKDEpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHBhcnNlUXVlcnlTdHJpbmcpIHtcbiAgICAgICAgdGhpcy5zZWFyY2ggPSAnJztcbiAgICAgICAgdGhpcy5xdWVyeSA9IHt9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9XG5cbiAgdmFyIHByb3RvID0gcHJvdG9jb2xQYXR0ZXJuLmV4ZWMocmVzdCk7XG4gIGlmIChwcm90bykge1xuICAgIHByb3RvID0gcHJvdG9bMF07XG4gICAgdmFyIGxvd2VyUHJvdG8gPSBwcm90by50b0xvd2VyQ2FzZSgpO1xuICAgIHRoaXMucHJvdG9jb2wgPSBsb3dlclByb3RvO1xuICAgIHJlc3QgPSByZXN0LnN1YnN0cihwcm90by5sZW5ndGgpO1xuICB9XG5cbiAgLy8gZmlndXJlIG91dCBpZiBpdCdzIGdvdCBhIGhvc3RcbiAgLy8gdXNlckBzZXJ2ZXIgaXMgKmFsd2F5cyogaW50ZXJwcmV0ZWQgYXMgYSBob3N0bmFtZSwgYW5kIHVybFxuICAvLyByZXNvbHV0aW9uIHdpbGwgdHJlYXQgLy9mb28vYmFyIGFzIGhvc3Q9Zm9vLHBhdGg9YmFyIGJlY2F1c2UgdGhhdCdzXG4gIC8vIGhvdyB0aGUgYnJvd3NlciByZXNvbHZlcyByZWxhdGl2ZSBVUkxzLlxuICBpZiAoc2xhc2hlc0Rlbm90ZUhvc3QgfHwgcHJvdG8gfHwgcmVzdC5tYXRjaCgvXlxcL1xcL1teQFxcL10rQFteQFxcL10rLykpIHtcbiAgICB2YXIgc2xhc2hlcyA9IHJlc3Quc3Vic3RyKDAsIDIpID09PSAnLy8nO1xuICAgIGlmIChzbGFzaGVzICYmICEocHJvdG8gJiYgaG9zdGxlc3NQcm90b2NvbFtwcm90b10pKSB7XG4gICAgICByZXN0ID0gcmVzdC5zdWJzdHIoMik7XG4gICAgICB0aGlzLnNsYXNoZXMgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIGlmICghaG9zdGxlc3NQcm90b2NvbFtwcm90b10gJiZcbiAgICAgIChzbGFzaGVzIHx8IChwcm90byAmJiAhc2xhc2hlZFByb3RvY29sW3Byb3RvXSkpKSB7XG5cbiAgICAvLyB0aGVyZSdzIGEgaG9zdG5hbWUuXG4gICAgLy8gdGhlIGZpcnN0IGluc3RhbmNlIG9mIC8sID8sIDssIG9yICMgZW5kcyB0aGUgaG9zdC5cbiAgICAvL1xuICAgIC8vIElmIHRoZXJlIGlzIGFuIEAgaW4gdGhlIGhvc3RuYW1lLCB0aGVuIG5vbi1ob3N0IGNoYXJzICphcmUqIGFsbG93ZWRcbiAgICAvLyB0byB0aGUgbGVmdCBvZiB0aGUgbGFzdCBAIHNpZ24sIHVubGVzcyBzb21lIGhvc3QtZW5kaW5nIGNoYXJhY3RlclxuICAgIC8vIGNvbWVzICpiZWZvcmUqIHRoZSBALXNpZ24uXG4gICAgLy8gVVJMcyBhcmUgb2Jub3hpb3VzLlxuICAgIC8vXG4gICAgLy8gZXg6XG4gICAgLy8gaHR0cDovL2FAYkBjLyA9PiB1c2VyOmFAYiBob3N0OmNcbiAgICAvLyBodHRwOi8vYUBiP0BjID0+IHVzZXI6YSBob3N0OmMgcGF0aDovP0BjXG5cbiAgICAvLyB2MC4xMiBUT0RPKGlzYWFjcyk6IFRoaXMgaXMgbm90IHF1aXRlIGhvdyBDaHJvbWUgZG9lcyB0aGluZ3MuXG4gICAgLy8gUmV2aWV3IG91ciB0ZXN0IGNhc2UgYWdhaW5zdCBicm93c2VycyBtb3JlIGNvbXByZWhlbnNpdmVseS5cblxuICAgIC8vIGZpbmQgdGhlIGZpcnN0IGluc3RhbmNlIG9mIGFueSBob3N0RW5kaW5nQ2hhcnNcbiAgICB2YXIgaG9zdEVuZCA9IC0xO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaG9zdEVuZGluZ0NoYXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaGVjID0gcmVzdC5pbmRleE9mKGhvc3RFbmRpbmdDaGFyc1tpXSk7XG4gICAgICBpZiAoaGVjICE9PSAtMSAmJiAoaG9zdEVuZCA9PT0gLTEgfHwgaGVjIDwgaG9zdEVuZCkpXG4gICAgICAgIGhvc3RFbmQgPSBoZWM7XG4gICAgfVxuXG4gICAgLy8gYXQgdGhpcyBwb2ludCwgZWl0aGVyIHdlIGhhdmUgYW4gZXhwbGljaXQgcG9pbnQgd2hlcmUgdGhlXG4gICAgLy8gYXV0aCBwb3J0aW9uIGNhbm5vdCBnbyBwYXN0LCBvciB0aGUgbGFzdCBAIGNoYXIgaXMgdGhlIGRlY2lkZXIuXG4gICAgdmFyIGF1dGgsIGF0U2lnbjtcbiAgICBpZiAoaG9zdEVuZCA9PT0gLTEpIHtcbiAgICAgIC8vIGF0U2lnbiBjYW4gYmUgYW55d2hlcmUuXG4gICAgICBhdFNpZ24gPSByZXN0Lmxhc3RJbmRleE9mKCdAJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGF0U2lnbiBtdXN0IGJlIGluIGF1dGggcG9ydGlvbi5cbiAgICAgIC8vIGh0dHA6Ly9hQGIvY0BkID0+IGhvc3Q6YiBhdXRoOmEgcGF0aDovY0BkXG4gICAgICBhdFNpZ24gPSByZXN0Lmxhc3RJbmRleE9mKCdAJywgaG9zdEVuZCk7XG4gICAgfVxuXG4gICAgLy8gTm93IHdlIGhhdmUgYSBwb3J0aW9uIHdoaWNoIGlzIGRlZmluaXRlbHkgdGhlIGF1dGguXG4gICAgLy8gUHVsbCB0aGF0IG9mZi5cbiAgICBpZiAoYXRTaWduICE9PSAtMSkge1xuICAgICAgYXV0aCA9IHJlc3Quc2xpY2UoMCwgYXRTaWduKTtcbiAgICAgIHJlc3QgPSByZXN0LnNsaWNlKGF0U2lnbiArIDEpO1xuICAgICAgdGhpcy5hdXRoID0gZGVjb2RlVVJJQ29tcG9uZW50KGF1dGgpO1xuICAgIH1cblxuICAgIC8vIHRoZSBob3N0IGlzIHRoZSByZW1haW5pbmcgdG8gdGhlIGxlZnQgb2YgdGhlIGZpcnN0IG5vbi1ob3N0IGNoYXJcbiAgICBob3N0RW5kID0gLTE7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub25Ib3N0Q2hhcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBoZWMgPSByZXN0LmluZGV4T2Yobm9uSG9zdENoYXJzW2ldKTtcbiAgICAgIGlmIChoZWMgIT09IC0xICYmIChob3N0RW5kID09PSAtMSB8fCBoZWMgPCBob3N0RW5kKSlcbiAgICAgICAgaG9zdEVuZCA9IGhlYztcbiAgICB9XG4gICAgLy8gaWYgd2Ugc3RpbGwgaGF2ZSBub3QgaGl0IGl0LCB0aGVuIHRoZSBlbnRpcmUgdGhpbmcgaXMgYSBob3N0LlxuICAgIGlmIChob3N0RW5kID09PSAtMSlcbiAgICAgIGhvc3RFbmQgPSByZXN0Lmxlbmd0aDtcblxuICAgIHRoaXMuaG9zdCA9IHJlc3Quc2xpY2UoMCwgaG9zdEVuZCk7XG4gICAgcmVzdCA9IHJlc3Quc2xpY2UoaG9zdEVuZCk7XG5cbiAgICAvLyBwdWxsIG91dCBwb3J0LlxuICAgIHRoaXMucGFyc2VIb3N0KCk7XG5cbiAgICAvLyB3ZSd2ZSBpbmRpY2F0ZWQgdGhhdCB0aGVyZSBpcyBhIGhvc3RuYW1lLFxuICAgIC8vIHNvIGV2ZW4gaWYgaXQncyBlbXB0eSwgaXQgaGFzIHRvIGJlIHByZXNlbnQuXG4gICAgdGhpcy5ob3N0bmFtZSA9IHRoaXMuaG9zdG5hbWUgfHwgJyc7XG5cbiAgICAvLyBpZiBob3N0bmFtZSBiZWdpbnMgd2l0aCBbIGFuZCBlbmRzIHdpdGggXVxuICAgIC8vIGFzc3VtZSB0aGF0IGl0J3MgYW4gSVB2NiBhZGRyZXNzLlxuICAgIHZhciBpcHY2SG9zdG5hbWUgPSB0aGlzLmhvc3RuYW1lWzBdID09PSAnWycgJiZcbiAgICAgICAgdGhpcy5ob3N0bmFtZVt0aGlzLmhvc3RuYW1lLmxlbmd0aCAtIDFdID09PSAnXSc7XG5cbiAgICAvLyB2YWxpZGF0ZSBhIGxpdHRsZS5cbiAgICBpZiAoIWlwdjZIb3N0bmFtZSkge1xuICAgICAgdmFyIGhvc3RwYXJ0cyA9IHRoaXMuaG9zdG5hbWUuc3BsaXQoL1xcLi8pO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBob3N0cGFydHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIHZhciBwYXJ0ID0gaG9zdHBhcnRzW2ldO1xuICAgICAgICBpZiAoIXBhcnQpIGNvbnRpbnVlO1xuICAgICAgICBpZiAoIXBhcnQubWF0Y2goaG9zdG5hbWVQYXJ0UGF0dGVybikpIHtcbiAgICAgICAgICB2YXIgbmV3cGFydCA9ICcnO1xuICAgICAgICAgIGZvciAodmFyIGogPSAwLCBrID0gcGFydC5sZW5ndGg7IGogPCBrOyBqKyspIHtcbiAgICAgICAgICAgIGlmIChwYXJ0LmNoYXJDb2RlQXQoaikgPiAxMjcpIHtcbiAgICAgICAgICAgICAgLy8gd2UgcmVwbGFjZSBub24tQVNDSUkgY2hhciB3aXRoIGEgdGVtcG9yYXJ5IHBsYWNlaG9sZGVyXG4gICAgICAgICAgICAgIC8vIHdlIG5lZWQgdGhpcyB0byBtYWtlIHN1cmUgc2l6ZSBvZiBob3N0bmFtZSBpcyBub3RcbiAgICAgICAgICAgICAgLy8gYnJva2VuIGJ5IHJlcGxhY2luZyBub24tQVNDSUkgYnkgbm90aGluZ1xuICAgICAgICAgICAgICBuZXdwYXJ0ICs9ICd4JztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG5ld3BhcnQgKz0gcGFydFtqXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gd2UgdGVzdCBhZ2FpbiB3aXRoIEFTQ0lJIGNoYXIgb25seVxuICAgICAgICAgIGlmICghbmV3cGFydC5tYXRjaChob3N0bmFtZVBhcnRQYXR0ZXJuKSkge1xuICAgICAgICAgICAgdmFyIHZhbGlkUGFydHMgPSBob3N0cGFydHMuc2xpY2UoMCwgaSk7XG4gICAgICAgICAgICB2YXIgbm90SG9zdCA9IGhvc3RwYXJ0cy5zbGljZShpICsgMSk7XG4gICAgICAgICAgICB2YXIgYml0ID0gcGFydC5tYXRjaChob3N0bmFtZVBhcnRTdGFydCk7XG4gICAgICAgICAgICBpZiAoYml0KSB7XG4gICAgICAgICAgICAgIHZhbGlkUGFydHMucHVzaChiaXRbMV0pO1xuICAgICAgICAgICAgICBub3RIb3N0LnVuc2hpZnQoYml0WzJdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChub3RIb3N0Lmxlbmd0aCkge1xuICAgICAgICAgICAgICByZXN0ID0gJy8nICsgbm90SG9zdC5qb2luKCcuJykgKyByZXN0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5ob3N0bmFtZSA9IHZhbGlkUGFydHMuam9pbignLicpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuaG9zdG5hbWUubGVuZ3RoID4gaG9zdG5hbWVNYXhMZW4pIHtcbiAgICAgIHRoaXMuaG9zdG5hbWUgPSAnJztcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gaG9zdG5hbWVzIGFyZSBhbHdheXMgbG93ZXIgY2FzZS5cbiAgICAgIHRoaXMuaG9zdG5hbWUgPSB0aGlzLmhvc3RuYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuXG4gICAgaWYgKCFpcHY2SG9zdG5hbWUpIHtcbiAgICAgIC8vIElETkEgU3VwcG9ydDogUmV0dXJucyBhIHB1bnljb2RlZCByZXByZXNlbnRhdGlvbiBvZiBcImRvbWFpblwiLlxuICAgICAgLy8gSXQgb25seSBjb252ZXJ0cyBwYXJ0cyBvZiB0aGUgZG9tYWluIG5hbWUgdGhhdFxuICAgICAgLy8gaGF2ZSBub24tQVNDSUkgY2hhcmFjdGVycywgaS5lLiBpdCBkb2Vzbid0IG1hdHRlciBpZlxuICAgICAgLy8geW91IGNhbGwgaXQgd2l0aCBhIGRvbWFpbiB0aGF0IGFscmVhZHkgaXMgQVNDSUktb25seS5cbiAgICAgIHRoaXMuaG9zdG5hbWUgPSBwdW55Y29kZS50b0FTQ0lJKHRoaXMuaG9zdG5hbWUpO1xuICAgIH1cblxuICAgIHZhciBwID0gdGhpcy5wb3J0ID8gJzonICsgdGhpcy5wb3J0IDogJyc7XG4gICAgdmFyIGggPSB0aGlzLmhvc3RuYW1lIHx8ICcnO1xuICAgIHRoaXMuaG9zdCA9IGggKyBwO1xuICAgIHRoaXMuaHJlZiArPSB0aGlzLmhvc3Q7XG5cbiAgICAvLyBzdHJpcCBbIGFuZCBdIGZyb20gdGhlIGhvc3RuYW1lXG4gICAgLy8gdGhlIGhvc3QgZmllbGQgc3RpbGwgcmV0YWlucyB0aGVtLCB0aG91Z2hcbiAgICBpZiAoaXB2Nkhvc3RuYW1lKSB7XG4gICAgICB0aGlzLmhvc3RuYW1lID0gdGhpcy5ob3N0bmFtZS5zdWJzdHIoMSwgdGhpcy5ob3N0bmFtZS5sZW5ndGggLSAyKTtcbiAgICAgIGlmIChyZXN0WzBdICE9PSAnLycpIHtcbiAgICAgICAgcmVzdCA9ICcvJyArIHJlc3Q7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gbm93IHJlc3QgaXMgc2V0IHRvIHRoZSBwb3N0LWhvc3Qgc3R1ZmYuXG4gIC8vIGNob3Agb2ZmIGFueSBkZWxpbSBjaGFycy5cbiAgaWYgKCF1bnNhZmVQcm90b2NvbFtsb3dlclByb3RvXSkge1xuXG4gICAgLy8gRmlyc3QsIG1ha2UgMTAwJSBzdXJlIHRoYXQgYW55IFwiYXV0b0VzY2FwZVwiIGNoYXJzIGdldFxuICAgIC8vIGVzY2FwZWQsIGV2ZW4gaWYgZW5jb2RlVVJJQ29tcG9uZW50IGRvZXNuJ3QgdGhpbmsgdGhleVxuICAgIC8vIG5lZWQgdG8gYmUuXG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSBhdXRvRXNjYXBlLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgdmFyIGFlID0gYXV0b0VzY2FwZVtpXTtcbiAgICAgIGlmIChyZXN0LmluZGV4T2YoYWUpID09PSAtMSlcbiAgICAgICAgY29udGludWU7XG4gICAgICB2YXIgZXNjID0gZW5jb2RlVVJJQ29tcG9uZW50KGFlKTtcbiAgICAgIGlmIChlc2MgPT09IGFlKSB7XG4gICAgICAgIGVzYyA9IGVzY2FwZShhZSk7XG4gICAgICB9XG4gICAgICByZXN0ID0gcmVzdC5zcGxpdChhZSkuam9pbihlc2MpO1xuICAgIH1cbiAgfVxuXG5cbiAgLy8gY2hvcCBvZmYgZnJvbSB0aGUgdGFpbCBmaXJzdC5cbiAgdmFyIGhhc2ggPSByZXN0LmluZGV4T2YoJyMnKTtcbiAgaWYgKGhhc2ggIT09IC0xKSB7XG4gICAgLy8gZ290IGEgZnJhZ21lbnQgc3RyaW5nLlxuICAgIHRoaXMuaGFzaCA9IHJlc3Quc3Vic3RyKGhhc2gpO1xuICAgIHJlc3QgPSByZXN0LnNsaWNlKDAsIGhhc2gpO1xuICB9XG4gIHZhciBxbSA9IHJlc3QuaW5kZXhPZignPycpO1xuICBpZiAocW0gIT09IC0xKSB7XG4gICAgdGhpcy5zZWFyY2ggPSByZXN0LnN1YnN0cihxbSk7XG4gICAgdGhpcy5xdWVyeSA9IHJlc3Quc3Vic3RyKHFtICsgMSk7XG4gICAgaWYgKHBhcnNlUXVlcnlTdHJpbmcpIHtcbiAgICAgIHRoaXMucXVlcnkgPSBxdWVyeXN0cmluZy5wYXJzZSh0aGlzLnF1ZXJ5KTtcbiAgICB9XG4gICAgcmVzdCA9IHJlc3Quc2xpY2UoMCwgcW0pO1xuICB9IGVsc2UgaWYgKHBhcnNlUXVlcnlTdHJpbmcpIHtcbiAgICAvLyBubyBxdWVyeSBzdHJpbmcsIGJ1dCBwYXJzZVF1ZXJ5U3RyaW5nIHN0aWxsIHJlcXVlc3RlZFxuICAgIHRoaXMuc2VhcmNoID0gJyc7XG4gICAgdGhpcy5xdWVyeSA9IHt9O1xuICB9XG4gIGlmIChyZXN0KSB0aGlzLnBhdGhuYW1lID0gcmVzdDtcbiAgaWYgKHNsYXNoZWRQcm90b2NvbFtsb3dlclByb3RvXSAmJlxuICAgICAgdGhpcy5ob3N0bmFtZSAmJiAhdGhpcy5wYXRobmFtZSkge1xuICAgIHRoaXMucGF0aG5hbWUgPSAnLyc7XG4gIH1cblxuICAvL3RvIHN1cHBvcnQgaHR0cC5yZXF1ZXN0XG4gIGlmICh0aGlzLnBhdGhuYW1lIHx8IHRoaXMuc2VhcmNoKSB7XG4gICAgdmFyIHAgPSB0aGlzLnBhdGhuYW1lIHx8ICcnO1xuICAgIHZhciBzID0gdGhpcy5zZWFyY2ggfHwgJyc7XG4gICAgdGhpcy5wYXRoID0gcCArIHM7XG4gIH1cblxuICAvLyBmaW5hbGx5LCByZWNvbnN0cnVjdCB0aGUgaHJlZiBiYXNlZCBvbiB3aGF0IGhhcyBiZWVuIHZhbGlkYXRlZC5cbiAgdGhpcy5ocmVmID0gdGhpcy5mb3JtYXQoKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vLyBmb3JtYXQgYSBwYXJzZWQgb2JqZWN0IGludG8gYSB1cmwgc3RyaW5nXG5mdW5jdGlvbiB1cmxGb3JtYXQob2JqKSB7XG4gIC8vIGVuc3VyZSBpdCdzIGFuIG9iamVjdCwgYW5kIG5vdCBhIHN0cmluZyB1cmwuXG4gIC8vIElmIGl0J3MgYW4gb2JqLCB0aGlzIGlzIGEgbm8tb3AuXG4gIC8vIHRoaXMgd2F5LCB5b3UgY2FuIGNhbGwgdXJsX2Zvcm1hdCgpIG9uIHN0cmluZ3NcbiAgLy8gdG8gY2xlYW4gdXAgcG90ZW50aWFsbHkgd29ua3kgdXJscy5cbiAgaWYgKHV0aWwuaXNTdHJpbmcob2JqKSkgb2JqID0gdXJsUGFyc2Uob2JqKTtcbiAgaWYgKCEob2JqIGluc3RhbmNlb2YgVXJsKSkgcmV0dXJuIFVybC5wcm90b3R5cGUuZm9ybWF0LmNhbGwob2JqKTtcbiAgcmV0dXJuIG9iai5mb3JtYXQoKTtcbn1cblxuVXJsLnByb3RvdHlwZS5mb3JtYXQgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGF1dGggPSB0aGlzLmF1dGggfHwgJyc7XG4gIGlmIChhdXRoKSB7XG4gICAgYXV0aCA9IGVuY29kZVVSSUNvbXBvbmVudChhdXRoKTtcbiAgICBhdXRoID0gYXV0aC5yZXBsYWNlKC8lM0EvaSwgJzonKTtcbiAgICBhdXRoICs9ICdAJztcbiAgfVxuXG4gIHZhciBwcm90b2NvbCA9IHRoaXMucHJvdG9jb2wgfHwgJycsXG4gICAgICBwYXRobmFtZSA9IHRoaXMucGF0aG5hbWUgfHwgJycsXG4gICAgICBoYXNoID0gdGhpcy5oYXNoIHx8ICcnLFxuICAgICAgaG9zdCA9IGZhbHNlLFxuICAgICAgcXVlcnkgPSAnJztcblxuICBpZiAodGhpcy5ob3N0KSB7XG4gICAgaG9zdCA9IGF1dGggKyB0aGlzLmhvc3Q7XG4gIH0gZWxzZSBpZiAodGhpcy5ob3N0bmFtZSkge1xuICAgIGhvc3QgPSBhdXRoICsgKHRoaXMuaG9zdG5hbWUuaW5kZXhPZignOicpID09PSAtMSA/XG4gICAgICAgIHRoaXMuaG9zdG5hbWUgOlxuICAgICAgICAnWycgKyB0aGlzLmhvc3RuYW1lICsgJ10nKTtcbiAgICBpZiAodGhpcy5wb3J0KSB7XG4gICAgICBob3N0ICs9ICc6JyArIHRoaXMucG9ydDtcbiAgICB9XG4gIH1cblxuICBpZiAodGhpcy5xdWVyeSAmJlxuICAgICAgdXRpbC5pc09iamVjdCh0aGlzLnF1ZXJ5KSAmJlxuICAgICAgT2JqZWN0LmtleXModGhpcy5xdWVyeSkubGVuZ3RoKSB7XG4gICAgcXVlcnkgPSBxdWVyeXN0cmluZy5zdHJpbmdpZnkodGhpcy5xdWVyeSk7XG4gIH1cblxuICB2YXIgc2VhcmNoID0gdGhpcy5zZWFyY2ggfHwgKHF1ZXJ5ICYmICgnPycgKyBxdWVyeSkpIHx8ICcnO1xuXG4gIGlmIChwcm90b2NvbCAmJiBwcm90b2NvbC5zdWJzdHIoLTEpICE9PSAnOicpIHByb3RvY29sICs9ICc6JztcblxuICAvLyBvbmx5IHRoZSBzbGFzaGVkUHJvdG9jb2xzIGdldCB0aGUgLy8uICBOb3QgbWFpbHRvOiwgeG1wcDosIGV0Yy5cbiAgLy8gdW5sZXNzIHRoZXkgaGFkIHRoZW0gdG8gYmVnaW4gd2l0aC5cbiAgaWYgKHRoaXMuc2xhc2hlcyB8fFxuICAgICAgKCFwcm90b2NvbCB8fCBzbGFzaGVkUHJvdG9jb2xbcHJvdG9jb2xdKSAmJiBob3N0ICE9PSBmYWxzZSkge1xuICAgIGhvc3QgPSAnLy8nICsgKGhvc3QgfHwgJycpO1xuICAgIGlmIChwYXRobmFtZSAmJiBwYXRobmFtZS5jaGFyQXQoMCkgIT09ICcvJykgcGF0aG5hbWUgPSAnLycgKyBwYXRobmFtZTtcbiAgfSBlbHNlIGlmICghaG9zdCkge1xuICAgIGhvc3QgPSAnJztcbiAgfVxuXG4gIGlmIChoYXNoICYmIGhhc2guY2hhckF0KDApICE9PSAnIycpIGhhc2ggPSAnIycgKyBoYXNoO1xuICBpZiAoc2VhcmNoICYmIHNlYXJjaC5jaGFyQXQoMCkgIT09ICc/Jykgc2VhcmNoID0gJz8nICsgc2VhcmNoO1xuXG4gIHBhdGhuYW1lID0gcGF0aG5hbWUucmVwbGFjZSgvWz8jXS9nLCBmdW5jdGlvbihtYXRjaCkge1xuICAgIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQobWF0Y2gpO1xuICB9KTtcbiAgc2VhcmNoID0gc2VhcmNoLnJlcGxhY2UoJyMnLCAnJTIzJyk7XG5cbiAgcmV0dXJuIHByb3RvY29sICsgaG9zdCArIHBhdGhuYW1lICsgc2VhcmNoICsgaGFzaDtcbn07XG5cbmZ1bmN0aW9uIHVybFJlc29sdmUoc291cmNlLCByZWxhdGl2ZSkge1xuICByZXR1cm4gdXJsUGFyc2Uoc291cmNlLCBmYWxzZSwgdHJ1ZSkucmVzb2x2ZShyZWxhdGl2ZSk7XG59XG5cblVybC5wcm90b3R5cGUucmVzb2x2ZSA9IGZ1bmN0aW9uKHJlbGF0aXZlKSB7XG4gIHJldHVybiB0aGlzLnJlc29sdmVPYmplY3QodXJsUGFyc2UocmVsYXRpdmUsIGZhbHNlLCB0cnVlKSkuZm9ybWF0KCk7XG59O1xuXG5mdW5jdGlvbiB1cmxSZXNvbHZlT2JqZWN0KHNvdXJjZSwgcmVsYXRpdmUpIHtcbiAgaWYgKCFzb3VyY2UpIHJldHVybiByZWxhdGl2ZTtcbiAgcmV0dXJuIHVybFBhcnNlKHNvdXJjZSwgZmFsc2UsIHRydWUpLnJlc29sdmVPYmplY3QocmVsYXRpdmUpO1xufVxuXG5VcmwucHJvdG90eXBlLnJlc29sdmVPYmplY3QgPSBmdW5jdGlvbihyZWxhdGl2ZSkge1xuICBpZiAodXRpbC5pc1N0cmluZyhyZWxhdGl2ZSkpIHtcbiAgICB2YXIgcmVsID0gbmV3IFVybCgpO1xuICAgIHJlbC5wYXJzZShyZWxhdGl2ZSwgZmFsc2UsIHRydWUpO1xuICAgIHJlbGF0aXZlID0gcmVsO1xuICB9XG5cbiAgdmFyIHJlc3VsdCA9IG5ldyBVcmwoKTtcbiAgdmFyIHRrZXlzID0gT2JqZWN0LmtleXModGhpcyk7XG4gIGZvciAodmFyIHRrID0gMDsgdGsgPCB0a2V5cy5sZW5ndGg7IHRrKyspIHtcbiAgICB2YXIgdGtleSA9IHRrZXlzW3RrXTtcbiAgICByZXN1bHRbdGtleV0gPSB0aGlzW3RrZXldO1xuICB9XG5cbiAgLy8gaGFzaCBpcyBhbHdheXMgb3ZlcnJpZGRlbiwgbm8gbWF0dGVyIHdoYXQuXG4gIC8vIGV2ZW4gaHJlZj1cIlwiIHdpbGwgcmVtb3ZlIGl0LlxuICByZXN1bHQuaGFzaCA9IHJlbGF0aXZlLmhhc2g7XG5cbiAgLy8gaWYgdGhlIHJlbGF0aXZlIHVybCBpcyBlbXB0eSwgdGhlbiB0aGVyZSdzIG5vdGhpbmcgbGVmdCB0byBkbyBoZXJlLlxuICBpZiAocmVsYXRpdmUuaHJlZiA9PT0gJycpIHtcbiAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLy8gaHJlZnMgbGlrZSAvL2Zvby9iYXIgYWx3YXlzIGN1dCB0byB0aGUgcHJvdG9jb2wuXG4gIGlmIChyZWxhdGl2ZS5zbGFzaGVzICYmICFyZWxhdGl2ZS5wcm90b2NvbCkge1xuICAgIC8vIHRha2UgZXZlcnl0aGluZyBleGNlcHQgdGhlIHByb3RvY29sIGZyb20gcmVsYXRpdmVcbiAgICB2YXIgcmtleXMgPSBPYmplY3Qua2V5cyhyZWxhdGl2ZSk7XG4gICAgZm9yICh2YXIgcmsgPSAwOyByayA8IHJrZXlzLmxlbmd0aDsgcmsrKykge1xuICAgICAgdmFyIHJrZXkgPSBya2V5c1tya107XG4gICAgICBpZiAocmtleSAhPT0gJ3Byb3RvY29sJylcbiAgICAgICAgcmVzdWx0W3JrZXldID0gcmVsYXRpdmVbcmtleV07XG4gICAgfVxuXG4gICAgLy91cmxQYXJzZSBhcHBlbmRzIHRyYWlsaW5nIC8gdG8gdXJscyBsaWtlIGh0dHA6Ly93d3cuZXhhbXBsZS5jb21cbiAgICBpZiAoc2xhc2hlZFByb3RvY29sW3Jlc3VsdC5wcm90b2NvbF0gJiZcbiAgICAgICAgcmVzdWx0Lmhvc3RuYW1lICYmICFyZXN1bHQucGF0aG5hbWUpIHtcbiAgICAgIHJlc3VsdC5wYXRoID0gcmVzdWx0LnBhdGhuYW1lID0gJy8nO1xuICAgIH1cblxuICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBpZiAocmVsYXRpdmUucHJvdG9jb2wgJiYgcmVsYXRpdmUucHJvdG9jb2wgIT09IHJlc3VsdC5wcm90b2NvbCkge1xuICAgIC8vIGlmIGl0J3MgYSBrbm93biB1cmwgcHJvdG9jb2wsIHRoZW4gY2hhbmdpbmdcbiAgICAvLyB0aGUgcHJvdG9jb2wgZG9lcyB3ZWlyZCB0aGluZ3NcbiAgICAvLyBmaXJzdCwgaWYgaXQncyBub3QgZmlsZTosIHRoZW4gd2UgTVVTVCBoYXZlIGEgaG9zdCxcbiAgICAvLyBhbmQgaWYgdGhlcmUgd2FzIGEgcGF0aFxuICAgIC8vIHRvIGJlZ2luIHdpdGgsIHRoZW4gd2UgTVVTVCBoYXZlIGEgcGF0aC5cbiAgICAvLyBpZiBpdCBpcyBmaWxlOiwgdGhlbiB0aGUgaG9zdCBpcyBkcm9wcGVkLFxuICAgIC8vIGJlY2F1c2UgdGhhdCdzIGtub3duIHRvIGJlIGhvc3RsZXNzLlxuICAgIC8vIGFueXRoaW5nIGVsc2UgaXMgYXNzdW1lZCB0byBiZSBhYnNvbHV0ZS5cbiAgICBpZiAoIXNsYXNoZWRQcm90b2NvbFtyZWxhdGl2ZS5wcm90b2NvbF0pIHtcbiAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMocmVsYXRpdmUpO1xuICAgICAgZm9yICh2YXIgdiA9IDA7IHYgPCBrZXlzLmxlbmd0aDsgdisrKSB7XG4gICAgICAgIHZhciBrID0ga2V5c1t2XTtcbiAgICAgICAgcmVzdWx0W2tdID0gcmVsYXRpdmVba107XG4gICAgICB9XG4gICAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgcmVzdWx0LnByb3RvY29sID0gcmVsYXRpdmUucHJvdG9jb2w7XG4gICAgaWYgKCFyZWxhdGl2ZS5ob3N0ICYmICFob3N0bGVzc1Byb3RvY29sW3JlbGF0aXZlLnByb3RvY29sXSkge1xuICAgICAgdmFyIHJlbFBhdGggPSAocmVsYXRpdmUucGF0aG5hbWUgfHwgJycpLnNwbGl0KCcvJyk7XG4gICAgICB3aGlsZSAocmVsUGF0aC5sZW5ndGggJiYgIShyZWxhdGl2ZS5ob3N0ID0gcmVsUGF0aC5zaGlmdCgpKSk7XG4gICAgICBpZiAoIXJlbGF0aXZlLmhvc3QpIHJlbGF0aXZlLmhvc3QgPSAnJztcbiAgICAgIGlmICghcmVsYXRpdmUuaG9zdG5hbWUpIHJlbGF0aXZlLmhvc3RuYW1lID0gJyc7XG4gICAgICBpZiAocmVsUGF0aFswXSAhPT0gJycpIHJlbFBhdGgudW5zaGlmdCgnJyk7XG4gICAgICBpZiAocmVsUGF0aC5sZW5ndGggPCAyKSByZWxQYXRoLnVuc2hpZnQoJycpO1xuICAgICAgcmVzdWx0LnBhdGhuYW1lID0gcmVsUGF0aC5qb2luKCcvJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdC5wYXRobmFtZSA9IHJlbGF0aXZlLnBhdGhuYW1lO1xuICAgIH1cbiAgICByZXN1bHQuc2VhcmNoID0gcmVsYXRpdmUuc2VhcmNoO1xuICAgIHJlc3VsdC5xdWVyeSA9IHJlbGF0aXZlLnF1ZXJ5O1xuICAgIHJlc3VsdC5ob3N0ID0gcmVsYXRpdmUuaG9zdCB8fCAnJztcbiAgICByZXN1bHQuYXV0aCA9IHJlbGF0aXZlLmF1dGg7XG4gICAgcmVzdWx0Lmhvc3RuYW1lID0gcmVsYXRpdmUuaG9zdG5hbWUgfHwgcmVsYXRpdmUuaG9zdDtcbiAgICByZXN1bHQucG9ydCA9IHJlbGF0aXZlLnBvcnQ7XG4gICAgLy8gdG8gc3VwcG9ydCBodHRwLnJlcXVlc3RcbiAgICBpZiAocmVzdWx0LnBhdGhuYW1lIHx8IHJlc3VsdC5zZWFyY2gpIHtcbiAgICAgIHZhciBwID0gcmVzdWx0LnBhdGhuYW1lIHx8ICcnO1xuICAgICAgdmFyIHMgPSByZXN1bHQuc2VhcmNoIHx8ICcnO1xuICAgICAgcmVzdWx0LnBhdGggPSBwICsgcztcbiAgICB9XG4gICAgcmVzdWx0LnNsYXNoZXMgPSByZXN1bHQuc2xhc2hlcyB8fCByZWxhdGl2ZS5zbGFzaGVzO1xuICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICB2YXIgaXNTb3VyY2VBYnMgPSAocmVzdWx0LnBhdGhuYW1lICYmIHJlc3VsdC5wYXRobmFtZS5jaGFyQXQoMCkgPT09ICcvJyksXG4gICAgICBpc1JlbEFicyA9IChcbiAgICAgICAgICByZWxhdGl2ZS5ob3N0IHx8XG4gICAgICAgICAgcmVsYXRpdmUucGF0aG5hbWUgJiYgcmVsYXRpdmUucGF0aG5hbWUuY2hhckF0KDApID09PSAnLydcbiAgICAgICksXG4gICAgICBtdXN0RW5kQWJzID0gKGlzUmVsQWJzIHx8IGlzU291cmNlQWJzIHx8XG4gICAgICAgICAgICAgICAgICAgIChyZXN1bHQuaG9zdCAmJiByZWxhdGl2ZS5wYXRobmFtZSkpLFxuICAgICAgcmVtb3ZlQWxsRG90cyA9IG11c3RFbmRBYnMsXG4gICAgICBzcmNQYXRoID0gcmVzdWx0LnBhdGhuYW1lICYmIHJlc3VsdC5wYXRobmFtZS5zcGxpdCgnLycpIHx8IFtdLFxuICAgICAgcmVsUGF0aCA9IHJlbGF0aXZlLnBhdGhuYW1lICYmIHJlbGF0aXZlLnBhdGhuYW1lLnNwbGl0KCcvJykgfHwgW10sXG4gICAgICBwc3ljaG90aWMgPSByZXN1bHQucHJvdG9jb2wgJiYgIXNsYXNoZWRQcm90b2NvbFtyZXN1bHQucHJvdG9jb2xdO1xuXG4gIC8vIGlmIHRoZSB1cmwgaXMgYSBub24tc2xhc2hlZCB1cmwsIHRoZW4gcmVsYXRpdmVcbiAgLy8gbGlua3MgbGlrZSAuLi8uLiBzaG91bGQgYmUgYWJsZVxuICAvLyB0byBjcmF3bCB1cCB0byB0aGUgaG9zdG5hbWUsIGFzIHdlbGwuICBUaGlzIGlzIHN0cmFuZ2UuXG4gIC8vIHJlc3VsdC5wcm90b2NvbCBoYXMgYWxyZWFkeSBiZWVuIHNldCBieSBub3cuXG4gIC8vIExhdGVyIG9uLCBwdXQgdGhlIGZpcnN0IHBhdGggcGFydCBpbnRvIHRoZSBob3N0IGZpZWxkLlxuICBpZiAocHN5Y2hvdGljKSB7XG4gICAgcmVzdWx0Lmhvc3RuYW1lID0gJyc7XG4gICAgcmVzdWx0LnBvcnQgPSBudWxsO1xuICAgIGlmIChyZXN1bHQuaG9zdCkge1xuICAgICAgaWYgKHNyY1BhdGhbMF0gPT09ICcnKSBzcmNQYXRoWzBdID0gcmVzdWx0Lmhvc3Q7XG4gICAgICBlbHNlIHNyY1BhdGgudW5zaGlmdChyZXN1bHQuaG9zdCk7XG4gICAgfVxuICAgIHJlc3VsdC5ob3N0ID0gJyc7XG4gICAgaWYgKHJlbGF0aXZlLnByb3RvY29sKSB7XG4gICAgICByZWxhdGl2ZS5ob3N0bmFtZSA9IG51bGw7XG4gICAgICByZWxhdGl2ZS5wb3J0ID0gbnVsbDtcbiAgICAgIGlmIChyZWxhdGl2ZS5ob3N0KSB7XG4gICAgICAgIGlmIChyZWxQYXRoWzBdID09PSAnJykgcmVsUGF0aFswXSA9IHJlbGF0aXZlLmhvc3Q7XG4gICAgICAgIGVsc2UgcmVsUGF0aC51bnNoaWZ0KHJlbGF0aXZlLmhvc3QpO1xuICAgICAgfVxuICAgICAgcmVsYXRpdmUuaG9zdCA9IG51bGw7XG4gICAgfVxuICAgIG11c3RFbmRBYnMgPSBtdXN0RW5kQWJzICYmIChyZWxQYXRoWzBdID09PSAnJyB8fCBzcmNQYXRoWzBdID09PSAnJyk7XG4gIH1cblxuICBpZiAoaXNSZWxBYnMpIHtcbiAgICAvLyBpdCdzIGFic29sdXRlLlxuICAgIHJlc3VsdC5ob3N0ID0gKHJlbGF0aXZlLmhvc3QgfHwgcmVsYXRpdmUuaG9zdCA9PT0gJycpID9cbiAgICAgICAgICAgICAgICAgIHJlbGF0aXZlLmhvc3QgOiByZXN1bHQuaG9zdDtcbiAgICByZXN1bHQuaG9zdG5hbWUgPSAocmVsYXRpdmUuaG9zdG5hbWUgfHwgcmVsYXRpdmUuaG9zdG5hbWUgPT09ICcnKSA/XG4gICAgICAgICAgICAgICAgICAgICAgcmVsYXRpdmUuaG9zdG5hbWUgOiByZXN1bHQuaG9zdG5hbWU7XG4gICAgcmVzdWx0LnNlYXJjaCA9IHJlbGF0aXZlLnNlYXJjaDtcbiAgICByZXN1bHQucXVlcnkgPSByZWxhdGl2ZS5xdWVyeTtcbiAgICBzcmNQYXRoID0gcmVsUGF0aDtcbiAgICAvLyBmYWxsIHRocm91Z2ggdG8gdGhlIGRvdC1oYW5kbGluZyBiZWxvdy5cbiAgfSBlbHNlIGlmIChyZWxQYXRoLmxlbmd0aCkge1xuICAgIC8vIGl0J3MgcmVsYXRpdmVcbiAgICAvLyB0aHJvdyBhd2F5IHRoZSBleGlzdGluZyBmaWxlLCBhbmQgdGFrZSB0aGUgbmV3IHBhdGggaW5zdGVhZC5cbiAgICBpZiAoIXNyY1BhdGgpIHNyY1BhdGggPSBbXTtcbiAgICBzcmNQYXRoLnBvcCgpO1xuICAgIHNyY1BhdGggPSBzcmNQYXRoLmNvbmNhdChyZWxQYXRoKTtcbiAgICByZXN1bHQuc2VhcmNoID0gcmVsYXRpdmUuc2VhcmNoO1xuICAgIHJlc3VsdC5xdWVyeSA9IHJlbGF0aXZlLnF1ZXJ5O1xuICB9IGVsc2UgaWYgKCF1dGlsLmlzTnVsbE9yVW5kZWZpbmVkKHJlbGF0aXZlLnNlYXJjaCkpIHtcbiAgICAvLyBqdXN0IHB1bGwgb3V0IHRoZSBzZWFyY2guXG4gICAgLy8gbGlrZSBocmVmPSc/Zm9vJy5cbiAgICAvLyBQdXQgdGhpcyBhZnRlciB0aGUgb3RoZXIgdHdvIGNhc2VzIGJlY2F1c2UgaXQgc2ltcGxpZmllcyB0aGUgYm9vbGVhbnNcbiAgICBpZiAocHN5Y2hvdGljKSB7XG4gICAgICByZXN1bHQuaG9zdG5hbWUgPSByZXN1bHQuaG9zdCA9IHNyY1BhdGguc2hpZnQoKTtcbiAgICAgIC8vb2NjYXRpb25hbHkgdGhlIGF1dGggY2FuIGdldCBzdHVjayBvbmx5IGluIGhvc3RcbiAgICAgIC8vdGhpcyBlc3BlY2lhbGx5IGhhcHBlbnMgaW4gY2FzZXMgbGlrZVxuICAgICAgLy91cmwucmVzb2x2ZU9iamVjdCgnbWFpbHRvOmxvY2FsMUBkb21haW4xJywgJ2xvY2FsMkBkb21haW4yJylcbiAgICAgIHZhciBhdXRoSW5Ib3N0ID0gcmVzdWx0Lmhvc3QgJiYgcmVzdWx0Lmhvc3QuaW5kZXhPZignQCcpID4gMCA/XG4gICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5ob3N0LnNwbGl0KCdAJykgOiBmYWxzZTtcbiAgICAgIGlmIChhdXRoSW5Ib3N0KSB7XG4gICAgICAgIHJlc3VsdC5hdXRoID0gYXV0aEluSG9zdC5zaGlmdCgpO1xuICAgICAgICByZXN1bHQuaG9zdCA9IHJlc3VsdC5ob3N0bmFtZSA9IGF1dGhJbkhvc3Quc2hpZnQoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmVzdWx0LnNlYXJjaCA9IHJlbGF0aXZlLnNlYXJjaDtcbiAgICByZXN1bHQucXVlcnkgPSByZWxhdGl2ZS5xdWVyeTtcbiAgICAvL3RvIHN1cHBvcnQgaHR0cC5yZXF1ZXN0XG4gICAgaWYgKCF1dGlsLmlzTnVsbChyZXN1bHQucGF0aG5hbWUpIHx8ICF1dGlsLmlzTnVsbChyZXN1bHQuc2VhcmNoKSkge1xuICAgICAgcmVzdWx0LnBhdGggPSAocmVzdWx0LnBhdGhuYW1lID8gcmVzdWx0LnBhdGhuYW1lIDogJycpICtcbiAgICAgICAgICAgICAgICAgICAgKHJlc3VsdC5zZWFyY2ggPyByZXN1bHQuc2VhcmNoIDogJycpO1xuICAgIH1cbiAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgaWYgKCFzcmNQYXRoLmxlbmd0aCkge1xuICAgIC8vIG5vIHBhdGggYXQgYWxsLiAgZWFzeS5cbiAgICAvLyB3ZSd2ZSBhbHJlYWR5IGhhbmRsZWQgdGhlIG90aGVyIHN0dWZmIGFib3ZlLlxuICAgIHJlc3VsdC5wYXRobmFtZSA9IG51bGw7XG4gICAgLy90byBzdXBwb3J0IGh0dHAucmVxdWVzdFxuICAgIGlmIChyZXN1bHQuc2VhcmNoKSB7XG4gICAgICByZXN1bHQucGF0aCA9ICcvJyArIHJlc3VsdC5zZWFyY2g7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdC5wYXRoID0gbnVsbDtcbiAgICB9XG4gICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8vIGlmIGEgdXJsIEVORHMgaW4gLiBvciAuLiwgdGhlbiBpdCBtdXN0IGdldCBhIHRyYWlsaW5nIHNsYXNoLlxuICAvLyBob3dldmVyLCBpZiBpdCBlbmRzIGluIGFueXRoaW5nIGVsc2Ugbm9uLXNsYXNoeSxcbiAgLy8gdGhlbiBpdCBtdXN0IE5PVCBnZXQgYSB0cmFpbGluZyBzbGFzaC5cbiAgdmFyIGxhc3QgPSBzcmNQYXRoLnNsaWNlKC0xKVswXTtcbiAgdmFyIGhhc1RyYWlsaW5nU2xhc2ggPSAoXG4gICAgICAocmVzdWx0Lmhvc3QgfHwgcmVsYXRpdmUuaG9zdCB8fCBzcmNQYXRoLmxlbmd0aCA+IDEpICYmXG4gICAgICAobGFzdCA9PT0gJy4nIHx8IGxhc3QgPT09ICcuLicpIHx8IGxhc3QgPT09ICcnKTtcblxuICAvLyBzdHJpcCBzaW5nbGUgZG90cywgcmVzb2x2ZSBkb3VibGUgZG90cyB0byBwYXJlbnQgZGlyXG4gIC8vIGlmIHRoZSBwYXRoIHRyaWVzIHRvIGdvIGFib3ZlIHRoZSByb290LCBgdXBgIGVuZHMgdXAgPiAwXG4gIHZhciB1cCA9IDA7XG4gIGZvciAodmFyIGkgPSBzcmNQYXRoLmxlbmd0aDsgaSA+PSAwOyBpLS0pIHtcbiAgICBsYXN0ID0gc3JjUGF0aFtpXTtcbiAgICBpZiAobGFzdCA9PT0gJy4nKSB7XG4gICAgICBzcmNQYXRoLnNwbGljZShpLCAxKTtcbiAgICB9IGVsc2UgaWYgKGxhc3QgPT09ICcuLicpIHtcbiAgICAgIHNyY1BhdGguc3BsaWNlKGksIDEpO1xuICAgICAgdXArKztcbiAgICB9IGVsc2UgaWYgKHVwKSB7XG4gICAgICBzcmNQYXRoLnNwbGljZShpLCAxKTtcbiAgICAgIHVwLS07XG4gICAgfVxuICB9XG5cbiAgLy8gaWYgdGhlIHBhdGggaXMgYWxsb3dlZCB0byBnbyBhYm92ZSB0aGUgcm9vdCwgcmVzdG9yZSBsZWFkaW5nIC4uc1xuICBpZiAoIW11c3RFbmRBYnMgJiYgIXJlbW92ZUFsbERvdHMpIHtcbiAgICBmb3IgKDsgdXAtLTsgdXApIHtcbiAgICAgIHNyY1BhdGgudW5zaGlmdCgnLi4nKTtcbiAgICB9XG4gIH1cblxuICBpZiAobXVzdEVuZEFicyAmJiBzcmNQYXRoWzBdICE9PSAnJyAmJlxuICAgICAgKCFzcmNQYXRoWzBdIHx8IHNyY1BhdGhbMF0uY2hhckF0KDApICE9PSAnLycpKSB7XG4gICAgc3JjUGF0aC51bnNoaWZ0KCcnKTtcbiAgfVxuXG4gIGlmIChoYXNUcmFpbGluZ1NsYXNoICYmIChzcmNQYXRoLmpvaW4oJy8nKS5zdWJzdHIoLTEpICE9PSAnLycpKSB7XG4gICAgc3JjUGF0aC5wdXNoKCcnKTtcbiAgfVxuXG4gIHZhciBpc0Fic29sdXRlID0gc3JjUGF0aFswXSA9PT0gJycgfHxcbiAgICAgIChzcmNQYXRoWzBdICYmIHNyY1BhdGhbMF0uY2hhckF0KDApID09PSAnLycpO1xuXG4gIC8vIHB1dCB0aGUgaG9zdCBiYWNrXG4gIGlmIChwc3ljaG90aWMpIHtcbiAgICByZXN1bHQuaG9zdG5hbWUgPSByZXN1bHQuaG9zdCA9IGlzQWJzb2x1dGUgPyAnJyA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcmNQYXRoLmxlbmd0aCA/IHNyY1BhdGguc2hpZnQoKSA6ICcnO1xuICAgIC8vb2NjYXRpb25hbHkgdGhlIGF1dGggY2FuIGdldCBzdHVjayBvbmx5IGluIGhvc3RcbiAgICAvL3RoaXMgZXNwZWNpYWxseSBoYXBwZW5zIGluIGNhc2VzIGxpa2VcbiAgICAvL3VybC5yZXNvbHZlT2JqZWN0KCdtYWlsdG86bG9jYWwxQGRvbWFpbjEnLCAnbG9jYWwyQGRvbWFpbjInKVxuICAgIHZhciBhdXRoSW5Ib3N0ID0gcmVzdWx0Lmhvc3QgJiYgcmVzdWx0Lmhvc3QuaW5kZXhPZignQCcpID4gMCA/XG4gICAgICAgICAgICAgICAgICAgICByZXN1bHQuaG9zdC5zcGxpdCgnQCcpIDogZmFsc2U7XG4gICAgaWYgKGF1dGhJbkhvc3QpIHtcbiAgICAgIHJlc3VsdC5hdXRoID0gYXV0aEluSG9zdC5zaGlmdCgpO1xuICAgICAgcmVzdWx0Lmhvc3QgPSByZXN1bHQuaG9zdG5hbWUgPSBhdXRoSW5Ib3N0LnNoaWZ0KCk7XG4gICAgfVxuICB9XG5cbiAgbXVzdEVuZEFicyA9IG11c3RFbmRBYnMgfHwgKHJlc3VsdC5ob3N0ICYmIHNyY1BhdGgubGVuZ3RoKTtcblxuICBpZiAobXVzdEVuZEFicyAmJiAhaXNBYnNvbHV0ZSkge1xuICAgIHNyY1BhdGgudW5zaGlmdCgnJyk7XG4gIH1cblxuICBpZiAoIXNyY1BhdGgubGVuZ3RoKSB7XG4gICAgcmVzdWx0LnBhdGhuYW1lID0gbnVsbDtcbiAgICByZXN1bHQucGF0aCA9IG51bGw7XG4gIH0gZWxzZSB7XG4gICAgcmVzdWx0LnBhdGhuYW1lID0gc3JjUGF0aC5qb2luKCcvJyk7XG4gIH1cblxuICAvL3RvIHN1cHBvcnQgcmVxdWVzdC5odHRwXG4gIGlmICghdXRpbC5pc051bGwocmVzdWx0LnBhdGhuYW1lKSB8fCAhdXRpbC5pc051bGwocmVzdWx0LnNlYXJjaCkpIHtcbiAgICByZXN1bHQucGF0aCA9IChyZXN1bHQucGF0aG5hbWUgPyByZXN1bHQucGF0aG5hbWUgOiAnJykgK1xuICAgICAgICAgICAgICAgICAgKHJlc3VsdC5zZWFyY2ggPyByZXN1bHQuc2VhcmNoIDogJycpO1xuICB9XG4gIHJlc3VsdC5hdXRoID0gcmVsYXRpdmUuYXV0aCB8fCByZXN1bHQuYXV0aDtcbiAgcmVzdWx0LnNsYXNoZXMgPSByZXN1bHQuc2xhc2hlcyB8fCByZWxhdGl2ZS5zbGFzaGVzO1xuICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cblVybC5wcm90b3R5cGUucGFyc2VIb3N0ID0gZnVuY3Rpb24oKSB7XG4gIHZhciBob3N0ID0gdGhpcy5ob3N0O1xuICB2YXIgcG9ydCA9IHBvcnRQYXR0ZXJuLmV4ZWMoaG9zdCk7XG4gIGlmIChwb3J0KSB7XG4gICAgcG9ydCA9IHBvcnRbMF07XG4gICAgaWYgKHBvcnQgIT09ICc6Jykge1xuICAgICAgdGhpcy5wb3J0ID0gcG9ydC5zdWJzdHIoMSk7XG4gICAgfVxuICAgIGhvc3QgPSBob3N0LnN1YnN0cigwLCBob3N0Lmxlbmd0aCAtIHBvcnQubGVuZ3RoKTtcbiAgfVxuICBpZiAoaG9zdCkgdGhpcy5ob3N0bmFtZSA9IGhvc3Q7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgaXNTdHJpbmc6IGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiB0eXBlb2YoYXJnKSA9PT0gJ3N0cmluZyc7XG4gIH0sXG4gIGlzT2JqZWN0OiBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gdHlwZW9mKGFyZykgPT09ICdvYmplY3QnICYmIGFyZyAhPT0gbnVsbDtcbiAgfSxcbiAgaXNOdWxsOiBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gYXJnID09PSBudWxsO1xuICB9LFxuICBpc051bGxPclVuZGVmaW5lZDogZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIGFyZyA9PSBudWxsO1xuICB9XG59O1xuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihtb2R1bGUpIHtcblx0aWYgKCFtb2R1bGUud2VicGFja1BvbHlmaWxsKSB7XG5cdFx0bW9kdWxlLmRlcHJlY2F0ZSA9IGZ1bmN0aW9uKCkge307XG5cdFx0bW9kdWxlLnBhdGhzID0gW107XG5cdFx0Ly8gbW9kdWxlLnBhcmVudCA9IHVuZGVmaW5lZCBieSBkZWZhdWx0XG5cdFx0aWYgKCFtb2R1bGUuY2hpbGRyZW4pIG1vZHVsZS5jaGlsZHJlbiA9IFtdO1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUsIFwibG9hZGVkXCIsIHtcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gbW9kdWxlLmw7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZSwgXCJpZFwiLCB7XG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIG1vZHVsZS5pO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdG1vZHVsZS53ZWJwYWNrUG9seWZpbGwgPSAxO1xuXHR9XG5cdHJldHVybiBtb2R1bGU7XG59O1xuIiwiaW1wb3J0ICcjL2NvbW1vbi9icm93c2VyJztcbmltcG9ydCB7IGdldEFjdGl2ZVRhYiwgbWFrZVBhdXNlLCBzZW5kQ21kLCByZXF1ZXN0IH0gZnJvbSAnIy9jb21tb24nO1xuaW1wb3J0IHsgQlVJTERfSU5fU0NSSVBUX1NSQywgVElNRU9VVF8yNEhPVVJTLCBUSU1FT1VUX01BWCwgSVNfREVWIH0gZnJvbSAnIy9jb21tb24vY29uc3RzJztcbmltcG9ydCB7IGRlZXBDb3B5IH0gZnJvbSAnIy9jb21tb24vb2JqZWN0JztcbmltcG9ydCAqIGFzIHRsZCBmcm9tICcjL2NvbW1vbi90bGQnO1xuaW1wb3J0ICogYXMgc3luYyBmcm9tICcuL3N5bmMnO1xuaW1wb3J0IHsgY29tbWFuZHMgfSBmcm9tICcuL3V0aWxzJztcbmltcG9ydCB7IGdldERhdGEsIGNoZWNrUmVtb3ZlIH0gZnJvbSAnLi91dGlscy9kYic7XG5pbXBvcnQgeyBpbml0aWFsaXplIH0gZnJvbSAnLi91dGlscy9pbml0JztcbmltcG9ydCB7IGdldE9wdGlvbiwgaG9va09wdGlvbnMgfSBmcm9tICcuL3V0aWxzL29wdGlvbnMnO1xuaW1wb3J0IHsgcG9wdXBUYWJzIH0gZnJvbSAnLi91dGlscy9wb3B1cC10cmFja2VyJztcbmltcG9ydCB7IGdldEluamVjdGVkU2NyaXB0cyB9IGZyb20gJy4vdXRpbHMvcHJlaW5qZWN0JztcbmltcG9ydCB7IFNDUklQVF9URU1QTEFURSwgcmVzZXRTY3JpcHRUZW1wbGF0ZSB9IGZyb20gJy4vdXRpbHMvdGVtcGxhdGUtaG9vayc7XG5pbXBvcnQgeyByZXNldFZhbHVlT3BlbmVyLCBhZGRWYWx1ZU9wZW5lciB9IGZyb20gJy4vdXRpbHMvdmFsdWVzJztcbmltcG9ydCB7IGNsZWFyUmVxdWVzdHNCeVRhYklkIH0gZnJvbSAnLi91dGlscy9yZXF1ZXN0cyc7XG5pbXBvcnQgJy4vdXRpbHMvY2xpcGJvYXJkJztcbmltcG9ydCAnLi91dGlscy9ob3RrZXlzJztcbmltcG9ydCAnLi91dGlscy9pY29uJztcbmltcG9ydCAnLi91dGlscy9ub3RpZmljYXRpb25zJztcbmltcG9ydCAnLi91dGlscy9zY3JpcHQnO1xuaW1wb3J0ICcuL3V0aWxzL3RhYnMnO1xuaW1wb3J0ICcuL3V0aWxzL3Rlc3Rlcic7XG5pbXBvcnQgJy4vdXRpbHMvdXBkYXRlJztcblxuaG9va09wdGlvbnMoKGNoYW5nZXMpID0+IHtcbiAgaWYgKCdhdXRvVXBkYXRlJyBpbiBjaGFuZ2VzKSB7XG4gICAgYXV0b1VwZGF0ZSgpO1xuICB9XG4gIGlmIChTQ1JJUFRfVEVNUExBVEUgaW4gY2hhbmdlcykge1xuICAgIHJlc2V0U2NyaXB0VGVtcGxhdGUoY2hhbmdlcyk7XG4gIH1cbiAgc2VuZENtZCgnVXBkYXRlT3B0aW9ucycsIGNoYW5nZXMpO1xufSk7XG5cbk9iamVjdC5hc3NpZ24oY29tbWFuZHMsIHtcbiAgLyoqIEByZXR1cm4ge1Byb21pc2U8eyBzY3JpcHRzOiBWTVNjcmlwdFtdLCBjYWNoZTogT2JqZWN0LCBzeW5jOiBPYmplY3QgfT59ICovXG4gIGFzeW5jIEdldERhdGEoaWRzKSB7XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IGdldERhdGEoaWRzKTtcbiAgICBkYXRhLnN5bmMgPSBzeW5jLmdldFN0YXRlcygpO1xuICAgIHJldHVybiBkYXRhO1xuICB9LFxuICAvKiogQHJldHVybiB7UHJvbWlzZTxPYmplY3Q+fSAqL1xuICBhc3luYyBHZXRJbmplY3RlZCh7IHVybCwgZm9yY2VDb250ZW50IH0sIHNyYykge1xuICAgIGNvbnN0IHsgZnJhbWVJZCwgdGFiIH0gPSBzcmM7XG4gICAgY29uc3QgdGFiSWQgPSB0YWIuaWQ7XG4gICAgaWYgKCF1cmwpIHVybCA9IHNyYy51cmwgfHwgdGFiLnVybDtcbiAgICBpZiAoIWZyYW1lSWQpIHtcbiAgICAgIHJlc2V0VmFsdWVPcGVuZXIodGFiSWQpO1xuICAgICAgY2xlYXJSZXF1ZXN0c0J5VGFiSWQodGFiSWQpO1xuICAgIH1cbiAgICBjb25zdCByZXMgPSBhd2FpdCBnZXRJbmplY3RlZFNjcmlwdHModXJsLCB0YWJJZCwgZnJhbWVJZCwgZm9yY2VDb250ZW50KTtcbiAgICBjb25zdCB7IGZlZWRiYWNrLCBpbmplY3QsIHZhbE9wSWRzIH0gPSByZXM7XG4gICAgaW5qZWN0LmlzUG9wdXBTaG93biA9IHBvcHVwVGFic1t0YWJJZF07XG4gICAgLy8gSW5qZWN0aW5nIGtub3duIGNvbnRlbnQgc2NyaXB0cyB3aXRob3V0IHdhaXRpbmcgZm9yIEluamVjdGlvbkZlZWRiYWNrIG1lc3NhZ2UuXG4gICAgLy8gUnVubmluZyBpbiBhIHNlcGFyYXRlIHRhc2sgYmVjYXVzZSBpdCBtYXkgdGFrZSBhIGxvbmcgdGltZSB0byBzZXJpYWxpemUgZGF0YS5cbiAgICBpZiAoZmVlZGJhY2subGVuZ3RoKSB7XG4gICAgICBzZXRUaW1lb3V0KGNvbW1hbmRzLkluamVjdGlvbkZlZWRiYWNrLCAwLCB7IGZlZWRiYWNrIH0sIHNyYyk7XG4gICAgfVxuICAgIGFkZFZhbHVlT3BlbmVyKHRhYklkLCBmcmFtZUlkLCB2YWxPcElkcyk7XG4gICAgcmV0dXJuIGluamVjdDtcbiAgfSxcbiAgLyoqIEByZXR1cm4ge1Byb21pc2U8T2JqZWN0Pn0gKi9cbiAgYXN5bmMgR2V0VGFiRG9tYWluKCkge1xuICAgIGNvbnN0IHRhYiA9IGF3YWl0IGdldEFjdGl2ZVRhYigpIHx8IHt9O1xuICAgIGNvbnN0IHVybCA9IHRhYi5wZW5kaW5nVXJsIHx8IHRhYi51cmwgfHwgJyc7XG4gICAgY29uc3QgaG9zdCA9IHVybC5tYXRjaCgvXmh0dHBzPzpcXC9cXC8oW14vXSspfCQvKVsxXTtcbiAgICByZXR1cm4ge1xuICAgICAgdGFiLFxuICAgICAgZG9tYWluOiBob3N0ICYmIHRsZC5nZXREb21haW4oaG9zdCkgfHwgaG9zdCxcbiAgICB9O1xuICB9LFxuICAvKipcbiAgICogVGltZXJzIGluIGNvbnRlbnQgc2NyaXB0cyBhcmUgc2hhcmVkIHdpdGggdGhlIHdlYiBwYWdlIHNvIGl0IGNhbiBjbGVhciB0aGVtLlxuICAgKiBhd2FpdCBzZW5kQ21kKCdTZXRUaW1lb3V0JywgMTAwKSBpbiBpbmplY3RlZC9jb250ZW50XG4gICAqIGF3YWl0IGJyaWRnZS5zZW5kKCdTZXRUaW1lb3V0JywgMTAwKSBpbiBpbmplY3RlZC93ZWJcbiAgICovXG4gIFNldFRpbWVvdXQobXMpIHtcbiAgICByZXR1cm4gbXMgPiAwICYmIG1ha2VQYXVzZShtcyk7XG4gIH0sXG59KTtcblxuLy8gY29tbWFuZHMgdG8gc3luYyB1bmNvbmRpdGlvbmFsbHkgcmVnYXJkbGVzcyBvZiB0aGUgcmV0dXJuZWQgdmFsdWUgZnJvbSB0aGUgaGFuZGxlclxuY29uc3QgY29tbWFuZHNUb1N5bmMgPSBbXG4gICdNYXJrUmVtb3ZlZCcsXG4gICdNb3ZlJyxcbiAgJ1BhcnNlU2NyaXB0JyxcbiAgJ1JlbW92ZVNjcmlwdCcsXG4gICdVcGRhdGVTY3JpcHRJbmZvJyxcbl07XG4vLyBjb21tYW5kcyB0byBzeW5jIG9ubHkgaWYgdGhlIGhhbmRsZXIgcmV0dXJucyBhIHRydXRoeSB2YWx1ZVxuY29uc3QgY29tbWFuZHNUb1N5bmNJZlRydXRoeSA9IFtcbiAgJ0NoZWNrUmVtb3ZlJyxcbiAgJ0NoZWNrVXBkYXRlJyxcbiAgJ0NoZWNrVXBkYXRlQWxsJyxcbl07XG5cbmFzeW5jIGZ1bmN0aW9uIGhhbmRsZUNvbW1hbmRNZXNzYWdlKHJlcSwgc3JjKSB7XG4gIGNvbnN0IHsgY21kIH0gPSByZXE7XG4gIGNvbnN0IHJlcyA9IGF3YWl0IGNvbW1hbmRzW2NtZF0/LihyZXEuZGF0YSwgc3JjKTtcbiAgaWYgKGNvbW1hbmRzVG9TeW5jLmluY2x1ZGVzKGNtZClcbiAgfHwgcmVzICYmIGNvbW1hbmRzVG9TeW5jSWZUcnV0aHkuaW5jbHVkZXMoY21kKSkge1xuICAgIHN5bmMuc3luYygpO1xuICB9XG4gIC8vIGB1bmRlZmluZWRgIGlzIG5vdCB0cmFuc2ZlcmFibGUsIGJ1dCBgbnVsbGAgaXNcbiAgcmV0dXJuIHJlcyA/PyBudWxsO1xufVxuXG5mdW5jdGlvbiBhdXRvVXBkYXRlKCkge1xuICBjb25zdCBpbnRlcnZhbCA9IElTX0RFViA/IDEwMDAgOiAoK2dldE9wdGlvbignYXV0b1VwZGF0ZScpIHx8IDApICogVElNRU9VVF8yNEhPVVJTO1xuICBpZiAoIWludGVydmFsKSByZXR1cm47XG4gIGxldCBlbGFwc2VkID0gRGF0ZS5ub3coKSAtIGdldE9wdGlvbignbGFzdFVwZGF0ZScpO1xuICBpZiAoZWxhcHNlZCA+PSBpbnRlcnZhbCkge1xuICAgIGhhbmRsZUNvbW1hbmRNZXNzYWdlKHsgY21kOiAnQ2hlY2tVcGRhdGVBbGwnIH0pO1xuICAgIGVsYXBzZWQgPSAwO1xuICB9XG4gIGNsZWFyVGltZW91dChhdXRvVXBkYXRlLnRpbWVyKTtcbiAgYXV0b1VwZGF0ZS50aW1lciA9IHNldFRpbWVvdXQoYXV0b1VwZGF0ZSwgTWF0aC5taW4oVElNRU9VVF9NQVgsIGludGVydmFsIC0gZWxhcHNlZCkpO1xufVxuXG5hc3luYyBmdW5jdGlvbiBpbml0QnVpbGRpbigpIHtcbiAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCByZXF1ZXN0KEJVSUxEX0lOX1NDUklQVF9TUkMsIHtcbiAgICBjYWNoZTogJ25vLWNhY2hlJyxcbiAgICBoZWFkZXJzOiB7IEFjY2VwdDogJ3RleHQveC11c2Vyc2NyaXB0LW1ldGEsKi8qJyB9LFxuICB9KTtcblxuICBjb25zdCByZXMgPSBhd2FpdCBjb21tYW5kcy5QYXJzZVNjcmlwdCh7XG4gICAgdXJsOiBCVUlMRF9JTl9TQ1JJUFRfU1JDLFxuICAgIGNvZGU6IGRhdGEsXG4gICAgY3VzdG9tOiB7IGJ1aWxkSW46IHRydWUgfSxcbiAgfSk7XG4gIHN5bmMuc3luYygpO1xuXG4gIGlmIChyZXMud2hlcmUuaWQgIT09IDEpIHtcbiAgICB0aHJvdyBgd3JvbmcgaWQ6ICR7cmVzLndoZXJlLmlkfWA7XG4gIH1cbn1cblxuaW5pdGlhbGl6ZSgoKSA9PiB7XG4gIGdsb2JhbC5oYW5kbGVDb21tYW5kTWVzc2FnZSA9IGhhbmRsZUNvbW1hbmRNZXNzYWdlO1xuICBnbG9iYWwuZGVlcENvcHkgPSBkZWVwQ29weTtcbiAgYnJvd3Nlci5ydW50aW1lLm9uTWVzc2FnZS5hZGRMaXN0ZW5lcihcbiAgICBJU19GSVJFRk9YIC8vIGluIEZGIGEgcmVqZWN0ZWQgUHJvbWlzZSB2YWx1ZSBpcyB0cmFuc2ZlcnJlZCBvbmx5IGlmIGl0J3MgYW4gRXJyb3Igb2JqZWN0XG4gICAgICA/ICguLi5hcmdzKSA9PiBoYW5kbGVDb21tYW5kTWVzc2FnZSguLi5hcmdzKS5jYXRjaChlID0+IChcbiAgICAgICAgUHJvbWlzZS5yZWplY3QoZSBpbnN0YW5jZW9mIEVycm9yID8gZSA6IG5ldyBFcnJvcihlKSlcbiAgICAgICkpIC8vIERpZG4ndCB1c2UgYHRocm93YCB0byBhdm9pZCBpbnRlcnJ1cHRpb24gaW4gZGV2dG9vbHMgd2l0aCBwYXVzZS1vbi1leGNlcHRpb24gZW5hYmxlZC5cbiAgICAgIDogaGFuZGxlQ29tbWFuZE1lc3NhZ2UsXG4gICk7XG5cbiAgLy8gY2hlY2sgYW5kIGluc3RhbGwgdGhlIGJ1aWxkLWluIHNjcmlwdFxuICBpbml0QnVpbGRpbigpO1xuICBjb25zb2xlLmluZm8oJ2luaXRCdWlsZGluLi4uJyk7XG4gIHNldFRpbWVvdXQoYXV0b1VwZGF0ZSwgSVNfREVWID8gMSA6IDJlNCk7XG4gIHN5bmMuaW5pdGlhbGl6ZSgpO1xuICBjaGVja1JlbW92ZSgpO1xuICBzZXRJbnRlcnZhbChjaGVja1JlbW92ZSwgVElNRU9VVF8yNEhPVVJTKTtcbiAgY29uc3QgYXBpID0gZ2xvYmFsLmNocm9tZS5kZWNsYXJhdGl2ZUNvbnRlbnQ7XG4gIGlmIChhcGkpIHtcbiAgICAvLyBVc2luZyBkZWNsYXJhdGl2ZUNvbnRlbnQgdG8gcnVuIGNvbnRlbnQgc2NyaXB0cyBlYXJsaWVyIHRoYW4gZG9jdW1lbnRfc3RhcnRcbiAgICBhcGkub25QYWdlQ2hhbmdlZC5nZXRSdWxlcyhhc3luYyAoW3J1bGVdKSA9PiB7XG4gICAgICBjb25zdCBpZCA9IHJ1bGU/LmlkO1xuICAgICAgY29uc3QgbmV3SWQgPSBwcm9jZXNzLmVudi5JTklUX0ZVTkNfTkFNRTtcbiAgICAgIGlmIChpZCA9PT0gbmV3SWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGlkKSB7XG4gICAgICAgIGF3YWl0IGJyb3dzZXIuZGVjbGFyYXRpdmVDb250ZW50Lm9uUGFnZUNoYW5nZWQucmVtb3ZlUnVsZXMoW2lkXSk7XG4gICAgICB9XG4gICAgICBhcGkub25QYWdlQ2hhbmdlZC5hZGRSdWxlcyhbe1xuICAgICAgICBpZDogbmV3SWQsXG4gICAgICAgIGNvbmRpdGlvbnM6IFtcbiAgICAgICAgICBuZXcgYXBpLlBhZ2VTdGF0ZU1hdGNoZXIoe1xuICAgICAgICAgICAgcGFnZVVybDogeyB1cmxDb250YWluczogJzovLycgfSwgLy8gZXNzZW50aWFsbHkgbGlrZSA8YWxsX3VybHM+XG4gICAgICAgICAgfSksXG4gICAgICAgIF0sXG4gICAgICAgIGFjdGlvbnM6IFtcbiAgICAgICAgICBuZXcgYXBpLlJlcXVlc3RDb250ZW50U2NyaXB0KHtcbiAgICAgICAgICAgIGpzOiBicm93c2VyLnJ1bnRpbWUuZ2V0TWFuaWZlc3QoKS5jb250ZW50X3NjcmlwdHNbMF0uanMsXG4gICAgICAgICAgICAvLyBOb3QgdXNpbmcgYGFsbEZyYW1lczp0cnVlYCBhcyB0aGVyZSdzIG5vIGltcHJvdmVtZW50IGluIGZyYW1lc1xuICAgICAgICAgIH0pLFxuICAgICAgICBdLFxuICAgICAgfV0pO1xuICAgIH0pO1xuICB9XG59KTtcbiIsImltcG9ydCBFdmVudEVtaXR0ZXIgZnJvbSAnIy9jb21tb24vZXZlbnRzJztcblxuZXhwb3J0IGRlZmF1bHQgbmV3IEV2ZW50RW1pdHRlcihbXG4gICdzY3JpcHRFZGl0JyxcbiAgJ3NjcmlwdENoYW5nZWQnLFxuXSk7XG4iLCJpbXBvcnQgeyBjb21tYW5kcyB9IGZyb20gJy4uL3V0aWxzL21lc3NhZ2UnO1xuaW1wb3J0IHsgZ2V0U2NyaXB0cyB9IGZyb20gJy4uL3V0aWxzL2RiJztcblxuZXhwb3J0IGNvbnN0IHNjcmlwdCA9IHtcbiAgLyoqXG4gICAqIFVwZGF0ZSBhbiBleGlzdGluZyBzY3JpcHQgaWRlbnRpZmllZCBieSB0aGUgcHJvdmlkZWQgaWRcbiAgICogQHBhcmFtIHt7IGlkLCBjb2RlLCBtZXNzYWdlLCBpc05ldywgY29uZmlnLCBjdXN0b20sIHByb3BzLCB1cGRhdGUgfX0gZGF0YVxuICAgKiBAcmV0dXJuIHtQcm9taXNlPHsgaXNOZXc/LCB1cGRhdGUsIHdoZXJlIH0+fVxuICAgKi9cbiAgdXBkYXRlOiBjb21tYW5kcy5QYXJzZVNjcmlwdCxcbiAgLyoqXG4gICAqIExpc3QgYWxsIGF2YWlsYWJsZSBzY3JpcHRzLCB3aXRob3V0IHNjcmlwdCBjb2RlXG4gICAqIEByZXR1cm4ge1Byb21pc2U8Vk1TY3JpcHRbXT59XG4gICAqL1xuICBsaXN0OiBhc3luYyAoKSA9PiBnZXRTY3JpcHRzKCksXG4gIC8qKlxuICAgKiBHZXQgc2NyaXB0IGNvZGUgb2YgYW4gZXhpc3Rpbmcgc2NyaXB0XG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpZFxuICAgKiBAcmV0dXJuIHtQcm9taXNlPHN0cmluZz59XG4gICAqL1xuICBnZXQ6IGNvbW1hbmRzLkdldFNjcmlwdENvZGUsXG4gIC8qKlxuICAgKiBSZW1vdmUgc2NyaXB0XG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpZFxuICAgKiBAcmV0dXJuIHtQcm9taXNlPHZvaWQ+fVxuICAgKi9cbiAgcmVtb3ZlOiBpZCA9PiBjb21tYW5kcy5NYXJrUmVtb3ZlZCh7IGlkLCByZW1vdmVkOiB0cnVlIH0pLFxufTtcbiIsImltcG9ydCB7XG4gIGRlYm91bmNlLCBub3JtYWxpemVLZXlzLCByZXF1ZXN0LCBub29wLCBtYWtlUGF1c2UsIGVuc3VyZUFycmF5LCBzZW5kQ21kLFxufSBmcm9tICcjL2NvbW1vbic7XG5pbXBvcnQgeyBUSU1FT1VUX0hPVVIgfSBmcm9tICcjL2NvbW1vbi9jb25zdHMnO1xuaW1wb3J0IHtcbiAgZm9yRWFjaEVudHJ5LCBvYmplY3RTZXQsIG9iamVjdFBpY2ssXG59IGZyb20gJyMvY29tbW9uL29iamVjdCc7XG5pbXBvcnQge1xuICBnZXRFdmVudEVtaXR0ZXIsIGdldE9wdGlvbiwgc2V0T3B0aW9uLCBob29rT3B0aW9ucyxcbn0gZnJvbSAnLi4vdXRpbHMnO1xuaW1wb3J0IHtcbiAgc29ydFNjcmlwdHMsXG4gIHVwZGF0ZVNjcmlwdEluZm8sXG59IGZyb20gJy4uL3V0aWxzL2RiJztcbmltcG9ydCB7IHNjcmlwdCBhcyBwbHVnaW5TY3JpcHQgfSBmcm9tICcuLi9wbHVnaW4nO1xuXG5jb25zdCBzZXJ2aWNlTmFtZXMgPSBbXTtcbmNvbnN0IHNlcnZpY2VDbGFzc2VzID0gW107XG5jb25zdCBzZXJ2aWNlcyA9IHt9O1xuY29uc3QgYXV0b1N5bmMgPSBkZWJvdW5jZShzeW5jLCBUSU1FT1VUX0hPVVIpO1xubGV0IHdvcmtpbmcgPSBQcm9taXNlLnJlc29sdmUoKTtcbmxldCBzeW5jQ29uZmlnO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0SXRlbUZpbGVuYW1lKHsgbmFtZSwgdXJpIH0pIHtcbiAgLy8gV2hlbiBnZXQgb3IgcmVtb3ZlLCBjdXJyZW50IG5hbWUgc2hvdWxkIGJlIHByZWZlcmVkXG4gIGlmIChuYW1lKSByZXR1cm4gbmFtZTtcbiAgLy8gb3RoZXJ3aXNlIHVyaSBkZXJpdmVkIG5hbWUgc2hvdWxkIGJlIHByZWZlcmVkXG4gIC8vIHVyaSBpcyBhbHJlYWR5IGVuY29kZWQgYnkgYGVuY29kZUZpbGVuYW1lYFxuICByZXR1cm4gYHZtQDItJHt1cml9YDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1NjcmlwdEZpbGUobmFtZSkge1xuICByZXR1cm4gL152bSg/OkBcXGQrKT8tLy50ZXN0KG5hbWUpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldFVSSShuYW1lKSB7XG4gIGNvbnN0IGkgPSBuYW1lLmluZGV4T2YoJy0nKTtcbiAgY29uc3QgWywgdmVyc2lvbl0gPSBuYW1lLnNsaWNlKDAsIGkpLnNwbGl0KCdAJyk7XG4gIGlmICh2ZXJzaW9uID09PSAnMicpIHtcbiAgICAvLyB1cmkgaXMgZW5jb2RlZCBieSBgZW5jb2RlZEZpbGVuYW1lYCwgc28gd2Ugc2hvdWxkIG5vdCBkZWNvZGUgaXQgaGVyZVxuICAgIHJldHVybiBuYW1lLnNsaWNlKGkgKyAxKTtcbiAgfVxuICB0cnkge1xuICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQobmFtZS5zbGljZSgzKSk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIHJldHVybiBuYW1lLnNsaWNlKDMpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGluaXRDb25maWcoKSB7XG4gIGZ1bmN0aW9uIGdldChrZXksIGRlZikge1xuICAgIGNvbnN0IGtleXMgPSBub3JtYWxpemVLZXlzKGtleSk7XG4gICAga2V5cy51bnNoaWZ0KCdzeW5jJyk7XG4gICAgcmV0dXJuIGdldE9wdGlvbihrZXlzLCBkZWYpO1xuICB9XG4gIGZ1bmN0aW9uIHNldChrZXksIHZhbHVlKSB7XG4gICAgY29uc3Qga2V5cyA9IG5vcm1hbGl6ZUtleXMoa2V5KTtcbiAgICBrZXlzLnVuc2hpZnQoJ3N5bmMnKTtcbiAgICBzZXRPcHRpb24oa2V5cywgdmFsdWUpO1xuICB9XG4gIGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgbGV0IGNvbmZpZyA9IGdldE9wdGlvbignc3luYycpO1xuICAgIGlmICghY29uZmlnIHx8ICFjb25maWcuc2VydmljZXMpIHtcbiAgICAgIGNvbmZpZyA9IHtcbiAgICAgICAgc2VydmljZXM6IHt9LFxuICAgICAgfTtcbiAgICAgIHNldChbXSwgY29uZmlnKTtcbiAgICB9XG4gIH1cbiAgaW5pdCgpO1xuICByZXR1cm4geyBnZXQsIHNldCB9O1xufVxuZnVuY3Rpb24gc2VydmljZUNvbmZpZyhuYW1lKSB7XG4gIGZ1bmN0aW9uIGdldEtleXMoa2V5KSB7XG4gICAgY29uc3Qga2V5cyA9IG5vcm1hbGl6ZUtleXMoa2V5KTtcbiAgICBrZXlzLnVuc2hpZnQoJ3NlcnZpY2VzJywgbmFtZSk7XG4gICAgcmV0dXJuIGtleXM7XG4gIH1cbiAgZnVuY3Rpb24gZ2V0KGtleSwgZGVmKSB7XG4gICAgcmV0dXJuIHN5bmNDb25maWcuZ2V0KGdldEtleXMoa2V5KSwgZGVmKTtcbiAgfVxuICBmdW5jdGlvbiBzZXQoa2V5LCB2YWwpIHtcbiAgICBpZiAodHlwZW9mIGtleSA9PT0gJ29iamVjdCcpIHtcbiAgICAgIGtleTo6Zm9yRWFjaEVudHJ5KChbaywgdl0pID0+IHtcbiAgICAgICAgc3luY0NvbmZpZy5zZXQoZ2V0S2V5cyhrKSwgdik7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3luY0NvbmZpZy5zZXQoZ2V0S2V5cyhrZXkpLCB2YWwpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBjbGVhcigpIHtcbiAgICBzeW5jQ29uZmlnLnNldChnZXRLZXlzKCksIHt9KTtcbiAgfVxuICByZXR1cm4geyBnZXQsIHNldCwgY2xlYXIgfTtcbn1cbmZ1bmN0aW9uIHNlcnZpY2VTdGF0ZSh2YWxpZFN0YXRlcywgaW5pdGlhbFN0YXRlLCBvbkNoYW5nZSkge1xuICBsZXQgc3RhdGUgPSBpbml0aWFsU3RhdGUgfHwgdmFsaWRTdGF0ZXNbMF07XG4gIGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gc3RhdGU7XG4gIH1cbiAgZnVuY3Rpb24gc2V0KG5ld1N0YXRlKSB7XG4gICAgaWYgKHZhbGlkU3RhdGVzLmluY2x1ZGVzKG5ld1N0YXRlKSkge1xuICAgICAgc3RhdGUgPSBuZXdTdGF0ZTtcbiAgICAgIGlmIChvbkNoYW5nZSkgb25DaGFuZ2UoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS53YXJuKCdJbnZhbGlkIHN0YXRlOicsIG5ld1N0YXRlKTtcbiAgICB9XG4gICAgcmV0dXJuIGdldCgpO1xuICB9XG4gIGZ1bmN0aW9uIGlzKHN0YXRlcykge1xuICAgIHJldHVybiBlbnN1cmVBcnJheShzdGF0ZXMpLmluY2x1ZGVzKHN0YXRlKTtcbiAgfVxuICByZXR1cm4geyBnZXQsIHNldCwgaXMgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRTdGF0ZXMoKSB7XG4gIHJldHVybiBzZXJ2aWNlTmFtZXMubWFwKChuYW1lKSA9PiB7XG4gICAgY29uc3Qgc2VydmljZSA9IHNlcnZpY2VzW25hbWVdO1xuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiBzZXJ2aWNlLm5hbWUsXG4gICAgICBkaXNwbGF5TmFtZTogc2VydmljZS5kaXNwbGF5TmFtZSxcbiAgICAgIGF1dGhTdGF0ZTogc2VydmljZS5hdXRoU3RhdGUuZ2V0KCksXG4gICAgICBzeW5jU3RhdGU6IHNlcnZpY2Uuc3luY1N0YXRlLmdldCgpLFxuICAgICAgbGFzdFN5bmM6IHNlcnZpY2UuY29uZmlnLmdldCgnbWV0YScsIHt9KS5sYXN0U3luYyxcbiAgICAgIHByb2dyZXNzOiBzZXJ2aWNlLnByb2dyZXNzLFxuICAgICAgcHJvcGVydGllczogc2VydmljZS5wcm9wZXJ0aWVzLFxuICAgICAgdXNlckNvbmZpZzogc2VydmljZS5nZXRVc2VyQ29uZmlnKCksXG4gICAgfTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGdldFNjcmlwdERhdGEoc2NyaXB0LCBzeW5jVmVyc2lvbiwgZXh0cmEpIHtcbiAgbGV0IGRhdGE7XG4gIGlmIChzeW5jVmVyc2lvbiA9PT0gMikge1xuICAgIGRhdGEgPSB7XG4gICAgICB2ZXJzaW9uOiBzeW5jVmVyc2lvbixcbiAgICAgIGN1c3RvbTogc2NyaXB0LmN1c3RvbSxcbiAgICAgIGNvbmZpZzogc2NyaXB0LmNvbmZpZyxcbiAgICAgIHByb3BzOiBvYmplY3RQaWNrKHNjcmlwdC5wcm9wcywgWydsYXN0VXBkYXRlZCddKSxcbiAgICB9O1xuICB9IGVsc2UgaWYgKHN5bmNWZXJzaW9uID09PSAxKSB7XG4gICAgZGF0YSA9IHtcbiAgICAgIHZlcnNpb246IHN5bmNWZXJzaW9uLFxuICAgICAgbW9yZToge1xuICAgICAgICBjdXN0b206IHNjcmlwdC5jdXN0b20sXG4gICAgICAgIGVuYWJsZWQ6IHNjcmlwdC5jb25maWcuZW5hYmxlZCxcbiAgICAgICAgdXBkYXRlOiBzY3JpcHQuY29uZmlnLnNob3VsZFVwZGF0ZSxcbiAgICAgICAgbGFzdFVwZGF0ZWQ6IHNjcmlwdC5wcm9wcy5sYXN0VXBkYXRlZCxcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxuICByZXR1cm4gT2JqZWN0LmFzc2lnbihkYXRhLCBleHRyYSk7XG59XG5mdW5jdGlvbiBwYXJzZVNjcmlwdERhdGEocmF3KSB7XG4gIGNvbnN0IGRhdGEgPSB7fTtcbiAgdHJ5IHtcbiAgICBjb25zdCBvYmogPSBKU09OLnBhcnNlKHJhdyk7XG4gICAgZGF0YS5jb2RlID0gb2JqLmNvZGU7XG4gICAgaWYgKG9iai52ZXJzaW9uID09PSAyKSB7XG4gICAgICBkYXRhLmNvbmZpZyA9IG9iai5jb25maWc7XG4gICAgICBkYXRhLmN1c3RvbSA9IG9iai5jdXN0b207XG4gICAgICBkYXRhLnByb3BzID0gb2JqLnByb3BzO1xuICAgIH0gZWxzZSBpZiAob2JqLnZlcnNpb24gPT09IDEpIHtcbiAgICAgIGlmIChvYmoubW9yZSkge1xuICAgICAgICBkYXRhLmN1c3RvbSA9IG9iai5tb3JlLmN1c3RvbTtcbiAgICAgICAgZGF0YS5jb25maWcgPSBvYmplY3RQdXJpZnkoe1xuICAgICAgICAgIGVuYWJsZWQ6IG9iai5tb3JlLmVuYWJsZWQsXG4gICAgICAgICAgc2hvdWxkVXBkYXRlOiBvYmoubW9yZS51cGRhdGUsXG4gICAgICAgIH0pO1xuICAgICAgICBkYXRhLnByb3BzID0gb2JqZWN0UHVyaWZ5KHtcbiAgICAgICAgICBsYXN0VXBkYXRlZDogb2JqLm1vcmUubGFzdFVwZGF0ZWQsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSBjYXRjaCAoZSkge1xuICAgIGRhdGEuY29kZSA9IHJhdztcbiAgfVxuICByZXR1cm4gZGF0YTtcbn1cblxuZnVuY3Rpb24gb2JqZWN0UHVyaWZ5KG9iaikge1xuICAvLyBSZW1vdmUga2V5cyB3aXRoIHVuZGVmaW5lZCB2YWx1ZXNcbiAgaWYgKEFycmF5LmlzQXJyYXkob2JqKSkge1xuICAgIG9iai5mb3JFYWNoKG9iamVjdFB1cmlmeSk7XG4gIH0gZWxzZSBpZiAob2JqICYmIHR5cGVvZiBvYmogPT09ICdvYmplY3QnKSB7XG4gICAgb2JqOjpmb3JFYWNoRW50cnkoKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3VuZGVmaW5lZCcpIGRlbGV0ZSBvYmpba2V5XTtcbiAgICAgIGVsc2Ugb2JqZWN0UHVyaWZ5KHZhbHVlKTtcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gb2JqO1xufVxuXG5mdW5jdGlvbiBzZXJ2aWNlRmFjdG9yeShiYXNlKSB7XG4gIGNvbnN0IFNlcnZpY2UgPSBmdW5jdGlvbiBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmluaXRpYWxpemUoKTtcbiAgfTtcbiAgU2VydmljZS5wcm90b3R5cGUgPSBiYXNlO1xuICBTZXJ2aWNlLmV4dGVuZCA9IGV4dGVuZFNlcnZpY2U7XG4gIHJldHVybiBTZXJ2aWNlO1xufVxuZnVuY3Rpb24gZXh0ZW5kU2VydmljZShvcHRpb25zKSB7XG4gIHJldHVybiBzZXJ2aWNlRmFjdG9yeShPYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUodGhpcy5wcm90b3R5cGUpLCBvcHRpb25zKSk7XG59XG5cbmNvbnN0IG9uU3RhdGVDaGFuZ2UgPSBkZWJvdW5jZSgoKSA9PiB7XG4gIHNlbmRDbWQoJ1VwZGF0ZVN5bmMnLCBnZXRTdGF0ZXMoKSk7XG59KTtcblxuZXhwb3J0IGNvbnN0IEJhc2VTZXJ2aWNlID0gc2VydmljZUZhY3Rvcnkoe1xuICBuYW1lOiAnYmFzZScsXG4gIGRpc3BsYXlOYW1lOiAnQmFzZVNlcnZpY2UnLFxuICBkZWxheVRpbWU6IDEwMDAsXG4gIHVybFByZWZpeDogJycsXG4gIG1ldGFGaWxlOiAnVmlvbGVudG1vbmtleScsXG4gIHByb3BlcnRpZXM6IHtcbiAgICBhdXRoVHlwZTogJ29hdXRoJyxcbiAgfSxcbiAgZ2V0VXNlckNvbmZpZzogbm9vcCxcbiAgc2V0VXNlckNvbmZpZzogbm9vcCxcbiAgaW5pdGlhbGl6ZSgpIHtcbiAgICB0aGlzLnByb2dyZXNzID0ge1xuICAgICAgZmluaXNoZWQ6IDAsXG4gICAgICB0b3RhbDogMCxcbiAgICB9O1xuICAgIHRoaXMuY29uZmlnID0gc2VydmljZUNvbmZpZyh0aGlzLm5hbWUpO1xuICAgIHRoaXMuYXV0aFN0YXRlID0gc2VydmljZVN0YXRlKFtcbiAgICAgICdpZGxlJyxcbiAgICAgICduby1hdXRoJyxcbiAgICAgICdpbml0aWFsaXppbmcnLFxuICAgICAgJ2F1dGhvcml6aW5nJywgLy8gaW4gY2FzZSBzb21lIHNlcnZpY2VzIHJlcXVpcmUgYXN5bmNocm9ub3VzIHJlcXVlc3RzIHRvIGdldCBhY2Nlc3NfdG9rZW5zXG4gICAgICAnYXV0aG9yaXplZCcsXG4gICAgICAndW5hdXRob3JpemVkJyxcbiAgICAgICdlcnJvcicsXG4gICAgXSwgbnVsbCwgb25TdGF0ZUNoYW5nZSk7XG4gICAgdGhpcy5zeW5jU3RhdGUgPSBzZXJ2aWNlU3RhdGUoW1xuICAgICAgJ2lkbGUnLFxuICAgICAgJ3JlYWR5JyxcbiAgICAgICdzeW5jaW5nJyxcbiAgICAgICdlcnJvcicsXG4gICAgXSwgbnVsbCwgb25TdGF0ZUNoYW5nZSk7XG4gICAgdGhpcy5sYXN0RmV0Y2ggPSBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB0aGlzLnN0YXJ0U3luYyA9IHRoaXMuc3luY0ZhY3RvcnkoKTtcbiAgICBjb25zdCBldmVudHMgPSBnZXRFdmVudEVtaXR0ZXIoKTtcbiAgICBbJ29uJywgJ29mZicsICdmaXJlJ11cbiAgICAuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICB0aGlzW2tleV0gPSAoLi4uYXJncykgPT4geyBldmVudHNba2V5XSguLi5hcmdzKTsgfTtcbiAgICB9KTtcbiAgfSxcbiAgbG9nKC4uLmFyZ3MpIHtcbiAgICBjb25zb2xlLmxvZyguLi5hcmdzKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXG4gIH0sXG4gIHN5bmNGYWN0b3J5KCkge1xuICAgIGxldCBwcm9taXNlO1xuICAgIGxldCBkZWJvdW5jZWRSZXNvbHZlO1xuICAgIGNvbnN0IHNob3VsZFN5bmMgPSAoKSA9PiB0aGlzLmF1dGhTdGF0ZS5pcygnYXV0aG9yaXplZCcpICYmIGdldEN1cnJlbnQoKSA9PT0gdGhpcy5uYW1lO1xuICAgIGNvbnN0IGdldFJlYWR5ID0gKCkgPT4ge1xuICAgICAgaWYgKCFzaG91bGRTeW5jKCkpIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgIHRoaXMubG9nKCdSZWFkeSB0byBzeW5jOicsIHRoaXMuZGlzcGxheU5hbWUpO1xuICAgICAgdGhpcy5zeW5jU3RhdGUuc2V0KCdyZWFkeScpO1xuICAgICAgd29ya2luZyA9IHdvcmtpbmcudGhlbigoKSA9PiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICBkZWJvdW5jZWRSZXNvbHZlID0gZGVib3VuY2UocmVzb2x2ZSwgMTAgKiAxMDAwKTtcbiAgICAgICAgZGVib3VuY2VkUmVzb2x2ZSgpO1xuICAgICAgfSkpXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIGlmIChzaG91bGRTeW5jKCkpIHJldHVybiB0aGlzLnN5bmMoKTtcbiAgICAgICAgdGhpcy5zeW5jU3RhdGUuc2V0KCdpZGxlJyk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHsgY29uc29sZS5lcnJvcihlcnIpOyB9KVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICBwcm9taXNlID0gbnVsbDtcbiAgICAgICAgZGVib3VuY2VkUmVzb2x2ZSA9IG51bGw7XG4gICAgICB9KTtcbiAgICAgIHByb21pc2UgPSB3b3JraW5nO1xuICAgIH07XG4gICAgZnVuY3Rpb24gc3RhcnRTeW5jKCkge1xuICAgICAgaWYgKCFwcm9taXNlKSBnZXRSZWFkeSgpO1xuICAgICAgaWYgKGRlYm91bmNlZFJlc29sdmUpIGRlYm91bmNlZFJlc29sdmUoKTtcbiAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH1cbiAgICByZXR1cm4gc3RhcnRTeW5jO1xuICB9LFxuICBwcmVwYXJlSGVhZGVycygpIHtcbiAgICB0aGlzLmhlYWRlcnMgPSB7fTtcbiAgfSxcbiAgcHJlcGFyZSgpIHtcbiAgICB0aGlzLmF1dGhTdGF0ZS5zZXQoJ2luaXRpYWxpemluZycpO1xuICAgIHJldHVybiAodGhpcy5pbml0VG9rZW4oKSA/IFByb21pc2UucmVzb2x2ZSh0aGlzLnVzZXIoKSkgOiBQcm9taXNlLnJlamVjdCh7XG4gICAgICB0eXBlOiAnbm8tYXV0aCcsXG4gICAgfSkpXG4gICAgLnRoZW4oKCkgPT4ge1xuICAgICAgdGhpcy5hdXRoU3RhdGUuc2V0KCdhdXRob3JpemVkJyk7XG4gICAgfSwgKGVycikgPT4ge1xuICAgICAgaWYgKFsnbm8tYXV0aCcsICd1bmF1dGhvcml6ZWQnXS5pbmNsdWRlcyhlcnI/LnR5cGUpKSB7XG4gICAgICAgIHRoaXMuYXV0aFN0YXRlLnNldChlcnIudHlwZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgIHRoaXMuYXV0aFN0YXRlLnNldCgnZXJyb3InKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuc3luY1N0YXRlLnNldCgnaWRsZScpO1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH0pO1xuICB9LFxuICBjaGVja1N5bmMoKSB7XG4gICAgcmV0dXJuIHRoaXMucHJlcGFyZSgpXG4gICAgLnRoZW4oKCkgPT4gdGhpcy5zdGFydFN5bmMoKSk7XG4gIH0sXG4gIHVzZXI6IG5vb3AsXG4gIGFjcXVpcmVMb2NrOiBub29wLFxuICByZWxlYXNlTG9jazogbm9vcCxcbiAgaGFuZGxlTWV0YUVycm9yKGVycikge1xuICAgIHRocm93IGVycjtcbiAgfSxcbiAgZ2V0TWV0YSgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXQoeyBuYW1lOiB0aGlzLm1ldGFGaWxlIH0pXG4gICAgLnRoZW4oZGF0YSA9PiBKU09OLnBhcnNlKGRhdGEpKVxuICAgIC5jYXRjaChlcnIgPT4gdGhpcy5oYW5kbGVNZXRhRXJyb3IoZXJyKSlcbiAgICAudGhlbihkYXRhID0+ICh7XG4gICAgICBuYW1lOiB0aGlzLm1ldGFGaWxlLFxuICAgICAgZGF0YSxcbiAgICB9KSk7XG4gIH0sXG4gIGluaXRUb2tlbigpIHtcbiAgICB0aGlzLnByZXBhcmVIZWFkZXJzKCk7XG4gICAgY29uc3QgdG9rZW4gPSB0aGlzLmNvbmZpZy5nZXQoJ3Rva2VuJyk7XG4gICAgdGhpcy5oZWFkZXJzLkF1dGhvcml6YXRpb24gPSB0b2tlbiA/IGBCZWFyZXIgJHt0b2tlbn1gIDogbnVsbDtcbiAgICByZXR1cm4gISF0b2tlbjtcbiAgfSxcbiAgbG9hZERhdGEob3B0aW9ucykge1xuICAgIGNvbnN0IHsgcHJvZ3Jlc3MgfSA9IHRoaXM7XG4gICAgY29uc3QgeyBkZWxheSA9IHRoaXMuZGVsYXlUaW1lIH0gPSBvcHRpb25zO1xuICAgIGxldCBsYXN0RmV0Y2ggPSBQcm9taXNlLnJlc29sdmUoKTtcbiAgICBpZiAoZGVsYXkpIHtcbiAgICAgIGxhc3RGZXRjaCA9IHRoaXMubGFzdEZldGNoXG4gICAgICAudGhlbih0cyA9PiBtYWtlUGF1c2UoZGVsYXkgLSAoRGF0ZS5ub3coKSAtIHRzKSkpXG4gICAgICAudGhlbigoKSA9PiBEYXRlLm5vdygpKTtcbiAgICAgIHRoaXMubGFzdEZldGNoID0gbGFzdEZldGNoO1xuICAgIH1cbiAgICBwcm9ncmVzcy50b3RhbCArPSAxO1xuICAgIG9uU3RhdGVDaGFuZ2UoKTtcbiAgICByZXR1cm4gbGFzdEZldGNoLnRoZW4oKCkgPT4ge1xuICAgICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMpO1xuICAgICAgb3B0aW9ucy5oZWFkZXJzID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5oZWFkZXJzLCBvcHRpb25zLmhlYWRlcnMpO1xuICAgICAgbGV0IHsgdXJsIH0gPSBvcHRpb25zO1xuICAgICAgaWYgKHVybC5zdGFydHNXaXRoKCcvJykpIHVybCA9IChvcHRpb25zLnByZWZpeCA/PyB0aGlzLnVybFByZWZpeCkgKyB1cmw7XG4gICAgICByZXR1cm4gcmVxdWVzdCh1cmwsIG9wdGlvbnMpO1xuICAgIH0pXG4gICAgLnRoZW4oKHsgZGF0YSB9KSA9PiAoeyBkYXRhIH0pLCBlcnJvciA9PiAoeyBlcnJvciB9KSlcbiAgICAudGhlbigoeyBkYXRhLCBlcnJvciB9KSA9PiB7XG4gICAgICBwcm9ncmVzcy5maW5pc2hlZCArPSAxO1xuICAgICAgb25TdGF0ZUNoYW5nZSgpO1xuICAgICAgaWYgKGVycm9yKSByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfSk7XG4gIH0sXG4gIGdldExvY2FsRGF0YSgpIHtcbiAgICByZXR1cm4gcGx1Z2luU2NyaXB0Lmxpc3QoKTtcbiAgfSxcbiAgZ2V0U3luY0RhdGEoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0TWV0YSgpXG4gICAgLnRoZW4ocmVtb3RlTWV0YSA9PiBQcm9taXNlLmFsbChbXG4gICAgICByZW1vdGVNZXRhLFxuICAgICAgdGhpcy5saXN0KCksXG4gICAgICB0aGlzLmdldExvY2FsRGF0YSgpLFxuICAgIF0pKTtcbiAgfSxcbiAgc3luYygpIHtcbiAgICB0aGlzLnByb2dyZXNzID0ge1xuICAgICAgZmluaXNoZWQ6IDAsXG4gICAgICB0b3RhbDogMCxcbiAgICB9O1xuICAgIHRoaXMuc3luY1N0YXRlLnNldCgnc3luY2luZycpO1xuICAgIC8vIEF2b2lkIHNpbXVsdGFuZW91cyByZXF1ZXN0c1xuICAgIHJldHVybiB0aGlzLnByZXBhcmUoKVxuICAgIC50aGVuKCgpID0+IHRoaXMuZ2V0U3luY0RhdGEoKSlcbiAgICAudGhlbihkYXRhID0+IFByb21pc2UucmVzb2x2ZSh0aGlzLmFjcXVpcmVMb2NrKCkpLnRoZW4oKCkgPT4gZGF0YSkpXG4gICAgLnRoZW4oKFtyZW1vdGVNZXRhLCByZW1vdGVEYXRhLCBsb2NhbERhdGFdKSA9PiB7XG4gICAgICBjb25zdCByZW1vdGVNZXRhRGF0YSA9IHJlbW90ZU1ldGEuZGF0YSB8fCB7fTtcbiAgICAgIGNvbnN0IHJlbW90ZU1ldGFJbmZvID0gcmVtb3RlTWV0YURhdGEuaW5mbyB8fCB7fTtcbiAgICAgIGNvbnN0IHJlbW90ZVRpbWVzdGFtcCA9IHJlbW90ZU1ldGFEYXRhLnRpbWVzdGFtcCB8fCAwO1xuICAgICAgbGV0IHJlbW90ZUNoYW5nZWQgPSAhcmVtb3RlVGltZXN0YW1wXG4gICAgICAgIHx8IE9iamVjdC5rZXlzKHJlbW90ZU1ldGFJbmZvKS5sZW5ndGggIT09IHJlbW90ZURhdGEubGVuZ3RoO1xuICAgICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICAgIGNvbnN0IGdsb2JhbExhc3RNb2RpZmllZCA9IGdldE9wdGlvbignbGFzdE1vZGlmaWVkJyk7XG4gICAgICBjb25zdCByZW1vdGVJdGVtTWFwID0ge307XG4gICAgICBjb25zdCBsb2NhbE1ldGEgPSB0aGlzLmNvbmZpZy5nZXQoJ21ldGEnLCB7fSk7XG4gICAgICBjb25zdCBmaXJzdFN5bmMgPSAhbG9jYWxNZXRhLnRpbWVzdGFtcDtcbiAgICAgIGNvbnN0IG91dGRhdGVkID0gZmlyc3RTeW5jIHx8IHJlbW90ZVRpbWVzdGFtcCA+IGxvY2FsTWV0YS50aW1lc3RhbXA7XG4gICAgICB0aGlzLmxvZygnRmlyc3Qgc3luYzonLCBmaXJzdFN5bmMpO1xuICAgICAgdGhpcy5sb2coJ091dGRhdGVkOicsIG91dGRhdGVkLCAnKCcsICdsb2NhbDonLCBsb2NhbE1ldGEudGltZXN0YW1wLCAncmVtb3RlOicsIHJlbW90ZVRpbWVzdGFtcCwgJyknKTtcbiAgICAgIGNvbnN0IHB1dExvY2FsID0gW107XG4gICAgICBjb25zdCBwdXRSZW1vdGUgPSBbXTtcbiAgICAgIGNvbnN0IGRlbFJlbW90ZSA9IFtdO1xuICAgICAgY29uc3QgZGVsTG9jYWwgPSBbXTtcbiAgICAgIGNvbnN0IHVwZGF0ZUxvY2FsID0gW107XG4gICAgICByZW1vdGVNZXRhRGF0YS5pbmZvID0gcmVtb3RlRGF0YS5yZWR1Y2UoKGluZm8sIGl0ZW0pID0+IHtcbiAgICAgICAgcmVtb3RlSXRlbU1hcFtpdGVtLnVyaV0gPSBpdGVtO1xuICAgICAgICBsZXQgaXRlbUluZm8gPSByZW1vdGVNZXRhSW5mb1tpdGVtLnVyaV07XG4gICAgICAgIGlmICghaXRlbUluZm8pIHtcbiAgICAgICAgICBpdGVtSW5mbyA9IHt9O1xuICAgICAgICAgIHJlbW90ZUNoYW5nZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGluZm9baXRlbS51cmldID0gaXRlbUluZm87XG4gICAgICAgIGlmICghaXRlbUluZm8ubW9kaWZpZWQpIHtcbiAgICAgICAgICBpdGVtSW5mby5tb2RpZmllZCA9IG5vdztcbiAgICAgICAgICByZW1vdGVDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW5mbztcbiAgICAgIH0sIHt9KTtcbiAgICAgIGxvY2FsRGF0YS5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgcHJvcHM6IHsgdXJpLCBwb3NpdGlvbiwgbGFzdE1vZGlmaWVkIH0gfSA9IGl0ZW07XG4gICAgICAgIGNvbnN0IHJlbW90ZUluZm8gPSByZW1vdGVNZXRhRGF0YS5pbmZvW3VyaV07XG4gICAgICAgIGNvbnN0IHJlbW90ZUl0ZW0gPSByZW1vdGVJdGVtTWFwW3VyaV07XG4gICAgICAgIGlmIChyZW1vdGVJbmZvICYmIHJlbW90ZUl0ZW0pIHtcbiAgICAgICAgICBpZiAoZmlyc3RTeW5jIHx8ICFsYXN0TW9kaWZpZWQgfHwgcmVtb3RlSW5mby5tb2RpZmllZCA+IGxhc3RNb2RpZmllZCkge1xuICAgICAgICAgICAgcHV0TG9jYWwucHVzaCh7IGxvY2FsOiBpdGVtLCByZW1vdGU6IHJlbW90ZUl0ZW0sIGluZm86IHJlbW90ZUluZm8gfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChyZW1vdGVJbmZvLm1vZGlmaWVkIDwgbGFzdE1vZGlmaWVkKSB7XG4gICAgICAgICAgICAgIHB1dFJlbW90ZS5wdXNoKHsgbG9jYWw6IGl0ZW0sIHJlbW90ZTogcmVtb3RlSXRlbSB9KTtcbiAgICAgICAgICAgICAgcmVtb3RlSW5mby5tb2RpZmllZCA9IGxhc3RNb2RpZmllZDtcbiAgICAgICAgICAgICAgcmVtb3RlQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmVtb3RlSW5mby5wb3NpdGlvbiAhPT0gcG9zaXRpb24pIHtcbiAgICAgICAgICAgICAgaWYgKHJlbW90ZUluZm8ucG9zaXRpb24gJiYgZ2xvYmFsTGFzdE1vZGlmaWVkIDw9IHJlbW90ZVRpbWVzdGFtcCkge1xuICAgICAgICAgICAgICAgIHVwZGF0ZUxvY2FsLnB1c2goeyBsb2NhbDogaXRlbSwgcmVtb3RlOiByZW1vdGVJdGVtLCBpbmZvOiByZW1vdGVJbmZvIH0pO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlbW90ZUluZm8ucG9zaXRpb24gPSBwb3NpdGlvbjtcbiAgICAgICAgICAgICAgICByZW1vdGVDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBkZWxldGUgcmVtb3RlSXRlbU1hcFt1cmldO1xuICAgICAgICB9IGVsc2UgaWYgKGZpcnN0U3luYyB8fCAhb3V0ZGF0ZWQgfHwgbGFzdE1vZGlmaWVkID4gcmVtb3RlVGltZXN0YW1wKSB7XG4gICAgICAgICAgcHV0UmVtb3RlLnB1c2goeyBsb2NhbDogaXRlbSB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkZWxMb2NhbC5wdXNoKHsgbG9jYWw6IGl0ZW0gfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmVtb3RlSXRlbU1hcDo6Zm9yRWFjaEVudHJ5KChbdXJpLCBpdGVtXSkgPT4ge1xuICAgICAgICBjb25zdCBpbmZvID0gcmVtb3RlTWV0YURhdGEuaW5mb1t1cmldO1xuICAgICAgICBpZiAob3V0ZGF0ZWQpIHtcbiAgICAgICAgICBwdXRMb2NhbC5wdXNoKHsgcmVtb3RlOiBpdGVtLCBpbmZvIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRlbFJlbW90ZS5wdXNoKHsgcmVtb3RlOiBpdGVtIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGNvbnN0IHByb21pc2VRdWV1ZSA9IFtcbiAgICAgICAgLi4ucHV0TG9jYWwubWFwKCh7IHJlbW90ZSwgaW5mbyB9KSA9PiB7XG4gICAgICAgICAgdGhpcy5sb2coJ0Rvd25sb2FkIHNjcmlwdDonLCByZW1vdGUudXJpKTtcbiAgICAgICAgICByZXR1cm4gdGhpcy5nZXQocmVtb3RlKVxuICAgICAgICAgIC50aGVuKChyYXcpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBwYXJzZVNjcmlwdERhdGEocmF3KTtcbiAgICAgICAgICAgIC8vIEludmFsaWQgZGF0YVxuICAgICAgICAgICAgaWYgKCFkYXRhLmNvZGUpIHJldHVybjtcbiAgICAgICAgICAgIGlmIChpbmZvLm1vZGlmaWVkKSBvYmplY3RTZXQoZGF0YSwgJ3Byb3BzLmxhc3RNb2RpZmllZCcsIGluZm8ubW9kaWZpZWQpO1xuICAgICAgICAgICAgY29uc3QgcG9zaXRpb24gPSAraW5mby5wb3NpdGlvbjtcbiAgICAgICAgICAgIGlmIChwb3NpdGlvbikgZGF0YS5wb3NpdGlvbiA9IHBvc2l0aW9uO1xuICAgICAgICAgICAgaWYgKCFnZXRPcHRpb24oJ3N5bmNTY3JpcHRTdGF0dXMnKSAmJiBkYXRhLmNvbmZpZykge1xuICAgICAgICAgICAgICBkZWxldGUgZGF0YS5jb25maWcuZW5hYmxlZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBwbHVnaW5TY3JpcHQudXBkYXRlKGRhdGEpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KSxcbiAgICAgICAgLi4ucHV0UmVtb3RlLm1hcCgoeyBsb2NhbCwgcmVtb3RlIH0pID0+IHtcbiAgICAgICAgICB0aGlzLmxvZygnVXBsb2FkIHNjcmlwdDonLCBsb2NhbC5wcm9wcy51cmkpO1xuICAgICAgICAgIHJldHVybiBwbHVnaW5TY3JpcHQuZ2V0KGxvY2FsLnByb3BzLmlkKVxuICAgICAgICAgIC50aGVuKChjb2RlKSA9PiB7XG4gICAgICAgICAgICAvLyBYWFggdXNlIHZlcnNpb24gMSB0byBiZSBjb21wYXRpYmxlIHdpdGggVmlvbGVudG1vbmtleSBvbiBvdGhlciBwbGF0Zm9ybXNcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBnZXRTY3JpcHREYXRhKGxvY2FsLCAxLCB7IGNvZGUgfSk7XG4gICAgICAgICAgICByZW1vdGVNZXRhRGF0YS5pbmZvW2xvY2FsLnByb3BzLnVyaV0gPSB7XG4gICAgICAgICAgICAgIG1vZGlmaWVkOiBsb2NhbC5wcm9wcy5sYXN0TW9kaWZpZWQsXG4gICAgICAgICAgICAgIHBvc2l0aW9uOiBsb2NhbC5wcm9wcy5wb3NpdGlvbixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZW1vdGVDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnB1dChcbiAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih7fSwgcmVtb3RlLCB7XG4gICAgICAgICAgICAgICAgdXJpOiBsb2NhbC5wcm9wcy51cmksXG4gICAgICAgICAgICAgICAgbmFtZTogbnVsbCwgLy8gcHJlZmVyIHVzaW5nIHVyaSBvbiBQVVRcbiAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KGRhdGEpLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSksXG4gICAgICAgIC4uLmRlbFJlbW90ZS5tYXAoKHsgcmVtb3RlIH0pID0+IHtcbiAgICAgICAgICB0aGlzLmxvZygnUmVtb3ZlIHJlbW90ZSBzY3JpcHQ6JywgcmVtb3RlLnVyaSk7XG4gICAgICAgICAgZGVsZXRlIHJlbW90ZU1ldGFEYXRhLmluZm9bcmVtb3RlLnVyaV07XG4gICAgICAgICAgcmVtb3RlQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgICAgcmV0dXJuIHRoaXMucmVtb3ZlKHJlbW90ZSk7XG4gICAgICAgIH0pLFxuICAgICAgICAuLi5kZWxMb2NhbC5tYXAoKHsgbG9jYWwgfSkgPT4ge1xuICAgICAgICAgIHRoaXMubG9nKCdSZW1vdmUgbG9jYWwgc2NyaXB0OicsIGxvY2FsLnByb3BzLnVyaSk7XG4gICAgICAgICAgcmV0dXJuIHBsdWdpblNjcmlwdC5yZW1vdmUobG9jYWwucHJvcHMuaWQpO1xuICAgICAgICB9KSxcbiAgICAgICAgLi4udXBkYXRlTG9jYWwubWFwKCh7IGxvY2FsLCBpbmZvIH0pID0+IHtcbiAgICAgICAgICBjb25zdCB1cGRhdGVzID0ge307XG4gICAgICAgICAgaWYgKGluZm8ucG9zaXRpb24pIHtcbiAgICAgICAgICAgIHVwZGF0ZXMucHJvcHMgPSB7IHBvc2l0aW9uOiBpbmZvLnBvc2l0aW9uIH07XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB1cGRhdGVTY3JpcHRJbmZvKGxvY2FsLnByb3BzLmlkLCB1cGRhdGVzKTtcbiAgICAgICAgfSksXG4gICAgICBdO1xuICAgICAgcHJvbWlzZVF1ZXVlLnB1c2goUHJvbWlzZS5hbGwocHJvbWlzZVF1ZXVlKS50aGVuKCgpID0+IHNvcnRTY3JpcHRzKCkpLnRoZW4oKGNoYW5nZWQpID0+IHtcbiAgICAgICAgaWYgKCFjaGFuZ2VkKSByZXR1cm47XG4gICAgICAgIHJlbW90ZUNoYW5nZWQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gcGx1Z2luU2NyaXB0Lmxpc3QoKVxuICAgICAgICAudGhlbigoc2NyaXB0cykgPT4ge1xuICAgICAgICAgIHNjcmlwdHMuZm9yRWFjaCgoc2NyaXB0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZW1vdGVJbmZvID0gcmVtb3RlTWV0YURhdGEuaW5mb1tzY3JpcHQucHJvcHMudXJpXTtcbiAgICAgICAgICAgIGlmIChyZW1vdGVJbmZvKSByZW1vdGVJbmZvLnBvc2l0aW9uID0gc2NyaXB0LnByb3BzLnBvc2l0aW9uO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pKTtcbiAgICAgIHByb21pc2VRdWV1ZS5wdXNoKFByb21pc2UuYWxsKHByb21pc2VRdWV1ZSkudGhlbigoKSA9PiB7XG4gICAgICAgIGNvbnN0IHByb21pc2VzID0gW107XG4gICAgICAgIGlmIChyZW1vdGVDaGFuZ2VkKSB7XG4gICAgICAgICAgcmVtb3RlTWV0YURhdGEudGltZXN0YW1wID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICBwcm9taXNlcy5wdXNoKHRoaXMucHV0KHJlbW90ZU1ldGEsIEpTT04uc3RyaW5naWZ5KHJlbW90ZU1ldGFEYXRhKSkpO1xuICAgICAgICB9XG4gICAgICAgIGxvY2FsTWV0YS50aW1lc3RhbXAgPSByZW1vdGVNZXRhRGF0YS50aW1lc3RhbXA7XG4gICAgICAgIGxvY2FsTWV0YS5sYXN0U3luYyA9IERhdGUubm93KCk7XG4gICAgICAgIHRoaXMuY29uZmlnLnNldCgnbWV0YScsIGxvY2FsTWV0YSk7XG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbChwcm9taXNlcyk7XG4gICAgICB9KSk7XG4gICAgICAvLyBpZ25vcmUgZXJyb3JzIHRvIGVuc3VyZSBhbGwgcHJvbWlzZXMgYXJlIGZ1bGZpbGxlZFxuICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHByb21pc2VRdWV1ZS5tYXAocHJvbWlzZSA9PiBwcm9taXNlLnRoZW4obm9vcCwgZXJyID0+IGVyciB8fCB0cnVlKSkpXG4gICAgICAudGhlbihlcnJvcnMgPT4gZXJyb3JzLmZpbHRlcihCb29sZWFuKSlcbiAgICAgIC50aGVuKChlcnJvcnMpID0+IHsgaWYgKGVycm9ycy5sZW5ndGgpIHRocm93IGVycm9yczsgfSk7XG4gICAgfSlcbiAgICAudGhlbigoKSA9PiB7XG4gICAgICB0aGlzLnN5bmNTdGF0ZS5zZXQoJ2lkbGUnKTtcbiAgICAgIHRoaXMubG9nKCdTeW5jIGZpbmlzaGVkOicsIHRoaXMuZGlzcGxheU5hbWUpO1xuICAgIH0sIChlcnIpID0+IHtcbiAgICAgIHRoaXMuc3luY1N0YXRlLnNldCgnZXJyb3InKTtcbiAgICAgIHRoaXMubG9nKCdGYWlsZWQgc3luY2luZzonLCB0aGlzLmRpc3BsYXlOYW1lKTtcbiAgICAgIHRoaXMubG9nKGVycik7XG4gICAgfSlcbiAgICAudGhlbigoKSA9PiBQcm9taXNlLnJlc29sdmUodGhpcy5yZWxlYXNlTG9jaygpKS5jYXRjaChub29wKSk7XG4gIH0sXG59KTtcblxuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyKEZhY3RvcnkpIHtcbiAgc2VydmljZUNsYXNzZXMucHVzaChGYWN0b3J5KTtcbn1cbmZ1bmN0aW9uIGdldEN1cnJlbnQoKSB7XG4gIHJldHVybiBzeW5jQ29uZmlnLmdldCgnY3VycmVudCcpO1xufVxuZnVuY3Rpb24gZ2V0U2VydmljZShuYW1lKSB7XG4gIHJldHVybiBzZXJ2aWNlc1tuYW1lIHx8IGdldEN1cnJlbnQoKV07XG59XG5leHBvcnQgZnVuY3Rpb24gaW5pdGlhbGl6ZSgpIHtcbiAgaWYgKCFzeW5jQ29uZmlnKSB7XG4gICAgc3luY0NvbmZpZyA9IGluaXRDb25maWcoKTtcbiAgICBzZXJ2aWNlQ2xhc3Nlcy5mb3JFYWNoKChGYWN0b3J5KSA9PiB7XG4gICAgICBjb25zdCBzZXJ2aWNlID0gbmV3IEZhY3RvcnkoKTtcbiAgICAgIGNvbnN0IHsgbmFtZSB9ID0gc2VydmljZTtcbiAgICAgIHNlcnZpY2VOYW1lcy5wdXNoKG5hbWUpO1xuICAgICAgc2VydmljZXNbbmFtZV0gPSBzZXJ2aWNlO1xuICAgIH0pO1xuICB9XG4gIHN5bmMoKTtcbn1cblxuZnVuY3Rpb24gc3luY09uZShzZXJ2aWNlKSB7XG4gIGlmIChzZXJ2aWNlLnN5bmNTdGF0ZS5pcyhbJ3JlYWR5JywgJ3N5bmNpbmcnXSkpIHJldHVybjtcbiAgaWYgKHNlcnZpY2UuYXV0aFN0YXRlLmlzKFsnaWRsZScsICdlcnJvciddKSkgcmV0dXJuIHNlcnZpY2UuY2hlY2tTeW5jKCk7XG4gIGlmIChzZXJ2aWNlLmF1dGhTdGF0ZS5pcygnYXV0aG9yaXplZCcpKSByZXR1cm4gc2VydmljZS5zdGFydFN5bmMoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN5bmMoKSB7XG4gIGNvbnN0IHNlcnZpY2UgPSBnZXRTZXJ2aWNlKCk7XG4gIHJldHVybiBzZXJ2aWNlICYmIFByb21pc2UucmVzb2x2ZShzeW5jT25lKHNlcnZpY2UpKS50aGVuKGF1dG9TeW5jKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGF1dGhvcml6ZSgpIHtcbiAgY29uc3Qgc2VydmljZSA9IGdldFNlcnZpY2UoKTtcbiAgaWYgKHNlcnZpY2UpIHNlcnZpY2UuYXV0aG9yaXplKCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXZva2UoKSB7XG4gIGNvbnN0IHNlcnZpY2UgPSBnZXRTZXJ2aWNlKCk7XG4gIGlmIChzZXJ2aWNlKSBzZXJ2aWNlLnJldm9rZSgpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0Q29uZmlnKGNvbmZpZykge1xuICBjb25zdCBzZXJ2aWNlID0gZ2V0U2VydmljZSgpO1xuICBpZiAoc2VydmljZSkge1xuICAgIHNlcnZpY2Uuc2V0VXNlckNvbmZpZyhjb25maWcpO1xuICAgIHJldHVybiBzZXJ2aWNlLmNoZWNrU3luYygpO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBvcGVuQXV0aFBhZ2UodXJsLCByZWRpcmVjdFVyaSkge1xuICB1bnJlZ2lzdGVyV2ViUmVxdWVzdCgpOyAvLyBvdGhlcndpc2Ugb3VyIG5ldyB0YWJJZCB3aWxsIGJlIGlnbm9yZWRcbiAgYnJvd3Nlci53ZWJSZXF1ZXN0Lm9uQmVmb3JlUmVxdWVzdC5hZGRMaXN0ZW5lcihvbkJlZm9yZVJlcXVlc3QsIHtcbiAgICB1cmxzOiBbYCR7cmVkaXJlY3RVcml9KmBdLFxuICAgIHR5cGVzOiBbJ21haW5fZnJhbWUnXSxcbiAgICB0YWJJZDogKGF3YWl0IGJyb3dzZXIudGFicy5jcmVhdGUoeyB1cmwgfSkpLmlkLFxuICB9LCBbJ2Jsb2NraW5nJ10pO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Y2hyb21lLndlYlJlcXVlc3QuV2ViUmVzcG9uc2VEZXRhaWxzfSBpbmZvXG4gKiBAcmV0dXJucyB7Y2hyb21lLndlYlJlcXVlc3QuQmxvY2tpbmdSZXNwb25zZX1cbiAqL1xuZnVuY3Rpb24gb25CZWZvcmVSZXF1ZXN0KGluZm8pIHtcbiAgaWYgKGdldFNlcnZpY2UoKS5jaGVja0F1dGg/LihpbmZvLnVybCkpIHtcbiAgICBicm93c2VyLnRhYnMucmVtb3ZlKGluZm8udGFiSWQpO1xuICAgIC8vIElmIHdlIHVucmVnaXN0ZXIgd2l0aG91dCBzZXRUaW1lb3V0LCBBUEkgd2lsbCBpZ25vcmUgeyBjYW5jZWw6IHRydWUgfVxuICAgIHNldFRpbWVvdXQodW5yZWdpc3RlcldlYlJlcXVlc3QsIDApO1xuICAgIHJldHVybiB7IGNhbmNlbDogdHJ1ZSB9O1xuICB9XG59XG5cbmZ1bmN0aW9uIHVucmVnaXN0ZXJXZWJSZXF1ZXN0KCkge1xuICBicm93c2VyLndlYlJlcXVlc3Qub25CZWZvcmVSZXF1ZXN0LnJlbW92ZUxpc3RlbmVyKG9uQmVmb3JlUmVxdWVzdCk7XG59XG5cbmhvb2tPcHRpb25zKChkYXRhKSA9PiB7XG4gIGNvbnN0IHZhbHVlID0gZGF0YT8uWydzeW5jLmN1cnJlbnQnXTtcbiAgaWYgKHZhbHVlKSBpbml0aWFsaXplKCk7XG59KTtcbiIsImltcG9ydCB7IGxvYWRRdWVyeSwgZHVtcFF1ZXJ5IH0gZnJvbSAnLi4vdXRpbHMnO1xuaW1wb3J0IHtcbiAgZ2V0VVJJLCBnZXRJdGVtRmlsZW5hbWUsIEJhc2VTZXJ2aWNlLCBpc1NjcmlwdEZpbGUsIHJlZ2lzdGVyLFxuICBvcGVuQXV0aFBhZ2UsXG59IGZyb20gJy4vYmFzZSc7XG5cbmNvbnN0IGNvbmZpZyA9IHtcbiAgY2xpZW50X2lkOiAnZjBxMTJ6dXAydXlzNXc4JyxcbiAgcmVkaXJlY3RfdXJpOiAnaHR0cHM6Ly92aW9sZW50bW9ua2V5LmdpdGh1Yi5pby9hdXRoX2Ryb3Bib3guaHRtbCcsXG59O1xuXG5jb25zdCBlc2NSRSA9IC9bXFx1MDA3Zi1cXHVmZmZmXS9nOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnRyb2wtcmVnZXhcbmNvbnN0IGVzY0Z1bmMgPSBtID0+IGBcXFxcdSR7KG0uY2hhckNvZGVBdCgwKSArIDB4MTAwMDApLnRvU3RyaW5nKDE2KS5zbGljZSgxKX1gO1xuXG5mdW5jdGlvbiBqc29uU3RyaW5naWZ5U2FmZShvYmopIHtcbiAgY29uc3Qgc3RyaW5nID0gSlNPTi5zdHJpbmdpZnkob2JqKTtcbiAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKGVzY1JFLCBlc2NGdW5jKTtcbn1cblxuY29uc3QgRHJvcGJveCA9IEJhc2VTZXJ2aWNlLmV4dGVuZCh7XG4gIG5hbWU6ICdkcm9wYm94JyxcbiAgZGlzcGxheU5hbWU6ICdEcm9wYm94JyxcbiAgdXNlcigpIHtcbiAgICByZXR1cm4gdGhpcy5sb2FkRGF0YSh7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIHVybDogJ2h0dHBzOi8vYXBpLmRyb3Bib3hhcGkuY29tLzIvdXNlcnMvZ2V0X2N1cnJlbnRfYWNjb3VudCcsXG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgaWYgKGVyci5zdGF0dXMgPT09IDQwMSkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3Qoe1xuICAgICAgICAgIHR5cGU6ICd1bmF1dGhvcml6ZWQnLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCh7XG4gICAgICAgIHR5cGU6ICdlcnJvcicsXG4gICAgICAgIGRhdGE6IGVycixcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9LFxuICBoYW5kbGVNZXRhRXJyb3IocmVzKSB7XG4gICAgaWYgKHJlcy5zdGF0dXMgIT09IDQwOSkgdGhyb3cgcmVzO1xuICB9LFxuICBsaXN0KCkge1xuICAgIHJldHVybiB0aGlzLmxvYWREYXRhKHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgdXJsOiAnaHR0cHM6Ly9hcGkuZHJvcGJveGFwaS5jb20vMi9maWxlcy9saXN0X2ZvbGRlcicsXG4gICAgICBib2R5OiB7XG4gICAgICAgIHBhdGg6ICcnLFxuICAgICAgfSxcbiAgICAgIHJlc3BvbnNlVHlwZTogJ2pzb24nLFxuICAgIH0pXG4gICAgLnRoZW4oZGF0YSA9PiAoXG4gICAgICBkYXRhLmVudHJpZXMuZmlsdGVyKGl0ZW0gPT4gaXRlbVsnLnRhZyddID09PSAnZmlsZScgJiYgaXNTY3JpcHRGaWxlKGl0ZW0ubmFtZSkpLm1hcChub3JtYWxpemUpXG4gICAgKSk7XG4gIH0sXG4gIGdldChpdGVtKSB7XG4gICAgY29uc3QgbmFtZSA9IGdldEl0ZW1GaWxlbmFtZShpdGVtKTtcbiAgICByZXR1cm4gdGhpcy5sb2FkRGF0YSh7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIHVybDogJ2h0dHBzOi8vY29udGVudC5kcm9wYm94YXBpLmNvbS8yL2ZpbGVzL2Rvd25sb2FkJyxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ0Ryb3Bib3gtQVBJLUFyZyc6IGpzb25TdHJpbmdpZnlTYWZlKHtcbiAgICAgICAgICBwYXRoOiBgLyR7bmFtZX1gLFxuICAgICAgICB9KSxcbiAgICAgIH0sXG4gICAgfSk7XG4gIH0sXG4gIHB1dChpdGVtLCBkYXRhKSB7XG4gICAgY29uc3QgbmFtZSA9IGdldEl0ZW1GaWxlbmFtZShpdGVtKTtcbiAgICByZXR1cm4gdGhpcy5sb2FkRGF0YSh7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIHVybDogJ2h0dHBzOi8vY29udGVudC5kcm9wYm94YXBpLmNvbS8yL2ZpbGVzL3VwbG9hZCcsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgICdEcm9wYm94LUFQSS1BcmcnOiBqc29uU3RyaW5naWZ5U2FmZSh7XG4gICAgICAgICAgcGF0aDogYC8ke25hbWV9YCxcbiAgICAgICAgICBtb2RlOiAnb3ZlcndyaXRlJyxcbiAgICAgICAgfSksXG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtJyxcbiAgICAgIH0sXG4gICAgICBib2R5OiBkYXRhLFxuICAgICAgcmVzcG9uc2VUeXBlOiAnanNvbicsXG4gICAgfSlcbiAgICAudGhlbihub3JtYWxpemUpO1xuICB9LFxuICByZW1vdmUoaXRlbSkge1xuICAgIGNvbnN0IG5hbWUgPSBnZXRJdGVtRmlsZW5hbWUoaXRlbSk7XG4gICAgcmV0dXJuIHRoaXMubG9hZERhdGEoe1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICB1cmw6ICdodHRwczovL2FwaS5kcm9wYm94YXBpLmNvbS8yL2ZpbGVzL2RlbGV0ZScsXG4gICAgICBib2R5OiB7XG4gICAgICAgIHBhdGg6IGAvJHtuYW1lfWAsXG4gICAgICB9LFxuICAgICAgcmVzcG9uc2VUeXBlOiAnanNvbicsXG4gICAgfSlcbiAgICAudGhlbihub3JtYWxpemUpO1xuICB9LFxuICBhdXRob3JpemUoKSB7XG4gICAgY29uc3QgcGFyYW1zID0ge1xuICAgICAgcmVzcG9uc2VfdHlwZTogJ3Rva2VuJyxcbiAgICAgIGNsaWVudF9pZDogY29uZmlnLmNsaWVudF9pZCxcbiAgICAgIHJlZGlyZWN0X3VyaTogY29uZmlnLnJlZGlyZWN0X3VyaSxcbiAgICB9O1xuICAgIGNvbnN0IHVybCA9IGBodHRwczovL3d3dy5kcm9wYm94LmNvbS9vYXV0aDIvYXV0aG9yaXplPyR7ZHVtcFF1ZXJ5KHBhcmFtcyl9YDtcbiAgICBvcGVuQXV0aFBhZ2UodXJsLCBjb25maWcucmVkaXJlY3RfdXJpKTtcbiAgfSxcbiAgYXV0aG9yaXplZChyYXcpIHtcbiAgICBjb25zdCBkYXRhID0gbG9hZFF1ZXJ5KHJhdyk7XG4gICAgaWYgKGRhdGEuYWNjZXNzX3Rva2VuKSB7XG4gICAgICB0aGlzLmNvbmZpZy5zZXQoe1xuICAgICAgICB1aWQ6IGRhdGEudWlkLFxuICAgICAgICB0b2tlbjogZGF0YS5hY2Nlc3NfdG9rZW4sXG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG4gIGNoZWNrQXV0aCh1cmwpIHtcbiAgICBjb25zdCByZWRpcmVjdFVyaSA9IGAke2NvbmZpZy5yZWRpcmVjdF91cml9I2A7XG4gICAgaWYgKHVybC5zdGFydHNXaXRoKHJlZGlyZWN0VXJpKSkge1xuICAgICAgdGhpcy5hdXRob3JpemVkKHVybC5zbGljZShyZWRpcmVjdFVyaS5sZW5ndGgpKTtcbiAgICAgIHRoaXMuY2hlY2tTeW5jKCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0sXG4gIHJldm9rZSgpIHtcbiAgICB0aGlzLmNvbmZpZy5zZXQoe1xuICAgICAgdWlkOiBudWxsLFxuICAgICAgdG9rZW46IG51bGwsXG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXMucHJlcGFyZSgpO1xuICB9LFxufSk7XG5yZWdpc3RlcihEcm9wYm94KTtcblxuZnVuY3Rpb24gbm9ybWFsaXplKGl0ZW0pIHtcbiAgcmV0dXJuIHtcbiAgICBuYW1lOiBpdGVtLm5hbWUsXG4gICAgc2l6ZTogaXRlbS5zaXplLFxuICAgIHVyaTogZ2V0VVJJKGl0ZW0ubmFtZSksXG4gICAgLy8gbW9kaWZpZWQ6IG5ldyBEYXRlKGl0ZW0uc2VydmVyX21vZGlmaWVkKS5nZXRUaW1lKCksXG4gICAgLy8gaXNEZWxldGVkOiBpdGVtLmlzX2RlbGV0ZWQsXG4gIH07XG59XG4iLCIvLyBSZWZlcmVuY2U6XG4vLyAtIGh0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tL2RyaXZlL3YzL3JlZmVyZW5jZS9maWxlc1xuLy8gLSBodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlL2dvb2dsZS1hcGktbm9kZWpzLWNsaWVudFxuaW1wb3J0IHsgZ2V0VW5pcUlkLCBub29wIH0gZnJvbSAnIy9jb21tb24nO1xuaW1wb3J0IHsgb2JqZWN0R2V0IH0gZnJvbSAnIy9jb21tb24vb2JqZWN0JztcbmltcG9ydCB7IGR1bXBRdWVyeSwgbm90aWZ5IH0gZnJvbSAnLi4vdXRpbHMnO1xuaW1wb3J0IHtcbiAgZ2V0VVJJLCBnZXRJdGVtRmlsZW5hbWUsIEJhc2VTZXJ2aWNlLCByZWdpc3RlciwgaXNTY3JpcHRGaWxlLFxuICBvcGVuQXV0aFBhZ2UsXG59IGZyb20gJy4vYmFzZSc7XG5cbmNvbnN0IGNvbmZpZyA9IHtcbiAgY2xpZW50X2lkOiBwcm9jZXNzLmVudi5TWU5DX0dPT0dMRV9DTElFTlRfSUQsXG4gIGNsaWVudF9zZWNyZXQ6IHByb2Nlc3MuZW52LlNZTkNfR09PR0xFX0NMSUVOVF9TRUNSRVQsXG4gIHJlZGlyZWN0X3VyaTogJ2h0dHBzOi8vdmlvbGVudG1vbmtleS5naXRodWIuaW8vYXV0aF9nb29nbGVkcml2ZS5odG1sJyxcbiAgc2NvcGU6ICdodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9hdXRoL2RyaXZlLmFwcGRhdGEnLFxufTtcbmNvbnN0IFVOQVVUSE9SSVpFRCA9IHsgc3RhdHVzOiAnVU5BVVRIT1JJWkVEJyB9O1xuXG5jb25zdCBHb29nbGVEcml2ZSA9IEJhc2VTZXJ2aWNlLmV4dGVuZCh7XG4gIG5hbWU6ICdnb29nbGVkcml2ZScsXG4gIGRpc3BsYXlOYW1lOiAnR29vZ2xlIERyaXZlJyxcbiAgdXJsUHJlZml4OiAnaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vZHJpdmUvdjMnLFxuICByZWZyZXNoVG9rZW4oKSB7XG4gICAgY29uc3QgcmVmcmVzaFRva2VuID0gdGhpcy5jb25maWcuZ2V0KCdyZWZyZXNoX3Rva2VuJyk7XG4gICAgaWYgKCFyZWZyZXNoVG9rZW4pIHJldHVybiBQcm9taXNlLnJlamVjdCh7IHR5cGU6ICd1bmF1dGhvcml6ZWQnIH0pO1xuICAgIHJldHVybiB0aGlzLmF1dGhvcml6ZWQoe1xuICAgICAgcmVmcmVzaF90b2tlbjogcmVmcmVzaFRva2VuLFxuICAgICAgZ3JhbnRfdHlwZTogJ3JlZnJlc2hfdG9rZW4nLFxuICAgIH0pXG4gICAgLnRoZW4oKCkgPT4gdGhpcy5wcmVwYXJlKCkpO1xuICB9LFxuICB1c2VyKCkge1xuICAgIGNvbnN0IHJlcXVlc3RVc2VyID0gKCkgPT4gdGhpcy5sb2FkRGF0YSh7XG4gICAgICB1cmw6IGBodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9vYXV0aDIvdjMvdG9rZW5pbmZvPyR7ZHVtcFF1ZXJ5KHtcbiAgICAgICAgYWNjZXNzX3Rva2VuOiB0aGlzLmNvbmZpZy5nZXQoJ3Rva2VuJyksXG4gICAgICB9KX1gLFxuICAgICAgcmVzcG9uc2VUeXBlOiAnanNvbicsXG4gICAgfSk7XG4gICAgcmV0dXJuIHJlcXVlc3RVc2VyKClcbiAgICAudGhlbigoaW5mbykgPT4ge1xuICAgICAgLy8gSWYgYWNjZXNzIHdhcyBncmFudGVkIHdpdGggYWNjZXNzX3R5cGU9b25saW5lLCByZXZva2UgaXQuXG4gICAgICBpZiAoaW5mby5hY2Nlc3NfdHlwZSA9PT0gJ29ubGluZScpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9hZERhdGEoe1xuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIHVybDogYGh0dHBzOi8vYWNjb3VudHMuZ29vZ2xlLmNvbS9vL29hdXRoMi9yZXZva2U/dG9rZW49JHt0aGlzLmNvbmZpZy5nZXQoJ3Rva2VuJyl9YCxcbiAgICAgICAgICBwcmVmaXg6ICcnLFxuICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJyxcbiAgICAgICAgICB9LFxuICAgICAgICB9KVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgbm90aWZ5KHtcbiAgICAgICAgICAgIHRpdGxlOiAnU3luYyBVcGdyYWRlZCcsXG4gICAgICAgICAgICBib2R5OiAnUGxlYXNlIHJlYXV0aG9yaXplIGFjY2VzcyB0byB5b3VyIEdvb2dsZSBEcml2ZSB0byBjb21wbGV0ZSB0aGUgdXBncmFkYXRpb24uJyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoJ09ubGluZSBhY2Nlc3MgcmV2b2tlZC4nKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpZiAoaW5mby5zY29wZSAhPT0gY29uZmlnLnNjb3BlKSByZXR1cm4gUHJvbWlzZS5yZWplY3QoVU5BVVRIT1JJWkVEKTtcbiAgICB9KVxuICAgIC5jYXRjaCgocmVzKSA9PiB7XG4gICAgICBpZiAocmVzID09PSBVTkFVVEhPUklaRUQgfHwgcmVzLnN0YXR1cyA9PT0gNDAwICYmIG9iamVjdEdldChyZXMsICdkYXRhLmVycm9yX2Rlc2NyaXB0aW9uJykgPT09ICdJbnZhbGlkIFZhbHVlJykge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWZyZXNoVG9rZW4oKS50aGVuKHJlcXVlc3RVc2VyKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCh7XG4gICAgICAgIHR5cGU6ICdlcnJvcicsXG4gICAgICAgIGRhdGE6IHJlcyxcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9LFxuICBnZXRTeW5jRGF0YSgpIHtcbiAgICBjb25zdCBwYXJhbXMgPSB7XG4gICAgICBzcGFjZXM6ICdhcHBEYXRhRm9sZGVyJyxcbiAgICAgIGZpZWxkczogJ2ZpbGVzKGlkLG5hbWUsc2l6ZSknLFxuICAgIH07XG4gICAgcmV0dXJuIHRoaXMubG9hZERhdGEoe1xuICAgICAgdXJsOiBgL2ZpbGVzPyR7ZHVtcFF1ZXJ5KHBhcmFtcyl9YCxcbiAgICAgIHJlc3BvbnNlVHlwZTogJ2pzb24nLFxuICAgIH0pXG4gICAgLnRoZW4oKHsgZmlsZXMgfSkgPT4ge1xuICAgICAgbGV0IG1ldGFGaWxlO1xuICAgICAgY29uc3QgcmVtb3RlRGF0YSA9IGZpbGVzLmZpbHRlcigoaXRlbSkgPT4ge1xuICAgICAgICBpZiAoaXNTY3JpcHRGaWxlKGl0ZW0ubmFtZSkpIHJldHVybiB0cnVlO1xuICAgICAgICBpZiAoIW1ldGFGaWxlICYmIGl0ZW0ubmFtZSA9PT0gdGhpcy5tZXRhRmlsZSkge1xuICAgICAgICAgIG1ldGFGaWxlID0gaXRlbTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnJlbW92ZShpdGVtKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9KVxuICAgICAgLm1hcChub3JtYWxpemUpXG4gICAgICAuZmlsdGVyKChpdGVtKSA9PiB7XG4gICAgICAgIGlmICghaXRlbS5zaXplKSB7XG4gICAgICAgICAgdGhpcy5yZW1vdmUoaXRlbSk7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSk7XG4gICAgICBjb25zdCBtZXRhSXRlbSA9IG1ldGFGaWxlID8gbm9ybWFsaXplKG1ldGFGaWxlKSA6IHt9O1xuICAgICAgY29uc3QgZ290TWV0YSA9IHRoaXMuZ2V0KG1ldGFJdGVtKVxuICAgICAgLnRoZW4oZGF0YSA9PiBKU09OLnBhcnNlKGRhdGEpKVxuICAgICAgLmNhdGNoKGVyciA9PiB0aGlzLmhhbmRsZU1ldGFFcnJvcihlcnIpKVxuICAgICAgLnRoZW4oZGF0YSA9PiBPYmplY3QuYXNzaWduKHt9LCBtZXRhSXRlbSwge1xuICAgICAgICBuYW1lOiB0aGlzLm1ldGFGaWxlLFxuICAgICAgICB1cmk6IG51bGwsXG4gICAgICAgIGRhdGEsXG4gICAgICB9KSk7XG4gICAgICByZXR1cm4gUHJvbWlzZS5hbGwoW2dvdE1ldGEsIHJlbW90ZURhdGEsIHRoaXMuZ2V0TG9jYWxEYXRhKCldKTtcbiAgICB9KTtcbiAgfSxcbiAgYXV0aG9yaXplKCkge1xuICAgIGNvbnN0IHBhcmFtcyA9IHtcbiAgICAgIHJlc3BvbnNlX3R5cGU6ICdjb2RlJyxcbiAgICAgIGFjY2Vzc190eXBlOiAnb2ZmbGluZScsXG4gICAgICBjbGllbnRfaWQ6IGNvbmZpZy5jbGllbnRfaWQsXG4gICAgICByZWRpcmVjdF91cmk6IGNvbmZpZy5yZWRpcmVjdF91cmksXG4gICAgICBzY29wZTogY29uZmlnLnNjb3BlLFxuICAgIH07XG4gICAgaWYgKCF0aGlzLmNvbmZpZy5nZXQoJ3JlZnJlc2hfdG9rZW4nKSkgcGFyYW1zLnByb21wdCA9ICdjb25zZW50JztcbiAgICBjb25zdCB1cmwgPSBgaHR0cHM6Ly9hY2NvdW50cy5nb29nbGUuY29tL28vb2F1dGgyL3YyL2F1dGg/JHtkdW1wUXVlcnkocGFyYW1zKX1gO1xuICAgIG9wZW5BdXRoUGFnZSh1cmwsIGNvbmZpZy5yZWRpcmVjdF91cmkpO1xuICB9LFxuICBjaGVja0F1dGgodXJsKSB7XG4gICAgY29uc3QgcmVkaXJlY3RVcmkgPSBgJHtjb25maWcucmVkaXJlY3RfdXJpfT9jb2RlPWA7XG4gICAgaWYgKHVybC5zdGFydHNXaXRoKHJlZGlyZWN0VXJpKSkge1xuICAgICAgdGhpcy5hdXRoU3RhdGUuc2V0KCdhdXRob3JpemluZycpO1xuICAgICAgdGhpcy5hdXRob3JpemVkKHtcbiAgICAgICAgY29kZTogZGVjb2RlVVJJQ29tcG9uZW50KHVybC5zcGxpdCgnIycpWzBdLnNsaWNlKHJlZGlyZWN0VXJpLmxlbmd0aCkpLFxuICAgICAgfSlcbiAgICAgIC50aGVuKCgpID0+IHRoaXMuY2hlY2tTeW5jKCkpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9LFxuICByZXZva2UoKSB7XG4gICAgdGhpcy5jb25maWcuc2V0KHtcbiAgICAgIHRva2VuOiBudWxsLFxuICAgICAgcmVmcmVzaF90b2tlbjogbnVsbCxcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcy5wcmVwYXJlKCk7XG4gIH0sXG4gIGF1dGhvcml6ZWQocGFyYW1zKSB7XG4gICAgcmV0dXJuIHRoaXMubG9hZERhdGEoe1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICB1cmw6ICdodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9vYXV0aDIvdjQvdG9rZW4nLFxuICAgICAgcHJlZml4OiAnJyxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnLFxuICAgICAgfSxcbiAgICAgIGJvZHk6IGR1bXBRdWVyeShPYmplY3QuYXNzaWduKHt9LCB7XG4gICAgICAgIGNsaWVudF9pZDogY29uZmlnLmNsaWVudF9pZCxcbiAgICAgICAgY2xpZW50X3NlY3JldDogY29uZmlnLmNsaWVudF9zZWNyZXQsXG4gICAgICAgIHJlZGlyZWN0X3VyaTogY29uZmlnLnJlZGlyZWN0X3VyaSxcbiAgICAgICAgZ3JhbnRfdHlwZTogJ2F1dGhvcml6YXRpb25fY29kZScsXG4gICAgICB9LCBwYXJhbXMpKSxcbiAgICAgIHJlc3BvbnNlVHlwZTogJ2pzb24nLFxuICAgIH0pXG4gICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIGlmIChkYXRhLmFjY2Vzc190b2tlbikge1xuICAgICAgICBjb25zdCB1cGRhdGUgPSB7XG4gICAgICAgICAgdG9rZW46IGRhdGEuYWNjZXNzX3Rva2VuLFxuICAgICAgICB9O1xuICAgICAgICBpZiAoZGF0YS5yZWZyZXNoX3Rva2VuKSB7XG4gICAgICAgICAgdXBkYXRlLnJlZnJlc2hfdG9rZW4gPSBkYXRhLnJlZnJlc2hfdG9rZW47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb25maWcuc2V0KHVwZGF0ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBkYXRhO1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuICBoYW5kbGVNZXRhRXJyb3I6IG5vb3AsXG4gIGxpc3QoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdOb3Qgc3VwcG9ydGVkJyk7XG4gIH0sXG4gIGdldCh7IGlkIH0pIHtcbiAgICBpZiAoIWlkKSByZXR1cm4gUHJvbWlzZS5yZWplY3QoKTtcbiAgICByZXR1cm4gdGhpcy5sb2FkRGF0YSh7XG4gICAgICB1cmw6IGAvZmlsZXMvJHtpZH0/YWx0PW1lZGlhYCxcbiAgICB9KTtcbiAgfSxcbiAgcHV0KGl0ZW0sIGRhdGEpIHtcbiAgICBjb25zdCBuYW1lID0gZ2V0SXRlbUZpbGVuYW1lKGl0ZW0pO1xuICAgIGNvbnN0IHsgaWQgfSA9IGl0ZW07XG4gICAgY29uc3QgYm91bmRhcnkgPSBnZXRVbmlxSWQoJ3Zpb2xlbnRtb25rZXktaXMtZ3JlYXQtJyk7XG4gICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgICdDb250ZW50LVR5cGUnOiBgbXVsdGlwYXJ0L3JlbGF0ZWQ7IGJvdW5kYXJ5PSR7Ym91bmRhcnl9YCxcbiAgICB9O1xuICAgIGNvbnN0IG1ldGFkYXRhID0gaWQgPyB7XG4gICAgICBuYW1lLFxuICAgIH0gOiB7XG4gICAgICBuYW1lLFxuICAgICAgcGFyZW50czogWydhcHBEYXRhRm9sZGVyJ10sXG4gICAgfTtcbiAgICBjb25zdCBib2R5ID0gW1xuICAgICAgYC0tJHtib3VuZGFyeX1gLFxuICAgICAgJ0NvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD1VVEYtOCcsXG4gICAgICAnJyxcbiAgICAgIEpTT04uc3RyaW5naWZ5KG1ldGFkYXRhKSxcbiAgICAgIGAtLSR7Ym91bmRhcnl9YCxcbiAgICAgICdDb250ZW50LVR5cGU6IHRleHQvcGxhaW4nLFxuICAgICAgJycsXG4gICAgICBkYXRhLFxuICAgICAgYC0tJHtib3VuZGFyeX0tLWAsXG4gICAgICAnJyxcbiAgICBdLmpvaW4oJ1xcclxcbicpO1xuICAgIGNvbnN0IHVybCA9IGlkXG4gICAgICA/IGBodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS91cGxvYWQvZHJpdmUvdjMvZmlsZXMvJHtpZH0/dXBsb2FkVHlwZT1tdWx0aXBhcnRgXG4gICAgICA6ICdodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS91cGxvYWQvZHJpdmUvdjMvZmlsZXM/dXBsb2FkVHlwZT1tdWx0aXBhcnQnO1xuICAgIHJldHVybiB0aGlzLmxvYWREYXRhKHtcbiAgICAgIHVybCxcbiAgICAgIGJvZHksXG4gICAgICBoZWFkZXJzLFxuICAgICAgbWV0aG9kOiBpZCA/ICdQQVRDSCcgOiAnUE9TVCcsXG4gICAgfSk7XG4gIH0sXG4gIHJlbW92ZSh7IGlkIH0pIHtcbiAgICByZXR1cm4gdGhpcy5sb2FkRGF0YSh7XG4gICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgICAgdXJsOiBgL2ZpbGVzLyR7aWR9YCxcbiAgICB9KTtcbiAgfSxcbn0pO1xucmVnaXN0ZXIoR29vZ2xlRHJpdmUpO1xuXG5mdW5jdGlvbiBub3JtYWxpemUoaXRlbSkge1xuICByZXR1cm4ge1xuICAgIGlkOiBpdGVtLmlkLFxuICAgIG5hbWU6IGl0ZW0ubmFtZSxcbiAgICBzaXplOiAraXRlbS5zaXplLFxuICAgIHVyaTogZ2V0VVJJKGl0ZW0ubmFtZSksXG4gIH07XG59XG4iLCJpbXBvcnQge1xuICBpbml0aWFsaXplLFxuICBzeW5jLFxuICBnZXRTdGF0ZXMsXG4gIGF1dGhvcml6ZSxcbiAgcmV2b2tlLFxuICBzZXRDb25maWcsXG59IGZyb20gJy4vYmFzZSc7XG5pbXBvcnQgJy4vZHJvcGJveCc7XG5pbXBvcnQgJy4vb25lZHJpdmUnO1xuaW1wb3J0ICcuL2dvb2dsZWRyaXZlJztcbmltcG9ydCAnLi93ZWJkYXYnO1xuaW1wb3J0IHsgY29tbWFuZHMgfSBmcm9tICcuLi91dGlscy9tZXNzYWdlJztcblxuT2JqZWN0LmFzc2lnbihjb21tYW5kcywge1xuICBTeW5jQXV0aG9yaXplOiBhdXRob3JpemUsXG4gIFN5bmNSZXZva2U6IHJldm9rZSxcbiAgU3luY1N0YXJ0OiBzeW5jLFxuICBTeW5jU2V0Q29uZmlnOiBzZXRDb25maWcsXG59KTtcblxuZXhwb3J0IHtcbiAgaW5pdGlhbGl6ZSxcbiAgc3luYyxcbiAgZ2V0U3RhdGVzLFxuICBhdXRob3JpemUsXG4gIHJldm9rZSxcbn07XG4iLCIvLyBSZWZlcmVuY2U6IGh0dHBzOi8vZGV2Lm9uZWRyaXZlLmNvbS9SRUFETUUuaHRtXG5pbXBvcnQgeyBub29wIH0gZnJvbSAnIy9jb21tb24nO1xuaW1wb3J0IHsgb2JqZWN0R2V0IH0gZnJvbSAnIy9jb21tb24vb2JqZWN0JztcbmltcG9ydCB7IGR1bXBRdWVyeSB9IGZyb20gJy4uL3V0aWxzJztcbmltcG9ydCB7XG4gIGdldFVSSSwgZ2V0SXRlbUZpbGVuYW1lLCBCYXNlU2VydmljZSwgaXNTY3JpcHRGaWxlLCByZWdpc3RlcixcbiAgb3BlbkF1dGhQYWdlLFxufSBmcm9tICcuL2Jhc2UnO1xuXG5jb25zdCBjb25maWcgPSB7XG4gIGNsaWVudF9pZDogcHJvY2Vzcy5lbnYuU1lOQ19PTkVEUklWRV9DTElFTlRfSUQsXG4gIGNsaWVudF9zZWNyZXQ6IHByb2Nlc3MuZW52LlNZTkNfT05FRFJJVkVfQ0xJRU5UX1NFQ1JFVCxcbiAgcmVkaXJlY3RfdXJpOiAnaHR0cHM6Ly92aW9sZW50bW9ua2V5LmdpdGh1Yi5pby9hdXRoX29uZWRyaXZlLmh0bWwnLFxufTtcblxuY29uc3QgT25lRHJpdmUgPSBCYXNlU2VydmljZS5leHRlbmQoe1xuICBuYW1lOiAnb25lZHJpdmUnLFxuICBkaXNwbGF5TmFtZTogJ09uZURyaXZlJyxcbiAgdXJsUHJlZml4OiAnaHR0cHM6Ly9hcGkub25lZHJpdmUuY29tL3YxLjAnLFxuICByZWZyZXNoVG9rZW4oKSB7XG4gICAgY29uc3QgcmVmcmVzaFRva2VuID0gdGhpcy5jb25maWcuZ2V0KCdyZWZyZXNoX3Rva2VuJyk7XG4gICAgcmV0dXJuIHRoaXMuYXV0aG9yaXplZCh7XG4gICAgICByZWZyZXNoX3Rva2VuOiByZWZyZXNoVG9rZW4sXG4gICAgICBncmFudF90eXBlOiAncmVmcmVzaF90b2tlbicsXG4gICAgfSlcbiAgICAudGhlbigoKSA9PiB0aGlzLnByZXBhcmUoKSk7XG4gIH0sXG4gIHVzZXIoKSB7XG4gICAgY29uc3QgcmVxdWVzdFVzZXIgPSAoKSA9PiB0aGlzLmxvYWREYXRhKHtcbiAgICAgIHVybDogJy9kcml2ZScsXG4gICAgICByZXNwb25zZVR5cGU6ICdqc29uJyxcbiAgICB9KTtcbiAgICByZXR1cm4gcmVxdWVzdFVzZXIoKVxuICAgIC5jYXRjaCgocmVzKSA9PiB7XG4gICAgICBpZiAocmVzLnN0YXR1cyA9PT0gNDAxKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlZnJlc2hUb2tlbigpLnRoZW4ocmVxdWVzdFVzZXIpO1xuICAgICAgfVxuICAgICAgdGhyb3cgcmVzO1xuICAgIH0pXG4gICAgLmNhdGNoKChyZXMpID0+IHtcbiAgICAgIGlmIChyZXMuc3RhdHVzID09PSA0MDAgJiYgb2JqZWN0R2V0KHJlcywgJ2RhdGEuZXJyb3InKSA9PT0gJ2ludmFsaWRfZ3JhbnQnKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCh7XG4gICAgICAgICAgdHlwZTogJ3VuYXV0aG9yaXplZCcsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KHtcbiAgICAgICAgdHlwZTogJ2Vycm9yJyxcbiAgICAgICAgZGF0YTogcmVzLFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH0sXG4gIGhhbmRsZU1ldGFFcnJvcihyZXMpIHtcbiAgICBpZiAocmVzLnN0YXR1cyA9PT0gNDA0KSB7XG4gICAgICBjb25zdCBoZWFkZXIgPSByZXMuaGVhZGVycy5nZXQoJ1dXVy1BdXRoZW50aWNhdGUnKT8uWzBdIHx8ICcnO1xuICAgICAgaWYgKC9eQmVhcmVyIHJlYWxtPVwiT25lRHJpdmVBUElcIi8udGVzdChoZWFkZXIpKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlZnJlc2hUb2tlbigpLnRoZW4oKCkgPT4gdGhpcy5nZXRNZXRhKCkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aHJvdyByZXM7XG4gIH0sXG4gIGxpc3QoKSB7XG4gICAgcmV0dXJuIHRoaXMubG9hZERhdGEoe1xuICAgICAgdXJsOiAnL2RyaXZlL3NwZWNpYWwvYXBwcm9vdC9jaGlsZHJlbicsXG4gICAgICByZXNwb25zZVR5cGU6ICdqc29uJyxcbiAgICB9KVxuICAgIC50aGVuKGRhdGEgPT4gZGF0YS52YWx1ZS5maWx0ZXIoaXRlbSA9PiBpdGVtLmZpbGUgJiYgaXNTY3JpcHRGaWxlKGl0ZW0ubmFtZSkpLm1hcChub3JtYWxpemUpKTtcbiAgfSxcbiAgZ2V0KGl0ZW0pIHtcbiAgICBjb25zdCBuYW1lID0gZ2V0SXRlbUZpbGVuYW1lKGl0ZW0pO1xuICAgIHJldHVybiB0aGlzLmxvYWREYXRhKHtcbiAgICAgIHVybDogYC9kcml2ZS9zcGVjaWFsL2FwcHJvb3Q6LyR7ZW5jb2RlVVJJQ29tcG9uZW50KG5hbWUpfWAsXG4gICAgICByZXNwb25zZVR5cGU6ICdqc29uJyxcbiAgICB9KVxuICAgIC50aGVuKGRhdGEgPT4gdGhpcy5sb2FkRGF0YSh7XG4gICAgICB1cmw6IGRhdGFbJ0Bjb250ZW50LmRvd25sb2FkVXJsJ10sXG4gICAgICBkZWxheTogZmFsc2UsXG4gICAgfSkpO1xuICB9LFxuICBwdXQoaXRlbSwgZGF0YSkge1xuICAgIGNvbnN0IG5hbWUgPSBnZXRJdGVtRmlsZW5hbWUoaXRlbSk7XG4gICAgcmV0dXJuIHRoaXMubG9hZERhdGEoe1xuICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgIHVybDogYC9kcml2ZS9zcGVjaWFsL2FwcHJvb3Q6LyR7ZW5jb2RlVVJJQ29tcG9uZW50KG5hbWUpfTovY29udGVudGAsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtJyxcbiAgICAgIH0sXG4gICAgICBib2R5OiBkYXRhLFxuICAgICAgcmVzcG9uc2VUeXBlOiAnanNvbicsXG4gICAgfSlcbiAgICAudGhlbihub3JtYWxpemUpO1xuICB9LFxuICByZW1vdmUoaXRlbSkge1xuICAgIC8vIHJldHVybiAyMDRcbiAgICBjb25zdCBuYW1lID0gZ2V0SXRlbUZpbGVuYW1lKGl0ZW0pO1xuICAgIHJldHVybiB0aGlzLmxvYWREYXRhKHtcbiAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICB1cmw6IGAvZHJpdmUvc3BlY2lhbC9hcHByb290Oi8ke2VuY29kZVVSSUNvbXBvbmVudChuYW1lKX1gLFxuICAgIH0pXG4gICAgLmNhdGNoKG5vb3ApO1xuICB9LFxuICBhdXRob3JpemUoKSB7XG4gICAgY29uc3QgcGFyYW1zID0ge1xuICAgICAgY2xpZW50X2lkOiBjb25maWcuY2xpZW50X2lkLFxuICAgICAgc2NvcGU6ICdvbmVkcml2ZS5hcHBmb2xkZXIgd2wub2ZmbGluZV9hY2Nlc3MnLFxuICAgICAgcmVzcG9uc2VfdHlwZTogJ2NvZGUnLFxuICAgICAgcmVkaXJlY3RfdXJpOiBjb25maWcucmVkaXJlY3RfdXJpLFxuICAgIH07XG4gICAgY29uc3QgdXJsID0gYGh0dHBzOi8vbG9naW4ubGl2ZS5jb20vb2F1dGgyMF9hdXRob3JpemUuc3JmPyR7ZHVtcFF1ZXJ5KHBhcmFtcyl9YDtcbiAgICBvcGVuQXV0aFBhZ2UodXJsLCBjb25maWcucmVkaXJlY3RfdXJpKTtcbiAgfSxcbiAgY2hlY2tBdXRoKHVybCkge1xuICAgIGNvbnN0IHJlZGlyZWN0VXJpID0gYCR7Y29uZmlnLnJlZGlyZWN0X3VyaX0/Y29kZT1gO1xuICAgIGlmICh1cmwuc3RhcnRzV2l0aChyZWRpcmVjdFVyaSkpIHtcbiAgICAgIHRoaXMuYXV0aFN0YXRlLnNldCgnYXV0aG9yaXppbmcnKTtcbiAgICAgIHRoaXMuYXV0aG9yaXplZCh7XG4gICAgICAgIGNvZGU6IHVybC5zbGljZShyZWRpcmVjdFVyaS5sZW5ndGgpLFxuICAgICAgfSlcbiAgICAgIC50aGVuKCgpID0+IHRoaXMuY2hlY2tTeW5jKCkpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9LFxuICByZXZva2UoKSB7XG4gICAgdGhpcy5jb25maWcuc2V0KHtcbiAgICAgIHVpZDogbnVsbCxcbiAgICAgIHRva2VuOiBudWxsLFxuICAgICAgcmVmcmVzaF90b2tlbjogbnVsbCxcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcy5wcmVwYXJlKCk7XG4gIH0sXG4gIGF1dGhvcml6ZWQocGFyYW1zKSB7XG4gICAgcmV0dXJuIHRoaXMubG9hZERhdGEoe1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICB1cmw6ICdodHRwczovL2xvZ2luLmxpdmUuY29tL29hdXRoMjBfdG9rZW4uc3JmJyxcbiAgICAgIHByZWZpeDogJycsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJyxcbiAgICAgIH0sXG4gICAgICBib2R5OiBkdW1wUXVlcnkoT2JqZWN0LmFzc2lnbih7fSwge1xuICAgICAgICBjbGllbnRfaWQ6IGNvbmZpZy5jbGllbnRfaWQsXG4gICAgICAgIGNsaWVudF9zZWNyZXQ6IGNvbmZpZy5jbGllbnRfc2VjcmV0LFxuICAgICAgICByZWRpcmVjdF91cmk6IGNvbmZpZy5yZWRpcmVjdF91cmksXG4gICAgICAgIGdyYW50X3R5cGU6ICdhdXRob3JpemF0aW9uX2NvZGUnLFxuICAgICAgfSwgcGFyYW1zKSksXG4gICAgICByZXNwb25zZVR5cGU6ICdqc29uJyxcbiAgICB9KVxuICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICBpZiAoZGF0YS5hY2Nlc3NfdG9rZW4pIHtcbiAgICAgICAgdGhpcy5jb25maWcuc2V0KHtcbiAgICAgICAgICB1aWQ6IGRhdGEudXNlcl9pZCxcbiAgICAgICAgICB0b2tlbjogZGF0YS5hY2Nlc3NfdG9rZW4sXG4gICAgICAgICAgcmVmcmVzaF90b2tlbjogZGF0YS5yZWZyZXNoX3Rva2VuLFxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IGRhdGE7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG59KTtcbnJlZ2lzdGVyKE9uZURyaXZlKTtcblxuZnVuY3Rpb24gbm9ybWFsaXplKGl0ZW0pIHtcbiAgcmV0dXJuIHtcbiAgICBuYW1lOiBpdGVtLm5hbWUsXG4gICAgc2l6ZTogaXRlbS5zaXplLFxuICAgIHVyaTogZ2V0VVJJKGl0ZW0ubmFtZSksXG4gICAgLy8gbW9kaWZpZWQ6IG5ldyBEYXRlKGl0ZW0ubGFzdE1vZGlmaWVkRGF0ZVRpbWUpLmdldFRpbWUoKSxcbiAgfTtcbn1cbiIsImltcG9ydCB7XG4gIGdldFVSSSwgZ2V0SXRlbUZpbGVuYW1lLCBCYXNlU2VydmljZSwgaXNTY3JpcHRGaWxlLCByZWdpc3Rlcixcbn0gZnJvbSAnLi9iYXNlJztcblxuY29uc3QgS0VZX0NISUxEUkVOID0gU3ltYm9sKCdjaGlsZHJlbicpO1xuXG5jbGFzcyBYTm9kZSB7XG4gIGNvbnN0cnVjdG9yKG5vZGUsIG5zTWFwKSB7XG4gICAgdGhpcy5ub2RlID0gbm9kZTtcbiAgICB0aGlzLm5zTWFwID0geyAuLi5uc01hcCB9O1xuICAgIHRoaXMucGFyc2VBdHRycygpO1xuICAgIHRoaXMucGFyc2VOYW1lKCk7XG4gIH1cblxuICBzdGF0aWMgZnJvbVhNTCh4bWwpIHtcbiAgICBjb25zdCBwYXJzZXIgPSBuZXcgRE9NUGFyc2VyKCk7XG4gICAgY29uc3QgZG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyh4bWwsICdhcHBsaWNhdGlvbi94bWwnKTtcbiAgICByZXR1cm4gbmV3IFhOb2RlKGRvYyk7XG4gIH1cblxuICBwYXJzZUF0dHJzKCkge1xuICAgIGNvbnN0IHsgbm9kZSwgbnNNYXAgfSA9IHRoaXM7XG4gICAgY29uc3QgYXR0cnMgPSB7fTtcbiAgICBjb25zdCB7IGF0dHJpYnV0ZXMgfSA9IG5vZGU7XG4gICAgaWYgKGF0dHJpYnV0ZXMpIHtcbiAgICAgIGZvciAoY29uc3QgYXR0ciBvZiBub2RlLmF0dHJpYnV0ZXMpIHtcbiAgICAgICAgY29uc3QgeyBuYW1lLCB2YWx1ZSB9ID0gYXR0cjtcbiAgICAgICAgaWYgKG5hbWUgPT09ICd4bWxucycpIG5zTWFwLiQgPSB2YWx1ZTtcbiAgICAgICAgZWxzZSBpZiAobmFtZS5zdGFydHNXaXRoKCd4bWxuczonKSkgbnNNYXBbbmFtZS5zbGljZSg2KV0gPSB2YWx1ZTtcbiAgICAgICAgYXR0cnNbbmFtZV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5hdHRycyA9IGF0dHJzO1xuICB9XG5cbiAgcGFyc2VOYW1lKCkge1xuICAgIGNvbnN0IHsgbm9kZSwgbnNNYXAgfSA9IHRoaXM7XG4gICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IDEpIHtcbiAgICAgIGxldCBuYW1lID0gbm9kZS50YWdOYW1lO1xuICAgICAgbGV0IG5zID0gbnNNYXAuJDtcbiAgICAgIGlmIChuYW1lLmluY2x1ZGVzKCc6JykpIHtcbiAgICAgICAgbGV0IHByZWZpeDtcbiAgICAgICAgW3ByZWZpeCwgbmFtZV0gPSBuYW1lLnNwbGl0KCc6Jyk7XG4gICAgICAgIG5zID0gbnNNYXBbcHJlZml4XTtcbiAgICAgICAgaWYgKCFucykgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIG5hbWVzcGFjZTogJHtwcmVmaXh9YCk7XG4gICAgICB9XG4gICAgICB0aGlzLm5hbWUgPSBucyArIG5hbWU7XG4gICAgfVxuICB9XG5cbiAgdGV4dCgpIHtcbiAgICBjb25zdCB7IG5vZGUgfSA9IHRoaXM7XG4gICAgaWYgKG5vZGUpIHJldHVybiAobm9kZS50ZXh0Q29udGVudCB8fCAnJykudHJpbSgpO1xuICB9XG5cbiAgY2hpbGRyZW4oKSB7XG4gICAgaWYgKCF0aGlzW0tFWV9DSElMRFJFTl0pIHtcbiAgICAgIGNvbnN0IHsgbm9kZSwgbnNNYXAgfSA9IHRoaXM7XG4gICAgICB0aGlzW0tFWV9DSElMRFJFTl0gPSBbLi4ubm9kZS5jaGlsZHJlbl1cbiAgICAgIC5tYXAoY2hpbGQgPT4gbmV3IFhOb2RlKGNoaWxkLCBuc01hcCkpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpc1tLRVlfQ0hJTERSRU5dO1xuICB9XG5cbiAgbWFwKGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIHRoaXMuY2hpbGRyZW4oKS5tYXAoY2FsbGJhY2spO1xuICB9XG5cbiAgZ2V0Q2FsbGJhY2soY2FsbGJhY2spIHtcbiAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnc3RyaW5nJykge1xuICAgICAgcmV0dXJuICh0YWdOYW1lID0+IG5vZGUgPT4gbm9kZS5uYW1lID09PSB0YWdOYW1lKShjYWxsYmFjayk7XG4gICAgfVxuICAgIHJldHVybiBjYWxsYmFjaztcbiAgfVxuXG4gIGZpbHRlcihjYWxsYmFjaykge1xuICAgIHJldHVybiB0aGlzLmNoaWxkcmVuKCkuZmlsdGVyKHRoaXMuZ2V0Q2FsbGJhY2soY2FsbGJhY2spKTtcbiAgfVxuXG4gIGZpbmQoY2FsbGJhY2spIHtcbiAgICByZXR1cm4gdGhpcy5jaGlsZHJlbigpLmZpbmQodGhpcy5nZXRDYWxsYmFjayhjYWxsYmFjaykpO1xuICB9XG5cbiAgYXR0cihrZXkpIHtcbiAgICByZXR1cm4gdGhpcy5hdHRyc1trZXldO1xuICB9XG59XG5cbmNvbnN0IERFRkFVTFRfQ09ORklHID0ge1xuICBzZXJ2ZXJVcmw6ICcnLFxuICBhbm9ueW1vdXM6IGZhbHNlLFxuICB1c2VybmFtZTogJycsXG4gIHBhc3N3b3JkOiAnJyxcbn07XG5cbmNvbnN0IFdlYkRBViA9IEJhc2VTZXJ2aWNlLmV4dGVuZCh7XG4gIG5hbWU6ICd3ZWJkYXYnLFxuICBkaXNwbGF5TmFtZTogJ1dlYkRBVicsXG4gIHByb3BlcnRpZXM6IHtcbiAgICBhdXRoVHlwZTogJ3Bhc3N3b3JkJyxcbiAgICBzZXJ2ZXJVcmw6IG51bGwsXG4gIH0sXG4gIGdldFVzZXJDb25maWcoKSB7XG4gICAgaWYgKCF0aGlzLnVzZXJDb25maWcpIHtcbiAgICAgIHRoaXMudXNlckNvbmZpZyA9IHtcbiAgICAgICAgLi4uREVGQVVMVF9DT05GSUcsXG4gICAgICAgIC4uLnRoaXMuY29uZmlnLmdldCgndXNlckNvbmZpZycpLFxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMudXNlckNvbmZpZztcbiAgfSxcbiAgc2V0VXNlckNvbmZpZyhjb25maWcpIHtcbiAgICBPYmplY3QuYXNzaWduKHRoaXMudXNlckNvbmZpZywgY29uZmlnKTtcbiAgICB0aGlzLmNvbmZpZy5zZXQoJ3VzZXJDb25maWcnLCB0aGlzLnVzZXJDb25maWcpO1xuICB9LFxuICBpbml0VG9rZW4oKSB7XG4gICAgdGhpcy5wcmVwYXJlSGVhZGVycygpO1xuICAgIGNvbnN0IGNvbmZpZyA9IHRoaXMuZ2V0VXNlckNvbmZpZygpO1xuICAgIGxldCB1cmwgPSBjb25maWcuc2VydmVyVXJsPy50cmltKCkgfHwgJyc7XG4gICAgaWYgKCF1cmwuaW5jbHVkZXMoJzovLycpKSB1cmwgPSBgaHR0cDovLyR7dXJsfWA7XG4gICAgaWYgKCF1cmwuZW5kc1dpdGgoJy8nKSkgdXJsICs9ICcvJztcbiAgICB0cnkge1xuICAgICAgbmV3IFVSTCh1cmwpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLW5ld1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHRoaXMucHJvcGVydGllcy5zZXJ2ZXJVcmwgPSBudWxsO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB0aGlzLnByb3BlcnRpZXMuc2VydmVyVXJsID0gYCR7dXJsfVZpb2xlbnRtb25rZXkvYDtcbiAgICBjb25zdCB7IGFub255bW91cywgdXNlcm5hbWUsIHBhc3N3b3JkIH0gPSBjb25maWc7XG4gICAgaWYgKGFub255bW91cykgcmV0dXJuIHRydWU7XG4gICAgaWYgKCF1c2VybmFtZSB8fCAhcGFzc3dvcmQpIHJldHVybiBmYWxzZTtcbiAgICBjb25zdCBhdXRoID0gd2luZG93LmJ0b2EoYCR7dXNlcm5hbWV9OiR7cGFzc3dvcmR9YCk7XG4gICAgdGhpcy5oZWFkZXJzLkF1dGhvcml6YXRpb24gPSBgQmFzaWMgJHthdXRofWA7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0sXG4gIGxvYWREYXRhKG9wdGlvbnMpIHtcbiAgICAvLyBCeXBhc3NpbmcgbG9naW4gQ1NSRiBwcm90ZWN0aW9uIGluIE5leHRjbG91ZCAvIE93bmNsb3VkIGJ5IG5vdCBzZW5kaW5nIGNvb2tpZXMuXG4gICAgLy8gV2UgYXJlIG5vdCB1c2luZyB3ZWIgVUkgYW5kIGNvb2tpZSBhdXRoZW50aWNhdGlvbiwgc28gd2UgZG9uJ3QgaGF2ZSB0byB3b3JyeSBhYm91dCB0aGF0LlxuICAgIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vdmlvbGVudG1vbmtleS92aW9sZW50bW9ua2V5L2lzc3Vlcy85NzZcbiAgICByZXR1cm4gQmFzZVNlcnZpY2UucHJvdG90eXBlLmxvYWREYXRhLmNhbGwodGhpcywgT2JqZWN0LmFzc2lnbih7XG4gICAgICBjcmVkZW50aWFsczogJ29taXQnLFxuICAgIH0sIG9wdGlvbnMpKTtcbiAgfSxcbiAgaGFuZGxlTWV0YUVycm9yKHJlcykge1xuICAgIGlmICghW1xuICAgICAgNDA0LCAvLyBGaWxlIG5vdCBleGlzdHNcbiAgICAgIDQwOSwgLy8gRGlyZWN0b3J5IG5vdCBleGlzdHNcbiAgICBdLmluY2x1ZGVzKHJlcy5zdGF0dXMpKSB0aHJvdyByZXM7XG4gIH0sXG4gIC8vIFNvbWUgV2ViREFWIHNlcnZlcnMgZG8gbm90IGFsbG93IExPQ0sgLyBVTkxPQ0tcbiAgLypcbiAgYWNxdWlyZUxvY2soKSB7XG4gICAgY29uc3QgeyBzZXJ2ZXJVcmwgfSA9IHRoaXMucHJvcGVydGllcztcbiAgICBjb25zdCBjcmVhdGVMb2NrID0gKCkgPT4ge1xuICAgICAgdGhpcy5sb2coJ0FjcXVpcmUgbG9jay4uLicpO1xuICAgICAgcmV0dXJuIHRoaXMubG9hZERhdGEoe1xuICAgICAgICBtZXRob2Q6ICdMT0NLJyxcbiAgICAgICAgdXJsOiBzZXJ2ZXJVcmwsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICBUaW1lb3V0OiBgU2Vjb25kLSR7MzAgKiA2MH1gLFxuICAgICAgICB9LFxuICAgICAgICBib2R5OiBgXFxcbjw/eG1sIHZlcnNpb249XCIxLjBcIiBlbmNvZGluZz1cInV0Zi04XCIgPz5cbjxEOmxvY2tpbmZvIHhtbG5zOkQ9J0RBVjonPlxuICA8RDpsb2Nrc2NvcGU+PEQ6ZXhjbHVzaXZlLz48L0Q6bG9ja3Njb3BlPlxuICA8RDpsb2NrdHlwZT48RDp3cml0ZS8+PC9EOmxvY2t0eXBlPlxuPC9EOmxvY2tpbmZvPmAsXG4gICAgICB9KVxuICAgICAgLnRoZW4oeG1sID0+IHtcbiAgICAgICAgY29uc3QgZG9jID0gWE5vZGUuZnJvbVhNTCh4bWwpO1xuICAgICAgICBjb25zdCBsb2NrID0gZG9jLmZpbmQoJ0RBVjpwcm9wJylcbiAgICAgICAgLmZpbmQoJ0RBVjpsb2NrZGlzY292ZXJ5JylcbiAgICAgICAgLmZpbmQoJ0RBVjphY3RpdmVsb2NrJylcbiAgICAgICAgLmZpbmQoJ0RBVjpsb2NrdG9rZW4nKVxuICAgICAgICAuZmluZCgnREFWOmhyZWYnKVxuICAgICAgICAudGV4dCgpO1xuICAgICAgICB0aGlzLmxvZygnQWNxdWlyZWQgbG9jazonLCBsb2NrKTtcbiAgICAgICAgdGhpcy5jb25maWcuc2V0KHtcbiAgICAgICAgICBsb2NrLFxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH07XG4gICAgY29uc3QgbG9jayA9IHRoaXMuY29uZmlnLmdldCgnbG9jaycpO1xuICAgIGlmIChsb2NrKSB7XG4gICAgICB0aGlzLmxvZygnUmVmcmVzaCBsb2NrOicsIGxvY2spO1xuICAgICAgcmV0dXJuIHRoaXMubG9hZERhdGEoe1xuICAgICAgICBtZXRob2Q6ICdMT0NLJyxcbiAgICAgICAgdXJsOiBzZXJ2ZXJVcmwsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICBJZjogYCg8JHtsb2NrfT4pYCxcbiAgICAgICAgfSxcbiAgICAgIH0pXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIHRoaXMubG9nKCdSZWZyZXNoZWQgbG9jazonLCBsb2NrKTtcbiAgICAgIH0sIGVyciA9PiB7XG4gICAgICAgIGlmIChlcnIuc3RhdHVzID09PSA0MTIpIHtcbiAgICAgICAgICB0aGlzLmxvZygnUmVmcmVzaCBsb2NrIGVycm9yJyk7XG4gICAgICAgICAgdGhpcy5jb25maWcuc2V0KHsgbG9jazogbnVsbCB9KTtcbiAgICAgICAgICAvLyBQcmVjb25kaXRpb24gRmFpbGVkXG4gICAgICAgICAgcmV0dXJuIGNyZWF0ZUxvY2soKTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBlcnI7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGNyZWF0ZUxvY2soKTtcbiAgfSxcbiAgcmVsZWFzZUxvY2soKSB7XG4gICAgY29uc3QgbG9jayA9IHRoaXMuY29uZmlnLmdldCgnbG9jaycpO1xuICAgIGlmIChsb2NrKSB7XG4gICAgICBjb25zdCB7IHNlcnZlclVybCB9ID0gdGhpcy5wcm9wZXJ0aWVzO1xuICAgICAgdGhpcy5sb2coJ1JlbGVhc2UgbG9jazonLCBsb2NrKTtcbiAgICAgIHJldHVybiB0aGlzLmxvYWREYXRhKHtcbiAgICAgICAgbWV0aG9kOiAnVU5MT0NLJyxcbiAgICAgICAgdXJsOiBzZXJ2ZXJVcmwsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnTG9jay1Ub2tlbic6IGA8JHtsb2NrfT5gLFxuICAgICAgICB9LFxuICAgICAgfSlcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgdGhpcy5sb2coJ1JlbGVhc2VkIGxvY2snKTtcbiAgICAgIH0sICgpID0+IHtcbiAgICAgICAgdGhpcy5sb2coJ1JlbGVhc2UgbG9jayBlcnJvcicpO1xuICAgICAgfSlcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgdGhpcy5jb25maWcuc2V0KHsgbG9jazogbnVsbCB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcbiAgKi9cbiAgbGlzdCgpIHtcbiAgICBjb25zdCB7IHNlcnZlclVybCB9ID0gdGhpcy5wcm9wZXJ0aWVzO1xuICAgIGNvbnN0IG1rZGlyID0gKCkgPT4gdGhpcy5sb2FkRGF0YSh7XG4gICAgICBtZXRob2Q6ICdNS0NPTCcsXG4gICAgICB1cmw6IHNlcnZlclVybCxcbiAgICB9KTtcbiAgICBjb25zdCByZWFkZGlyID0gKCkgPT4gdGhpcy5sb2FkRGF0YSh7XG4gICAgICBtZXRob2Q6ICdQUk9QRklORCcsXG4gICAgICB1cmw6IHNlcnZlclVybCxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgZGVwdGg6ICcxJyxcbiAgICAgIH0sXG4gICAgfSlcbiAgICAudGhlbigoeG1sKSA9PiB7XG4gICAgICBjb25zdCBkb2MgPSBYTm9kZS5mcm9tWE1MKHhtbCk7XG4gICAgICBjb25zdCBpdGVtcyA9IGRvYy5jaGlsZHJlbigpWzBdXG4gICAgICAubWFwKChub2RlKSA9PiB7XG4gICAgICAgIGNvbnN0IHByb3AgPSBub2RlLmZpbmQoJ0RBVjpwcm9wc3RhdCcpLmZpbmQoJ0RBVjpwcm9wJyk7XG4gICAgICAgIGNvbnN0IHR5cGUgPSBwcm9wLmZpbmQoJ0RBVjpyZXNvdXJjZXR5cGUnKS5maW5kKCdEQVY6Y29sbGVjdGlvbicpID8gJ2RpcmVjdG9yeScgOiAnZmlsZSc7XG4gICAgICAgIGlmICh0eXBlID09PSAnZmlsZScpIHtcbiAgICAgICAgICBsZXQgZGlzcGxheU5hbWU7XG4gICAgICAgICAgY29uc3QgZGlzcGxheU5hbWVOb2RlID0gcHJvcC5maW5kKCdEQVY6ZGlzcGxheW5hbWUnKTtcblxuICAgICAgICAgIGlmIChkaXNwbGF5TmFtZU5vZGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZGlzcGxheU5hbWUgPSBkaXNwbGF5TmFtZU5vZGUudGV4dCgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBocmVmID0gbm9kZS5maW5kKCdEQVY6aHJlZicpLnRleHQoKTtcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lID0gZGVjb2RlVVJJQ29tcG9uZW50KGhyZWYuc3Vic3RyaW5nKGhyZWYubGFzdEluZGV4T2YoJy8nKSArIDEpKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoaXNTY3JpcHRGaWxlKGRpc3BsYXlOYW1lKSkge1xuICAgICAgICAgICAgY29uc3Qgc2l6ZSA9IHByb3AuZmluZCgnREFWOmdldGNvbnRlbnRsZW5ndGgnKTtcbiAgICAgICAgICAgIHJldHVybiBub3JtYWxpemUoe1xuICAgICAgICAgICAgICBuYW1lOiBkaXNwbGF5TmFtZSxcbiAgICAgICAgICAgICAgc2l6ZTogc2l6ZSA/ICtzaXplLnRleHQoKSA6IDAsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9KVxuICAgICAgLmZpbHRlcihCb29sZWFuKTtcbiAgICAgIHJldHVybiBpdGVtcztcbiAgICB9KTtcbiAgICByZXR1cm4gcmVhZGRpcigpXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGlmIChlcnIuc3RhdHVzID09PSA0MDQpIHtcbiAgICAgICAgcmV0dXJuIG1rZGlyKCkudGhlbihyZWFkZGlyKTtcbiAgICAgIH1cbiAgICAgIHRocm93IGVycjtcbiAgICB9KTtcbiAgfSxcbiAgZ2V0KGl0ZW0pIHtcbiAgICBjb25zdCBuYW1lID0gZ2V0SXRlbUZpbGVuYW1lKGl0ZW0pO1xuICAgIGNvbnN0IHsgc2VydmVyVXJsIH0gPSB0aGlzLnByb3BlcnRpZXM7XG4gICAgcmV0dXJuIHRoaXMubG9hZERhdGEoe1xuICAgICAgdXJsOiBzZXJ2ZXJVcmwgKyBuYW1lLFxuICAgIH0pO1xuICB9LFxuICBwdXQoaXRlbSwgZGF0YSkge1xuICAgIGNvbnN0IG5hbWUgPSBnZXRJdGVtRmlsZW5hbWUoaXRlbSk7XG4gICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgICdDb250ZW50LVR5cGUnOiAndGV4dC9wbGFpbicsXG4gICAgfTtcbiAgICBjb25zdCBsb2NrID0gdGhpcy5jb25maWcuZ2V0KCdsb2NrJyk7XG4gICAgaWYgKGxvY2spIGhlYWRlcnMuSWYgPSBgKDwke2xvY2t9PilgO1xuICAgIGNvbnN0IHsgc2VydmVyVXJsIH0gPSB0aGlzLnByb3BlcnRpZXM7XG4gICAgcmV0dXJuIHRoaXMubG9hZERhdGEoe1xuICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgIHVybDogc2VydmVyVXJsICsgbmFtZSxcbiAgICAgIGJvZHk6IGRhdGEsXG4gICAgICBoZWFkZXJzLFxuICAgIH0pO1xuICB9LFxuICByZW1vdmUoaXRlbSkge1xuICAgIGNvbnN0IG5hbWUgPSBnZXRJdGVtRmlsZW5hbWUoaXRlbSk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGNvbnN0IGxvY2sgPSB0aGlzLmNvbmZpZy5nZXQoJ2xvY2snKTtcbiAgICBpZiAobG9jaykgaGVhZGVycy5JZiA9IGAoPCR7bG9ja30+KWA7XG4gICAgY29uc3QgeyBzZXJ2ZXJVcmwgfSA9IHRoaXMucHJvcGVydGllcztcbiAgICByZXR1cm4gdGhpcy5sb2FkRGF0YSh7XG4gICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgICAgdXJsOiBzZXJ2ZXJVcmwgKyBuYW1lLFxuICAgICAgaGVhZGVycyxcbiAgICB9KTtcbiAgfSxcbn0pO1xucmVnaXN0ZXIoV2ViREFWKTtcblxuZnVuY3Rpb24gbm9ybWFsaXplKGl0ZW0pIHtcbiAgcmV0dXJuIHtcbiAgICBuYW1lOiBpdGVtLm5hbWUsXG4gICAgc2l6ZTogaXRlbS5zaXplLFxuICAgIHVyaTogZ2V0VVJJKGl0ZW0ubmFtZSksXG4gIH07XG59XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuXG4vLyByZWZlciBodHRwczovL2dpdGh1Yi5jb20vdmlkZW8tZGV2L2hscy5qc1xuXG5mdW5jdGlvbiByZW1vdmVQYWRkaW5nKGJ1ZmZlcikge1xuICBjb25zdCBvdXRwdXRCeXRlcyA9IGJ1ZmZlci5ieXRlTGVuZ3RoO1xuICBjb25zdCBwYWRkaW5nQnl0ZXMgPSBvdXRwdXRCeXRlcyAmJiAobmV3IERhdGFWaWV3KGJ1ZmZlcikpLmdldFVpbnQ4KG91dHB1dEJ5dGVzIC0gMSk7XG4gIGlmIChwYWRkaW5nQnl0ZXMpIHtcbiAgICByZXR1cm4gYnVmZmVyLnNsaWNlKDAsIG91dHB1dEJ5dGVzIC0gcGFkZGluZ0J5dGVzKTtcbiAgfVxuICByZXR1cm4gYnVmZmVyO1xufVxuXG5leHBvcnQgY29uc3QgQUVTRGVjcnlwdG9yID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgdGhpcy5yY29uID0gWzB4MCwgMHgxLCAweDIsIDB4NCwgMHg4LCAweDEwLCAweDIwLCAweDQwLCAweDgwLCAweDFiLCAweDM2XTtcbiAgICAgIHRoaXMuc3ViTWl4ID0gW25ldyBVaW50MzJBcnJheSgyNTYpLCBuZXcgVWludDMyQXJyYXkoMjU2KSwgbmV3IFVpbnQzMkFycmF5KDI1NiksIG5ldyBVaW50MzJBcnJheSgyNTYpXTtcbiAgICAgIHRoaXMuaW52U3ViTWl4ID0gW25ldyBVaW50MzJBcnJheSgyNTYpLCBuZXcgVWludDMyQXJyYXkoMjU2KSwgbmV3IFVpbnQzMkFycmF5KDI1NiksIG5ldyBVaW50MzJBcnJheSgyNTYpXTtcbiAgICAgIHRoaXMuc0JveCA9IG5ldyBVaW50MzJBcnJheSgyNTYpO1xuICAgICAgdGhpcy5pbnZTQm94ID0gbmV3IFVpbnQzMkFycmF5KDI1Nik7XG5cbiAgICAgIC8vIENoYW5nZXMgZHVyaW5nIHJ1bnRpbWVcbiAgICAgIHRoaXMua2V5ID0gbmV3IFVpbnQzMkFycmF5KDApO1xuXG4gICAgICB0aGlzLmluaXRUYWJsZSgpO1xuICAgIH0sXG5cbiAgICAvLyBVc2luZyB2aWV3LmdldFVpbnQzMigpIGFsc28gc3dhcHMgdGhlIGJ5dGUgb3JkZXIuXG4gICAgdWludDhBcnJheVRvVWludDMyQXJyYXlfKGFycmF5QnVmZmVyKSB7XG4gICAgICBsZXQgdmlldyA9IG5ldyBEYXRhVmlldyhhcnJheUJ1ZmZlcik7XG4gICAgICBsZXQgbmV3QXJyYXkgPSBuZXcgVWludDMyQXJyYXkoNCk7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDQ7IGkrKykge1xuICAgICAgICBuZXdBcnJheVtpXSA9IHZpZXcuZ2V0VWludDMyKGkgKiA0KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5ld0FycmF5O1xuICAgIH0sXG5cbiAgICBpbml0VGFibGUoKSB7XG4gICAgICBsZXQgc0JveCA9IHRoaXMuc0JveDtcbiAgICAgIGxldCBpbnZTQm94ID0gdGhpcy5pbnZTQm94O1xuICAgICAgbGV0IHN1Yk1peCA9IHRoaXMuc3ViTWl4O1xuICAgICAgbGV0IHN1Yk1peDAgPSBzdWJNaXhbMF07XG4gICAgICBsZXQgc3ViTWl4MSA9IHN1Yk1peFsxXTtcbiAgICAgIGxldCBzdWJNaXgyID0gc3ViTWl4WzJdO1xuICAgICAgbGV0IHN1Yk1peDMgPSBzdWJNaXhbM107XG4gICAgICBsZXQgaW52U3ViTWl4ID0gdGhpcy5pbnZTdWJNaXg7XG4gICAgICBsZXQgaW52U3ViTWl4MCA9IGludlN1Yk1peFswXTtcbiAgICAgIGxldCBpbnZTdWJNaXgxID0gaW52U3ViTWl4WzFdO1xuICAgICAgbGV0IGludlN1Yk1peDIgPSBpbnZTdWJNaXhbMl07XG4gICAgICBsZXQgaW52U3ViTWl4MyA9IGludlN1Yk1peFszXTtcblxuICAgICAgbGV0IGQgPSBuZXcgVWludDMyQXJyYXkoMjU2KTtcbiAgICAgIGxldCB4ID0gMDtcbiAgICAgIGxldCB4aSA9IDA7XG4gICAgICBsZXQgaSA9IDA7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgMjU2OyBpKyspIHtcbiAgICAgICAgaWYgKGkgPCAxMjgpIHtcbiAgICAgICAgICBkW2ldID0gaSA8PCAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRbaV0gPSAoaSA8PCAxKSBeIDB4MTFiO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGZvciAoaSA9IDA7IGkgPCAyNTY7IGkrKykge1xuICAgICAgICBsZXQgc3ggPSB4aSBeICh4aSA8PCAxKSBeICh4aSA8PCAyKSBeICh4aSA8PCAzKSBeICh4aSA8PCA0KTtcbiAgICAgICAgc3ggPSAoc3ggPj4+IDgpIF4gKHN4ICYgMHhmZikgXiAweDYzO1xuICAgICAgICBzQm94W3hdID0gc3g7XG4gICAgICAgIGludlNCb3hbc3hdID0geDtcblxuICAgICAgICAvLyBDb21wdXRlIG11bHRpcGxpY2F0aW9uXG4gICAgICAgIGxldCB4MiA9IGRbeF07XG4gICAgICAgIGxldCB4NCA9IGRbeDJdO1xuICAgICAgICBsZXQgeDggPSBkW3g0XTtcblxuICAgICAgICAvLyBDb21wdXRlIHN1Yi9pbnZTdWIgYnl0ZXMsIG1peCBjb2x1bW5zIHRhYmxlc1xuICAgICAgICBsZXQgdCA9IChkW3N4XSAqIDB4MTAxKSBeIChzeCAqIDB4MTAxMDEwMCk7XG4gICAgICAgIHN1Yk1peDBbeF0gPSAodCA8PCAyNCkgfCAodCA+Pj4gOCk7XG4gICAgICAgIHN1Yk1peDFbeF0gPSAodCA8PCAxNikgfCAodCA+Pj4gMTYpO1xuICAgICAgICBzdWJNaXgyW3hdID0gKHQgPDwgOCkgfCAodCA+Pj4gMjQpO1xuICAgICAgICBzdWJNaXgzW3hdID0gdDtcblxuICAgICAgICAvLyBDb21wdXRlIGludiBzdWIgYnl0ZXMsIGludiBtaXggY29sdW1ucyB0YWJsZXNcbiAgICAgICAgdCA9ICh4OCAqIDB4MTAxMDEwMSkgXiAoeDQgKiAweDEwMDAxKSBeICh4MiAqIDB4MTAxKSBeICh4ICogMHgxMDEwMTAwKTtcbiAgICAgICAgaW52U3ViTWl4MFtzeF0gPSAodCA8PCAyNCkgfCAodCA+Pj4gOCk7XG4gICAgICAgIGludlN1Yk1peDFbc3hdID0gKHQgPDwgMTYpIHwgKHQgPj4+IDE2KTtcbiAgICAgICAgaW52U3ViTWl4MltzeF0gPSAodCA8PCA4KSB8ICh0ID4+PiAyNCk7XG4gICAgICAgIGludlN1Yk1peDNbc3hdID0gdDtcblxuICAgICAgICAvLyBDb21wdXRlIG5leHQgY291bnRlclxuICAgICAgICBpZiAoIXgpIHtcbiAgICAgICAgICB4ID0geGkgPSAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHggPSB4MiBeIGRbZFtkW3g4IF4geDJdXV07XG4gICAgICAgICAgeGkgXj0gZFtkW3hpXV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgZXhwYW5kS2V5KGtleUJ1ZmZlcikge1xuICAgICAgLy8gY29udmVydCBrZXlCdWZmZXIgdG8gVWludDMyQXJyYXlcbiAgICAgIGxldCBrZXkgPSB0aGlzLnVpbnQ4QXJyYXlUb1VpbnQzMkFycmF5XyhrZXlCdWZmZXIpO1xuICAgICAgbGV0IHNhbWVLZXkgPSB0cnVlO1xuICAgICAgbGV0IG9mZnNldCA9IDA7XG5cbiAgICAgIHdoaWxlIChvZmZzZXQgPCBrZXkubGVuZ3RoICYmIHNhbWVLZXkpIHtcbiAgICAgICAgc2FtZUtleSA9IChrZXlbb2Zmc2V0XSA9PT0gdGhpcy5rZXlbb2Zmc2V0XSk7XG4gICAgICAgIG9mZnNldCsrO1xuICAgICAgfVxuXG4gICAgICBpZiAoc2FtZUtleSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMua2V5ID0ga2V5O1xuICAgICAgbGV0IGtleVNpemUgPSB0aGlzLmtleVNpemUgPSBrZXkubGVuZ3RoO1xuXG4gICAgICBpZiAoa2V5U2l6ZSAhPT0gNCAmJiBrZXlTaXplICE9PSA2ICYmIGtleVNpemUgIT09IDgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGFlcyBrZXkgc2l6ZT0nICsga2V5U2l6ZSk7XG4gICAgICB9XG5cbiAgICAgIGxldCBrc1Jvd3MgPSB0aGlzLmtzUm93cyA9IChrZXlTaXplICsgNiArIDEpICogNDtcbiAgICAgIGxldCBrc1JvdztcbiAgICAgIGxldCBpbnZLc1JvdztcblxuICAgICAgbGV0IGtleVNjaGVkdWxlID0gdGhpcy5rZXlTY2hlZHVsZSA9IG5ldyBVaW50MzJBcnJheShrc1Jvd3MpO1xuICAgICAgbGV0IGludktleVNjaGVkdWxlID0gdGhpcy5pbnZLZXlTY2hlZHVsZSA9IG5ldyBVaW50MzJBcnJheShrc1Jvd3MpO1xuICAgICAgbGV0IHNib3ggPSB0aGlzLnNCb3g7XG4gICAgICBsZXQgcmNvbiA9IHRoaXMucmNvbjtcblxuICAgICAgbGV0IGludlN1Yk1peCA9IHRoaXMuaW52U3ViTWl4O1xuICAgICAgbGV0IGludlN1Yk1peDAgPSBpbnZTdWJNaXhbMF07XG4gICAgICBsZXQgaW52U3ViTWl4MSA9IGludlN1Yk1peFsxXTtcbiAgICAgIGxldCBpbnZTdWJNaXgyID0gaW52U3ViTWl4WzJdO1xuICAgICAgbGV0IGludlN1Yk1peDMgPSBpbnZTdWJNaXhbM107XG5cbiAgICAgIGxldCBwcmV2O1xuICAgICAgbGV0IHQ7XG5cbiAgICAgIGZvciAoa3NSb3cgPSAwOyBrc1JvdyA8IGtzUm93czsga3NSb3crKykge1xuICAgICAgICBpZiAoa3NSb3cgPCBrZXlTaXplKSB7XG4gICAgICAgICAgcHJldiA9IGtleVNjaGVkdWxlW2tzUm93XSA9IGtleVtrc1Jvd107XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdCA9IHByZXY7XG5cbiAgICAgICAgaWYgKGtzUm93ICUga2V5U2l6ZSA9PT0gMCkge1xuICAgICAgICAgIC8vIFJvdCB3b3JkXG4gICAgICAgICAgdCA9ICh0IDw8IDgpIHwgKHQgPj4+IDI0KTtcblxuICAgICAgICAgIC8vIFN1YiB3b3JkXG4gICAgICAgICAgdCA9IChzYm94W3QgPj4+IDI0XSA8PCAyNCkgfCAoc2JveFsodCA+Pj4gMTYpICYgMHhmZl0gPDwgMTYpIHwgKHNib3hbKHQgPj4+IDgpICYgMHhmZl0gPDwgOCkgfCBzYm94W3QgJiAweGZmXTtcblxuICAgICAgICAgIC8vIE1peCBSY29uXG4gICAgICAgICAgdCBePSByY29uWyhrc1JvdyAvIGtleVNpemUpIHwgMF0gPDwgMjQ7XG4gICAgICAgIH0gZWxzZSBpZiAoa2V5U2l6ZSA+IDYgJiYga3NSb3cgJSBrZXlTaXplID09PSA0KSB7XG4gICAgICAgICAgLy8gU3ViIHdvcmRcbiAgICAgICAgICB0ID0gKHNib3hbdCA+Pj4gMjRdIDw8IDI0KSB8IChzYm94Wyh0ID4+PiAxNikgJiAweGZmXSA8PCAxNikgfCAoc2JveFsodCA+Pj4gOCkgJiAweGZmXSA8PCA4KSB8IHNib3hbdCAmIDB4ZmZdO1xuICAgICAgICB9XG5cbiAgICAgICAga2V5U2NoZWR1bGVba3NSb3ddID0gcHJldiA9IChrZXlTY2hlZHVsZVtrc1JvdyAtIGtleVNpemVdIF4gdCkgPj4+IDA7XG4gICAgICB9XG5cbiAgICAgIGZvciAoaW52S3NSb3cgPSAwOyBpbnZLc1JvdyA8IGtzUm93czsgaW52S3NSb3crKykge1xuICAgICAgICBrc1JvdyA9IGtzUm93cyAtIGludktzUm93O1xuICAgICAgICBpZiAoaW52S3NSb3cgJiAzKSB7XG4gICAgICAgICAgdCA9IGtleVNjaGVkdWxlW2tzUm93XTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0ID0ga2V5U2NoZWR1bGVba3NSb3cgLSA0XTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpbnZLc1JvdyA8IDQgfHwga3NSb3cgPD0gNCkge1xuICAgICAgICAgIGludktleVNjaGVkdWxlW2ludktzUm93XSA9IHQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaW52S2V5U2NoZWR1bGVbaW52S3NSb3ddID0gaW52U3ViTWl4MFtzYm94W3QgPj4+IDI0XV0gXiBpbnZTdWJNaXgxW3Nib3hbKHQgPj4+IDE2KSAmIDB4ZmZdXSBeIGludlN1Yk1peDJbc2JveFsodCA+Pj4gOCkgJiAweGZmXV0gXiBpbnZTdWJNaXgzW3Nib3hbdCAmIDB4ZmZdXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGludktleVNjaGVkdWxlW2ludktzUm93XSA9IGludktleVNjaGVkdWxlW2ludktzUm93XSA+Pj4gMDtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLy8gQWRkaW5nIHRoaXMgYXMgYSBtZXRob2QgZ3JlYXRseSBpbXByb3ZlcyBwZXJmb3JtYW5jZS5cbiAgICBuZXR3b3JrVG9Ib3N0T3JkZXJTd2FwKHdvcmQpIHtcbiAgICAgIHJldHVybiAod29yZCA8PCAyNCkgfCAoKHdvcmQgJiAweGZmMDApIDw8IDgpIHwgKCh3b3JkICYgMHhmZjAwMDApID4+IDgpIHwgKHdvcmQgPj4+IDI0KTtcbiAgICB9LFxuXG4gICAgZGVjcnlwdChpbnB1dEFycmF5QnVmZmVyLCBvZmZzZXQsIGFlc0lWLCByZW1vdmVQS0NTN1BhZGRpbmcpIHtcbiAgICAgIGxldCBuUm91bmRzID0gdGhpcy5rZXlTaXplICsgNjtcbiAgICAgIGxldCBpbnZLZXlTY2hlZHVsZSA9IHRoaXMuaW52S2V5U2NoZWR1bGU7XG4gICAgICBsZXQgaW52U0JPWCA9IHRoaXMuaW52U0JveDtcblxuICAgICAgbGV0IGludlN1Yk1peCA9IHRoaXMuaW52U3ViTWl4O1xuICAgICAgbGV0IGludlN1Yk1peDAgPSBpbnZTdWJNaXhbMF07XG4gICAgICBsZXQgaW52U3ViTWl4MSA9IGludlN1Yk1peFsxXTtcbiAgICAgIGxldCBpbnZTdWJNaXgyID0gaW52U3ViTWl4WzJdO1xuICAgICAgbGV0IGludlN1Yk1peDMgPSBpbnZTdWJNaXhbM107XG5cbiAgICAgIGxldCBpbml0VmVjdG9yID0gdGhpcy51aW50OEFycmF5VG9VaW50MzJBcnJheV8oYWVzSVYpO1xuICAgICAgbGV0IGluaXRWZWN0b3IwID0gaW5pdFZlY3RvclswXTtcbiAgICAgIGxldCBpbml0VmVjdG9yMSA9IGluaXRWZWN0b3JbMV07XG4gICAgICBsZXQgaW5pdFZlY3RvcjIgPSBpbml0VmVjdG9yWzJdO1xuICAgICAgbGV0IGluaXRWZWN0b3IzID0gaW5pdFZlY3RvclszXTtcblxuICAgICAgbGV0IGlucHV0SW50MzIgPSBuZXcgSW50MzJBcnJheShpbnB1dEFycmF5QnVmZmVyKTtcbiAgICAgIGxldCBvdXRwdXRJbnQzMiA9IG5ldyBJbnQzMkFycmF5KGlucHV0SW50MzIubGVuZ3RoKTtcblxuICAgICAgbGV0IHQwLCB0MSwgdDIsIHQzO1xuICAgICAgbGV0IHMwLCBzMSwgczIsIHMzO1xuICAgICAgbGV0IGlucHV0V29yZHMwLCBpbnB1dFdvcmRzMSwgaW5wdXRXb3JkczIsIGlucHV0V29yZHMzO1xuXG4gICAgICBsZXQga3NSb3csIGk7XG4gICAgICBsZXQgc3dhcFdvcmQgPSB0aGlzLm5ldHdvcmtUb0hvc3RPcmRlclN3YXA7XG5cbiAgICAgIHdoaWxlIChvZmZzZXQgPCBpbnB1dEludDMyLmxlbmd0aCkge1xuICAgICAgICBpbnB1dFdvcmRzMCA9IHN3YXBXb3JkKGlucHV0SW50MzJbb2Zmc2V0XSk7XG4gICAgICAgIGlucHV0V29yZHMxID0gc3dhcFdvcmQoaW5wdXRJbnQzMltvZmZzZXQgKyAxXSk7XG4gICAgICAgIGlucHV0V29yZHMyID0gc3dhcFdvcmQoaW5wdXRJbnQzMltvZmZzZXQgKyAyXSk7XG4gICAgICAgIGlucHV0V29yZHMzID0gc3dhcFdvcmQoaW5wdXRJbnQzMltvZmZzZXQgKyAzXSk7XG5cbiAgICAgICAgczAgPSBpbnB1dFdvcmRzMCBeIGludktleVNjaGVkdWxlWzBdO1xuICAgICAgICBzMSA9IGlucHV0V29yZHMzIF4gaW52S2V5U2NoZWR1bGVbMV07XG4gICAgICAgIHMyID0gaW5wdXRXb3JkczIgXiBpbnZLZXlTY2hlZHVsZVsyXTtcbiAgICAgICAgczMgPSBpbnB1dFdvcmRzMSBeIGludktleVNjaGVkdWxlWzNdO1xuXG4gICAgICAgIGtzUm93ID0gNDtcblxuICAgICAgICAvLyBJdGVyYXRlIHRocm91Z2ggdGhlIHJvdW5kcyBvZiBkZWNyeXB0aW9uXG4gICAgICAgIGZvciAoaSA9IDE7IGkgPCBuUm91bmRzOyBpKyspIHtcbiAgICAgICAgICB0MCA9IGludlN1Yk1peDBbczAgPj4+IDI0XSBeIGludlN1Yk1peDFbKHMxID4+IDE2KSAmIDB4ZmZdIF4gaW52U3ViTWl4MlsoczIgPj4gOCkgJiAweGZmXSBeIGludlN1Yk1peDNbczMgJiAweGZmXSBeIGludktleVNjaGVkdWxlW2tzUm93XTtcbiAgICAgICAgICB0MSA9IGludlN1Yk1peDBbczEgPj4+IDI0XSBeIGludlN1Yk1peDFbKHMyID4+IDE2KSAmIDB4ZmZdIF4gaW52U3ViTWl4MlsoczMgPj4gOCkgJiAweGZmXSBeIGludlN1Yk1peDNbczAgJiAweGZmXSBeIGludktleVNjaGVkdWxlW2tzUm93ICsgMV07XG4gICAgICAgICAgdDIgPSBpbnZTdWJNaXgwW3MyID4+PiAyNF0gXiBpbnZTdWJNaXgxWyhzMyA+PiAxNikgJiAweGZmXSBeIGludlN1Yk1peDJbKHMwID4+IDgpICYgMHhmZl0gXiBpbnZTdWJNaXgzW3MxICYgMHhmZl0gXiBpbnZLZXlTY2hlZHVsZVtrc1JvdyArIDJdO1xuICAgICAgICAgIHQzID0gaW52U3ViTWl4MFtzMyA+Pj4gMjRdIF4gaW52U3ViTWl4MVsoczAgPj4gMTYpICYgMHhmZl0gXiBpbnZTdWJNaXgyWyhzMSA+PiA4KSAmIDB4ZmZdIF4gaW52U3ViTWl4M1tzMiAmIDB4ZmZdIF4gaW52S2V5U2NoZWR1bGVba3NSb3cgKyAzXTtcbiAgICAgICAgICAvLyBVcGRhdGUgc3RhdGVcbiAgICAgICAgICBzMCA9IHQwO1xuICAgICAgICAgIHMxID0gdDE7XG4gICAgICAgICAgczIgPSB0MjtcbiAgICAgICAgICBzMyA9IHQzO1xuXG4gICAgICAgICAga3NSb3cgPSBrc1JvdyArIDQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTaGlmdCByb3dzLCBzdWIgYnl0ZXMsIGFkZCByb3VuZCBrZXlcbiAgICAgICAgdDAgPSAoKGludlNCT1hbczAgPj4+IDI0XSA8PCAyNCkgXiAoaW52U0JPWFsoczEgPj4gMTYpICYgMHhmZl0gPDwgMTYpIF4gKGludlNCT1hbKHMyID4+IDgpICYgMHhmZl0gPDwgOCkgXiBpbnZTQk9YW3MzICYgMHhmZl0pIF4gaW52S2V5U2NoZWR1bGVba3NSb3ddO1xuICAgICAgICB0MSA9ICgoaW52U0JPWFtzMSA+Pj4gMjRdIDw8IDI0KSBeIChpbnZTQk9YWyhzMiA+PiAxNikgJiAweGZmXSA8PCAxNikgXiAoaW52U0JPWFsoczMgPj4gOCkgJiAweGZmXSA8PCA4KSBeIGludlNCT1hbczAgJiAweGZmXSkgXiBpbnZLZXlTY2hlZHVsZVtrc1JvdyArIDFdO1xuICAgICAgICB0MiA9ICgoaW52U0JPWFtzMiA+Pj4gMjRdIDw8IDI0KSBeIChpbnZTQk9YWyhzMyA+PiAxNikgJiAweGZmXSA8PCAxNikgXiAoaW52U0JPWFsoczAgPj4gOCkgJiAweGZmXSA8PCA4KSBeIGludlNCT1hbczEgJiAweGZmXSkgXiBpbnZLZXlTY2hlZHVsZVtrc1JvdyArIDJdO1xuICAgICAgICB0MyA9ICgoaW52U0JPWFtzMyA+Pj4gMjRdIDw8IDI0KSBeIChpbnZTQk9YWyhzMCA+PiAxNikgJiAweGZmXSA8PCAxNikgXiAoaW52U0JPWFsoczEgPj4gOCkgJiAweGZmXSA8PCA4KSBeIGludlNCT1hbczIgJiAweGZmXSkgXiBpbnZLZXlTY2hlZHVsZVtrc1JvdyArIDNdO1xuICAgICAgICBrc1JvdyA9IGtzUm93ICsgMztcblxuICAgICAgICAvLyBXcml0ZVxuICAgICAgICBvdXRwdXRJbnQzMltvZmZzZXRdID0gc3dhcFdvcmQodDAgXiBpbml0VmVjdG9yMCk7XG4gICAgICAgIG91dHB1dEludDMyW29mZnNldCArIDFdID0gc3dhcFdvcmQodDMgXiBpbml0VmVjdG9yMSk7XG4gICAgICAgIG91dHB1dEludDMyW29mZnNldCArIDJdID0gc3dhcFdvcmQodDIgXiBpbml0VmVjdG9yMik7XG4gICAgICAgIG91dHB1dEludDMyW29mZnNldCArIDNdID0gc3dhcFdvcmQodDEgXiBpbml0VmVjdG9yMyk7XG5cbiAgICAgICAgLy8gcmVzZXQgaW5pdFZlY3RvciB0byBsYXN0IDQgdW5zaWduZWQgaW50XG4gICAgICAgIGluaXRWZWN0b3IwID0gaW5wdXRXb3JkczA7XG4gICAgICAgIGluaXRWZWN0b3IxID0gaW5wdXRXb3JkczE7XG4gICAgICAgIGluaXRWZWN0b3IyID0gaW5wdXRXb3JkczI7XG4gICAgICAgIGluaXRWZWN0b3IzID0gaW5wdXRXb3JkczM7XG5cbiAgICAgICAgb2Zmc2V0ID0gb2Zmc2V0ICsgNDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlbW92ZVBLQ1M3UGFkZGluZyA/IHJlbW92ZVBhZGRpbmcob3V0cHV0SW50MzIuYnVmZmVyKSA6IG91dHB1dEludDMyLmJ1ZmZlcjtcbiAgICB9LFxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgIHRoaXMua2V5ID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5rZXlTaXplID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5rc1Jvd3MgPSB1bmRlZmluZWQ7XG5cbiAgICAgIHRoaXMuc0JveCA9IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMuaW52U0JveCA9IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMuc3ViTWl4ID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5pbnZTdWJNaXggPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLmtleVNjaGVkdWxlID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5pbnZLZXlTY2hlZHVsZSA9IHVuZGVmaW5lZDtcblxuICAgICAgdGhpcy5yY29uID0gdW5kZWZpbmVkO1xuICAgIH0sXG4gIH1cbn1cblxuIiwiaW1wb3J0IGluaXRDYWNoZSBmcm9tICcjL2NvbW1vbi9jYWNoZSc7XG5pbXBvcnQgeyBjb21tYW5kcyB9IGZyb20gJy4vbWVzc2FnZSc7XG5cbmNvbnN0IGNhY2hlID0gaW5pdENhY2hlKHtcbiAgLyogS2VlcGluZyB0aGUgZGF0YSBmb3Igb25lIGhvdXIgc2luY2UgY2hyb21lLnN0b3JhZ2UubG9jYWwgaXMgaW5zYW5lbHkgc2xvdyBpbiBDaHJvbWUsXG4gICAgIGl0IGNhbiB0YWtlcyBzZWNvbmRzIHRvIHJlYWQgaXQgd2hlbiBpbmplY3RpbmcgdGFicyB3aXRoIGEgYmlnIHNjcmlwdC92YWx1ZSwgd2hpY2ggZGVsYXlzXG4gICAgIGFsbCBvdGhlciBzY3JpcHRzIGluIHRoaXMgdGFiIGFuZCB0aGV5IHdpbGwgbmV2ZXIgYmUgYWJsZSB0byBydW4gYXQgZG9jdW1lbnQtc3RhcnQuICovXG4gIGxpZmV0aW1lOiA2MCAqIDYwICogMTAwMCxcbn0pO1xuXG5PYmplY3QuYXNzaWduKGNvbW1hbmRzLCB7XG4gIENhY2hlTG9hZChkYXRhKSB7XG4gICAgcmV0dXJuIGNhY2hlLmdldChkYXRhKSB8fCBudWxsO1xuICB9LFxuICBDYWNoZUhpdChkYXRhKSB7XG4gICAgY2FjaGUuaGl0KGRhdGEua2V5LCBkYXRhLmxpZmV0aW1lKTtcbiAgfSxcbiAgQ2FjaGVQb3Aoa2V5KSB7XG4gICAgcmV0dXJuIGNhY2hlLnBvcChrZXkpIHx8IG51bGw7XG4gIH0sXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgY2FjaGU7XG4iLCJpbXBvcnQgeyBjb21tYW5kcyB9IGZyb20gJy4vbWVzc2FnZSc7XG5cbmNvbnN0IHRleHRhcmVhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGV4dGFyZWEnKTtcbmxldCBjbGlwYm9hcmREYXRhO1xuXG5PYmplY3QuYXNzaWduKGNvbW1hbmRzLCB7XG4gIFNldENsaXBib2FyZChkYXRhKSB7XG4gICAgY2xpcGJvYXJkRGF0YSA9IGRhdGE7XG4gICAgdGV4dGFyZWEuZm9jdXMoKTtcbiAgICBjb25zdCByZXQgPSBkb2N1bWVudC5leGVjQ29tbWFuZCgnY29weScsIGZhbHNlLCBudWxsKTtcbiAgICBpZiAoIXJldCAmJiBwcm9jZXNzLmVudi5ERUJVRykge1xuICAgICAgY29uc29sZS53YXJuKCdDb3B5IGZhaWxlZCEnKTtcbiAgICB9XG4gIH0sXG59KTtcblxuZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0ZXh0YXJlYSk7XG5cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NvcHknLCBlID0+IHtcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICBjb25zdCB7IHR5cGUsIGRhdGEgfSA9IGNsaXBib2FyZERhdGE7XG4gIGUuY2xpcGJvYXJkRGF0YS5zZXREYXRhKHR5cGUgfHwgJ3RleHQvcGxhaW4nLCBkYXRhKTtcbn0pO1xuIiwiaW1wb3J0IHtcbiAgY29tcGFyZVZlcnNpb24sIGkxOG4sIGdldEZ1bGxVcmwsIGdldFNjcmlwdE5hbWUsIGlzUmVtb3RlLCBzZW5kQ21kLCB0cnVlSm9pbixcbn0gZnJvbSAnIy9jb21tb24nO1xuaW1wb3J0IHtcbiAgQ01EX1NDUklQVF9BREQsIENNRF9TQ1JJUFRfVVBEQVRFLCBJTkpFQ1RfUEFHRSwgSU5KRUNUX0FVVE8sIFRJTUVPVVRfV0VFSyxcbn0gZnJvbSAnIy9jb21tb24vY29uc3RzJztcbmltcG9ydCB7IGZvckVhY2hFbnRyeSwgZm9yRWFjaEtleSwgZm9yRWFjaFZhbHVlIH0gZnJvbSAnIy9jb21tb24vb2JqZWN0JztcbmltcG9ydCBzdG9yYWdlIGZyb20gJyMvY29tbW9uL3N0b3JhZ2UnO1xuaW1wb3J0IHBsdWdpbkV2ZW50cyBmcm9tICcuLi9wbHVnaW4vZXZlbnRzJztcbmltcG9ydCB7IGdldE5hbWVVUkksIHBhcnNlTWV0YSwgbmV3U2NyaXB0LCBnZXREZWZhdWx0Q3VzdG9tIH0gZnJvbSAnLi9zY3JpcHQnO1xuaW1wb3J0IHsgdGVzdFNjcmlwdCwgdGVzdEJsYWNrbGlzdCB9IGZyb20gJy4vdGVzdGVyJztcbmltcG9ydCB7IHByZUluaXRpYWxpemUgfSBmcm9tICcuL2luaXQnO1xuaW1wb3J0IHsgY29tbWFuZHMsIG5vdGlmeSB9IGZyb20gJy4vbWVzc2FnZSc7XG5pbXBvcnQgcGF0Y2hEQiBmcm9tICcuL3BhdGNoLWRiJztcbmltcG9ydCB7IHNldE9wdGlvbiB9IGZyb20gJy4vb3B0aW9ucyc7XG5pbXBvcnQgJy4vc3RvcmFnZS1mZXRjaCc7XG5pbXBvcnQgZGF0YUNhY2hlIGZyb20gJy4vY2FjaGUnO1xuXG5jb25zdCBzdG9yZSA9IHt9O1xuc3RvcmFnZS5iYXNlLnNldERhdGFDYWNoZShkYXRhQ2FjaGUpO1xuc3RvcmFnZS5zY3JpcHQub25EdW1wID0gKGl0ZW0pID0+IHtcbiAgc3RvcmUuc2NyaXB0TWFwW2l0ZW0ucHJvcHMuaWRdID0gaXRlbTtcbn07XG5cbk9iamVjdC5hc3NpZ24oY29tbWFuZHMsIHtcbiAgQ2hlY2tQb3NpdGlvbjogc29ydFNjcmlwdHMsXG4gIENoZWNrUmVtb3ZlOiBjaGVja1JlbW92ZSxcbiAgLyoqIEByZXR1cm4ge1ZNU2NyaXB0fSAqL1xuICBHZXRTY3JpcHQ6IGdldFNjcmlwdCxcbiAgLyoqIEByZXR1cm4ge1Byb21pc2U8eyBpdGVtczogVk1TY3JpcHRbXSwgdmFsdWVzPyB9Pn0gKi9cbiAgYXN5bmMgRXhwb3J0WmlwKHsgdmFsdWVzIH0pIHtcbiAgICBjb25zdCBzY3JpcHRzID0gZ2V0U2NyaXB0cygpO1xuICAgIGNvbnN0IGlkcyA9IHNjcmlwdHMubWFwKGdldFByb3BzSWQpO1xuICAgIGNvbnN0IGNvZGVNYXAgPSBhd2FpdCBzdG9yYWdlLmNvZGUuZ2V0TXVsdGkoaWRzKTtcbiAgICByZXR1cm4ge1xuICAgICAgaXRlbXM6IHNjcmlwdHMubWFwKHNjcmlwdCA9PiAoeyBzY3JpcHQsIGNvZGU6IGNvZGVNYXBbc2NyaXB0LnByb3BzLmlkXSB9KSksXG4gICAgICB2YWx1ZXM6IHZhbHVlcyA/IGF3YWl0IHN0b3JhZ2UudmFsdWUuZ2V0TXVsdGkoaWRzKSA6IHVuZGVmaW5lZCxcbiAgICB9O1xuICB9LFxuICAvKiogQHJldHVybiB7UHJvbWlzZTxzdHJpbmc+fSAqL1xuICBHZXRTY3JpcHRDb2RlKGlkKSB7XG4gICAgcmV0dXJuIHN0b3JhZ2UuY29kZS5nZXRPbmUoaWQpO1xuICB9LFxuICBHZXRTY3JpcHRWZXIob3B0cykge1xuICAgIGNvbnN0IHNjcmlwdCA9IGdldFNjcmlwdChvcHRzKTtcbiAgICByZXR1cm4gc2NyaXB0ICYmICFzY3JpcHQuY29uZmlnLnJlbW92ZWRcbiAgICAgID8gc2NyaXB0Lm1ldGEudmVyc2lvblxuICAgICAgOiBudWxsO1xuICB9LFxuICAvKiogQHJldHVybiB7UHJvbWlzZTx2b2lkPn0gKi9cbiAgTWFya1JlbW92ZWQoeyBpZCwgcmVtb3ZlZCB9KSB7XG4gICAgcmV0dXJuIHVwZGF0ZVNjcmlwdEluZm8oaWQsIHtcbiAgICAgIGNvbmZpZzogeyByZW1vdmVkOiByZW1vdmVkID8gMSA6IDAgfSxcbiAgICAgIHByb3BzOiB7IGxhc3RNb2RpZmllZDogRGF0ZS5ub3coKSB9LFxuICAgIH0pO1xuICB9LFxuICAvKiogQHJldHVybiB7UHJvbWlzZTxudW1iZXI+fSAqL1xuICBNb3ZlKHsgaWQsIG9mZnNldCB9KSB7XG4gICAgY29uc3Qgc2NyaXB0ID0gZ2V0U2NyaXB0QnlJZChpZCk7XG4gICAgY29uc3QgaW5kZXggPSBzdG9yZS5zY3JpcHRzLmluZGV4T2Yoc2NyaXB0KTtcbiAgICBzdG9yZS5zY3JpcHRzLnNwbGljZShpbmRleCwgMSk7XG4gICAgc3RvcmUuc2NyaXB0cy5zcGxpY2UoaW5kZXggKyBvZmZzZXQsIDAsIHNjcmlwdCk7XG4gICAgcmV0dXJuIG5vcm1hbGl6ZVBvc2l0aW9uKCk7XG4gIH0sXG4gIC8qKiBAcmV0dXJuIHtQcm9taXNlPHZvaWQ+fSAqL1xuICBhc3luYyBSZW1vdmVTY3JpcHQoaWQpIHtcbiAgICBjb25zdCBpID0gc3RvcmUuc2NyaXB0cy5pbmRleE9mKGdldFNjcmlwdEJ5SWQoaWQpKTtcbiAgICBpZiAoaSA+PSAwKSB7XG4gICAgICBzdG9yZS5zY3JpcHRzLnNwbGljZShpLCAxKTtcbiAgICAgIGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgICAgc3RvcmFnZS5zY3JpcHQucmVtb3ZlKGlkKSxcbiAgICAgICAgc3RvcmFnZS5jb2RlLnJlbW92ZShpZCksXG4gICAgICAgIHN0b3JhZ2UudmFsdWUucmVtb3ZlKGlkKSxcbiAgICAgIF0pO1xuICAgIH1cbiAgICByZXR1cm4gc2VuZENtZCgnUmVtb3ZlU2NyaXB0JywgaWQpO1xuICB9LFxuICBQYXJzZU1ldGE6IHBhcnNlTWV0YSxcbiAgUGFyc2VTY3JpcHQ6IHBhcnNlU2NyaXB0LFxuICAvKiogQHJldHVybiB7UHJvbWlzZTx2b2lkPn0gKi9cbiAgVXBkYXRlU2NyaXB0SW5mbyh7IGlkLCBjb25maWcsIGN1c3RvbSB9KSB7XG4gICAgcmV0dXJuIHVwZGF0ZVNjcmlwdEluZm8oaWQsIHtcbiAgICAgIGNvbmZpZyxcbiAgICAgIGN1c3RvbSxcbiAgICAgIHByb3BzOiB7IGxhc3RNb2RpZmllZDogRGF0ZS5ub3coKSB9LFxuICAgIH0pO1xuICB9LFxuICAvKiogQHJldHVybiB7UHJvbWlzZTxudW1iZXI+fSAqL1xuICBWYWN1dW06IHZhY3V1bSxcbn0pO1xuXG5wcmVJbml0aWFsaXplLnB1c2goYXN5bmMgKCkgPT4ge1xuICBjb25zdCB7IHZlcnNpb246IGxhc3RWZXJzaW9uIH0gPSBhd2FpdCBicm93c2VyLnN0b3JhZ2UubG9jYWwuZ2V0KCd2ZXJzaW9uJyk7XG4gIGNvbnN0IHZlcnNpb24gPSBwcm9jZXNzLmVudi5WTV9WRVI7XG4gIGlmICghbGFzdFZlcnNpb24pIGF3YWl0IHBhdGNoREIoKTtcbiAgaWYgKHZlcnNpb24gIT09IGxhc3RWZXJzaW9uKSBicm93c2VyLnN0b3JhZ2UubG9jYWwuc2V0KHsgdmVyc2lvbiB9KTtcbiAgY29uc3QgZGF0YSA9IGF3YWl0IGJyb3dzZXIuc3RvcmFnZS5sb2NhbC5nZXQoKTtcbiAgY29uc3Qgc2NyaXB0cyA9IFtdO1xuICBjb25zdCBzdG9yZUluZm8gPSB7XG4gICAgaWQ6IDAsXG4gICAgcG9zaXRpb246IDAsXG4gIH07XG4gIGNvbnN0IGlkTWFwID0ge307XG4gIGNvbnN0IHVyaU1hcCA9IHt9O1xuICBjb25zdCBtb2RzID0gW107XG4gIGNvbnN0IHJlc1VybHMgPSBbXTtcbiAgLyoqIEB0aGlzIFZNU2NyaXB0Q3VzdG9tLnBhdGhNYXAgKi9cbiAgY29uc3QgcmVtZW1iZXJVcmwgPSBmdW5jdGlvbiBfKHVybCkgeyByZXNVcmxzLnB1c2godGhpc1t1cmxdIHx8IHVybCk7IH07XG4gIGRhdGE6OmZvckVhY2hFbnRyeSgoW2tleSwgc2NyaXB0XSkgPT4ge1xuICAgIGRhdGFDYWNoZS5wdXQoa2V5LCBzY3JpcHQpO1xuICAgIGlmIChrZXkuc3RhcnRzV2l0aChzdG9yYWdlLnNjcmlwdC5wcmVmaXgpKSB7XG4gICAgICAvLyB7XG4gICAgICAvLyAgIG1ldGEsXG4gICAgICAvLyAgIGN1c3RvbSxcbiAgICAgIC8vICAgcHJvcHM6IHsgaWQsIHBvc2l0aW9uLCB1cmkgfSxcbiAgICAgIC8vICAgY29uZmlnOiB7IGVuYWJsZWQsIHNob3VsZFVwZGF0ZSB9LFxuICAgICAgLy8gfVxuICAgICAgY29uc3QgaWQgPSBnZXRJbnQoa2V5LnNsaWNlKHN0b3JhZ2Uuc2NyaXB0LnByZWZpeC5sZW5ndGgpKTtcbiAgICAgIGlmICghaWQgfHwgaWRNYXBbaWRdKSB7XG4gICAgICAgIC8vIElEIGNvbmZsaWN0cyFcbiAgICAgICAgLy8gU2hvdWxkIG5vdCBoYXBwZW4sIGRpc2NhcmQgZHVwbGljYXRlcy5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWRNYXBbaWRdID0gc2NyaXB0O1xuICAgICAgY29uc3QgdXJpID0gZ2V0TmFtZVVSSShzY3JpcHQpO1xuICAgICAgaWYgKHVyaU1hcFt1cmldKSB7XG4gICAgICAgIC8vIE5hbWVzcGFjZSBjb25mbGljdHMhXG4gICAgICAgIC8vIFNob3VsZCBub3QgaGFwcGVuLCBkaXNjYXJkIGR1cGxpY2F0ZXMuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHVyaU1hcFt1cmldID0gc2NyaXB0O1xuICAgICAgc2NyaXB0LnByb3BzID0ge1xuICAgICAgICAuLi5zY3JpcHQucHJvcHMsXG4gICAgICAgIGlkLFxuICAgICAgICB1cmksXG4gICAgICB9O1xuICAgICAgc2NyaXB0LmN1c3RvbSA9IHtcbiAgICAgICAgLi4uZ2V0RGVmYXVsdEN1c3RvbSgpLFxuICAgICAgICAuLi5zY3JpcHQuY3VzdG9tLFxuICAgICAgfTtcbiAgICAgIHN0b3JlSW5mby5pZCA9IE1hdGgubWF4KHN0b3JlSW5mby5pZCwgaWQpO1xuICAgICAgc3RvcmVJbmZvLnBvc2l0aW9uID0gTWF0aC5tYXgoc3RvcmVJbmZvLnBvc2l0aW9uLCBnZXRJbnQoc2NyaXB0LnByb3BzLnBvc2l0aW9uKSk7XG4gICAgICBzY3JpcHRzLnB1c2goc2NyaXB0KTtcbiAgICAgIC8vIGxpc3RpbmcgYWxsIGtub3duIHJlc291cmNlIHVybHMgaW4gb3JkZXIgdG8gcmVtb3ZlIHVudXNlZCBtb2Qga2V5c1xuICAgICAgY29uc3Qge1xuICAgICAgICBjdXN0b206IHsgcGF0aE1hcCA9IHt9IH0gPSB7fSxcbiAgICAgICAgbWV0YSA9IHNjcmlwdC5tZXRhID0ge30sXG4gICAgICB9ID0gc2NyaXB0O1xuICAgICAgbWV0YS5ncmFudCA9IFsuLi5uZXcgU2V0KG1ldGEuZ3JhbnQgfHwgW10pXTsgLy8gZGVkdXBsaWNhdGVcbiAgICAgIG1ldGEucmVxdWlyZT8uZm9yRWFjaChyZW1lbWJlclVybCwgcGF0aE1hcCk7XG4gICAgICBPYmplY3QudmFsdWVzKG1ldGEucmVzb3VyY2VzIHx8IHt9KS5mb3JFYWNoKHJlbWVtYmVyVXJsLCBwYXRoTWFwKTtcbiAgICAgIHBhdGhNYXA6OnJlbWVtYmVyVXJsKG1ldGEuaWNvbik7XG4gICAgfSBlbHNlIGlmIChrZXkuc3RhcnRzV2l0aChzdG9yYWdlLm1vZC5wcmVmaXgpKSB7XG4gICAgICBtb2RzLnB1c2goa2V5LnNsaWNlKHN0b3JhZ2UubW9kLnByZWZpeC5sZW5ndGgpKTtcbiAgICB9XG4gIH0pO1xuICBzdG9yYWdlLm1vZC5yZW1vdmVNdWx0aShtb2RzLmZpbHRlcih1cmwgPT4gIXJlc1VybHMuaW5jbHVkZXModXJsKSkpO1xuICBPYmplY3QuYXNzaWduKHN0b3JlLCB7XG4gICAgc2NyaXB0cyxcbiAgICBzdG9yZUluZm8sXG4gICAgc2NyaXB0TWFwOiBzY3JpcHRzLnJlZHVjZSgobWFwLCBpdGVtKSA9PiB7XG4gICAgICBtYXBbaXRlbS5wcm9wcy5pZF0gPSBpdGVtO1xuICAgICAgcmV0dXJuIG1hcDtcbiAgICB9LCB7fSksXG4gIH0pO1xuICAvLyBTd2l0Y2ggZGVmYXVsdEluamVjdEludG8gZnJvbSBgcGFnZWAgdG8gYGF1dG9gIHdoZW4gdXBncmFkaW5nIFZNMi4xMi43IG9yIG9sZGVyXG4gIGlmICh2ZXJzaW9uICE9PSBsYXN0VmVyc2lvblxuICAmJiBJU19GSVJFRk9YXG4gICYmIGRhdGEub3B0aW9ucz8uZGVmYXVsdEluamVjdEludG8gPT09IElOSkVDVF9QQUdFXG4gICYmIGNvbXBhcmVWZXJzaW9uKGxhc3RWZXJzaW9uLCAnMi4xMi43JykgPD0gMCkge1xuICAgIHNldE9wdGlvbignZGVmYXVsdEluamVjdEludG8nLCBJTkpFQ1RfQVVUTyk7XG4gIH1cbiAgaWYgKHByb2Nlc3MuZW52LkRFQlVHKSB7XG4gICAgY29uc29sZS5sb2coJ3N0b3JlOicsIHN0b3JlKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXG4gIH1cbiAgdmFjdXVtKGRhdGEpO1xuICByZXR1cm4gc29ydFNjcmlwdHMoKTtcbn0pO1xuXG4vKiogQHJldHVybiB7bnVtYmVyfSAqL1xuZnVuY3Rpb24gZ2V0SW50KHZhbCkge1xuICByZXR1cm4gK3ZhbCB8fCAwO1xufVxuXG4vKiogQHJldHVybiB7P251bWJlcn0gKi9cbmZ1bmN0aW9uIGdldFByb3BzSWQoc2NyaXB0KSB7XG4gIHJldHVybiBzY3JpcHQ/LnByb3BzLmlkO1xufVxuXG4vKiogQHJldHVybiB7dm9pZH0gKi9cbmZ1bmN0aW9uIHVwZGF0ZUxhc3RNb2RpZmllZCgpIHtcbiAgc2V0T3B0aW9uKCdsYXN0TW9kaWZpZWQnLCBEYXRlLm5vdygpKTtcbn1cblxuLyoqIEByZXR1cm4ge1Byb21pc2U8bnVtYmVyPn0gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBub3JtYWxpemVQb3NpdGlvbigpIHtcbiAgY29uc3QgdXBkYXRlcyA9IHN0b3JlLnNjcmlwdHMuZmlsdGVyKCh7IHByb3BzIH0sIGluZGV4KSA9PiB7XG4gICAgY29uc3QgcG9zaXRpb24gPSBpbmRleCArIDE7XG4gICAgY29uc3QgcmVzID0gcHJvcHMucG9zaXRpb24gIT09IHBvc2l0aW9uO1xuICAgIGlmIChyZXMpIHByb3BzLnBvc2l0aW9uID0gcG9zaXRpb247XG4gICAgcmV0dXJuIHJlcztcbiAgfSk7XG4gIHN0b3JlLnN0b3JlSW5mby5wb3NpdGlvbiA9IHN0b3JlLnNjcmlwdHMubGVuZ3RoO1xuICBpZiAodXBkYXRlcy5sZW5ndGgpIHtcbiAgICBhd2FpdCBzdG9yYWdlLnNjcmlwdC5kdW1wKHVwZGF0ZXMpO1xuICAgIHVwZGF0ZUxhc3RNb2RpZmllZCgpO1xuICB9XG4gIHJldHVybiB1cGRhdGVzLmxlbmd0aDtcbn1cblxuLyoqIEByZXR1cm4ge1Byb21pc2U8bnVtYmVyPn0gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzb3J0U2NyaXB0cygpIHtcbiAgc3RvcmUuc2NyaXB0cy5zb3J0KChhLCBiKSA9PiBnZXRJbnQoYS5wcm9wcy5wb3NpdGlvbikgLSBnZXRJbnQoYi5wcm9wcy5wb3NpdGlvbikpO1xuICBjb25zdCBjaGFuZ2VkID0gYXdhaXQgbm9ybWFsaXplUG9zaXRpb24oKTtcbiAgc2VuZENtZCgnU2NyaXB0c1VwZGF0ZWQnLCBudWxsKTtcbiAgcmV0dXJuIGNoYW5nZWQ7XG59XG5cbi8qKiBAcmV0dXJuIHs/Vk1TY3JpcHR9ICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2NyaXB0QnlJZChpZCkge1xuICByZXR1cm4gc3RvcmUuc2NyaXB0TWFwW2lkXTtcbn1cblxuLyoqIEByZXR1cm4gez9WTVNjcmlwdH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRTY3JpcHQoeyBpZCwgdXJpLCBtZXRhIH0pIHtcbiAgbGV0IHNjcmlwdDtcbiAgaWYgKGlkKSB7XG4gICAgc2NyaXB0ID0gZ2V0U2NyaXB0QnlJZChpZCk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKCF1cmkpIHVyaSA9IGdldE5hbWVVUkkoeyBtZXRhLCBpZDogJ0BAc2hvdWxkLWhhdmUtbmFtZScgfSk7XG4gICAgc2NyaXB0ID0gc3RvcmUuc2NyaXB0cy5maW5kKCh7IHByb3BzIH0pID0+IHVyaSA9PT0gcHJvcHMudXJpKTtcbiAgfVxuICByZXR1cm4gc2NyaXB0O1xufVxuXG4vKiogQHJldHVybiB7Vk1TY3JpcHRbXX0gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRTY3JpcHRzKCkge1xuICByZXR1cm4gc3RvcmUuc2NyaXB0cy5maWx0ZXIoc2NyaXB0ID0+ICFzY3JpcHQuY29uZmlnLnJlbW92ZWQpO1xufVxuXG4vKipcbiAqIEBkZXNjIExvYWQgdmFsdWVzIGZvciBiYXRjaCB1cGRhdGVzLlxuICogQHBhcmFtIHtudW1iZXJbXX0gaWRzXG4gKiBAcmV0dXJuIHtQcm9taXNlPE9iamVjdD59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRWYWx1ZVN0b3Jlc0J5SWRzKGlkcykge1xuICByZXR1cm4gc3RvcmFnZS52YWx1ZS5nZXRNdWx0aShpZHMpO1xufVxuXG4vKipcbiAqIEBkZXNjIER1bXAgdmFsdWVzIGZvciBiYXRjaCB1cGRhdGVzLlxuICogQHBhcmFtIHtPYmplY3R9IHZhbHVlRGljdCB7IGlkMTogdmFsdWUxLCBpZDI6IHZhbHVlMiwgLi4uIH1cbiAqIEByZXR1cm4ge1Byb21pc2U8T2JqZWN0Pn1cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGR1bXBWYWx1ZVN0b3Jlcyh2YWx1ZURpY3QpIHtcbiAgaWYgKHByb2Nlc3MuZW52LkRFQlVHKSBjb25zb2xlLmluZm8oJ1VwZGF0ZSB2YWx1ZSBzdG9yZXMnLCB2YWx1ZURpY3QpO1xuICBhd2FpdCBzdG9yYWdlLnZhbHVlLmR1bXAodmFsdWVEaWN0KTtcbiAgcmV0dXJuIHZhbHVlRGljdDtcbn1cblxuZXhwb3J0IGNvbnN0IEVOVl9DQUNIRV9LRVlTID0gJ2NhY2hlS2V5cyc7XG5leHBvcnQgY29uc3QgRU5WX1JFUV9LRVlTID0gJ3JlcUtleXMnO1xuZXhwb3J0IGNvbnN0IEVOVl9WQUxVRV9JRFMgPSAndmFsdWVJZHMnO1xuY29uc3QgR01WQUxVRVNfUkUgPSAvXkdNW18uXShsaXN0VmFsdWVzfChbZ3NdZXR8ZGVsZXRlKVZhbHVlKSQvO1xuY29uc3QgUlVOX0FUX1JFID0gL15kb2N1bWVudC0oc3RhcnR8Ym9keXxlbmR8aWRsZSkkLztcbi8qKlxuICogQGRlc2MgR2V0IHNjcmlwdHMgdG8gYmUgaW5qZWN0ZWQgdG8gcGFnZSB3aXRoIHNwZWNpZmljIFVSTC5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFNjcmlwdHNCeVVSTCh1cmwsIGlzVG9wKSB7XG4gIGNvbnN0IGFsbFNjcmlwdHMgPSB0ZXN0QmxhY2tsaXN0KHVybClcbiAgICA/IFtdXG4gICAgOiBzdG9yZS5zY3JpcHRzLmZpbHRlcihzY3JpcHQgPT4gKFxuICAgICAgIXNjcmlwdC5jb25maWcucmVtb3ZlZFxuICAgICAgJiYgKGlzVG9wIHx8ICEoc2NyaXB0LmN1c3RvbS5ub2ZyYW1lcyA/PyBzY3JpcHQubWV0YS5ub2ZyYW1lcykpXG4gICAgICAmJiB0ZXN0U2NyaXB0KHVybCwgc2NyaXB0KVxuICAgICkpO1xuICBjb25zdCBkaXNhYmxlZElkcyA9IFtdO1xuICAvKiogQG5hbWVzcGFjZSBWTVNjcmlwdEJ5VXJsRGF0YSAqL1xuICBjb25zdCBbZW52U3RhcnQsIGVudkRlbGF5ZWRdID0gWzAsIDFdLm1hcCgoKSA9PiAoe1xuICAgIGlkczogW10sXG4gICAgLyoqIEB0eXBlIHsoVk1TY3JpcHQgJiBWTUluamVjdGVkU2NyaXB0KVtdfSAqL1xuICAgIHNjcmlwdHM6IFtdLFxuICAgIFtFTlZfQ0FDSEVfS0VZU106IFtdLFxuICAgIFtFTlZfUkVRX0tFWVNdOiBbXSxcbiAgICBbRU5WX1ZBTFVFX0lEU106IFtdLFxuICB9KSk7XG4gIGFsbFNjcmlwdHMuZm9yRWFjaCgoc2NyaXB0KSA9PiB7XG4gICAgY29uc3QgeyBpZCB9ID0gc2NyaXB0LnByb3BzO1xuICAgIGlmICghc2NyaXB0LmNvbmZpZy5lbmFibGVkKSB7XG4gICAgICBkaXNhYmxlZElkcy5wdXNoKGlkKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgeyBtZXRhLCBjdXN0b20gfSA9IHNjcmlwdDtcbiAgICBjb25zdCB7IHBhdGhNYXAgPSBidWlsZFBhdGhNYXAoc2NyaXB0KSB9ID0gY3VzdG9tO1xuICAgIGNvbnN0IHJ1bkF0ID0gYCR7Y3VzdG9tLnJ1bkF0IHx8IG1ldGEucnVuQXQgfHwgJyd9YC5tYXRjaChSVU5fQVRfUkUpPy5bMV0gfHwgJ2VuZCc7XG4gICAgY29uc3QgZW52ID0gcnVuQXQgPT09ICdzdGFydCcgfHwgcnVuQXQgPT09ICdib2R5JyA/IGVudlN0YXJ0IDogZW52RGVsYXllZDtcbiAgICBlbnYuaWRzLnB1c2goaWQpO1xuICAgIGlmIChtZXRhLmdyYW50LnNvbWUoR01WQUxVRVNfUkUudGVzdCwgR01WQUxVRVNfUkUpKSB7XG4gICAgICBlbnZbRU5WX1ZBTFVFX0lEU10ucHVzaChpZCk7XG4gICAgfVxuICAgIGZvciAoY29uc3QgW2xpc3QsIG5hbWVdIG9mIFtcbiAgICAgIFttZXRhLnJlcXVpcmUsIEVOVl9SRVFfS0VZU10sXG4gICAgICBbT2JqZWN0LnZhbHVlcyhtZXRhLnJlc291cmNlcyksIEVOVl9DQUNIRV9LRVlTXSxcbiAgICBdKSB7XG4gICAgICBsaXN0LmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAga2V5ID0gcGF0aE1hcFtrZXldIHx8IGtleTtcbiAgICAgICAgaWYgKCFlbnZTdGFydFtuYW1lXS5pbmNsdWRlcyhrZXkpKSB7XG4gICAgICAgICAgZW52W25hbWVdLnB1c2goa2V5KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIC8qKiBAbmFtZXNwYWNlIFZNSW5qZWN0ZWRTY3JpcHQgKi9cbiAgICBlbnYuc2NyaXB0cy5wdXNoKHsgLi4uc2NyaXB0LCBydW5BdCB9KTtcbiAgfSk7XG4gIGlmIChlbnZEZWxheWVkLmlkcy5sZW5ndGgpIHtcbiAgICBlbnZEZWxheWVkLnByb21pc2UgPSByZWFkRW52aXJvbm1lbnREYXRhKGVudkRlbGF5ZWQpO1xuICB9XG4gIC8qKiBAbmFtZXNwYWNlIFZNU2NyaXB0QnlVcmxEYXRhICovXG4gIHJldHVybiB7XG4gICAgLi4uZW52U3RhcnQsXG4gICAgLi4uYXdhaXQgcmVhZEVudmlyb25tZW50RGF0YShlbnZTdGFydCksXG4gICAgZGlzYWJsZWRJZHMsXG4gICAgZW52RGVsYXllZCxcbiAgfTtcbn1cblxuLyoqXG4gKiBPYmplY3Qga2V5cyA9PSBhcmVhcyBpbiBgc3RvcmFnZWAgbW9kdWxlLlxuICogQG5hbWVzcGFjZSBWTVNjcmlwdEJ5VXJsRGF0YVxuICovXG5jb25zdCBTVE9SQUdFX1JPVVRFUyA9IE9iamVjdC5lbnRyaWVzKHtcbiAgY2FjaGU6IEVOVl9DQUNIRV9LRVlTLFxuICBjb2RlOiAnaWRzJyxcbiAgcmVxdWlyZTogRU5WX1JFUV9LRVlTLFxuICB2YWx1ZTogRU5WX1ZBTFVFX0lEUyxcbn0pO1xuY29uc3QgcmV0cmllZFN0b3JhZ2VLZXlzID0ge307XG5cbmFzeW5jIGZ1bmN0aW9uIHJlYWRFbnZpcm9ubWVudERhdGEoZW52LCBpc1JldHJ5KSB7XG4gIGNvbnN0IGtleXMgPSBbXTtcbiAgU1RPUkFHRV9ST1VURVMuZm9yRWFjaCgoW2FyZWEsIHNyY0lkc10pID0+IHtcbiAgICBlbnZbc3JjSWRzXS5mb3JFYWNoKGlkID0+IHtcbiAgICAgIGtleXMucHVzaChzdG9yYWdlW2FyZWFdLmdldEtleShpZCkpO1xuICAgIH0pO1xuICB9KTtcbiAgY29uc3QgZGF0YSA9IGF3YWl0IHN0b3JhZ2UuYmFzZS5nZXRNdWx0aShrZXlzKTtcbiAgZm9yIChjb25zdCBbYXJlYSwgc3JjSWRzXSBvZiBTVE9SQUdFX1JPVVRFUykge1xuICAgIGVudlthcmVhXSA9IHt9O1xuICAgIGZvciAoY29uc3QgaWQgb2YgZW52W3NyY0lkc10pIHtcbiAgICAgIGNvbnN0IHZhbCA9IGRhdGFbc3RvcmFnZVthcmVhXS5nZXRLZXkoaWQpXTtcbiAgICAgIGVudlthcmVhXVtpZF0gPSB2YWw7XG4gICAgICBpZiAodmFsID09IG51bGwgJiYgYXJlYSAhPT0gJ3ZhbHVlJyAmJiByZXRyaWVkU3RvcmFnZUtleXNbYXJlYSArIGlkXSAhPT0gMikge1xuICAgICAgICBjb25zdCBlcnIgPSBgVGhlIFwiJHthcmVhfVwiIHN0b3JhZ2UgaXMgbWlzc2luZyBcIiR7aWR9XCIhYDtcbiAgICAgICAgY29uc3QgZXJyMiA9ICdWYWN1dW1pbmcgZGlkIG5vdCBoZWxwLiBQbGVhc2UgcmVpbnN0YWxsIHRoZSBhZmZlY3RlZCBzY3JpcHRzLic7XG4gICAgICAgIHJldHJpZWRTdG9yYWdlS2V5c1thcmVhICsgaWRdID0gaXNSZXRyeSA/IDIgOiAxO1xuICAgICAgICBpZiAoIWlzUmV0cnkpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oZXJyLCAnVmFjdXVtaW5nLi4uJyk7XG4gICAgICAgICAgaWYgKGF3YWl0IHZhY3V1bSgpKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVhZEVudmlyb25tZW50RGF0YShlbnYsIHRydWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zb2xlLmVycm9yKGVyciwgZXJyMik7XG4gICAgICAgIG5vdGlmeSh7IHRpdGxlOiBlcnIsIGJvZHk6IGVycjIgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBlbnY7XG59XG5cbi8qKlxuICogQGRlc2MgR2V0IGRhdGEgZm9yIGRhc2hib2FyZC5cbiAqIEByZXR1cm4ge1Byb21pc2U8eyBzY3JpcHRzOiBWTVNjcmlwdFtdLCBjYWNoZTogT2JqZWN0IH0+fVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0RGF0YShpZHMpIHtcbiAgY29uc3Qgc2NyaXB0cyA9IGlkcyA/IGlkcy5tYXAoZ2V0U2NyaXB0QnlJZCkgOiBzdG9yZS5zY3JpcHRzO1xuICByZXR1cm4ge1xuICAgIHNjcmlwdHMsXG4gICAgY2FjaGU6IGF3YWl0IGdldEljb25DYWNoZShzY3JpcHRzKSxcbiAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0SWNvbkNhY2hlKHNjcmlwdHMpIHtcbiAgY29uc3QgaWNvblVybHMgPSBbXTtcbiAgc2NyaXB0cy5mb3JFYWNoKChzY3JpcHQpID0+IHtcbiAgICBjb25zdCB7IGljb24gfSA9IHNjcmlwdC5tZXRhO1xuICAgIGlmIChpc1JlbW90ZShpY29uKSkge1xuICAgICAgaWNvblVybHMucHVzaChzY3JpcHQuY3VzdG9tLnBhdGhNYXA/LltpY29uXSB8fCBpY29uKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gaWNvblVybHMubGVuZ3RoXG4gICAgPyBzdG9yYWdlLmNhY2hlLmdldE11bHRpKGljb25VcmxzLCB1bmRlZmluZWQsIHN0b3JhZ2UuY2FjaGUubWFrZURhdGFVcmkpXG4gICAgOiB7fTtcbn1cblxuLyoqIEByZXR1cm4ge251bWJlcn0gKi9cbmV4cG9ydCBmdW5jdGlvbiBjaGVja1JlbW92ZSh7IGZvcmNlIH0gPSB7fSkge1xuICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICBjb25zdCB0b1JlbW92ZSA9IHN0b3JlLnNjcmlwdHMuZmlsdGVyKHNjcmlwdCA9PiBzY3JpcHQuY29uZmlnLnJlbW92ZWQgJiYgKFxuICAgIGZvcmNlIHx8IG5vdyAtIGdldEludChzY3JpcHQucHJvcHMubGFzdE1vZGlmaWVkKSA+IFRJTUVPVVRfV0VFS1xuICApKTtcbiAgaWYgKHRvUmVtb3ZlLmxlbmd0aCkge1xuICAgIHN0b3JlLnNjcmlwdHMgPSBzdG9yZS5zY3JpcHRzLmZpbHRlcihzY3JpcHQgPT4gIXNjcmlwdC5jb25maWcucmVtb3ZlZCk7XG4gICAgY29uc3QgaWRzID0gdG9SZW1vdmUubWFwKGdldFByb3BzSWQpO1xuICAgIHN0b3JhZ2Uuc2NyaXB0LnJlbW92ZU11bHRpKGlkcyk7XG4gICAgc3RvcmFnZS5jb2RlLnJlbW92ZU11bHRpKGlkcyk7XG4gICAgc3RvcmFnZS52YWx1ZS5yZW1vdmVNdWx0aShpZHMpO1xuICB9XG4gIHJldHVybiB0b1JlbW92ZS5sZW5ndGg7XG59XG5cbi8qKiBAcmV0dXJuIHtzdHJpbmd9ICovXG5mdW5jdGlvbiBnZXRVVUlEKCkge1xuICBjb25zdCBybmQgPSBuZXcgVWludDE2QXJyYXkoOCk7XG4gIHdpbmRvdy5jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKHJuZCk7XG4gIC8vIHh4eHh4eHh4LXh4eHgtTXh4eC1OeHh4LXh4eHh4eHh4eHh4eFxuICAvLyBXZSdyZSB1c2luZyBVVUlEdjQgdmFyaWFudCAxIHNvIE49NCBhbmQgTT04XG4gIC8vIFNlZSBmb3JtYXRfdXVpZF92M29yNSBpbiBodHRwczovL3Rvb2xzLmlldGYub3JnL3JmYy9yZmM0MTIyLnR4dFxuICBybmRbM10gPSBybmRbM10gJiAweDBGRkYgfCAweDQwMDA7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tYml0d2lzZVxuICBybmRbNF0gPSBybmRbNF0gJiAweDNGRkYgfCAweDgwMDA7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tYml0d2lzZVxuICByZXR1cm4gJzAxLTItMy00LTU2NycucmVwbGFjZSgvXFxkL2csIGkgPT4gKHJuZFtpXSArIDB4MV8wMDAwKS50b1N0cmluZygxNikuc2xpY2UoLTQpKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1ZNU2NyaXB0fSBzY3JpcHRcbiAqIEBwYXJhbSB7c3RyaW5nfSBjb2RlXG4gKiBAcmV0dXJuIHtQcm9taXNlPFZNU2NyaXB0W10+fVxuICovXG5hc3luYyBmdW5jdGlvbiBzYXZlU2NyaXB0KHNjcmlwdCwgY29kZSkge1xuICBjb25zdCBjb25maWcgPSBzY3JpcHQuY29uZmlnIHx8IHt9O1xuICBjb25maWcuZW5hYmxlZCA9IGdldEludChjb25maWcuZW5hYmxlZCk7XG4gIGNvbmZpZy5zaG91bGRVcGRhdGUgPSBnZXRJbnQoY29uZmlnLnNob3VsZFVwZGF0ZSk7XG4gIGNvbnN0IHByb3BzID0gc2NyaXB0LnByb3BzIHx8IHt9O1xuICBsZXQgb2xkU2NyaXB0O1xuICBpZiAoIXByb3BzLmlkKSB7XG4gICAgc3RvcmUuc3RvcmVJbmZvLmlkICs9IDE7XG4gICAgcHJvcHMuaWQgPSBzdG9yZS5zdG9yZUluZm8uaWQ7XG4gIH0gZWxzZSB7XG4gICAgb2xkU2NyaXB0ID0gc3RvcmUuc2NyaXB0TWFwW3Byb3BzLmlkXTtcbiAgfVxuICBwcm9wcy51cmkgPSBnZXROYW1lVVJJKHNjcmlwdCk7XG4gIHByb3BzLnV1aWQgPSBwcm9wcy51dWlkIHx8IGNyeXB0by5yYW5kb21VVUlEPy4oKSB8fCBnZXRVVUlEKCk7XG4gIC8vIERvIG5vdCBhbGxvdyBzY3JpcHQgd2l0aCBzYW1lIG5hbWUgYW5kIG5hbWVzcGFjZVxuICBpZiAoc3RvcmUuc2NyaXB0cy5zb21lKCh7IHByb3BzOiB7IGlkLCB1cmkgfSA9IHt9IH0pID0+IHByb3BzLmlkICE9PSBpZCAmJiBwcm9wcy51cmkgPT09IHVyaSkpIHtcbiAgICB0aHJvdyBpMThuKCdtc2dOYW1lc3BhY2VDb25mbGljdCcpO1xuICB9XG4gIGlmIChvbGRTY3JpcHQpIHtcbiAgICBzY3JpcHQuY29uZmlnID0geyAuLi5vbGRTY3JpcHQuY29uZmlnLCAuLi5jb25maWcgfTtcbiAgICBzY3JpcHQucHJvcHMgPSB7IC4uLm9sZFNjcmlwdC5wcm9wcywgLi4ucHJvcHMgfTtcbiAgICBjb25zdCBpbmRleCA9IHN0b3JlLnNjcmlwdHMuaW5kZXhPZihvbGRTY3JpcHQpO1xuICAgIHN0b3JlLnNjcmlwdHNbaW5kZXhdID0gc2NyaXB0O1xuICB9IGVsc2Uge1xuICAgIGlmICghcHJvcHMucG9zaXRpb24pIHtcbiAgICAgIHN0b3JlLnN0b3JlSW5mby5wb3NpdGlvbiArPSAxO1xuICAgICAgcHJvcHMucG9zaXRpb24gPSBzdG9yZS5zdG9yZUluZm8ucG9zaXRpb247XG4gICAgfSBlbHNlIGlmIChzdG9yZS5zdG9yZUluZm8ucG9zaXRpb24gPCBwcm9wcy5wb3NpdGlvbikge1xuICAgICAgc3RvcmUuc3RvcmVJbmZvLnBvc2l0aW9uID0gcHJvcHMucG9zaXRpb247XG4gICAgfVxuICAgIHNjcmlwdC5jb25maWcgPSBjb25maWc7XG4gICAgc2NyaXB0LnByb3BzID0gcHJvcHM7XG4gICAgc3RvcmUuc2NyaXB0cy5wdXNoKHNjcmlwdCk7XG4gIH1cbiAgcmV0dXJuIFByb21pc2UuYWxsKFtcbiAgICBzdG9yYWdlLnNjcmlwdC5kdW1wKHNjcmlwdCksXG4gICAgc3RvcmFnZS5jb2RlLnNldChwcm9wcy5pZCwgY29kZSksXG4gIF0pO1xufVxuXG4vKiogQHJldHVybiB7UHJvbWlzZTx2b2lkPn0gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVTY3JpcHRJbmZvKGlkLCBkYXRhKSB7XG4gIGNvbnN0IHNjcmlwdCA9IHN0b3JlLnNjcmlwdE1hcFtpZF07XG4gIGlmICghc2NyaXB0KSB0aHJvdyBudWxsO1xuICBzY3JpcHQucHJvcHMgPSB7IC4uLnNjcmlwdC5wcm9wcywgLi4uZGF0YS5wcm9wcyB9O1xuICBzY3JpcHQuY29uZmlnID0geyAuLi5zY3JpcHQuY29uZmlnLCAuLi5kYXRhLmNvbmZpZyB9O1xuICBzY3JpcHQuY3VzdG9tID0geyAuLi5zY3JpcHQuY3VzdG9tLCAuLi5kYXRhLmN1c3RvbSB9O1xuICBhd2FpdCBzdG9yYWdlLnNjcmlwdC5kdW1wKHNjcmlwdCk7XG4gIHJldHVybiBzZW5kQ21kKENNRF9TQ1JJUFRfVVBEQVRFLCB7IHdoZXJlOiB7IGlkIH0sIHVwZGF0ZTogc2NyaXB0IH0pO1xufVxuXG4vKiogQHJldHVybiB7UHJvbWlzZTx7IGlzTmV3PywgdXBkYXRlLCB3aGVyZSB9Pn0gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwYXJzZVNjcmlwdChzcmMpIHtcbiAgY29uc3QgbWV0YSA9IHBhcnNlTWV0YShzcmMuY29kZSk7XG4gIGlmICghbWV0YS5uYW1lKSB0aHJvdyBgJHtpMThuKCdtc2dJbnZhbGlkU2NyaXB0Jyl9XFxuJHtpMThuKCdsYWJlbE5vTmFtZScpfWA7XG4gIGNvbnN0IHJlc3VsdCA9IHtcbiAgICB1cGRhdGU6IHtcbiAgICAgIG1lc3NhZ2U6IHNyYy5tZXNzYWdlID09IG51bGwgPyBpMThuKCdtc2dVcGRhdGVkJykgOiBzcmMubWVzc2FnZSB8fCAnJyxcbiAgICB9LFxuICB9O1xuICBsZXQgY21kID0gQ01EX1NDUklQVF9VUERBVEU7XG4gIGxldCBzY3JpcHQ7XG4gIGNvbnN0IG9sZFNjcmlwdCA9IGF3YWl0IGdldFNjcmlwdCh7IGlkOiBzcmMuaWQsIG1ldGEgfSk7XG4gIGlmIChvbGRTY3JpcHQpIHtcbiAgICBpZiAoc3JjLmlzTmV3KSB0aHJvdyBpMThuKCdtc2dOYW1lc3BhY2VDb25mbGljdCcpO1xuICAgIHNjcmlwdCA9IHsgLi4ub2xkU2NyaXB0IH07XG4gIH0gZWxzZSB7XG4gICAgKHsgc2NyaXB0IH0gPSBuZXdTY3JpcHQoKSk7XG4gICAgY21kID0gQ01EX1NDUklQVF9BREQ7XG4gICAgcmVzdWx0LmlzTmV3ID0gdHJ1ZTtcbiAgICByZXN1bHQudXBkYXRlLm1lc3NhZ2UgPSBpMThuKCdtc2dJbnN0YWxsZWQnKTtcbiAgfVxuICBzY3JpcHQuY29uZmlnID0ge1xuICAgIC4uLnNjcmlwdC5jb25maWcsXG4gICAgLi4uc3JjLmNvbmZpZyxcbiAgICByZW1vdmVkOiAwLCAvLyBmb3JjZSByZXNldCBgcmVtb3ZlZGAgc2luY2UgdGhpcyBpcyBhbiBpbnN0YWxsYXRpb25cbiAgfTtcbiAgc2NyaXB0LmN1c3RvbSA9IHtcbiAgICAuLi5zY3JpcHQuY3VzdG9tLFxuICAgIC4uLnNyYy5jdXN0b20sXG4gIH07XG4gIHNjcmlwdC5wcm9wcyA9IHtcbiAgICAuLi5zY3JpcHQucHJvcHMsXG4gICAgbGFzdE1vZGlmaWVkOiBEYXRlLm5vdygpLFxuICAgIGxhc3RVcGRhdGVkOiBEYXRlLm5vdygpLFxuICAgIC4uLnNyYy5wcm9wcyxcbiAgfTtcbiAgc2NyaXB0Lm1ldGEgPSBtZXRhO1xuICBpZiAoIW1ldGEuaG9tZXBhZ2VVUkwgJiYgIXNjcmlwdC5jdXN0b20uaG9tZXBhZ2VVUkwgJiYgaXNSZW1vdGUoc3JjLmZyb20pKSB7XG4gICAgc2NyaXB0LmN1c3RvbS5ob21lcGFnZVVSTCA9IHNyYy5mcm9tO1xuICB9XG4gIGlmIChpc1JlbW90ZShzcmMudXJsKSkgc2NyaXB0LmN1c3RvbS5sYXN0SW5zdGFsbFVSTCA9IHNyYy51cmw7XG4gIGlmIChzcmMucG9zaXRpb24pIHNjcmlwdC5wcm9wcy5wb3NpdGlvbiA9ICtzcmMucG9zaXRpb247XG4gIGJ1aWxkUGF0aE1hcChzY3JpcHQsIHNyYy51cmwpO1xuICBhd2FpdCBzYXZlU2NyaXB0KHNjcmlwdCwgc3JjLmNvZGUpO1xuICBmZXRjaFJlc291cmNlcyhzY3JpcHQsIHNyYyk7XG4gIE9iamVjdC5hc3NpZ24ocmVzdWx0LnVwZGF0ZSwgc2NyaXB0LCBzcmMudXBkYXRlKTtcbiAgcmVzdWx0LndoZXJlID0geyBpZDogc2NyaXB0LnByb3BzLmlkIH07XG4gIHNlbmRDbWQoY21kLCByZXN1bHQpO1xuICBwbHVnaW5FdmVudHMuZW1pdCgnc2NyaXB0Q2hhbmdlZCcsIHJlc3VsdCk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKiBAcmV0dXJuIHtPYmplY3R9ICovXG5mdW5jdGlvbiBidWlsZFBhdGhNYXAoc2NyaXB0LCBiYXNlKSB7XG4gIGNvbnN0IHsgbWV0YSB9ID0gc2NyaXB0O1xuICBjb25zdCBiYXNlVXJsID0gYmFzZSB8fCBzY3JpcHQuY3VzdG9tLmxhc3RJbnN0YWxsVVJMO1xuICBjb25zdCBwYXRoTWFwID0gYmFzZVVybCA/IFtcbiAgICAuLi5tZXRhLnJlcXVpcmUsXG4gICAgLi4uT2JqZWN0LnZhbHVlcyhtZXRhLnJlc291cmNlcyksXG4gICAgbWV0YS5pY29uLFxuICBdLnJlZHVjZSgobWFwLCBrZXkpID0+IHtcbiAgICBpZiAoa2V5KSB7XG4gICAgICBjb25zdCBmdWxsVXJsID0gZ2V0RnVsbFVybChrZXksIGJhc2VVcmwpO1xuICAgICAgaWYgKGZ1bGxVcmwgIT09IGtleSkgbWFwW2tleV0gPSBmdWxsVXJsO1xuICAgIH1cbiAgICByZXR1cm4gbWFwO1xuICB9LCB7fSkgOiB7fTtcbiAgc2NyaXB0LmN1c3RvbS5wYXRoTWFwID0gcGF0aE1hcDtcbiAgcmV0dXJuIHBhdGhNYXA7XG59XG5cbi8qKiBAcmV0dXJuIHtQcm9taXNlPD9zdHJpbmc+fSByZXNvbHZlcyB0byBlcnJvciB0ZXh0IGlmIGByZXNvdXJjZUNhY2hlYCBpcyBhYnNlbnQgKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmZXRjaFJlc291cmNlcyhzY3JpcHQsIHJlc291cmNlQ2FjaGUsIHJlcU9wdGlvbnMpIHtcbiAgY29uc3QgeyBjdXN0b206IHsgcGF0aE1hcCB9LCBtZXRhIH0gPSBzY3JpcHQ7XG4gIGNvbnN0IHNuYXRjaCA9ICh1cmwsIHR5cGUsIHZhbGlkYXRvcikgPT4ge1xuICAgIHVybCA9IHBhdGhNYXBbdXJsXSB8fCB1cmw7XG4gICAgY29uc3QgY29udGVudHMgPSByZXNvdXJjZUNhY2hlPy5bdHlwZV0/Llt1cmxdO1xuICAgIHJldHVybiBjb250ZW50cyAhPSBudWxsICYmICF2YWxpZGF0b3JcbiAgICAgID8gc3RvcmFnZVt0eXBlXS5zZXQodXJsLCBjb250ZW50cykgJiYgbnVsbFxuICAgICAgOiBzdG9yYWdlW3R5cGVdLmZldGNoKHVybCwgcmVxT3B0aW9ucywgdmFsaWRhdG9yKS5jYXRjaChlcnIgPT4gZXJyKTtcbiAgfTtcbiAgY29uc3QgZXJyb3JzID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgIC4uLm1ldGEucmVxdWlyZS5tYXAodXJsID0+IHNuYXRjaCh1cmwsICdyZXF1aXJlJykpLFxuICAgIC4uLk9iamVjdC52YWx1ZXMobWV0YS5yZXNvdXJjZXMpLm1hcCh1cmwgPT4gc25hdGNoKHVybCwgJ2NhY2hlJykpLFxuICAgIGlzUmVtb3RlKG1ldGEuaWNvbikgJiYgc25hdGNoKG1ldGEuaWNvbiwgJ2NhY2hlJywgdmFsaWRhdGVJbWFnZSksXG4gIF0pO1xuICBpZiAoIXJlc291cmNlQ2FjaGU/Lmlnbm9yZURlcHNFcnJvcnMpIHtcbiAgICBjb25zdCBlcnJvciA9IGVycm9ycy5tYXAoZm9ybWF0SHR0cEVycm9yKTo6dHJ1ZUpvaW4oJ1xcbicpO1xuICAgIGlmIChlcnJvcikge1xuICAgICAgY29uc3QgbWVzc2FnZSA9IGkxOG4oJ21zZ0Vycm9yRmV0Y2hpbmdSZXNvdXJjZScpO1xuICAgICAgc2VuZENtZChDTURfU0NSSVBUX1VQREFURSwge1xuICAgICAgICB1cGRhdGU6IHsgZXJyb3IsIG1lc3NhZ2UgfSxcbiAgICAgICAgd2hlcmU6IHsgaWQ6IHNjcmlwdC5wcm9wcy5pZCB9LFxuICAgICAgfSk7XG4gICAgICByZXR1cm4gYCR7bWVzc2FnZX1cXG4ke2Vycm9yfWA7XG4gICAgfVxuICB9XG59XG5cbi8qKiBAcmV0dXJuIHtQcm9taXNlPHZvaWQ+fSByZXNvbHZlcyBvbiBzdWNjZXNzLCByZWplY3RzIG9uIGVycm9yICovXG5mdW5jdGlvbiB2YWxpZGF0ZUltYWdlKHVybCwgYnVmLCB0eXBlKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgY29uc3QgYmxvYlVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwobmV3IEJsb2IoW2J1Zl0sIHsgdHlwZSB9KSk7XG4gICAgY29uc3Qgb25Eb25lID0gKGUpID0+IHtcbiAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwoYmxvYlVybCk7XG4gICAgICBpZiAoZS50eXBlID09PSAnbG9hZCcpIHJlc29sdmUoKTtcbiAgICAgIGVsc2UgcmVqZWN0KGBJTUFHRV9FUlJPUjogJHt1cmx9YCk7XG4gICAgfTtcbiAgICBjb25zdCBpbWFnZSA9IG5ldyBJbWFnZSgpO1xuICAgIGltYWdlLm9ubG9hZCA9IG9uRG9uZTtcbiAgICBpbWFnZS5vbmVycm9yID0gb25Eb25lO1xuICAgIGltYWdlLnNyYyA9IGJsb2JVcmw7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBmb3JtYXRIdHRwRXJyb3IoZSkge1xuICByZXR1cm4gZSAmJiBbZS5zdGF0dXMgJiYgYEhUVFAke2Uuc3RhdHVzfWAsIGUudXJsXTo6dHJ1ZUpvaW4oJyAnKSB8fCBlO1xufVxuXG5sZXQgX3ZhY3V1bWluZztcbi8qKlxuICogQHBhcmFtIHtPYmplY3R9IFtkYXRhXVxuICogQHJldHVybiB7UHJvbWlzZTxudW1iZXI+fVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdmFjdXVtKGRhdGEpIHtcbiAgaWYgKF92YWN1dW1pbmcpIHJldHVybiBfdmFjdXVtaW5nO1xuICBsZXQgbnVtRml4ZXMgPSAwO1xuICBsZXQgcmVzb2x2ZVNlbGY7XG4gIF92YWN1dW1pbmcgPSBuZXcgUHJvbWlzZShyID0+IHsgcmVzb2x2ZVNlbGYgPSByOyB9KTtcbiAgY29uc3QgcmVzdWx0ID0ge307XG4gIGNvbnN0IHRvRmV0Y2ggPSBbXTtcbiAgY29uc3Qga2V5c1RvUmVtb3ZlID0gW107XG4gIGNvbnN0IHZhbHVlS2V5cyA9IHt9O1xuICBjb25zdCBjYWNoZUtleXMgPSB7fTtcbiAgY29uc3QgcmVxdWlyZUtleXMgPSB7fTtcbiAgY29uc3QgY29kZUtleXMgPSB7fTtcbiAgY29uc3QgbWFwcGluZ3MgPSBbXG4gICAgW3N0b3JhZ2UudmFsdWUsIHZhbHVlS2V5c10sXG4gICAgW3N0b3JhZ2UuY2FjaGUsIGNhY2hlS2V5c10sXG4gICAgW3N0b3JhZ2UucmVxdWlyZSwgcmVxdWlyZUtleXNdLFxuICAgIFtzdG9yYWdlLmNvZGUsIGNvZGVLZXlzXSxcbiAgXTtcbiAgaWYgKCFkYXRhKSBkYXRhID0gYXdhaXQgYnJvd3Nlci5zdG9yYWdlLmxvY2FsLmdldCgpO1xuICBkYXRhOjpmb3JFYWNoS2V5KChrZXkpID0+IHtcbiAgICBtYXBwaW5ncy5zb21lKChbc3Vic3RvcmUsIG1hcF0pID0+IHtcbiAgICAgIGNvbnN0IHsgcHJlZml4IH0gPSBzdWJzdG9yZTtcbiAgICAgIGlmIChrZXkuc3RhcnRzV2l0aChwcmVmaXgpKSB7XG4gICAgICAgIC8vIC0xIGZvciB1bnRvdWNoZWQsIDEgZm9yIHRvdWNoZWQsIDIgZm9yIG1pc3NpbmdcbiAgICAgICAgbWFwW2tleS5zbGljZShwcmVmaXgubGVuZ3RoKV0gPSAtMTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSk7XG4gIH0pO1xuICBjb25zdCB0b3VjaCA9IChvYmosIGtleSwgc2NyaXB0SWQpID0+IHtcbiAgICBpZiAob2JqW2tleV0gPCAwKSB7XG4gICAgICBvYmpba2V5XSA9IDE7XG4gICAgfSBlbHNlIGlmICghb2JqW2tleV0pIHtcbiAgICAgIG9ialtrZXldID0gMiArIHNjcmlwdElkO1xuICAgIH1cbiAgfTtcbiAgc3RvcmUuc2NyaXB0cy5mb3JFYWNoKChzY3JpcHQpID0+IHtcbiAgICBjb25zdCB7IGlkIH0gPSBzY3JpcHQucHJvcHM7XG4gICAgdG91Y2goY29kZUtleXMsIGlkLCBpZCk7XG4gICAgdG91Y2godmFsdWVLZXlzLCBpZCwgaWQpO1xuICAgIGlmICghc2NyaXB0LmN1c3RvbS5wYXRoTWFwKSBidWlsZFBhdGhNYXAoc2NyaXB0KTtcbiAgICBjb25zdCB7IHBhdGhNYXAgfSA9IHNjcmlwdC5jdXN0b207XG4gICAgc2NyaXB0Lm1ldGEucmVxdWlyZS5mb3JFYWNoKCh1cmwpID0+IHtcbiAgICAgIHRvdWNoKHJlcXVpcmVLZXlzLCBwYXRoTWFwW3VybF0gfHwgdXJsLCBpZCk7XG4gICAgfSk7XG4gICAgc2NyaXB0Lm1ldGEucmVzb3VyY2VzOjpmb3JFYWNoVmFsdWUoKHVybCkgPT4ge1xuICAgICAgdG91Y2goY2FjaGVLZXlzLCBwYXRoTWFwW3VybF0gfHwgdXJsLCBpZCk7XG4gICAgfSk7XG4gICAgY29uc3QgeyBpY29uIH0gPSBzY3JpcHQubWV0YTtcbiAgICBpZiAoaXNSZW1vdGUoaWNvbikpIHtcbiAgICAgIGNvbnN0IGZ1bGxVcmwgPSBwYXRoTWFwW2ljb25dIHx8IGljb247XG4gICAgICB0b3VjaChjYWNoZUtleXMsIGZ1bGxVcmwsIGlkKTtcbiAgICB9XG4gIH0pO1xuICBtYXBwaW5ncy5mb3JFYWNoKChbc3Vic3RvcmUsIG1hcF0pID0+IHtcbiAgICBtYXA6OmZvckVhY2hFbnRyeSgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICBpZiAodmFsdWUgPCAwKSB7XG4gICAgICAgIC8vIHJlZHVuZGFudCB2YWx1ZVxuICAgICAgICBrZXlzVG9SZW1vdmUucHVzaChzdWJzdG9yZS5nZXRLZXkoa2V5KSk7XG4gICAgICAgIG51bUZpeGVzICs9IDE7XG4gICAgICB9IGVsc2UgaWYgKHZhbHVlID49IDIgJiYgc3Vic3RvcmUuZmV0Y2gpIHtcbiAgICAgICAgLy8gbWlzc2luZyByZXNvdXJjZVxuICAgICAgICBrZXlzVG9SZW1vdmUucHVzaChzdG9yYWdlLm1vZC5nZXRLZXkoa2V5KSk7XG4gICAgICAgIHRvRmV0Y2gucHVzaChzdWJzdG9yZS5mZXRjaChrZXkpLmNhdGNoKGVyciA9PiBgJHtcbiAgICAgICAgICBnZXRTY3JpcHROYW1lKGdldFNjcmlwdEJ5SWQodmFsdWUgLSAyKSlcbiAgICAgICAgfTogJHtcbiAgICAgICAgICBmb3JtYXRIdHRwRXJyb3IoZXJyKVxuICAgICAgICB9YCkpO1xuICAgICAgICBudW1GaXhlcyArPSAxO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcbiAgaWYgKG51bUZpeGVzKSB7XG4gICAgYXdhaXQgc3RvcmFnZS5iYXNlLnJlbW92ZU11bHRpKGtleXNUb1JlbW92ZSk7IC8vIFJlbW92aW5nIGBtb2RgIGJlZm9yZSBmZXRjaGluZ1xuICAgIHJlc3VsdC5lcnJvcnMgPSAoYXdhaXQgUHJvbWlzZS5hbGwodG9GZXRjaCkpLmZpbHRlcihCb29sZWFuKTtcbiAgfVxuICBfdmFjdXVtaW5nID0gbnVsbDtcbiAgcmVzdWx0LmZpeGVzID0gbnVtRml4ZXM7XG4gIHJlc29sdmVTZWxmKHJlc3VsdCk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKiBAdHlwZWRlZiBWTVNjcmlwdFxuICogQHByb3BlcnR5IHtWTVNjcmlwdENvbmZpZ30gY29uZmlnXG4gKiBAcHJvcGVydHkge1ZNU2NyaXB0Q3VzdG9tfSBjdXN0b21cbiAqIEBwcm9wZXJ0eSB7Vk1TY3JpcHRNZXRhfSBtZXRhXG4gKiBAcHJvcGVydHkge1ZNU2NyaXB0UHJvcHN9IHByb3BzXG4gKi9cbi8qKiBAdHlwZWRlZiBWTVNjcmlwdENvbmZpZyAqXG4gKiBAcHJvcGVydHkge0Jvb2xlYW59IGVuYWJsZWQgLSBzdG9yZWQgYXMgMCBvciAxXG4gKiBAcHJvcGVydHkge0Jvb2xlYW59IHJlbW92ZWQgLSBzdG9yZWQgYXMgMCBvciAxXG4gKiBAcHJvcGVydHkge0Jvb2xlYW59IHNob3VsZFVwZGF0ZSAtIHN0b3JlZCBhcyAwIG9yIDFcbiAqIEBwcm9wZXJ0eSB7Qm9vbGVhbiB8IG51bGx9IG5vdGlmeVVwZGF0ZXMgLSBzdG9yZWQgYXMgMCBvciAxIG9yIG51bGwgKGRlZmF1bHQpIHdoaWNoIG1lYW5zIFwidXNlIGdsb2JhbCBzZXR0aW5nXCJcbiAqL1xuLyoqIEB0eXBlZGVmIFZNU2NyaXB0Q3VzdG9tICpcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBuYW1lXG4gKiBAcHJvcGVydHkge3N0cmluZ30gZG93bmxvYWRVUkxcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBob21lcGFnZVVSTFxuICogQHByb3BlcnR5IHtzdHJpbmd9IGxhc3RJbnN0YWxsVVJMXG4gKiBAcHJvcGVydHkge3N0cmluZ30gdXBkYXRlVVJMXG4gKiBAcHJvcGVydHkgeydhdXRvJyB8ICdwYWdlJyB8ICdjb250ZW50J30gaW5qZWN0SW50b1xuICogQHByb3BlcnR5IHtudWxsIHwgMSB8IDB9IG5vZnJhbWVzIC0gbnVsbCBvciBhYnNlbmNlID09IGRlZmF1bHQgKHNjcmlwdCdzIHZhbHVlKVxuICogQHByb3BlcnR5IHtzdHJpbmdbXX0gZXhjbHVkZVxuICogQHByb3BlcnR5IHtzdHJpbmdbXX0gZXhjbHVkZU1hdGNoXG4gKiBAcHJvcGVydHkge3N0cmluZ1tdfSBpbmNsdWRlXG4gKiBAcHJvcGVydHkge3N0cmluZ1tdfSBtYXRjaFxuICogQHByb3BlcnR5IHtib29sZWFufSBvcmlnRXhjbHVkZVxuICogQHByb3BlcnR5IHtib29sZWFufSBvcmlnRXhjbHVkZU1hdGNoXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IG9yaWdJbmNsdWRlXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IG9yaWdNYXRjaFxuICogQHByb3BlcnR5IHtPYmplY3R9IHBhdGhNYXBcbiAqIEBwcm9wZXJ0eSB7Vk1TY3JpcHRSdW5BdH0gcnVuQXRcbiAqL1xuLyoqIEB0eXBlZGVmIFZNU2NyaXB0TWV0YSAqXG4gKiBAcHJvcGVydHkge3N0cmluZ30gZGVzY3JpcHRpb25cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBkb3dubG9hZFVSTFxuICogQHByb3BlcnR5IHtzdHJpbmdbXX0gZXhjbHVkZVxuICogQHByb3BlcnR5IHtzdHJpbmdbXX0gZXhjbHVkZU1hdGNoXG4gKiBAcHJvcGVydHkge3N0cmluZ1tdfSBncmFudFxuICogQHByb3BlcnR5IHtzdHJpbmd9IGhvbWVwYWdlVVJMXG4gKiBAcHJvcGVydHkge3N0cmluZ30gaWNvblxuICogQHByb3BlcnR5IHtzdHJpbmdbXX0gaW5jbHVkZVxuICogQHByb3BlcnR5IHsnYXV0bycgfCAncGFnZScgfCAnY29udGVudCd9IGluamVjdEludG9cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nW119IG1hdGNoXG4gKiBAcHJvcGVydHkge3N0cmluZ30gbmFtZXNwYWNlXG4gKiBAcHJvcGVydHkge3N0cmluZ30gbmFtZVxuICogQHByb3BlcnR5IHtib29sZWFufSBub2ZyYW1lc1xuICogQHByb3BlcnR5IHtzdHJpbmdbXX0gcmVxdWlyZVxuICogQHByb3BlcnR5IHtPYmplY3R9IHJlc291cmNlc1xuICogQHByb3BlcnR5IHtWTVNjcmlwdFJ1bkF0fSBydW5BdFxuICogQHByb3BlcnR5IHtzdHJpbmd9IHN1cHBvcnRVUkxcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSB2ZXJzaW9uXG4gKi9cbi8qKiBAdHlwZWRlZiBWTVNjcmlwdFByb3BzICpcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBpZFxuICogQHByb3BlcnR5IHtudW1iZXJ9IGxhc3RNb2RpZmllZFxuICogQHByb3BlcnR5IHtudW1iZXJ9IGxhc3RVcGRhdGVkXG4gKiBAcHJvcGVydHkge251bWJlcn0gcG9zaXRpb25cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSB1cmlcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSB1dWlkXG4gKi9cbi8qKlxuICogQHR5cGVkZWYge1xuICAgJ2RvY3VtZW50LXN0YXJ0JyB8ICdkb2N1bWVudC1ib2R5JyB8ICdkb2N1bWVudC1lbmQnIHwgJ2RvY3VtZW50LWlkbGUnXG4gfSBWTVNjcmlwdFJ1bkF0XG4gKi9cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldEV2ZW50RW1pdHRlcigpIHtcbiAgY29uc3QgZXZlbnRzID0ge307XG4gIHJldHVybiB7IG9uLCBvZmYsIGZpcmUgfTtcblxuICBmdW5jdGlvbiBvbih0eXBlLCBmdW5jKSB7XG4gICAgbGV0IGxpc3QgPSBldmVudHNbdHlwZV07XG4gICAgaWYgKCFsaXN0KSB7XG4gICAgICBsaXN0ID0gW107XG4gICAgICBldmVudHNbdHlwZV0gPSBsaXN0O1xuICAgIH1cbiAgICBsaXN0LnB1c2goZnVuYyk7XG4gIH1cbiAgZnVuY3Rpb24gb2ZmKHR5cGUsIGZ1bmMpIHtcbiAgICBjb25zdCBsaXN0ID0gZXZlbnRzW3R5cGVdO1xuICAgIGlmIChsaXN0KSB7XG4gICAgICBjb25zdCBpID0gbGlzdC5pbmRleE9mKGZ1bmMpO1xuICAgICAgaWYgKGkgPj0gMCkgbGlzdC5zcGxpY2UoaSwgMSk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGZpcmUodHlwZSwgZGF0YSkge1xuICAgIGNvbnN0IGxpc3QgPSBldmVudHNbdHlwZV07XG4gICAgaWYgKGxpc3QpIHtcbiAgICAgIGxpc3QuZm9yRWFjaCgoZnVuYykgPT4ge1xuICAgICAgICBmdW5jKGRhdGEsIHR5cGUpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyBwb3N0SW5pdGlhbGl6ZSB9IGZyb20gJy4vaW5pdCc7XG5pbXBvcnQgeyBjb21tYW5kcyB9IGZyb20gJy4vbWVzc2FnZSc7XG5cbnBvc3RJbml0aWFsaXplLnB1c2goKCkgPT4ge1xuICBicm93c2VyLmNvbW1hbmRzLm9uQ29tbWFuZC5hZGRMaXN0ZW5lcigoY21kKSA9PiB7XG4gICAgaWYgKGNtZCA9PT0gJ25ld1NjcmlwdCcpIHtcbiAgICAgIGNvbW1hbmRzLk9wZW5FZGl0b3IoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3Qgcm91dGUgPSBjbWQgPT09ICdzZXR0aW5ncycgPyBgIyR7Y21kfWAgOiAnJztcbiAgICAgIGNvbW1hbmRzLlRhYk9wZW4oeyB1cmw6IGAvb3B0aW9ucy9pbmRleC5odG1sJHtyb3V0ZX1gIH0pO1xuICAgIH1cbiAgfSk7XG59KTtcbiIsImltcG9ydCB7IGkxOG4sIG5vb3AgfSBmcm9tICcjL2NvbW1vbic7XG5pbXBvcnQgeyBJTkpFQ1RBQkxFX1RBQl9VUkxfUkUgfSBmcm9tICcjL2NvbW1vbi9jb25zdHMnO1xuaW1wb3J0IHsgb2JqZWN0UGljayB9IGZyb20gJyMvY29tbW9uL29iamVjdCc7XG5pbXBvcnQgY2FjaGUgZnJvbSAnLi9jYWNoZSc7XG5pbXBvcnQgeyBwb3N0SW5pdGlhbGl6ZSB9IGZyb20gJy4vaW5pdCc7XG5pbXBvcnQgeyBjb21tYW5kcywgZm9yRWFjaFRhYiB9IGZyb20gJy4vbWVzc2FnZSc7XG5pbXBvcnQgeyBnZXRPcHRpb24sIGhvb2tPcHRpb25zIH0gZnJvbSAnLi9vcHRpb25zJztcbmltcG9ydCB7IHRlc3RCbGFja2xpc3QgfSBmcm9tICcuL3Rlc3Rlcic7XG5cbi8vIHN0b3JpbmcgaW4gYGNhY2hlYCBvbmx5IGZvciB0aGUgZHVyYXRpb24gb2YgcGFnZSBsb2FkIGluIGNhc2UgdGhlcmUgYXJlIDIrIGlkZW50aWNhbCB1cmxzXG5jb25zdCBDQUNIRV9EVVJBVElPTiA9IDEwMDA7XG5cbk9iamVjdC5hc3NpZ24oY29tbWFuZHMsIHtcbiAgYXN5bmMgR2V0SW1hZ2VEYXRhKHVybCkge1xuICAgIGNvbnN0IGtleSA9IGBHZXRJbWFnZURhdGE6JHt1cmx9YDtcbiAgICByZXR1cm4gY2FjaGUuZ2V0KGtleSlcbiAgICAgIHx8IGNhY2hlLnB1dChrZXksIGxvYWRJbWFnZURhdGEodXJsLCB7IGJhc2U2NDogdHJ1ZSB9KS5jYXRjaChub29wKSwgQ0FDSEVfRFVSQVRJT04pO1xuICB9LFxuICBTZXRCYWRnZTogc2V0QmFkZ2UsXG59KTtcblxuLy8gRmlyZWZveCBBbmRyb2lkIGRvZXMgbm90IHN1cHBvcnQgc3VjaCBBUElzLCB1c2Ugbm9vcFxuXG5jb25zdCBicm93c2VyQWN0aW9uID0gKCgpID0+IHtcbiAgY29uc3QgeyBjaHJvbWUgfSA9IGdsb2JhbDtcbiAgLy8gVXNpbmcgYGNocm9tZWAgbmFtZXNwYWNlIGluIG9yZGVyIHRvIHNraXAgb3VyIGJyb3dzZXIuanMgcG9seWZpbGwgaW4gQ2hyb21lXG4gIGNvbnN0IGFwaSA9IGNocm9tZS5icm93c2VyQWN0aW9uO1xuICAvLyBTdXBwcmVzcyB0aGUgXCJubyB0YWIgaWRcIiBlcnJvciB3aGVuIHNldHRpbmcgYW4gaWNvbi9iYWRnZSBhcyBpdCBjYW5ub3QgYmUgcmVsaWFibHkgcHJldmVudGVkXG4gIGNvbnN0IGlnbm9yZUVycm9ycyA9ICgpID0+IGNocm9tZS5ydW50aW1lLmxhc3RFcnJvcjtcbiAgLy8gU29tZSBtZXRob2RzIGxpa2Ugc2V0QmFkZ2VUZXh0IGFkZGVkIGNhbGxiYWNrcyBvbmx5IGluIENocm9tZSA2NysuXG4gIGNvbnN0IG1ha2VNZXRob2QgPSBmbiA9PiAoLi4uYXJncykgPT4ge1xuICAgIHRyeSB7XG4gICAgICBhcGk6OmZuKC4uLmFyZ3MsIGlnbm9yZUVycm9ycyk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgYXBpOjpmbiguLi5hcmdzKTtcbiAgICB9XG4gIH07XG4gIHJldHVybiBvYmplY3RQaWNrKGFwaSwgW1xuICAgICdzZXRJY29uJyxcbiAgICAnc2V0QmFkZ2VUZXh0JyxcbiAgICAnc2V0QmFkZ2VCYWNrZ3JvdW5kQ29sb3InLFxuICAgICdzZXRUaXRsZScsXG4gIF0sIGZuID0+IChmbiA/IG1ha2VNZXRob2QoZm4pIDogbm9vcCkpO1xufSkoKTtcblxuY29uc3QgYmFkZ2VzID0ge307XG5jb25zdCBLRVlfSVNfQVBQTElFRCA9ICdpc0FwcGxpZWQnO1xuY29uc3QgS0VZX1NIT1dfQkFER0UgPSAnc2hvd0JhZGdlJztcbmNvbnN0IEtFWV9CQURHRV9DT0xPUiA9ICdiYWRnZUNvbG9yJztcbmNvbnN0IEtFWV9CQURHRV9DT0xPUl9CTE9DS0VEID0gJ2JhZGdlQ29sb3JCbG9ja2VkJztcbi8qKiBAdHlwZSBib29sZWFuICovXG5sZXQgaXNBcHBsaWVkO1xuLyoqIEB0eXBlIFZNQmFkZ2VNb2RlICovXG5sZXQgc2hvd0JhZGdlO1xuLyoqIEB0eXBlIHN0cmluZyAqL1xubGV0IGJhZGdlQ29sb3I7XG4vKiogQHR5cGUgc3RyaW5nICovXG5sZXQgYmFkZ2VDb2xvckJsb2NrZWQ7XG4vKiogQHR5cGUgc3RyaW5nICovXG5sZXQgdGl0bGVCbGFja2xpc3RlZDtcbi8qKiBAdHlwZSBzdHJpbmcgKi9cbmxldCB0aXRsZU5vbmluamVjdGFibGU7XG5cbi8vIFdlJ2xsIGNhY2hlIHRoZSBpY29uIGRhdGEgaW4gQ2hyb21lIGFzIGl0IGRvZXNuJ3QgY2FjaGUgdGhlIGRhdGEgYW5kIHRha2VzIHVwIHRvIDQwbXNcbi8vIGluIG91ciBiYWNrZ3JvdW5kIHBhZ2UgY29udGV4dCB0byBzZXQgdGhlIDQgaWNvbiBzaXplcyBmb3IgZWFjaCBuZXcgdGFiIG9wZW5lZFxuY29uc3QgaWNvbkNhY2hlID0gIUlTX0ZJUkVGT1ggJiYge307XG5cbmhvb2tPcHRpb25zKChjaGFuZ2VzKSA9PiB7XG4gIGxldCB2O1xuICBjb25zdCBqb2JzID0gW107XG4gIGlmICgodiA9IGNoYW5nZXNbS0VZX0lTX0FQUExJRURdKSAhPSBudWxsKSB7XG4gICAgaXNBcHBsaWVkID0gdjtcbiAgICBzZXRJY29uKCk7IC8vIGNoYW5nZSB0aGUgZGVmYXVsdCBpY29uXG4gICAgam9icy5wdXNoKHNldEljb24pOyAvLyBjaGFuZ2UgdGhlIGN1cnJlbnQgdGFicycgaWNvbnNcbiAgfVxuICBpZiAoKHYgPSBjaGFuZ2VzW0tFWV9TSE9XX0JBREdFXSkgIT0gbnVsbCkge1xuICAgIHNob3dCYWRnZSA9IHY7XG4gICAgam9icy5wdXNoKHVwZGF0ZUJhZGdlKTtcbiAgfVxuICBpZiAoKHYgPSBjaGFuZ2VzW0tFWV9CQURHRV9DT0xPUl0pICYmIChiYWRnZUNvbG9yID0gdilcbiAgfHwgKHYgPSBjaGFuZ2VzW0tFWV9CQURHRV9DT0xPUl9CTE9DS0VEXSkgJiYgKGJhZGdlQ29sb3JCbG9ja2VkID0gdikpIHtcbiAgICBqb2JzLnB1c2godXBkYXRlQmFkZ2VDb2xvcik7XG4gIH1cbiAgaWYgKCdibGFja2xpc3QnIGluIGNoYW5nZXMpIHtcbiAgICBqb2JzLnB1c2godXBkYXRlU3RhdGUpO1xuICB9XG4gIGlmIChqb2JzLmxlbmd0aCkge1xuICAgIGZvckVhY2hUYWIodGFiID0+IGpvYnMuZm9yRWFjaChmbiA9PiBmbih0YWIpKSk7XG4gIH1cbn0pO1xuXG5wb3N0SW5pdGlhbGl6ZS5wdXNoKCgpID0+IHtcbiAgaXNBcHBsaWVkID0gZ2V0T3B0aW9uKEtFWV9JU19BUFBMSUVEKTtcbiAgc2hvd0JhZGdlID0gZ2V0T3B0aW9uKEtFWV9TSE9XX0JBREdFKTtcbiAgYmFkZ2VDb2xvciA9IGdldE9wdGlvbihLRVlfQkFER0VfQ09MT1IpO1xuICBiYWRnZUNvbG9yQmxvY2tlZCA9IGdldE9wdGlvbihLRVlfQkFER0VfQ09MT1JfQkxPQ0tFRCk7XG4gIHRpdGxlQmxhY2tsaXN0ZWQgPSBpMThuKCdmYWlsdXJlUmVhc29uQmxhY2tsaXN0ZWQnKTtcbiAgdGl0bGVOb25pbmplY3RhYmxlID0gaTE4bignZmFpbHVyZVJlYXNvbk5vbmluamVjdGFibGUnKTtcbiAgZm9yRWFjaFRhYih1cGRhdGVTdGF0ZSk7XG4gIGlmICghaXNBcHBsaWVkKSBzZXRJY29uKCk7IC8vIHNldHMgdGhlIGRpbW1lZCBpY29uIGFzIGRlZmF1bHRcbn0pO1xuXG5icm93c2VyLnRhYnMub25SZW1vdmVkLmFkZExpc3RlbmVyKChpZCkgPT4ge1xuICBkZWxldGUgYmFkZ2VzW2lkXTtcbn0pO1xuXG5icm93c2VyLnRhYnMub25VcGRhdGVkLmFkZExpc3RlbmVyKCh0YWJJZCwgaW5mbywgdGFiKSA9PiB7XG4gIGNvbnN0IHsgdXJsIH0gPSBpbmZvO1xuICBpZiAoaW5mby5zdGF0dXMgPT09ICdsb2FkaW5nJ1xuICAgICAgLy8gYXQgbGVhc3QgYWJvdXQ6bmV3dGFiIGluIEZpcmVmb3ggbWF5IG9wZW4gd2l0aG91dCAnbG9hZGluZycgc3RhdHVzXG4gICAgICB8fCBpbmZvLmZhdkljb25VcmwgJiYgdGFiLnVybC5zdGFydHNXaXRoKCdhYm91dDonKSkge1xuICAgIHVwZGF0ZVN0YXRlKHRhYiwgdXJsKTtcbiAgfVxufSk7XG5cbmZ1bmN0aW9uIHNldEJhZGdlKGlkcywgeyB0YWIsIGZyYW1lSWQgfSkge1xuICBjb25zdCB0YWJJZCA9IHRhYi5pZDtcbiAgY29uc3QgZGF0YSA9IGJhZGdlc1t0YWJJZF0gfHwge307XG4gIGlmICghZGF0YS5pZE1hcCB8fCBmcmFtZUlkID09PSAwKSB7XG4gICAgLy8gMSkga2VlcGluZyBkYXRhIG9iamVjdCB0byBwcmVzZXJ2ZSBkYXRhLmJsb2NrZWRcbiAgICAvLyAyKSAndG90YWwnIGFuZCAndW5pcXVlJyBtdXN0IG1hdGNoIHNob3dCYWRnZSBpbiBvcHRpb25zLWRlZmF1bHRzLmpzXG4gICAgZGF0YS50b3RhbCA9IDA7XG4gICAgZGF0YS51bmlxdWUgPSAwO1xuICAgIGRhdGEuaWRNYXAgPSB7fTtcbiAgICBiYWRnZXNbdGFiSWRdID0gZGF0YTtcbiAgfVxuICBkYXRhLnRvdGFsICs9IGlkcy5sZW5ndGg7XG4gIGlmIChpZHMpIHtcbiAgICBpZHMuZm9yRWFjaCgoaWQpID0+IHtcbiAgICAgIGRhdGEuaWRNYXBbaWRdID0gMTtcbiAgICB9KTtcbiAgICBkYXRhLnVuaXF1ZSA9IE9iamVjdC5rZXlzKGRhdGEuaWRNYXApLmxlbmd0aDtcbiAgfVxuICB1cGRhdGVCYWRnZUNvbG9yKHRhYiwgZGF0YSk7XG4gIHVwZGF0ZUJhZGdlKHRhYiwgZGF0YSk7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUJhZGdlKHRhYiwgZGF0YSA9IGJhZGdlc1t0YWIuaWRdKSB7XG4gIGlmIChkYXRhKSB7XG4gICAgYnJvd3NlckFjdGlvbi5zZXRCYWRnZVRleHQoe1xuICAgICAgdGV4dDogYCR7ZGF0YVtzaG93QmFkZ2VdIHx8ICcnfWAsXG4gICAgICB0YWJJZDogdGFiLmlkLFxuICAgIH0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUJhZGdlQ29sb3IodGFiLCBkYXRhID0gYmFkZ2VzW3RhYi5pZF0pIHtcbiAgaWYgKGRhdGEpIHtcbiAgICBicm93c2VyQWN0aW9uLnNldEJhZGdlQmFja2dyb3VuZENvbG9yKHtcbiAgICAgIGNvbG9yOiBkYXRhLmJsb2NrZWQgPyBiYWRnZUNvbG9yQmxvY2tlZCA6IGJhZGdlQ29sb3IsXG4gICAgICB0YWJJZDogdGFiLmlkLFxuICAgIH0pO1xuICB9XG59XG5cbi8vIENocm9tZSA3OSsgdXNlcyBwZW5kaW5nVXJsIHdoaWxlIHRoZSB0YWIgY29ubmVjdHMgdG8gdGhlIG5ld2x5IG5hdmlnYXRlZCBVUkxcbi8vIGh0dHBzOi8vZ3JvdXBzLmdvb2dsZS5jb20vYS9jaHJvbWl1bS5vcmcvZm9ydW0vIyF0b3BpYy9jaHJvbWl1bS1leHRlbnNpb25zLzV6dV9QVDBhcmxzXG5mdW5jdGlvbiB1cGRhdGVTdGF0ZSh0YWIsIHVybCA9IHRhYi5wZW5kaW5nVXJsIHx8IHRhYi51cmwpIHtcbiAgY29uc3QgdGFiSWQgPSB0YWIuaWQ7XG4gIGNvbnN0IGluamVjdGFibGUgPSBJTkpFQ1RBQkxFX1RBQl9VUkxfUkUudGVzdCh1cmwpO1xuICBjb25zdCBibGFja2xpc3RlZCA9IGluamVjdGFibGUgPyB0ZXN0QmxhY2tsaXN0KHVybCkgOiB1bmRlZmluZWQ7XG4gIGNvbnN0IHRpdGxlID0gYmxhY2tsaXN0ZWQgJiYgdGl0bGVCbGFja2xpc3RlZCB8fCAhaW5qZWN0YWJsZSAmJiB0aXRsZU5vbmluamVjdGFibGUgfHwgJyc7XG4gIC8vIGlmIHRoZSB1c2VyIHVuYmxhY2tsaXN0ZWQgdGhpcyBwcmV2aW91c2x5IGJsb2NrZWQgdGFiIGluIHNldHRpbmdzLFxuICAvLyBidXQgZGlkbid0IHJlbG9hZCB0aGUgdGFiIHlldCwgd2UgbmVlZCB0byByZXN0b3JlIHRoZSBpY29uIGFuZCB0aGUgdGl0bGVcbiAgaWYgKHRpdGxlIHx8IChiYWRnZXNbdGFiSWRdIHx8IHt9KS5ibG9ja2VkKSB7XG4gICAgYnJvd3NlckFjdGlvbi5zZXRUaXRsZSh7IHRpdGxlLCB0YWJJZCB9KTtcbiAgICBjb25zdCBkYXRhID0gdGl0bGUgPyB7IGJsb2NrZWQ6IHRydWUgfSA6IHt9O1xuICAgIGJhZGdlc1t0YWJJZF0gPSBkYXRhO1xuICAgIHNldEljb24odGFiLCBkYXRhKTtcbiAgICB1cGRhdGVCYWRnZSh0YWIsIGRhdGEpO1xuICB9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHNldEljb24odGFiID0ge30sIGRhdGEgPSB7fSkge1xuICAvLyBtb2Rlcm4gQ2hyb21lIGFuZCBGaXJlZm94IHVzZSAxNi8zMiwgb3RoZXIgYnJvd3NlcnMgbWF5IHN0aWxsIHVzZSAxOS8zOCAoZS5nLiBWaXZhbGRpKVxuICBjb25zdCBtb2QgPSBkYXRhLmJsb2NrZWQgJiYgJ2InIHx8ICFpc0FwcGxpZWQgJiYgJ3cnIHx8ICcnO1xuICBjb25zdCBpY29uRGF0YSA9IHt9O1xuICBmb3IgKGNvbnN0IG4gb2YgWzE2LCAxOSwgMzIsIDM4XSkge1xuICAgIGNvbnN0IHBhdGggPSBgL3B1YmxpYy9pbWFnZXMvaWNvbiR7bn0ke21vZH0ucG5nYDtcbiAgICBsZXQgaWNvbiA9IGljb25DYWNoZSA/IGljb25DYWNoZVtwYXRoXSA6IHBhdGg7XG4gICAgaWYgKCFpY29uKSB7XG4gICAgICBpY29uID0gYXdhaXQgbG9hZEltYWdlRGF0YShwYXRoKTtcbiAgICAgIGljb25DYWNoZVtwYXRoXSA9IGljb247XG4gICAgfVxuICAgIGljb25EYXRhW25dID0gaWNvbjtcbiAgfVxuICBicm93c2VyQWN0aW9uLnNldEljb24oe1xuICAgIHRhYklkOiB0YWIuaWQsXG4gICAgW2ljb25DYWNoZSA/ICdpbWFnZURhdGEnIDogJ3BhdGgnXTogaWNvbkRhdGEsXG4gIH0pO1xufVxuXG5mdW5jdGlvbiBsb2FkSW1hZ2VEYXRhKHBhdGgsIHsgYmFzZTY0IH0gPSB7fSkge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGNvbnN0IGltZyA9IG5ldyBJbWFnZSgpO1xuICAgIGltZy5zcmMgPSBwYXRoO1xuICAgIGltZy5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IGltZztcbiAgICAgIGlmICghd2lkdGgpIHsgLy8gRkYgcmVwb3J0cyAwIGZvciBTVkdcbiAgICAgICAgcmVzb2x2ZShwYXRoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgIGNhbnZhcy53aWR0aCA9IHdpZHRoO1xuICAgICAgY2FudmFzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgIGN0eC5kcmF3SW1hZ2UoaW1nLCAwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgIHJlc29sdmUoYmFzZTY0ID8gY2FudmFzLnRvRGF0YVVSTCgpIDogY3R4LmdldEltYWdlRGF0YSgwLCAwLCB3aWR0aCwgaGVpZ2h0KSk7XG4gICAgfTtcbiAgICBpbWcub25lcnJvciA9IHJlamVjdDtcbiAgfSk7XG59XG4iLCJleHBvcnQgeyBkZWZhdWx0IGFzIGNhY2hlIH0gZnJvbSAnLi9jYWNoZSc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGdldEV2ZW50RW1pdHRlciB9IGZyb20gJy4vZXZlbnRzJztcbmV4cG9ydCAqIGZyb20gJy4vbWVzc2FnZSc7XG5leHBvcnQgKiBmcm9tICcuL29wdGlvbnMnO1xuZXhwb3J0ICogZnJvbSAnLi9zZWFyY2gnO1xuIiwiZXhwb3J0IGNvbnN0IGV4dGVuc2lvblJvb3QgPSBicm93c2VyLnJ1bnRpbWUuZ2V0VVJMKCcvJyk7XG5cbmV4cG9ydCBjb25zdCBwcmVJbml0aWFsaXplID0gW107XG5leHBvcnQgY29uc3QgcG9zdEluaXRpYWxpemUgPSBbXTtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGluaXRpYWxpemUobWFpbikge1xuICBjb25zdCBydW4gPSBpbml0ID0+ICh0eXBlb2YgaW5pdCA9PT0gJ2Z1bmN0aW9uJyA/IGluaXQoKSA6IGluaXQpO1xuICBhd2FpdCBQcm9taXNlLmFsbChwcmVJbml0aWFsaXplLm1hcChydW4pKTtcbiAgYXdhaXQgcnVuKG1haW4pO1xuICBhd2FpdCBQcm9taXNlLmFsbChwb3N0SW5pdGlhbGl6ZS5tYXAocnVuKSk7XG4gIHByZUluaXRpYWxpemUubGVuZ3RoID0gMDtcbiAgcG9zdEluaXRpYWxpemUubGVuZ3RoID0gMDtcbn1cbiIsIi8qIGVzbGludC1kaXNhYmxlICovXG4vKipcbiAqIGNyZWRpdHNcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9Nb21vNzA3NTc3MDQ1L20zdTgtZG93bmxvYWRlclxuICogaHR0cHM6Ly9naXRodWIuY29tL3NoZWxsdm9uL3poLWRvd25sb2FkZXJcbiAqL1xuXG5pbXBvcnQgakJpbmFyeSBmcm9tICdqYmluYXJ5JztcbmltcG9ydCBNUEVHVFMgZnJvbSAnbXBlZ3RzX3RvX21wNC9tcGVndHNfdG9fbXA0L21wZWd0cyc7XG5pbXBvcnQgbXBlZ3RzX3RvX21wNCBmcm9tICdtcGVndHNfdG9fbXA0L21wZWd0c190b19tcDQvaW5kZXgnOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGNhbWVsY2FzZVxuaW1wb3J0IHsgQUVTRGVjcnlwdG9yIH0gZnJvbSAnLi9hZXMtZGVjcnlwdG9yJztcblxubGV0IHRzTGlzdCA9IFtdO1xubGV0IHN0YXR1c0xpc3QgPSBbXTtcbmxldCBtZWRpYUZpbGVMaXN0ID0gW107XG5cbi8vIEFFUyDop4bpopHop6Plr4bphY3nva5cbmNvbnN0IEFFUyA9IHtcbiAgbWV0aG9kOiAnJywgLy8g5Yqg5a+G566X5rOVXG4gIHVyaTogJycsIC8vIGtleSDmiYDlnKjmlofku7bot6/lvoRcbiAgaXY6ICcnLCAvLyDlgY/np7vlgLxcbiAga2V5OiAnJywgLy8g56eY6ZKlXG4gIGRlY3J5cHRvcjogbnVsbCwgLy8g6Kej56CB5Zmo5a+56LGhXG4gIHN0cmluZ1RvQnVmZmVyOiBmdW5jdGlvbiAoc3RyKSB7XG4gICAgcmV0dXJuIG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShzdHIpXG4gIH0sXG59XG5cbmV4cG9ydCBjb25zdCBkb3dubG9hZE0zdTggPSBmdW5jdGlvbiAob3B0cykge1xuICAvLyBjbGVhclxuICB0c0xpc3QgPSBbXTtcbiAgc3RhdHVzTGlzdCA9IFtdO1xuICBtZWRpYUZpbGVMaXN0ID0gW107XG5cbiAgY29uc3QgbTN1OCA9IG9wdHMuZGF0YVswXTtcbiAgY29uc3QgYmFzZVVybCA9IG9wdHMudXJsO1xuICBsZXQgbGltaXQgPSA1O1xuICBtM3U4LnNwbGl0KCdcXG4nKS5mb3JFYWNoKChsaW5lKSA9PiB7XG4gICAgaWYgKGxpbWl0ID4gMCAmJiB0c0xpc3QubGVuZ3RoID49IGxpbWl0KSByZXR1cm47XG4gICAgaWYgKGxpbmUudG9Mb3dlckNhc2UoKS5pbmRleE9mKCcudHMnKSA+IC0xKSB7XG4gICAgICB0c0xpc3QucHVzaCh0c1VybChsaW5lLCBiYXNlVXJsKSk7XG4gICAgICBzdGF0dXNMaXN0LnB1c2goe1xuICAgICAgICB0aXRsZTogbGluZSxcbiAgICAgICAgc3RhdHVzOiAnaW5pdCcsXG4gICAgICB9KVxuICAgIH1cbiAgfSlcblxuICAvLyBjb25zb2xlLmxvZygndHNMaXN0JywgdHNMaXN0KTtcblxuICBpZiAobTN1OC5pbmRleE9mKCcjRVhULVgtS0VZJykgPiAtMSkge1xuICAgIC8vIOinhumikSBBRVMg5Yqg5a+GXG4gICAgQUVTLm1ldGhvZCA9IChtM3U4Lm1hdGNoKC8oLipNRVRIT0Q9KFteLFxcc10rKSkvKSB8fCBbJycsICcnLCAnJ10pWzJdXG4gICAgQUVTLnVyaSA9IChtM3U4Lm1hdGNoKC8oLipVUkk9XCIoW15cIl0rKSlcIi8pIHx8IFsnJywgJycsICcnXSlbMl1cbiAgICBBRVMudXJpID0gdHNVcmwoQUVTLnVyaSwgYmFzZVVybClcbiAgICBBRVMuaXYgPSAobTN1OC5tYXRjaCgvKC4qSVY9KFteLFxcc10rKSkvKSB8fCBbJycsICcnLCAnJ10pWzJdXG4gICAgQUVTLml2ID0gQUVTLml2ID8gQUVTLnN0cmluZ1RvQnVmZmVyKEFFUy5pdikgOiAnJ1xuXG4gICAgLy8g5YWI5LiL6L2956eY6ZKlXG4gICAgZ2V0QUVTKCgpID0+IHtcbiAgICAgIGRvd25sb2FkVFMob3B0cyk7XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAodHNMaXN0Lmxlbmd0aCA+IDApIHtcbiAgICAvLyDlpoLmnpzop4bpopHmsqHliqDlr4bvvIzliJnnm7TmjqXkuIvovb3niYfmrrVcbiAgICBkb3dubG9hZFRTKG9wdHMpO1xuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUuaW5mbygnZW1wdHkgbTN1OCEnKVxuICB9XG59XG5cbmNvbnN0IGdldEFFUyA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICBhamF4KHtcbiAgICB1cmw6IEFFUy51cmksXG4gICAgc3VjY2VzczogKGtleSkgPT4ge1xuICAgICAgQUVTLmtleSA9IGtleVxuICAgICAgQUVTLmRlY3J5cHRvciA9IG5ldyBBRVNEZWNyeXB0b3IoKVxuICAgICAgQUVTLmRlY3J5cHRvci5jb25zdHJ1Y3RvcigpXG4gICAgICBBRVMuZGVjcnlwdG9yLmV4cGFuZEtleShBRVMua2V5KTtcbiAgICAgIGNhbGxiYWNrKClcbiAgICB9LFxuICAgIGZhaWw6ICgpID0+IHtcbiAgICAgIGNvbnNvbGUuaW5mbygn6KeG6aKR5bey6L+b6KGM5a6a5Yi25YyW5Yqg5a+GJylcbiAgICB9LFxuICB9KVxufVxuXG5jb25zdCB0c1VybCA9IGZ1bmN0aW9uICh0c1VyaSwgYmFzZVVSTCkge1xuICBpZiAodHNVcmkuc3RhcnRzV2l0aCgnaHR0cCcpKSB7XG4gICAgcmV0dXJuIHRzVXJpXG4gIH0gZWxzZSBpZiAodHNVcmlbMF0gPT09ICcvJykge1xuICAgIGxldCBkb21haW4gPSBiYXNlVVJMLnNwbGl0KCcvJylcbiAgICByZXR1cm4gZG9tYWluWzBdICsgJy8vJyArIGRvbWFpblsyXSArIHRzVXJpXG4gIH0gZWxzZSB7XG4gICAgbGV0IGRvbWFpbiA9IGJhc2VVUkwuc3BsaXQoJy8nKVxuICAgIGRvbWFpbi5wb3AoKVxuICAgIHJldHVybiBkb21haW4uam9pbignLycpICsgJy8nICsgdHNVcmlcbiAgfVxufVxuXG4vLyB0cyDniYfmrrXnmoQgQUVTIOino+eggVxuY29uc3QgZGVjcnlwdFRzID0gZnVuY3Rpb24gKGRhdGEsIGluZGV4KSB7XG4gIGxldCBpdiA9IEFFUy5pdiB8fCBuZXcgVWludDhBcnJheShbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgaW5kZXhdKVxuICByZXR1cm4gQUVTLmRlY3J5cHRvci5kZWNyeXB0KGRhdGEsIDAsIGl2LmJ1ZmZlciB8fCBpdiwgdHJ1ZSlcbn1cblxuLy8g5LiL6L295YiG54mHXG5jb25zdCBkb3dubG9hZFRTID0gZnVuY3Rpb24gKG9wdHMpIHtcbiAgbGV0IGluZGV4ID0gMDtcbiAgbGV0IHJldHJ5ID0gMDtcbiAgbGV0IGRvd25sb2FkID0gKCkgPT4ge1xuICAgIGNvbnN0IGkgPSBpbmRleDtcbiAgICBpbmRleCsrO1xuICAgIGlmIChpID49IHRzTGlzdC5sZW5ndGgpIHtcbiAgICAgIC8vIGFsbCBzdWNjXG4gICAgICBjb25zdCBwcm9jTGlzdCA9IHN0YXR1c0xpc3QuZmlsdGVyKHMgPT4gWydzdWNjJywgJ2xvYWRpbmcnXS5pbmNsdWRlcyhzLnN0YXR1cykpO1xuICAgICAgaWYgKHByb2NMaXN0Lmxlbmd0aCA9PT0gdHNMaXN0Lmxlbmd0aCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChyZXRyeSA8IDUpIHtcbiAgICAgICAgLy8gcmV0cnkgYWdhaW5cbiAgICAgICAgcmV0cnkgKys7XG4gICAgICAgIGluZGV4ID0gMDtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiBkb3dubG9hZCgpLCAxMDAwKTtcbiAgICAgICAgY29uc29sZS5sb2coJ3JldHJ5JywgcmV0cnksIHByb2NMaXN0Lmxlbmd0aClcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKCdkb3dubG9hZCcsIGkpO1xuICAgIGlmIChzdGF0dXNMaXN0W2ldICYmIFsnZXJyb3InLCAnaW5pdCddLmluY2x1ZGVzKHN0YXR1c0xpc3RbaV0uc3RhdHVzKSkge1xuICAgICAgc3RhdHVzTGlzdFtpXS5zdGF0dXMgPSAnbG9hZGluZydcbiAgICAgIGFqYXgoe1xuICAgICAgICB1cmw6IHRzTGlzdFtpXSxcbiAgICAgICAgc3VjY2VzczogKGRhdGEpID0+IHtcbiAgICAgICAgICBzdGF0dXNMaXN0W2ldLnN0YXR1cyA9ICdzdWNjJ1xuICAgICAgICAgIGRlYWxUUyhkYXRhLCBpLCBvcHRzLCAoKSA9PiB7XG4gICAgICAgICAgICBvcHRzLm9ucHJvZ3Jlc3MobWVkaWFGaWxlTGlzdC5sZW5ndGggLyB0c0xpc3QubGVuZ3RoKVxuICAgICAgICAgICAgZG93bmxvYWQoKVxuICAgICAgICAgIH0pXG4gICAgICAgIH0sXG4gICAgICAgIGZhaWw6IChlKSA9PiB7XG4gICAgICAgICAgLy8gbGV0IGVyciA9IGUuc3RhdHVzVGV4dFxuICAgICAgICAgIGNvbnNvbGUubG9nKHsgZSwgaSB9KTtcbiAgICAgICAgICAvLyB0b2RvOiByZXRyeVxuICAgICAgICAgIHN0YXR1c0xpc3RbaV0uc3RhdHVzID0gJ2Vycm9yJ1xuICAgICAgICAgIGRvd25sb2FkKCk7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfSBlbHNlIHsgLy8g6Lez6L+H5bey57uP5oiQ5Yqf55qE54mH5q61XG4gICAgICBkb3dubG9hZCgpXG4gICAgfVxuICB9XG5cbiAgLy8g5bm26KGMIE7nur/nqIvkuIvovb1cbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IDM7IGlpKyspIHtcbiAgICBkb3dubG9hZCgpXG4gIH1cbn1cblxuY29uc3QgbXA0QnlKYmluYXJ5ID0gKGRhdGFDaHVua3MsIGNhbGxiYWNrKSA9PiB7XG4gIGNvbnN0IGJsb2IgPSBuZXcgQmxvYihkYXRhQ2h1bmtzLm1hcChkYXRhID0+IG5ldyBVaW50OEFycmF5KGRhdGEpKSwgeyB0eXBlOiAndmlkZW8vbXAydCcgfSk7XG4gIGpCaW5hcnkubG9hZChibG9iLCBNUEVHVFMsIChlcnIsIG1wZWd0cykgPT4ge1xuICAgIGlmIChlcnIpIGNvbnNvbGUubG9nKHsgZXJyIH0pO1xuICAgIGNvbnN0IHN0YXJ0ID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgY29uc3QgbXA0T2JqID0gbXBlZ3RzX3RvX21wNChtcGVndHMpO1xuICAgIGNvbnNvbGUubG9nKGBDb252ZXJ0ZWQgZmluaXNoZWQsIHRpbWUgZWxhcHNlZDogJHtuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIHN0YXJ0fW1zYCk7XG4gICAgY29uc3QgZGF0YSA9IHsgZG93bmxvYWRMaW5rOiBtcDRPYmoudG9VUkkoJ3ZpZGVvL21wNCcpIH07XG4gICAgY2FsbGJhY2soZGF0YSk7XG4gIH0pO1xufTtcblxuLy8g5aSE55CGIHRzIOeJh+aute+8jEFFUyDop6Plr4bjgIFtcDQg6L2s56CBXG5jb25zdCBkZWFsVFMgPSBmdW5jdGlvbiAocmF3RGF0YSwgaW5kZXgsIG9wdHMsIGNhbGxiYWNrKSB7XG4gIGNvbnN0IGRhdGEgPSBBRVMudXJpID8gZGVjcnlwdFRzKHJhd0RhdGEsIGluZGV4KSA6IHJhd0RhdGFcbiAgbWVkaWFGaWxlTGlzdFtpbmRleF0gPSBkYXRhO1xuICBpZiAobWVkaWFGaWxlTGlzdC5maWx0ZXIobSA9PiBtIHx8IGZhbHNlKS5sZW5ndGggPT09IHRzTGlzdC5sZW5ndGgpIHtcbiAgICBtcDRCeUpiaW5hcnkobWVkaWFGaWxlTGlzdCwgcmVzID0+IHtcbiAgICAgIGNocm9tZS5kb3dubG9hZHMuZG93bmxvYWQoe1xuICAgICAgICB1cmw6IHJlcy5kb3dubG9hZExpbmssXG4gICAgICAgIGZpbGVuYW1lOiBvcHRzLmZpbGVOYW1lLFxuICAgICAgfSwgZG93bmxvYWRJZCA9PiB7XG4gICAgICAgIG9wdHMub25sb2FkKClcbiAgICAgIH0pO1xuICAgIH0pXG4gIH1cbiAgY2FsbGJhY2sgJiYgY2FsbGJhY2soKVxufVxuXG5jb25zdCBhamF4ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIGxldCB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgeGhyLnJlc3BvbnNlVHlwZSA9ICdhcnJheWJ1ZmZlcic7XG5cbiAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoeGhyLnJlYWR5U3RhdGUgPT09IDQpIHtcbiAgICAgIGxldCBzdGF0dXMgPSB4aHIuc3RhdHVzO1xuICAgICAgaWYgKHN0YXR1cyA+PSAyMDAgJiYgc3RhdHVzIDwgMzAwKSB7XG4gICAgICAgIG9wdGlvbnMuc3VjY2VzcyAmJiBvcHRpb25zLnN1Y2Nlc3MoeGhyLnJlc3BvbnNlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9wdGlvbnMuZmFpbCAmJiBvcHRpb25zLmZhaWwoc3RhdHVzKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgeGhyLm9wZW4oXCJHRVRcIiwgb3B0aW9ucy51cmwsIHRydWUpO1xuICB4aHIuc2VuZChudWxsKTtcbn0iLCJpbXBvcnQgeyBkZWZhdWx0SW1hZ2UsIGkxOG4sIG5vb3AgfSBmcm9tICcjL2NvbW1vbic7XG5cbmV4cG9ydCBjb25zdCBjb21tYW5kcyA9IHt9O1xuXG5leHBvcnQgZnVuY3Rpb24gbm90aWZ5KG9wdGlvbnMpIHtcbiAgYnJvd3Nlci5ub3RpZmljYXRpb25zLmNyZWF0ZShvcHRpb25zLmlkIHx8ICdWaW9sZW50TW9ua2V5Jywge1xuICAgIHR5cGU6ICdiYXNpYycsXG4gICAgaWNvblVybDogZGVmYXVsdEltYWdlLFxuICAgIHRpdGxlOiBgJHtvcHRpb25zLnRpdGxlfSAtICR7aTE4bignZXh0TmFtZScpfWAsXG4gICAgbWVzc2FnZTogb3B0aW9ucy5ib2R5LFxuICAgIGlzQ2xpY2thYmxlOiBvcHRpb25zLmlzQ2xpY2thYmxlLFxuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJyb2FkY2FzdChkYXRhKSB7XG4gIGZvckVhY2hUYWIoKHRhYikgPT4ge1xuICAgIGJyb3dzZXIudGFicy5zZW5kTWVzc2FnZSh0YWIuaWQsIGRhdGEpXG4gICAgLmNhdGNoKG5vb3ApO1xuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlbmRNZXNzYWdlT3JJZ25vcmUoLi4uYXJncykge1xuICByZXR1cm4gYnJvd3Nlci5ydW50aW1lLnNlbmRNZXNzYWdlKC4uLmFyZ3MpLmNhdGNoKG5vb3ApO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZm9yRWFjaFRhYihjYWxsYmFjaykge1xuICBjb25zdCB0YWJzID0gYXdhaXQgYnJvd3Nlci50YWJzLnF1ZXJ5KHt9KTtcbiAgbGV0IGkgPSAwO1xuICBmb3IgKGNvbnN0IHRhYiBvZiB0YWJzKSB7XG4gICAgY2FsbGJhY2sodGFiKTtcbiAgICBpICs9IDE7XG4gICAgLy8gd2UnbGwgcnVuIGF0IG1vc3QgdGhpcyBtYW55IHRhYnMgaW4gb25lIGV2ZW50IGxvb3AgY3ljbGVcbiAgICAvLyBiZWNhdXNlIGh1bmRyZWRzIG9mIHRhYnMgd291bGQgbWFrZSBvdXIgZXh0ZW5zaW9uIHByb2Nlc3MgdW5yZXNwb25zaXZlLFxuICAgIC8vIHRoZSBzYW1lIHByb2Nlc3MgdXNlZCBieSBvdXIgb3duIHBhZ2VzIGxpa2UgdGhlIGJhY2tncm91bmQgcGFnZSwgZGFzaGJvYXJkLCBvciBwb3B1cHNcbiAgICBpZiAoaSAlIDIwID09PSAwKSBhd2FpdCBuZXcgUHJvbWlzZShzZXRUaW1lb3V0KTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgaTE4biwgZGVmYXVsdEltYWdlLCBzZW5kVGFiQ21kIH0gZnJvbSAnIy9jb21tb24nO1xuaW1wb3J0IHsgY29tbWFuZHMgfSBmcm9tICcuL21lc3NhZ2UnO1xuXG5jb25zdCBvcGVuZXJzID0ge307XG5cbk9iamVjdC5hc3NpZ24oY29tbWFuZHMsIHtcbiAgLyoqIEByZXR1cm4ge1Byb21pc2U8c3RyaW5nPn0gKi9cbiAgYXN5bmMgTm90aWZpY2F0aW9uKGRhdGEsIHNyYywgYmdFeHRyYXMpIHtcbiAgICBjb25zdCBub3RpZmljYXRpb25JZCA9IGF3YWl0IGJyb3dzZXIubm90aWZpY2F0aW9ucy5jcmVhdGUoe1xuICAgICAgdHlwZTogJ2Jhc2ljJyxcbiAgICAgIHRpdGxlOiBkYXRhLnRpdGxlIHx8IChJU19GSVJFRk9YID8gaTE4bignZXh0TmFtZScpIDogJycpLCAvLyBDaHJvbWUgYWxyZWFkeSBzaG93cyB0aGUgbmFtZVxuICAgICAgbWVzc2FnZTogZGF0YS50ZXh0LFxuICAgICAgaWNvblVybDogZGF0YS5pbWFnZSB8fCBkZWZhdWx0SW1hZ2UsXG4gICAgfSk7XG4gICAgb3BlbmVyc1tub3RpZmljYXRpb25JZF0gPSBiZ0V4dHJhcz8ub25DbGljayB8fCBzcmMudGFiLmlkO1xuICAgIHJldHVybiBub3RpZmljYXRpb25JZDtcbiAgfSxcbiAgUmVtb3ZlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbklkKSB7XG4gICAgcmV0dXJuIGJyb3dzZXIubm90aWZpY2F0aW9ucy5jbGVhcihub3RpZmljYXRpb25JZCk7XG4gIH0sXG59KTtcblxuYnJvd3Nlci5ub3RpZmljYXRpb25zLm9uQ2xpY2tlZC5hZGRMaXN0ZW5lcigoaWQpID0+IHtcbiAgY29uc3Qgb3BlbmVySWQgPSBvcGVuZXJzW2lkXTtcbiAgaWYgKG9wZW5lcklkID49IDApIHtcbiAgICBzZW5kVGFiQ21kKG9wZW5lcklkLCAnTm90aWZpY2F0aW9uQ2xpY2snLCBpZCk7XG4gIH1cbiAgaWYgKHR5cGVvZiBvcGVuZXJJZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIG9wZW5lcklkKCk7XG4gIH1cbn0pO1xuXG5icm93c2VyLm5vdGlmaWNhdGlvbnMub25DbG9zZWQuYWRkTGlzdGVuZXIoKGlkKSA9PiB7XG4gIGNvbnN0IG9wZW5lcklkID0gb3BlbmVyc1tpZF07XG4gIGRlbGV0ZSBvcGVuZXJzW2lkXTtcbiAgaWYgKG9wZW5lcklkID49IDApIHtcbiAgICBzZW5kVGFiQ21kKG9wZW5lcklkLCAnTm90aWZpY2F0aW9uQ2xvc2UnLCBpZCk7XG4gIH1cbn0pO1xuIiwiaW1wb3J0IHtcbiAgZGVib3VuY2UsIGVuc3VyZUFycmF5LCBpbml0SG9va3MsIG5vcm1hbGl6ZUtleXMsXG59IGZyb20gJyMvY29tbW9uJztcbmltcG9ydCB7IG1hcEVudHJ5LCBvYmplY3RHZXQsIG9iamVjdFNldCB9IGZyb20gJyMvY29tbW9uL29iamVjdCc7XG5pbXBvcnQgZGVmYXVsdHMgZnJvbSAnIy9jb21tb24vb3B0aW9ucy1kZWZhdWx0cyc7XG5pbXBvcnQgeyBwcmVJbml0aWFsaXplIH0gZnJvbSAnLi9pbml0JztcbmltcG9ydCB7IGNvbW1hbmRzIH0gZnJvbSAnLi9tZXNzYWdlJztcblxuT2JqZWN0LmFzc2lnbihjb21tYW5kcywge1xuICAvKiogQHJldHVybiB7T2JqZWN0fSAqL1xuICBHZXRBbGxPcHRpb25zKCkge1xuICAgIHJldHVybiBjb21tYW5kcy5HZXRPcHRpb25zKGRlZmF1bHRzKTtcbiAgfSxcbiAgLyoqIEByZXR1cm4ge09iamVjdH0gKi9cbiAgR2V0T3B0aW9ucyhkYXRhKSB7XG4gICAgcmV0dXJuIGRhdGE6Om1hcEVudHJ5KChba2V5XSkgPT4gZ2V0T3B0aW9uKGtleSkpO1xuICB9LFxuICAvKiogQHJldHVybiB7dm9pZH0gKi9cbiAgU2V0T3B0aW9ucyhkYXRhKSB7XG4gICAgZW5zdXJlQXJyYXkoZGF0YSkuZm9yRWFjaChpdGVtID0+IHNldE9wdGlvbihpdGVtLmtleSwgaXRlbS52YWx1ZSkpO1xuICB9LFxufSk7XG5cbmxldCBjaGFuZ2VzID0ge307XG5jb25zdCBob29rcyA9IGluaXRIb29rcygpO1xuY29uc3QgY2FsbEhvb2tzTGF0ZXIgPSBkZWJvdW5jZShjYWxsSG9va3MsIDEwMCk7XG5cbmxldCBvcHRpb25zID0ge307XG5sZXQgaW5pdFBlbmRpbmcgPSBicm93c2VyLnN0b3JhZ2UubG9jYWwuZ2V0KCdvcHRpb25zJylcbi50aGVuKCh7IG9wdGlvbnM6IGRhdGEgfSkgPT4ge1xuICBpZiAoZGF0YSAmJiB0eXBlb2YgZGF0YSA9PT0gJ29iamVjdCcpIG9wdGlvbnMgPSBkYXRhO1xuICBpZiAocHJvY2Vzcy5lbnYuREVCVUcpIHtcbiAgICBjb25zb2xlLmxvZygnb3B0aW9uczonLCBvcHRpb25zKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXG4gIH1cbiAgaWYgKCFvYmplY3RHZXQob3B0aW9ucywgJ3ZlcnNpb24nKSkge1xuICAgIHNldE9wdGlvbigndmVyc2lvbicsIDEpO1xuICB9XG4gIGluaXRQZW5kaW5nID0gbnVsbDtcbn0pO1xucHJlSW5pdGlhbGl6ZS5wdXNoKGluaXRQZW5kaW5nKTtcblxuZnVuY3Rpb24gZmlyZUNoYW5nZShrZXlzLCB2YWx1ZSkge1xuICAvLyBGbGF0dGVuaW5nIGtleSBwYXRoIHNvIHRoZSBzdWJzY3JpYmVycyBjYW4gdXBkYXRlIG5lc3RlZCB2YWx1ZXMgd2l0aG91dCBvdmVyd3JpdGluZyB0aGUgcGFyZW50XG4gIGNvbnN0IGtleSA9IGtleXMuam9pbignLicpO1xuICAvLyBFbnN1cmluZyB0aGUgY29ycmVjdCBvcmRlciB3aGVuIHVwZGF0ZXMgd2VyZSBtaXhlZCBsaWtlIHRoaXM6IGZvby5iYXI9MTsgZm9vPXtiYXI6Mn07IGZvby5iYXI9M1xuICBkZWxldGUgY2hhbmdlc1trZXldO1xuICBjaGFuZ2VzW2tleV0gPSB2YWx1ZTtcbiAgY2FsbEhvb2tzTGF0ZXIoKTtcbn1cblxuZnVuY3Rpb24gY2FsbEhvb2tzKCkge1xuICBob29rcy5maXJlKGNoYW5nZXMpO1xuICBjaGFuZ2VzID0ge307XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRPcHRpb24oa2V5LCBkZWYpIHtcbiAgY29uc3Qga2V5cyA9IG5vcm1hbGl6ZUtleXMoa2V5KTtcbiAgY29uc3QgbWFpbktleSA9IGtleXNbMF07XG4gIGxldCB2YWx1ZSA9IG9wdGlvbnNbbWFpbktleV07XG4gIGlmICh2YWx1ZSA9PSBudWxsKSB2YWx1ZSA9IGRlZmF1bHRzW21haW5LZXldO1xuICBpZiAodmFsdWUgPT0gbnVsbCkgdmFsdWUgPSBkZWY7XG4gIHJldHVybiBrZXlzLmxlbmd0aCA+IDEgPyBvYmplY3RHZXQodmFsdWUsIGtleXMuc2xpY2UoMSksIGRlZikgOiB2YWx1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldERlZmF1bHRPcHRpb24oa2V5KSB7XG4gIHJldHVybiBvYmplY3RHZXQoZGVmYXVsdHMsIGtleSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRPcHRpb24oa2V5LCB2YWx1ZSkge1xuICBpZiAoaW5pdFBlbmRpbmcpIHtcbiAgICBpbml0UGVuZGluZy50aGVuKCgpID0+IHtcbiAgICAgIHNldE9wdGlvbihrZXksIHZhbHVlKTtcbiAgICB9KTtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3Qga2V5cyA9IG5vcm1hbGl6ZUtleXMoa2V5KTtcbiAgY29uc3Qgb3B0aW9uS2V5ID0ga2V5cy5qb2luKCcuJyk7XG4gIGxldCBvcHRpb25WYWx1ZSA9IHZhbHVlO1xuICBjb25zdCBtYWluS2V5ID0ga2V5c1swXTtcbiAgaWYgKG1haW5LZXkgaW4gZGVmYXVsdHMpIHtcbiAgICBpZiAoa2V5cy5sZW5ndGggPiAxKSB7XG4gICAgICBvcHRpb25WYWx1ZSA9IG9iamVjdFNldChnZXRPcHRpb24obWFpbktleSksIGtleXMuc2xpY2UoMSksIHZhbHVlKTtcbiAgICB9XG4gICAgb3B0aW9uc1ttYWluS2V5XSA9IG9wdGlvblZhbHVlO1xuICAgIGJyb3dzZXIuc3RvcmFnZS5sb2NhbC5zZXQoeyBvcHRpb25zIH0pO1xuICAgIGZpcmVDaGFuZ2Uoa2V5cywgdmFsdWUpO1xuICAgIGlmIChwcm9jZXNzLmVudi5ERUJVRykge1xuICAgICAgY29uc29sZS5sb2coJ09wdGlvbnMgdXBkYXRlZDonLCBvcHRpb25LZXksIHZhbHVlLCBvcHRpb25zKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjb25zdCBob29rT3B0aW9ucyA9IGhvb2tzLmhvb2s7XG4iLCJpbXBvcnQgeyBwYXJzZU1ldGEgfSBmcm9tICcuL3NjcmlwdCc7XG5pbXBvcnQgc3RvcmFnZSBmcm9tICcjL2NvbW1vbi9zdG9yYWdlJztcblxuZXhwb3J0IGRlZmF1bHQgKCkgPT4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICBjb25zb2xlLmluZm8oJ1VwZ3JhZGUgZGF0YWJhc2UuLi4nKTtcbiAgaW5pdCgpO1xuICBmdW5jdGlvbiBpbml0KCkge1xuICAgIGNvbnN0IHJlcSA9IGluZGV4ZWREQi5vcGVuKCdWaW9sZW50bW9ua2V5JywgMSk7XG4gICAgcmVxLm9uc3VjY2VzcyA9ICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRyYW5zZm9ybShyZXEucmVzdWx0KTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAvLyBUaGlzIHNob3VsZCBub3QgaGFwcGVuLCBidXQgZGlkIGhhcHBlbiBpbiBGaXJlZm94LlxuICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHJlcS5vbmVycm9yID0gcmVqZWN0O1xuICAgIHJlcS5vbnVwZ3JhZGVuZWVkZWQgPSAoKSA9PiB7XG4gICAgICAvLyBObyBhdmFpbGFibGUgdXBncmFkYXRpb25cbiAgICAgIHJlamVjdCgpO1xuICAgIH07XG4gIH1cbiAgZnVuY3Rpb24gdHJhbnNmb3JtKGRiKSB7XG4gICAgY29uc3QgdHggPSBkYi50cmFuc2FjdGlvbihbJ3NjcmlwdHMnLCAncmVxdWlyZScsICdjYWNoZScsICd2YWx1ZXMnXSk7XG4gICAgY29uc3QgdXBkYXRlcyA9IHt9O1xuICAgIGxldCBwcm9jZXNzaW5nID0gMztcbiAgICBjb25zdCBkb25lID0gKCkgPT4ge1xuICAgICAgcHJvY2Vzc2luZyAtPSAxO1xuICAgICAgaWYgKCFwcm9jZXNzaW5nKSByZXNvbHZlKGJyb3dzZXIuc3RvcmFnZS5sb2NhbC5zZXQodXBkYXRlcykpO1xuICAgIH07XG4gICAgY29uc3QgZ2V0QWxsID0gKHN0b3JlTmFtZSwgY2FsbGJhY2spID0+IHtcbiAgICAgIGNvbnN0IHJlcSA9IHR4Lm9iamVjdFN0b3JlKHN0b3JlTmFtZSkuZ2V0QWxsKCk7XG4gICAgICByZXEub25zdWNjZXNzID0gKCkgPT4gY2FsbGJhY2socmVxLnJlc3VsdCk7XG4gICAgICByZXEub25lcnJvciA9IHJlamVjdDtcbiAgICB9O1xuICAgIGdldEFsbCgnc2NyaXB0cycsIChhbGxTY3JpcHRzKSA9PiB7XG4gICAgICBjb25zdCB1cmlNYXAgPSB7fTtcbiAgICAgIGFsbFNjcmlwdHMuZm9yRWFjaCgoc2NyaXB0KSA9PiB7XG4gICAgICAgIGNvbnN0IHsgY29kZSwgaWQsIHVyaSB9ID0gc2NyaXB0O1xuICAgICAgICB1cGRhdGVzW2Ake3N0b3JhZ2Uuc2NyaXB0LnByZWZpeH0ke2lkfWBdID0gdHJhbnNmb3JtU2NyaXB0KHNjcmlwdCk7XG4gICAgICAgIHVwZGF0ZXNbYCR7c3RvcmFnZS5jb2RlLnByZWZpeH0ke2lkfWBdID0gY29kZTtcbiAgICAgICAgdXJpTWFwW3VyaV0gPSBpZDtcbiAgICAgIH0pO1xuICAgICAgZ2V0QWxsKCd2YWx1ZXMnLCAoYWxsVmFsdWVzKSA9PiB7XG4gICAgICAgIGFsbFZhbHVlcy5mb3JFYWNoKCh7IHVyaSwgdmFsdWVzIH0pID0+IHtcbiAgICAgICAgICBjb25zdCBpZCA9IHVyaU1hcFt1cmldO1xuICAgICAgICAgIGlmIChpZCkgdXBkYXRlc1tgJHtzdG9yYWdlLnZhbHVlLnByZWZpeH0ke2lkfWBdID0gdmFsdWVzO1xuICAgICAgICB9KTtcbiAgICAgICAgZG9uZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgZ2V0QWxsKCdjYWNoZScsIChhbGxDYWNoZSkgPT4ge1xuICAgICAgYWxsQ2FjaGUuZm9yRWFjaCgoeyB1cmksIGRhdGEgfSkgPT4ge1xuICAgICAgICB1cGRhdGVzW2Ake3N0b3JhZ2UuY2FjaGUucHJlZml4fSR7dXJpfWBdID0gZGF0YTtcbiAgICAgIH0pO1xuICAgICAgZG9uZSgpO1xuICAgIH0pO1xuICAgIGdldEFsbCgncmVxdWlyZScsIChhbGxSZXF1aXJlKSA9PiB7XG4gICAgICBhbGxSZXF1aXJlLmZvckVhY2goKHsgdXJpLCBjb2RlIH0pID0+IHtcbiAgICAgICAgdXBkYXRlc1tgJHtzdG9yYWdlLnJlcXVpcmUucHJlZml4fSR7dXJpfWBdID0gY29kZTtcbiAgICAgIH0pO1xuICAgICAgZG9uZSgpO1xuICAgIH0pO1xuICB9XG4gIGZ1bmN0aW9uIHRyYW5zZm9ybVNjcmlwdChzY3JpcHQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbWV0YTogcGFyc2VNZXRhKHNjcmlwdC5jb2RlKSxcbiAgICAgIGN1c3RvbTogT2JqZWN0LmFzc2lnbih7XG4gICAgICAgIG9yaWdJbmNsdWRlOiB0cnVlLFxuICAgICAgICBvcmlnRXhjbHVkZTogdHJ1ZSxcbiAgICAgICAgb3JpZ01hdGNoOiB0cnVlLFxuICAgICAgICBvcmlnRXhjbHVkZU1hdGNoOiB0cnVlLFxuICAgICAgfSwgc2NyaXB0LmN1c3RvbSksXG4gICAgICBwcm9wczoge1xuICAgICAgICBpZDogc2NyaXB0LmlkLFxuICAgICAgICB1cmk6IHNjcmlwdC51cmksXG4gICAgICAgIHBvc2l0aW9uOiBzY3JpcHQucG9zaXRpb24sXG4gICAgICB9LFxuICAgICAgY29uZmlnOiB7XG4gICAgICAgIGVuYWJsZWQ6IHNjcmlwdC5lbmFibGVkLFxuICAgICAgICBzaG91bGRVcGRhdGU6IHNjcmlwdC51cGRhdGUsXG4gICAgICB9LFxuICAgIH07XG4gIH1cbn0pXG4vLyBJZ25vcmUgZXJyb3Jcbi5jYXRjaCgoKSA9PiB7fSk7XG4iLCJpbXBvcnQgeyBnZXRBY3RpdmVUYWIsIHNlbmRUYWJDbWQgfSBmcm9tICcjL2NvbW1vbic7XG5pbXBvcnQgY2FjaGUgZnJvbSAnLi9jYWNoZSc7XG5pbXBvcnQgeyBnZXREYXRhIH0gZnJvbSAnLi9kYic7XG5pbXBvcnQgeyBwb3N0SW5pdGlhbGl6ZSB9IGZyb20gJy4vaW5pdCc7XG5pbXBvcnQgeyBjb21tYW5kcyB9IGZyb20gJy4vbWVzc2FnZSc7XG5cbmV4cG9ydCBjb25zdCBwb3B1cFRhYnMgPSB7fTsgLy8geyB0YWJJZDogMSB9XG5cbnBvc3RJbml0aWFsaXplLnB1c2goKCkgPT4ge1xuICBicm93c2VyLnJ1bnRpbWUub25Db25uZWN0LmFkZExpc3RlbmVyKG9uUG9wdXBPcGVuZWQpO1xuICBicm93c2VyLndlYlJlcXVlc3Qub25CZWZvcmVSZXF1ZXN0LmFkZExpc3RlbmVyKHByZWZldGNoU2V0UG9wdXAsIHtcbiAgICB1cmxzOiBbYnJvd3Nlci5ydW50aW1lLmdldFVSTChicm93c2VyLnJ1bnRpbWUuZ2V0TWFuaWZlc3QoKS5icm93c2VyX2FjdGlvbi5kZWZhdWx0X3BvcHVwKV0sXG4gICAgdHlwZXM6IFsnbWFpbl9mcmFtZSddLFxuICB9KTtcbn0pO1xuXG5mdW5jdGlvbiBvblBvcHVwT3BlbmVkKHBvcnQpIHtcbiAgY29uc3QgdGFiSWQgPSArcG9ydC5uYW1lO1xuICBwb3B1cFRhYnNbdGFiSWRdID0gMTtcbiAgc2VuZFRhYkNtZCh0YWJJZCwgJ1BvcHVwU2hvd24nLCB0cnVlKTtcbiAgcG9ydC5vbkRpc2Nvbm5lY3QuYWRkTGlzdGVuZXIob25Qb3B1cENsb3NlZCk7XG4gIGRlbGV0ZSBjb21tYW5kcy5TZXRQb3B1cDtcbn1cblxuZnVuY3Rpb24gb25Qb3B1cENsb3NlZCh7IG5hbWUgfSkge1xuICBkZWxldGUgcG9wdXBUYWJzW25hbWVdO1xuICBzZW5kVGFiQ21kKCtuYW1lLCAnUG9wdXBTaG93bicsIGZhbHNlKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gcHJlZmV0Y2hTZXRQb3B1cCgpIHtcbiAgY29uc3QgdGFiSWQgPSAoYXdhaXQgZ2V0QWN0aXZlVGFiKCkpLmlkO1xuICBzZW5kVGFiQ21kKHRhYklkLCAnUG9wdXBTaG93bicsIHRydWUpO1xuICBjb21tYW5kcy5TZXRQb3B1cCA9IGFzeW5jIChkYXRhLCBzcmMpID0+IHtcbiAgICBPYmplY3QuYXNzaWduKGRhdGEsIGF3YWl0IGdldERhdGEoZGF0YS5pZHMpKTtcbiAgICBjYWNoZS5wdXQoJ1NldFBvcHVwJywgT2JqZWN0LmFzc2lnbih7IFtzcmMuZnJhbWVJZF06IFtkYXRhLCBzcmNdIH0sIGNhY2hlLmdldCgnU2V0UG9wdXAnKSkpO1xuICB9O1xufVxuIiwiaW1wb3J0IHsgZ2V0U2NyaXB0TmFtZSwgZ2V0VW5pcUlkIH0gZnJvbSAnIy9jb21tb24nO1xuaW1wb3J0IHtcbiAgSU5KRUNUX0FVVE8sIElOSkVDVF9DT05URU5ULCBJTkpFQ1RfTUFQUElORyxcbiAgSU5KRUNUQUJMRV9UQUJfVVJMX1JFLCBNRVRBQkxPQ0tfUkUsXG59IGZyb20gJyMvY29tbW9uL2NvbnN0cyc7XG5pbXBvcnQgaW5pdENhY2hlIGZyb20gJyMvY29tbW9uL2NhY2hlJztcbmltcG9ydCB7IGZvckVhY2hFbnRyeSwgb2JqZWN0UGljaywgb2JqZWN0U2V0IH0gZnJvbSAnIy9jb21tb24vb2JqZWN0JztcbmltcG9ydCBzdG9yYWdlIGZyb20gJyMvY29tbW9uL3N0b3JhZ2UnO1xuaW1wb3J0IHVhIGZyb20gJyMvY29tbW9uL3VhJztcbmltcG9ydCB7IGdldFNjcmlwdHNCeVVSTCwgRU5WX0NBQ0hFX0tFWVMsIEVOVl9SRVFfS0VZUywgRU5WX1ZBTFVFX0lEUyB9IGZyb20gJy4vZGInO1xuaW1wb3J0IHsgZXh0ZW5zaW9uUm9vdCwgcG9zdEluaXRpYWxpemUgfSBmcm9tICcuL2luaXQnO1xuaW1wb3J0IHsgY29tbWFuZHMgfSBmcm9tICcuL21lc3NhZ2UnO1xuaW1wb3J0IHsgZ2V0T3B0aW9uLCBob29rT3B0aW9ucyB9IGZyb20gJy4vb3B0aW9ucyc7XG5cbmNvbnN0IEFQSV9DT05GSUcgPSB7XG4gIHVybHM6IFsnKjovLyovKiddLCAvLyBgKmAgc2NoZW1lIG1hdGNoZXMgb25seSBodHRwIGFuZCBodHRwc1xuICB0eXBlczogWydtYWluX2ZyYW1lJywgJ3N1Yl9mcmFtZSddLFxufTtcbmNvbnN0IFRJTUVfQUZURVJfU0VORCA9IDEwZTM7IC8vIGxvbmdlciBhcyBlc3RhYmxpc2hpbmcgY29ubmVjdGlvbiB0byBzaXRlcyBtYXkgdGFrZSB0aW1lXG5jb25zdCBUSU1FX0FGVEVSX1JFQ0VJVkUgPSAxZTM7IC8vIHNob3J0ZXIgYXMgcmVzcG9uc2UgYm9keSB3aWxsIGJlIGNvbWluZyB2ZXJ5IHNvb25cbmNvbnN0IFRJTUVfS0VFUF9EQVRBID0gNjBlMzsgLy8gMTAwbXMgc2hvdWxkIGJlIGVub3VnaCBidXQgdGhlIHRhYiBtYXkgaGFuZyBvciBnZXQgcGF1c2VkIGluIGRlYnVnZ2VyXG5jb25zdCBjYWNoZUNvZGUgPSBpbml0Q2FjaGUoeyBsaWZldGltZTogVElNRV9LRUVQX0RBVEEgfSk7XG5jb25zdCBjYWNoZSA9IGluaXRDYWNoZSh7XG4gIGxpZmV0aW1lOiBUSU1FX0tFRVBfREFUQSxcbiAgb25EaXNwb3NlOiBhc3luYyBwcm9taXNlID0+IHtcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcHJvbWlzZTtcbiAgICBjb25zdCByY3MgPSBhd2FpdCBkYXRhPy5yY3NQcm9taXNlO1xuICAgIHJjcz8udW5yZWdpc3RlcigpO1xuICB9LFxufSk7XG5jb25zdCBJTkpFQ1RfSU5UTyA9ICdpbmplY3RJbnRvJztcbi8vIEtFWV9YWFggZm9yIGhvb2tlZCBvcHRpb25zXG5jb25zdCBLRVlfRVhQT1NFID0gJ2V4cG9zZSc7XG5jb25zdCBLRVlfREVGX0lOSkVDVF9JTlRPID0gJ2RlZmF1bHRJbmplY3RJbnRvJztcbmNvbnN0IEtFWV9JU19BUFBMSUVEID0gJ2lzQXBwbGllZCc7XG5jb25zdCBLRVlfWEhSX0lOSkVDVCA9ICd4aHJJbmplY3QnO1xuY29uc3QgZXhwb3NlID0ge307XG5sZXQgaXNBcHBsaWVkO1xubGV0IGluamVjdEludG87XG5sZXQgeGhySW5qZWN0O1xuaG9va09wdGlvbnMob25PcHRpb25DaGFuZ2VkKTtcbnBvc3RJbml0aWFsaXplLnB1c2goKCkgPT4ge1xuICBmb3IgKGNvbnN0IGtleSBvZiBbS0VZX0VYUE9TRSwgS0VZX0RFRl9JTkpFQ1RfSU5UTywgS0VZX0lTX0FQUExJRUQsIEtFWV9YSFJfSU5KRUNUXSkge1xuICAgIG9uT3B0aW9uQ2hhbmdlZCh7IFtrZXldOiBnZXRPcHRpb24oa2V5KSB9KTtcbiAgfVxufSk7XG5cbk9iamVjdC5hc3NpZ24oY29tbWFuZHMsIHtcbiAgYXN5bmMgSW5qZWN0aW9uRmVlZGJhY2soeyBmZWVkSWQsIGZlZWRiYWNrLCBmb3JjZUNvbnRlbnQgfSwgc3JjKSB7XG4gICAgZmVlZGJhY2suZm9yRWFjaChwcm9jZXNzRmVlZGJhY2ssIHNyYyk7XG4gICAgaWYgKGZlZWRJZCkge1xuICAgICAgLy8gY2FjaGUgY2xlYW51cCB3aGVuIGdldERhdGFGRiBvdXRydW5zIEdldEluamVjdGVkXG4gICAgICBjYWNoZS5kZWwoZmVlZElkLmNhY2hlS2V5KTtcbiAgICAgIC8vIGVudkRlbGF5ZWRcbiAgICAgIGNvbnN0IGVudiA9IGF3YWl0IGNhY2hlLnBvcChmZWVkSWQuZW52S2V5KTtcbiAgICAgIGlmIChlbnYpIHtcbiAgICAgICAgZW52LmZvcmNlQ29udGVudCA9IGZvcmNlQ29udGVudDtcbiAgICAgICAgZW52LnNjcmlwdHMubWFwKHByZXBhcmVTY3JpcHQsIGVudikuZmlsdGVyKEJvb2xlYW4pLmZvckVhY2gocHJvY2Vzc0ZlZWRiYWNrLCBzcmMpO1xuICAgICAgICByZXR1cm4gb2JqZWN0UGljayhlbnYsIFsnY2FjaGUnLCAnc2NyaXB0cyddKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG59KTtcblxuLyoqIEB0aGlzIHtjaHJvbWUucnVudGltZS5NZXNzYWdlU2VuZGVyfSAqL1xuZnVuY3Rpb24gcHJvY2Vzc0ZlZWRiYWNrKFtrZXksIG5lZWRzSW5qZWN0aW9uXSkge1xuICBjb25zdCBjb2RlID0gY2FjaGVDb2RlLnBvcChrZXkpO1xuICAvLyBzZWUgVElNRV9LRUVQX0RBVEEgY29tbWVudFxuICBpZiAobmVlZHNJbmplY3Rpb24gJiYgY29kZSkge1xuICAgIGJyb3dzZXIudGFicy5leGVjdXRlU2NyaXB0KHRoaXMudGFiLmlkLCB7XG4gICAgICBjb2RlLFxuICAgICAgZnJhbWVJZDogdGhpcy5mcmFtZUlkLFxuICAgICAgcnVuQXQ6ICdkb2N1bWVudF9zdGFydCcsXG4gICAgfSk7XG4gIH1cbn1cblxuY29uc3QgcHJvcHNUb0NsZWFyID0ge1xuICBbc3RvcmFnZS5jYWNoZS5wcmVmaXhdOiBFTlZfQ0FDSEVfS0VZUyxcbiAgW3N0b3JhZ2UuY29kZS5wcmVmaXhdOiB0cnVlLFxuICBbc3RvcmFnZS5yZXF1aXJlLnByZWZpeF06IEVOVl9SRVFfS0VZUyxcbiAgW3N0b3JhZ2Uuc2NyaXB0LnByZWZpeF06IHRydWUsXG4gIFtzdG9yYWdlLnZhbHVlLnByZWZpeF06IEVOVl9WQUxVRV9JRFMsXG59O1xuXG5icm93c2VyLnN0b3JhZ2Uub25DaGFuZ2VkLmFkZExpc3RlbmVyKGFzeW5jIGNoYW5nZXMgPT4ge1xuICBjb25zdCBkYktleXMgPSBPYmplY3Qua2V5cyhjaGFuZ2VzKTtcbiAgY29uc3QgY2FjaGVWYWx1ZXMgPSBhd2FpdCBQcm9taXNlLmFsbChjYWNoZS5nZXRWYWx1ZXMoKSk7XG4gIGNvbnN0IGRpcnR5ID0gY2FjaGVWYWx1ZXMuc29tZShkYXRhID0+IGRhdGEuaW5qZWN0XG4gICAgJiYgZGJLZXlzLnNvbWUoKGtleSkgPT4ge1xuICAgICAgY29uc3QgcHJlZml4ID0ga2V5LnNsaWNlKDAsIGtleS5pbmRleE9mKCc6JykgKyAxKTtcbiAgICAgIGNvbnN0IHByb3AgPSBwcm9wc1RvQ2xlYXJbcHJlZml4XTtcbiAgICAgIGtleSA9IGtleS5zbGljZShwcmVmaXgubGVuZ3RoKTtcbiAgICAgIHJldHVybiBwcm9wID09PSB0cnVlXG4gICAgICAgIHx8IGRhdGFbcHJvcF0/LmluY2x1ZGVzKHByZWZpeCA9PT0gc3RvcmFnZS52YWx1ZS5wcmVmaXggPyAra2V5IDoga2V5KTtcbiAgICB9KSk7XG4gIGlmIChkaXJ0eSkge1xuICAgIGNhY2hlLmRlc3Ryb3koKTtcbiAgfVxufSk7XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZVJlYWxtKHZhbHVlKSB7XG4gIHJldHVybiBJTkpFQ1RfTUFQUElORzo6aGFzT3duUHJvcGVydHkodmFsdWUpXG4gICAgPyB2YWx1ZVxuICAgIDogaW5qZWN0SW50byB8fCBJTkpFQ1RfQVVUTztcbn1cblxuZnVuY3Rpb24gb25PcHRpb25DaGFuZ2VkKGNoYW5nZXMpIHtcbiAgY2hhbmdlczo6Zm9yRWFjaEVudHJ5KChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICBzd2l0Y2ggKGtleSkge1xuICAgIGNhc2UgS0VZX0RFRl9JTkpFQ1RfSU5UTzpcbiAgICAgIGluamVjdEludG8gPSBub3JtYWxpemVSZWFsbSh2YWx1ZSk7XG4gICAgICBjYWNoZS5kZXN0cm95KCk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIEtFWV9YSFJfSU5KRUNUOlxuICAgICAgdG9nZ2xlWGhySW5qZWN0KHZhbHVlKTtcbiAgICAgIGNhY2hlLmRlc3Ryb3koKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgS0VZX0lTX0FQUExJRUQ6XG4gICAgICB0b2dnbGVQcmVpbmplY3QodmFsdWUpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBLRVlfRVhQT1NFOlxuICAgICAgdmFsdWU6OmZvckVhY2hFbnRyeSgoW3NpdGUsIGlzRXhwb3NlZF0pID0+IHtcbiAgICAgICAgZXhwb3NlW2RlY29kZVVSSUNvbXBvbmVudChzaXRlKV0gPSBpc0V4cG9zZWQ7XG4gICAgICB9KTtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICBpZiAoa2V5LmluY2x1ZGVzKCcuJykpIHsgLy8gdXNlZCBieSBgZXhwb3NlLnVybGBcbiAgICAgICAgb25PcHRpb25DaGFuZ2VkKG9iamVjdFNldCh7fSwga2V5LCB2YWx1ZSkpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG59XG5cbi8qKiBAcmV0dXJuIHtQcm9taXNlPE9iamVjdD59ICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0SW5qZWN0ZWRTY3JpcHRzKHVybCwgdGFiSWQsIGZyYW1lSWQsIGZvcmNlQ29udGVudCkge1xuICBjb25zdCBrZXkgPSBnZXRLZXkodXJsLCAhZnJhbWVJZCk7XG4gIHJldHVybiBjYWNoZS5wb3Aoa2V5KSB8fCBwcmVwYXJlKGtleSwgdXJsLCB0YWJJZCwgZnJhbWVJZCwgZm9yY2VDb250ZW50KTtcbn1cblxuZnVuY3Rpb24gZ2V0S2V5KHVybCwgaXNUb3ApIHtcbiAgcmV0dXJuIGlzVG9wID8gdXJsIDogYC0ke3VybH1gO1xufVxuXG5mdW5jdGlvbiB0b2dnbGVQcmVpbmplY3QoZW5hYmxlKSB7XG4gIGlzQXBwbGllZCA9IGVuYWJsZTtcbiAgLy8gVXNpbmcgb25TZW5kSGVhZGVycyBiZWNhdXNlIG9uSGVhZGVyc1JlY2VpdmVkIGluIEZpcmVmb3ggZmlyZXMgKmFmdGVyKiBjb250ZW50IHNjcmlwdHMuXG4gIC8vIEFuZCBldmVuIGluIENocm9tZSBhIHNpdGUgbWF5IGJlIHNvIGZhc3QgdGhhdCBwcmVpbmplY3Qgb24gb25IZWFkZXJzUmVjZWl2ZWQgd29uJ3QgYmUgdXNlZnVsLlxuICBjb25zdCBvbk9mZiA9IGAke2VuYWJsZSA/ICdhZGQnIDogJ3JlbW92ZSd9TGlzdGVuZXJgO1xuICBjb25zdCBjb25maWcgPSBlbmFibGUgPyBBUElfQ09ORklHIDogdW5kZWZpbmVkO1xuICBicm93c2VyLndlYlJlcXVlc3Qub25TZW5kSGVhZGVyc1tvbk9mZl0ob25TZW5kSGVhZGVycywgY29uZmlnKTtcbiAgaWYgKCFpc0FwcGxpZWQgfHwgIXhockluamVjdCkgeyAvLyB3aWxsIGJlIHJlZ2lzdGVyZWQgaW4gdG9nZ2xlWGhySW5qZWN0XG4gICAgYnJvd3Nlci53ZWJSZXF1ZXN0Lm9uSGVhZGVyc1JlY2VpdmVkW29uT2ZmXShvbkhlYWRlcnNSZWNlaXZlZCwgY29uZmlnKTtcbiAgfVxuICBjYWNoZS5kZXN0cm95KCk7XG59XG5cbmZ1bmN0aW9uIHRvZ2dsZVhockluamVjdChlbmFibGUpIHtcbiAgeGhySW5qZWN0ID0gZW5hYmxlO1xuICBicm93c2VyLndlYlJlcXVlc3Qub25IZWFkZXJzUmVjZWl2ZWQucmVtb3ZlTGlzdGVuZXIob25IZWFkZXJzUmVjZWl2ZWQpO1xuICBpZiAoZW5hYmxlKSB7XG4gICAgYnJvd3Nlci53ZWJSZXF1ZXN0Lm9uSGVhZGVyc1JlY2VpdmVkLmFkZExpc3RlbmVyKG9uSGVhZGVyc1JlY2VpdmVkLCBBUElfQ09ORklHLCBbXG4gICAgICAnYmxvY2tpbmcnLFxuICAgICAgJ3Jlc3BvbnNlSGVhZGVycycsXG4gICAgICBicm93c2VyLndlYlJlcXVlc3QuT25IZWFkZXJzUmVjZWl2ZWRPcHRpb25zLkVYVFJBX0hFQURFUlMsXG4gICAgXS5maWx0ZXIoQm9vbGVhbikpO1xuICB9XG59XG5cbmZ1bmN0aW9uIG9uU2VuZEhlYWRlcnMoeyB1cmwsIHRhYklkLCBmcmFtZUlkIH0pIHtcbiAgaWYgKCFJTkpFQ1RBQkxFX1RBQl9VUkxfUkUudGVzdCh1cmwpKSByZXR1cm47XG4gIGNvbnN0IGlzVG9wID0gIWZyYW1lSWQ7XG4gIGNvbnN0IGtleSA9IGdldEtleSh1cmwsIGlzVG9wKTtcbiAgaWYgKCFjYWNoZS5oYXMoa2V5KSkge1xuICAgIC8vIEdldEluamVjdGVkIG1lc3NhZ2Ugd2lsbCBiZSBzZW50IHNvb24gYnkgdGhlIGNvbnRlbnQgc2NyaXB0XG4gICAgLy8gYW5kIGl0IG1heSBlYXNpbHkgaGFwcGVuIHdoaWxlIGdldFNjcmlwdHNCeVVSTCBpcyBzdGlsbCB3YWl0aW5nIGZvciBicm93c2VyLnN0b3JhZ2VcbiAgICAvLyBzbyB3ZSdsbCBsZXQgR2V0SW5qZWN0ZWQgYXdhaXQgdGhpcyBwZW5kaW5nIGRhdGEgYnkgc3RvcmluZyBQcm9taXNlIGluIHRoZSBjYWNoZVxuICAgIGNhY2hlLnB1dChrZXksIHByZXBhcmUoa2V5LCB1cmwsIHRhYklkLCBmcmFtZUlkKSwgVElNRV9BRlRFUl9TRU5EKTtcbiAgfVxufVxuXG4vKiogQHBhcmFtIHtjaHJvbWUud2ViUmVxdWVzdC5XZWJSZXNwb25zZUhlYWRlcnNEZXRhaWxzfSBpbmZvICovXG5mdW5jdGlvbiBvbkhlYWRlcnNSZWNlaXZlZChpbmZvKSB7XG4gIGNvbnN0IGtleSA9IGdldEtleShpbmZvLnVybCwgIWluZm8uZnJhbWVJZCk7XG4gIGNvbnN0IGRhdGEgPSB4aHJJbmplY3QgJiYgY2FjaGUuZ2V0KGtleSk7XG4gIGNhY2hlLmhpdChrZXksIFRJTUVfQUZURVJfUkVDRUlWRSk7XG4gIHJldHVybiBkYXRhPy5pbmplY3QgJiYgcHJlcGFyZVhockJsb2IoaW5mbywgZGF0YSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtjaHJvbWUud2ViUmVxdWVzdC5XZWJSZXNwb25zZUhlYWRlcnNEZXRhaWxzfSBpbmZvXG4gKiBAcGFyYW0ge1ZNR2V0SW5qZWN0ZWREYXRhQ29udGFpbmVyfSBkYXRhXG4gKi9cbmZ1bmN0aW9uIHByZXBhcmVYaHJCbG9iKHsgdXJsLCByZXNwb25zZUhlYWRlcnMgfSwgZGF0YSkge1xuICBpZiAodXJsLnN0YXJ0c1dpdGgoJ2h0dHBzOicpICYmIGRldGVjdFN0cmljdENzcChyZXNwb25zZUhlYWRlcnMpKSB7XG4gICAgZm9yY2VDb250ZW50SW5qZWN0aW9uKGRhdGEpO1xuICB9XG4gIGNvbnN0IGJsb2JVcmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKG5ldyBCbG9iKFtcbiAgICBKU09OLnN0cmluZ2lmeShkYXRhLmluamVjdCksXG4gIF0pKTtcbiAgcmVzcG9uc2VIZWFkZXJzLnB1c2goe1xuICAgIG5hbWU6ICdTZXQtQ29va2llJyxcbiAgICB2YWx1ZTogYFwiJHtwcm9jZXNzLmVudi5JTklUX0ZVTkNfTkFNRX1cIj0ke2Jsb2JVcmwuc3BsaXQoJy8nKS5wb3AoKX07IFNhbWVTaXRlPUxheGAsXG4gIH0pO1xuICBzZXRUaW1lb3V0KFVSTC5yZXZva2VPYmplY3RVUkwsIFRJTUVfS0VFUF9EQVRBLCBibG9iVXJsKTtcbiAgcmV0dXJuIHsgcmVzcG9uc2VIZWFkZXJzIH07XG59XG5cbmZ1bmN0aW9uIHByZXBhcmUoa2V5LCB1cmwsIHRhYklkLCBmcmFtZUlkLCBmb3JjZUNvbnRlbnQpIHtcbiAgLyoqIEBuYW1lc3BhY2UgVk1HZXRJbmplY3RlZERhdGFDb250YWluZXIgKi9cbiAgY29uc3QgcmVzID0ge1xuICAgIC8qKiBAbmFtZXNwYWNlIFZNR2V0SW5qZWN0ZWREYXRhICovXG4gICAgaW5qZWN0OiB7XG4gICAgICBleHBvc2U6ICFmcmFtZUlkXG4gICAgICAgICYmIHVybC5zdGFydHNXaXRoKCdodHRwczovLycpXG4gICAgICAgICYmIGV4cG9zZVt1cmwuc3BsaXQoJy8nLCAzKVsyXV0sXG4gICAgfSxcbiAgfTtcbiAgcmV0dXJuIGlzQXBwbGllZFxuICAgID8gcHJlcGFyZVNjcmlwdHMocmVzLCBrZXksIHVybCwgdGFiSWQsIGZyYW1lSWQsIGZvcmNlQ29udGVudClcbiAgICA6IHJlcztcbn1cblxuYXN5bmMgZnVuY3Rpb24gcHJlcGFyZVNjcmlwdHMocmVzLCBjYWNoZUtleSwgdXJsLCB0YWJJZCwgZnJhbWVJZCwgZm9yY2VDb250ZW50KSB7XG4gIGNvbnN0IGRhdGEgPSBhd2FpdCBnZXRTY3JpcHRzQnlVUkwodXJsLCAhZnJhbWVJZCk7XG4gIGNvbnN0IHsgZW52RGVsYXllZCwgc2NyaXB0cyB9ID0gZGF0YTtcbiAgY29uc3QgaXNMYXRlID0gZm9yY2VDb250ZW50ICE9IG51bGw7XG4gIGRhdGEuZm9yY2VDb250ZW50ID0gZm9yY2VDb250ZW50O1xuICBjb25zdCBmZWVkYmFjayA9IHNjcmlwdHMubWFwKHByZXBhcmVTY3JpcHQsIGRhdGEpLmZpbHRlcihCb29sZWFuKTtcbiAgY29uc3QgbW9yZSA9IGVudkRlbGF5ZWQucHJvbWlzZTtcbiAgY29uc3QgZW52S2V5ID0gZ2V0VW5pcUlkKGAke3RhYklkfToke2ZyYW1lSWR9OmApO1xuICBjb25zdCB7IGluamVjdCB9ID0gcmVzO1xuICAvKiogQG5hbWVzcGFjZSBWTUdldEluamVjdGVkRGF0YSAqL1xuICBPYmplY3QuYXNzaWduKGluamVjdCwge1xuICAgIHNjcmlwdHMsXG4gICAgW0lOSkVDVF9JTlRPXTogaW5qZWN0SW50byxcbiAgICBjYWNoZTogZGF0YS5jYWNoZSxcbiAgICBmZWVkSWQ6IHtcbiAgICAgIGNhY2hlS2V5LCAvLyBJbmplY3Rpb25GZWVkYmFjayBjYWNoZSBrZXkgZm9yIGNsZWFudXAgd2hlbiBnZXREYXRhRkYgb3V0cnVucyBHZXRJbmplY3RlZFxuICAgICAgZW52S2V5LCAvLyBJbmplY3Rpb25GZWVkYmFjayBjYWNoZSBrZXkgZm9yIGVudkRlbGF5ZWRcbiAgICB9LFxuICAgIGhhc01vcmU6ICEhbW9yZSwgLy8gdGVsbHMgY29udGVudCBicmlkZ2UgdG8gZXhwZWN0IGVudkRlbGF5ZWRcbiAgICBmb3JjZUNvbnRlbnQ6IGZvcmNlQ29udGVudCB8fCAoIC8vIFRyeWluZyB0byBza2lwIHBhZ2Ugc2FuZGJveCB3aGVuIHhockluamVjdCBpcyBvbjpcbiAgICAgIGZlZWRiYWNrLmxlbmd0aCA9PT0gc2NyaXB0cy5sZW5ndGggLy8gLi4ud2hlbiBhbGwgYGVudlN0YXJ0YCBzY3JpcHRzIGFyZSBgY29udGVudGAsXG4gICAgICAmJiBlbnZEZWxheWVkLnNjcmlwdHMuZXZlcnkoc2NyID0+IGlzQ29udGVudFJlYWxtKHNjciwgZm9yY2VDb250ZW50KSkgLy8gYW5kIGBlbnZEZWxheWVkYCB0b28uXG4gICAgKSxcbiAgICBpZHM6IGRhdGEuZGlzYWJsZWRJZHMsIC8vIGNvbnRlbnQgYnJpZGdlIGFkZHMgdGhlIGFjdHVhbGx5IHJ1bm5pbmcgaWRzIGFuZCBzZW5kcyB2aWEgU2V0UG9wdXBcbiAgICBpbmZvOiB7XG4gICAgICB1YSxcbiAgICB9LFxuICB9KTtcbiAgLyoqIEBuYW1lc3BhY2UgVk1HZXRJbmplY3RlZERhdGFDb250YWluZXIgKi9cbiAgT2JqZWN0LmFzc2lnbihyZXMsIHtcbiAgICBmZWVkYmFjayxcbiAgICB2YWxPcElkczogWy4uLmRhdGFbRU5WX1ZBTFVFX0lEU10sIC4uLmVudkRlbGF5ZWRbRU5WX1ZBTFVFX0lEU11dLFxuICAgIHJjc1Byb21pc2U6ICFpc0xhdGUgJiYgIXhockluamVjdCAmJiBJU19GSVJFRk9YXG4gICAgICA/IHJlZ2lzdGVyU2NyaXB0RGF0YUZGKGluamVjdCwgdXJsLCAhIWZyYW1lSWQpXG4gICAgICA6IG51bGwsXG4gIH0pO1xuICBpZiAobW9yZSkgY2FjaGUucHV0KGVudktleSwgbW9yZSk7XG4gIGNhY2hlLnB1dChjYWNoZUtleSwgcmVzKTsgLy8gbmVjZXNzYXJ5IGZvciB0aGUgc3luY2hyb25vdXMgb25IZWFkZXJzUmVjZWl2ZWRcbiAgcmV0dXJuIHJlcztcbn1cblxuLyoqIEB0aGlzIHtWTVNjcmlwdEJ5VXJsRGF0YX0gKi9cbmZ1bmN0aW9uIHByZXBhcmVTY3JpcHQoc2NyaXB0KSB7XG4gIGNvbnN0IHsgY3VzdG9tLCBtZXRhLCBwcm9wcyB9ID0gc2NyaXB0O1xuICBjb25zdCB7IGlkIH0gPSBwcm9wcztcbiAgY29uc3QgeyBmb3JjZUNvbnRlbnQsIHJlcXVpcmUsIHZhbHVlIH0gPSB0aGlzO1xuICBjb25zdCBjb2RlID0gdGhpcy5jb2RlW2lkXTtcbiAgY29uc3QgZGF0YUtleSA9IGdldFVuaXFJZCgnVk1pbicpO1xuICBjb25zdCBkaXNwbGF5TmFtZSA9IGdldFNjcmlwdE5hbWUoc2NyaXB0KTtcbiAgY29uc3QgbmFtZSA9IGVuY29kZVVSSUNvbXBvbmVudChkaXNwbGF5TmFtZS5yZXBsYWNlKC9bIyYnLC86Oz9APStdL2csIHJlcGxhY2VXaXRoRnVsbFdpZHRoRm9ybSkpO1xuICBjb25zdCBpc0NvbnRlbnQgPSBpc0NvbnRlbnRSZWFsbShzY3JpcHQsIGZvcmNlQ29udGVudCk7XG4gIGNvbnN0IHBhdGhNYXAgPSBjdXN0b20ucGF0aE1hcCB8fCB7fTtcbiAgY29uc3QgcmVxcyA9IG1ldGEucmVxdWlyZT8ubWFwKGtleSA9PiByZXF1aXJlW3BhdGhNYXBba2V5XSB8fCBrZXldKS5maWx0ZXIoQm9vbGVhbik7XG4gIC8vIHRyeWluZyB0byBhdm9pZCBwcm9ncmVzc2l2ZSBzdHJpbmcgY29uY2F0ZW5hdGlvbiBvZiBwb3RlbnRpYWxseSBodWdlIGNvZGUgc2xpY2VzXG4gIC8vIGFkZGluZyBgO2Agb24gYSBuZXcgbGluZSBpbiBjYXNlIHNvbWUgcmVxdWlyZWQgc2NyaXB0IGVuZHMgd2l0aCBhIGxpbmUgY29tbWVudFxuICBjb25zdCByZXFzU2xpY2VzID0gcmVxcyA/IFtdLmNvbmNhdCguLi5yZXFzLm1hcChyZXEgPT4gW3JlcSwgJ1xcbjsnXSkpIDogW107XG4gIGNvbnN0IGhhc1JlcXMgPSByZXFzU2xpY2VzLmxlbmd0aDtcbiAgY29uc3QgaW5qZWN0ZWRDb2RlID0gW1xuICAgIC8vIGhpZGluZyBtb2R1bGUgaW50ZXJmYWNlIGZyb20gQHJlcXVpcmUnZCBzY3JpcHRzIHNvIHRoZXkgZG9uJ3QgbWlzdGFrZW5seSB1c2UgaXRcbiAgICBgd2luZG93LiR7ZGF0YUtleX09ZnVuY3Rpb24oJHtkYXRhS2V5fSl7dHJ5e3dpdGgodGhpcykoKGRlZmluZSxtb2R1bGUsZXhwb3J0cyk9PntgLFxuICAgIC4uLnJlcXNTbGljZXMsXG4gICAgLy8gYWRkaW5nIGEgbmVzdGVkIElJRkUgdG8gc3VwcG9ydCAndXNlIHN0cmljdCcgaW4gdGhlIGNvZGUgd2hlbiB0aGVyZSBhcmUgQHJlcXVpcmVzXG4gICAgaGFzUmVxcyA/ICcoKCk9PnsnIDogJycsXG4gICAgY29kZSxcbiAgICAvLyBhZGRpbmcgYSBuZXcgbGluZSBpbiBjYXNlIHRoZSBjb2RlIGVuZHMgd2l0aCBhIGxpbmUgY29tbWVudFxuICAgIGNvZGUuZW5kc1dpdGgoJ1xcbicpID8gJycgOiAnXFxuJyxcbiAgICBoYXNSZXFzID8gJ30pKCknIDogJycsXG4gICAgLy8gMCBhdCB0aGUgZW5kIHRvIHN1cHByZXNzIGVycm9ycyBhYm91dCBub24tY2xvbmVhYmxlIHJlc3VsdCBvZiBleGVjdXRlU2NyaXB0IGluIEZGXG4gICAgYH0pKCl9Y2F0Y2goZSl7JHtkYXRhS2V5fShlKX19OzBgLFxuICAgIC8vIEZpcmVmb3ggbGlzdHMgLnVzZXIuanMgYW1vbmcgb3VyIG93biBjb250ZW50IHNjcmlwdHMgc28gYSBzcGFjZSBhdCBzdGFydCB3aWxsIGdyb3VwIHRoZW1cbiAgICBgXFxuLy8jIHNvdXJjZVVSTD0ke2V4dGVuc2lvblJvb3R9JHtJU19GSVJFRk9YID8gJyUyMCcgOiAnJ30ke25hbWV9LnVzZXIuanMjJHtpZH1gLFxuICBdLmpvaW4oJycpO1xuICBjYWNoZUNvZGUucHV0KGRhdGFLZXksIGluamVjdGVkQ29kZSwgVElNRV9LRUVQX0RBVEEpO1xuICAvKiogQG5hbWVzcGFjZSBWTUluamVjdGVkU2NyaXB0ICovXG4gIE9iamVjdC5hc3NpZ24oc2NyaXB0LCB7XG4gICAgZGF0YUtleSxcbiAgICBkaXNwbGF5TmFtZSxcbiAgICAvLyBjb2RlIHdpbGwgYmUgYHRydWVgIGlmIHRoZSBkZXNpcmVkIHJlYWxtIGlzIFBBR0Ugd2hpY2ggaXMgbm90IGluamVjdGFibGVcbiAgICBjb2RlOiBpc0NvbnRlbnQgPyAnJyA6IGZvcmNlQ29udGVudCB8fCBpbmplY3RlZENvZGUsXG4gICAgbWV0YVN0cjogY29kZS5tYXRjaChNRVRBQkxPQ0tfUkUpWzFdIHx8ICcnLFxuICAgIHZhbHVlczogdmFsdWVbaWRdIHx8IG51bGwsXG4gIH0pO1xuICByZXR1cm4gaXNDb250ZW50ICYmIFtkYXRhS2V5LCB0cnVlXTtcbn1cblxuZnVuY3Rpb24gcmVwbGFjZVdpdGhGdWxsV2lkdGhGb3JtKHMpIHtcbiAgLy8gZnVsbHdpZHRoIHJhbmdlIHN0YXJ0cyBhdCAweEZGMDAsIG5vcm1hbCByYW5nZSBzdGFydHMgYXQgc3BhY2UgY2hhciBjb2RlIDB4MjBcbiAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUocy5jaGFyQ29kZUF0KDApIC0gMHgyMCArIDB4RkYwMCk7XG59XG5cbmNvbnN0IHJlc29sdmVEYXRhQ29kZVN0ciA9IGAoJHtmdW5jdGlvbiBfKGRhdGEpIHtcbiAgLyogYGZ1bmN0aW9uYCBpcyByZXF1aXJlZCB0byBjb21waWxlIGB0aGlzYCwgYW5kIGB0aGlzYCBpcyByZXF1aXJlZCBiZWNhdXNlIG91ciBzYWZlLWdsb2JhbHNcbiAgICogc2hhZG93cyBgd2luZG93YCBzbyBpdHMgbmFtZSBpcyBtaW5pZmllZCBhbmQgaGVuY2UgaW5hY2Nlc3NpYmxlIGhlcmUgKi9cbiAgY29uc3QgeyB2bVJlc29sdmUgfSA9IHRoaXM7XG4gIGlmICh2bVJlc29sdmUpIHtcbiAgICB2bVJlc29sdmUoZGF0YSk7XG4gIH0gZWxzZSB7XG4gICAgLy8gcnVubmluZyBlYXJsaWVyIHRoYW4gdGhlIG1haW4gY29udGVudCBzY3JpcHQgZm9yIHdoYXRldmVyIHJlYXNvblxuICAgIHRoaXMudm1EYXRhID0gZGF0YTtcbiAgfVxufX0pYDtcblxuLy8gVE9ETzogcmV3b3JrIHRoZSB3aG9sZSB0aGluZyB0byByZWdpc3RlciBzY3JpcHRzIGluZGl2aWR1YWxseSB3aXRoIHJlYWwgYG1hdGNoZXNgXG5mdW5jdGlvbiByZWdpc3RlclNjcmlwdERhdGFGRihpbmplY3QsIHVybCwgYWxsRnJhbWVzKSB7XG4gIHJldHVybiBicm93c2VyLmNvbnRlbnRTY3JpcHRzPy5yZWdpc3Rlcih7XG4gICAgYWxsRnJhbWVzLFxuICAgIGpzOiBbe1xuICAgICAgY29kZTogYCR7cmVzb2x2ZURhdGFDb2RlU3RyfSgke0pTT04uc3RyaW5naWZ5KGluamVjdCl9KWAsXG4gICAgfV0sXG4gICAgbWF0Y2hlczogdXJsLnNwbGl0KCcjJywgMSksXG4gICAgcnVuQXQ6ICdkb2N1bWVudF9zdGFydCcsXG4gIH0pO1xufVxuXG4vKiogQHBhcmFtIHtjaHJvbWUud2ViUmVxdWVzdC5IdHRwSGVhZGVyW119IHJlc3BvbnNlSGVhZGVycyAqL1xuZnVuY3Rpb24gZGV0ZWN0U3RyaWN0Q3NwKHJlc3BvbnNlSGVhZGVycykge1xuICByZXR1cm4gcmVzcG9uc2VIZWFkZXJzLnNvbWUoKHsgbmFtZSwgdmFsdWUgfSkgPT4gKFxuICAgIC9eY29udGVudC1zZWN1cml0eS1wb2xpY3kkL2kudGVzdChuYW1lKVxuICAgICYmIC9eLig/IS4qJ3Vuc2FmZS1pbmxpbmUnKS8udGVzdCggLy8gdHJ1ZSBpZiBub3QgZW1wdHkgYW5kIHdpdGhvdXQgJ3Vuc2FmZS1pbmxpbmUnXG4gICAgICB2YWx1ZS5tYXRjaCgvKD86Xnw7KVxccypzY3JpcHQtc3JjLWVsZW1cXHNbXjtdKy8pXG4gICAgICB8fCB2YWx1ZS5tYXRjaCgvKD86Xnw7KVxccypzY3JpcHQtc3JjXFxzW147XSsvKVxuICAgICAgfHwgdmFsdWUubWF0Y2goLyg/Ol58OylcXHMqZGVmYXVsdC1zcmNcXHNbXjtdKy8pXG4gICAgICB8fCAnJyxcbiAgICApXG4gICkpO1xufVxuXG4vKiogQHBhcmFtIHtWTUdldEluamVjdGVkRGF0YUNvbnRhaW5lcn0gZGF0YSAqL1xuZnVuY3Rpb24gZm9yY2VDb250ZW50SW5qZWN0aW9uKGRhdGEpIHtcbiAgLyoqIEB0eXBlIFZNR2V0SW5qZWN0ZWREYXRhICovXG4gIGNvbnN0IGluamVjdCA9IGRhdGEuaW5qZWN0O1xuICBpbmplY3QuZm9yY2VDb250ZW50ID0gdHJ1ZTtcbiAgaW5qZWN0LnNjcmlwdHMuZm9yRWFjaChzY3IgPT4ge1xuICAgIC8vIFdoZW4gc2NyaXB0IHdhbnRzIGBwYWdlYCwgdGhlIHJlc3VsdCBiZWxvdyB3aWxsIGJlIGB0cnVlYCBzbyB0aGUgc2NyaXB0IGdvZXMgaW50byBgZmFpbGVkSWRzYFxuICAgIHNjci5jb2RlID0gIWlzQ29udGVudFJlYWxtKHNjciwgdHJ1ZSkgfHwgJyc7XG4gICAgZGF0YS5mZWVkYmFjay5wdXNoKFtzY3IuZGF0YUtleSwgdHJ1ZV0pO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gaXNDb250ZW50UmVhbG0oc2NyLCBmb3JjZUNvbnRlbnQpIHtcbiAgY29uc3QgcmVhbG0gPSBzY3JbSU5KRUNUX0lOVE9dIHx8IChcbiAgICBzY3JbSU5KRUNUX0lOVE9dID0gbm9ybWFsaXplUmVhbG0oc2NyLmN1c3RvbVtJTkpFQ1RfSU5UT10gfHwgc2NyLm1ldGFbSU5KRUNUX0lOVE9dKVxuICApO1xuICByZXR1cm4gcmVhbG0gPT09IElOSkVDVF9DT05URU5UIHx8IGZvcmNlQ29udGVudCAmJiByZWFsbSA9PT0gSU5KRUNUX0FVVE87XG59XG4iLCJpbXBvcnQge1xuICBibG9iMmJhc2U2NCwgYnVmZmVyMnN0cmluZywgZ2V0VW5pcUlkLCByZXF1ZXN0LCBpMThuLCBpc0VtcHR5LCBub29wLCBzZW5kVGFiQ21kLFxuICBzdHJpbmcydWludDhhcnJheSxcbn0gZnJvbSAnIy9jb21tb24nO1xuaW1wb3J0IHsgZm9yRWFjaEVudHJ5LCBvYmplY3RQaWNrIH0gZnJvbSAnIy9jb21tb24vb2JqZWN0JztcbmltcG9ydCB1YSBmcm9tICcjL2NvbW1vbi91YSc7XG5pbXBvcnQgY2FjaGUgZnJvbSAnLi9jYWNoZSc7XG5pbXBvcnQgeyBpc1VzZXJTY3JpcHQsIHBhcnNlTWV0YSB9IGZyb20gJy4vc2NyaXB0JztcbmltcG9ydCB7IGV4dGVuc2lvblJvb3QgfSBmcm9tICcuL2luaXQnO1xuaW1wb3J0IHsgY29tbWFuZHMgfSBmcm9tICcuL21lc3NhZ2UnO1xuaW1wb3J0IHsgZG93bmxvYWRNM3U4IH0gZnJvbSAnLi9tM3U4JztcblxuY29uc3QgVk1fVkVSSUZZID0gJ1ZNLVZlcmlmeSc7XG5jb25zdCBDT05GSVJNX1VSTF9CQVNFID0gYCR7ZXh0ZW5zaW9uUm9vdH1jb25maXJtL2luZGV4Lmh0bWwjYDtcbi8qKiBAdHlwZSB7T2JqZWN0PHN0cmluZyxWTUh0dHBSZXF1ZXN0Pn0gKi9cbmNvbnN0IHJlcXVlc3RzID0ge307XG5jb25zdCBkb3dubG9hZHMgPSB7fTtcbmNvbnN0IHZlcmlmeSA9IHt9O1xuY29uc3QgdGFiUmVxdWVzdHMgPSB7fTtcbmNvbnN0IHsgY2hyb21lIH0gPSBnbG9iYWw7XG5sZXQgZW5jb2RlcjtcblxuaWYgKGNocm9tZSkge1xuICBjaHJvbWUuZG93bmxvYWRzLm9uQ2hhbmdlZC5hZGRMaXN0ZW5lcihldnQgPT4ge1xuICAgIGNvbnNvbGUuaW5mbygnZG93bmxvYWRzIG9uQ2hhbmdlZCcsIGV2dCk7XG4gICAgaWYgKCFkb3dubG9hZHNbZXZ0LmlkXSkgcmV0dXJuO1xuICAgIGNvbnN0IHsgcmVxLCBzcmMgfSA9IGRvd25sb2Fkc1tldnQuaWRdO1xuICAgIGNvbnN0IHsgdGFiOiB7IGlkOiB0YWJJZCB9LCBmcmFtZUlkIH0gPSBzcmM7XG5cbiAgICBpZiAoZXZ0LnN0YXRlPy5jdXJyZW50ID09PSAnY29tcGxldGUnKSB7XG4gICAgICBzZW5kVGFiQ21kKHRhYklkLCAnSHR0cFJlcXVlc3RlZCcsIHtcbiAgICAgICAgdHlwZTogJ2xvYWQnLCBpZDogcmVxLmlkLCBkb3dubG9hZElkOiBldnQuaWQsXG4gICAgICB9LCB7IGZyYW1lSWQgfSk7XG4gICAgfSBlbHNlIGlmIChldnQuc3RhdGU/LmN1cnJlbnQgPT09ICdpbnRlcnJ1cHRlZCcpIHtcbiAgICAgIHNlbmRUYWJDbWQodGFiSWQsICdIdHRwUmVxdWVzdGVkJywge1xuICAgICAgICB0eXBlOiAnZXJyb3InLCBpZDogcmVxLmlkLCBkb3dubG9hZElkOiBldnQuaWQsXG4gICAgICB9LCB7IGZyYW1lSWQgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZGVsZXRlIGRvd25sb2Fkc1tldnQuaWRdO1xuICAgIGRlbGV0ZSByZXF1ZXN0c1tyZXEuaWRdO1xuICB9KTtcbn1cblxuT2JqZWN0LmFzc2lnbihjb21tYW5kcywge1xuICBDb25maXJtSW5zdGFsbDogY29uZmlybUluc3RhbGwsXG4gIGFzeW5jIENoZWNrSW5zdGFsbGVyVGFiKHRhYklkLCBzcmMpIHtcbiAgICBjb25zdCB0YWIgPSBJU19GSVJFRk9YICYmIChzcmMudXJsIHx8ICcnKS5zdGFydHNXaXRoKCdmaWxlOicpXG4gICAgICAmJiBhd2FpdCBicm93c2VyLnRhYnMuZ2V0KHRhYklkKS5jYXRjaChub29wKTtcbiAgICByZXR1cm4gdGFiICYmICh0YWIucGVuZGluZ1VybCB8fCB0YWIudXJsIHx8ICcnKS5zdGFydHNXaXRoKENPTkZJUk1fVVJMX0JBU0UpO1xuICB9LFxuICAvKiogQHJldHVybiB7dm9pZH0gKi9cbiAgSHR0cFJlcXVlc3Qob3B0cywgc3JjKSB7XG4gICAgY29uc3QgeyB0YWI6IHsgaWQ6IHRhYklkIH0sIGZyYW1lSWQgfSA9IHNyYztcbiAgICBjb25zdCB7IGlkLCBldmVudHNUb05vdGlmeSB9ID0gb3B0cztcblxuICAgIGNvbnNvbGUuaW5mbygncmVxIG9wdHMnLCBvcHRzKTtcblxuICAgIGlmIChvcHRzLnR5cGUgPT09ICdtM3U4Jykge1xuICAgICAgY29uc3QgZG93bmxvYWRJZCA9IGlkOyAvLyBhIGZha2Ugb25lXG4gICAgICBvcHRzLm9ucHJvZ3Jlc3MgPSAocHJvZ3Jlc3MpID0+IHtcbiAgICAgICAgaWYgKGV2ZW50c1RvTm90aWZ5Py5pbmNsdWRlcygncHJvZ3Jlc3MnKSkge1xuICAgICAgICAgIHNlbmRUYWJDbWQodGFiSWQsICdIdHRwUmVxdWVzdGVkJywgeyB0eXBlOiAncHJvZ3Jlc3MnLCBpZCwgZG93bmxvYWRJZCwgcHJvZ3Jlc3MgfSwgeyBmcmFtZUlkIH0pO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgb3B0cy5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgIHNlbmRUYWJDbWQodGFiSWQsICdIdHRwUmVxdWVzdGVkJywgeyB0eXBlOiAnbG9hZCcsIGlkLCBkb3dubG9hZElkIH0sIHsgZnJhbWVJZCB9KTtcbiAgICAgIH07XG4gICAgICBvcHRzLm9uZXJyb3IgPSAoZXJyb3IpID0+IHtcbiAgICAgICAgc2VuZFRhYkNtZCh0YWJJZCwgJ0h0dHBSZXF1ZXN0ZWQnLCB7IHR5cGU6ICdlcnJvcicsIGlkLCBkb3dubG9hZElkLCBlcnJvciB9LCB7IGZyYW1lSWQgfSk7XG4gICAgICB9O1xuICAgICAgcmV0dXJuIGRvd25sb2FkTTN1OChvcHRzKTtcbiAgICB9XG5cbiAgICAvLyBpZiAoIW9wdHMuaGVhZGVycy5SZWZlcmVyICYmICFvcHRzLmhlYWRlcnNbJ1VzZXItQWdlbnQnXSkge1xuICAgIC8vICAgLy8gY29uc29sZS5pbmZvKG9wdHMpO1xuICAgIC8vICAgbGV0IGhlYWRlcnMgPSBbXTtcbiAgICAvLyAgIGlmIChvcHRzLmhlYWRlcnMpIHtcbiAgICAvLyAgICAgaGVhZGVycyA9IE9iamVjdC5rZXlzKG9wdHMuaGVhZGVycykubWFwKG5hbWUgPT4gKHsgbmFtZSwgdmFsdWU6IG9wdHMuaGVhZGVyc1tuYW1lXSB9KSk7XG4gICAgLy8gICB9XG4gICAgLy8gICByZXR1cm4gY2hyb21lLmRvd25sb2Fkcy5kb3dubG9hZCh7XG4gICAgLy8gICAgIHVybDogb3B0cy51cmwsXG4gICAgLy8gICAgIGhlYWRlcnMsXG4gICAgLy8gICAgIGZpbGVuYW1lOiBvcHRzLmZpbGVOYW1lLFxuICAgIC8vICAgfSwgZG93bmxvYWRJZCA9PiB7XG4gICAgLy8gICAgIHJlcXVlc3RzW2lkXSA9IHsgaWQsIGRvd25sb2FkSWQsIHRhYklkLCBldmVudHNUb05vdGlmeSwgeGhyOiBudWxsIH07XG4gICAgLy8gICAgIGRvd25sb2Fkc1tkb3dubG9hZElkXSA9IHsgcmVxOiByZXF1ZXN0c1tpZF0sIG9wdHMsIHNyYyB9O1xuICAgIC8vICAgICBpZiAoZXZlbnRzVG9Ob3RpZnk/LmluY2x1ZGVzKCdwcm9ncmVzcycpKSB7XG4gICAgLy8gICAgICAgc2VuZFRhYkNtZCh0YWJJZCwgJ0h0dHBSZXF1ZXN0ZWQnLCB7IHR5cGU6ICdwcm9ncmVzcycsIGlkLCBkb3dubG9hZElkIH0sIHsgZnJhbWVJZCB9KTtcbiAgICAvLyAgICAgfVxuICAgIC8vICAgfSk7XG4gICAgLy8gfVxuXG4gICAgcmVxdWVzdHNbaWRdID0ge1xuICAgICAgaWQsXG4gICAgICB0YWJJZCxcbiAgICAgIGV2ZW50c1RvTm90aWZ5LFxuICAgICAgeGhyOiBuZXcgWE1MSHR0cFJlcXVlc3QoKSxcbiAgICB9O1xuICAgICh0YWJSZXF1ZXN0c1t0YWJJZF0gfHwgKHRhYlJlcXVlc3RzW3RhYklkXSA9IHt9KSlbaWRdID0gMTtcbiAgICBodHRwUmVxdWVzdChvcHRzLCBzcmMsIHJlcyA9PiByZXF1ZXN0c1tpZF0gJiYgKFxuICAgICAgc2VuZFRhYkNtZCh0YWJJZCwgJ0h0dHBSZXF1ZXN0ZWQnLCByZXMsIHsgZnJhbWVJZCB9KVxuICAgICkpO1xuICB9LFxuICAvKiogQHJldHVybiB7dm9pZH0gKi9cbiAgQWJvcnRSZXF1ZXN0KGlkKSB7XG4gICAgY29uc3QgcmVxID0gcmVxdWVzdHNbaWRdO1xuICAgIGlmIChyZXEpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICAgICAgaWYgKGNocm9tZSkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgICAgICAgY2hyb21lLmRvd25sb2Fkcy5jYW5jZWwocmVxLmlkKTtcbiAgICAgICAgZGVsZXRlIHJlcXVlc3RzW3JlcS5pZF07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXEueGhyLmFib3J0KCk7XG4gICAgICAgIGNsZWFyUmVxdWVzdChyZXEpO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgUmV2b2tlQmxvYih1cmwpIHtcbiAgICBjb25zdCB0aW1lciA9IGNhY2hlLnBvcChgeGhyQmxvYjoke3VybH1gKTtcbiAgICBpZiAodGltZXIpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKHVybCk7XG4gICAgfVxuICB9LFxufSk7XG5cbmNvbnN0IHNwZWNpYWxIZWFkZXJzID0gW1xuICAndXNlci1hZ2VudCcsXG4gIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvR2xvc3NhcnkvRm9yYmlkZGVuX2hlYWRlcl9uYW1lXG4gIC8vIGh0dHBzOi8vY3MuY2hyb21pdW0ub3JnLz9xPWZpbGU6Y2Mrc3ltYm9sOklzRm9yYmlkZGVuSGVhZGVyJTVDYlxuICAnYWNjZXB0LWNoYXJzZXQnLFxuICAnYWNjZXB0LWVuY29kaW5nJyxcbiAgJ2FjY2Vzcy1jb250cm9sLXJlcXVlc3QtaGVhZGVycycsXG4gICdhY2Nlc3MtY29udHJvbC1yZXF1ZXN0LW1ldGhvZCcsXG4gICdjb25uZWN0aW9uJyxcbiAgJ2NvbnRlbnQtbGVuZ3RoJyxcbiAgJ2Nvb2tpZScsXG4gICdjb29raWUyJyxcbiAgJ2RhdGUnLFxuICAnZG50JyxcbiAgJ2V4cGVjdCcsXG4gICdob3N0JyxcbiAgJ2tlZXAtYWxpdmUnLFxuICAnb3JpZ2luJyxcbiAgJ3JlZmVyZXInLFxuICAndGUnLFxuICAndHJhaWxlcicsXG4gICd0cmFuc2Zlci1lbmNvZGluZycsXG4gICd1cGdyYWRlJyxcbiAgJ3ZpYScsXG5dO1xuLy8gY29uc3QgdGFza3MgPSB7fTtcbmNvbnN0IEhlYWRlckluamVjdG9yID0gKCgpID0+IHtcbiAgLyoqIEB0eXBlIGNocm9tZS53ZWJSZXF1ZXN0LlJlcXVlc3RGaWx0ZXIgKi9cbiAgY29uc3QgYXBpRmlsdGVyID0ge1xuICAgIHVybHM6IFsnPGFsbF91cmxzPiddLFxuICAgIHR5cGVzOiBbJ3htbGh0dHByZXF1ZXN0J10sXG4gIH07XG4gIGNvbnN0IEVYVFJBX0hFQURFUlMgPSBbXG4gICAgYnJvd3Nlci53ZWJSZXF1ZXN0Lk9uQmVmb3JlU2VuZEhlYWRlcnNPcHRpb25zLkVYVFJBX0hFQURFUlMsXG4gIF0uZmlsdGVyKEJvb2xlYW4pO1xuICBjb25zdCBoZWFkZXJzVG9JbmplY3QgPSB7fTtcbiAgLyoqIEBwYXJhbSB7Y2hyb21lLndlYlJlcXVlc3QuSHR0cEhlYWRlcn0gaGVhZGVyICovXG4gIGNvbnN0IGlzVm1WZXJpZnkgPSBoZWFkZXIgPT4gaGVhZGVyLm5hbWUgPT09IFZNX1ZFUklGWTtcbiAgY29uc3QgaXNOb3RDb29raWUgPSBoZWFkZXIgPT4gIS9eY29va2llMj8kL2kudGVzdChoZWFkZXIubmFtZSk7XG4gIGNvbnN0IGlzU2VuZGFibGUgPSBoZWFkZXIgPT4gaGVhZGVyLm5hbWUgIT09IFZNX1ZFUklGWTtcbiAgY29uc3QgaXNTZW5kYWJsZUFub24gPSBoZWFkZXIgPT4gaXNTZW5kYWJsZShoZWFkZXIpICYmIGlzTm90Q29va2llKGhlYWRlcik7XG4gIGNvbnN0IFJFX1NFVF9DT09LSUUgPSAvXnNldC1jb29raWUyPyQvaTtcbiAgY29uc3QgUkVfU0VUX0NPT0tJRV9WQUxVRSA9IC9eXFxzKig/Ol9fKFNlY3VyZXxIb3N0KS0pPyhbXj1cXHNdKylcXHMqPVxccyooXCIpPyhbISMtK1xcLS06PC1bXFxdLX5dKilcXDMoLiopLztcbiAgY29uc3QgUkVfU0VUX0NPT0tJRV9BVFRSID0gL1xccyo7P1xccyooXFx3KykoPzo9KFwiKT8oWyEjLStcXC0tOjwtW1xcXS1+XSopXFwyKT8veTtcbiAgY29uc3QgU0FNRV9TSVRFX01BUCA9IHtcbiAgICBzdHJpY3Q6ICdzdHJpY3QnLFxuICAgIGxheDogJ2xheCcsXG4gICAgbm9uZTogJ25vX3Jlc3RyaWN0aW9uJyxcbiAgfTtcbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBoZWFkZXJWYWx1ZVxuICAgKiBAcGFyYW0ge1ZNSHR0cFJlcXVlc3R9IHJlcVxuICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsXG4gICAqL1xuICBjb25zdCBzZXRDb29raWVJblN0b3JlID0gKGhlYWRlclZhbHVlLCByZXEsIHVybCkgPT4ge1xuICAgIGxldCBtID0gUkVfU0VUX0NPT0tJRV9WQUxVRS5leGVjKGhlYWRlclZhbHVlKTtcbiAgICBpZiAobSkge1xuICAgICAgY29uc3QgWywgcHJlZml4LCBuYW1lLCAsIHZhbHVlLCBvcHRTdHJdID0gbTtcbiAgICAgIGNvbnN0IG9wdCA9IHt9O1xuICAgICAgY29uc3QgaXNIb3N0ID0gcHJlZml4ID09PSAnSG9zdCc7XG4gICAgICBSRV9TRVRfQ09PS0lFX0FUVFIubGFzdEluZGV4ID0gMDtcbiAgICAgIHdoaWxlICgobSA9IFJFX1NFVF9DT09LSUVfQVRUUi5leGVjKG9wdFN0cikpKSB7XG4gICAgICAgIG9wdFttWzFdLnRvTG93ZXJDYXNlKCldID0gbVszXTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHNhbWVTaXRlID0gb3B0LnNhbWVTaXRlPy50b0xvd2VyQ2FzZSgpO1xuICAgICAgYnJvd3Nlci5jb29raWVzLnNldCh7XG4gICAgICAgIHVybCxcbiAgICAgICAgbmFtZSxcbiAgICAgICAgdmFsdWUsXG4gICAgICAgIGRvbWFpbjogaXNIb3N0ID8gdW5kZWZpbmVkIDogb3B0LmRvbWFpbixcbiAgICAgICAgZXhwaXJhdGlvbkRhdGU6IE1hdGgubWF4KDAsICtuZXcgRGF0ZShvcHRbJ21heC1hZ2UnXSAqIDEwMDAgfHwgb3B0LmV4cGlyZXMpKSB8fCB1bmRlZmluZWQsXG4gICAgICAgIGh0dHBPbmx5OiAnaHR0cG9ubHknIGluIG9wdCxcbiAgICAgICAgcGF0aDogaXNIb3N0ID8gJy8nIDogb3B0LnBhdGgsXG4gICAgICAgIHNhbWVTaXRlOiBTQU1FX1NJVEVfTUFQW3NhbWVTaXRlXSxcbiAgICAgICAgc2VjdXJlOiB1cmwuc3RhcnRzV2l0aCgnaHR0cHM6JykgJiYgKCEhcHJlZml4IHx8IHNhbWVTaXRlID09PSAnbm9uZScgfHwgJ3NlY3VyZScgaW4gb3B0KSxcbiAgICAgICAgc3RvcmVJZDogcmVxLnN0b3JlSWQsXG4gICAgICB9KTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGFwaUV2ZW50cyA9IHtcbiAgICBvbkJlZm9yZVNlbmRIZWFkZXJzOiB7XG4gICAgICBvcHRpb25zOiBbJ3JlcXVlc3RIZWFkZXJzJywgJ2Jsb2NraW5nJywgLi4uRVhUUkFfSEVBREVSU10sXG4gICAgICAvKiogQHBhcmFtIHtjaHJvbWUud2ViUmVxdWVzdC5XZWJSZXF1ZXN0SGVhZGVyc0RldGFpbHN9IGRldGFpbHMgKi9cbiAgICAgIGxpc3RlbmVyKHsgcmVxdWVzdEhlYWRlcnM6IGhlYWRlcnMsIHJlcXVlc3RJZCB9KSB7XG4gICAgICAgIC8vIG9ubHkgdGhlIGZpcnN0IGNhbGwgZHVyaW5nIGEgcmVkaXJlY3QvYXV0aCBjaGFpbiB3aWxsIGhhdmUgVk0tVmVyaWZ5IGhlYWRlclxuICAgICAgICBjb25zdCByZXFJZCA9IGhlYWRlcnMuZmluZChpc1ZtVmVyaWZ5KT8udmFsdWUgfHwgdmVyaWZ5W3JlcXVlc3RJZF07XG4gICAgICAgIGNvbnN0IHJlcSA9IHJlcUlkICYmIHJlcXVlc3RzW3JlcUlkXTtcbiAgICAgICAgaWYgKHJlcUlkICYmIHJlcSkge1xuICAgICAgICAgIHZlcmlmeVtyZXF1ZXN0SWRdID0gcmVxSWQ7XG4gICAgICAgICAgcmVxLmNvcmVJZCA9IHJlcXVlc3RJZDtcbiAgICAgICAgICBoZWFkZXJzID0gKHJlcS5ub05hdGl2ZUNvb2tpZSA/IGhlYWRlcnMuZmlsdGVyKGlzTm90Q29va2llKSA6IGhlYWRlcnMpXG4gICAgICAgICAgLmNvbmNhdChoZWFkZXJzVG9JbmplY3RbcmVxSWRdIHx8IFtdKVxuICAgICAgICAgIC5maWx0ZXIocmVxLmFub255bW91cyA/IGlzU2VuZGFibGVBbm9uIDogaXNTZW5kYWJsZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgcmVxdWVzdEhlYWRlcnM6IGhlYWRlcnMgfTtcbiAgICAgIH0sXG4gICAgfSxcbiAgICBvbkhlYWRlcnNSZWNlaXZlZDoge1xuICAgICAgb3B0aW9uczogWydyZXNwb25zZUhlYWRlcnMnLCAnYmxvY2tpbmcnLCAuLi5FWFRSQV9IRUFERVJTXSxcbiAgICAgIC8qKiBAcGFyYW0ge2Nocm9tZS53ZWJSZXF1ZXN0LldlYlJlcXVlc3RIZWFkZXJzRGV0YWlsc30gZGV0YWlscyAqL1xuICAgICAgbGlzdGVuZXIoeyByZXNwb25zZUhlYWRlcnM6IGhlYWRlcnMsIHJlcXVlc3RJZCwgdXJsIH0pIHtcbiAgICAgICAgY29uc3QgcmVxID0gcmVxdWVzdHNbdmVyaWZ5W3JlcXVlc3RJZF1dO1xuICAgICAgICBpZiAocmVxKSB7XG4gICAgICAgICAgaWYgKHJlcS5hbm9ueW1vdXMgfHwgcmVxLnN0b3JlSWQpIHtcbiAgICAgICAgICAgIGhlYWRlcnMgPSBoZWFkZXJzLmZpbHRlcihoID0+IChcbiAgICAgICAgICAgICAgIVJFX1NFVF9DT09LSUUudGVzdChoLm5hbWUpXG4gICAgICAgICAgICAgIHx8ICFyZXEuc3RvcmVJZFxuICAgICAgICAgICAgICB8fCBzZXRDb29raWVJblN0b3JlKGgudmFsdWUsIHJlcSwgdXJsKVxuICAgICAgICAgICAgKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlcS5yZXNwb25zZUhlYWRlcnMgPSBoZWFkZXJzLm1hcChlbmNvZGVXZWJSZXF1ZXN0SGVhZGVyKS5qb2luKCcnKTtcbiAgICAgICAgICByZXR1cm4geyByZXNwb25zZUhlYWRlcnM6IGhlYWRlcnMgfTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICB9LFxuICB9O1xuICAvLyBDaHJvbWUgNzQtOTEgbmVlZHMgYW4gZXh0cmFIZWFkZXJzIGxpc3RlbmVyIGF0IHRhYiBsb2FkIHN0YXJ0LCBodHRwczovL2NyYnVnLmNvbS8xMDc0MjgyXG4gIC8vIFdlJ3JlIGF0dGFjaGluZyBhIG5vLW9wIGluIG5vbi1ibG9ja2luZyBtb2RlIHNvIGl0J3MgdmVyeSBsaWdodHdlaWdodCBhbmQgZmFzdC5cbiAgaWYgKHVhLmNocm9tZSA+PSA3NCAmJiB1YS5jaHJvbWUgPD0gOTEpIHtcbiAgICBicm93c2VyLndlYlJlcXVlc3Qub25CZWZvcmVTZW5kSGVhZGVycy5hZGRMaXN0ZW5lcihub29wLCBhcGlGaWx0ZXIsIFsnZXh0cmFIZWFkZXJzJ10pO1xuICB9XG4gIHJldHVybiB7XG4gICAgYWRkKHJlcUlkLCBoZWFkZXJzKSB7XG4gICAgICAvLyBuZWVkIHRvIHNldCB0aGUgZW50cnkgZXZlbiBpZiBpdCdzIGVtcHR5IFtdIHNvIHRoYXQgJ2lmJyBjaGVjayBpbiBkZWwoKSBydW5zIG9ubHkgb25jZVxuICAgICAgaGVhZGVyc1RvSW5qZWN0W3JlcUlkXSA9IGhlYWRlcnM7XG4gICAgICAvLyBuZWVkIHRoZSBsaXN0ZW5lciB0byBnZXQgdGhlIHJlcXVlc3RJZFxuICAgICAgYXBpRXZlbnRzOjpmb3JFYWNoRW50cnkoKFtuYW1lLCB7IGxpc3RlbmVyLCBvcHRpb25zIH1dKSA9PiB7XG4gICAgICAgIGJyb3dzZXIud2ViUmVxdWVzdFtuYW1lXS5hZGRMaXN0ZW5lcihsaXN0ZW5lciwgYXBpRmlsdGVyLCBvcHRpb25zKTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZGVsKHJlcUlkKSB7XG4gICAgICBpZiAocmVxSWQgaW4gaGVhZGVyc1RvSW5qZWN0KSB7XG4gICAgICAgIGRlbGV0ZSBoZWFkZXJzVG9JbmplY3RbcmVxSWRdO1xuICAgICAgICBpZiAoaXNFbXB0eShoZWFkZXJzVG9JbmplY3QpKSB7XG4gICAgICAgICAgYXBpRXZlbnRzOjpmb3JFYWNoRW50cnkoKFtuYW1lLCB7IGxpc3RlbmVyIH1dKSA9PiB7XG4gICAgICAgICAgICBicm93c2VyLndlYlJlcXVlc3RbbmFtZV0ucmVtb3ZlTGlzdGVuZXIobGlzdGVuZXIpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgfTtcbn0pKCk7XG5cbi8qIDFNQiB0YWtlcyB+MjBtcyB0byBlbmNvZGUvZGVjb2RlIHNvIGl0IGRvZXNuJ3QgYmxvY2sgdGhlIHByb2Nlc3Mgb2YgdGhlIGV4dGVuc2lvbiBhbmQgd2ViIHBhZ2UsXG4gKiB3aGljaCBsZXRzIHVzIGFuZCB0aGVtIGJlIHJlc3BvbnNpdmUgdG8gb3RoZXIgZXZlbnRzIG9yIHVzZXIgaW5wdXQuICovXG5jb25zdCBDSFVOS19TSVpFID0gMWU2O1xuXG5hc3luYyBmdW5jdGlvbiBibG9iMmNodW5rKHJlc3BvbnNlLCBpbmRleCkge1xuICByZXR1cm4gYmxvYjJiYXNlNjQocmVzcG9uc2UsIGluZGV4ICogQ0hVTktfU0laRSwgQ0hVTktfU0laRSk7XG59XG5cbmZ1bmN0aW9uIGJsb2Iyb2JqZWN0VXJsKHJlc3BvbnNlKSB7XG4gIGNvbnN0IHVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwocmVzcG9uc2UpO1xuICBjYWNoZS5wdXQoYHhockJsb2I6JHt1cmx9YCwgc2V0VGltZW91dChjb21tYW5kcy5SZXZva2VCbG9iLCA2MGUzLCB1cmwpLCA2MWUzKTtcbiAgcmV0dXJuIHVybDtcbn1cblxuLyoqIEBwYXJhbSB7Vk1IdHRwUmVxdWVzdH0gcmVxICovXG5mdW5jdGlvbiB4aHJDYWxsYmFja1dyYXBwZXIocmVxKSB7XG4gIGxldCBsYXN0UHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZSgpO1xuICBsZXQgY29udGVudFR5cGU7XG4gIGxldCBkYXRhU2l6ZTtcbiAgbGV0IG51bUNodW5rcztcbiAgbGV0IHJlc3BvbnNlO1xuICBsZXQgcmVzcG9uc2VUZXh0O1xuICBsZXQgcmVzcG9uc2VIZWFkZXJzO1xuICBsZXQgc2VudCA9IGZhbHNlO1xuICBjb25zdCB7IGlkLCBibG9iYmVkLCBjaHVua2VkLCB4aHIgfSA9IHJlcTtcbiAgLy8gQ2hyb21lIGVuY29kZXMgbWVzc2FnZXMgdG8gVVRGOCBzbyB0aGV5IGNhbiBncm93IHVwIHRvIDR4IGJ1dCA2NE1CIGlzIHRoZSBtZXNzYWdlIHNpemUgbGltaXRcbiAgY29uc3QgZ2V0Q2h1bmsgPSBibG9iYmVkICYmIGJsb2Iyb2JqZWN0VXJsIHx8IGNodW5rZWQgJiYgYmxvYjJjaHVuaztcbiAgY29uc3QgZ2V0UmVzcG9uc2VIZWFkZXJzID0gKCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSByZXEucmVzcG9uc2VIZWFkZXJzIHx8IHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKTtcbiAgICBpZiAocmVzcG9uc2VIZWFkZXJzICE9PSBoZWFkZXJzKSB7XG4gICAgICByZXNwb25zZUhlYWRlcnMgPSBoZWFkZXJzO1xuICAgICAgcmV0dXJuIHsgcmVzcG9uc2VIZWFkZXJzIH07XG4gICAgfVxuICB9O1xuICByZXR1cm4gKGV2dCkgPT4ge1xuICAgIGNvbnN0IHR5cGUgPSBldnQudHlwZTtcbiAgICBpZiAoIWNvbnRlbnRUeXBlKSB7XG4gICAgICBjb250ZW50VHlwZSA9IHhoci5nZXRSZXNwb25zZUhlYWRlcignQ29udGVudC1UeXBlJykgfHwgJ2FwcGxpY2F0aW9uL29jdGV0LXN0cmVhbSc7XG4gICAgfVxuICAgIGlmICh4aHIucmVzcG9uc2UgIT09IHJlc3BvbnNlKSB7XG4gICAgICByZXNwb25zZSA9IHhoci5yZXNwb25zZTtcbiAgICAgIHNlbnQgPSBmYWxzZTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJlc3BvbnNlVGV4dCA9IHhoci5yZXNwb25zZVRleHQ7XG4gICAgICAgIGlmIChyZXNwb25zZVRleHQgPT09IHJlc3BvbnNlKSByZXNwb25zZVRleHQgPSBbJ3NhbWUnXTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gaWdub3JlIGlmIHJlc3BvbnNlVGV4dCBpcyB1bnJlYWNoYWJsZVxuICAgICAgfVxuICAgICAgaWYgKChibG9iYmVkIHx8IGNodW5rZWQpICYmIHJlc3BvbnNlKSB7XG4gICAgICAgIGRhdGFTaXplID0gcmVzcG9uc2Uuc2l6ZTtcbiAgICAgICAgbnVtQ2h1bmtzID0gY2h1bmtlZCAmJiBNYXRoLmNlaWwoZGF0YVNpemUgLyBDSFVOS19TSVpFKSB8fCAxO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBzaG91bGROb3RpZnkgPSByZXEuZXZlbnRzVG9Ob3RpZnkuaW5jbHVkZXModHlwZSk7XG4gICAgLy8gb25seSBzZW5kIHJlc3BvbnNlIHdoZW4gWEhSIGlzIGNvbXBsZXRlXG4gICAgY29uc3Qgc2hvdWxkU2VuZFJlc3BvbnNlID0geGhyLnJlYWR5U3RhdGUgPT09IDQgJiYgc2hvdWxkTm90aWZ5ICYmICFzZW50O1xuICAgIGxhc3RQcm9taXNlID0gbGFzdFByb21pc2UudGhlbihhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoc2hvdWxkU2VuZFJlc3BvbnNlICYmIGJsb2JiZWQgJiYgcmVxLmZpbGVOYW1lICYmIGNocm9tZSkge1xuICAgICAgICBzZW50ID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIGNocm9tZS5kb3dubG9hZHMuZG93bmxvYWQoe1xuICAgICAgICAgIHVybDogVVJMLmNyZWF0ZU9iamVjdFVSTChyZXNwb25zZSksXG4gICAgICAgICAgZmlsZW5hbWU6IHJlcS5maWxlTmFtZSxcbiAgICAgICAgfSwgZG93bmxvYWRJZCA9PiB7XG4gICAgICAgICAgcmVxLmNiKHtcbiAgICAgICAgICAgIGJsb2JiZWQsXG4gICAgICAgICAgICBjaHVua2VkLFxuICAgICAgICAgICAgY29udGVudFR5cGUsXG4gICAgICAgICAgICBkYXRhU2l6ZSxcbiAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgIGRhdGE6IHsgZmluYWxVcmw6IHhoci5yZXNwb25zZVVSTCwgcmVzcG9uc2U6ICcnLCByZXNwb25zZVRleHQ6IGRvd25sb2FkSWQgfSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGF3YWl0IHJlcS5jYih7XG4gICAgICAgIGJsb2JiZWQsXG4gICAgICAgIGNodW5rZWQsXG4gICAgICAgIGNvbnRlbnRUeXBlLFxuICAgICAgICBkYXRhU2l6ZSxcbiAgICAgICAgaWQsXG4gICAgICAgIG51bUNodW5rcyxcbiAgICAgICAgdHlwZSxcbiAgICAgICAgZGF0YTogc2hvdWxkTm90aWZ5ICYmIHtcbiAgICAgICAgICBmaW5hbFVybDogeGhyLnJlc3BvbnNlVVJMLFxuICAgICAgICAgIC4uLmdldFJlc3BvbnNlSGVhZGVycygpLFxuICAgICAgICAgIC4uLm9iamVjdFBpY2soeGhyLCBbJ3JlYWR5U3RhdGUnLCAnc3RhdHVzJywgJ3N0YXR1c1RleHQnXSksXG4gICAgICAgICAgLi4uKCdsb2FkZWQnIGluIGV2dCkgJiYgb2JqZWN0UGljayhldnQsIFsnbGVuZ3RoQ29tcHV0YWJsZScsICdsb2FkZWQnLCAndG90YWwnXSksXG4gICAgICAgICAgcmVzcG9uc2U6IHNob3VsZFNlbmRSZXNwb25zZVxuICAgICAgICAgICAgPyBudW1DaHVua3MgJiYgYXdhaXQgZ2V0Q2h1bmsocmVzcG9uc2UsIDApIHx8IHJlc3BvbnNlXG4gICAgICAgICAgICA6IG51bGwsXG4gICAgICAgICAgcmVzcG9uc2VUZXh0OiBzaG91bGRTZW5kUmVzcG9uc2VcbiAgICAgICAgICAgID8gcmVzcG9uc2VUZXh0XG4gICAgICAgICAgICA6IG51bGwsXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICAgIGlmIChzaG91bGRTZW5kUmVzcG9uc2UpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBudW1DaHVua3M7IGkgKz0gMSkge1xuICAgICAgICAgIGF3YWl0IHJlcS5jYih7XG4gICAgICAgICAgICBpZCxcbiAgICAgICAgICAgIGNodW5rOiB7XG4gICAgICAgICAgICAgIHBvczogaSAqIENIVU5LX1NJWkUsXG4gICAgICAgICAgICAgIGRhdGE6IGF3YWl0IGdldENodW5rKHJlc3BvbnNlLCBpKSxcbiAgICAgICAgICAgICAgbGFzdDogaSArIDEgPT09IG51bUNodW5rcyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICh0eXBlID09PSAnbG9hZGVuZCcpIHtcbiAgICAgICAgY2xlYXJSZXF1ZXN0KHJlcSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGlzU3BlY2lhbEhlYWRlcihsb3dlckhlYWRlcikge1xuICByZXR1cm4gc3BlY2lhbEhlYWRlcnMuaW5jbHVkZXMobG93ZXJIZWFkZXIpXG4gICAgfHwgbG93ZXJIZWFkZXIuc3RhcnRzV2l0aCgncHJveHktJylcbiAgICB8fCBsb3dlckhlYWRlci5zdGFydHNXaXRoKCdzZWMtJyk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtPYmplY3R9IG9wdHNcbiAqIEBwYXJhbSB7Y2hyb21lLnJ1bnRpbWUuTWVzc2FnZVNlbmRlciB8IGJyb3dzZXIucnVudGltZS5NZXNzYWdlU2VuZGVyfSBzcmNcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNiXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGh0dHBSZXF1ZXN0KG9wdHMsIHNyYywgY2IpIHtcbiAgY29uc3QgeyB0YWIgfSA9IHNyYztcbiAgY29uc3QgeyBpbmNvZ25pdG8gfSA9IHRhYjtcbiAgY29uc3QgeyBhbm9ueW1vdXMsIGlkLCBvdmVycmlkZU1pbWVUeXBlLCB4aHJUeXBlLCB1cmwgfSA9IG9wdHM7XG4gIGNvbnN0IHJlcSA9IHJlcXVlc3RzW2lkXTtcbiAgaWYgKCFyZXEgfHwgcmVxLmNiKSByZXR1cm47XG4gIHJlcS5jYiA9IGNiO1xuICByZXEuZmlsZU5hbWUgPSBvcHRzLmZpbGVOYW1lO1xuICByZXEuYW5vbnltb3VzID0gYW5vbnltb3VzO1xuICBjb25zdCB7IHhociB9ID0gcmVxO1xuICBjb25zdCB2bUhlYWRlcnMgPSBbXTtcbiAgLy8gRmlyZWZveCBjYW4gc2VuZCBCbG9iL0FycmF5QnVmZmVyIGRpcmVjdGx5XG4gIGNvbnN0IGNodW5rZWQgPSAhSVNfRklSRUZPWCAmJiBpbmNvZ25pdG87XG4gIGNvbnN0IGJsb2JiZWQgPSB4aHJUeXBlICYmICFJU19GSVJFRk9YICYmICFpbmNvZ25pdG87XG4gIGNvbnN0IFtib2R5LCBjb250ZW50VHlwZV0gPSBkZWNvZGVCb2R5KG9wdHMuZGF0YSk7XG4gIC8vIENocm9tZSBjYW4ndCBmZXRjaCBCbG9iIFVSTCBpbiBpbmNvZ25pdG8gc28gd2UgdXNlIGNodW5rc1xuICByZXEuYmxvYmJlZCA9IGJsb2JiZWQ7XG4gIHJlcS5jaHVua2VkID0gY2h1bmtlZDtcbiAgLy8gRmlyZWZveCBkb2Vzbid0IHNlbmQgY29va2llcywgaHR0cHM6Ly9naXRodWIuY29tL3Zpb2xlbnRtb25rZXkvdmlvbGVudG1vbmtleS9pc3N1ZXMvNjA2XG4gIC8vIEJvdGggQ2hyb21lICYgRkYgbmVlZCBleHBsaWNpdCByb3V0aW5nIG9mIGNvb2tpZXMgaW4gY29udGFpbmVycyBvciBpbmNvZ25pdG9cbiAgbGV0IHNob3VsZFNlbmRDb29raWVzID0gIWFub255bW91cyAmJiAoaW5jb2duaXRvIHx8IElTX0ZJUkVGT1gpO1xuICB4aHIub3BlbihvcHRzLm1ldGhvZCB8fCAnR0VUJywgdXJsLCB0cnVlLCBvcHRzLnVzZXIgfHwgJycsIG9wdHMucGFzc3dvcmQgfHwgJycpO1xuICB4aHIuc2V0UmVxdWVzdEhlYWRlcihWTV9WRVJJRlksIGlkKTtcbiAgaWYgKGNvbnRlbnRUeXBlKSB4aHIuc2V0UmVxdWVzdEhlYWRlcignQ29udGVudC1UeXBlJywgY29udGVudFR5cGUpO1xuICBvcHRzLmhlYWRlcnM6OmZvckVhY2hFbnRyeSgoW25hbWUsIHZhbHVlXSkgPT4ge1xuICAgIGNvbnN0IGxvd2VyTmFtZSA9IG5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICBpZiAoaXNTcGVjaWFsSGVhZGVyKGxvd2VyTmFtZSkpIHtcbiAgICAgIHZtSGVhZGVycy5wdXNoKHsgbmFtZSwgdmFsdWUgfSk7XG4gICAgfSBlbHNlIGlmICghbG93ZXJOYW1lLnN0YXJ0c1dpdGgoJ3ZtLScpKSB7XG4gICAgICAvLyBgVk0tYCBoZWFkZXJzIGFyZSByZXNlcnZlZFxuICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIobmFtZSwgdmFsdWUpO1xuICAgIH1cbiAgICBpZiAobG93ZXJOYW1lID09PSAnY29va2llJykge1xuICAgICAgc2hvdWxkU2VuZENvb2tpZXMgPSBmYWxzZTtcbiAgICB9XG4gIH0pO1xuICB4aHIucmVzcG9uc2VUeXBlID0gKGNodW5rZWQgfHwgYmxvYmJlZCkgJiYgJ2Jsb2InIHx8IHhoclR5cGUgfHwgJ3RleHQnO1xuICB4aHIudGltZW91dCA9IE1hdGgubWF4KDAsIE1hdGgubWluKDB4N0ZGRl9GRkZGLCBvcHRzLnRpbWVvdXQpKSB8fCAwO1xuICBpZiAob3ZlcnJpZGVNaW1lVHlwZSkgeGhyLm92ZXJyaWRlTWltZVR5cGUob3ZlcnJpZGVNaW1lVHlwZSk7XG4gIGlmIChzaG91bGRTZW5kQ29va2llcykge1xuICAgIHJlcS5ub05hdGl2ZUNvb2tpZSA9IHRydWU7XG4gICAgZm9yIChjb25zdCBzdG9yZSBvZiBhd2FpdCBicm93c2VyLmNvb2tpZXMuZ2V0QWxsQ29va2llU3RvcmVzKCkpIHtcbiAgICAgIGlmIChzdG9yZS50YWJJZHMuaW5jbHVkZXModGFiLmlkKSkge1xuICAgICAgICBpZiAoSVNfRklSRUZPWCA/IHN0b3JlLmlkICE9PSAnZmlyZWZveC1kZWZhdWx0JyA6IHN0b3JlLmlkICE9PSAnMCcpIHtcbiAgICAgICAgICAvKiBDb29raWUgcm91dGluZy4gRm9yIHRoZSBtYWluIHN0b3JlIHdlIHJlbHkgb24gdGhlIGJyb3dzZXIuXG4gICAgICAgICAgICogVGhlIGlkcyBhcmUgaGFyZC1jb2RlZCBhcyBgc3RvcmVzYCBtYXkgb21pdCB0aGUgbWFpbiBzdG9yZSBpZiBubyBzdWNoIHRhYnMgYXJlIG9wZW4uICovXG4gICAgICAgICAgcmVxLnN0b3JlSWQgPSBzdG9yZS5pZDtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKSAvIDEwMDA7XG4gICAgY29uc3QgY29va2llcyA9IChhd2FpdCBicm93c2VyLmNvb2tpZXMuZ2V0QWxsKHtcbiAgICAgIHVybCxcbiAgICAgIHN0b3JlSWQ6IHJlcS5zdG9yZUlkLFxuICAgICAgLi4udWEuZmlyZWZveCA+PSA1OSAmJiB7IGZpcnN0UGFydHlEb21haW46IG51bGwgfSxcbiAgICB9KSkuZmlsdGVyKGMgPT4gYy5zZXNzaW9uIHx8IGMuZXhwaXJhdGlvbkRhdGUgPiBub3cpOyAvLyBGRiByZXBvcnRzIGV4cGlyZWQgY29va2llcyFcbiAgICBpZiAoY29va2llcy5sZW5ndGgpIHtcbiAgICAgIHZtSGVhZGVycy5wdXNoKHtcbiAgICAgICAgbmFtZTogJ2Nvb2tpZScsXG4gICAgICAgIHZhbHVlOiBjb29raWVzLm1hcChjID0+IGAke2MubmFtZX09JHtjLnZhbHVlfTtgKS5qb2luKCcgJyksXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgSGVhZGVySW5qZWN0b3IuYWRkKGlkLCB2bUhlYWRlcnMpO1xuICBjb25zdCBjYWxsYmFjayA9IHhockNhbGxiYWNrV3JhcHBlcihyZXEpO1xuICByZXEuZXZlbnRzVG9Ob3RpZnkuZm9yRWFjaChldnQgPT4geyB4aHJbYG9uJHtldnR9YF0gPSBjYWxsYmFjazsgfSk7XG4gIHhoci5vbmxvYWRlbmQgPSBjYWxsYmFjazsgLy8gYWx3YXlzIHNlbmQgaXQgZm9yIHRoZSBpbnRlcm5hbCBjbGVhbnVwXG4gIHhoci5zZW5kKGJvZHkpO1xufVxuXG4vKiogQHBhcmFtIHtWTUh0dHBSZXF1ZXN0fSByZXEgKi9cbmZ1bmN0aW9uIGNsZWFyUmVxdWVzdChyZXEpIHtcbiAgaWYgKHJlcS5jb3JlSWQpIGRlbGV0ZSB2ZXJpZnlbcmVxLmNvcmVJZF07XG4gIGRlbGV0ZSByZXF1ZXN0c1tyZXEuaWRdO1xuICBkZWxldGUgKHRhYlJlcXVlc3RzW3JlcS50YWJJZF0gfHwge30pW3JlcS5pZF07XG4gIEhlYWRlckluamVjdG9yLmRlbChyZXEuaWQpO1xufVxuXG4vKiogUG9seWZpbGwgZm9yIENocm9tZSdzIGluYWJpbGl0eSB0byBzZW5kIGNvbXBsZXggdHlwZXMgb3ZlciBleHRlbnNpb24gbWVzc2FnaW5nICovXG5mdW5jdGlvbiBkZWNvZGVCb2R5KFtib2R5LCB0eXBlLCB3YXNCbG9iXSkge1xuICBpZiAodHlwZSA9PT0gJ3F1ZXJ5Jykge1xuICAgIHR5cGUgPSAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJztcbiAgfSBlbHNlIGlmICh0eXBlKSB7XG4gICAgLy8gNXggdGltZXMgZmFzdGVyIHRoYW4gZmV0Y2goKSB3aGljaCB3YXN0ZXMgdGltZSBvbiBpbnRlci1wcm9jZXNzIGNvbW11bmljYXRpb25cbiAgICBjb25zdCByZXMgPSBzdHJpbmcydWludDhhcnJheShhdG9iKGJvZHkuc2xpY2UoYm9keS5pbmRleE9mKCcsJykgKyAxKSkpO1xuICAgIGlmICghd2FzQmxvYikge1xuICAgICAgdHlwZSA9IGJvZHkubWF0Y2goL15kYXRhOiguKz8pO2Jhc2U2NC8pWzFdLnJlcGxhY2UoLyhib3VuZGFyeT0pW147XSsvLFxuICAgICAgICAvLyB1c2luZyBhIGZ1bmN0aW9uIHNvIGl0IHJ1bnMgb25seSBpZiBcImJvdW5kYXJ5XCIgd2FzIGZvdW5kXG4gICAgICAgIChfLCBwMSkgPT4gcDEgKyBTdHJpbmcuZnJvbUNoYXJDb2RlKC4uLnJlcy5zbGljZSgyLCByZXMuaW5kZXhPZigxMykpKSk7XG4gICAgfVxuICAgIGJvZHkgPSByZXM7XG4gIH1cbiAgcmV0dXJuIFtib2R5LCB0eXBlXTtcbn1cblxuLy8gV2F0Y2ggVVJMIHJlZGlyZWN0c1xuLy8gYnJvd3Nlci53ZWJSZXF1ZXN0Lm9uQmVmb3JlUmVkaXJlY3QuYWRkTGlzdGVuZXIoZGV0YWlscyA9PiB7XG4vLyAgIGNvbnN0IHJlcUlkID0gdmVyaWZ5W2RldGFpbHMucmVxdWVzdElkXTtcbi8vICAgaWYgKHJlcUlkKSB7XG4vLyAgICAgY29uc3QgcmVxID0gcmVxdWVzdHNbcmVxSWRdO1xuLy8gICAgIGlmIChyZXEpIHJlcS5maW5hbFVybCA9IGRldGFpbHMucmVkaXJlY3RVcmw7XG4vLyAgIH1cbi8vIH0sIHtcbi8vICAgdXJsczogWyc8YWxsX3VybHM+J10sXG4vLyAgIHR5cGVzOiBbJ3htbGh0dHByZXF1ZXN0J10sXG4vLyB9KTtcblxuLy8gdGFza3MgYXJlIG5vdCBuZWNlc3Nhcnkgbm93LCB0dXJuZWQgb2ZmXG4vLyBTdG9wIHJlZGlyZWN0c1xuLy8gYnJvd3Nlci53ZWJSZXF1ZXN0Lm9uSGVhZGVyc1JlY2VpdmVkLmFkZExpc3RlbmVyKGRldGFpbHMgPT4ge1xuLy8gICBjb25zdCB0YXNrID0gdGFza3NbZGV0YWlscy5yZXF1ZXN0SWRdO1xuLy8gICBpZiAodGFzaykge1xuLy8gICAgIGRlbGV0ZSB0YXNrc1tkZXRhaWxzLnJlcXVlc3RJZF07XG4vLyAgICAgaWYgKHRhc2sgPT09ICdHZXQtTG9jYXRpb24nICYmIFszMDEsIDMwMiwgMzAzXS5pbmNsdWRlcyhkZXRhaWxzLnN0YXR1c0NvZGUpKSB7XG4vLyAgICAgICBjb25zdCBsb2NhdGlvbkhlYWRlciA9IGRldGFpbHMucmVzcG9uc2VIZWFkZXJzLmZpbmQoXG4vLyAgICAgICAgIGhlYWRlciA9PiBoZWFkZXIubmFtZS50b0xvd2VyQ2FzZSgpID09PSAnbG9jYXRpb24nKTtcbi8vICAgICAgIGNvbnN0IGJhc2U2NCA9IGxvY2F0aW9uSGVhZGVyICYmIGxvY2F0aW9uSGVhZGVyLnZhbHVlO1xuLy8gICAgICAgcmV0dXJuIHtcbi8vICAgICAgICAgcmVkaXJlY3RVcmw6IGBkYXRhOnRleHQvcGxhaW47Y2hhcnNldD11dGYtOCwke2Jhc2U2NCB8fCAnJ31gLFxuLy8gICAgICAgfTtcbi8vICAgICB9XG4vLyAgIH1cbi8vIH0sIHtcbi8vICAgdXJsczogWyc8YWxsX3VybHM+J10sXG4vLyAgIHR5cGVzOiBbJ3htbGh0dHByZXF1ZXN0J10sXG4vLyB9LCBbJ2Jsb2NraW5nJywgJ3Jlc3BvbnNlSGVhZGVycyddKTtcbi8vIGJyb3dzZXIud2ViUmVxdWVzdC5vbkNvbXBsZXRlZC5hZGRMaXN0ZW5lcihkZXRhaWxzID0+IHtcbi8vICAgZGVsZXRlIHRhc2tzW2RldGFpbHMucmVxdWVzdElkXTtcbi8vIH0sIHtcbi8vICAgdXJsczogWyc8YWxsX3VybHM+J10sXG4vLyAgIHR5cGVzOiBbJ3htbGh0dHByZXF1ZXN0J10sXG4vLyB9KTtcbi8vIGJyb3dzZXIud2ViUmVxdWVzdC5vbkVycm9yT2NjdXJyZWQuYWRkTGlzdGVuZXIoZGV0YWlscyA9PiB7XG4vLyAgIGRlbGV0ZSB0YXNrc1tkZXRhaWxzLnJlcXVlc3RJZF07XG4vLyB9LCB7XG4vLyAgIHVybHM6IFsnPGFsbF91cmxzPiddLFxuLy8gICB0eXBlczogWyd4bWxodHRwcmVxdWVzdCddLFxuLy8gfSk7XG5cbmFzeW5jIGZ1bmN0aW9uIGNvbmZpcm1JbnN0YWxsKHsgY29kZSwgZnJvbSwgdXJsIH0sIHsgdGFiID0ge30gfSkge1xuICBpZiAoIWNvZGUpIGNvZGUgPSAoYXdhaXQgcmVxdWVzdCh1cmwpKS5kYXRhO1xuICAvLyBUT0RPOiBkaXNwbGF5IHRoZSBlcnJvciBpbiBVSVxuICBpZiAoIWlzVXNlclNjcmlwdChjb2RlKSkgdGhyb3cgaTE4bignbXNnSW52YWxpZFNjcmlwdCcpO1xuICBjYWNoZS5wdXQodXJsLCBjb2RlLCAzMDAwKTtcbiAgY29uc3QgY29uZmlybUtleSA9IGdldFVuaXFJZCgpO1xuICBjb25zdCB7IGFjdGl2ZSwgaWQ6IHRhYklkLCBpbmNvZ25pdG8gfSA9IHRhYjtcbiAgLy8gTm90IHRlc3RpbmcgdGFiLnBlbmRpbmdVcmwgYmVjYXVzZSBpdCB3aWxsIGJlIGFsd2F5cyBlcXVhbCB0byBgdXJsYFxuICBjb25zdCBjYW5SZXBsYWNlQ3VyVGFiID0gKCFpbmNvZ25pdG8gfHwgSVNfRklSRUZPWCkgJiYgKFxuICAgIHVybCA9PT0gZnJvbVxuICAgIHx8IGNhY2hlLmhhcyhgYXV0b2Nsb3NlOiR7dGFiSWR9YClcbiAgICB8fCAvXihjaHJvbWU6XFwvXFwvKG5ld3RhYnxzdGFydHBhZ2UpXFwvfGFib3V0Oihob21lfG5ld3RhYikpJC8udGVzdChmcm9tKSk7XG4gIC8qKiBAbmFtZXNwYWNlIFZNQ29uZmlybUNhY2hlICovXG4gIGNhY2hlLnB1dChgY29uZmlybS0ke2NvbmZpcm1LZXl9YCwgeyBpbmNvZ25pdG8sIHVybCwgZnJvbSwgdGFiSWQsIGZmOiB1YS5maXJlZm94IH0pO1xuICBjb25zdCBjb25maXJtVXJsID0gQ09ORklSTV9VUkxfQkFTRSArIGNvbmZpcm1LZXk7XG4gIGNvbnN0IHsgd2luZG93SWQgfSA9IGNhblJlcGxhY2VDdXJUYWJcbiAgICA/IGF3YWl0IGJyb3dzZXIudGFicy51cGRhdGUodGFiSWQsIHsgdXJsOiBjb25maXJtVXJsIH0pXG4gICAgOiBhd2FpdCBjb21tYW5kcy5UYWJPcGVuKHsgdXJsOiBjb25maXJtVXJsLCBhY3RpdmU6ICEhYWN0aXZlIH0sIHsgdGFiIH0pO1xuICBpZiAoYWN0aXZlICYmIHdpbmRvd0lkICE9PSB0YWIud2luZG93SWQpIHtcbiAgICBhd2FpdCBicm93c2VyLndpbmRvd3MudXBkYXRlKHdpbmRvd0lkLCB7IGZvY3VzZWQ6IHRydWUgfSk7XG4gIH1cbn1cblxuY29uc3Qgd2hpdGVsaXN0UmUgPSBuZXcgUmVnRXhwKGBeaHR0cHM6Ly8oJHtcbiAgW1xuICAgICdncmVhc3lmb3JrXFxcXC5vcmcvc2NyaXB0cy8lL2NvZGUvJyxcbiAgICAnb3BlbnVzZXJqc1xcXFwub3JnL2luc3RhbGwvJS8nLFxuICAgICdnaXRodWJcXFxcLmNvbS8lLyUvcmF3LyUvJyxcbiAgICAnZ2l0aHViXFxcXC5jb20vJS8lL3JlbGVhc2VzLyUvZG93bmxvYWQvJyxcbiAgICAncmF3XFxcXC5naXRodWJ1c2VyY29udGVudFxcXFwuY29tKC8lKXszfS8nLFxuICAgICdnaXN0XFxcXC5naXRodWJcXFxcLmNvbS8uKj8vJyxcbiAgXS5qb2luKCd8Jylcbn0pJT9cXFxcLnVzZXJcXFxcLmpzKFs/I118JClgLnJlcGxhY2UoLyUvZywgJ1teL10qJykpO1xuXG5jb25zdCBibGFja2xpc3RSZSA9IG5ldyBSZWdFeHAoYF5odHRwczovLygke1xuICBbXG4gICAgJyhnaXN0XFxcXC4pP2dpdGh1YlxcXFwuY29tJyxcbiAgICAnZ3JlYXN5Zm9ya1xcXFwub3JnJyxcbiAgICAnb3BlbnVzZXJqc1xcXFwub3JnJyxcbiAgXS5qb2luKCd8Jylcbn0pL2ApO1xuXG5jb25zdCByZXNvbHZlVmlydHVhbFVybCA9IHVybCA9PiAoXG4gIGAke2V4dGVuc2lvblJvb3R9b3B0aW9ucy9pbmRleC5odG1sI3NjcmlwdHMvJHsrdXJsLnNwbGl0KCcjJylbMV19YFxuKTtcbi8vIEZGIGNhbid0IGludGVyY2VwdCB2aXJ0dWFsIC51c2VyLmpzIFVSTCB2aWEgd2ViUmVxdWVzdCwgc28gd2UgcmVkaXJlY3QgaXQgZXhwbGljaXRseVxuY29uc3QgdmlydHVhbFVybFJlID0gSVNfRklSRUZPWCAmJiBuZXcgUmVnRXhwKChcbiAgYF4odmlldy1zb3VyY2U6KT8oJHtleHRlbnNpb25Sb290LnJlcGxhY2UoJzovLycsICckJik/Jyl9W14vXSpcXFxcLnVzZXJcXFxcLmpzI1xcXFxkK2BcbikpO1xuY29uc3QgbWF5YmVSZWRpcmVjdFZpcnR1YWxVcmxGRiA9IHZpcnR1YWxVcmxSZSAmJiAoKHRhYklkLCBzcmMpID0+IHtcbiAgaWYgKHZpcnR1YWxVcmxSZS50ZXN0KHNyYykpIHtcbiAgICBicm93c2VyLnRhYnMudXBkYXRlKHRhYklkLCB7IHVybDogcmVzb2x2ZVZpcnR1YWxVcmwoc3JjKSB9KTtcbiAgfVxufSk7XG5pZiAodmlydHVhbFVybFJlKSB7XG4gIGNvbnN0IGxpc3RlbmVyID0gKHRhYklkLCB7IHVybCB9KSA9PiB1cmwgJiYgbWF5YmVSZWRpcmVjdFZpcnR1YWxVcmxGRih0YWJJZCwgdXJsKTtcbiAgY29uc3QgYXBpRXZlbnQgPSBicm93c2VyLnRhYnMub25VcGRhdGVkO1xuICBjb25zdCBhZGRMaXN0ZW5lciA9IGFwaUV2ZW50LmFkZExpc3RlbmVyLmJpbmQoYXBpRXZlbnQsIGxpc3RlbmVyKTtcbiAgdHJ5IHsgYWRkTGlzdGVuZXIoeyBwcm9wZXJ0aWVzOiBbJ3VybCddIH0pOyB9IGNhdGNoIChlKSB7IGFkZExpc3RlbmVyKCk7IH1cbn1cblxuYnJvd3Nlci50YWJzLm9uQ3JlYXRlZC5hZGRMaXN0ZW5lcigodGFiKSA9PiB7XG4gIGNvbnN0IHsgaWQsIHRpdGxlLCB1cmwgfSA9IHRhYjtcbiAgLyogRGV0ZXJtaW5pbmcgaWYgdGhpcyB0YWIgY2FuIGJlIGF1dG8tY2xvc2VkIChyZXBsYWNlZCwgYWN0dWFsbHkpLlxuICAgICBGRj49NjggYWxsb3dzIHJlYWRpbmcgZmlsZTogVVJMIG9ubHkgaW4gdGhlIHRhYidzIGNvbnRlbnQgc2NyaXB0IHNvIHRoZSB0YWIgbXVzdCBzdGF5IG9wZW4uICovXG4gIGlmICgoIXVybC5zdGFydHNXaXRoKCdmaWxlOicpIHx8IHVhLmZpcmVmb3ggPCA2OClcbiAgICAgICYmIC9cXC51c2VyXFwuanMoWz8jXXwkKS8udGVzdCh0YWIucGVuZGluZ1VybCB8fCB1cmwpKSB7XG4gICAgY2FjaGUucHV0KGBhdXRvY2xvc2U6JHtpZH1gLCB0cnVlLCAxMGUzKTtcbiAgfVxuICBpZiAodmlydHVhbFVybFJlICYmIHVybCA9PT0gJ2Fib3V0OmJsYW5rJykge1xuICAgIG1heWJlUmVkaXJlY3RWaXJ0dWFsVXJsRkYoaWQsIHRpdGxlKTtcbiAgfVxufSk7XG5cbmJyb3dzZXIud2ViUmVxdWVzdC5vbkJlZm9yZVJlcXVlc3QuYWRkTGlzdGVuZXIoKHJlcSkgPT4ge1xuICBjb25zdCB7IG1ldGhvZCwgdGFiSWQsIHVybCB9ID0gcmVxO1xuICBpZiAobWV0aG9kICE9PSAnR0VUJykge1xuICAgIHJldHVybjtcbiAgfVxuICAvLyBvcGVuIGEgcmVhbCBVUkwgZm9yIHNpbXBsaWZpZWQgdXNlcnNjcmlwdCBVUkwgbGlzdGVkIGluIGRldnRvb2xzIG9mIHRoZSB3ZWIgcGFnZVxuICBpZiAodXJsLnN0YXJ0c1dpdGgoZXh0ZW5zaW9uUm9vdCkpIHtcbiAgICByZXR1cm4geyByZWRpcmVjdFVybDogcmVzb2x2ZVZpcnR1YWxVcmwodXJsKSB9O1xuICB9XG4gIGlmICghY2FjaGUuaGFzKGBieXBhc3M6JHt1cmx9YClcbiAgJiYgKCFibGFja2xpc3RSZS50ZXN0KHVybCkgfHwgd2hpdGVsaXN0UmUudGVzdCh1cmwpKSkge1xuICAgIG1heWJlSW5zdGFsbFVzZXJKcyh0YWJJZCwgdXJsKTtcbiAgICByZXR1cm4geyByZWRpcmVjdFVybDogJ2phdmFzY3JpcHQ6dm9pZCAwJyB9OyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXNjcmlwdC11cmxcbiAgfVxufSwge1xuICB1cmxzOiBbXG4gICAgLy8gMS4gKjovLyBjb21wcmlzZXMgb25seSBodHRwL2h0dHBzXG4gICAgLy8gMi4gdGhlIEFQSSBpZ25vcmVzICNoYXNoIHBhcnRcbiAgICAvLyAzLiBGaXJlZm94OiBvbkJlZm9yZVJlcXVlc3QgZG9lcyBub3Qgd29yayB3aXRoIGZpbGU6Ly8gb3IgbW96LWV4dGVuc2lvbjovL1xuICAgICcqOi8vKi8qLnVzZXIuanMnLFxuICAgICcqOi8vKi8qLnVzZXIuanM/KicsXG4gICAgJ2ZpbGU6Ly8qLyoudXNlci5qcycsXG4gICAgJ2ZpbGU6Ly8qLyoudXNlci5qcz8qJyxcbiAgICBgJHtleHRlbnNpb25Sb290fSoudXNlci5qc2AsXG4gIF0sXG4gIHR5cGVzOiBbJ21haW5fZnJhbWUnXSxcbn0sIFsnYmxvY2tpbmcnXSk7XG5cbmFzeW5jIGZ1bmN0aW9uIG1heWJlSW5zdGFsbFVzZXJKcyh0YWJJZCwgdXJsKSB7XG4gIGNvbnN0IHsgZGF0YTogY29kZSB9ID0gYXdhaXQgcmVxdWVzdCh1cmwpLmNhdGNoKG5vb3ApIHx8IHt9O1xuICBpZiAoY29kZSAmJiBwYXJzZU1ldGEoY29kZSkubmFtZSkge1xuICAgIGNvbnN0IHRhYiA9IHRhYklkID49IDAgJiYgYXdhaXQgYnJvd3Nlci50YWJzLmdldCh0YWJJZCkgfHwge307XG4gICAgY29uZmlybUluc3RhbGwoeyBjb2RlLCB1cmwsIGZyb206IHRhYi51cmwgfSwgeyB0YWIgfSk7XG4gIH0gZWxzZSB7XG4gICAgY2FjaGUucHV0KGBieXBhc3M6JHt1cmx9YCwgdHJ1ZSwgMTBlMyk7XG4gICAgaWYgKHRhYklkID49IDApIGJyb3dzZXIudGFicy51cGRhdGUodGFiSWQsIHsgdXJsIH0pO1xuICB9XG59XG5cbi8vIEluIEZpcmVmb3ggd2l0aCBwcm9kdWN0aW9uIGNvZGUgb2YgVmlvbGVudG1vbmtleSwgc2NyaXB0cyBjYW4gYmUgaW5qZWN0ZWQgYmVmb3JlIGB0YWJzLm9uVXBkYXRlZGAgaXMgZmlyZWQuXG4vLyBSZWY6IGh0dHBzOi8vZ2l0aHViLmNvbS92aW9sZW50bW9ua2V5L3Zpb2xlbnRtb25rZXkvaXNzdWVzLzEyNTVcblxuYnJvd3Nlci50YWJzLm9uUmVtb3ZlZC5hZGRMaXN0ZW5lcigodGFiSWQpID0+IHtcbiAgY2xlYXJSZXF1ZXN0c0J5VGFiSWQodGFiSWQpO1xufSk7XG5cbmV4cG9ydCBmdW5jdGlvbiBjbGVhclJlcXVlc3RzQnlUYWJJZCh0YWJJZCkge1xuICBjb25zdCBzZXQgPSB0YWJSZXF1ZXN0c1t0YWJJZF07XG4gIGlmIChzZXQpIHtcbiAgICBkZWxldGUgdGFiUmVxdWVzdHNbdGFiSWRdO1xuICAgIHNldDo6Zm9yRWFjaEVudHJ5KChbaWRdKSA9PiBjb21tYW5kcy5BYm9ydFJlcXVlc3QoaWQpKTtcbiAgfVxufVxuXG4vKipcbiAqIEltaXRhdGluZyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9kb2NzL1dlYi9BUEkvWE1MSHR0cFJlcXVlc3QvZ2V0QWxsUmVzcG9uc2VIZWFkZXJzXG4gKiBQZXIgdGhlIHNwZWNpZmljYXRpb24gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzcyMzAgdGhlIGhlYWRlciBuYW1lIGlzIHdpdGhpbiBBU0NJSSxcbiAqIGJ1dCB3ZSdsbCB0cnkgZW5jb2RpbmcgaXQsIGlmIG5lY2Vzc2FyeSwgdG8gaGFuZGxlIGludmFsaWQgc2VydmVyIHJlc3BvbnNlcy5cbiAqL1xuZnVuY3Rpb24gZW5jb2RlV2ViUmVxdWVzdEhlYWRlcih7IG5hbWUsIHZhbHVlLCBiaW5hcnlWYWx1ZSB9KSB7XG4gIHJldHVybiBgJHtzdHJpbmcyYnl0ZVN0cmluZyhuYW1lKX06ICR7XG4gICAgYmluYXJ5VmFsdWVcbiAgICAgID8gYnVmZmVyMnN0cmluZyhiaW5hcnlWYWx1ZSlcbiAgICAgIDogc3RyaW5nMmJ5dGVTdHJpbmcodmFsdWUpXG4gIH1cXHJcXG5gO1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBVVEY4LWVuY29kZWQgYmluYXJ5IHN0cmluZyBpLmUuIG9uZSBieXRlIHBlciBjaGFyYWN0ZXIuXG4gKiBSZXR1cm5zIHRoZSBvcmlnaW5hbCBzdHJpbmcgaW4gY2FzZSBpdCB3YXMgYWxyZWFkeSB3aXRoaW4gQVNDSUkuXG4gKi9cbmZ1bmN0aW9uIHN0cmluZzJieXRlU3RyaW5nKHN0cikge1xuICBpZiAoIS9bXFx1MDA4MC1cXHVGRkZGXS8udGVzdChzdHIpKSByZXR1cm4gc3RyO1xuICBpZiAoIWVuY29kZXIpIGVuY29kZXIgPSBuZXcgVGV4dEVuY29kZXIoKTtcbiAgcmV0dXJuIGJ1ZmZlcjJzdHJpbmcoZW5jb2Rlci5lbmNvZGUoc3RyKSk7XG59XG5cbi8qKiBAdHlwZWRlZiB7e1xuICBhbm9ueW1vdXM6IGJvb2xlYW5cbiAgYmxvYmJlZDogYm9vbGVhblxuICBjYjogZnVuY3Rpb24oT2JqZWN0KVxuICBjaHVua2VkOiBib29sZWFuXG4gIGNvcmVJZDogbnVtYmVyXG4gIGV2ZW50c1RvTm90aWZ5OiBzdHJpbmdbXVxuICBpZDogbnVtYmVyXG4gIG5vTmF0aXZlQ29va2llOiBib29sZWFuXG4gIHJlc3BvbnNlSGVhZGVyczogc3RyaW5nXG4gIHN0b3JlSWQ6IHN0cmluZ1xuICB0YWJJZDogbnVtYmVyXG4gIHhocjogWE1MSHR0cFJlcXVlc3Rcbn19IFZNSHR0cFJlcXVlc3QgKi9cbiIsImltcG9ydCB7IGdldFVuaXFJZCwgZW5jb2RlRmlsZW5hbWUgfSBmcm9tICcjL2NvbW1vbic7XG5pbXBvcnQgeyBNRVRBQkxPQ0tfUkUgfSBmcm9tICcjL2NvbW1vbi9jb25zdHMnO1xuaW1wb3J0IHsgbWFwRW50cnkgfSBmcm9tICcjL2NvbW1vbi9vYmplY3QnO1xuaW1wb3J0IHsgY29tbWFuZHMgfSBmcm9tICcuL21lc3NhZ2UnO1xuaW1wb3J0IHsgZ2V0T3B0aW9uIH0gZnJvbSAnLi9vcHRpb25zJztcbmltcG9ydCBjYWNoZSBmcm9tICcuL2NhY2hlJztcblxuT2JqZWN0LmFzc2lnbihjb21tYW5kcywge1xuICAvKiogQHJldHVybiB7c3RyaW5nfSAqL1xuICBDYWNoZU5ld1NjcmlwdChkYXRhKSB7XG4gICAgY29uc3QgaWQgPSBnZXRVbmlxSWQoKTtcbiAgICBjYWNoZS5wdXQoYG5ldy0ke2lkfWAsIG5ld1NjcmlwdChkYXRhKSk7XG4gICAgcmV0dXJuIGlkO1xuICB9LFxuICAvKiogQHJldHVybiB7Vk1TY3JpcHR9ICovXG4gIE5ld1NjcmlwdChpZCkge1xuICAgIHJldHVybiBpZCAmJiBjYWNoZS5nZXQoYG5ldy0ke2lkfWApIHx8IG5ld1NjcmlwdCgpO1xuICB9LFxuICBQYXJzZU1ldGE6IHBhcnNlTWV0YSxcbn0pO1xuXG5leHBvcnQgZnVuY3Rpb24gaXNVc2VyU2NyaXB0KHRleHQpIHtcbiAgaWYgKC9eXFxzKjwvLnRlc3QodGV4dCkpIHJldHVybiBmYWxzZTsgLy8gSFRNTFxuICBpZiAodGV4dC5pbmRleE9mKCcvLyA9PVVzZXJTY3JpcHQ9PScpIDwgMCkgcmV0dXJuIGZhbHNlOyAvLyBMYWNrIG9mIG1ldGEgYmxvY2tcbiAgcmV0dXJuIHRydWU7XG59XG5cbmNvbnN0IGFycmF5VHlwZSA9IHtcbiAgZGVmYXVsdDogKCkgPT4gW10sXG4gIHRyYW5zZm9ybTogKHJlcywgdmFsKSA9PiB7XG4gICAgcmVzLnB1c2godmFsKTtcbiAgICByZXR1cm4gcmVzO1xuICB9LFxufTtcbmNvbnN0IGRlZmF1bHRUeXBlID0ge1xuICBkZWZhdWx0OiAoKSA9PiBudWxsLFxuICB0cmFuc2Zvcm06IChyZXMsIHZhbCkgPT4gKHJlcyA9PSBudWxsID8gdmFsIDogcmVzKSxcbn07XG5jb25zdCBtZXRhVHlwZXMgPSB7XG4gIGluY2x1ZGU6IGFycmF5VHlwZSxcbiAgZXhjbHVkZTogYXJyYXlUeXBlLFxuICBtYXRjaDogYXJyYXlUeXBlLFxuICBleGNsdWRlTWF0Y2g6IGFycmF5VHlwZSxcbiAgcmVxdWlyZTogYXJyYXlUeXBlLFxuICByZXNvdXJjZToge1xuICAgIGRlZmF1bHQ6ICgpID0+ICh7fSksXG4gICAgdHJhbnNmb3JtOiAocmVzLCB2YWwpID0+IHtcbiAgICAgIGNvbnN0IHBhaXIgPSB2YWwubWF0Y2goL14oXFx3XFxTKilcXHMrKC4qKS8pO1xuICAgICAgaWYgKHBhaXIpIHJlc1twYWlyWzFdXSA9IHBhaXJbMl07XG4gICAgICByZXR1cm4gcmVzO1xuICAgIH0sXG4gIH0sXG4gIGdyYW50OiBhcnJheVR5cGUsXG4gIG5vZnJhbWVzOiB7XG4gICAgZGVmYXVsdDogKCkgPT4gZmFsc2UsXG4gICAgdHJhbnNmb3JtOiAoKSA9PiB0cnVlLFxuICB9LFxufTtcbmNvbnN0IG1ldGFPcHRpb25hbFR5cGVzID0ge1xuICBhbnRpZmVhdHVyZTogYXJyYXlUeXBlLFxuICBjb21wYXRpYmxlOiBhcnJheVR5cGUsXG4gIGNvbm5lY3Q6IGFycmF5VHlwZSxcbn07XG5leHBvcnQgZnVuY3Rpb24gcGFyc2VNZXRhKGNvZGUpIHtcbiAgLy8gaW5pdGlhbGl6ZSBtZXRhXG4gIGNvbnN0IG1ldGEgPSBtZXRhVHlwZXM6Om1hcEVudHJ5KChbLCB2YWx1ZV0pID0+IHZhbHVlLmRlZmF1bHQoKSk7XG4gIGNvbnN0IG1ldGFCb2R5ID0gY29kZS5tYXRjaChNRVRBQkxPQ0tfUkUpWzFdIHx8ICcnO1xuICBtZXRhQm9keS5yZXBsYWNlKC8oPzpefFxcbilcXHMqXFwvXFwvXFx4MjAoQFxcUyspKC4qKS9nLCAoX21hdGNoLCByYXdLZXksIHJhd1ZhbHVlKSA9PiB7XG4gICAgY29uc3QgW2tleU5hbWUsIGxvY2FsZV0gPSByYXdLZXkuc2xpY2UoMSkuc3BsaXQoJzonKTtcbiAgICBjb25zdCBjYW1lbEtleSA9IGtleU5hbWUucmVwbGFjZSgvWy1fXShcXHcpL2csIChtLCBnKSA9PiBnLnRvVXBwZXJDYXNlKCkpO1xuICAgIGNvbnN0IGtleSA9IGxvY2FsZSA/IGAke2NhbWVsS2V5fToke2xvY2FsZS50b0xvd2VyQ2FzZSgpfWAgOiBjYW1lbEtleTtcbiAgICBjb25zdCB2YWwgPSByYXdWYWx1ZS50cmltKCk7XG4gICAgY29uc3QgbWV0YVR5cGUgPSBtZXRhVHlwZXNba2V5XSB8fCBtZXRhT3B0aW9uYWxUeXBlc1trZXldIHx8IGRlZmF1bHRUeXBlO1xuICAgIGxldCBvbGRWYWx1ZSA9IG1ldGFba2V5XTtcbiAgICBpZiAodHlwZW9mIG9sZFZhbHVlID09PSAndW5kZWZpbmVkJykgb2xkVmFsdWUgPSBtZXRhVHlwZS5kZWZhdWx0KCk7XG4gICAgbWV0YVtrZXldID0gbWV0YVR5cGUudHJhbnNmb3JtKG9sZFZhbHVlLCB2YWwpO1xuICB9KTtcbiAgbWV0YS5yZXNvdXJjZXMgPSBtZXRhLnJlc291cmNlO1xuICBkZWxldGUgbWV0YS5yZXNvdXJjZTtcbiAgLy8gQGhvbWVwYWdlVVJMOiBjb21wYXRpYmxlIHdpdGggQGhvbWVwYWdlXG4gIGlmICghbWV0YS5ob21lcGFnZVVSTCAmJiBtZXRhLmhvbWVwYWdlKSBtZXRhLmhvbWVwYWdlVVJMID0gbWV0YS5ob21lcGFnZTtcbiAgcmV0dXJuIG1ldGE7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXREZWZhdWx0Q3VzdG9tKCkge1xuICByZXR1cm4ge1xuICAgIG9yaWdJbmNsdWRlOiB0cnVlLFxuICAgIG9yaWdFeGNsdWRlOiB0cnVlLFxuICAgIG9yaWdNYXRjaDogdHJ1ZSxcbiAgICBvcmlnRXhjbHVkZU1hdGNoOiB0cnVlLFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbmV3U2NyaXB0KGRhdGEpIHtcbiAgY29uc3Qgc3RhdGUgPSB7XG4gICAgdXJsOiAnKjovLyovKicsXG4gICAgbmFtZTogJycsXG4gICAgZGF0ZTogbmV3IERhdGUoKS50b0xvY2FsZVN0cmluZygpLFxuICAgIC4uLmRhdGEsXG4gIH07XG4gIGNvbnN0IGNvZGUgPSBnZXRPcHRpb24oJ3NjcmlwdFRlbXBsYXRlJylcbiAgLnJlcGxhY2UoL3t7KFxcdyspfX0vZywgKHN0ciwgbmFtZSkgPT4ge1xuICAgIGNvbnN0IHZhbHVlID0gc3RhdGVbbmFtZV07XG4gICAgcmV0dXJuIHZhbHVlID09IG51bGwgPyBzdHIgOiB2YWx1ZTtcbiAgfSk7XG4gIGNvbnN0IHNjcmlwdCA9IHtcbiAgICBjdXN0b206IGdldERlZmF1bHRDdXN0b20oKSxcbiAgICBjb25maWc6IHtcbiAgICAgIGVuYWJsZWQ6IDEsXG4gICAgICBzaG91bGRVcGRhdGU6IDEsXG4gICAgfSxcbiAgICBtZXRhOiBwYXJzZU1ldGEoY29kZSksXG4gICAgcHJvcHM6IHt9LFxuICB9O1xuICByZXR1cm4geyBzY3JpcHQsIGNvZGUgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldE5hbWVVUkkoc2NyaXB0KSB7XG4gIGNvbnN0IG5zID0gc2NyaXB0Lm1ldGEubmFtZXNwYWNlIHx8ICcnO1xuICBjb25zdCBuYW1lID0gc2NyaXB0Lm1ldGEubmFtZSB8fCAnJztcbiAgbGV0IG5hbWVVUkkgPSBlbmNvZGVGaWxlbmFtZShgJHtuc31cXG4ke25hbWV9XFxuYCk7XG4gIGlmICghbnMgJiYgIW5hbWUpIG5hbWVVUkkgKz0gc2NyaXB0LnByb3BzLmlkIHx8ICcnO1xuICByZXR1cm4gbmFtZVVSSTtcbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBsb2FkUXVlcnkoc3RyaW5nKSB7XG4gIHJldHVybiBzdHJpbmcuc3BsaXQoJyYnKS5yZWR1Y2UoKGRhdGEsIHBpZWNlKSA9PiB7XG4gICAgY29uc3QgW2tleSwgdmFsXSA9IHBpZWNlLnNwbGl0KCc9JykubWFwKGRlY29kZVVSSUNvbXBvbmVudCk7XG4gICAgZGF0YVtrZXldID0gdmFsO1xuICAgIHJldHVybiBkYXRhO1xuICB9LCB7fSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkdW1wUXVlcnkoZGljdCkge1xuICByZXR1cm4gT2JqZWN0LmVudHJpZXMoZGljdClcbiAgLm1hcChrZXlWYWwgPT4ga2V5VmFsLm1hcChlbmNvZGVVUklDb21wb25lbnQpLmpvaW4oJz0nKSlcbiAgLmpvaW4oJyYnKTtcbn1cbiIsImltcG9ydCB7IHJlcXVlc3QgfSBmcm9tICcjL2NvbW1vbic7XG5pbXBvcnQgc3RvcmFnZSBmcm9tICcjL2NvbW1vbi9zdG9yYWdlJztcblxuLyoqIEB0eXBlIHsgZnVuY3Rpb24odXJsLCBvcHRpb25zLCBjaGVjayk6IFByb21pc2U8dm9pZD4gfSBvciB0aHJvd3Mgb24gZXJyb3IgKi9cbnN0b3JhZ2UuY2FjaGUuZmV0Y2ggPSBjYWNoZU9yRmV0Y2goe1xuICBpbml0KG9wdGlvbnMpIHtcbiAgICByZXR1cm4geyAuLi5vcHRpb25zLCByZXNwb25zZVR5cGU6ICdibG9iJyB9O1xuICB9LFxuICBhc3luYyB0cmFuc2Zvcm0ocmVzcG9uc2UsIHVybCwgb3B0aW9ucywgY2hlY2spIHtcbiAgICBjb25zdCBbdHlwZSwgYm9keV0gPSBhd2FpdCBzdG9yYWdlLmNhY2hlLm1ha2VSYXcocmVzcG9uc2UsIHRydWUpO1xuICAgIGF3YWl0IGNoZWNrPy4odXJsLCByZXNwb25zZS5kYXRhLCB0eXBlKTtcbiAgICByZXR1cm4gYCR7dHlwZX0sJHtib2R5fWA7XG4gIH0sXG59KTtcblxuLyoqIEB0eXBlIHsgZnVuY3Rpb24odXJsLCBvcHRpb25zKTogUHJvbWlzZTx2b2lkPiB9IG9yIHRocm93cyBvbiBlcnJvciAqL1xuc3RvcmFnZS5yZXF1aXJlLmZldGNoID0gY2FjaGVPckZldGNoKHtcbiAgdHJhbnNmb3JtOiAoeyBkYXRhIH0sIHVybCkgPT4gKFxuICAgIC9eXFxzKjwvLnRlc3QoZGF0YSlcbiAgICAgID8gUHJvbWlzZS5yZWplY3QoYE5PVF9KUzogJHt1cmx9IFwiJHtkYXRhLnNsaWNlKDAsIDEwMCkudHJpbSgpLnJlcGxhY2UoL1xcc3syLH0vZywgJyAnKX1cImApXG4gICAgICA6IGRhdGFcbiAgKSxcbn0pO1xuXG5mdW5jdGlvbiBjYWNoZU9yRmV0Y2goaGFuZGxlcnMgPSB7fSkge1xuICBjb25zdCByZXF1ZXN0cyA9IHt9O1xuICBjb25zdCB7IGluaXQsIHRyYW5zZm9ybSB9ID0gaGFuZGxlcnM7XG4gIC8qKiBAdGhpcyBWTVN0b3JhZ2VCYXNlICovXG4gIHJldHVybiBmdW5jdGlvbiBjYWNoZU9yRmV0Y2hIYW5kbGVyKC4uLmFyZ3MpIHtcbiAgICBjb25zdCBbdXJsXSA9IGFyZ3M7XG4gICAgY29uc3QgcHJvbWlzZSA9IHJlcXVlc3RzW3VybF0gfHwgKHJlcXVlc3RzW3VybF0gPSB0aGlzOjpkb0ZldGNoKC4uLmFyZ3MpKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfTtcbiAgLyoqIEB0aGlzIFZNU3RvcmFnZUJhc2UgKi9cbiAgYXN5bmMgZnVuY3Rpb24gZG9GZXRjaCguLi5hcmdzKSB7XG4gICAgY29uc3QgW3VybCwgb3B0aW9uc10gPSBhcmdzO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXMgPSBhd2FpdCByZXF1ZXN0KHVybCwgaW5pdD8uKG9wdGlvbnMpIHx8IG9wdGlvbnMpO1xuICAgICAgaWYgKGF3YWl0IGlzTW9kaWZpZWQocmVzLCB1cmwpKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRyYW5zZm9ybSA/IGF3YWl0IHRyYW5zZm9ybShyZXMsIC4uLmFyZ3MpIDogcmVzLmRhdGE7XG4gICAgICAgIGF3YWl0IHRoaXMuc2V0KHVybCwgcmVzdWx0KTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5ERUJVRykgY29uc29sZS5lcnJvcihgRXJyb3IgZmV0Y2hpbmc6ICR7dXJsfWAsIGVycik7XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGRlbGV0ZSByZXF1ZXN0c1t1cmxdO1xuICAgIH1cbiAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBpc01vZGlmaWVkKHsgaGVhZGVycyB9LCB1cmwpIHtcbiAgY29uc3QgbW9kID0gaGVhZGVycy5nZXQoJ2V0YWcnKVxuICB8fCArbmV3IERhdGUoaGVhZGVycy5nZXQoJ2xhc3QtbW9kaWZpZWQnKSlcbiAgfHwgK25ldyBEYXRlKGhlYWRlcnMuZ2V0KCdkYXRlJykpO1xuICBpZiAoIW1vZCB8fCBtb2QgIT09IGF3YWl0IHN0b3JhZ2UubW9kLmdldE9uZSh1cmwpKSB7XG4gICAgaWYgKG1vZCkgYXdhaXQgc3RvcmFnZS5tb2Quc2V0KHVybCwgbW9kKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgZ2V0QWN0aXZlVGFiLCBub29wLCBzZW5kVGFiQ21kLCBnZXRGdWxsVXJsIH0gZnJvbSAnIy9jb21tb24nO1xuaW1wb3J0IHsgZGVlcENvcHkgfSBmcm9tICcjL2NvbW1vbi9vYmplY3QnO1xuaW1wb3J0IHVhIGZyb20gJyMvY29tbW9uL3VhJztcbmltcG9ydCB7IGV4dGVuc2lvblJvb3QgfSBmcm9tICcuL2luaXQnO1xuaW1wb3J0IHsgY29tbWFuZHMgfSBmcm9tICcuL21lc3NhZ2UnO1xuaW1wb3J0IHsgZ2V0T3B0aW9uIH0gZnJvbSAnLi9vcHRpb25zJztcblxuY29uc3Qgb3BlbmVycyA9IHt9O1xuXG5PYmplY3QuYXNzaWduKGNvbW1hbmRzLCB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gW3BhdGhJZF0gLSBwYXRoIG9yIGlkIHRvIGFkZCB0byAjc2NyaXB0cyByb3V0ZSBpbiBkYXNoYm9hcmQsXG4gICAgIGlmIGFic2VudCBhIG5ldyBzY3JpcHQgd2lsbCBiZSBjcmVhdGVkIGZvciBhY3RpdmUgdGFiJ3MgVVJMXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHtpZDogbnVtYmVyfT59XG4gICAqL1xuICBhc3luYyBPcGVuRWRpdG9yKHBhdGhJZCkge1xuICAgIGlmICghcGF0aElkKSB7XG4gICAgICBjb25zdCB7IHRhYiwgZG9tYWluIH0gPSBhd2FpdCBjb21tYW5kcy5HZXRUYWJEb21haW4oKTtcbiAgICAgIGNvbnN0IGlkID0gZG9tYWluICYmIGNvbW1hbmRzLkNhY2hlTmV3U2NyaXB0KHtcbiAgICAgICAgdXJsOiAodGFiLnBlbmRpbmdVcmwgfHwgdGFiLnVybCkuc3BsaXQoL1sjP10vKVswXSxcbiAgICAgICAgbmFtZTogYCR7Z2V0T3B0aW9uKCdzY3JpcHRUZW1wbGF0ZUVkaXRlZCcpID8gJycgOiAnLSAnfSR7ZG9tYWlufWAsXG4gICAgICB9KTtcbiAgICAgIHBhdGhJZCA9IGBfbmV3JHtpZCA/IGAvJHtpZH1gIDogJyd9YDtcbiAgICB9XG4gICAgY29uc3QgdXJsID0gYCR7ZXh0ZW5zaW9uUm9vdH1vcHRpb25zL2luZGV4Lmh0bWwjc2NyaXB0cy8ke3BhdGhJZH1gO1xuICAgIC8vIEZpcmVmb3ggdW50aWwgdjU2IGRvZXNuJ3Qgc3VwcG9ydCBtb3otZXh0ZW5zaW9uOi8vIHBhdHRlcm4gaW4gYnJvd3Nlci50YWJzLnF1ZXJ5KClcbiAgICBmb3IgKGNvbnN0IHZpZXcgb2YgYnJvd3Nlci5leHRlbnNpb24uZ2V0Vmlld3MoKSkge1xuICAgICAgaWYgKHZpZXcubG9jYXRpb24uaHJlZiA9PT0gdXJsKSB7XG4gICAgICAgIC8vIGRlZXAtY29weWluZyB0byBhdm9pZCBkZWFkIG9iamVjdHNcbiAgICAgICAgY29uc3QgdGFiID0gZGVlcENvcHkoYXdhaXQgdmlldy5icm93c2VyLnRhYnMuZ2V0Q3VycmVudCgpKTtcbiAgICAgICAgYnJvd3Nlci50YWJzLnVwZGF0ZSh0YWIuaWQsIHsgYWN0aXZlOiB0cnVlIH0pO1xuICAgICAgICBicm93c2VyLndpbmRvd3MudXBkYXRlKHRhYi53aW5kb3dJZCwgeyBmb2N1c2VkOiB0cnVlIH0pO1xuICAgICAgICByZXR1cm4gdGFiO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY29tbWFuZHMuVGFiT3Blbih7IHVybCwgbWF5YmVJbldpbmRvdzogdHJ1ZSB9KTtcbiAgfSxcbiAgLyoqIEByZXR1cm4ge1Byb21pc2U8eyBpZDogbnVtYmVyIH0gfCBjaHJvbWUudGFicy5UYWI+fSBuZXcgdGFiIGlzIHJldHVybmVkIGZvciBpbnRlcm5hbCBjYWxscyAqL1xuICBhc3luYyBUYWJPcGVuKHtcbiAgICB1cmwsXG4gICAgYWN0aXZlID0gdHJ1ZSxcbiAgICBjb250YWluZXIsXG4gICAgaW5zZXJ0ID0gdHJ1ZSxcbiAgICBtYXliZUluV2luZG93ID0gZmFsc2UsXG4gICAgcGlubmVkLFxuICB9LCBzcmMgPSB7fSkge1xuICAgIC8vIHNyYy50YWIgbWF5IGJlIGFic2VudCB3aGVuIGludm9rZWQgZnJvbSBwb3B1cCAoZS5nLiBlZGl0L2NyZWF0ZSBidXR0b25zKVxuICAgIGNvbnN0IHNyY1RhYiA9IHNyYy50YWIgfHwgYXdhaXQgZ2V0QWN0aXZlVGFiKCkgfHwge307XG4gICAgLy8gc3JjLnVybCBtYXkgYmUgYWJzZW50IHdoZW4gaW52b2tlZCBkaXJlY3RseSBhcyBjb21tYW5kcy5UYWJPcGVuXG4gICAgY29uc3Qgc3JjVXJsID0gc3JjLnVybDtcbiAgICBjb25zdCBpc0ludGVybmFsID0gIXNyY1VybCB8fCBzcmNVcmwuc3RhcnRzV2l0aChleHRlbnNpb25Sb290KTtcbiAgICAvLyBvbmx5IGluY29nbml0byBzdG9yZUlkIG1heSBiZSBzcGVjaWZpZWQgd2hlbiBvcGVuaW5nIGluIGFuIGluY29nbml0byB3aW5kb3dcbiAgICBjb25zdCB7IGluY29nbml0bywgd2luZG93SWQgfSA9IHNyY1RhYjtcbiAgICAvLyBDaHJvbWUgY2FuJ3Qgb3BlbiBjaHJvbWUteHh4OiBVUkxzIGluIGluY29nbml0byB3aW5kb3dzXG4gICAgbGV0IHN0b3JlSWQgPSBzcmNUYWIuY29va2llU3RvcmVJZDtcbiAgICBpZiAoc3RvcmVJZCAmJiAhaW5jb2duaXRvKSB7XG4gICAgICBzdG9yZUlkID0gZ2V0Q29udGFpbmVySWQoaXNJbnRlcm5hbCA/IDAgOiBjb250YWluZXIpIHx8IHN0b3JlSWQ7XG4gICAgfVxuICAgIGlmIChzdG9yZUlkKSBzdG9yZUlkID0geyBjb29raWVTdG9yZUlkOiBzdG9yZUlkIH07XG4gICAgLy8gVVJMIG5lZWRzIHRvIGJlIGV4cGFuZGVkIGZvciBgY2FuT3BlbkluY29nbml0b2AgYmVsb3dcbiAgICBpZiAoIS9eWy1cXHddKzovLnRlc3QodXJsKSkge1xuICAgICAgdXJsID0gaXNJbnRlcm5hbFxuICAgICAgICA/IGJyb3dzZXIucnVudGltZS5nZXRVUkwodXJsKVxuICAgICAgICA6IGdldEZ1bGxVcmwodXJsLCBzcmNVcmwpO1xuICAgIH1cbiAgICBjb25zdCBjYW5PcGVuSW5jb2duaXRvID0gIWluY29nbml0byB8fCBJU19GSVJFRk9YIHx8ICEvXihjaHJvbWVbLVxcd10qKTovLnRlc3QodXJsKTtcbiAgICBsZXQgbmV3VGFiO1xuICAgIGlmIChtYXliZUluV2luZG93XG4gICAgICAgICYmIGJyb3dzZXIud2luZG93c1xuICAgICAgICAmJiBnZXRPcHRpb24oJ2VkaXRvcldpbmRvdycpXG4gICAgICAgIC8qIGNvb2tpZVN0b3JlSWQgaW4gd2luZG93cy5jcmVhdGUoKSBpcyBzdXBwb3J0ZWQgc2luY2UgRkY2NCBodHRwczovL2J1Z3ppbC5sYS8xMzkzNTcwXG4gICAgICAgICAqIGFuZCBhIHdvcmthcm91bmQgaXMgdG9vIGNvbnZvbHV0ZWQgdG8gYWRkIGl0IGZvciBzdWNoIGFuIGFuY2llbnQgdmVyc2lvbiAqL1xuICAgICAgICAmJiAoIXN0b3JlSWQgfHwgdWEuZmlyZWZveCA+PSA2NCkpIHtcbiAgICAgIGNvbnN0IHduZE9wdHMgPSB7XG4gICAgICAgIHVybCxcbiAgICAgICAgaW5jb2duaXRvOiBjYW5PcGVuSW5jb2duaXRvICYmIGluY29nbml0byxcbiAgICAgICAgLi4uZ2V0T3B0aW9uKCdlZGl0b3JXaW5kb3dTaW1wbGUnKSAmJiB7IHR5cGU6ICdwb3B1cCcgfSxcbiAgICAgICAgLi4uIUlTX0ZJUkVGT1ggJiYgeyBmb2N1c2VkOiAhIWFjdGl2ZSB9LCAvLyBGRiBkb2Vzbid0IHN1cHBvcnQgdGhpc1xuICAgICAgICAuLi5zdG9yZUlkLFxuICAgICAgfTtcbiAgICAgIGNvbnN0IHBvcyA9IGdldE9wdGlvbignZWRpdG9yV2luZG93UG9zJyk7XG4gICAgICBjb25zdCBoYXNQb3MgPSBwb3MgJiYgJ3RvcCcgaW4gcG9zO1xuICAgICAgY29uc3Qgd25kID0gYXdhaXQgYnJvd3Nlci53aW5kb3dzLmNyZWF0ZSh7IC4uLnduZE9wdHMsIC4uLnBvcyB9KS5jYXRjaChoYXNQb3MgJiYgbm9vcClcbiAgICAgICAgfHwgaGFzUG9zICYmIGF3YWl0IGJyb3dzZXIud2luZG93cy5jcmVhdGUod25kT3B0cyk7XG4gICAgICBuZXdUYWIgPSB3bmQudGFic1swXTtcbiAgICB9XG4gICAgaWYgKCFuZXdUYWIpIHtcbiAgICAgIG5ld1RhYiA9IGF3YWl0IGJyb3dzZXIudGFicy5jcmVhdGUoe1xuICAgICAgICB1cmwsXG4gICAgICAgIC8vIG5vcm1hbGl6aW5nIGFzIGJvb2xlYW4gYmVjYXVzZSB0aGUgQVBJIHJlcXVpcmVzIHN0cmljdCB0eXBlc1xuICAgICAgICBhY3RpdmU6ICEhYWN0aXZlLFxuICAgICAgICBwaW5uZWQ6ICEhcGlubmVkLFxuICAgICAgICAuLi5zdG9yZUlkLFxuICAgICAgICAuLi5jYW5PcGVuSW5jb2duaXRvICYmIHtcbiAgICAgICAgICB3aW5kb3dJZCxcbiAgICAgICAgICAuLi5pbnNlcnQgJiYgeyBpbmRleDogc3JjVGFiLmluZGV4ICsgMSB9LFxuICAgICAgICAgIC4uLnVhLm9wZW5lclRhYklkU3VwcG9ydGVkICYmIHsgb3BlbmVyVGFiSWQ6IHNyY1RhYi5pZCB9LFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IHsgaWQgfSA9IG5ld1RhYjtcbiAgICBpZiAoYWN0aXZlICYmIG5ld1RhYi53aW5kb3dJZCAhPT0gd2luZG93SWQpIHtcbiAgICAgIGF3YWl0IGJyb3dzZXIud2luZG93cy51cGRhdGUobmV3VGFiLndpbmRvd0lkLCB7IGZvY3VzZWQ6IHRydWUgfSk7XG4gICAgfVxuICAgIG9wZW5lcnNbaWRdID0gc3JjVGFiLmlkO1xuICAgIHJldHVybiBpc0ludGVybmFsID8gbmV3VGFiIDogeyBpZCB9O1xuICB9LFxuICAvKiogQHJldHVybiB7dm9pZH0gKi9cbiAgVGFiQ2xvc2UoeyBpZCB9ID0ge30sIHNyYykge1xuICAgIGNvbnN0IHRhYklkID0gaWQgfHwgc3JjPy50YWI/LmlkO1xuICAgIGlmICh0YWJJZCA+PSAwKSBicm93c2VyLnRhYnMucmVtb3ZlKHRhYklkKTtcbiAgfSxcbiAgVGFiRm9jdXMoXywgc3JjKSB7XG4gICAgYnJvd3Nlci50YWJzLnVwZGF0ZShzcmMudGFiLmlkLCB7IGFjdGl2ZTogdHJ1ZSB9KS5jYXRjaChub29wKTtcbiAgICBicm93c2VyLndpbmRvd3MudXBkYXRlKHNyYy50YWIud2luZG93SWQsIHsgZm9jdXNlZDogdHJ1ZSB9KS5jYXRjaChub29wKTtcbiAgfSxcbn0pO1xuXG4vLyBGaXJlZm94IEFuZHJvaWQgZG9lcyBub3Qgc3VwcG9ydCBgb3BlbmVyVGFiSWRgIGZpZWxkLCBpdCBmYWlscyBpZiB0aGlzIGZpZWxkIGlzIHBhc3NlZFxuLy8gWFhYIG9wZW5lclRhYklkIHNlZW1zIGJ1Z2d5IG9uIENocm9tZSwgaHR0cHM6Ly9jcmJ1Zy5jb20vOTY3MTUwXG4vLyBJdCBzZWVtcyB0byBkbyBub3RoaW5nIGV2ZW4gc2V0IHN1Y2Nlc3NmdWxseSB3aXRoIGBicm93c2VyLnRhYnMudXBkYXRlYC5cbnVhLnJlYWR5LnRoZW4oKCkgPT4ge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh1YSwge1xuICAgIG9wZW5lclRhYklkU3VwcG9ydGVkOiB7XG4gICAgICB2YWx1ZTogIUlTX0ZJUkVGT1ggfHwgdWEuZmlyZWZveCA+PSA1NyAmJiB1YS5vcyAhPT0gJ2FuZHJvaWQnLFxuICAgIH0sXG4gIH0pO1xufSk7XG5cbmJyb3dzZXIudGFicy5vblJlbW92ZWQuYWRkTGlzdGVuZXIoKGlkKSA9PiB7XG4gIGNvbnN0IG9wZW5lcklkID0gb3BlbmVyc1tpZF07XG4gIGlmIChvcGVuZXJJZCA+PSAwKSB7XG4gICAgc2VuZFRhYkNtZChvcGVuZXJJZCwgJ1RhYkNsb3NlZCcsIGlkKTtcbiAgICBkZWxldGUgb3BlbmVyc1tpZF07XG4gIH1cbn0pO1xuXG5mdW5jdGlvbiBnZXRDb250YWluZXJJZChpbmRleCkge1xuICByZXR1cm4gaW5kZXggPT09IDAgJiYgJ2ZpcmVmb3gtZGVmYXVsdCdcbiAgICAgICAgIHx8IGluZGV4ID4gMCAmJiBgZmlyZWZveC1jb250YWluZXItJHtpbmRleH1gO1xufVxuIiwiaW1wb3J0IHsgcG9zdEluaXRpYWxpemUgfSBmcm9tICcuL2luaXQnO1xuaW1wb3J0IHsgZ2V0RGVmYXVsdE9wdGlvbiwgZ2V0T3B0aW9uLCBzZXRPcHRpb24gfSBmcm9tICcuL29wdGlvbnMnO1xuXG5leHBvcnQgY29uc3QgU0NSSVBUX1RFTVBMQVRFID0gJ3NjcmlwdFRlbXBsYXRlJztcbmNvbnN0IFNDUklQVF9URU1QTEFURV9FRElURUQgPSBgJHtTQ1JJUFRfVEVNUExBVEV9RWRpdGVkYDtcbmNvbnN0IElOSVRJQUxfVEVNUExBVEUgPSBgXFxcbi8vID09VXNlclNjcmlwdD09XG4vLyBAbmFtZSBOZXcgU2NyaXB0XG4vLyBAbmFtZXNwYWNlIFZpb2xlbnRtb25rZXkgU2NyaXB0c1xuLy8gQG1hdGNoIHt7dXJsfX1cbi8vIEBncmFudCBub25lXG4vLyA9PS9Vc2VyU2NyaXB0PT1cbmA7XG5cbnBvc3RJbml0aWFsaXplLnB1c2goKCkgPT4ge1xuICBsZXQgZWRpdGVkID0gZ2V0T3B0aW9uKFNDUklQVF9URU1QTEFURV9FRElURUQpO1xuICAvLyBQcmVzZXJ2ZSBhbiBlZGl0ZWQgdGVtcGxhdGVcbiAgaWYgKGVkaXRlZCkgcmV0dXJuO1xuICBjb25zdCB0ZW1wbGF0ZSA9IGdldE9wdGlvbihTQ1JJUFRfVEVNUExBVEUpO1xuICAvLyBXaGVuIHVwZGF0aW5nIGZyb20gYW4gb2xkIHZlcnNpb24sIHNldCB0aGUgZWRpdGVkIGZsYWcgcmV0cm9hY3RpdmVseVxuICBpZiAoZWRpdGVkID09IG51bGwpIHtcbiAgICBlZGl0ZWQgPSB0ZW1wbGF0ZSAhPT0gSU5JVElBTF9URU1QTEFURTtcbiAgICBpZiAoZWRpdGVkKSBzZXRPcHRpb24oU0NSSVBUX1RFTVBMQVRFX0VESVRFRCwgdHJ1ZSk7XG4gICAgZWxzZSByZXNldFNjcmlwdFRlbXBsYXRlKCk7XG4gIC8vIFdoZW4gdXBkYXRpbmcgVk0sIHVwZGF0ZSB0byB0aGUgbmV3IGRlZmF1bHQgdGVtcGxhdGVcbiAgfSBlbHNlIGlmICh0ZW1wbGF0ZSAhPT0gZ2V0RGVmYXVsdE9wdGlvbihTQ1JJUFRfVEVNUExBVEUpKSB7XG4gICAgcmVzZXRTY3JpcHRUZW1wbGF0ZSgpO1xuICB9XG59KTtcblxuZXhwb3J0IGZ1bmN0aW9uIHJlc2V0U2NyaXB0VGVtcGxhdGUoY2hhbmdlcyA9IHt9KSB7XG4gIGNvbnN0IGRlZmF1bHRUZW1wbGF0ZSA9IGdldERlZmF1bHRPcHRpb24oU0NSSVBUX1RFTVBMQVRFKTtcbiAgbGV0IHRlbXBsYXRlID0gY2hhbmdlc1tTQ1JJUFRfVEVNUExBVEVdO1xuICBpZiAoIXRlbXBsYXRlKSB7XG4gICAgdGVtcGxhdGUgPSBkZWZhdWx0VGVtcGxhdGU7XG4gICAgY2hhbmdlc1tTQ1JJUFRfVEVNUExBVEVdID0gdGVtcGxhdGU7XG4gICAgc2V0T3B0aW9uKFNDUklQVF9URU1QTEFURSwgdGVtcGxhdGUpO1xuICB9XG4gIGNvbnN0IGVkaXRlZCA9IHRlbXBsYXRlICE9PSBkZWZhdWx0VGVtcGxhdGU7XG4gIGlmIChlZGl0ZWQgIT09IGNoYW5nZXNbU0NSSVBUX1RFTVBMQVRFX0VESVRFRF0pIHtcbiAgICBjaGFuZ2VzW1NDUklQVF9URU1QTEFURV9FRElURURdID0gZWRpdGVkO1xuICAgIHNldE9wdGlvbihTQ1JJUFRfVEVNUExBVEVfRURJVEVELCBlZGl0ZWQpO1xuICB9XG59XG4iLCJpbXBvcnQgKiBhcyB0bGQgZnJvbSAnIy9jb21tb24vdGxkJztcbmltcG9ydCBjYWNoZSBmcm9tICcuL2NhY2hlJztcbmltcG9ydCB7IHBvc3RJbml0aWFsaXplIH0gZnJvbSAnLi9pbml0JztcbmltcG9ydCB7IGNvbW1hbmRzIH0gZnJvbSAnLi9tZXNzYWdlJztcbmltcG9ydCB7IGdldE9wdGlvbiwgaG9va09wdGlvbnMgfSBmcm9tICcuL29wdGlvbnMnO1xuXG5PYmplY3QuYXNzaWduKGNvbW1hbmRzLCB7XG4gIFRlc3RCbGFja2xpc3Q6IHRlc3RCbGFja2xpc3QsXG59KTtcblxucG9zdEluaXRpYWxpemUucHVzaChyZXNldEJsYWNrbGlzdCk7XG5cbnRsZC5pbml0VExEKHRydWUpO1xuXG5jb25zdCBSRV9NQVRDSF9QQVJUUyA9IC8oLio/KTpcXC9cXC8oW14vXSopXFwvKC4qKS87XG5sZXQgYmxhY2tsaXN0UnVsZXMgPSBbXTtcbmhvb2tPcHRpb25zKChjaGFuZ2VzKSA9PiB7XG4gIGlmICgnYmxhY2tsaXN0JyBpbiBjaGFuZ2VzKSByZXNldEJsYWNrbGlzdChjaGFuZ2VzLmJsYWNrbGlzdCB8fCAnJyk7XG59KTtcbmNvbnN0IFJFX0hUVFBfT1JfSFRUUFMgPSAvXmh0dHBzPyQvaTtcblxuLypcbiBTaW1wbGUgRklGTyBxdWV1ZSBmb3IgdGhlIHJlc3VsdHMgb2YgdGVzdEJsYWNrbGlzdCwgY2FjaGVkIHNlcGFyYXRlbHkgZnJvbSB0aGUgbWFpbiB8Y2FjaGV8XG4gYmVjYXVzZSB0aGUgYmxhY2tsaXN0IGlzIHVwZGF0ZWQgb25seSBvbmNlIGluIGEgd2hpbGUgc28gaXRzIGVudHJpZXMgd291bGQgYmUgY3Jvd2RpbmdcbiB0aGUgbWFpbiBjYWNoZSBhbmQgcmVkdWNpbmcgaXRzIHBlcmZvcm1hbmNlIChvYmplY3RzIHdpdGggbG90cyBvZiBrZXlzIGFyZSBzbG93IHRvIGFjY2VzcykuXG5cbiBXZSBhbHNvIGRvbid0IG5lZWQgdG8gYXV0by1leHBpcmUgdGhlIGVudHJpZXMgYWZ0ZXIgYSB0aW1lb3V0LlxuIFRoZSBvbmx5IGxpbWl0IHdlJ3JlIGNvbmNlcm5lZCB3aXRoIGlzIHRoZSBvdmVyYWxsIG1lbW9yeSB1c2VkLlxuIFRoZSBsaW1pdCBpcyBzcGVjaWZpZWQgaW4gdGhlIGFtb3VudCBvZiB1bmljb2RlIGNoYXJhY3RlcnMgKHN0cmluZyBsZW5ndGgpIGZvciBzaW1wbGljaXR5LlxuIERpc3JlZ2FyZGluZyBkZWR1cGxpY2F0aW9uIGR1ZSB0byBpbnRlcm5pbmcsIHRoZSBhY3R1YWwgbWVtb3J5IHVzZWQgaXMgYXBwcm94aW1hdGVseSB0d2ljZSBhcyBiaWc6XG4gMiAqIGtleUxlbmd0aCArIG9iamVjdFN0cnVjdHVyZU92ZXJoZWFkICogb2JqZWN0Q291bnRcbiovXG5jb25zdCBNQVhfQkxfQ0FDSEVfTEVOR1RIID0gMTAwZTM7XG5sZXQgYmxDYWNoZSA9IHt9O1xubGV0IGJsQ2FjaGVTaXplID0gMDtcblxuZnVuY3Rpb24gdGVzdFJ1bGVzKHVybCwgcnVsZXMsIHByZWZpeCwgcnVsZUJ1aWxkZXIpIHtcbiAgcmV0dXJuIHJ1bGVzLnNvbWUocnVsZSA9PiB7XG4gICAgY29uc3Qga2V5ID0gYCR7cHJlZml4fToke3J1bGV9YDtcbiAgICBjb25zdCBtYXRjaGVyID0gY2FjaGUuZ2V0KGtleSkgfHwgY2FjaGUucHV0KGtleSwgcnVsZUJ1aWxkZXIocnVsZSkpO1xuICAgIHJldHVybiBtYXRjaGVyLnRlc3QodXJsKTtcbiAgfSk7XG59XG5cbi8qKlxuICogVGVzdCBnbG9iIHJ1bGVzIGxpa2UgYEBpbmNsdWRlYCBhbmQgYEBleGNsdWRlYC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRlc3RHbG9iKHVybCwgcnVsZXMpIHtcbiAgcmV0dXJuIHRlc3RSdWxlcyh1cmwsIHJ1bGVzLCAncmUnLCBhdXRvUmVnKTtcbn1cblxuLyoqXG4gKiBUZXN0IG1hdGNoIHJ1bGVzIGxpa2UgYEBtYXRjaGAgYW5kIGBAZXhjbHVkZV9tYXRjaGAuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0ZXN0TWF0Y2godXJsLCBydWxlcykge1xuICByZXR1cm4gdGVzdFJ1bGVzKHVybCwgcnVsZXMsICdtYXRjaCcsIG1hdGNoVGVzdGVyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRlc3RTY3JpcHQodXJsLCBzY3JpcHQpIHtcbiAgY2FjaGUuYmF0Y2godHJ1ZSk7XG4gIGNvbnN0IHsgY3VzdG9tLCBtZXRhIH0gPSBzY3JpcHQ7XG4gIGNvbnN0IG1hdCA9IG1lcmdlTGlzdHMoY3VzdG9tLm9yaWdNYXRjaCAmJiBtZXRhLm1hdGNoLCBjdXN0b20ubWF0Y2gpO1xuICBjb25zdCBpbmMgPSBtZXJnZUxpc3RzKGN1c3RvbS5vcmlnSW5jbHVkZSAmJiBtZXRhLmluY2x1ZGUsIGN1c3RvbS5pbmNsdWRlKTtcbiAgY29uc3QgZXhjID0gbWVyZ2VMaXN0cyhjdXN0b20ub3JpZ0V4Y2x1ZGUgJiYgbWV0YS5leGNsdWRlLCBjdXN0b20uZXhjbHVkZSk7XG4gIGNvbnN0IGV4Y01hdCA9IG1lcmdlTGlzdHMoY3VzdG9tLm9yaWdFeGNsdWRlTWF0Y2ggJiYgbWV0YS5leGNsdWRlTWF0Y2gsIGN1c3RvbS5leGNsdWRlTWF0Y2gpO1xuICAvLyBtYXRjaCBhbGwgaWYgbm8gQG1hdGNoIG9yIEBpbmNsdWRlIHJ1bGVcbiAgbGV0IG9rID0gIW1hdC5sZW5ndGggJiYgIWluYy5sZW5ndGg7XG4gIC8vIEBtYXRjaFxuICBvayA9IG9rIHx8IHRlc3RNYXRjaCh1cmwsIG1hdCk7XG4gIC8vIEBpbmNsdWRlXG4gIG9rID0gb2sgfHwgdGVzdEdsb2IodXJsLCBpbmMpO1xuICAvLyBAZXhjbHVkZS1tYXRjaFxuICBvayA9IG9rICYmICF0ZXN0TWF0Y2godXJsLCBleGNNYXQpO1xuICAvLyBAZXhjbHVkZVxuICBvayA9IG9rICYmICF0ZXN0R2xvYih1cmwsIGV4Yyk7XG4gIGNhY2hlLmJhdGNoKGZhbHNlKTtcbiAgcmV0dXJuIG9rO1xufVxuXG5mdW5jdGlvbiBtZXJnZUxpc3RzKC4uLmFyZ3MpIHtcbiAgcmV0dXJuIGFyZ3MucmVkdWNlKChyZXMsIGl0ZW0pID0+IChpdGVtID8gcmVzLmNvbmNhdChpdGVtKSA6IHJlcyksIFtdKTtcbn1cblxuZnVuY3Rpb24gc3RyMlJFKHN0cikge1xuICBjb25zdCByZSA9IHN0ci5yZXBsYWNlKC8oWy4/K1tcXF17fSgpfF4kXSkvZywgJ1xcXFwkMScpLnJlcGxhY2UoL1xcKi9nLCAnLio/Jyk7XG4gIHJldHVybiByZTtcbn1cblxuZnVuY3Rpb24gYmluZFJFKHJlKSB7XG4gIHJldHVybiByZS50ZXN0LmJpbmQocmUpO1xufVxuXG5mdW5jdGlvbiBhdXRvUmVnKHN0cikge1xuICAvLyByZWdleHAgbW9kZTogY2FzZS1pbnNlbnNpdGl2ZSBwZXIgR00gZG9jdW1lbnRhdGlvblxuICBpZiAoc3RyLmxlbmd0aCA+IDEgJiYgc3RyWzBdID09PSAnLycgJiYgc3RyW3N0ci5sZW5ndGggLSAxXSA9PT0gJy8nKSB7XG4gICAgbGV0IHJlO1xuICAgIHRyeSB7IHJlID0gbmV3IFJlZ0V4cChzdHIuc2xpY2UoMSwgLTEpLCAnaScpOyB9IGNhdGNoIChlKSB7IC8qIGlnbm9yZSAqLyB9XG4gICAgcmV0dXJuIHsgdGVzdDogcmUgPyBiaW5kUkUocmUpIDogKCkgPT4gZmFsc2UgfTtcbiAgfVxuICAvLyBnbG9iIG1vZGU6IGNhc2UtaW5zZW5zaXRpdmUgdG8gbWF0Y2ggR000ICYgVGFtcGVybW9ua2V5IGJ1Z2dlZCBiZWhhdmlvclxuICBjb25zdCByZVN0ciA9IHN0cjJSRShzdHIudG9Mb3dlckNhc2UoKSk7XG4gIGlmICh0bGQuaXNSZWFkeSgpICYmIHN0ci5pbmNsdWRlcygnLnRsZC8nKSkge1xuICAgIGNvbnN0IHJlVGxkU3RyID0gcmVTdHIucmVwbGFjZSgnXFxcXC50bGQvJywgJygoPzpcXFxcLlstXFxcXHddKykrKS8nKTtcbiAgICByZXR1cm4ge1xuICAgICAgdGVzdDogKHRzdHIpID0+IHtcbiAgICAgICAgY29uc3QgbWF0Y2hlcyA9IHRzdHIudG9Mb3dlckNhc2UoKS5tYXRjaChyZVRsZFN0cik7XG4gICAgICAgIGlmIChtYXRjaGVzKSB7XG4gICAgICAgICAgY29uc3Qgc3VmZml4ID0gbWF0Y2hlc1sxXS5zbGljZSgxKTtcbiAgICAgICAgICBpZiAodGxkLmdldFB1YmxpY1N1ZmZpeChzdWZmaXgpID09PSBzdWZmaXgpIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxuICBjb25zdCByZSA9IG5ldyBSZWdFeHAoYF4ke3JlU3RyfSRgLCAnaScpOyAvLyBTdHJpbmcgd2l0aCB3aWxkY2FyZHNcbiAgcmV0dXJuIHsgdGVzdDogYmluZFJFKHJlKSB9O1xufVxuXG5mdW5jdGlvbiBtYXRjaFNjaGVtZShydWxlLCBkYXRhKSB7XG4gIC8vIGV4YWN0IG1hdGNoXG4gIGlmIChydWxlID09PSBkYXRhKSByZXR1cm4gMTtcbiAgLy8gKiA9IGh0dHAgfCBodHRwc1xuICAvLyBzdXBwb3J0IGh0dHAqXG4gIGlmIChbXG4gICAgJyonLFxuICAgICdodHRwKicsXG4gIF0uaW5jbHVkZXMocnVsZSkgJiYgUkVfSFRUUF9PUl9IVFRQUy50ZXN0KGRhdGEpKSByZXR1cm4gMTtcbiAgcmV0dXJuIDA7XG59XG5cbmNvbnN0IFJFX1NUUl9BTlkgPSAnKD86fC4qP1xcXFwuKSc7XG5jb25zdCBSRV9TVFJfVExEID0gJygoPzpcXFxcLlstXFxcXHddKykrKSc7XG5mdW5jdGlvbiBob3N0TWF0Y2hlcihydWxlKSB7XG4gIC8vICogbWF0Y2hlcyBhbGxcbiAgaWYgKHJ1bGUgPT09ICcqJykge1xuICAgIHJldHVybiAoKSA9PiAxO1xuICB9XG4gIC8vICouZXhhbXBsZS5jb21cbiAgLy8gd3d3Lmdvb2dsZS4qXG4gIC8vIHd3dy5nb29nbGUudGxkXG4gIGNvbnN0IHJ1bGVMQyA9IHJ1bGUudG9Mb3dlckNhc2UoKTsgLy8gaG9zdCBtYXRjaGluZyBpcyBjYXNlLWluc2Vuc2l0aXZlXG4gIGxldCBwcmVmaXggPSAnJztcbiAgbGV0IGJhc2UgPSBydWxlTEM7XG4gIGxldCBzdWZmaXggPSAnJztcbiAgaWYgKHJ1bGUuc3RhcnRzV2l0aCgnKi4nKSkge1xuICAgIGJhc2UgPSBiYXNlLnNsaWNlKDIpO1xuICAgIHByZWZpeCA9IFJFX1NUUl9BTlk7XG4gIH1cbiAgaWYgKHRsZC5pc1JlYWR5KCkgJiYgcnVsZS5lbmRzV2l0aCgnLnRsZCcpKSB7XG4gICAgYmFzZSA9IGJhc2Uuc2xpY2UoMCwgLTQpO1xuICAgIHN1ZmZpeCA9IFJFX1NUUl9UTEQ7XG4gIH1cbiAgY29uc3QgcmUgPSBuZXcgUmVnRXhwKGBeJHtwcmVmaXh9JHtzdHIyUkUoYmFzZSl9JHtzdWZmaXh9JGApO1xuICByZXR1cm4gKGRhdGEpID0+IHtcbiAgICAvLyBleGFjdCBtYXRjaCwgY2FzZS1pbnNlbnNpdGl2ZVxuICAgIGRhdGEgPSBkYXRhLnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKHJ1bGVMQyA9PT0gZGF0YSkgcmV0dXJuIDE7XG4gICAgLy8gZnVsbCBjaGVja1xuICAgIGNvbnN0IG1hdGNoZXMgPSBkYXRhLm1hdGNoKHJlKTtcbiAgICBpZiAobWF0Y2hlcykge1xuICAgICAgY29uc3QgWywgdGxkU3RyXSA9IG1hdGNoZXM7XG4gICAgICBpZiAoIXRsZFN0cikgcmV0dXJuIDE7XG4gICAgICBjb25zdCB0bGRTdWZmaXggPSB0bGRTdHIuc2xpY2UoMSk7XG4gICAgICByZXR1cm4gdGxkLmdldFB1YmxpY1N1ZmZpeCh0bGRTdWZmaXgpID09PSB0bGRTdWZmaXg7XG4gICAgfVxuICAgIHJldHVybiAwO1xuICB9O1xufVxuXG5mdW5jdGlvbiBwYXRoTWF0Y2hlcihydWxlKSB7XG4gIGNvbnN0IGlIYXNoID0gcnVsZS5pbmRleE9mKCcjJyk7XG4gIGxldCBpUXVlcnkgPSBydWxlLmluZGV4T2YoJz8nKTtcbiAgbGV0IHN0clJlID0gc3RyMlJFKHJ1bGUpO1xuICBpZiAoaVF1ZXJ5ID4gaUhhc2gpIGlRdWVyeSA9IC0xO1xuICBpZiAoaUhhc2ggPCAwKSB7XG4gICAgaWYgKGlRdWVyeSA8IDApIHN0clJlID0gYF4ke3N0clJlfSg/Ols/I118JClgO1xuICAgIGVsc2Ugc3RyUmUgPSBgXiR7c3RyUmV9KD86I3wkKWA7XG4gIH1cbiAgcmV0dXJuIGJpbmRSRShuZXcgUmVnRXhwKHN0clJlKSk7XG59XG5cbmZ1bmN0aW9uIG1hdGNoVGVzdGVyKHJ1bGUpIHtcbiAgbGV0IHRlc3Q7XG4gIGlmIChydWxlID09PSAnPGFsbF91cmxzPicpIHtcbiAgICB0ZXN0ID0gKCkgPT4gdHJ1ZTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBydWxlUGFydHMgPSBydWxlLm1hdGNoKFJFX01BVENIX1BBUlRTKTtcbiAgICBpZiAocnVsZVBhcnRzKSB7XG4gICAgICBjb25zdCBtYXRjaEhvc3QgPSBob3N0TWF0Y2hlcihydWxlUGFydHNbMl0pO1xuICAgICAgY29uc3QgbWF0Y2hQYXRoID0gcGF0aE1hdGNoZXIocnVsZVBhcnRzWzNdKTtcbiAgICAgIHRlc3QgPSAodXJsKSA9PiB7XG4gICAgICAgIGNvbnN0IHBhcnRzID0gdXJsLm1hdGNoKFJFX01BVENIX1BBUlRTKTtcbiAgICAgICAgcmV0dXJuICEhcnVsZVBhcnRzICYmICEhcGFydHNcbiAgICAgICAgICAmJiBtYXRjaFNjaGVtZShydWxlUGFydHNbMV0sIHBhcnRzWzFdKVxuICAgICAgICAgICYmIG1hdGNoSG9zdChwYXJ0c1syXSlcbiAgICAgICAgICAmJiBtYXRjaFBhdGgocGFydHNbM10pO1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gSWdub3JlIGludmFsaWQgbWF0Y2ggcnVsZXNcbiAgICAgIHRlc3QgPSAoKSA9PiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHsgdGVzdCB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdGVzdEJsYWNrbGlzdCh1cmwpIHtcbiAgbGV0IHJlcyA9IGJsQ2FjaGVbdXJsXTtcbiAgaWYgKHJlcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgY29uc3QgcnVsZSA9IGJsYWNrbGlzdFJ1bGVzLmZpbmQoKHsgdGVzdCB9KSA9PiB0ZXN0KHVybCkpO1xuICAgIHJlcyA9IHJ1bGU/LnJlamVjdCAmJiBydWxlLnRleHQ7XG4gICAgdXBkYXRlQmxhY2tsaXN0Q2FjaGUodXJsLCByZXMgfHwgZmFsc2UpO1xuICB9XG4gIHJldHVybiByZXM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXNldEJsYWNrbGlzdChsaXN0KSB7XG4gIGNhY2hlLmJhdGNoKHRydWUpO1xuICBjb25zdCBydWxlcyA9IGxpc3QgPT0gbnVsbCA/IGdldE9wdGlvbignYmxhY2tsaXN0JykgOiBsaXN0O1xuICBpZiAocHJvY2Vzcy5lbnYuREVCVUcpIHtcbiAgICBjb25zb2xlLmluZm8oJ1Jlc2V0IGJsYWNrbGlzdDonLCBydWxlcyk7XG4gIH1cbiAgLy8gWFhYIGNvbXBhdGlibGUgd2l0aCB7QXJyYXl9IGxpc3QgaW4gdjIuNi4xLVxuICBibGFja2xpc3RSdWxlcyA9IChBcnJheS5pc0FycmF5KHJ1bGVzKSA/IHJ1bGVzIDogKHJ1bGVzIHx8ICcnKS5zcGxpdCgnXFxuJykpXG4gIC5tYXAoKHRleHQpID0+IHtcbiAgICB0ZXh0ID0gdGV4dC50cmltKCk7XG4gICAgaWYgKCF0ZXh0IHx8IHRleHQuc3RhcnRzV2l0aCgnIycpKSByZXR1cm4gbnVsbDtcbiAgICBjb25zdCBtb2RlID0gdGV4dC5zdGFydHNXaXRoKCdAJykgJiYgdGV4dC5zcGxpdCgvXFxzLywgMSlbMF07XG4gICAgY29uc3QgcnVsZSA9IG1vZGUgPyB0ZXh0LnNsaWNlKG1vZGUubGVuZ3RoICsgMSkudHJpbSgpIDogdGV4dDtcbiAgICBjb25zdCByZWplY3QgPSBtb2RlICE9PSAnQGluY2x1ZGUnICYmIG1vZGUgIT09ICdAbWF0Y2gnOyAvLyBAaW5jbHVkZSBhbmQgQG1hdGNoID0gd2hpdGVsaXN0XG4gICAgY29uc3QgeyB0ZXN0IH0gPSBtb2RlID09PSAnQGluY2x1ZGUnIHx8IG1vZGUgPT09ICdAZXhjbHVkZScgJiYgYXV0b1JlZyhydWxlKVxuICAgICAgfHwgIW1vZGUgJiYgIXJ1bGUuaW5jbHVkZXMoJy8nKSAmJiBtYXRjaFRlc3RlcihgKjovLyR7cnVsZX0vKmApIC8vIGRvbWFpblxuICAgICAgfHwgbWF0Y2hUZXN0ZXIocnVsZSk7IC8vIEBtYXRjaCBhbmQgQGV4Y2x1ZGUtbWF0Y2hcbiAgICByZXR1cm4geyByZWplY3QsIHRlc3QsIHRleHQgfTtcbiAgfSlcbiAgLmZpbHRlcihCb29sZWFuKTtcbiAgYmxDYWNoZSA9IHt9O1xuICBibENhY2hlU2l6ZSA9IDA7XG4gIGNhY2hlLmJhdGNoKGZhbHNlKTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlQmxhY2tsaXN0Q2FjaGUoa2V5LCB2YWx1ZSkge1xuICBibENhY2hlW2tleV0gPSB2YWx1ZTtcbiAgYmxDYWNoZVNpemUgKz0ga2V5Lmxlbmd0aDtcbiAgaWYgKGJsQ2FjaGVTaXplID4gTUFYX0JMX0NBQ0hFX0xFTkdUSCkge1xuICAgIE9iamVjdC5rZXlzKGJsQ2FjaGUpXG4gICAgLnNvbWUoKGspID0+IHtcbiAgICAgIGJsQ2FjaGVTaXplIC09IGsubGVuZ3RoO1xuICAgICAgZGVsZXRlIGJsQ2FjaGVba107XG4gICAgICAvLyByZWR1Y2UgdGhlIGNhY2hlIHRvIDc1JSBzbyB0aGF0IHRoaXMgZnVuY3Rpb24gZG9lc24ndCBydW4gdG9vIG9mdGVuLlxuICAgICAgcmV0dXJuIGJsQ2FjaGVTaXplIDwgTUFYX0JMX0NBQ0hFX0xFTkdUSCAqIDMgLyA0O1xuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgeyBnZXRTY3JpcHROYW1lLCBpMThuLCByZXF1ZXN0LCBjb21wYXJlVmVyc2lvbiwgc2VuZENtZCwgdHJ1ZUpvaW4gfSBmcm9tICcjL2NvbW1vbic7XG5pbXBvcnQgeyBDTURfU0NSSVBUX1VQREFURSwgSVNfREVWIH0gZnJvbSAnIy9jb21tb24vY29uc3RzJztcbmltcG9ydCB7IGZldGNoUmVzb3VyY2VzLCBnZXRTY3JpcHRCeUlkLCBnZXRTY3JpcHRzLCBwYXJzZVNjcmlwdCB9IGZyb20gJy4vZGInO1xuaW1wb3J0IHsgcGFyc2VNZXRhIH0gZnJvbSAnLi9zY3JpcHQnO1xuaW1wb3J0IHsgZ2V0T3B0aW9uLCBzZXRPcHRpb24gfSBmcm9tICcuL29wdGlvbnMnO1xuaW1wb3J0IHsgY29tbWFuZHMgfSBmcm9tICcuL21lc3NhZ2UnO1xuXG5PYmplY3QuYXNzaWduKGNvbW1hbmRzLCB7XG4gIC8qKiBAcmV0dXJuIHtQcm9taXNlPHRydWU/Pn0gKi9cbiAgYXN5bmMgQ2hlY2tVcGRhdGUoaWQpIHtcbiAgICBjb25zdCBzY3JpcHQgPSBnZXRTY3JpcHRCeUlkKGlkKTtcbiAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgY2hlY2tBbGxBbmROb3RpZnkoW3NjcmlwdF0pO1xuICAgIHJldHVybiByZXN1bHRzWzBdO1xuICB9LFxuICAvKiogQHJldHVybiB7UHJvbWlzZTxib29sZWFuPn0gKi9cbiAgYXN5bmMgQ2hlY2tVcGRhdGVBbGwoKSB7XG4gICAgc2V0T3B0aW9uKCdsYXN0VXBkYXRlJywgRGF0ZS5ub3coKSk7XG4gICAgY29uc3QgdG9VcGRhdGUgPSBnZXRTY3JpcHRzKCkuZmlsdGVyKGl0ZW0gPT4gaXRlbS5jb25maWcuc2hvdWxkVXBkYXRlKTtcbiAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgY2hlY2tBbGxBbmROb3RpZnkodG9VcGRhdGUpO1xuICAgIHJldHVybiByZXN1bHRzLmluY2x1ZGVzKHRydWUpO1xuICB9LFxufSk7XG5cbmFzeW5jIGZ1bmN0aW9uIGNoZWNrQWxsQW5kTm90aWZ5KHNjcmlwdHMpIHtcbiAgY29uc3Qgbm90ZXMgPSBbXTtcbiAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IFByb21pc2UuYWxsKHNjcmlwdHMubWFwKGl0ZW0gPT4gY2hlY2tVcGRhdGUoaXRlbSwgbm90ZXMpKSk7XG4gIGlmIChub3Rlcy5sZW5ndGggPT09IDEpIHtcbiAgICBub3RpZnkobm90ZXNbMF0pO1xuICB9IGVsc2UgaWYgKG5vdGVzLmxlbmd0aCkge1xuICAgIG5vdGlmeSh7XG4gICAgICAvLyBGRiBkb2Vzbid0IHNob3cgbm90aWZpY2F0aW9ucyBvZiB0eXBlOidsaXN0JyBzbyB3ZSdsbCB1c2UgYHRleHRgIGV2ZXJ5d2hlcmVcbiAgICAgIHRleHQ6IG5vdGVzLm1hcChuID0+IG4udGV4dCkuam9pbignXFxuJyksXG4gICAgICBvbkNsaWNrOiBicm93c2VyLnJ1bnRpbWUub3Blbk9wdGlvbnNQYWdlLFxuICAgIH0pO1xuICB9XG4gIHJldHVybiByZXN1bHRzO1xufVxuXG5jb25zdCBwcm9jZXNzZXMgPSB7fTtcblxuLy8gcmVzb2x2ZXMgdG8gdHJ1ZSBpZiBzdWNjZXNzZnVsbHkgdXBkYXRlZFxuZnVuY3Rpb24gY2hlY2tVcGRhdGUoc2NyaXB0LCBub3Rlcykge1xuICBjb25zdCB7IGlkIH0gPSBzY3JpcHQucHJvcHM7XG4gIGNvbnN0IHByb21pc2UgPSBwcm9jZXNzZXNbaWRdIHx8IChwcm9jZXNzZXNbaWRdID0gZG9DaGVja1VwZGF0ZShzY3JpcHQsIG5vdGVzKSk7XG4gIHJldHVybiBwcm9taXNlO1xufVxuXG5hc3luYyBmdW5jdGlvbiBkb0NoZWNrVXBkYXRlKHNjcmlwdCwgbm90ZXMpIHtcbiAgY29uc3QgeyBpZCB9ID0gc2NyaXB0LnByb3BzO1xuICBsZXQgbXNnT2s7XG4gIGxldCBtc2dFcnI7XG4gIGxldCByZXNvdXJjZU9wdHM7XG4gIHRyeSB7XG4gICAgY29uc3QgeyB1cGRhdGUgfSA9IGF3YWl0IHBhcnNlU2NyaXB0KHtcbiAgICAgIGlkLFxuICAgICAgY29kZTogYXdhaXQgZG93bmxvYWRVcGRhdGUoc2NyaXB0KSxcbiAgICAgIHVwZGF0ZTogeyBjaGVja2luZzogZmFsc2UgfSxcbiAgICB9KTtcbiAgICBtc2dPayA9IGkxOG4oJ21zZ1NjcmlwdFVwZGF0ZWQnLCBbZ2V0U2NyaXB0TmFtZSh1cGRhdGUpXSk7XG4gICAgcmVzb3VyY2VPcHRzID0geyBjYWNoZTogJ25vLWNhY2hlJyB9O1xuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoICh1cGRhdGUpIHtcbiAgICBtc2dFcnIgPSB1cGRhdGUuZXJyb3I7XG4gICAgLy8gRWl0aGVyIHByb2NlZWQgd2l0aCBub3JtYWwgZmV0Y2ggb24gbm8tdXBkYXRlIG9yIHNraXAgaXQgYWx0b2dldGhlciBvbiBlcnJvclxuICAgIHJlc291cmNlT3B0cyA9ICF1cGRhdGUuZXJyb3IgJiYgIXVwZGF0ZS5jaGVja2luZyAmJiB7fTtcbiAgICBpZiAocHJvY2Vzcy5lbnYuREVCVUcpIGNvbnNvbGUuZXJyb3IodXBkYXRlKTtcbiAgfSBmaW5hbGx5IHtcbiAgICBpZiAocmVzb3VyY2VPcHRzICYmICFJU19ERVYpIHsgLy8gREVW54q25oCB5LiN5pu05pawcmVzb3VyY2VcbiAgICAgIG1zZ0VyciA9IGF3YWl0IGZldGNoUmVzb3VyY2VzKHNjcmlwdCwgbnVsbCwgcmVzb3VyY2VPcHRzKTtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5ERUJVRyAmJiBtc2dFcnIpIGNvbnNvbGUuZXJyb3IobXNnRXJyKTtcbiAgICB9XG4gICAgaWYgKGNhbk5vdGlmeShzY3JpcHQpICYmIChtc2dPayB8fCBtc2dFcnIpKSB7XG4gICAgICBub3Rlcy5wdXNoKHtcbiAgICAgICAgc2NyaXB0LFxuICAgICAgICB0ZXh0OiBbbXNnT2ssIG1zZ0Vycl06OnRydWVKb2luKCdcXG4nKSxcbiAgICAgIH0pO1xuICAgIH1cbiAgICBkZWxldGUgcHJvY2Vzc2VzW2lkXTtcbiAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBkb3dubG9hZFVwZGF0ZSh7IHByb3BzOiB7IGlkIH0sIG1ldGEsIGN1c3RvbSB9KSB7XG4gIGNvbnN0IGRvd25sb2FkVVJMID0gY3VzdG9tLmRvd25sb2FkVVJMIHx8IG1ldGEuZG93bmxvYWRVUkwgfHwgY3VzdG9tLmxhc3RJbnN0YWxsVVJMO1xuICBsZXQgdXBkYXRlVVJMID0gY3VzdG9tLnVwZGF0ZVVSTCB8fCBtZXRhLnVwZGF0ZVVSTCB8fCBkb3dubG9hZFVSTDtcbiAgaWYgKElTX0RFViAmJiB1cGRhdGVVUkwpIHtcbiAgICBpZiAobWV0YS5kZXYpIHtcbiAgICAgIGNvbnN0IHVybHMgPSB1cGRhdGVVUkwuc3BsaXQoJy8nKTtcbiAgICAgIHVwZGF0ZVVSTCA9IGBodHRwOi8vMTI3LjAuMC4xOiR7bWV0YS5kZXZ9LyR7dXJsc1t1cmxzLmxlbmd0aCAtIDFdfWA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHVwZGF0ZVVSTCA9IG51bGw7XG4gICAgfVxuICAgIC8vIGNvbnNvbGUuaW5mbygnZG93bmxvYWRVcGRhdGUnLCBpZCwgdXBkYXRlVVJMKTtcbiAgfVxuICBpZiAoIXVwZGF0ZVVSTCkgdGhyb3cgZmFsc2U7XG4gIGxldCBlcnJvck1lc3NhZ2U7XG4gIGNvbnN0IHVwZGF0ZSA9IHt9O1xuICBjb25zdCByZXN1bHQgPSB7IHVwZGF0ZSwgd2hlcmU6IHsgaWQgfSB9O1xuICBhbm5vdW5jZShpMThuKCdtc2dDaGVja2luZ0ZvclVwZGF0ZScpKTtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHJlcXVlc3QodXBkYXRlVVJMLCB7XG4gICAgICAvLyBUT0RPOiBkbyBhIEhFQUQgcmVxdWVzdCBmaXJzdCB0byBnZXQgRVRhZyBoZWFkZXIgYW5kIGNvbXBhcmUgdG8gc3RvcmFnZS5tb2RcbiAgICAgIGNhY2hlOiAnbm8tY2FjaGUnLFxuICAgICAgaGVhZGVyczogeyBBY2NlcHQ6ICd0ZXh0L3gtdXNlcnNjcmlwdC1tZXRhLCovKicgfSxcbiAgICB9KTtcbiAgICBjb25zdCB7IHZlcnNpb24gfSA9IHBhcnNlTWV0YShkYXRhKTtcbiAgICBpZiAoSVNfREVWKSB7XG4gICAgICBpZiAobWV0YS52ZXJzaW9uID09PSB2ZXJzaW9uKSB0aHJvdyBmYWxzZTtcbiAgICAgIGNvbnNvbGUuaW5mbygndXBkYXRlJywgbWV0YS5uYW1lLCB2ZXJzaW9uLCBjb21wYXJlVmVyc2lvbihtZXRhLnZlcnNpb24sIHZlcnNpb24pKTtcbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cbiAgICBpZiAoY29tcGFyZVZlcnNpb24obWV0YS52ZXJzaW9uLCB2ZXJzaW9uKSA+PSAwKSB7XG4gICAgICBhbm5vdW5jZShpMThuKCdtc2dOb1VwZGF0ZScpLCB7IGNoZWNraW5nOiBmYWxzZSB9KTtcbiAgICB9IGVsc2UgaWYgKCFkb3dubG9hZFVSTCkge1xuICAgICAgYW5ub3VuY2UoaTE4bignbXNnTmV3VmVyc2lvbicpLCB7IGNoZWNraW5nOiBmYWxzZSB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgYW5ub3VuY2UoaTE4bignbXNnVXBkYXRpbmcnKSk7XG4gICAgICBlcnJvck1lc3NhZ2UgPSBpMThuKCdtc2dFcnJvckZldGNoaW5nU2NyaXB0Jyk7XG4gICAgICByZXR1cm4gKGF3YWl0IHJlcXVlc3QoZG93bmxvYWRVUkwsIHsgY2FjaGU6ICduby1jYWNoZScgfSkpLmRhdGE7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGlmIChwcm9jZXNzLmVudi5ERUJVRykgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgYW5ub3VuY2UoZXJyb3JNZXNzYWdlIHx8IGkxOG4oJ21zZ0Vycm9yRmV0Y2hpbmdVcGRhdGVJbmZvJyksIHsgZXJyb3IgfSk7XG4gIH1cbiAgdGhyb3cgdXBkYXRlO1xuICBmdW5jdGlvbiBhbm5vdW5jZShtZXNzYWdlLCB7IGVycm9yLCBjaGVja2luZyA9ICFlcnJvciB9ID0ge30pIHtcbiAgICBPYmplY3QuYXNzaWduKHVwZGF0ZSwge1xuICAgICAgbWVzc2FnZSxcbiAgICAgIGNoZWNraW5nLFxuICAgICAgZXJyb3I6IGVycm9yID8gYCR7aTE4bignZ2VuZXJpY0Vycm9yJyl9ICR7ZXJyb3Iuc3RhdHVzfSwgJHtlcnJvci51cmx9YCA6IG51bGwsXG4gICAgICAvLyBgbnVsbGAgaXMgdHJhbnNmZXJhYmxlIGluIENocm9tZSB1bmxpa2UgYHVuZGVmaW5lZGBcbiAgICB9KTtcbiAgICBzZW5kQ21kKENNRF9TQ1JJUFRfVVBEQVRFLCByZXN1bHQpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNhbk5vdGlmeShzY3JpcHQpIHtcbiAgY29uc3QgYWxsb3dlZCA9IGdldE9wdGlvbignbm90aWZ5VXBkYXRlcycpO1xuICByZXR1cm4gZ2V0T3B0aW9uKCdub3RpZnlVcGRhdGVzR2xvYmFsJylcbiAgICA/IGFsbG93ZWRcbiAgICA6IHNjcmlwdC5jb25maWcubm90aWZ5VXBkYXRlcyA/PyBhbGxvd2VkO1xufVxuXG5mdW5jdGlvbiBub3RpZnkoe1xuICBzY3JpcHQsXG4gIHRleHQsXG4gIG9uQ2xpY2sgPSAoKSA9PiBjb21tYW5kcy5PcGVuRWRpdG9yKHNjcmlwdC5wcm9wcy5pZCksXG59KSB7XG4gIGNvbW1hbmRzLk5vdGlmaWNhdGlvbih7XG4gICAgdGV4dCxcbiAgICAvLyBGRiBkb2Vzbid0IHNob3cgdGhlIG5hbWUgb2YgdGhlIGV4dGVuc2lvbiBpbiB0aGUgdGl0bGUgb2YgdGhlIG5vdGlmaWNhdGlvblxuICAgIHRpdGxlOiBJU19GSVJFRk9YID8gYCR7aTE4bigndGl0bGVTY3JpcHRVcGRhdGVkJyl9IC0gJHtpMThuKCdleHROYW1lJyl9YCA6ICcnLFxuICB9LCB1bmRlZmluZWQsIHtcbiAgICBvbkNsaWNrLFxuICB9KTtcbn1cbiIsImltcG9ydCB7IGlzRW1wdHksIHNlbmRUYWJDbWQgfSBmcm9tICcjL2NvbW1vbic7XG5pbXBvcnQgeyBmb3JFYWNoRW50cnksIGZvckVhY2hLZXksIG9iamVjdFNldCB9IGZyb20gJyMvY29tbW9uL29iamVjdCc7XG5pbXBvcnQgeyBnZXRTY3JpcHQsIGdldFZhbHVlU3RvcmVzQnlJZHMsIGR1bXBWYWx1ZVN0b3JlcyB9IGZyb20gJy4vZGInO1xuaW1wb3J0IHsgY29tbWFuZHMgfSBmcm9tICcuL21lc3NhZ2UnO1xuXG5jb25zdCBvcGVuZXJzID0ge307IC8vIHsgc2NyaXB0SWQ6IHsgdGFiSWQ6IHsgZnJhbWVJZDogMSwgLi4uIH0sIC4uLiB9IH1cbmxldCBjYWNoZSA9IHt9OyAvLyB7IHNjcmlwdElkOiB7IGtleTogeyBsYXN0OiB2YWx1ZSwgdGFiSWQ6IHsgZnJhbWVJZDogdmFsdWUgfSB9IH0gfVxubGV0IHVwZGF0ZVNjaGVkdWxlZDtcblxuT2JqZWN0LmFzc2lnbihjb21tYW5kcywge1xuICAvKiogQHJldHVybiB7UHJvbWlzZTxPYmplY3Q+fSAqL1xuICBhc3luYyBHZXRWYWx1ZVN0b3JlKGlkKSB7XG4gICAgY29uc3Qgc3RvcmVzID0gYXdhaXQgZ2V0VmFsdWVTdG9yZXNCeUlkcyhbaWRdKTtcbiAgICByZXR1cm4gc3RvcmVzW2lkXSB8fCB7fTtcbiAgfSxcbiAgLyoqIEBwYXJhbSB7eyB3aGVyZSwgc3RvcmUgfVtdfSBkYXRhXG4gICAqIEByZXR1cm4ge1Byb21pc2U8dm9pZD59ICovXG4gIGFzeW5jIFNldFZhbHVlU3RvcmVzKGRhdGEpIHtcbiAgICAvLyBWYWx1ZSBzdG9yZSB3aWxsIGJlIHJlcGxhY2VkIHNvb24uXG4gICAgY29uc3Qgc3RvcmVzID0gZGF0YS5yZWR1Y2UoKHJlcywgeyB3aGVyZSwgc3RvcmUgfSkgPT4ge1xuICAgICAgY29uc3QgaWQgPSB3aGVyZS5pZCB8fCBnZXRTY3JpcHQod2hlcmUpPy5wcm9wcy5pZDtcbiAgICAgIGlmIChpZCkgcmVzW2lkXSA9IHN0b3JlO1xuICAgICAgcmV0dXJuIHJlcztcbiAgICB9LCB7fSk7XG4gICAgYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgZHVtcFZhbHVlU3RvcmVzKHN0b3JlcyksXG4gICAgICBicm9hZGNhc3RWYWx1ZVN0b3Jlcyhncm91cFN0b3Jlc0J5RnJhbWUoc3RvcmVzKSksXG4gICAgXSk7XG4gIH0sXG4gIC8qKiBAcmV0dXJuIHt2b2lkfSAqL1xuICBVcGRhdGVWYWx1ZSh7IGlkLCBrZXksIHZhbHVlID0gbnVsbCB9LCBzcmMpIHtcbiAgICBvYmplY3RTZXQoY2FjaGUsIFtpZCwga2V5LCAnbGFzdCddLCB2YWx1ZSk7XG4gICAgb2JqZWN0U2V0KGNhY2hlLCBbaWQsIGtleSwgc3JjLnRhYi5pZCwgc3JjLmZyYW1lSWRdLCB2YWx1ZSk7XG4gICAgdXBkYXRlTGF0ZXIoKTtcbiAgfSxcbn0pO1xuXG5icm93c2VyLnRhYnMub25SZW1vdmVkLmFkZExpc3RlbmVyKHJlc2V0VmFsdWVPcGVuZXIpO1xuYnJvd3Nlci50YWJzLm9uUmVwbGFjZWQuYWRkTGlzdGVuZXIoKGFkZGVkSWQsIHJlbW92ZWRJZCkgPT4gcmVzZXRWYWx1ZU9wZW5lcihyZW1vdmVkSWQpKTtcblxuZXhwb3J0IGZ1bmN0aW9uIHJlc2V0VmFsdWVPcGVuZXIodGFiSWQpIHtcbiAgb3BlbmVyczo6Zm9yRWFjaEVudHJ5KChbaWQsIG9wZW5lclRhYnNdKSA9PiB7XG4gICAgaWYgKHRhYklkIGluIG9wZW5lclRhYnMpIHtcbiAgICAgIGRlbGV0ZSBvcGVuZXJUYWJzW3RhYklkXTtcbiAgICAgIGlmIChpc0VtcHR5KG9wZW5lclRhYnMpKSBkZWxldGUgb3BlbmVyc1tpZF07XG4gICAgfVxuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZFZhbHVlT3BlbmVyKHRhYklkLCBmcmFtZUlkLCBzY3JpcHRJZHMpIHtcbiAgc2NyaXB0SWRzLmZvckVhY2goKGlkKSA9PiB7XG4gICAgb2JqZWN0U2V0KG9wZW5lcnMsIFtpZCwgdGFiSWQsIGZyYW1lSWRdLCAxKTtcbiAgfSk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHVwZGF0ZUxhdGVyKCkge1xuICB3aGlsZSAoIXVwZGF0ZVNjaGVkdWxlZCkge1xuICAgIHVwZGF0ZVNjaGVkdWxlZCA9IHRydWU7XG4gICAgYXdhaXQgMDtcbiAgICBjb25zdCBjdXJyZW50Q2FjaGUgPSBjYWNoZTtcbiAgICBjYWNoZSA9IHt9O1xuICAgIGF3YWl0IGRvVXBkYXRlKGN1cnJlbnRDYWNoZSk7XG4gICAgdXBkYXRlU2NoZWR1bGVkID0gZmFsc2U7XG4gICAgaWYgKGlzRW1wdHkoY2FjaGUpKSBicmVhaztcbiAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBkb1VwZGF0ZShjdXJyZW50Q2FjaGUpIHtcbiAgY29uc3QgaWRzID0gT2JqZWN0LmtleXMoY3VycmVudENhY2hlKTtcbiAgY29uc3QgdmFsdWVTdG9yZXMgPSBhd2FpdCBnZXRWYWx1ZVN0b3Jlc0J5SWRzKGlkcyk7XG4gIGlkcy5mb3JFYWNoKChpZCkgPT4ge1xuICAgIGN1cnJlbnRDYWNoZVtpZF06OmZvckVhY2hFbnRyeSgoW2tleSwgeyBsYXN0IH1dKSA9PiB7XG4gICAgICBvYmplY3RTZXQodmFsdWVTdG9yZXMsIFtpZCwga2V5XSwgbGFzdCB8fCB1bmRlZmluZWQpO1xuICAgIH0pO1xuICB9KTtcbiAgYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgIGR1bXBWYWx1ZVN0b3Jlcyh2YWx1ZVN0b3JlcyksXG4gICAgYnJvYWRjYXN0VmFsdWVTdG9yZXMoZ3JvdXBDYWNoZUJ5RnJhbWUoY3VycmVudENhY2hlKSwgeyBwYXJ0aWFsOiB0cnVlIH0pLFxuICBdKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gYnJvYWRjYXN0VmFsdWVTdG9yZXModGFiRnJhbWVEYXRhLCB7IHBhcnRpYWwgfSA9IHt9KSB7XG4gIGNvbnN0IHRhc2tzID0gW107XG4gIGZvciAoY29uc3QgW3RhYklkLCBmcmFtZXNdIG9mIE9iamVjdC5lbnRyaWVzKHRhYkZyYW1lRGF0YSkpIHtcbiAgICBmb3IgKGNvbnN0IFtmcmFtZUlkLCBmcmFtZURhdGFdIG9mIE9iamVjdC5lbnRyaWVzKGZyYW1lcykpIHtcbiAgICAgIGlmICghaXNFbXB0eShmcmFtZURhdGEpKSB7XG4gICAgICAgIGlmIChwYXJ0aWFsKSBmcmFtZURhdGEucGFydGlhbCA9IHRydWU7XG4gICAgICAgIHRhc2tzLnB1c2goc2VuZFRhYkNtZCgrdGFiSWQsICdVcGRhdGVkVmFsdWVzJywgZnJhbWVEYXRhLCB7IGZyYW1lSWQ6ICtmcmFtZUlkIH0pKTtcbiAgICAgICAgaWYgKHRhc2tzLmxlbmd0aCA9PT0gMjApIGF3YWl0IFByb21pc2UuYWxsKHRhc2tzLnNwbGljZSgwKSk7IC8vIHRocm90dGxpbmdcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgYXdhaXQgUHJvbWlzZS5hbGwodGFza3MpO1xufVxuXG4vLyBSZXR1cm5zIHBlciB0YWIvZnJhbWUgZGF0YSB3aXRoIG9ubHkgdGhlIGNoYW5nZWQgdmFsdWVzXG5mdW5jdGlvbiBncm91cENhY2hlQnlGcmFtZShjYWNoZURhdGEpIHtcbiAgY29uc3QgdG9TZW5kID0ge307XG4gIGNhY2hlRGF0YTo6Zm9yRWFjaEVudHJ5KChbaWQsIHNjcmlwdERhdGFdKSA9PiB7XG4gICAgY29uc3QgZGF0YUVudHJpZXMgPSBPYmplY3QuZW50cmllcyhzY3JpcHREYXRhKTtcbiAgICBvcGVuZXJzW2lkXTo6Zm9yRWFjaEVudHJ5KChbdGFiSWQsIGZyYW1lc10pID0+IHtcbiAgICAgIGZyYW1lczo6Zm9yRWFjaEtleSgoZnJhbWVJZCkgPT4ge1xuICAgICAgICBkYXRhRW50cmllcy5mb3JFYWNoKChba2V5LCBoaXN0b3J5XSkgPT4ge1xuICAgICAgICAgIC8vIFNraXBwaW5nIHRoaXMgZnJhbWUgaWYgaXRzIGxhc3QgcmVjb3JkZWQgdmFsdWUgaXMgaWRlbnRpY2FsXG4gICAgICAgICAgaWYgKGhpc3RvcnkubGFzdCAhPT0gaGlzdG9yeVt0YWJJZF0/LltmcmFtZUlkXSkge1xuICAgICAgICAgICAgb2JqZWN0U2V0KHRvU2VuZCwgW3RhYklkLCBmcmFtZUlkLCBpZCwga2V5XSwgaGlzdG9yeS5sYXN0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuICByZXR1cm4gdG9TZW5kO1xufVxuXG4vLyBSZXR1cm5zIHBlciB0YWIvZnJhbWUgZGF0YVxuZnVuY3Rpb24gZ3JvdXBTdG9yZXNCeUZyYW1lKHN0b3Jlcykge1xuICBjb25zdCB0b1NlbmQgPSB7fTtcbiAgc3RvcmVzOjpmb3JFYWNoRW50cnkoKFtpZCwgc3RvcmVdKSA9PiB7XG4gICAgb3BlbmVyc1tpZF06OmZvckVhY2hFbnRyeSgoW3RhYklkLCBmcmFtZXNdKSA9PiB7XG4gICAgICBmcmFtZXM6OmZvckVhY2hLZXkoZnJhbWVJZCA9PiB7XG4gICAgICAgIG9iamVjdFNldCh0b1NlbmQsIFt0YWJJZCwgZnJhbWVJZCwgaWRdLCBzdG9yZSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG4gIHJldHVybiB0b1NlbmQ7XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBFdmVudEVtaXR0ZXIge1xuICBjb25zdHJ1Y3RvcihhbGxvd2VkKSB7XG4gICAgdGhpcy5ldmVudHMgPSB7fTtcbiAgICB0aGlzLmFsbG93ZWQgPSBhbGxvd2VkO1xuICB9XG5cbiAgY2hlY2tUeXBlKHR5cGUpIHtcbiAgICBpZiAodGhpcy5hbGxvd2VkICYmICF0aGlzLmFsbG93ZWQuaW5jbHVkZXModHlwZSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBldmVudCB0eXBlOiAke3R5cGV9YCk7XG4gICAgfVxuICB9XG5cbiAgb24odHlwZSwgaGFuZGxlKSB7XG4gICAgdGhpcy5jaGVja1R5cGUodHlwZSk7XG4gICAgY29uc3QgeyBldmVudHMgfSA9IHRoaXM7XG4gICAgbGV0IGhhbmRsZXJzID0gZXZlbnRzW3R5cGVdO1xuICAgIGlmICghaGFuZGxlcnMpIHtcbiAgICAgIGhhbmRsZXJzID0gW107XG4gICAgICBldmVudHNbdHlwZV0gPSBoYW5kbGVycztcbiAgICB9XG4gICAgcmV0dXJuICgpID0+IHRoaXMub2ZmKHR5cGUsIGhhbmRsZSk7XG4gIH1cblxuICBvZmYodHlwZSwgaGFuZGxlKSB7XG4gICAgdGhpcy5jaGVja1R5cGUodHlwZSk7XG4gICAgY29uc3QgaGFuZGxlcnMgPSB0aGlzLmV2ZW50c1t0eXBlXTtcbiAgICBpZiAoaGFuZGxlcnMpIHtcbiAgICAgIGNvbnN0IGkgPSBoYW5kbGVycy5pbmRleE9mKGhhbmRsZSk7XG4gICAgICBpZiAoaSA+PSAwKSBoYW5kbGVycy5zcGxpY2UoaSwgMSk7XG4gICAgfVxuICB9XG5cbiAgZW1pdCh0eXBlLCBkYXRhKSB7XG4gICAgdGhpcy5jaGVja1R5cGUodHlwZSk7XG4gICAgY29uc3QgaGFuZGxlcnMgPSB0aGlzLmV2ZW50c1t0eXBlXTtcbiAgICBpZiAoaGFuZGxlcnMpIHtcbiAgICAgIGNvbnN0IGV2dCA9IHtcbiAgICAgICAgdHlwZSxcbiAgICAgICAgZGF0YSxcbiAgICAgICAgZGVmYXVsdFByZXZlbnRlZDogZmFsc2UsXG4gICAgICAgIHByZXZlbnREZWZhdWx0KCkge1xuICAgICAgICAgIGV2dC5kZWZhdWx0UHJldmVudGVkID0gdHJ1ZTtcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgICBoYW5kbGVycy5zb21lKChoYW5kbGUpID0+IHtcbiAgICAgICAgaGFuZGxlKGV2dCk7XG4gICAgICAgIHJldHVybiBldnQuZGVmYXVsdFByZXZlbnRlZDtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHRsZGpzIGZyb20gJ3RsZGpzJztcbi8vIGltcG9ydCB7IGZyb21Vc2VyU2V0dGluZ3MgfSBmcm9tICd0bGRqcyc7XG4vLyBpbXBvcnQgVHJpZSBmcm9tICd0bGRqcy9saWIvc3VmZml4LXRyaWUnO1xuLy8gaW1wb3J0IHsgcmVxdWVzdCB9IGZyb20gJyMvY29tbW9uJztcblxuLy8gbGV0IHRsZGpzO1xuXG4vLyBleHBvcnQgZnVuY3Rpb24gaW5pdFRMRChyZW1vdGUpIHtcbi8vICAgLy8gVExEIHJ1bGVzIGFyZSB0b28gbGFyZ2UgdG8gYmUgcGFja2VkLCBkb3dubG9hZCB0aGVtIGF0IHJ1bnRpbWUuXG4vLyAgIGNvbnN0IHVybCA9ICdodHRwczovL3Zpb2xlbnRtb25rZXkudG9wL3N0YXRpYy90bGQtcnVsZXMuanNvbic7XG4vLyAgIGNvbnN0IGtleSA9ICdkYXQ6dGxkUnVsZXMnO1xuLy8gICBicm93c2VyLnN0b3JhZ2UubG9jYWwuZ2V0KGtleSlcbi8vICAgLnRoZW4oKHsgW2tleV06IHRsZFJ1bGVzIH0pID0+IHtcbi8vICAgICBpZiAodGxkUnVsZXMpIHJldHVybiB0bGRSdWxlcztcbi8vICAgICBpZiAoIXJlbW90ZSkgcmV0dXJuIFByb21pc2UucmVqZWN0KCdpZ25vcmUgVExEJyk7XG4vLyAgICAgcmV0dXJuIHJlcXVlc3QodXJsLCB7IHJlc3BvbnNlVHlwZTogJ2pzb24nIH0pXG4vLyAgICAgLnRoZW4oKHsgZGF0YTogcnVsZXMgfSkgPT4ge1xuLy8gICAgICAgY29uc29sZS5pbmZvKCdEb3dubG9hZGVkIHB1YmxpYyBzdWZmaXggZGF0YScpO1xuLy8gICAgICAgcmV0dXJuIGJyb3dzZXIuc3RvcmFnZS5sb2NhbC5zZXQoeyBba2V5XTogcnVsZXMgfSlcbi8vICAgICAgIC50aGVuKCgpID0+IHJ1bGVzKTtcbi8vICAgICB9KTtcbi8vICAgfSlcbi8vICAgLnRoZW4odGxkUnVsZXMgPT4ge1xuLy8gICAgIGNvbnNvbGUuaW5mbygnSW5pdGlhbGl6ZWQgVExEJyk7XG4vLyAgICAgdGxkanMgPSBmcm9tVXNlclNldHRpbmdzKHsgcnVsZXM6IFRyaWUuZnJvbUpzb24odGxkUnVsZXMpIH0pO1xuLy8gICB9KVxuLy8gICAuY2F0Y2goZXJyID0+IHtcbi8vICAgICBpZiAocHJvY2Vzcy5lbnYuREVCVUcpIGNvbnNvbGUuZXJyb3IoZXJyKTtcbi8vICAgICBjb25zb2xlLmluZm8oJ0ZhaWxlZCBpbml0aWFsaXppbmcgVExEJyk7XG4vLyAgIH0pO1xuLy8gfVxuZXhwb3J0IGZ1bmN0aW9uIGluaXRUTEQoKSB7fVxuXG5mdW5jdGlvbiBleHBvcnRNZXRob2Qoa2V5KSB7XG4gIHJldHVybiAoLi4uYXJncykgPT4gdGxkanMgJiYgdGxkanNba2V5XSguLi5hcmdzKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzUmVhZHkoKSB7XG4gIHJldHVybiAhIXRsZGpzO1xufVxuXG5leHBvcnQgY29uc3QgZ2V0RG9tYWluID0gZXhwb3J0TWV0aG9kKCdnZXREb21haW4nKTtcbmV4cG9ydCBjb25zdCBnZXRTdWJkb21haW4gPSBleHBvcnRNZXRob2QoJ2dldFN1YmRvbWFpbicpO1xuZXhwb3J0IGNvbnN0IGdldFB1YmxpY1N1ZmZpeCA9IGV4cG9ydE1ldGhvZCgnZ2V0UHVibGljU3VmZml4Jyk7XG4iXSwic291cmNlUm9vdCI6IiJ9